"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:(zo,ui,Ye)=>{Ye.d(ui,{BH:()=>Rt,G6:()=>Vr,L:()=>Mt,LL:()=>ee,Pz:()=>It,Sg:()=>Fi,UG:()=>J,ZB:()=>Te,ZR:()=>ie,aH:()=>rn,b$:()=>Lr,eu:()=>U,hl:()=>L,jU:()=>In,m9:()=>ul,ne:()=>Go,pd:()=>ll,r3:()=>ei,ru:()=>xn,tV:()=>te,uI:()=>hi,vZ:()=>Ho,w1:()=>yo,xO:()=>Ha,xb:()=>fr,z$:()=>dt,zd:()=>pr});const $e=function(D){const x=[];let T=0;for(let q=0;q<D.length;q++){let O=D.charCodeAt(q);O<128?x[T++]=O:O<2048?(x[T++]=O>>6|192,x[T++]=63&O|128):55296==(64512&O)&&q+1<D.length&&56320==(64512&D.charCodeAt(q+1))?(O=65536+((1023&O)<<10)+(1023&D.charCodeAt(++q)),x[T++]=O>>18|240,x[T++]=O>>12&63|128,x[T++]=O>>6&63|128,x[T++]=63&O|128):(x[T++]=O>>12|224,x[T++]=O>>6&63|128,x[T++]=63&O|128)}return x},Xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,x){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let O=0;O<D.length;O+=3){const se=D[O],ye=O+1<D.length,At=ye?D[O+1]:0,me=O+2<D.length,Gt=me?D[O+2]:0;let Di=(15&At)<<2|Gt>>6,Eo=63&Gt;me||(Eo=64,ye||(Di=64)),q.push(T[se>>2],T[(3&se)<<4|At>>4],T[Di],T[Eo])}return q.join("")},encodeString(D,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(D):this.encodeByteArray($e(D),x)},decodeString(D,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(D):function(D){const x=[];let T=0,q=0;for(;T<D.length;){const O=D[T++];if(O<128)x[q++]=String.fromCharCode(O);else if(O>191&&O<224){const se=D[T++];x[q++]=String.fromCharCode((31&O)<<6|63&se)}else if(O>239&&O<365){const me=((7&O)<<18|(63&D[T++])<<12|(63&D[T++])<<6|63&D[T++])-65536;x[q++]=String.fromCharCode(55296+(me>>10)),x[q++]=String.fromCharCode(56320+(1023&me))}else{const se=D[T++],ye=D[T++];x[q++]=String.fromCharCode((15&O)<<12|(63&se)<<6|63&ye)}}return x.join("")}(this.decodeStringToByteArray(D,x))},decodeStringToByteArray(D,x){this.init_();const T=x?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let O=0;O<D.length;){const se=T[D.charAt(O++)],At=O<D.length?T[D.charAt(O)]:0;++O;const Gt=O<D.length?T[D.charAt(O)]:64;++O;const gt=O<D.length?T[D.charAt(O)]:64;if(++O,null==se||null==At||null==Gt||null==gt)throw new Rn;q.push(se<<2|At>>4),64!==Gt&&(q.push(At<<4&240|Gt>>2),64!==gt&&q.push(Gt<<6&192|gt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class Rn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(D){return function(D){const x=$e(D);return Xe.encodeByteArray(x,!0)}(D).replace(/\./g,"")},te=function(D){try{return Xe.decodeString(D,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function Te(D,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return x}for(const T in x)!x.hasOwnProperty(T)||!ot(T)||(D[T]=Te(D[T],x[T]));return D}function ot(D){return"__proto__"!==D}const lt=()=>{try{return function Et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=D&&te(D[1]);return x&&JSON.parse(x)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},rn=()=>{var D;return null===(D=lt())||void 0===D?void 0:D.config},It=D=>{var x;return null===(x=lt())||void 0===x?void 0:x[`_${D}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,T)=>{this.resolve=x,this.reject=T})}wrapCallback(x){return(T,q)=>{T?this.reject(T):this.resolve(q),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(T):x(T,q))}}}function Fi(D,x){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=x||"demo-project",O=D.iat||0,se=D.sub||D.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:O,exp:O+3600,auth_time:O,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},D);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(ye)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function J(){var D;const x=null===(D=lt())||void 0===D?void 0:D.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function In(){return"object"==typeof self&&self.self===self}function xn(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Lr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yo(){const D=dt();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Vr(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){try{return"object"==typeof indexedDB}catch{return!1}}function U(){return new Promise((D,x)=>{try{let T=!0;const q="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(q);O.onsuccess=()=>{O.result.close(),T||self.indexedDB.deleteDatabase(q),D(!0)},O.onupgradeneeded=()=>{T=!1},O.onerror=()=>{var se;x((null===(se=O.error)||void 0===se?void 0:se.message)||"")}}catch(T){x(T)}})}class ie extends Error{constructor(x,T,q){super(T),this.code=x,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(x,T,q){this.service=x,this.serviceName=T,this.errors=q}create(x,...T){const q=T[0]||{},O=`${this.service}/${x}`,se=this.errors[x],ye=se?function Oe(D,x){return D.replace(ft,(T,q)=>{const O=x[q];return null!=O?String(O):`<${q}?>`})}(se,q):"Error";return new ie(O,`${this.serviceName}: ${ye} (${O}).`,q)}}const ft=/\{\$([^}]+)}/g;function ei(D,x){return Object.prototype.hasOwnProperty.call(D,x)}function fr(D){for(const x in D)if(Object.prototype.hasOwnProperty.call(D,x))return!1;return!0}function Ho(D,x){if(D===x)return!0;const T=Object.keys(D),q=Object.keys(x);for(const O of T){if(!q.includes(O))return!1;const se=D[O],ye=x[O];if(mr(se)&&mr(ye)){if(!Ho(se,ye))return!1}else if(se!==ye)return!1}for(const O of q)if(!T.includes(O))return!1;return!0}function mr(D){return null!==D&&"object"==typeof D}function Ha(D){const x=[];for(const[T,q]of Object.entries(D))Array.isArray(q)?q.forEach(O=>{x.push(encodeURIComponent(T)+"="+encodeURIComponent(O))}):x.push(encodeURIComponent(T)+"="+encodeURIComponent(q));return x.length?"&"+x.join("&"):""}function pr(D){const x={};return D.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[O,se]=q.split("=");x[decodeURIComponent(O)]=decodeURIComponent(se)}}),x}function ll(D){const x=D.indexOf("?");if(!x)return"";const T=D.indexOf("#",x);return D.substring(x,T>0?T:void 0)}function Go(D,x){const T=new bo(D,x);return T.subscribe.bind(T)}class bo{constructor(x,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{x(this)}).catch(q=>{this.error(q)})}next(x){this.forEachObserver(T=>{T.next(x)})}error(x){this.forEachObserver(T=>{T.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,T,q){let O;if(void 0===x&&void 0===T&&void 0===q)throw new Error("Missing Observer.");O=function wo(D,x){if("object"!=typeof D||null===D)return!1;for(const T of x)if(T in D&&"function"==typeof D[T])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:T,complete:q},void 0===O.next&&(O.next=bs),void 0===O.error&&(O.error=bs),void 0===O.complete&&(O.complete=bs);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),se}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,x)}sendOne(x,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{T(this.observers[x])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bs(){}function ul(D){return D&&D._delegate?D._delegate:D}},932:(zo,ui,Ye)=>{let xe=null,$e=1;function Xe(n){const e=xe;return xe=n,e}function ot(n){if((!Rt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==$e)){if(!n.producerMustRecompute(n)&&!zn(n))return n.dirty=!1,void(n.lastCleanEpoch=$e);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=$e}}function zn(n){Fi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(ot(t),i!==t.version))return!0}return!1}function It(n,e){if(function dt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Fi(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)It(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Fi(r),r.producerIndexOfThis[i]=e}}function Rt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Fi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let yo=null;function Pe(n){return"function"==typeof n}function fi(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const $n=fi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ei(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Nt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Pe(i))try{i()}catch(o){e=o instanceof $n?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Ho(o)}catch(s){e=e??[],s instanceof $n?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $n(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ho(e);else{if(e instanceof Nt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ei(t,e)}remove(e){const{_finalizers:t}=this;t&&ei(t,e),e instanceof Nt&&e._removeParent(this)}}Nt.EMPTY=(()=>{const n=new Nt;return n.closed=!0,n})();const fr=Nt.EMPTY;function cl(n){return n instanceof Nt||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function Ho(n){Pe(n)?n():n.unsubscribe()}const mr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qo={setTimeout(n,e,...t){const{delegate:i}=qo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=qo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ha(n){qo.setTimeout(()=>{const{onUnhandledError:e}=mr;if(!e)throw n;e(n)})}function pr(){}const ll=bo("C",void 0,void 0);function bo(n,e,t){return{kind:n,value:e,error:t}}let Yi=null;function wo(n){if(mr.useDeprecatedSynchronousErrorHandling){const e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Yi;if(Yi=null,t)throw i}}else n()}class ws extends Nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cl(e)&&e.add(this)):this.destination=Ga}static create(e,t,i){return new Ci(e,t,i)}next(e){this.isStopped?qa(function Go(n){return bo("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qa(function gr(n){return bo("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qa(ll,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Wo=Function.prototype.bind;function Zo(n,e){return Wo.call(n,e)}class Br{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ko(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ko(i)}else Ko(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ko(t)}}}class Ci extends ws{constructor(e,t,i){let r;if(super(),Pe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&mr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Zo(e.next,o),error:e.error&&Zo(e.error,o),complete:e.complete&&Zo(e.complete,o)}):r=e}this.destination=new Br(r)}}function Ko(n){mr.useDeprecatedSynchronousErrorHandling?function bs(n){mr.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}(n):Ha(n)}function qa(n,e){const{onStoppedNotification:t}=mr;t&&qo.setTimeout(()=>t(n,e))}const Ga={closed:!0,next:pr,error:function dl(n){throw n},complete:pr},Jr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ti(n){return n}function oa(n){return 0===n.length?Ti:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let vt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function D(n){return n&&n instanceof ws||function ul(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&cl(n)}(t)?t:new Ci(t,i,r);return wo(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Wa(i))((r,o)=>{const s=new Ci({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Jr](){return this}pipe(...t){return oa(t)(this)}toPromise(t){return new(t=Wa(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Wa(n){var e;return null!==(e=n??mr.Promise)&&void 0!==e?e:Promise}const x=fi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let T=(()=>{class n extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new q(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new x}next(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?fr:(this.currentObservers=null,o.push(t),new Nt(()=>{this.currentObservers=null,ei(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new vt;return t.source=this,t}}return n.create=(e,t)=>new q(e,t),n})();class q extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:fr}}function O(n){return Pe(n?.lift)}function se(n){return e=>{if(O(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,i,r){return new At(n,e,t,i,r)}class At extends ws{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(n,e){return se((t,i)=>{let r=0;t.subscribe(ye(i,o=>{i.next(n.call(e,o,r++))}))})}var Gt=Ye(582);const Li=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function gt(n){return Pe(n?.then)}function Di(n){return Pe(n[Jr])}function Eo(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function Is(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $=function sa(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function N(n){return Pe(n?.[$])}function oe(n){return(0,Gt.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Gt.qq)(t.read());if(r)return yield(0,Gt.qq)(void 0);yield yield(0,Gt.qq)(i)}}finally{t.releaseLock()}})}function Se(n){return Pe(n?.getReader)}function Ae(n){if(n instanceof vt)return n;if(null!=n){if(Di(n))return function ht(n){return new vt(e=>{const t=n[Jr]();if(Pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Li(n))return function Ot(n){return new vt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(gt(n))return function Ai(n){return new vt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ha)})}(n);if(Eo(n))return Qo(n);if(N(n))return function Nn(n){return new vt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Se(n))return function hl(n){return Qo(oe(n))}(n)}throw Is(n)}function Qo(n){return new vt(e=>{(function Kf(n,e){var t,i,r,o;return(0,Gt.mG)(this,void 0,void 0,function*(){try{for(t=(0,Gt.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Yo(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function mi(n,e,t=1/0){return Pe(e)?mi((i,r)=>me((o,s)=>e(i,o,r,s))(Ae(n(i,r))),t):("number"==typeof e&&(t=e),se((i,r)=>function cE(n,e,t,i,r,o,s,a){const c=[];let d=0,h=0,p=!1;const g=()=>{p&&!c.length&&!d&&e.complete()},v=w=>d<i?b(w):c.push(w),b=w=>{o&&e.next(w),d++;let E=!1;Ae(t(w,h++)).subscribe(ye(e,S=>{r?.(S),o?v(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;c.length&&d<i;){const S=c.shift();s?Yo(e,s,()=>b(S)):b(S)}g()}catch(S){e.error(S)}}))};return n.subscribe(ye(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Ft(n=1/0){return mi(Ti,n)}const eo=new vt(n=>n.complete());function Yf(n){return n&&Pe(n.schedule)}function Xf(n){return n[n.length-1]}function L_(n){return Pe(Xf(n))?n.pop():void 0}function fl(n){return Yf(Xf(n))?n.pop():void 0}function xs(n,e=0){return se((t,i)=>{t.subscribe(ye(i,r=>Yo(i,n,()=>i.next(r),e),()=>Yo(i,n,()=>i.complete(),e),r=>Yo(i,n,()=>i.error(r),e)))})}function Cs(n,e=0){return se((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function B_(n,e){if(!n)throw new Error("Iterable cannot be null");return new vt(t=>{Yo(t,e,()=>{const i=n[Symbol.asyncIterator]();Yo(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function $t(n,e){return e?function U_(n,e){if(null!=n){if(Di(n))return function Jd(n,e){return Ae(n).pipe(Cs(e),xs(e))}(n,e);if(Li(n))return function lE(n,e){return new vt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(gt(n))return function Jf(n,e){return Ae(n).pipe(Cs(e),xs(e))}(n,e);if(Eo(n))return B_(n,e);if(N(n))return function em(n,e){return new vt(t=>{let i;return Yo(t,e,()=>{i=n[$](),Yo(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Pe(i?.return)&&i.return()})}(n,e);if(Se(n))return function dE(n,e){return B_(oe(n),e)}(n,e)}throw Is(n)}(n,e):Ae(n)}function eu(...n){const e=fl(n),t=function V_(n,e){return"number"==typeof Xf(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Ae(i[0]):Ft(t)($t(i,e)):eo}class Xi extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Ie(...n){return $t(n,fl(n))}function Xo(n={}){const{connector:e=(()=>new T),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return se((w,E)=>{d++,!p&&!h&&g();const S=c=c??e();E.add(()=>{d--,0===d&&!p&&!h&&(a=tu(b,r))}),S.subscribe(E),!s&&d>0&&(s=new Ci({next:A=>S.next(A),error:A=>{p=!0,g(),a=tu(v,t,A),S.error(A)},complete:()=>{h=!0,g(),a=tu(v,i),S.complete()}}),Ae(w).subscribe(s))})(o)}}function tu(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return Ae(e(...t)).subscribe(i)}function dn(n,e){return se((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(ye(i,c=>{r?.unsubscribe();let d=0;const h=o++;Ae(n(c,h)).subscribe(r=ye(i,p=>i.next(e?e(c,p,h,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ml(n,e=Ti){return n=n??tm,se((t,i)=>{let r,o=!0;t.subscribe(ye(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function tm(n,e){return n===e}function Lt(n){for(let e in n)if(n[e]===Lt)return e;throw Error("Could not find renamed property on target object.")}function Za(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function On(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(On).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function pl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const im=Lt({__forward_ref__:Lt});function Vt(n){return n.__forward_ref__=Vt,n.toString=function(){return On(this())},n}function Fe(n){return nu(n)?n():n}function nu(n){return"function"==typeof n&&n.hasOwnProperty(im)&&n.__forward_ref__===Vt}function gl(n){return n&&!!n.\u0275providers}const iu="https://g.co/ng/security#xss";class B extends Error{constructor(e,t){super(function Ts(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const _l=Lt({\u0275cmp:Lt}),vl=Lt({\u0275dir:Lt}),rm=Lt({\u0275pipe:Lt}),ru=Lt({\u0275mod:Lt}),_r=Lt({\u0275fac:Lt}),vr=Lt({__NG_ELEMENT_ID__:Lt}),ou=Lt({__NG_ENV_ID__:Lt});function Ze(n){return"string"==typeof n?n:null==n?"":String(n)}function yl(n,e){throw new B(-201,!1)}function Vi(n,e){null==n&&function Le(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bi(n){return H_(n,El)||H_(n,q_)}function H_(n,e){return n.hasOwnProperty(e)?n[e]:null}function aa(n){return n&&(n.hasOwnProperty(au)||n.hasOwnProperty(lm))?n[au]:null}const El=Lt({\u0275prov:Lt}),au=Lt({\u0275inj:Lt}),q_=Lt({ngInjectableDef:Lt}),lm=Lt({ngInjectorDef:Lt});var st=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(st||{});let Il;function xl(){return Il}function Si(n){const e=Il;return Il=n,e}function dm(n,e,t){const i=Bi(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&st.Optional?null:void 0!==e?e:void yl(On(n))}const Wt=globalThis;class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const As={},Al="__NG_DI_FLAG__",Ya="ngTempTokenPath",fm=/\n/gm,du="__source";let Xa;function es(n){const e=Xa;return Xa=n,e}function pm(n,e=st.Default){if(void 0===Xa)throw new B(-203,!1);return null===Xa?dm(n,void 0,e):Xa.get(n,e&st.Optional?null:void 0,e)}function j(n,e=st.Default){return(xl()||pm)(Fe(n),e)}function ce(n,e=st.Default){return j(n,Ja(e))}function Ja(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gm(n){const e=[];for(let t=0;t<n.length;t++){const i=Fe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new B(900,!1);let r,o=st.Default;for(let s=0;s<i.length;s++){const a=i[s],c=_m(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(j(r,o))}else e.push(j(i))}return e}function Sl(n,e){return n[Al]=e,n.prototype[Al]=e,n}function _m(n){return n[Al]}function to(n){return{toString:n}.toString()}var hu=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(hu||{}),br=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(br||{});const Io={},yt=[];function Y_(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ml(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];fu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function X_(n){return 3===n||4===n||6===n}function fu(n){return 64===n.charCodeAt(0)}function kl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||mu(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function mu(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const J_="ng-template";function vm(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==Y_(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function ev(n){return 4===n.type&&n.value!==J_}function bE(n,e,t){return e===(4!==n.type||t?n.value:J_)}function tv(n,e,t){let i=4;const r=n.attrs||[],o=function EE(n){for(let e=0;e<n.length;e++)if(X_(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!bE(n,c,t)||""===c&&1===e.length){if(wr(i))return!1;s=!0}}else{const d=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!vm(n.attrs,d,t)){if(wr(i))return!1;s=!0}continue}const p=wE(8&i?"class":c,r,ev(n),t);if(-1===p){if(wr(i))return!1;s=!0;continue}if(""!==d){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==Y_(v,d,0)||2&i&&d!==g){if(wr(i))return!1;s=!0}}}}else{if(!s&&!wr(i)&&!wr(c))return!1;if(s&&wr(c))continue;s=!1,i=c|1&i}}return wr(i)||s}function wr(n){return 0==(1&n)}function wE(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function IE(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function ca(n,e,t=!1){for(let i=0;i<e.length;i++)if(tv(n,e[i],t))return!0;return!1}function xE(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function iv(n,e){return n?":not("+e.trim()+")":e}function CE(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!wr(s)&&(e+=iv(o,r),r=""),i=s,o=o||!wr(i);t++}return""!==r&&(e+=iv(o,r)),e}function Hn(n){return to(()=>{const e=rv(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||br.Emulated,styles:n.styles||yt,_:null,schemas:n.schemas||null,tView:null,id:""};ov(t);const i=n.dependencies;return t.directiveDefs=pu(i,!1),t.pipeDefs=pu(i,!0),t.id=function AE(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function ym(n){return ut(n)||ti(n)}function TE(n){return null!==n}function Zt(n){return to(()=>({type:n.type,bootstrap:n.bootstrap||yt,declarations:n.declarations||yt,imports:n.imports||yt,exports:n.exports||yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DE(n,e){if(null==n)return Io;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Ne(n){return to(()=>{const e=rv(n);return ov(e),e})}function ut(n){return n[_l]||null}function ti(n){return n[vl]||null}function qn(n){return n[rm]||null}function ni(n,e){const t=n[ru]||null;if(!t&&!0===e)throw new Error(`Type ${On(n)} does not have '\u0275mod' property.`);return t}function rv(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Io,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DE(n.inputs,e),outputs:DE(n.outputs),debugInfo:null}}function ov(n){n.features?.forEach(e=>e(n))}function pu(n,e){if(!n)return null;const t=e?qn:ym;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(TE)}const Cn=0,le=1,Be=2,un=3,er=4,pi=5,xo=6,ec=7,en=8,tr=9,ts=10,Ke=11,Ur=12,sv=13,tc=14,Kt=15,Rl=16,on=17,Co=18,la=19,av=20,To=21,gu=22,da=23,Ue=25,bm=1,Pl=2,_u=6,nr=7,nc=9,Tn=11;function Gn(n){return Array.isArray(n)&&"object"==typeof n[bm]}function ii(n){return Array.isArray(n)&&!0===n[bm]}function Nl(n){return 0!=(4&n.flags)}function Ss(n){return n.componentOffset>-1}function vu(n){return 1==(1&n.flags)}function no(n){return!!n.template}function cv(n){return 0!=(512&n[Be])}function ns(n,e){return n.hasOwnProperty(_r)?n[_r]:null}class RE{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ui(){return Ol}function Ol(n){return n.type.prototype.ngOnChanges&&(n.setInput=PE),xm}function xm(){const n=rc(this),e=n?.current;if(e){const t=n.previous;if(t===Io)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function PE(n,e,t,i){const r=this.declaredInputs[t],o=rc(n)||function fa(n,e){return n[yu]=e}(n,{previous:Io,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new RE(c&&c.currentValue,e,a===Io),n[i]=e}Ui.ngInherit=!0;const yu="__ngSimpleChanges__";function rc(n){return n[yu]||null}const Do=function(n,e,t){};function Qt(n){for(;Array.isArray(n);)n=n[Cn];return n}function Ll(n,e){return Qt(e[n])}function gi(n,e){return Qt(e[n.index])}function ma(n,e){return n.data[e]}function ji(n,e){const t=e[n];return Gn(t)?t:t[Cn]}function Dm(n){return 128==(128&n[Be])}function Ao(n,e){return null==e?null:n[e]}function gv(n){n[on]=0}function Am(n){1024&n[Be]||(n[Be]|=1024,Dm(n)&&Iu(n))}function Eu(n){9216&n[Be]&&Iu(n)}function Iu(n){let e=n[un];for(;null!==e&&!(ii(e)&&e[_u]||Gn(e)&&8192&e[Be]);){if(ii(e))e[_u]=!0;else if(e[Be]|=8192,!Dm(e))break;e=e[un]}}function sc(n,e){if(256==(256&n[Be]))throw new B(911,!1);null===n[To]&&(n[To]=[]),n[To].push(e)}const je={lFrame:Iv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Cu(){return je.bindingsEnabled}function ac(){return null!==je.skipHydrationRootTNode}function H(){return je.lFrame.lView}function mt(){return je.lFrame.tView}function bt(n){return je.lFrame.contextLView=n,n[en]}function Ct(n){return je.lFrame.contextLView=null,n}function Bt(){let n=Rm();for(;null!==n&&64===n.type;)n=n.parent;return n}function Rm(){return je.lFrame.currentTNode}function So(n,e){const t=je.lFrame;t.currentTNode=n,t.isParent=e}function Du(){return je.lFrame.isParent}function Bl(){je.lFrame.isParent=!1}function io(){return je.lFrame.bindingIndex++}function rs(n){const e=je.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function jE(n,e){const t=je.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pm(e)}function Pm(n){je.lFrame.currentDirectiveIndex=n}function Nm(n){const e=je.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function wv(){return je.lFrame.currentQueryIndex}function Om(n){je.lFrame.currentQueryIndex=n}function $E(n){const e=n[le];return 2===e.type?e.declTNode:1===e.type?n[pi]:null}function Su(n,e,t){if(t&st.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&st.Host||(r=$E(o),null===r||(o=o[tc],10&r.type))););if(null===r)return!1;e=r,n=o}const i=je.lFrame=Ev();return i.currentTNode=e,i.lView=n,!0}function Fm(n){const e=Ev(),t=n[le];je.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ev(){const n=je.lFrame,e=null===n?null:n.child;return null===e?Iv(n):e}function Iv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function xv(){const n=je.lFrame;return je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Cv=xv;function Mu(){const n=xv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zi(){return je.lFrame.selectedIndex}function pa(n){je.lFrame.selectedIndex=n}function sn(){const n=je.lFrame;return ma(n.tView,n.selectedIndex)}let Dv=!0;function Ul(){return Dv}function Ms(n){Dv=n}function Pu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Bm(n,e,t){jl(n,e,3,t)}function lc(n,e,t,i){(3&n[Be])===t&&jl(n,e,t,i)}function Nu(n,e){let t=n[Be];(3&t)===e&&(t&=16383,t+=1,n[Be]=t)}function jl(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[on]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[on]+=65536),(a<o||-1==o)&&(Av(n,t,e,c),n[on]=(4294901760&n[on])+c+2),c++}function Um(n,e){Do(4,n,e);const t=Xe(null);try{e.call(n)}finally{Xe(t),Do(5,n,e)}}function Av(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Be]>>14<n[on]>>16&&(3&n[Be])===e&&(n[Be]+=16384,Um(a,o)):Um(a,o)}const dc=-1;class zl{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function zm(n){return n!==dc}function $l(n){return 32767&n}function Hl(n,e){let t=function $m(n){return n>>16}(n),i=e;for(;t>0;)i=i[tc],t--;return i}let ql=!0;function Ou(n){const e=ql;return ql=n,e}const Fu=255,Mv=5;let KE=0;const jr={};function Lu(n,e){const t=kv(n,e);if(-1!==t)return t;const i=e[le];i.firstCreatePass&&(n.injectorIndex=e.length,Hm(i.data,n),Hm(e,null),Hm(i.blueprint,null));const r=Vu(n,e),o=n.injectorIndex;if(zm(r)){const s=$l(r),a=Hl(r,e),c=a[le].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function Hm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Vu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Gm(r),null===i)return dc;if(t++,r=r[tc],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return dc}function Bu(n,e,t){!function QE(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(vr)&&(i=t[vr]),null==i&&(i=t[vr]=KE++);const r=i&Fu;e.data[n+(r>>Mv)]|=1<<r}(n,e,t)}function Rv(n,e,t){if(t&st.Optional||void 0!==n)return n;yl()}function Pv(n,e,t,i){if(t&st.Optional&&void 0===i&&(i=null),!(t&(st.Self|st.Host))){const r=n[tr],o=Si(void 0);try{return r?r.get(e,i,t&st.Optional):dm(e,i,t&st.Optional)}finally{Si(o)}}return Rv(i,0,t)}function Uu(n,e,t,i=st.Default,r){if(null!==n){if(2048&e[Be]&&!(i&st.Self)){const s=function eI(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Be]&&!(512&s[Be]);){const a=ju(o,s,t,i|st.Self,jr);if(a!==jr)return a;let c=o.parent;if(!c){const d=s[av];if(d){const h=d.get(t,jr,i);if(h!==jr)return h}c=Gm(s),s=s[tc]}o=c}return r}(n,e,t,i,jr);if(s!==jr)return s}const o=ju(n,e,t,i,jr);if(o!==jr)return o}return Pv(e,t,i,r)}function ju(n,e,t,i,r){const o=function XE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(vr)?n[vr]:void 0;return"number"==typeof e?e>=0?e&Fu:JE:e}(t);if("function"==typeof o){if(!Su(e,n,i))return i&st.Host?Rv(r,0,i):Pv(e,t,i,r);try{let s;if(s=o(i),null!=s||i&st.Optional)return s;yl()}finally{Cv()}}else if("number"==typeof o){let s=null,a=kv(n,e),c=dc,d=i&st.Host?e[Kt][pi]:null;for((-1===a||i&st.SkipSelf)&&(c=-1===a?Vu(n,e):e[a+8],c!==dc&&Ov(i,!1)?(s=e[le],a=$l(c),e=Hl(c,e)):a=-1);-1!==a;){const h=e[le];if(Nv(o,a,h.data)){const p=YE(a,e,t,s,i,d);if(p!==jr)return p}c=e[a+8],c!==dc&&Ov(i,e[le].data[a+8]===d)&&Nv(o,a,e)?(s=h,a=$l(c),e=Hl(c,e)):a=-1}}return r}function YE(n,e,t,i,r,o){const s=e[le],a=s.data[n+8],h=zu(a,s,t,null==i?Ss(a)&&ql:i!=s&&0!=(3&a.type),r&st.Host&&o===a);return null!==h?Mo(e,s,h,a):jr}function zu(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&no(v)&&v.type===t)return c}return null}function Mo(n,e,t,i){let r=n[t];const o=e.data;if(function GE(n){return n instanceof zl}(r)){const s=r;s.resolving&&function uE(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,`Circular dependency in DI detected for ${n}${t}`)}(function it(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ze(n)}(o[t]));const a=Ou(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Si(s.injectImpl):null;Su(n,i,st.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Vm(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Ol(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&Si(d),Ou(a),s.resolving=!1,Cv()}}return r}function Nv(n,e,t){return!!(t[e+(n>>Mv)]&1<<n)}function Ov(n,e){return!(n&st.Self||n&st.Host&&e)}class Wn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Uu(this._tNode,this._lView,e,Ja(i),t)}}function JE(){return new Wn(Bt(),H())}function Dn(n){return to(()=>{const e=n.prototype.constructor,t=e[_r]||_a(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[_r]||_a(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function _a(n){return nu(n)?()=>{const e=_a(Fe(n));return e&&e()}:ns(n)}function Gm(n){const e=n[le],t=e.type;return 2===t?e.declTNode:1===t?n[pi]:null}const mc="__parameters__";function ks(n,e,t){return to(()=>{const i=function Gl(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,d,h){const p=c.hasOwnProperty(mc)?c[mc]:Object.defineProperty(c,mc,{value:[]})[mc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function gc(n,e){n.forEach(t=>Array.isArray(t)?gc(t,e):e(t))}function Vv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ri(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function vi(n,e,t){let i=va(n,e);return i>=0?n[1|i]=t:(i=~i,function Uv(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function qu(n,e){const t=va(n,e);if(t>=0)return n[1|t]}function va(n,e){return function Gu(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const y=Sl(ks("Optional"),8),M=Sl(ks("SkipSelf"),4),Ns=new X("ENVIRONMENT_INITIALIZER"),Hv=new X("INJECTOR",-1),fI=new X("INJECTOR_DEF_TYPES");class qv{get(e,t=As){if(t===As){const i=new Error(`NullInjectorError: No provider for ${On(e)}!`);throw i.name="NullInjectorError",i}return t}}function W$(...n){return{\u0275providers:kk(0,n),\u0275fromNgModule:!0}}function kk(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return gc(e,s=>{const a=s;Gv(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Rk(r,o),t}function Rk(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];pI(r,o=>{e(o,i)})}}function Gv(n,e,t,i){if(!(n=Fe(n)))return!1;let r=null,o=aa(n);const s=!o&&ut(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=aa(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)Gv(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{gc(o.imports,h=>{Gv(h,e,t,i)&&(d||=[],d.push(h))})}finally{}void 0!==d&&Rk(d,e)}if(!a){const d=ns(r)||(()=>new r);e({provide:r,useFactory:d,deps:yt},r),e({provide:fI,useValue:r,multi:!0},r),e({provide:Ns,useValue:()=>j(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const d=n;pI(c,h=>{e(h,d)})}}}return r!==n&&void 0!==n.providers}function pI(n,e){for(let t of n)gl(t)&&(t=t.\u0275providers),Array.isArray(t)?pI(t,e):e(t)}const Z$=Lt({provide:String,useValue:Lt});function gI(n){return null!==n&&"object"==typeof n&&Z$ in n}function Kl(n){return"function"==typeof n}const _I=new X("Set Injector scope."),Wv={},Q$={};let vI;function Zv(){return void 0===vI&&(vI=new qv),vI}class oo{}class Ql extends oo{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bI(e,s=>this.processProvider(s)),this.records.set(Hv,Ku(void 0,this)),r.has("environment")&&this.records.set(oo,Ku(void 0,this));const o=this.records.get(_I);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fI,yt,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=es(this),i=Si(void 0);try{return e()}finally{es(t),Si(i)}}get(e,t=As,i=st.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ou))return e[ou](this);i=Ja(i);const o=es(this),s=Si(void 0);try{if(!(i&st.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function tH(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&Bi(e);c=d&&this.injectableDefInScope(d)?Ku(yI(e),Wv):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&st.Self?Zv():this.parent).get(e,t=i&st.Optional&&t===As?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ya]=a[Ya]||[]).unshift(On(e)),o)throw a;return function vE(n,e,t,i){const r=n[Ya];throw e[du]&&r.unshift(e[du]),n.message=function yE(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=On(e);if(Array.isArray(e))r=e.map(On).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):On(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(fm,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Ya]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Si(s),es(o)}}resolveInjectorInitializers(){const e=es(this),t=Si(void 0);try{const r=this.get(Ns,yt,st.Self);for(const o of r)o()}finally{es(e),Si(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(On(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){let t=Kl(e=Fe(e))?e:Fe(e&&e.provide);const i=function X$(n){return gI(n)?Ku(void 0,n.useValue):Ku(Ok(n),Wv)}(e);if(Kl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ku(void 0,Wv,!0),r.factory=()=>gm(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Wv&&(t.value=Q$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function eH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Fe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function yI(n){const e=Bi(n),t=null!==e?e.factory:ns(n);if(null!==t)return t;if(n instanceof X)throw new B(204,!1);if(n instanceof Function)return function Y$(n){const e=n.length;if(e>0)throw ri(e,"?"),new B(204,!1);const t=function cm(n){return n&&(n[El]||n[q_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new B(204,!1)}function Ok(n,e,t){let i;if(Kl(n)){const r=Fe(n);return ns(r)||yI(r)}if(gI(n))i=()=>Fe(n.useValue);else if(function Nk(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...gm(n.deps||[]));else if(function Pk(n){return!(!n||!n.useExisting)}(n))i=()=>j(Fe(n.useExisting));else{const r=Fe(n&&(n.useClass||n.provide));if(!function J$(n){return!!n.deps}(n))return ns(r)||yI(r);i=()=>new r(...gm(n.deps))}return i}function Ku(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function bI(n,e){for(const t of n)Array.isArray(t)?bI(t,e):t&&gl(t)?bI(t.\u0275providers,e):e(t)}function Bk(n,e=null,t=null,i){const r=Uk(n,e,t,i);return r.resolveInjectorInitializers(),r}function Uk(n,e=null,t=null,i,r=new Set){const o=[t||yt,W$(n)];return i=i||("object"==typeof n?void 0:On(n)),new Ql(o,e||Zv(),i||null,r)}let II,Ir=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=As;static#t=this.NULL=new qv;static create(t,i){if(Array.isArray(t))return Bk({name:""},i,t,"");{const r=t.name??"";return Bk({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ue({token:n,providedIn:"any",factory:()=>j(Hv)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const Qv=new X("AppId",{providedIn:"root",factory:()=>uH}),uH="ng",zk=new X("Platform Initializer"),os=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ym=new X("AnimationModuleType"),xI=new X("CSP nonce",{providedIn:"root",factory:()=>function vc(){if(void 0!==II)return II;if(typeof document<"u")return document;throw new B(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function so(n){return n instanceof Function?n():n}function ey(n){return 128==(128&n.flags)}var wc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(wc||{});const wH=/^>|^->|<!--|-->|--!>|<!-$/g,EH=/(<|>)/g,IH="\u200b$1\u200b";const SI=new Map;let xH=0;const kI="__ngContext__";function rr(n,e){Gn(e)?(n[kI]=e[la],function TH(n){SI.set(n[la],n)}(e)):n[kI]=e}let RI;function PI(n,e){return RI(n,e)}function tp(n){const e=n[un];return ii(e)?e[un]:e}function sR(n){return cR(n[Ur])}function aR(n){return cR(n[er])}function cR(n){for(;null!==n&&!ii(n);)n=n[er];return n}function Yu(n,e,t,i,r){if(null!=i){let o,s=!1;ii(i)?o=i:Gn(i)&&(s=!0,i=i[Cn]);const a=Qt(i);0===n&&null!==t?null==r?hR(e,t,a):Yl(e,t,a,r||null,!0):1===n&&null!==t?Yl(e,t,a,r||null,!0):2===n?function ay(n,e,t){const i=oy(n,e);i&&function qH(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function ZH(n,e,t,i,r){const o=t[nr];o!==Qt(t)&&Yu(e,n,i,o,r);for(let a=Tn;a<t.length;a++){const c=t[a];rp(c[le],c,n,e,i,o)}}(e,n,o,t,r)}}function NI(n,e){return n.createComment(function Xk(n){return n.replace(wH,e=>e.replace(EH,IH))}(e))}function iy(n,e,t){return n.createElement(e,t)}function dR(n,e){const t=n[nc],i=t.indexOf(e);t.splice(i,1)}function np(n,e){if(n.length<=Tn)return;const t=Tn+e,i=n[t];if(i){const r=i[Rl];null!==r&&r!==n&&dR(r,i),e>0&&(n[t-1][er]=i[er]);const o=Wl(n,Tn+e);!function LH(n,e){rp(n,e,e[Ke],2,null,null),e[Cn]=null,e[pi]=null}(i[le],i);const s=o[Co];null!==s&&s.detachView(o[le]),i[un]=null,i[er]=null,i[Be]&=-129}return i}function ry(n,e){if(!(256&e[Be])){const t=e[Ke];e[da]&&function xi(n){if(Fi(n),Rt(n))for(let e=0;e<n.producerNode.length;e++)It(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[da]),t.destroyNode&&rp(n,e,t,3,null,null),function UH(n){let e=n[Ur];if(!e)return OI(n[le],n);for(;e;){let t=null;if(Gn(e))t=e[Ur];else{const i=e[Tn];i&&(t=i)}if(!t){for(;e&&!e[er]&&e!==n;)Gn(e)&&OI(e[le],e),e=e[un];null===e&&(e=n),Gn(e)&&OI(e[le],e),t=e&&e[er]}e=t}}(e)}}function OI(n,e){if(!(256&e[Be])){e[Be]&=-129,e[Be]|=256,function HH(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof zl)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Do(4,a,c);try{c.call(a)}finally{Do(5,a,c)}}else{Do(4,r,o);try{o.call(r)}finally{Do(5,r,o)}}}}}(n,e),function $H(n,e){const t=n.cleanup,i=e[ec];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[ec]=null);const r=e[To];if(null!==r){e[To]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[le].type&&e[Ke].destroy();const t=e[Rl];if(null!==t&&ii(e[un])){t!==e[un]&&dR(t,e);const i=e[Co];null!==i&&i.detachView(n)}!function DH(n){SI.delete(n[la])}(e)}}function FI(n,e,t){return function uR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Cn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===br.None||o===br.Emulated)return null}return gi(i,t)}}(n,e.parent,t)}function Yl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function hR(n,e,t){n.appendChild(e,t)}function fR(n,e,t,i,r){null!==i?Yl(n,e,t,i,r):hR(n,e,t)}function oy(n,e){return n.parentNode(e)}function mR(n,e,t){return gR(n,e,t)}let LI,ly,gR=function pR(n,e,t){return 40&n.type?gi(n,t):null};function sy(n,e,t,i){const r=FI(n,i,e),o=e[Ke],a=mR(i.parent||e[pi],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)fR(o,r,t[c],a,!1);else fR(o,r,t,a,!1);void 0!==LI&&LI(o,i,e,t,r)}function ip(n,e){if(null!==e){const t=e.type;if(3&t)return gi(e,n);if(4&t)return VI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return ip(n,i);{const r=n[e.index];return ii(r)?VI(-1,r):Qt(r)}}if(32&t)return PI(e,n)()||Qt(n[e.index]);{const i=vR(n,e);return null!==i?Array.isArray(i)?i[0]:ip(tp(n[Kt]),i):ip(n,e.next)}}return null}function vR(n,e){return null!==e?n[Kt][pi].projection[e.projection]:null}function VI(n,e){const t=Tn+n+1;if(t<e.length){const i=e[t],r=i[le].firstChild;if(null!==r)return ip(i,r)}return e[nr]}function BI(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&rr(Qt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)BI(n,e,t.child,i,r,o,!1),Yu(e,n,r,a,o);else if(32&c){const d=PI(t,i);let h;for(;h=d();)Yu(e,n,r,h,o);Yu(e,n,r,a,o)}else 16&c?bR(n,e,i,t,r,o):Yu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function rp(n,e,t,i,r,o){BI(t,i,n.firstChild,e,r,o,!1)}function bR(n,e,t,i,r,o){const s=t[Kt],c=s[pi].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Yu(e,n,r,c[d],o);else{let d=c;const h=s[un];ey(i)&&(d.flags|=128),BI(n,e,d,h,r,o,!0)}}function wR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ER(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Ml(n,e,i),null!==r&&wR(n,e,r),null!==o&&function QH(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function CR(n){return function jI(){if(void 0===ly&&(ly=null,Wt.trustedTypes))try{ly=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ly}()?.createScriptURL(n)||n}class Xl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iu})`}}function ao(n){return n instanceof Xl?n.changingThisBreaksApplicationSecurity:n}function Os(n,e){const t=function o5(n){return n instanceof Xl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${iu})`)}return t===e}const m5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $i=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($i||{});function sp(n){const e=ap();return e?e.sanitize($i.URL,n)||"":Os(n,"URL")?ao(n):function dy(n){return(n=String(n)).match(m5)?n:"unsafe:"+n}(Ze(n))}function PR(n){const e=ap();if(e)return CR(e.sanitize($i.RESOURCE_URL,n)||"");if(Os(n,"ResourceURL"))return CR(ao(n));throw new B(904,!1)}function ap(){const n=H();return n&&n[ts].sanitizer}let OR=(n,e,t)=>null;function XI(n,e,t=!1){return OR(n,e,t)}class N5{}class VR{}class F5{resolveComponentFactory(e){throw function O5(n){const e=Error(`No component factory found for ${On(n)}.`);return e.ngComponent=n,e}(e)}}let _y=(()=>{class n{static#e=this.NULL=new F5}return n})();function L5(){return th(Bt(),H())}function th(n,e){return new fn(gi(n,e))}let fn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=L5}return n})();function V5(n){return n instanceof fn?n.nativeElement:n}class tx{}let Ea=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function B5(){const n=H(),t=ji(Bt().index,n);return(Gn(t)?t:n)[Ke]}()}return n})(),U5=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null})}return n})();class Ec{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const UR=new Ec("17.0.2"),nx={};function vy(n){return!!function ix(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class zR{constructor(){}supports(e){return vy(e)}create(e){return new q5(e)}}const H5=(n,e)=>e;class q5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||H5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<HR(i,r,o)?t:i,a=HR(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,h=c-r;if(d!=h){for(let g=0;g<d;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<d&&(o[g]=v+1)}o[s.previousIndex]=h-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!vy(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function $5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new G5(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $R),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $R),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class G5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class $R{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new W5,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HR(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function GR(){return new yy([new zR])}let yy=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:GR});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||GR()),deps:[[n,new M,new y]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new B(901,!1)}}return n})();function up(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Qt(o)),ii(o)&&ZR(o,i);const s=t.type;if(8&s)up(n,e,t.child,i);else if(32&s){const a=PI(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=vR(e,t);if(Array.isArray(a))i.push(...a);else{const c=tp(e[Kt]);up(c[le],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function ZR(n,e){for(let t=Tn;t<n.length;t++){const i=n[t],r=i[le].firstChild;null!==r&&up(i[le],i,r,e)}n[nr]!==n[Cn]&&e.push(n[nr])}let KR=[];const e6={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Iu(n.lView)},consumerOnSignalRead(){this.lView[da]=this}};function rx(n){return n.ngOriginalError}class ss{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&rx(e);for(;t&&rx(t);)t=rx(t);return t||null}}const XR=new X("",{providedIn:"root",factory:()=>!1}),tt={};function Ce(n){n1(mt(),H(),zi()+n,!1)}function n1(n,e,t,i){if(!i)if(3==(3&e[Be])){const o=n.preOrderCheckHooks;null!==o&&Bm(e,o,t)}else{const o=n.preOrderHooks;null!==o&&lc(e,o,0,t)}pa(t)}function P(n,e=st.Default){const t=H();return null===t?j(n,e):Uu(Bt(),t,Fe(n),e)}function wy(n,e,t,i,r,o,s,a,c,d,h){const p=e.blueprint.slice();return p[Cn]=r,p[Be]=140|i,(null!==d||n&&2048&n[Be])&&(p[Be]|=2048),gv(p),p[un]=p[tc]=n,p[en]=t,p[ts]=s||n&&n[ts],p[Ke]=a||n&&n[Ke],p[tr]=c||n&&n[tr]||null,p[pi]=o,p[la]=function CH(){return xH++}(),p[xo]=h,p[av]=d,p[Kt]=2==e.type?n[Kt]:p,p}function nh(n,e,t,i,r){let o=n.data[e];if(null===o)o=function ox(n,e,t,i,r){const o=Rm(),s=Du(),c=n.data[e]=function f6(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return ac()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Au(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function cc(){const n=je.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return So(o,!0),o}function hp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function o1(n,e,t,i,r){const o=zi(),s=2&i;try{pa(-1),s&&e.length>Ue&&n1(n,e,Ue,!1),Do(s?2:0,r),t(i,r)}finally{pa(o),Do(s?3:1,r)}}function sx(n,e,t){if(Nl(e)){const i=Xe(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Xe(i)}}}function ax(n,e,t){Cu()&&(function b6(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ss(t)&&function D6(n,e,t){const i=gi(e,n),r=s1(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Ey(n,wy(n,r,null,s,i,e,null,n[ts].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Lu(t,e),rr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],d=Mo(e,n,a,t);rr(d,e),null!==s&&A6(0,a-r,d,c,0,s),no(c)&&(ji(t.index,e)[en]=Mo(e,n,a,t))}}(n,e,t,gi(t,e)),64==(64&t.flags)&&u1(n,e,t))}function cx(n,e,t=gi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function s1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=lx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function lx(n,e,t,i,r,o,s,a,c,d,h){const p=Ue+i,g=p+r,v=function a6(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:tt);return t}(p,g),b="function"==typeof d?d():d;return v[le]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let a1=n=>null;function c1(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?l1(t,e,r,o):i.hasOwnProperty(r)&&l1(t,e,i[r],o)}return t}function l1(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function co(n,e,t,i,r,o,s,a){const c=gi(e,t);let h,d=e.inputs;!a&&null!=d&&(h=d[i])?(mx(n,t,h,i,r),Ss(e)&&function g6(n,e){const t=ji(e,n);16&t[Be]||(t[Be]|=64)}(t,e.index)):3&e.type&&(i=function p6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function dx(n,e,t,i){if(Cu()){const r=null===i?null:{"":-1},o=function E6(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(ca(e,s.selectors,!1))if(i||(i=[]),no(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),ux(n,e,a.length)}else i.unshift(s),ux(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&d1(n,e,t,s,r,a),r&&function I6(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new B(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=kl(t.mergedAttrs,t.attrs)}function d1(n,e,t,i,r,o){for(let d=0;d<i.length;d++)Bu(Lu(t,e),n,i[d].type);!function C6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const h=i[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=hp(n,e,i.length,null);for(let d=0;d<i.length;d++){const h=i[d];t.mergedAttrs=kl(t.mergedAttrs,h.hostAttrs),T6(n,t,e,c,h),x6(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function m6(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=c1(p.inputs,h,c,g?g.inputs:null),d=c1(p.outputs,h,d,b);const w=null===c||null===s||ev(e)?null:S6(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function u1(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function zE(){return je.lFrame.currentDirectiveIndex}();try{pa(o);for(let a=i;a<r;a++){const c=n.data[a],d=e[a];Pm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&w6(c,d)}}finally{pa(-1),Pm(s)}}function w6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ux(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function x6(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;no(e)&&(t[""]=n)}}function T6(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ns(r.type)),s=new zl(o,no(r),P);n.blueprint[i]=s,t[i]=s,function v6(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function y6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,hp(n,t,r.hostVars,tt),r)}function Fs(n,e,t,i,r,o){const s=gi(n,e);!function hx(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ze(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ke],s,o,n.value,t,i,r)}function A6(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)h1(i,t,s[a++],s[a++],s[a++])}function h1(n,e,t,i,r){const o=Xe(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Xe(o)}}function S6(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function f1(n,e,t,i){return[n,!0,!1,e,null,i,!1,t,null,null,null]}function m1(n,e){const t=n.contentQueries;if(null!==t){const i=Xe(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Om(t[r]),a.contentQueries(2,e[s],s)}}}finally{Xe(i)}}}function Ey(n,e){return n[Ur]?n[sv][er]=e:n[Ur]=e,n[sv]=e,e}function fx(n,e,t){Om(0);const i=Xe(null);try{e(n,t)}finally{Xe(i)}}function p1(n){return n[ec]||(n[ec]=[])}function g1(n){return n.cleanup||(n.cleanup=[])}function _1(n,e,t){return(null===n||no(n))&&(t=function Cm(n){for(;Array.isArray(n);){if("object"==typeof n[bm])return n;n=n[Cn]}return null}(t[e.index])),t[Ke]}function Iy(n,e){const t=n[tr],i=t?t.get(ss,null):null;i&&i.handleError(e)}function mx(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];h1(n.data[s],e[s],i,a,r)}}function Ia(n,e,t){const i=Ll(e,n);!function lR(n,e,t){n.setValue(e,t)}(n[Ke],i,t)}function v1(n,e,t,i){const r=e[Be];if(256==(256&r))return;e[ts].inlineEffectRunner?.flush(),Fm(e);let s=null,a=null;(function P6(n){return 2!==n.type})(n)&&(a=function Y5(n){return n[da]??function X5(n){const e=KR.pop()??Object.create(e6);return e.lView=n,e}(n)}(e),s=function nt(n){return n&&(n.nextProducerIndex=0),Xe(n)}(a));try{gv(e),function yv(n){return je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&o1(n,e,t,2,i);const c=3==(3&r);if(c){const p=n.preOrderCheckHooks;null!==p&&Bm(e,p,null)}else{const p=n.preOrderHooks;null!==p&&lc(e,p,0,null),Nu(e,0)}if(function N6(n){for(let e=sR(n);null!==e;e=aR(e)){if(!e[Pl])continue;const t=e[nc];for(let i=0;i<t.length;i++){Am(t[i])}}}(e),y1(e,0),null!==n.contentQueries&&m1(n,e),c){const p=n.contentCheckHooks;null!==p&&Bm(e,p)}else{const p=n.contentHooks;null!==p&&lc(e,p,1),Nu(e,1)}!function s6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)pa(~r);else{const o=r,s=t[++i],a=t[++i];jE(s,o),a(2,e[o])}}}finally{pa(-1)}}(n,e);const d=n.components;null!==d&&E1(e,d,0);const h=n.viewQuery;if(null!==h&&fx(2,h,i),c){const p=n.viewCheckHooks;null!==p&&Bm(e,p)}else{const p=n.viewHooks;null!==p&&lc(e,p,2),Nu(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[gu]){for(const p of e[gu])p();e[gu]=null}e[Be]&=-73}catch(c){throw Iu(e),c}finally{null!==a&&(function lt(n,e){if(Xe(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Rt(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)It(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function J5(n){n.lView[da]!==n&&(n.lView=null,KR.push(n))}(a)),Mu()}}function y1(n,e){for(let t=sR(n);null!==t;t=aR(t)){t[_u]=!1;for(let i=Tn;i<t.length;i++)b1(t[i],e)}}function O6(n,e,t){b1(ji(e,n),t)}function b1(n,e){Dm(n)&&w1(n,e)}function w1(n,e){const i=n[le],r=n[Be],o=n[da];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!zn(o)),o&&(o.dirty=!1),n[Be]&=-9217,s)v1(i,n,i.template,n[en]);else if(8192&r){y1(n,1);const a=i.components;null!==a&&E1(n,a,1)}}function E1(n,e,t){for(let i=0;i<e.length;i++)O6(n,e[i],t)}function fp(n){for(;n;){n[Be]|=64;const e=tp(n);if(cv(n)&&!e)return n;n=e}return null}class mp{get rootNodes(){const e=this._lView,t=e[le];return up(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[en]}set context(e){this._lView[en]=e}get destroyed(){return 256==(256&this._lView[Be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[un];if(ii(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(np(e,i),Wl(t,i))}this._attachedToViewContainer=!1}ry(this._lView[le],this._lView)}onDestroy(e){sc(this._lView,e)}markForCheck(){fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Be]&=-129}reattach(){Eu(this._lView),this._lView[Be]|=128}detectChanges(){!function px(n,e,t,i=!0){const r=e[ts],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{v1(n,e,n.template,t),function k6(n){let e=0;for(;9216&n[Be]||n[da]?.dirty;){if(100===e)throw new B(103,!1);e++,w1(n,1)}}(e)}catch(c){throw i&&Iy(e,c),c}finally{o.end?.(),r.inlineEffectRunner?.flush(),s?.end()}}(this._lView[le],this._lView,this.context,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BH(n,e){rp(n,e,e[Ke],2,null,null)}(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e}}let Ls=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=F6}return n})();function F6(n){return function L6(n,e,t){if(Ss(n)&&!t){const i=ji(n.index,e);return new mp(i,i)}return 47&n.type?new mp(e[Kt],e):null}(Bt(),H(),16==(16&n))}let xy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=j6;static#t=this.__NG_ENV_ID__=t=>t}return n})();class U6 extends xy{constructor(e){super(),this._lView=e}onDestroy(e){return sc(this._lView,e),()=>function xu(n,e){if(null===n[To])return;const t=n[To].indexOf(e);-1!==t&&n[To].splice(t,1)}(this._lView,e)}}function j6(){return new U6(H())}const I1=new Set;function Jl(n){I1.has(n)||(I1.add(n),performance?.mark?.("mark_use_counter",{detail:{feature:n}}))}function gx(n){return e=>{setTimeout(n,void 0,e)}}const Yt=class Z6 extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=gx(o),r&&(r=gx(r)),s&&(s=gx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Nt&&e.add(a),a}};function x1(...n){}class ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function K6(){const n="function"==typeof Wt.requestAnimationFrame;let e=Wt[n?"requestAnimationFrame":"setTimeout"],t=Wt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function X6(n){const e=()=>{!function Y6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vx(n),n.isCheckStableRunning=!0,_x(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function e8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return C1(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),T1(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return C1(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),T1(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,vx(n),_x(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new B(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Q6,x1,x1);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Q6={};function _x(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function C1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T1(n){n._nesting--,_x(n)}class J6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const D1=new X("",{providedIn:"root",factory:A1});function A1(){const n=ce(ze);let e=!0;return eu(new vt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new vt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{ze.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Xo()))}var ed=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ed||{});const S1={destroy(){}};function k1(n,e){!e&&function wI(n){if(!xl()&&!function mm(){return Xa}())throw new B(-203,!1)}();const t=e?.injector??ce(Ir);if(!function yc(n){return"browser"===(n??ce(Ir)).get(os)}(t))return S1;Jl("NgAfterNextRender");const i=t.get(Cy),r=i.handler??=new P1,o=e?.phase??ed.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(xy).onDestroy(s),c=new R1(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class R1{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(ze),this.errorHandler=e.get(ss,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class P1{constructor(){this.executingCallbacks=!1,this.buckets={[ed.EarlyRead]:new Set,[ed.Write]:new Set,[ed.MixedReadWrite]:new Set,[ed.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new B(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Cy=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})();function n8(n,e){const t=ji(e,n),i=t[le];!function i8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Cn];null!==r&&null===t[xo]&&(t[xo]=XI(r,t[tr])),yx(i,t,t[en])}function yx(n,e,t){Fm(e);try{const i=n.viewQuery;null!==i&&fx(1,i,t);const r=n.template;null!==r&&o1(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&m1(n,e),n.staticViewQueries&&fx(2,n.viewQuery,t);const o=n.components;null!==o&&function r8(n,e){for(let t=0;t<e.length;t++)n8(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Be]&=-5,Mu()}}function Ty(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=pl(r,a):2==o&&(i=pl(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class N1 extends _y{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ut(e);return new pp(t,this.ngModule)}}function O1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class s8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Ja(i);const r=this.injector.get(e,nx,i);return r!==nx||t===nx?r:this.parentInjector.get(e,t,i)}}class pp extends VR{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=O1(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return O1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function uk(n){return n.map(CE).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof oo?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new s8(e,o):e,a=s.get(tx,null);if(null===a)throw new B(407,!1);const h={rendererFactory:a,sanitizer:s.get(U5,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Cy,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function c6(n,e,t,i){const o=i.get(XR,!1)||t===br.ShadowDom,s=n.selectRootElement(e,o);return function l6(n){a1(n)}(s),s}(p,i,this.componentDef.encapsulation,s):iy(p,g,function o8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==v&&(S=XI(v,s,!0));const A=lx(0,null,null,1,0,null,null,null,null,null,null),k=wy(null,A,null,E,null,null,h,p,s,null,S);let Y,de;Fm(k);try{const Ee=this.componentDef;let We,ln=null;Ee.findHostDirectiveDefs?(We=[],ln=new Map,Ee.findHostDirectiveDefs(Ee,We,ln),We.push(Ee)):We=[Ee];const _o=function c8(n,e){const t=n[le],i=Ue;return n[i]=e,nh(t,i,2,"#host",null)}(k,v),Xr=function l8(n,e,t,i,r,o,s){const a=r[le];!function d8(n,e,t,i){for(const r of n)e.mergedAttrs=kl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ty(e,e.mergedAttrs,!0),null!==t&&ER(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=XI(e,r[tr]));const d=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=wy(r,s1(t),null,h,r[n.index],n,o,d,null,null,c);return a.firstCreatePass&&ux(a,n,i.length-1),Ey(r,p),r[n.index]=p}(_o,v,Ee,We,k,h,p);de=ma(A,Ue),v&&function h8(n,e,t,i){if(i)Ml(n,t,["ng-version",UR.full]);else{const{attrs:r,classes:o}=function hk(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!wr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ml(n,t,r),o&&o.length>0&&wR(n,t,o.join(" "))}}(p,Ee,v,i),void 0!==t&&function f8(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(de,this.ngContentSelectors,t),Y=function u8(n,e,t,i,r,o){const s=Bt(),a=r[le],c=gi(s,r);d1(a,r,s,t,null,i);for(let h=0;h<t.length;h++)rr(Mo(r,a,s.directiveStart+h,s),r);u1(a,r,s),c&&rr(c,r);const d=Mo(r,a,s.directiveStart+s.componentOffset,s);if(n[en]=r[en]=d,null!==o)for(const h of o)h(d,e);return sx(a,s,n),d}(Xr,Ee,We,ln,k,[m8]),yx(A,k,null)}finally{Mu()}return new a8(this.componentType,Y,th(de,k),k,de)}}class a8 extends N5{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new mp(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;mx(o[le],o,r,e,t),this.previousInputValues.set(e,t),fp(ji(this._tNode.index,o))}}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function m8(){const n=Bt();Pu(H()[le],n)}function pt(n){let e=function F1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(no(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Dy(n.inputs),s.inputTransforms=Dy(n.inputTransforms),s.declaredInputs=Dy(n.declaredInputs),s.outputs=Dy(n.outputs);const a=r.hostBindings;a&&v8(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&g8(n,c),d&&_8(n,d),Za(n.inputs,r.inputs),Za(n.declaredInputs,r.declaredInputs),Za(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Za(s.inputTransforms,r.inputTransforms)),no(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===pt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function p8(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=kl(r.hostAttrs,t=kl(t,r.hostAttrs))}}(i)}function Dy(n){return n===Io?{}:n===yt?[]:n}function g8(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function _8(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function v8(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function U1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function oi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function or(n,e,t,i){const r=H();return oi(r,io(),e)&&(mt(),Fs(sn(),r,n,e,t,i)),or}function rh(n,e,t,i){return oi(n,io(),t)?e+Ze(t)+i:tt}function oh(n,e,t,i,r,o){const a=function td(n,e,t,i){const r=oi(n,e,t);return oi(n,e+1,i)||r}(n,function is(){return je.lFrame.bindingIndex}(),t,r);return rs(2),a?e+Ze(t)+i+Ze(r)+o:tt}function Sy(n,e){return n<<17|e<<2}function Ic(n){return n>>17&32767}function bx(n){return 2|n}function nd(n){return(131068&n)>>2}function wx(n,e){return-131069&n|e<<2}function Ex(n){return 1|n}function Q1(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Ic(o):nd(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];S8(n[a],e)&&(c=!0,n[a+1]=i?Ex(h):bx(h)),a=i?Ic(h):nd(h)}c&&(n[t+1]=i?bx(o):Ex(o))}function S8(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&va(n,e)>=0}function Je(n,e,t){const i=H();return oi(i,io(),e)&&co(mt(),sn(),i,n,e,i[Ke],t,!1),Je}function Ix(n,e,t,i,r){const s=r?"class":"style";mx(n,t,e.inputs[s],s,i)}function _p(n,e,t){return as(n,e,t,!1),_p}function si(n,e){return as(n,e,null,!0),si}function as(n,e,t,i){const r=H(),o=mt(),s=rs(2);o.firstUpdatePass&&function rP(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[zi()],s=function iP(n,e){return e>=n.expandoStartIndex}(n,t);(function cP(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function V8(n,e,t,i){const r=Nm(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=vp(t=xx(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=xx(r,n,e,t,i),null===o){let c=function B8(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==nd(i))return n[Ic(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=xx(null,n,e,c[1],i),c=vp(c,e.attrs,i),function U8(n,e,t,i){n[Ic(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function j8(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=vp(i,n[o].hostAttrs,t);return vp(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function D8(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ic(s),c=nd(s);n[i]=t;let h,d=!1;if(Array.isArray(t)?(h=t[1],(null===h||va(t,h)>0)&&(d=!0)):h=t,r)if(0!==c){const g=Ic(n[a+1]);n[i+1]=Sy(g,a),0!==g&&(n[g+1]=wx(n[g+1],i)),n[a+1]=function C8(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Sy(a,0),0!==a&&(n[a+1]=wx(n[a+1],i)),a=i;else n[i+1]=Sy(c,0),0===a?a=i:n[c+1]=wx(n[c+1],i),c=i;d&&(n[i+1]=bx(n[i+1])),Q1(n,h,i,!0),Q1(n,h,i,!1),function A8(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&va(o,e)>=0&&(t[i+1]=Ex(t[i+1]))}(e,h,n,i,o),s=Sy(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==tt&&oi(r,s,e)&&function sP(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],h=function T8(n){return 1==(1&n)}(d)?aP(c,e,t,r,nd(d),s):void 0;My(h)||(My(o)||function x8(n){return 2==(2&n)}(d)&&(o=aP(c,null,t,r,a,s)),function KH(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:wc.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=wc.Important),n.setStyle(t,i,r,o))}}(i,s,Ll(zi(),t),r,o))}(o,o.data[zi()],r,r[Ke],n,r[s+1]=function q8(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=On(ao(n)))),n}(e,t),i,s)}function xx(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=vp(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function vp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vi(n,s,!!t||e[++o]))}return void 0===n?null:n}function aP(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),h=d?c[1]:c,p=null===h;let g=t[r+1];g===tt&&(g=p?yt:void 0);let v=p?qu(g,i):h===i?g:void 0;if(d&&!My(v)&&(v=qu(c,i)),My(v)&&(a=v,s))return a;const b=n[r+1];r=s?Ic(b):nd(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=qu(c,i))}return a}function My(n){return void 0!==n}function mh(n,e){return!e||ey(n)}function Ip(n,e,t,i=!0){const r=e[le];if(function jH(n,e,t,i){const r=Tn+i,o=t.length;i>0&&(t[r-1][er]=e),i<o-Tn?(e[er]=t[r],Vv(t,Tn+i,e)):(t.push(e),e[er]=null),e[un]=t;const s=e[Rl];null!==s&&t!==s&&function zH(n,e){const t=n[nc];e[Kt]!==e[un][un][Kt]&&(n[Pl]=!0),null===t?n[nc]=[e]:t.push(e)}(s,e);const a=e[Co];null!==a&&a.insertView(n),Eu(e),e[Be]|=128}(r,e,n,t),i){const o=VI(t,n),s=e[Ke],a=oy(s,n[nr]);null!==a&&function VH(n,e,t,i,r,o){i[Cn]=r,i[pi]=e,rp(n,i,t,1,r,o)}(r,n[pi],s,e,a,o)}}let ls=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Cq}return n})();function Cq(){return wP(Bt(),H())}const Tq=ls,yP=class extends Tq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Vu(this._hostTNode,this._hostLView);if(zm(e)){const t=Hl(e,this._hostLView),i=$l(e);return new Wn(t[le].data[i+8],t)}return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=bP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,mh(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function $r(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new pp(ut(e)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?d:this.parentInjector).get(oo,null);w&&(o=w)}ut(c.componentType??{});const v=c.create(d,r,null,o);return this.insertImpl(v.hostView,a,mh(this._hostTNode,null)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function Vl(n){return ii(n[un])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[un],d=new yP(c,c[pi],c[un]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Ip(s,r,o,i),e.attachToViewContainerRef(),Vv(Px(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=bP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=np(this._lContainer,t);i&&(Wl(Px(this._lContainer),t),ry(i[le],i))}detach(e){const t=this._adjustIndex(e,-1),i=np(this._lContainer,t);return i&&null!=Wl(Px(this._lContainer),t)?new mp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function bP(n){return n[8]}function Px(n){return n[8]||(n[8]=[])}function wP(n,e){let t;const i=e[n.index];return ii(i)?t=i:(t=f1(i,e,null,n),e[n.index]=t,Ey(e,t)),EP(t,e,n,i),new yP(t,n,e)}let EP=function xP(n,e,t,i){if(n[nr])return;let r;r=8&t.type?Qt(i):function Dq(n,e){const t=n[Ke],i=t.createComment(""),r=gi(e,n);return Yl(t,oy(t,r),i,function GH(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[nr]=r},Nx=(n,e,t)=>!1;function Ut(n,e,t,i,r,o,s,a){const c=H(),d=mt(),h=n+Ue,p=d.firstCreatePass?function kq(n,e,t,i,r,o,s,a,c){const d=e.consts,h=nh(e,n,4,s||null,Ao(d,a));dx(e,t,h,Ao(d,c)),Pu(e,h);const p=h.tView=lx(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,d,c,e,t,i,r,o,s):d.data[h];So(p,!1);const g=CP(d,c,p,n);Ul()&&sy(d,c,g,p),rr(g,c);const v=f1(g,c,g,p);return c[h]=v,Ey(c,v),function IP(n,e,t){return Nx(n,e,t)}(v,p,c),vu(p)&&ax(d,c,p),null!=s&&cx(c,p,a),Ut}let CP=function TP(n,e,t,i){return Ms(!0),e[Ke].createComment("")};function F(n,e,t,i){const r=H(),o=mt(),s=Ue+n,a=r[Ke],c=o.firstCreatePass?function b9(n,e,t,i,r,o){const s=e.consts,c=nh(e,n,2,i,Ao(s,r));return dx(e,t,c,Ao(s,o)),null!==c.attrs&&Ty(c,c.attrs,!1),null!==c.mergedAttrs&&Ty(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],d=KP(o,r,c,a,e,n);r[s]=d;const h=vu(c);return So(c,!0),ER(a,d,c),32!=(32&c.flags)&&Ul()&&sy(o,r,d,c),0===function Sm(){return je.lFrame.elementDepthCount}()&&rr(d,r),function FE(){je.lFrame.elementDepthCount++}(),h&&(ax(o,r,c),sx(o,c,r)),null!==i&&cx(r,c),F}function G(){let n=Bt();Du()?Bl():(n=n.parent,So(n,!1));const e=n;(function VE(n){return je.skipHydrationRootTNode===n})(e)&&function Tu(){je.skipHydrationRootTNode=null}(),function LE(){je.lFrame.elementDepthCount--}();const t=mt();return t.firstCreatePass&&(Pu(t,n),Nl(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Sv(n){return 0!=(8&n.flags)}(e)&&Ix(t,e,H(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ZE(n){return 0!=(16&n.flags)}(e)&&Ix(t,e,H(),e.stylesWithoutHost,!1),G}function Ge(n,e,t,i){return F(n,e,t,i),G(),Ge}let KP=(n,e,t,i,r,o)=>(Ms(!0),iy(i,r,function Ru(){return je.lFrame.currentNamespace}()));function wh(n,e,t){const i=H(),r=mt(),o=n+Ue,s=r.firstCreatePass?function I9(n,e,t,i,r){const o=e.consts,s=Ao(o,i),a=nh(e,n,8,"ng-container",s);return null!==s&&Ty(a,s,!0),dx(e,t,a,Ao(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];So(s,!0);const a=YP(r,i,s,n);return i[o]=a,Ul()&&sy(r,i,a,s),rr(a,i),vu(s)&&(ax(r,i,s),sx(r,s,i)),null!=t&&cx(i,s),wh}function Eh(){let n=Bt();const e=mt();return Du()?Bl():(n=n.parent,So(n,!1)),e.firstCreatePass&&(Pu(e,n),Nl(n)&&e.queries.elementEnd(n)),Eh}let YP=(n,e,t,i)=>(Ms(!0),NI(e[Ke],""));function Po(){return H()}function qx(n,e,t){const i=H();if(oi(i,io(),e)){const o=mt(),s=sn();co(o,s,i,n,e,_1(Nm(o.data),s,i),t,!0)}return qx}const xh="en-US";let tN=xh;function Rp(n){return!!n&&"function"==typeof n.then}function TN(n){return!!n&&"function"==typeof n.subscribe}function at(n,e,t,i){const r=H(),o=mt(),s=Bt();return DN(o,r,r[Ke],s,n,e,i),at}function Zx(n,e){const t=Bt(),i=H(),r=mt();return DN(r,i,_1(Nm(r.data),t,i),t,n,e),Zx}function DN(n,e,t,i,r,o,s){const a=vu(i),d=n.firstCreatePass&&g1(n),h=e[en],p=p1(e);let g=!0;if(3&i.type||s){const w=gi(i,e),E=s?s(w):w,S=p.length,A=s?Y=>s(Qt(Y[i.index])):i.index;let k=null;if(!s&&a&&(k=function EG(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[ec],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,g=!1;else{o=SN(i,e,h,o,!1);const Y=t.listen(E,r,o);p.push(o,Y),d&&d.push(r,A,S,S+1)}}else o=SN(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const de=e[b[E]][b[E+1]].subscribe(o),Ee=p.length;p.push(o,de),d&&d.push(r,i.index,Ee,-(Ee+1))}}}function AN(n,e,t,i){try{return Do(6,e,t),!1!==t(i)}catch(r){return Iy(n,r),!1}finally{Do(7,e,t)}}function SN(n,e,t,i,r){return function o(s){if(s===Function)return i;fp(n.componentOffset>-1?ji(n.index,e):e);let c=AN(e,t,i,s),d=o.__ngNextListenerFn__;for(;d;)c=AN(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function He(n=1){return function HE(n){return(je.lFrame.contextLView=function wu(n,e){for(;n>0;)e=e[tc],n--;return e}(n,je.lFrame.contextLView))[en]}(n)}function IG(n,e){let t=null;const i=function nv(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?ca(n,o,!0):xE(i,o))return r}else t=r}return t}function ds(n){const e=H()[Kt][pi];if(!e.projection){const i=e.projection=ri(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?IG(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function ci(n,e=0,t){const i=H(),r=mt(),o=nh(r,Ue+n,16,null,t||null);null===o.projection&&(o.projection=e),Bl(),(!i[xo]||ac())&&32!=(32&o.flags)&&function WH(n,e,t){bR(e[Ke],0,e,t,FI(n,t,e),mR(t.parent||e[pi],t,e))}(r,i,o)}function Ch(n,e,t){return Kx(n,"",e,"",t),Ch}function Kx(n,e,t,i,r){const o=H(),s=rh(o,e,t,i);return s!==tt&&co(mt(),sn(),o,n,s,o[Ke],r,!1),Kx}function Gr(n){return function oc(n,e){return n[e]}(function UE(){return je.lFrame.contextLView}(),Ue+n)}function ge(n,e=""){const t=H(),i=mt(),r=n+Ue,o=i.firstCreatePass?nh(i,r,1,e,null):i.data[r],s=WN(i,t,o,e,n);t[r]=s,Ul()&&sy(i,t,s,o),So(o,!1)}let WN=(n,e,t,i,r)=>(Ms(!0),function ny(n,e){return n.createText(e)}(e[Ke],i));function Hi(n){return xa("",n,""),Hi}function xa(n,e,t){const i=H(),r=rh(i,n,e,t);return r!==tt&&Ia(i,zi(),r),xa}function Hy(n,e,t,i,r){const o=H(),s=oh(o,n,e,t,i,r);return s!==tt&&Ia(o,zi(),s),Hy}function Qx(n,e,t,i,r){if(n=Fe(n),Array.isArray(n))for(let o=0;o<n.length;o++)Qx(n[o],e,t,i,r);else{const o=mt(),s=H(),a=Bt();let c=Kl(n)?n:Fe(n.provide);const d=Ok(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(Kl(n)||!n.multi){const v=new zl(d,r,P),b=Xx(c,e,r?h:h+g,p);-1===b?(Bu(Lu(a,s),o,c),Yx(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=Xx(c,e,h+g,p),b=Xx(c,e,h,h+g),E=b>=0&&t[b];if(r&&!E||!r&&!(v>=0&&t[v])){Bu(Lu(a,s),o,c);const S=function BG(n,e,t,i,r){const o=new zl(n,t,P);return o.multi=[],o.index=e,o.componentProviders=0,tO(o,r,i&&!t),o}(r?VG:LG,t.length,r,i,d);!r&&E&&(t[b].providerFactory=S),Yx(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else Yx(o,n,v>-1?v:b,tO(t[r?b:v],d,!r&&i));!r&&i&&E&&t[b].componentProviders++}}}function Yx(n,e,t,i){const r=Kl(e),o=function K$(n){return!!n.useClass}(e);if(r||o){const c=(o?Fe(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=d.indexOf(t);-1===h?d.push(t,[i,c]):d[h+1].push(i,c)}else d.push(t,c)}}}function tO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Xx(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function LG(n,e,t,i){return Jx(this.multi,[])}function VG(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Mo(t,t[le],this.providerFactory.index,i);o=a.slice(0,s),Jx(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Jx(r,o);return o}function Jx(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ht(n,e=[]){return t=>{t.providersResolver=(i,r)=>function FG(n,e,t){const i=mt();if(i.firstCreatePass){const r=no(n);Qx(t,i.data,i.blueprint,r,!0),Qx(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class od{}class nO{}class eC extends od{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N1(this);const r=ni(e);this._bootstrapComponents=so(r.bootstrap),this._r3Injector=Uk(e,t,[{provide:od,useValue:this},{provide:_y,useValue:this.componentFactoryResolver},...i],On(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class tC extends nO{constructor(e){super(),this.moduleType=e}create(e){return new eC(this.moduleType,e,[])}}class iO extends od{constructor(e){super(),this.componentFactoryResolver=new N1(this),this.instance=null;const t=new Ql([...e.providers,{provide:od,useValue:this},{provide:_y,useValue:this.componentFactoryResolver}],e.parent||Zv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function nC(n,e,t=null){return new iO({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let zG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=kk(0,t.type),r=i.length>0?nC([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ue({token:n,providedIn:"environment",factory:()=>new n(j(oo))})}return n})();function rO(n){Jl("NgStandalone"),n.getStandaloneInjector=e=>e.get(zG).getOrCreateStandaloneInjector(n)}function gW(){return this._results[Symbol.iterator]()}class Th{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Yt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Th.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=gW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function ir(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Lv(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ca=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=yW}return n})();const _W=Ca,vW=class extends _W{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Ep(n,e,t,i){const r=e.tView,a=wy(n,r,t,4096&n[Be]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Rl]=n[e.index];const d=n[Co];return null!==d&&(a[Co]=d.createEmbeddedView(r)),yx(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new mp(r)}};function yW(){return Wy(Bt(),H())}function Wy(n,e){return 4&n.type?new vW(e,n,th(n,e)):null}class rC{constructor(e){this.queryList=e,this.matches=null}clone(){return new rC(this.queryList)}setDirty(){this.queryList.setDirty()}}class oC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new oC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==wO(e,t).matches&&this.queries[t].setDirty()}}class _O{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class sC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new sC(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class aC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new aC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,bW(t,o)),this.matchTNodeWithReadOption(e,t,zu(t,e,o,!1,!1))}else i===Ca?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zu(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===fn||r===ls||r===Ca&&4&t.type)this.addMatch(t.index,-2);else{const o=zu(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function bW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function EW(n,e,t,i){return-1===t?function wW(n,e){return 11&n.type?th(n,e):4&n.type?Wy(n,e):null}(e,n):-2===t?function IW(n,e,t){return t===fn?th(e,n):t===Ca?Wy(e,n):t===ls?wP(e,n):void 0}(n,e,i):Mo(n,n[le],t,e)}function vO(n,e,t,i){const r=e[Co].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:EW(e,o[d],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function cC(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=vO(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const d=o[a+1],h=e[-c];for(let p=Tn;p<h.length;p++){const g=h[p];g[Rl]===g[un]&&cC(g[le],g,d,i)}if(null!==h[nc]){const p=h[nc];for(let g=0;g<p.length;g++){const v=p[g];cC(v[le],v,d,i)}}}}}return i}function Cr(n){const e=H(),t=mt(),i=wv();Om(i+1);const r=wO(t,i);if(n.dirty&&function Tm(n){return 4==(4&n[Be])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?cC(t,e,i,[]):vO(t,e,r,i);n.reset(o,V5),n.notifyOnChanges()}return!0}return!1}function Zy(n,e,t){const i=mt();i.firstCreatePass&&(bO(i,new _O(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),yO(i,H(),e)}function No(n,e,t,i){const r=mt();if(r.firstCreatePass){const o=Bt();bO(r,new _O(e,t,i),o.index),function CW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}yO(r,H(),t)}function Tr(){return function xW(n,e){return n[Co].queries[e].queryList}(H(),wv())}function yO(n,e,t){const i=new Th(4==(4&t));(function h6(n,e,t,i){const r=p1(e);r.push(t),n.firstCreatePass&&g1(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Co]&&(e[Co]=new oC),e[Co].queries.push(new rC(i))}function bO(n,e,t){null===n.queries&&(n.queries=new sC),n.queries.track(new aC(e,t))}function wO(n,e){return n.queries.getByIndex(e)}const fC=new X("Application Initializer");let mC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ce(fC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Rp(o))t.push(o);else if(TN(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const js=new X("LocaleId",{providedIn:"root",factory:()=>ce(js,st.Optional|st.SkipSelf)||function WW(){return typeof $localize<"u"&&$localize.locale||xh}()});let Yy=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xi(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class JW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let BO=(()=>{class n{compileModuleSync(t){return new tC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=so(ni(t).declarations).reduce((s,a)=>{const c=ut(a);return c&&s.push(new pp(c)),s},[]);return new JW(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HO=new X(""),Jy=new X("");let vC,gC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vC||(function x7(n){vC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(j(ze),j(_C),j(Jy))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),_C=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return vC?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Cc=null;const qO=new X("AllowMultipleToken"),yC=new X("PlatformDestroyListeners"),bC=new X("appBootstrapListener");function ZO(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=wC();if(!s||s.injector.get(qO,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function D7(n){if(Cc&&!Cc.get(qO,!1))throw new B(400,!1);(function GO(){!function $a(n){yo=n}(()=>{throw new B(600,!1)})})(),Cc=n;const e=n.get(QO);(function WO(n){n.get(zk,null)?.forEach(t=>t())})(n)}(function KO(n=[],e){return Ir.create({name:e,providers:[{provide:_I,useValue:"platform"},{provide:yC,useValue:new Set([()=>Cc=null])},...n]})}(a,i))}return function S7(n){const e=wC();if(!e)throw new B(401,!1);return e}()}}function wC(){return Cc?.get(QO)??null}let QO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function M7(n="zone.js",e){return"noop"===n?new J6:"zone.js"===n?new ze(e):n}(i?.ngZone,function YO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function jG(n,e,t){return new eC(n,e,t)}(t.moduleType,this.injector,function nF(n){return[{provide:ze,useFactory:n},{provide:Ns,multi:!0,useFactory:()=>{const e=ce(R7,{optional:!0});return()=>e.initialize()}},{provide:tF,useFactory:k7},{provide:D1,useFactory:A1}]}(()=>r)),s=o.injector.get(ss,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{eb(this._modules,o),a.unsubscribe()})}),function XO(n,e,t){try{const i=t();return Rp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(mC);return a.runInitializers(),a.donePromise.then(()=>(function nN(n){Vi(n,"Expected localeId to be defined"),"string"==typeof n&&(tN=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(js,xh)||xh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=JO({},i);return function C7(n,e,t){const i=new tC(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(sd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new B(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(yC,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(j(Ir))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function JO(n,e){return Array.isArray(e)?e.reduce(JO,n):{...n,...e}}let sd=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(tF),this.zoneIsStable=ce(D1),this.componentTypes=[],this.components=[],this.isStable=ce(Yy).hasPendingTasks.pipe(dn(t=>t?Ie(!1):this.zoneIsStable),ml(),Xo()),this._injector=ce(oo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof VR;if(!this._injector.get(mC).done)throw!r&&function Ji(n){const e=ut(n)||ti(n)||qn(n);return null!==e&&e.standalone}(t),new B(405,!1);let s;s=r?t:this._injector.get(_y).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function T7(n){return n.isBoundToModule}(s)?void 0:this._injector.get(od),d=s.create(Ir.NULL,[],i||s.selector,a),h=d.location.nativeElement,p=d.injector.get(HO,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),eb(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new B(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;eb(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(bC,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>eb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tF=new X("",{providedIn:"root",factory:()=>ce(ss).handleError.bind(void 0)});function k7(){const n=ce(ze),e=ce(ss);return t=>n.runOutsideAngular(()=>e.handleError(t))}let R7=(()=>{class n{constructor(){this.zone=ce(ze),this.applicationRef=ce(sd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const B7=ZO(null,"core",[]);let U7=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(j(sd))};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({})}return n})();function Mh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let kC=null;function Tc(){return kC}class dZ{}const qt=new X("DocumentToken");let RC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ce(hZ),providedIn:"platform"})}return n})();const uZ=new X("Location Initialized");let hZ=(()=>{class n extends RC{constructor(){super(),this._doc=ce(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tc().getBaseHref(this._doc)}onPopState(t){const i=Tc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Tc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function PC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function TF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ta(n){return n&&"?"!==n[0]?"?"+n:n}let cd=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ce(AF),providedIn:"root"})}return n})();const DF=new X("appBaseHref");let AF=(()=>{class n extends cd{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ce(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return PC(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ta(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ta(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ta(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(RC),j(DF,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fZ=(()=>{class n extends cd{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=PC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(RC),j(DF,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),Bp=(()=>{class n{constructor(t){this._subject=new Yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function gZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(TF(SF(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ta(i))}normalize(t){return n.stripTrailingSlash(function pZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,SF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ta(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ta(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ta;static#t=this.joinWithSlash=PC;static#n=this.stripTrailingSlash=TF;static#i=this.\u0275fac=function(i){return new(i||n)(j(cd))};static#r=this.\u0275prov=ue({token:n,factory:()=>function mZ(){return new Bp(j(cd))}(),providedIn:"root"})}return n})();function SF(n){return n.replace(/\/index.html$/,"")}function VF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}class nK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let HC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new nK(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),jF(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{jF(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(P(ls),P(Ca),P(yy))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function jF(n,e){n.context.$implicit=e.item}let Dc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new iK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(P(ls),P(Ca))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class iK{constructor(){this.$implicit=null,this.ngIf=null}}function zF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${On(e)}'.`)}let KC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({})}return n})();const GF="browser";function vb(n){return"server"===n}let OK=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new FK(j(qt),window)})}return n})();class FK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function LK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class WF{}class sQ extends dZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class XC extends sQ{static makeCurrent(){!function lZ(n){kC||(kC=n)}(new XC)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function aQ(){return $p=$p||document.querySelector("base"),$p?$p.getAttribute("href"):null}();return null==t?null:function cQ(n){wb=wb||document.createElement("a"),wb.setAttribute("href",n);const e=wb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$p=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return VF(document.cookie,e)}}let wb,$p=null,dQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const JC=new X("EventManagerPlugins");let YF=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(j(JC),j(ze))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class XF{constructor(e){this._doc=e}}const eT="ng-app-id";let JF=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vb(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${eT}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(eT),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(eT,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt),j(Qv),j(xI,8),j(os))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const tT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nT=/%COMP%/g,mQ=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function tL(n,e){return e.map(t=>t.replace(nT,n))}let iT=(()=>{class n{constructor(t,i,r,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=vb(a),this.defaultRenderer=new rT(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===br.ShadowDom&&(i={...i,encapsulation:br.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof iL?r.applyToHost(t):r instanceof oT&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case br.Emulated:o=new iL(c,d,i,this.appId,h,s,a,p);break;case br.ShadowDom:return new vQ(c,d,t,i,s,a,this.nonce,p);default:o=new oT(c,d,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(j(YF),j(JF),j(Qv),j(mQ),j(qt),j(os),j(ze),j(xI))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class rT{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(tT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(nL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(nL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new B(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=tT[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=tT[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(wc.DashCase|wc.Important)?e.style.setProperty(t,i,r&wc.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&wc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Tc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function nL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vQ extends rT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=tL(r.id,r.styles);for(const h of d){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oT extends rT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?tL(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iL extends oT{constructor(e,t,i,r,o,s,a,c){const d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=function pQ(n){return"_ngcontent-%COMP%".replace(nT,n)}(d),this.hostAttr=function gQ(n){return"_nghost-%COMP%".replace(nT,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let yQ=(()=>{class n extends XF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const rL=["alt","control","meta","shift"],bQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let EQ=(()=>{class n extends XF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),rL.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=bQ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),rL.forEach(s=>{s!==r&&(0,wQ[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const sL=[{provide:os,useValue:GF},{provide:zk,useValue:function IQ(){XC.makeCurrent()},multi:!0},{provide:qt,useFactory:function CQ(){return function dH(n){II=n}(document),document},deps:[]}],TQ=ZO(B7,"browser",sL),DQ=new X(""),aL=[{provide:Jy,useClass:class lQ{addToWindow(e){Wt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new B(5103,!1);return o},Wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wt.getAllAngularRootElements=()=>e.getAllRootElements(),Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(i=>{const r=Wt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Tc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:HO,useClass:gC,deps:[ze,_C,Jy]},{provide:gC,useClass:gC,deps:[ze,_C,Jy]}],cL=[{provide:_I,useValue:"root"},{provide:ss,useFactory:function xQ(){return new ss},deps:[]},{provide:JC,useClass:yQ,multi:!0,deps:[qt,ze,os]},{provide:JC,useClass:EQ,multi:!0,deps:[qt]},iT,JF,YF,{provide:tx,useExisting:iT},{provide:WF,useClass:dQ,deps:[]},[]];let lL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Qv,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(j(DQ,12))};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({providers:[...cL,...aL],imports:[KC,U7]})}return n})(),dL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt))};static#t=this.\u0275prov=ue({token:n,factory:function(i){let r=null;return r=i?new i:function SQ(){return new dL(j(qt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:OQ}=Array,{getPrototypeOf:FQ,prototype:LQ,keys:VQ}=Object;function pL(n){if(1===n.length){const e=n[0];if(OQ(e))return{args:e,keys:null};if(function BQ(n){return n&&"object"==typeof n&&FQ(n)===LQ}(e)){const t=VQ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:UQ}=Array;function cT(n){return me(e=>function jQ(n,e){return UQ(e)?n(...e):n(e)}(n,e))}function gL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Eb(...n){const e=fl(n),t=L_(n),{args:i,keys:r}=pL(n);if(0===i.length)return $t([],e);const o=new vt(function zQ(n,e,t=Ti){return i=>{_L(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)_L(e,()=>{const d=$t(n[c],e);let h=!1;d.subscribe(ye(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>gL(r,s):Ti));return t?o.pipe(cT(t)):o}function _L(n,e,t){n?Yo(t,n,e):e()}const Ib=fi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xb(...n){return function $Q(){return Ft(1)}()($t(n,fl(n)))}function vL(n){return new vt(e=>{Ae(n()).subscribe(e)})}function Hp(n,e){const t=Pe(n)?n:()=>n,i=r=>r.error(t());return new vt(e?r=>e.schedule(i,0,r):i)}function lT(){return se((n,e)=>{let t=null;n._refCount++;const i=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class yL extends vt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,O(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nt;const t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nt.EMPTY)}return e}refCount(){return lT()(this)}}function zs(n){return n<=0?()=>eo:se((e,t)=>{let i=0;e.subscribe(ye(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ld(...n){const e=fl(n);return se((t,i)=>{(e?xb(n,t,e):xb(n,t)).subscribe(i)})}function Qn(n,e){return se((t,i)=>{let r=0;t.subscribe(ye(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Cb(n){return se((e,t)=>{let i=!1;e.subscribe(ye(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function bL(n=HQ){return se((e,t)=>{let i=!1;e.subscribe(ye(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function HQ(){return new Ib}function Sc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Qn((r,o)=>n(r,o,i)):Ti,zs(1),t?Cb(e):bL(()=>new Ib))}function Rh(n,e){return Pe(e)?mi(n,e,1):mi(n,1)}function Yn(n,e,t){const i=Pe(n)||e||t?{next:n,error:e,complete:t}:n;return i?se((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ye(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Ti}function dd(n){return se((e,t)=>{let o,i=null,r=!1;i=e.subscribe(ye(t,void 0,void 0,s=>{o=Ae(n(s,dd(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Tb(n,e){return se(function qQ(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(ye(s,h=>{const p=d++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function dT(n){return n<=0?()=>eo:se((e,t)=>{let i=[];e.subscribe(ye(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function uT(n){return me(()=>n)}function Ph(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mr(n){return se((e,t)=>{Ae(n).subscribe(ye(t,()=>t.complete(),pr)),!t.closed&&e.subscribe(t)})}const ct="primary",qp=Symbol("RouteTitle");class WQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Nh(n){return new WQ(n)}function ZQ(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $s(n,e){const t=n?hT(n):void 0,i=e?hT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!wL(n[r],e[r]))return!1;return!0}function hT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function EL(n){return n.length>0?n[n.length-1]:null}function Mc(n){return function NQ(n){return!!n&&(n instanceof vt||Pe(n.lift)&&Pe(n.subscribe))}(n)?n:Rp(n)?$t(Promise.resolve(n)):Ie(n)}const QQ={exact:function CL(n,e,t){if(!ud(n.segments,e.segments)||!Db(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!CL(n.children[i],e.children[i],t))return!1;return!0},subset:TL},IL={exact:function YQ(n,e){return $s(n,e)},subset:function XQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wL(n[t],e[t]))},ignored:()=>!0};function xL(n,e,t){return QQ[t.paths](n.root,e.root,t.matrixParams)&&IL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function TL(n,e,t){return DL(n,e,e.segments,t)}function DL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ud(r,t)||e.hasChildren()||!Db(r,t,i))}if(n.segments.length===t.length){if(!ud(n.segments,t)||!Db(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!TL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ud(n.segments,r)&&Db(n.segments,r,i)&&n.children[ct])&&DL(n.children[ct],e,o,i)}}function Db(n,e,t){return e.every((i,r)=>IL[t](n[r].parameters,i.parameters))}class Oh{constructor(e=new tn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nh(this.queryParams)),this._queryParamMap}toString(){return tY.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ab(this)}}class Gp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Nh(this.parameters)),this._parameterMap}toString(){return ML(this)}}function ud(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Fh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>new fT,providedIn:"root"})}return n})();class fT{parse(e){const t=new hY(e);return new Oh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wp(e.root,!0)}`,i=function rY(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Sb(t)}=${Sb(r)}`).join("&"):`${Sb(t)}=${Sb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function nY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const tY=new fT;function Ab(n){return n.segments.map(e=>ML(e)).join("/")}function Wp(n,e){if(!n.hasChildren())return Ab(n);if(e){const t=n.children[ct]?Wp(n.children[ct],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ct&&i.push(`${r}:${Wp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function eY(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ct&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ct&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===ct?[Wp(n.children[ct],!1)]:[`${r}:${Wp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ct]?`${Ab(n)}/${t[0]}`:`${Ab(n)}/(${t.join("//")})`}}function AL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sb(n){return AL(n).replace(/%3B/gi,";")}function mT(n){return AL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mb(n){return decodeURIComponent(n)}function SL(n){return Mb(n.replace(/\+/g,"%20"))}function ML(n){return`${mT(n.path)}${function iY(n){return Object.keys(n).map(e=>`;${mT(e)}=${mT(n[e])}`).join("")}(n.parameters)}`}const oY=/^[^\/()?;#]+/;function pT(n){const e=n.match(oY);return e?e[0]:""}const sY=/^[^\/()?;=#]+/,cY=/^[^=?&#]+/,dY=/^[^&#]+/;class hY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ct]=new tn(e,t)),i}parseSegment(){const e=pT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Gp(Mb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function aY(n){const e=n.match(sY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=pT(this.remaining);r&&(i=r,this.capture(i))}e[Mb(t)]=Mb(i)}parseQueryParam(e){const t=function lY(n){const e=n.match(cY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function uY(n){const e=n.match(dY);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=SL(t),o=SL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new B(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ct);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ct]:new tn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}}function kL(n){return n.segments.length>0?new tn([],{[ct]:n}):n}function RL(n){const e={};for(const i of Object.keys(n.children)){const o=RL(n.children[i]);if(i===ct&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function fY(n){if(1===n.numberOfChildren&&n.children[ct]){const e=n.children[ct];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function hd(n){return n instanceof Oh}function PL(n){let e;const r=kL(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new tn(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function NL(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return gT(r,r,r,t,i);const o=function pY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new FL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new FL(t,e,i)}(e);if(o.toRoot())return gT(r,r,new tn([],{}),t,i);const s=function gY(n,e,t){if(n.isAbsolute)return new Rb(e,!0,0);if(!t)return new Rb(e,!1,NaN);if(null===t.parent)return new Rb(t,!0,0);const i=kb(n.commands[0])?0:1;return function _Y(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new B(4005,!1);r=i.segments.length}return new Rb(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Kp(s.segmentGroup,s.index,o.commands):LL(s.segmentGroup,s.index,o.commands);return gT(r,s.segmentGroup,a,t,i)}function kb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zp(n){return"object"==typeof n&&null!=n&&n.outlets}function gT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`}),s=n===e?t:OL(n,e,t);const a=kL(RL(s));return new Oh(a,o,r)}function OL(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:OL(o,e,t)}),new tn(n.segments,i)}class FL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&kb(i[0]))throw new B(4003,!1);const r=i.find(Zp);if(r&&r!==EL(i))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function LL(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Kp(n,e,t);const i=function yY(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Zp(a))break;const c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!BL(c,d,s))return o;i+=2}else{if(!BL(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new tn(n.segments.slice(0,i.pathIndex),{});return o.children[ct]=new tn(n.segments.slice(i.pathIndex),n.children),Kp(o,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?_T(n,e,t):i.match?Kp(n,0,r):_T(n,e,t)}function Kp(n,e,t){if(0===t.length)return new tn(n.segments,{});{const i=function vY(n){return Zp(n[0])?n[0].outlets:{[ct]:n}}(t),r={};if(Object.keys(i).some(o=>o!==ct)&&n.children[ct]&&1===n.numberOfChildren&&0===n.children[ct].segments.length){const o=Kp(n.children[ct],e,t);return new tn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=LL(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new tn(n.segments,r)}}function _T(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Zp(o)){const c=bY(o.outlets);return new tn(i,c)}if(0===r&&kb(t[0])){i.push(new Gp(n.segments[e].path,VL(t[0]))),r++;continue}const s=Zp(o)?o.outlets[ct]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&kb(a)?(i.push(new Gp(s,VL(a))),r+=2):(i.push(new Gp(s,{})),r++)}return new tn(i,{})}function bY(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=_T(new tn([],{}),0,i))}),e}function VL(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function BL(n,e,t){return n==t.path&&$s(e,t.parameters)}const Qp="imperative";class Hs{constructor(e,t){this.id=e,this.url=t}}class Pb extends Hs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sa extends Hs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lh extends Hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vh extends Hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Nb extends Hs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UL extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EY extends Hs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class IY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jL{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vT{}class yT{constructor(e){this.url=e}}class kY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yp,this.attachRef=null}}let Yp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new kY,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=bT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return wT(e,this._root).map(t=>t.value)}}function bT(n,e){if(n===e.value)return e;for(const t of e.children){const i=bT(n,t);if(i)return i}return null}function wT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=wT(n,t);if(i.length)return i.unshift(e),i}return[]}class fs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $L extends zL{constructor(e,t){super(e),this.snapshot=t,xT(this,e)}toString(){return this.snapshot.toString()}}function HL(n,e){const t=function RY(n,e){const s=new IT([],{},{},"",{},ct,e,null,{});return new qL("",new fs(s,[]))}(0,e),i=new Xi([new Gp("",{})]),r=new Xi({}),o=new Xi({}),s=new Xi({}),a=new Xi(""),c=new Uh(i,r,s,a,o,ct,e,t.root);return c.snapshot=t.root,new $L(new fs(c,[]),t)}class Uh{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(me(d=>d[qp]))??Ie(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>Nh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>Nh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ET(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:n.params,data:n.data,resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&WL(r)&&(i.resolve[qp]=r.title),i}class IT{get title(){return this.data?.[qp]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qL extends zL{constructor(e,t){super(t),this.url=e,xT(this,t)}toString(){return GL(this._root)}}function xT(n,e){e.value._routerState=n,e.children.forEach(t=>xT(n,t))}function GL(n){const e=n.children.length>0?` { ${n.children.map(GL).join(", ")} } `:"";return`${n.value}${e}`}function CT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$s(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$s(e.params,t.params)||n.paramsSubject.next(t.params),function KQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$s(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$s(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function TT(n,e){const t=$s(n.params,e.params)&&function JQ(n,e){return ud(n,e)&&n.every((t,i)=>$s(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||TT(n.parent,e.parent))}function WL(n){return"string"==typeof n.title||null===n.title}let DT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ct,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.parentContexts=ce(Yp),this.location=ce(ls),this.changeDetector=ce(Ls),this.environmentInjector=ce(oo),this.inputBinder=ce(Ob,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new PY(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]})}return n})();class PY{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Uh?this.route:e===Yp?this.childContexts:this.parent.get(e,t)}}const Ob=new X("");let ZL=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Eb([i.queryParams,i.params,i.data]).pipe(dn(([o,s,a],c)=>(a={...o,...s,...a},0===c?Ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function cZ(n){const e=ut(n);if(!e)return null;const t=new pp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function Xp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function OY(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xp(n,i,r);return Xp(n,i)})}(n,e,t);return new fs(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xp(n,a)),s}}const i=function FY(n){return new Uh(new Xi(n.url),new Xi(n.params),new Xi(n.queryParams),new Xi(n.fragment),new Xi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Xp(n,o));return new fs(i,r)}}const AT="ngNavigationCancelingError";function KL(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=hd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=QL(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function QL(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[AT]=!0,i.cancellationCode=e,t&&(i.url=t),i}function YL(n){return n&&n[AT]}let XL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Hn({type:n,selectors:[["ng-component"]],standalone:!0,features:[rO],decls:1,vars:0,template:function(i,r){1&i&&Ge(0,"router-outlet")},dependencies:[DT],encapsulation:2})}return n})();function ST(n){const e=n.children&&n.children.map(ST),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ct&&(t.component=XL),t}function qs(n){return n.outlet||ct}function Jp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class HY{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),CT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Bh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Bh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Bh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Bh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new MY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new AY(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(CT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),CT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Jp(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class JL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fb{constructor(e,t){this.component=e,this.route=t}}function qY(n,e,t){const i=n._root;return eg(i,e?e._root:null,t,[i.value])}function jh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function $_(n){return null!==Bi(n)}(n)?e.get(n):n:i}function eg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bh(e);return n.children.forEach(s=>{(function WY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function ZY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ud(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ud(n.url,e.url)||!$s(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TT(n,e)||!$s(n.queryParams,e.queryParams);default:return!TT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new JL(i)):(o.data=s.data,o._resolvedData=s._resolvedData),eg(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fb(a.outlet.component,s))}else s&&tg(e,a,r),r.canActivateChecks.push(new JL(i)),eg(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tg(a,t.getContext(s),r)),r}function tg(n,e,t){const i=Bh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{tg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Fb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ng(n){return"function"==typeof n}function e2(n){return n instanceof Ib||"EmptyError"===n?.name}const Lb=Symbol("INITIAL_VALUE");function zh(){return dn(n=>Eb(n.map(e=>e.pipe(zs(1),ld(Lb)))).pipe(me(e=>{for(const t of e)if(!0!==t){if(t===Lb)return Lb;if(!1===t||t instanceof Oh)return t}return!0}),Qn(e=>e!==Lb),zs(1)))}function t2(n){return function Es(...n){return oa(n)}(Yn(e=>{if(hd(e))throw KL(0,e)}),me(e=>!0===e))}class MT{constructor(e){this.segmentGroup=e||null}}class kT extends Error{constructor(e){super(),this.urlTree=e}}function $h(n){return Hp(new MT(n))}class mX{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new B(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ie(i);if(r.numberOfChildren>1||!r.children[ct])return Hp(new B(4e3,!1));r=r.children[ct]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new kT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Oh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new tn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new B(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const RT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pX(n,e,t,i,r){const o=PT(n,e,t);return o.matched?(i=function VY(n,e){return n.providers&&!n._injector&&(n._injector=nC(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function uX(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ie(r.map(s=>{const a=jh(s,n);return Mc(function eX(n){return n&&ng(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(zh(),t2()):Ie(!0)}(i,e,t).pipe(me(s=>!0===s?o:{...RT}))):Ie(o)}function PT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...RT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ZQ)(t,n,e);if(!r)return{...RT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function n2(n,e,t,i){return t.length>0&&function vX(n,e,t){return t.some(i=>Vb(n,e,i)&&qs(i)!==ct)}(n,t,i)?{segmentGroup:new tn(e,_X(i,new tn(t,n.children))),slicedSegments:[]}:0===t.length&&function yX(n,e,t){return t.some(i=>Vb(n,e,i))}(n,t,i)?{segmentGroup:new tn(n.segments,gX(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new tn(n.segments,n.children),slicedSegments:t}}function gX(n,e,t,i,r){const o={};for(const s of i)if(Vb(n,t,s)&&!r[qs(s)]){const a=new tn([],{});o[qs(s)]=a}return{...r,...o}}function _X(n,e){const t={};t[ct]=e;for(const i of n)if(""===i.path&&qs(i)!==ct){const r=new tn([],{});t[qs(i)]=r}return t}function Vb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class EX{}class CX{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mX(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,!1)}recognize(){const e=n2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(t=>{const i=new IT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,{}),r=new fs(i,t),o=new qL("",r),s=function mY(n,e,t=null,i=null){return NL(PL(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ct).pipe(dd(i=>{if(i instanceof kT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof MT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=ET(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(me(o=>o instanceof fs?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return $t(r).pipe(Rh(o=>{const s=i.children[o],a=function zY(n,e){const t=n.filter(i=>qs(i)===e);return t.push(...n.filter(i=>qs(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),Tb((o,s)=>(o.push(...s),o)),Cb(null),function GQ(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Qn((r,o)=>n(r,o,i)):Ti,dT(1),t?Cb(e):bL(()=>new Ib))}(),mi(o=>{if(null===o)return $h(i);const s=r2(o);return function TX(n){n.sort((e,t)=>e.value.outlet===ct?-1:t.value.outlet===ct?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Ie(s)}))}processSegment(e,t,i,r,o,s){return $t(t).pipe(Rh(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(dd(c=>{if(c instanceof MT)return Ie(null);throw c}))),Sc(a=>!!a),dd(a=>{if(e2(a))return function wX(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?Ie(new EX):$h(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function bX(n,e,t,i){return!!(qs(n)===i||i!==ct&&Vb(e,t,n))&&("**"===n.path||PT(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):$h(r):$h(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:d,remainingSegments:h}="**"===r.path?o2(o):PT(t,r,o);if(!a)return $h(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(mi(g=>this.processSegment(e,i,t,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s;return"**"===i.path?(s=Ie(o2(r)),t.children={}):s=pX(t,i,r,e),s.pipe(dn(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(dn(({routes:c})=>{const d=i._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,v=new IT(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function AX(n){return n.data||{}}(i),qs(i),i.component??i._loadedComponent??null,i,function SX(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:w}=n2(t,h,p,c);if(0===w.length&&b.hasChildren())return this.processChildren(d,c,b).pipe(me(S=>null===S?null:new fs(v,S)));if(0===c.length&&0===w.length)return Ie(new fs(v,[]));const E=qs(i)===o;return this.processSegment(d,c,b,w,E?ct:o,!0).pipe(me(S=>new fs(v,S instanceof fs?[S]:[])))})):$h(t)))}getChildConfig(e,t,i){return t.children?Ie({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ie({routes:t._loadedRoutes,injector:t._loadedInjector}):function dX(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ie(!0):Ie(r.map(s=>{const a=jh(s,n);return Mc(function QY(n){return n&&ng(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(zh(),t2())}(e,t,i).pipe(mi(r=>r?this.configLoader.loadChildren(e,t).pipe(Yn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function fX(n){return Hp(QL(!1,3))}())):Ie({routes:[],injector:e})}}function DX(n){const e=n.value.routeConfig;return e&&""===e.path}function r2(n){const e=[],t=new Set;for(const i of n){if(!DX(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=r2(i.children);e.push(new fs(i.value,r))}return e.filter(i=>!t.has(i))}function o2(n){return{matched:!0,parameters:n.length>0?EL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function kX(n,e){return mi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ie(t);const o=r.map(d=>d.route),s=new Set(o),a=s2(o[0].parent).slice(1);let c=0;return $t(a).pipe(Rh(d=>s.has(d)?function RX(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!WL(r)&&(o[qp]=r.title),function PX(n,e,t,i){const r=hT(n);if(0===r.length)return Ie({});const o={};return $t(r).pipe(mi(s=>function NX(n,e,t,i){const r=Jp(e)??i,o=jh(n,r);return Mc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Sc(),Yn(a=>{o[s]=a}))),dT(1),uT(o),dd(s=>e2(s)?eo:Hp(s)))}(o,n,e,i).pipe(me(s=>(n._resolvedData=s,n.data=ET(n,n.parent,t).resolve,null)))}(d,i,n,e):(d.data=ET(d,d.parent,n).resolve,Ie(void 0))),Yn(()=>c++),dT(1),mi(d=>c===a.length?Ie(t):eo))})}function s2(n){const e=n.children.map(t=>s2(t)).flat();return[n,...e]}function NT(n){return dn(e=>{const t=n(e);return t?$t(t).pipe(me(()=>e)):Ie(e)})}let a2=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ct);return i}getResolvedTitleForRoute(t){return t.data[qp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ce(OX),providedIn:"root"})}return n})(),OX=(()=>{class n extends a2{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(j(dL))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hh=new X("",{providedIn:"root",factory:()=>({})}),qh=new X("ROUTES");let OT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(BO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Mc(t.loadComponent()).pipe(me(c2),Yn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ph(()=>{this.componentLoaders.delete(t)})),r=new yL(i,()=>new T).pipe(lT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ie({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function FX(n,e,t,i){return Mc(n.loadChildren()).pipe(me(c2),mi(r=>r instanceof nO||Array.isArray(r)?Ie(r):$t(e.compileModuleAsync(r))),me(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(qh,[],{optional:!0,self:!0}).flat()),{routes:s.map(ST),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ph(()=>{this.childrenLoaders.delete(i)})),s=new yL(o,()=>new T).pipe(lT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function c2(n){return function LX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let FT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ce(VX),providedIn:"root"})}return n})(),VX=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const l2=new X(""),d2=new X("");function BX(n,e,t){const i=n.get(d2),r=n.get(qt);return n.get(ze).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),function UX(n){return new Promise(e=>{k1(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&function nH(n,e){n instanceof Ql&&n.assertNotDestroyed();const i=es(n),r=Si(void 0);try{return e()}finally{es(i),Si(r)}}(n,()=>c({transition:a,from:e,to:t})),s})}let Bb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new T,this.transitionAbortSubject=new T,this.configLoader=ce(OT),this.environmentInjector=ce(oo),this.urlSerializer=ce(Fh),this.rootContexts=ce(Yp),this.location=ce(Bp),this.inputBindingEnabled=null!==ce(Ob,{optional:!0}),this.titleStrategy=ce(a2),this.options=ce(Hh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ce(FT),this.createViewTransition=ce(l2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new TY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new CY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Xi({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qn(o=>0!==o.id),me(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dn(o=>{this.currentTransition=o;let s=!1,a=!1;return Ie(o).pipe(Yn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dn(c=>{const d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Vh(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),eo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ie(c).pipe(dn(p=>{const g=this.transitions?.getValue();return this.events.next(new Pb(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?eo:Promise.resolve(p)}),function MX(n,e,t,i,r,o){return mi(s=>function IX(n,e,t,i,r,o,s="emptyOnly"){return new CX(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Yn(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new UL(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:v,restoredState:b,extras:w}=c,E=new Pb(p,this.urlSerializer.serialize(g),v,b);this.events.next(E);const S=HL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Ie(o)}{const p="";return this.events.next(new Vh(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),eo}}),Yn(c=>{const d=new wY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),me(c=>(this.currentTransition=o={...c,guards:qY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function nX(n,e){return mi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Ie({...t,guardsResult:!0}):function iX(n,e,t,i){return $t(n).pipe(mi(r=>function lX(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ie(o.map(a=>{const c=Jp(e)??r,d=jh(a,c);return Mc(function JY(n){return n&&ng(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):c.runInContext(()=>d(n,e,t,i))).pipe(Sc())})).pipe(zh()):Ie(!0)}(r.component,r.route,t,e,i)),Sc(r=>!0!==r,!0))}(s,i,r,n).pipe(mi(a=>a&&function KY(n){return"boolean"==typeof n}(a)?function rX(n,e,t,i){return $t(e).pipe(Rh(r=>xb(function sX(n,e){return null!==n&&e&&e(new DY(n)),Ie(!0)}(r.route.parent,i),function oX(n,e){return null!==n&&e&&e(new SY(n)),Ie(!0)}(r.route,i),function cX(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function GY(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vL(()=>Ie(s.guards.map(c=>{const d=Jp(s.node)??t,h=jh(c,d);return Mc(function XY(n){return n&&ng(n.canActivateChild)}(h)?h.canActivateChild(i,n):d.runInContext(()=>h(i,n))).pipe(Sc())})).pipe(zh())));return Ie(o).pipe(zh())}(n,r.path,t),function aX(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ie(!0);const r=i.map(o=>vL(()=>{const s=Jp(e)??t,a=jh(o,s);return Mc(function YY(n){return n&&ng(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Sc())}));return Ie(r).pipe(zh())}(n,r.route,t))),Sc(r=>!0!==r,!0))}(i,o,n,e):Ie(a)),me(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Yn(c=>{if(o.guardsResult=c.guardsResult,hd(c.guardsResult))throw KL(0,c.guardsResult);const d=new EY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Qn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),NT(c=>{if(c.guards.canActivateChecks.length)return Ie(c).pipe(Yn(d=>{const h=new IY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),dn(d=>{let h=!1;return Ie(d).pipe(kX(this.paramsInheritanceStrategy,this.environmentInjector),Yn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),Yn(d=>{const h=new xY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),NT(c=>{const d=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Yn(g=>{h.component=g}),me(()=>{})));for(const g of h.children)p.push(...d(g));return p};return Eb(d(c.targetSnapshot.root)).pipe(Cb(),zs(1))}),NT(()=>this.afterPreactivation()),dn(()=>{const{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?$t(h).pipe(me(()=>o)):Ie(o)}),me(c=>{const d=function NY(n,e,t){const i=Xp(n,e._root,t?t._root:void 0);return new $L(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),Yn(()=>{this.events.next(new vT)}),((n,e,t,i)=>me(r=>(new HY(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),zs(1),Yn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Mr(this.transitionAbortSubject.pipe(Yn(c=>{throw c}))),Ph(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),dd(c=>{if(a=!0,YL(c))this.events.next(new Lh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function LY(n){return YL(n)&&hd(n.url)}(c)?this.events.next(new yT(c.url)):o.resolve(!1);else{this.events.next(new Nb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return eo}))}))}cancelNavigationTransition(t,i,r){const o=new Lh(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jX(n){return n!==Qp}let zX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ce(HX),providedIn:"root"})}return n})();class $X{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let HX=(()=>{class n extends $X{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ce(qX),providedIn:"root"})}return n})(),qX=(()=>{class n extends u2{constructor(){super(...arguments),this.location=ce(Bp),this.urlSerializer=ce(Fh),this.options=ce(Hh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ce(FT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Oh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=HL(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Pb)this.stateMemento=this.createStateMemento();else if(t instanceof Vh)this.rawUrlTree=i.initialUrl;else if(t instanceof UL){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof vT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Lh&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof Nb?this.restoreHistory(i,!0):t instanceof Sa&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ig=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ig||{});function h2(n,e){n.events.pipe(Qn(t=>t instanceof Sa||t instanceof Lh||t instanceof Nb||t instanceof Vh),me(t=>t instanceof Sa||t instanceof Vh?ig.COMPLETE:t instanceof Lh&&(0===t.code||1===t.code)?ig.REDIRECTING:ig.FAILED),Qn(t=>t!==ig.REDIRECTING),zs(1)).subscribe(()=>{e()})}function GX(n){throw n}const WX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ce(LO),this.stateManager=ce(u2),this.options=ce(Hh,{optional:!0})||{},this.pendingTasks=ce(Yy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ce(Bb),this.urlSerializer=ce(Fh),this.location=ce(Bp),this.urlHandlingStrategy=ce(FT),this._events=new T,this.errorHandler=this.options.errorHandler||GX,this.navigated=!1,this.routeReuseStrategy=ce(zX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ce(qh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ce(Ob,{optional:!0}),this.eventsSubscription=new Nt,this.isNgZoneEnabled=ce(ze)instanceof ze&&ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Lh&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof Sa)this.navigated=!0;else if(i instanceof yT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jX(r.source)};this.scheduleNavigation(s,Qp,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function QX(n){return!(n instanceof vT||n instanceof yT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ST),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=PL(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return NL(p,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=hd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Qp,null,i)}navigate(t,i={skipLocationChange:!1}){return function KX(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new B(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...WX}:!1===i?{...ZX}:i,hd(t))return xL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return xL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return h2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gh=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new T,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Sa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function NR(n,e,t){return function C5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?PR:sp}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Wr),P(Uh),function $u(n){return function qm(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(X_(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Bt(),n)}("tabindex"),P(Ea),P(fn),P(cd))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&at("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&or("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Mh],skipLocationChange:["skipLocationChange","skipLocationChange",Mh],replaceUrl:["replaceUrl","replaceUrl",Mh],routerLink:"routerLink"},standalone:!0,features:[U1,Ui]})}return n})();class f2{}let JX=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Qn(t=>t instanceof Sa),Rh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=nC(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $t(r).pipe(Ft())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ie(null);const o=r.pipe(mi(s=>null===s?Ie(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?$t([o,this.loader.loadComponent(i)]).pipe(Ft()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(j(Wr),j(BO),j(oo),j(f2),j(OT))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const LT=new X("");let m2=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Pb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Vh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function r1(){throw new Error("invalid")}()};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function Gs(n,e){return{\u0275kind:n,\u0275providers:e}}function g2(){const n=ce(Ir);return e=>{const t=n.get(sd);if(e!==t.components[0])return;const i=n.get(Wr),r=n.get(_2);1===n.get(VT)&&i.initialNavigation(),n.get(v2,null,st.Optional)?.setUpPreloading(),n.get(LT,null,st.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const _2=new X("",{factory:()=>new T}),VT=new X("",{providedIn:"root",factory:()=>1}),v2=new X("");function iJ(n){return Gs(0,[{provide:v2,useExisting:JX},{provide:f2,useExisting:n}])}function oJ(n){return Gs(9,[{provide:l2,useValue:BX},{provide:d2,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const y2=new X("ROUTER_FORROOT_GUARD"),sJ=[Bp,{provide:Fh,useClass:fT},Wr,Yp,{provide:Uh,useFactory:function p2(n){return n.routerState.root},deps:[Wr]},OT,[]];let b2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[sJ,[],{provide:qh,multi:!0,useValue:t},{provide:y2,useFactory:dJ,deps:[[Wr,new y,new M]]},{provide:Hh,useValue:i||{}},i?.useHash?{provide:cd,useClass:fZ}:{provide:cd,useClass:AF},{provide:LT,useFactory:()=>{const n=ce(OK),e=ce(ze),t=ce(Hh),i=ce(Bb),r=ce(Fh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new m2(r,i,n,e,t)}},i?.preloadingStrategy?iJ(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?uJ(i):[],i?.bindToComponentInputs?Gs(8,[ZL,{provide:Ob,useExisting:ZL}]).\u0275providers:[],i?.enableViewTransitions?oJ().\u0275providers:[],[{provide:w2,useFactory:g2},{provide:bC,multi:!0,useExisting:w2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:qh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(j(y2,8))};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({})}return n})();function dJ(n){return"guarded"}function uJ(n){return["disabled"===n.initialNavigation?Gs(3,[{provide:fC,multi:!0,useFactory:()=>{const e=ce(Wr);return()=>{e.setUpLocationChangeListener()}}},{provide:VT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gs(2,[{provide:VT,useValue:0},{provide:fC,multi:!0,deps:[Ir],useFactory:e=>{const t=e.get(uZ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Wr),o=e.get(_2);h2(r,()=>{i(!0)}),e.get(Bb).afterPreactivation=()=>(i(!0),o.closed?Ie(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const w2=new X("");function kr(n){return null!=n&&"false"!=`${n}`}function Ub(n,e=0){return function fJ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function E2(n){return Array.isArray(n)?n:[n]}function fd(n){return n instanceof fn?n.nativeElement:n}const mJ=["addListener","removeListener"],pJ=["addEventListener","removeEventListener"],gJ=["on","off"];function rg(n,e,t,i){if(Pe(t)&&(i=t,t=void 0),i)return rg(n,e,t).pipe(cT(i));const[r,o]=function yJ(n){return Pe(n.addEventListener)&&Pe(n.removeEventListener)}(n)?pJ.map(s=>a=>n[s](e,a,t)):function _J(n){return Pe(n.addListener)&&Pe(n.removeListener)}(n)?mJ.map(I2(n,e)):function vJ(n){return Pe(n.on)&&Pe(n.off)}(n)?gJ.map(I2(n,e)):[];if(!r&&Li(n))return mi(s=>rg(s,e,t))(Ae(n));if(!r)throw new TypeError("Invalid event target");return new vt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function I2(n,e){return t=>i=>n[t](e,i)}class bJ extends Nt{constructor(e,t){super()}schedule(e,t=0){return this}}const jb={setInterval(n,e,...t){const{delegate:i}=jb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=jb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class zb extends bJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return jb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&jb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ei(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const og={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=og;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Nt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=og;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=og;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},BT={now:()=>(BT.delegate||Date).now(),delegate:void 0};class sg{constructor(e,t=sg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}sg.now=BT.now;class $b extends sg{constructor(e,t=sg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class EJ extends $b{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class wJ extends zb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=og.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(og.cancelAnimationFrame(t),e._scheduled=void 0)}});let UT,xJ=1;const Hb={};function x2(n){return n in Hb&&(delete Hb[n],!0)}const CJ={setImmediate(n){const e=xJ++;return Hb[e]=!0,UT||(UT=Promise.resolve()),UT.then(()=>x2(e)&&n()),e},clearImmediate(n){x2(n)}},{setImmediate:TJ,clearImmediate:DJ}=CJ,qb={setImmediate(...n){const{delegate:e}=qb;return(e?.setImmediate||TJ)(...n)},clearImmediate(n){const{delegate:e}=qb;return(e?.clearImmediate||DJ)(n)},delegate:void 0},md=(new class SJ extends $b{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class AJ extends zb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=qb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(qb.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new $b(zb)),kJ=md;function Gb(n=0,e,t=kJ){let i=-1;return null!=e&&(Yf(e)?t=e:i=e),new vt(r=>{let o=function PJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function C2(n,e=md){return function RJ(n){return se((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,t.next(d)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ye(t,d=>{i=!0,r=d,o||Ae(n(d)).subscribe(o=ye(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>Gb(n,e))}let jT;try{jT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jT=!1}let ag,Zb,pd,zT,ms=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function NK(n){return n===GF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(j(os))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wb(n){return function NJ(){if(null==ag&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ag=!0}))}finally{ag=ag||!1}return ag}()?n:!!n.capture}function cg(){if("object"!=typeof document||!document)return 0;if(null==Zb){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Zb=0,0===n.scrollLeft&&(n.scrollLeft=1,Zb=0===n.scrollLeft?1:2),n.remove()}return Zb}function Zh(n){return n.composedPath?n.composedPath()[0]:n.target}const UJ=new X("cdk-dir-doc",{providedIn:"root",factory:function jJ(){return ce(qt)}}),zJ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let D2=(()=>{class n{constructor(t){this.value="ltr",this.change=new Yt,t&&(this.value=function $J(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?zJ.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(j(UJ,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({})}return n})(),$T=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new vt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(C2(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Qn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=fd(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ze),j(ms),j(qt,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lg=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new T,this._elementScrolled=new vt(s=>this.ngZone.runOutsideAngular(()=>rg(this.elementRef.nativeElement,"scroll").pipe(Mr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=cg()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==cg()?t.left=t.right:1==cg()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function OJ(){if(null==pd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pd=!1,pd;if("scrollBehavior"in document.documentElement.style)pd=!0;else{const n=Element.prototype.scrollTo;pd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return pd}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==cg()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==cg()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(P(fn),P($T),P(ze),P(D2,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),GJ=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new T,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(C2(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(j(ms),j(ze),j(qt,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({})}return n})();function Kb(n,e=md){return se((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function c(){const d=s+n,h=e.now();if(h<d)return r=this.schedule(void 0,d-h),void i.add(r);a()}t.subscribe(ye(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function k2(n){return Qn((e,t)=>n<=t)}const R2=new Set;let gd,fee=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pee}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mee(n,e){if(!R2.has(n))try{gd||(gd=document.createElement("style"),e&&(gd.nonce=e),gd.setAttribute("type","text/css"),document.head.appendChild(gd)),gd.sheet&&(gd.sheet.insertRule(`@media ${n} {body{ }}`,0),R2.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ms),j(xI,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pee(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let gee=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new T}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return P2(E2(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Eb(P2(E2(t)).map(s=>this._registerQuery(s).observable));return o=xb(o.pipe(zs(1)),o.pipe(k2(1),Kb(0))),o.pipe(me(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new vt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ld(i),me(({matches:s})=>({query:t,matches:s})),Mr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(j(fee),j(ze))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P2(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let F2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Eee(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function wee(n){try{return n.frameElement}catch{return null}}(function Mee(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===V2(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=V2(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Aee(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function See(n){return!function xee(n){return function Tee(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Iee(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Cee(n){return function Dee(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||L2(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(j(ms))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L2(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function V2(n){if(!L2(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class kee{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(zs(1)).subscribe(e)}}let Ree=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new kee(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(j(F2),j(ze),j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function U2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Pee=new X("cdk-input-modality-detector-options"),Nee={ignoreKeys:[18,17,224,91,16]},Kh=Wb({passive:!0,capture:!0});let Oee=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Xi(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Zh(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(B2(s)?"keyboard":"mouse"),this._mostRecentTarget=Zh(s))},this._onTouchstart=s=>{U2(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zh(s))},this._options={...Nee,...o},this.modalityDetected=this._modality.pipe(k2(1)),this.modalityChanged=this.modalityDetected.pipe(ml()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Kh),r.addEventListener("mousedown",this._onMousedown,Kh),r.addEventListener("touchstart",this._onTouchstart,Kh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Kh),document.removeEventListener("mousedown",this._onMousedown,Kh),document.removeEventListener("touchstart",this._onTouchstart,Kh))}static#e=this.\u0275fac=function(i){return new(i||n)(j(ms),j(ze),j(qt),j(Pee,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lee=new X("cdk-focus-monitor-default-options"),Qb=Wb({passive:!0,capture:!0});let Vee=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new T,this._rootNodeFocusAndBlurListener=a=>{for(let d=Zh(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=fd(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ie();const o=function LJ(n){if(function FJ(){if(null==zT){const n=typeof document<"u"?document.head:null;zT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zT}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new T,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=fd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=fd(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Zh(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qb)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(j(ze),j(ms),j(Oee),j(qt,8),j(Lee,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const z2="cdk-high-contrast-black-on-white",$2="cdk-high-contrast-white-on-black",qT="cdk-high-contrast-active";let Bee=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ce(gee).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qT,z2,$2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(qT,z2):2===i&&t.add(qT,$2)}}static#e=this.\u0275fac=function(i){return new(i||n)(j(ms),j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jee=new X("mat-sanity-checks",{providedIn:"root",factory:function Uee(){return!0}});let Zr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function BJ(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(j(Bee),j(jee,8),j(qt))};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[A2,A2]})}return n})();function zee(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}const G2=Wb({passive:!0,capture:!0});class qee{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Zh(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,G2)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,G2)))}}class Yb{static#e=this._eventManager=new qee;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...W2,...i.animation},s=i.radius||function Wee(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new Hee(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const S=()=>this._finishRippleTransition(w),A=()=>this._destroyRipple(w);h.addEventListener("transitionend",S),h.addEventListener("transitioncancel",A)}),this._activeRipples.set(w,null),(b||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...W2,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=fd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,K2.forEach(i=>{Yb._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Q2.forEach(t=>{this._triggerElement.addEventListener(t,this,Z2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=B2(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!U2(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(K2.forEach(t=>Yb._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Q2.forEach(t=>e.removeEventListener(t,this,Z2)))}}let X2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Zr,Zr]})}return n})(),Zee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Zr]})}return n})();const Ma="*";function Kee(n,e){return{type:7,name:n,definitions:e,options:{}}}function J2(n,e=null){return{type:4,styles:e,timings:n}}function Xb(n){return{type:6,styles:n,offset:null}}function eV(n,e,t){return{type:0,name:n,styles:e,options:t}}function tV(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class ug{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class nV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Jb=["*"],ete=["content"];function tte(n,e){if(1&n){const t=Po();F(0,"div",2),at("click",function(){return bt(t),Ct(He()._onBackdropClicked())}),G()}2&n&&si("mat-drawer-shown",He()._isShowingBackdrop())}function nte(n,e){1&n&&(F(0,"mat-drawer-content"),ci(1,2),G())}const ite=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],rte=["mat-drawer","mat-drawer-content","*"];function ote(n,e){if(1&n){const t=Po();F(0,"div",2),at("click",function(){return bt(t),Ct(He()._onBackdropClicked())}),G()}2&n&&si("mat-drawer-shown",He()._isShowingBackdrop())}function ste(n,e){1&n&&(F(0,"mat-sidenav-content"),ci(1,2),G())}const ate=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],cte=["mat-sidenav","mat-sidenav-content","*"],iV={transformDrawer:Kee("transform",[eV("open, open-instant",Xb({transform:"none",visibility:"visible"})),eV("void",Xb({"box-shadow":"none",visibility:"hidden"})),tV("void => open-instant",J2("0ms")),tV("void <=> open, open-instant => void",J2("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},dte=new X("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ute(){return!1}}),WT=new X("MAT_DRAWER_CONTAINER");let ew=(()=>{class n extends lg{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ls),P(Vt(()=>oV)),P(fn),P($T),P(ze))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&_p("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Ht([{provide:lg,useExisting:n}]),pt],ngContentSelectors:Jb,decls:1,vars:0,template:function(i,r){1&i&&(ds(),ci(0))},encapsulation:2,changeDetection:0})}return n})(),rV=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=kr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=kr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(kr(t))}constructor(t,i,r,o,s,a,c,d){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=d,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new T,this._animationEnd=new T,this._animationState="void",this.openedChange=new Yt(!0),this._openedStream=this.openedChange.pipe(Qn(h=>h),me(()=>{})),this.openedStart=this._animationStarted.pipe(Qn(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),uT(void 0)),this._closedStream=this.openedChange.pipe(Qn(h=>!h),me(()=>{})),this.closedStart=this._animationStarted.pipe(Qn(h=>h.fromState!==h.toState&&"void"===h.toState),uT(void 0)),this._destroyed=new T,this.onPositionChanged=new Yt,this._modeChanged=new T,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{rg(this._elementRef.nativeElement,"keydown").pipe(Qn(h=>27===h.keyCode&&!this.disableClose&&!function HT(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),Mr(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(ml((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(zs(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(P(fn),P(Ree),P(Vee),P(ms),P(ze),P(F2),P(qt,8),P(WT,8))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&Zy(ete,5),2&i){let o;Cr(o=Tr())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&Zx("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(or("align",null),qx("@transform",r._animationState),si("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Jb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(ds(),F(0,"div",0,1),ci(2),G())},dependencies:[lg],encapsulation:2,data:{animation:[iV.transformDrawer]},changeDetection:0})}return n})(),oV=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=kr(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:kr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new Th,this.backdropClick=new Yt,this._destroyed=new T,this._doCheckSubject=new T,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T,t&&t.change.pipe(Mr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Mr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(ld(this._allDrawers),Mr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ld(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Kb(10),Mr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Qn(i=>i.fromState!==i.toState),Mr(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Mr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Mr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(zs(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Mr(eu(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(P(D2,8),P(fn),P(ze),P(Ls),P(GJ),P(dte),P(Ym,8))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(No(o,ew,5),No(o,rV,5)),2&i){let s;Cr(s=Tr())&&(r._content=s.first),Cr(s=Tr())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&Zy(ew,5),2&i){let o;Cr(o=Tr())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&si("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ht([{provide:WT,useExisting:n}])],ngContentSelectors:rte,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(ds(ite),Ut(0,tte,1,2,"div",0),ci(1),ci(2,1),Ut(3,nte,2,0,"mat-drawer-content",1)),2&i&&(Je("ngIf",r.hasBackdrop),Ce(3),Je("ngIf",!r._content))},dependencies:[Dc,ew],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),ZT=(()=>{class n extends ew{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ls),P(Vt(()=>aV)),P(fn),P($T),P(ze))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&_p("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Ht([{provide:lg,useExisting:n}]),pt],ngContentSelectors:Jb,decls:1,vars:0,template:function(i,r){1&i&&(ds(),ci(0))},encapsulation:2,changeDetection:0})}return n})(),sV=(()=>{class n extends rV{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=kr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Ub(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Ub(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275cmp=Hn({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(or("align",null),_p("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),si("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[pt],ngContentSelectors:Jb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(ds(),F(0,"div",0,1),ci(2),G())},dependencies:[lg],encapsulation:2,data:{animation:[iV.transformDrawer]},changeDetection:0})}return n})(),aV=(()=>{class n extends oV{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275cmp=Hn({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(No(o,ZT,5),No(o,sV,5)),2&i){let s;Cr(s=Tr())&&(r._content=s.first),Cr(s=Tr())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&si("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ht([{provide:WT,useExisting:n}]),pt],ngContentSelectors:cte,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(ds(ate),Ut(0,ote,1,2,"div",0),ci(1),ci(2,1),Ut(3,ste,2,0,"mat-sidenav-content",1)),2&i&&(Je("ngIf",r.hasBackdrop),Ce(3),Je("ngIf",!r._content))},dependencies:[Dc,ZT],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),hte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[KC,Zr,S2,S2,Zr]})}return n})();const fte=["*",[["mat-toolbar-row"]]],mte=["*","mat-toolbar-row"],pte=zee(class{constructor(n){this._elementRef=n}});let gte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ne({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),_te=(()=>{class n extends pte{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(P(fn),P(ms),P(qt))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&No(o,gte,5),2&i){let s;Cr(s=Tr())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&si("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[pt],ngContentSelectors:mte,decls:2,vars:0,template:function(i,r){1&i&&(ds(fte),ci(0),ci(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),vte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Zr,Zr]})}return n})();function yte(n,e){if(1&n){const t=Po();F(0,"mat-toolbar")(1,"span")(2,"a",22),Ge(3,"img",23),G()(),Ge(4,"span",24),F(5,"span",25),ge(6,' "Post with Purpose, Earn with Pride | Join Earn2Post" '),G(),Ge(7,"span",24),F(8,"div",26),Ge(9,"button",27)(10,"input",28),G(),F(11,"div",29)(12,"button",30),at("click",function(){return bt(t),Ct(He().toggleSearch())}),G(),Ge(13,"input",28),G(),F(14,"button",31),at("click",function(){return bt(t),He(),Ct(Gr(3).toggle())}),G()()}}const bte=["*"];let KT=(()=>{class n{constructor(){this.opened=!1,this.visible=!0}toggleSearch(){const t=document.getElementById("search-bar"),i=document.getElementById("header-moto"),r=document.getElementById("header-logo"),o=document.getElementById("header-menu");t&&i&&r&&o&&(t.classList.toggle("active"),i.classList.toggle("inactive"),r.classList.toggle("inactive"),o.classList.toggle("inactive"))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:bte,decls:42,vars:5,consts:[[4,"ngIf"],["autosize","","hasBackdrop","false"],["position","end",3,"click"],["sidenav",""],[1,"container"],[1,"top-nav"],["routerLink","/profile",1,"box"],["src","assets\\img\\menu_profile.svg","alt",""],[1,"box"],["src","assets\\img\\menu_message.svg","alt",""],["routerLink","/clicker",1,"box"],["src","assets\\img\\menu_clicker.svg","alt",""],["src","assets\\img\\menu_debux.svg","alt",""],[1,"bottom-nav"],[1,"box-no-border"],["src","assets\\img\\menu_settings.svg","alt",""],["src","assets\\img\\menu_bug.svg","alt",""],[1,"seperator"],["src","assets\\img\\menu_switch.svg","alt",""],["routerLink","/",1,"box"],["src","assets\\img\\menu_logout.svg","alt",""],[3,"click"],["routerLink","/home"],["id","header-logo","src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],["id","header-moto",1,"moto"],[1,"search"],[1,"search_button"],["type","search","placeholder","Search...",1,"search_input"],["id","search-bar",1,"search_compact"],[1,"search_button",3,"click"],["id","header-menu",1,"menu_button",3,"click"]],template:function(i,r){if(1&i){const o=Po();ds(),Ut(0,yte,15,0,"mat-toolbar",0),F(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),at("click",function(){return bt(o),Ct(Gr(3).close())}),F(4,"div",4)(5,"div",5)(6,"div",6),Ge(7,"img",7),F(8,"h4"),ge(9,"Profile"),G()(),F(10,"div",8),Ge(11,"img",9),F(12,"h4"),ge(13,"Messages"),G()(),F(14,"div",10),Ge(15,"img",11),F(16,"h4"),ge(17,"Clicker"),G()(),F(18,"div",8),Ge(19,"img",12),F(20,"h4"),ge(21," Buy DeBux"),G()()(),F(22,"div",13)(23,"div",14),Ge(24,"img",15),F(25,"h4"),ge(26,"Settings"),G()(),F(27,"div",8),Ge(28,"img",16),F(29,"h4"),ge(30,"Bug Report"),G()(),Ge(31,"div",17),F(32,"div",14),Ge(33,"img",18),F(34,"h4"),ge(35,"Switch Acc"),G()(),F(36,"div",19),Ge(37,"img",20),F(38,"h4"),ge(39,"Log Out"),G()()()()(),F(40,"mat-sidenav-content",21),at("click",function(){return bt(o),Ct(Gr(3).close())}),ci(41),G()()}2&i&&(Je("ngIf",r.visible),Ce(1),si("login-page",!r.visible)("other-page",r.visible))},dependencies:[Dc,Gh,sV,aV,ZT,_te],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px;overflow:hidden}.logo[_ngcontent-%COMP%]{height:auto;width:90%;margin-bottom:4%;margin-left:8%}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:1.7vw}.search[_ngcontent-%COMP%]{display:flex;align-items:center;width:16%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background-color:#212121}.search_button[_ngcontent-%COMP%]{height:61px;width:61px;border:none;border-radius:40px;background:transparent url(/assets/img/search.svg) no-repeat;background-size:78%;background-position:6px 11px}.search_input[_ngcontent-%COMP%]{margin-left:2%;width:80%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background:transparent;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 0}.search_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.search_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.search_compact[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{background-color:#212121;border-radius:40px;width:100%}.active[_ngcontent-%COMP%]   .search_button[_ngcontent-%COMP%]{height:61px;width:61px;background-position:6px 11px}.active[_ngcontent-%COMP%]   .search_input[_ngcontent-%COMP%]{display:flex}.inactive[_ngcontent-%COMP%]{display:none}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:110%;background-position:-5px 2px;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.menu_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}@media (min-width: 1921px){.moto[_ngcontent-%COMP%]{font-size:200%}}@media (max-width: 1560px){.search[_ngcontent-%COMP%]{display:none}.search_compact[_ngcontent-%COMP%]{display:flex}.search_input[_ngcontent-%COMP%]{display:none}}@media (max-width: 1100px){.moto[_ngcontent-%COMP%]{display:none}}@media (max-width: 510px){.search_button[_ngcontent-%COMP%]{width:40px;height:40px;background-position:4px 6px}.menu_button[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:15px;background-position:-3px 3px}}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#212121;width:100%}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.box[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;color:#e0e1e1;background-color:transparent}.box[_ngcontent-%COMP%]:hover, .box-no-border[_ngcontent-%COMP%]:hover{background-color:#505050;cursor:pointer}.box[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:15px}.box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:lighter;padding:0;margin:10px 0 10px 22px}.seperator[_ngcontent-%COMP%]{padding-top:2.5%;padding-bottom:2.5%;background-color:#464646}"]})}return n})();Ye(290);var Qh=Ye(534);(0,Qh.registerVersion)("firebase","10.5.2","app");const Cte=new class xte extends $b{}(class Ite extends zb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),tw=new Ec("ANGULARFIRE2_VERSION");class cV{constructor(){return((n,e)=>{const t=(0,Qh.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(Dte)}}const Dte="app-check";function Yh(){}class lV{zone;delegate;constructor(e,t=Cte){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class Ate{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yh,{},Yh,Yh)),t.pipe(Yn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dV=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new lV(Zone.current)),this.insideAngular=t.run(()=>new lV(Zone.current,md)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(j(ze))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uo(n){return function Mte(n){return function(t){return(t=t.lift(new Ate(n.ngZone))).pipe(Cs(n.outsideAngular),xs(n.insideAngular))}}(function Xh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var ka=Ye(106);ka.Z.registerVersion("firebase","10.5.2","app-compat");const Nte=["ngOnDestroy"];class uV{constructor(e){return e}}const nw=new X("angularfire2.app.options"),iw=new X("angularfire2.app.name");function QT(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=ka.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>ka.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Lte("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new uV(s)}const Lte=(n,...e)=>{},Vte={provide:uV,useFactory:QT,deps:[nw,ze,[new y,iw]]};let Bte=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:nw,useValue:t},{provide:iw,useValue:i}]}}constructor(t){ka.Z.registerVersion("angularfire",tw.full,"core"),ka.Z.registerVersion("angularfire",tw.full,"app-compat"),ka.Z.registerVersion("angular",UR.full,t.toString())}static \u0275fac=function(i){return new(i||n)(j(os))};static \u0275mod=Zt({type:n});static \u0275inj=Pt({providers:[Vte]})}return n})();function hV(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Ute(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(fV("error",`${e} was already initialized on the ${t} Firebase App with different settings.${jte?" You may need to reload as Firebase is not HMR aware.":""}`),fV("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const jte=typeof module<"u"&&!!module.hot,fV=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class zte extends T{constructor(e=1/0,t=1/0,i=BT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function mV(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Xo({connector:()=>new zte(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function pV(n,e){return Pe(e)?dn(()=>n,e):dn(()=>n)}const gV=new X("angularfire2.auth.use-emulator"),_V=new X("angularfire2.auth.settings"),vV=new X("angularfire2.auth.tenant-id"),yV=new X("angularfire2.auth.langugage-code"),bV=new X("angularfire2.auth.use-device-language"),wV=new X("angularfire.auth.persistence"),EV=(n,e,t,i,r,o,s,a)=>hV(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[d,h]of Object.entries(s))c.settings[d]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let Jh=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,d,h,p,g,v){const b=new T,w=Ie(void 0).pipe(xs(s.outsideAngular),dn(()=>o.runOutsideAngular(()=>Promise.resolve().then(Ye.bind(Ye,290)))),me(()=>QT(t,o,i)),me(E=>EV(E,o,a,d,h,p,c,g)),mV({bufferSize:1,refCount:!1}));if(vb(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ie(null);else{w.pipe(Sc()).subscribe();const E=w.pipe(dn(k=>k.getRedirectResult().then(Y=>Y,()=>null)),uo,mV({bufferSize:1,refCount:!1})),S=w.pipe(dn(k=>new vt(Y=>({unsubscribe:o.runOutsideAngular(()=>k.onAuthStateChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))})))),A=w.pipe(dn(k=>new vt(Y=>({unsubscribe:o.runOutsideAngular(()=>k.onIdTokenChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))}))));this.authState=E.pipe(pV(S),Cs(s.outsideAngular),xs(s.insideAngular)),this.user=E.pipe(pV(A),Cs(s.outsideAngular),xs(s.insideAngular)),this.idToken=this.user.pipe(dn(k=>k?$t(k.getIdToken()):Ie(null))),this.idTokenResult=this.user.pipe(dn(k=>k?$t(k.getIdTokenResult()):Ie(null))),this.credential=eu(E,b,this.authState.pipe(Qn(k=>!k))).pipe(me(k=>k?.user?k:null),Cs(s.outsideAngular),xs(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Nte.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(h=>{const p=h?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,p),p})})})}))(this,w,o,{spy:{apply:(E,S,A)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&A.then(k=>b.next(k))}}})}static \u0275fac=function(i){return new(i||n)(j(nw),j(iw,8),j(os),j(ze),j(dV),j(gV,8),j(_V,8),j(vV,8),j(yV,8),j(bV,8),j(wV,8),j(cV,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Hte=(()=>{class n{constructor(){ka.Z.registerVersion("angularfire",tw.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Zt({type:n});static \u0275inj=Pt({providers:[Jh]})}return n})();function YT(){return se((n,e)=>{let t,i=!1;n.subscribe(ye(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var _e,K=Ye(861),IV=Ye(537),Ws=Ye(879),cn=Ye(58),qte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ps={},XT=XT||{},et=qte||self;function rw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JT="closure_uid_"+(1e9*Math.random()>>>0),Wte=0;function Zte(n,e,t){return n.call.apply(n.bind,arguments)}function Kte(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function sr(n,e,t){return(sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zte:Kte).apply(null,arguments)}function ow(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function kc(){this.s=this.s,this.o=this.o}kc.prototype.s=!1,kc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Gte(n){Object.prototype.hasOwnProperty.call(n,JT)&&n[JT]||(n[JT]=++Wte)}(this)},kc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function eD(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function CV(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(rw(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function ar(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};var Yte=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{et.addEventListener("test",()=>{},e),et.removeEventListener("test",()=>{},e)}catch{}return n}();function fg(n){return/^[\s\xa0]*$/.test(n)}function sw(){var n=et.navigator;return n&&(n=n.userAgent)?n:""}function Zs(n){return-1!=sw().indexOf(n)}function tD(n){return tD[" "](n),n}tD[" "]=function(){};var iD,n,Jte=Zs("Opera"),ef=Zs("Trident")||Zs("MSIE"),TV=Zs("Edge"),nD=TV||ef,DV=Zs("Gecko")&&!(-1!=sw().toLowerCase().indexOf("webkit")&&!Zs("Edge"))&&!(Zs("Trident")||Zs("MSIE"))&&!Zs("Edge"),ene=-1!=sw().toLowerCase().indexOf("webkit")&&!Zs("Edge");function AV(){var n=et.document;return n?n.documentMode:void 0}e:{var rD="",oD=(n=sw(),DV?/rv:([^\);]+)(\)|;)/.exec(n):TV?/Edge\/([\d\.]+)/.exec(n):ef?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ene?/WebKit\/(\S+)/.exec(n):Jte?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(oD&&(rD=oD?oD[1]:""),ef){var sD=AV();if(null!=sD&&sD>parseFloat(rD)){iD=String(sD);break e}}iD=rD}var tne=et.document&&ef&&(AV()||parseInt(iD,10))||void 0;function mg(n,e){if(ar.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(DV){e:{try{tD(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mg.$.h.call(this)}}Mi(mg,ar);var nne={2:"touch",3:"pen",4:"mouse"};mg.prototype.h=function(){mg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var pg="closure_listenable_"+(1e6*Math.random()|0),ine=0;function rne(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++ine,this.fa=this.ia=!1}function aw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function cD(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function MV(n){const e={};for(const t in n)e[t]=n[t];return e}const kV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<kV.length;o++)t=kV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function cw(n){this.src=n,this.g={},this.h=0}function lD(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=xV(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(aw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dD(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}cw.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=dD(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new rne(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var uD="closure_lm_"+(1e6*Math.random()|0),hD={};function PV(n,e,t,i,r){if(i&&i.once)return OV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)PV(n,e[o],t,i,r);return null}return t=gD(t),n&&n[pg]?n.O(e,t,hg(i)?!!i.capture:!!i,r):NV(n,e,t,!1,i,r)}function NV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=hg(r)?!!r.capture:!!r,a=mD(n);if(a||(n[uD]=a=new cw(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function sne(){const e=ane;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Yte||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(LV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function OV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)OV(n,e[o],t,i,r);return null}return t=gD(t),n&&n[pg]?n.P(e,t,hg(i)?!!i.capture:!!i,r):NV(n,e,t,!0,i,r)}function FV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)FV(n,e[o],t,i,r);else i=hg(i)?!!i.capture:!!i,t=gD(t),n&&n[pg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dD(o=n.g[e],t,i,r))&&(aw(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=mD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dD(e,t,i,r)),(t=-1<n?e[n]:null)&&fD(t))}function fD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[pg])lD(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(LV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=mD(e))?(lD(t,n),0==t.h&&(t.src=null,e[uD]=null)):aw(n)}}}function LV(n){return n in hD?hD[n]:hD[n]="on"+n}function ane(n,e){if(n.fa)n=!0;else{e=new mg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&fD(n),n=t.call(i,e)}return n}function mD(n){return(n=n[uD])instanceof cw?n:null}var pD="__closure_events_fn_"+(1e9*Math.random()>>>0);function gD(n){return"function"==typeof n?n:(n[pD]||(n[pD]=function(e){return n.handleEvent(e)}),n[pD])}function ki(){kc.call(this),this.i=new cw(this),this.S=this,this.J=null}function qi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ar(e,n);else if(e instanceof ar)e.target=e.target||n;else{var r=e;RV(e=new ar(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=lw(s,i,!0,e)&&r}if(r=lw(s=e.g=n,i,!0,e)&&r,r=lw(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=lw(s=e.g=t[o],i,!1,e)&&r}function lw(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&lD(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Mi(ki,kc),ki.prototype[pg]=!0,ki.prototype.removeEventListener=function(n,e,t,i){FV(this,n,e,t,i)},ki.prototype.N=function(){if(ki.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)aw(t[i]);delete n.g[e],n.h--}}this.J=null},ki.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ki.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var _D=et.JSON.stringify;function lne(){var n=vD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VV=new class cne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new une,n=>n.reset());class une{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hne(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function fne(n){et.setTimeout(()=>{throw n},0)}let gg,_g=!1,vD=new class dne{constructor(){this.h=this.g=null}add(e,t){const i=VV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},BV=()=>{const n=et.Promise.resolve(void 0);gg=()=>{n.then(mne)}};var mne=()=>{for(var n;n=lne();){try{n.h.call(n.g)}catch(t){fne(t)}var e=VV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}_g=!1};function dw(n,e){ki.call(this),this.h=n||1,this.g=e||et,this.j=sr(this.qb,this),this.l=Date.now()}function yD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bD(n,e,t){if("function"==typeof n)t&&(n=sr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=sr(n.handleEvent,n)}return 2147483647<Number(e)?-1:et.setTimeout(n,e||0)}function UV(n){n.g=bD(()=>{n.g=null,n.i&&(n.i=!1,UV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(dw,ki),(_e=dw.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qi(this,"tick"),this.ga&&(yD(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){dw.$.N.call(this),yD(this),delete this.g};class pne extends kc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UV(this)}N(){super.N(),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vg(n){kc.call(this),this.h=n,this.g={}}Mi(vg,kc);var jV=[];function zV(n,e,t,i){Array.isArray(t)||(t&&(jV[0]=t.toString()),t=jV);for(var r=0;r<t.length;r++){var o=PV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function $V(n){cD(n.g,function(e,t){this.g.hasOwnProperty(t)&&fD(e)},n),n.g={}}function uw(){this.g=!0}function tf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yne(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return _D(t)}catch{return e}}(n,t)+(i?" "+i:"")})}vg.prototype.N=function(){vg.$.N.call(this),$V(this)},vg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uw.prototype.Ea=function(){this.g=!1},uw.prototype.info=function(){};var vd={},HV=null;function hw(){return HV=HV||new ki}function qV(n){ar.call(this,vd.Ta,n)}function yg(n){const e=hw();qi(e,new qV(e))}function GV(n,e){ar.call(this,vd.STAT_EVENT,n),this.stat=e}function Rr(n){const e=hw();qi(e,new GV(e,n))}function WV(n,e){ar.call(this,vd.Ua,n),this.size=e}function bg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){n()},e)}vd.Ta="serverreachability",Mi(qV,ar),vd.STAT_EVENT="statevent",Mi(GV,ar),vd.Ua="timingevent",Mi(WV,ar);var fw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wD(){}function QV(){}wD.prototype.h=null;var xD,wg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ED(){ar.call(this,"d")}function ID(){ar.call(this,"c")}function mw(){}function Eg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new vg(this),this.P=bne,this.V=new dw(n=nD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YV}function YV(){this.i=null,this.g="",this.h=!1}Mi(ED,ar),Mi(ID,ar),Mi(mw,wD),mw.prototype.g=function(){return new XMLHttpRequest},mw.prototype.i=function(){return{}},xD=new mw;var bne=45e3,CD={},pw={};function TD(n,e,t){n.L=1,n.v=yw(Ra(e)),n.s=t,n.S=!0,XV(n,null)}function XV(n,e){n.G=Date.now(),Ig(n),n.A=Ra(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),cB(t.i,"t",i),n.C=0,t=n.l.J,n.h=new YV,n.g=RB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new pne(sr(n.Pa,n,n.g),n.O)),zV(n.U,n.g,"readystatechange",n.nb),e=n.I?MV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),yg(),function gne(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");if(1<d.length){var h=d[0];d=d[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+d+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function JV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function eB(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=wne(n,t),r==pw){4==e&&(n.o=4,Rr(14),i=!1),tf(n.j,n.m,null,"[Incomplete Response]");break}if(r==CD){n.o=4,Rr(15),tf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}tf(n.j,n.m,r,null),DD(n,r)}JV(n)&&r!=pw&&r!=CD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Rr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ND(e),e.M=!0,Rr(11))):(tf(n.j,n.m,t,"[Invalid Chunked Response]"),yd(n),xg(n))}function wne(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?pw:(t=Number(e.substring(t,i)),isNaN(t)?CD:(i+=1)+t>e.length?pw:(e=e.slice(i,i+t),n.C=i+t,e))}function Ig(n){n.Y=Date.now()+n.P,tB(n,n.P)}function tB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bg(sr(n.lb,n),e)}function gw(n){n.B&&(et.clearTimeout(n.B),n.B=null)}function xg(n){0==n.l.H||n.J||AB(n.l,n)}function yd(n){gw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,yD(n.V),$V(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function DD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||AD(t.i,n)))if(!n.K&&AD(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Cw(t),Iw(t)}PD(t),Rr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=bg(sr(t.ib,t),6e3));if(1>=uB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else wd(t,11)}else if((n.K||t.g==n)&&Cw(t),!fg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const h=d[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=d[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(SD(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,vn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=kB(i,i.J?i.pa:null,i.Y),s.K){hB(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(gw(a),Ig(a)),i.g=s}else TB(i);0<t.j.length&&xw(t)}else"stop"!=d[0]&&"close"!=d[0]||wd(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?wd(t,7):RD(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}yg()}catch{}}function nB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ine(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Ene(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rw(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(_e=Eg.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==Ks(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const h=Ks(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||nD||this.g&&(this.h.h||this.g.ja()||bB(this.g)))){this.J||4!=h||7==e||yg(),gw(this);var t=this.g.da();this.ca=t;t:if(JV(this)){var i=bB(this.g);n="";var r=i.length,o=4==Ks(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yd(this),xg(this);var s="";break t}this.h.i=new et.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function _ne(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fg(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,Rr(12),yd(this),xg(this);break e}tf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DD(this,t)}this.S?(eB(this,h,s),nD&&this.i&&3==h&&(zV(this.U,this.V,"tick",this.mb),this.V.start())):(tf(this.j,this.m,s,null),DD(this,s)),4==h&&yd(this),this.i&&!this.J&&(4==h?AB(this.l,this):(this.i=!1,Ig(this)))}else(function jne(n){const e={};n=(n.g&&2<=Ks(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(fg(n[i]))continue;var t=hne(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function one(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),yd(this),xg(this)}}}catch{}},_e.mb=function(){if(this.g){var n=Ks(this.g),e=this.g.ja();this.C<e.length&&(gw(this),eB(this,n,e),this.i&&4!=n&&Ig(this))}},_e.cancel=function(){this.J=!0,yd(this)},_e.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vne(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yg(),Rr(17)),yd(this),this.o=2,xg(this)):tB(this,this.Y-n)};var iB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof bd){this.h=n.h,_w(this,n.j),this.s=n.s,this.g=n.g,vw(this,n.m),this.l=n.l;var e=n.i,t=new Dg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),rB(this,t),this.o=n.o}else n&&(e=String(n).match(iB))?(this.h=!1,_w(this,e[1]||"",!0),this.s=Cg(e[2]||""),this.g=Cg(e[3]||"",!0),vw(this,e[4]),this.l=Cg(e[5]||"",!0),rB(this,e[6]||"",!0),this.o=Cg(e[7]||"")):(this.h=!1,this.i=new Dg(null,this.h))}function Ra(n){return new bd(n)}function _w(n,e,t){n.j=t?Cg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rB(n,e,t){e instanceof Dg?(n.i=e,function Mne(n,e){e&&!n.j&&(Rc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(sB(this,i),cB(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Tg(e,Ane)),n.i=new Dg(e,n.h))}function vn(n,e,t){n.i.set(e,t)}function yw(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Tg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Cne),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Cne(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Tg(e,oB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Tg(e,oB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Tg(t,"/"==t.charAt(0)?Dne:Tne,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Tg(t,Sne)),n.join("")};var oB=/[#\/\?@]/g,Tne=/[#\?:]/g,Dne=/[#\?]/g,Ane=/[#\?@]/g,Sne=/#/g;function Dg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function xne(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sB(n,e){Rc(n),e=nf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function aB(n,e){return Rc(n),e=nf(n,e),n.g.has(e)}function cB(n,e,t){sB(n,e),0<t.length&&(n.i=null,n.g.set(nf(n,e),eD(t)),n.h+=t.length)}function nf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(_e=Dg.prototype).add=function(n,e){Rc(this),this.i=null,n=nf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){Rc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},_e.ta=function(){Rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},_e.Z=function(n){Rc(this);let e=[];if("string"==typeof n)aB(this,n)&&(e=e.concat(this.g.get(nf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return Rc(this),this.i=null,aB(this,n=nf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var kne=class{constructor(n,e){this.g=n,this.map=e}};function lB(n){this.l=n||Rne,n=et.PerformanceNavigationTiming?0<(n=et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(et.g&&et.g.Ka&&et.g.Ka()&&et.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rne=10;function dB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uB(n){return n.h?1:n.g?n.g.size:0}function AD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function SD(n,e){n.g?n.g.add(e):n.h=e}function hB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return eD(n.i)}lB.prototype.cancel=function(){if(this.i=fB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Pne=class{stringify(n){return et.JSON.stringify(n,void 0)}parse(n){return et.JSON.parse(n,void 0)}};function Nne(){this.g=new Pne}function One(n,e,t){const i=t||"";try{nB(n,function(r,o){let s=r;hg(r)&&(s=_D(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function bw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ag(n){this.l=n.ec||null,this.j=n.ob||!1}function ww(n,e){ki.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=MD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mi(Ag,wD),Ag.prototype.g=function(){return new ww(this.l,this.j)},Ag.prototype.i=function(n){return function(){return n}}({}),Mi(ww,ki);var MD=0;function mB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Sg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mg(n)}function Mg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=ww.prototype).open=function(n,e){if(this.readyState!=MD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mg(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sg(this)),this.readyState=MD},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mg(this)),this.g&&(this.readyState=3,Mg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sg(this):Mg(this),3==this.readyState&&mB(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,Sg(this))},_e.Ya=function(n){this.g&&(this.response=n,Sg(this))},_e.ka=function(){this.g&&Sg(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ww.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lne=et.JSON.parse;function Vn(n){ki.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pB,this.L=this.M=!1}Mi(Vn,ki);var pB="",Vne=/^https?$/i,Bne=["POST","PUT"];function gB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_B(n),Ew(n)}function _B(n){n.F||(n.F=!0,qi(n,"complete"),qi(n,"error"))}function vB(n){if(n.h&&typeof XT<"u"&&(!n.C[1]||4!=Ks(n)||2!=n.da()))if(n.v&&4==Ks(n))bD(n.La,0,n);else if(qi(n,"readystatechange"),4==Ks(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(iB)[1]||null;!r&&et.self&&et.self.location&&(r=et.self.location.protocol.slice(0,-1)),i=!Vne.test(r?r.toLowerCase():"")}t=i}if(t)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var o=2<Ks(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",_B(n)}}finally{Ew(n)}}}function Ew(n,e){if(n.g){yB(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qi(n,"ready");try{t.onreadystatechange=i}catch{}}}function yB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(et.clearTimeout(n.A),n.A=null)}function Ks(n){return n.g?n.g.readyState:0}function bB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case pB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wB(n){let e="";return cD(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function kD(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=wB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function kg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function EB(n){this.Ga=0,this.j=[],this.l=new uw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kg("baseRetryDelayMs",5e3,n),this.hb=kg("retryDelaySeedMs",1e4,n),this.eb=kg("forwardChannelMaxRetries",2,n),this.xa=kg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new lB(n&&n.concurrentRequestLimit),this.Ja=new Nne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function RD(n){if(IB(n),3==n.H){var e=n.W++,t=Ra(n.I);if(vn(t,"SID",n.K),vn(t,"RID",e),vn(t,"TYPE","terminate"),Rg(n,t),(e=new Eg(n,n.l,e)).L=2,e.v=yw(Ra(t)),t=!1,et.navigator&&et.navigator.sendBeacon)try{t=et.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&et.Image&&((new Image).src=e.v,t=!0),t||(e.g=RB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ig(e)}MB(n)}function Iw(n){n.g&&(ND(n),n.g.cancel(),n.g=null)}function IB(n){Iw(n),n.u&&(et.clearTimeout(n.u),n.u=null),Cw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&et.clearTimeout(n.m),n.m=null)}function xw(n){if(!dB(n.i)&&!n.m){n.m=!0;var e=n.Na;gg||BV(),_g||(gg(),_g=!0),vD.add(e,n),n.C=0}}function xB(n,e){var t;t=e?e.m:n.W++;const i=Ra(n.I);vn(i,"SID",n.K),vn(i,"RID",t),vn(i,"AID",n.V),Rg(n,i),n.o&&n.s&&kD(i,n.o,n.s),t=new Eg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=CB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),SD(n.i,t),TD(t,i,e)}function Rg(n,e){n.na&&cD(n.na,function(t,i){vn(e,i,t)}),n.h&&nB({},function(t,i){vn(e,i,t)})}function CB(n,e,t){t=Math.min(n.j.length,t);var i=n.h?sr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let d=r[c].g;const h=r[c].map;if(d-=o,0>d)o=Math.max(0,r[c].g-100),a=!1;else try{One(h,s,"req"+d+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function TB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;gg||BV(),_g||(gg(),_g=!0),vD.add(e,n),n.A=0}}function PD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bg(sr(n.Ma,n),SB(n,n.A)),n.A++,0))}function ND(n){null!=n.B&&(et.clearTimeout(n.B),n.B=null)}function DB(n){n.g=new Eg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ra(n.wa);vn(e,"RID","rpc"),vn(e,"SID",n.K),vn(e,"AID",n.V),vn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&vn(e,"TO",n.qa),vn(e,"TYPE","xmlhttp"),Rg(n,e),n.o&&n.s&&kD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yw(Ra(e)),t.s=null,t.S=!0,XV(t,n)}function Cw(n){null!=n.v&&(et.clearTimeout(n.v),n.v=null)}function AB(n,e){var t=null;if(n.g==e){Cw(n),ND(n),n.g=null;var i=2}else{if(!AD(n.i,e))return;t=e.F,hB(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;qi(i=hw(),new WV(i,t)),xw(n)}else TB(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function zne(n,e){return!(uB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bg(sr(n.Na,n,e),SB(n,n.C)),n.C++,0)))}(n,e)||2==i&&PD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:wd(n,5);break;case 4:wd(n,10);break;case 3:wd(n,6);break;default:wd(n,2)}}function SB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function wd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=sr(n.pb,n);t||(t=new bd("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||_w(t,"https"),yw(t)),function Fne(n,e){const t=new uw;if(et.Image){const i=new Image;i.onload=ow(bw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ow(bw,t,i,"TestLoadImage: error",!1,e),i.onabort=ow(bw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ow(bw,t,i,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Rr(2);n.H=0,n.h&&n.h.za(e),MB(n),IB(n)}function MB(n){if(n.H=0,n.ma=[],n.h){const e=fB(n.i);(0!=e.length||0!=n.j.length)&&(CV(n.ma,e),CV(n.ma,n.j),n.i.i.length=0,eD(n.j),n.j.length=0),n.h.ya()}}function kB(n,e,t){var i=t instanceof bd?Ra(t):new bd(t);if(""!=i.g)e&&(i.g=e+"."+i.g),vw(i,i.m);else{var r=et.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new bd(null);i&&_w(o,i),e&&(o.g=e),r&&vw(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&vn(i,t,e),vn(i,"VER",n.ra),Rg(n,i),i}function RB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(t&&n.Ha&&!n.va?new Ag({ob:!0}):n.va)).Oa(n.J),e}function PB(){}function Tw(){if(ef&&!(10<=Number(tne)))throw Error("Environmental error: no available transport.")}function ho(n,e){ki.call(this),this.g=new EB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!fg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rf(this)}function NB(n){ED.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function OB(){ID.call(this),this.status=1}function rf(n){this.g=n}function gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function OD(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Xt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(_e=Vn.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xD.g(),this.C=function KV(n){return n.h||(n.h=n.i())}(this.u?this.u:xD),this.g.onreadystatechange=sr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void gB(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=et.FormData&&n instanceof et.FormData,!(0<=xV(Bne,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yB(this),0<this.B&&((this.L=function Une(n){return ef&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.ua,this)):this.A=bD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){gB(this,o)}},_e.ua=function(){typeof XT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),Ew(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ew(this,!0)),Vn.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?vB(this):this.kb())},_e.kb=function(){vB(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lne(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=EB.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Eg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=MV(o),RV(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=CB(this,r,e),vn(t=Ra(this.I),"RID",n),vn(t,"CVER",22),this.F&&vn(t,"X-HTTP-Session-Id",this.F),Rg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(wB(o)))+"&"+e:this.o&&kD(t,this.o,o)),SD(this.i,r),this.bb&&vn(t,"TYPE","init"),this.P?(vn(t,"$req",e),vn(t,"SID","null"),r.aa=!0,TD(r,t,null)):TD(r,t,e),this.H=2}}else 3==this.H&&(n?xB(this,n):0==this.j.length||dB(this.i)||xB(this))},_e.Ma=function(){if(this.u=null,DB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bg(sr(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rr(10),Iw(this),DB(this))},_e.ib=function(){null!=this.v&&(this.v=null,Iw(this),PD(this),Rr(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Rr(2)):(this.l.info("Failed to ping google.com"),Rr(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=PB.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},Tw.prototype.g=function(n,e){return new ho(n,e)},Mi(ho,ki),ho.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Rr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=kB(n,null,n.Y),xw(n)},ho.prototype.close=function(){RD(this.g)},ho.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_D(n),n=t);e.j.push(new kne(e.fb++,n)),3==e.H&&xw(e)},ho.prototype.N=function(){this.g.h=null,delete this.j,RD(this.g),delete this.g,ho.$.N.call(this)},Mi(NB,ED),Mi(OB,ID),Mi(rf,PB),rf.prototype.Ba=function(){qi(this.g,"a")},rf.prototype.Aa=function(n){qi(this.g,new NB(n))},rf.prototype.za=function(n){qi(this.g,new OB)},rf.prototype.ya=function(){qi(this.g,"b")},Mi(gs,function $ne(){this.blockSize=-1}),gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)OD(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){OD(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){OD(this,i),r=0;break}}this.h=r,this.i+=e},gs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Hne={};function FD(n){return-128<=n&&128>n?function Xte(n,e){var t=Hne;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Xt([0|e],0>e?-1:0)}):new Xt([0|n],0>n?-1:0)}function Qs(n){if(isNaN(n)||!isFinite(n))return sf;if(0>n)return Gi(Qs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=LD;return new Xt(e,0)}var LD=4294967296,sf=FD(0),VD=FD(1),LB=FD(16777216);function Pa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Lo(n){return-1==n.h}function Gi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Xt(t,~n.h).add(VD)}function Dw(n,e){return n.add(Gi(e))}function Aw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Pg(n,e){this.g=n,this.h=e}function Sw(n,e){if(Pa(e))throw Error("division by zero");if(Pa(n))return new Pg(sf,sf);if(Lo(n))return e=Sw(Gi(n),e),new Pg(Gi(e.g),Gi(e.h));if(Lo(e))return e=Sw(n,Gi(e)),new Pg(Gi(e.g),e.h);if(30<n.g.length){if(Lo(n)||Lo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=VD,i=e;0>=i.X(n);)t=VB(t),i=VB(i);var r=af(t,1),o=af(i,1);for(i=af(i,2),t=af(t,2);!Pa(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=af(i,1),t=af(t,1)}return e=Dw(n,r.R(e)),new Pg(r,e)}for(r=sf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Qs(t)).R(e);Lo(s)||0<s.X(n);)s=(o=Qs(t-=i)).R(e);Pa(o)&&(o=VD),r=r.add(o),n=Dw(n,s)}return new Pg(r,n)}function VB(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Xt(t,n.h)}function af(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Xt(r,n.h)}(_e=Xt.prototype).ea=function(){if(Lo(this))return-Gi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:LD+i)*e,e*=LD}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pa(this))return"0";if(Lo(this))return"-"+Gi(this).toString(n);for(var e=Qs(Math.pow(n,6)),t=this,i="";;){var r=Sw(t,e).g,o=((0<(t=Dw(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pa(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return Lo(n=Dw(this,n))?-1:Pa(n)?0:1},_e.abs=function(){return Lo(this)?Gi(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Xt(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(Pa(this)||Pa(n))return sf;if(Lo(this))return Lo(n)?Gi(this).R(Gi(n)):Gi(Gi(this).R(n));if(Lo(n))return Gi(this.R(Gi(n)));if(0>this.X(LB)&&0>n.X(LB))return Qs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Aw(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Aw(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Aw(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Aw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Xt(t,0)},_e.gb=function(n){return Sw(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Xt(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Xt(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Xt(t,this.h^n.h)},Tw.prototype.createWebChannel=Tw.prototype.g,ho.prototype.send=ho.prototype.u,ho.prototype.open=ho.prototype.m,ho.prototype.close=ho.prototype.close,fw.NO_ERROR=0,fw.TIMEOUT=8,fw.HTTP_ERROR=6,ZV.COMPLETE="complete",QV.EventType=wg,wg.OPEN="a",wg.CLOSE="b",wg.ERROR="c",wg.MESSAGE="d",ki.prototype.listen=ki.prototype.O,Vn.prototype.listenOnce=Vn.prototype.P,Vn.prototype.getLastError=Vn.prototype.Sa,Vn.prototype.getLastErrorCode=Vn.prototype.Ia,Vn.prototype.getStatus=Vn.prototype.da,Vn.prototype.getResponseJson=Vn.prototype.Wa,Vn.prototype.getResponseText=Vn.prototype.ja,Vn.prototype.send=Vn.prototype.ha,Vn.prototype.setWithCredentials=Vn.prototype.Oa,gs.prototype.digest=gs.prototype.l,gs.prototype.reset=gs.prototype.reset,gs.prototype.update=gs.prototype.j,Xt.prototype.add=Xt.prototype.add,Xt.prototype.multiply=Xt.prototype.R,Xt.prototype.modulo=Xt.prototype.gb,Xt.prototype.compare=Xt.prototype.X,Xt.prototype.toNumber=Xt.prototype.ea,Xt.prototype.toString=Xt.prototype.toString,Xt.prototype.getBits=Xt.prototype.D,Xt.fromNumber=Qs,Xt.fromString=function FB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gi(FB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Qs(Math.pow(e,8)),i=sf,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Qs(Math.pow(e,o)),i=i.R(o).add(Qs(s))):i=(i=i.R(t)).add(Qs(s))}return i};var qne=ps.createWebChannelTransport=function(){return new Tw},Gne=ps.getStatEventTarget=function(){return hw()},BD=ps.ErrorCode=fw,Wne=ps.EventType=ZV,Zne=ps.Event=vd,BB=ps.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kne=ps.FetchXmlHttpFactory=Ag,Mw=ps.WebChannel=QV,Qne=ps.XhrIo=Vn,Yne=ps.Md5=gs,cf=ps.Integer=Xt;const UB="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let lf="10.5.2";const Pc=new Ws.Yd("@firebase/firestore");function df(){return Pc.logLevel}function re(n,...e){if(Pc.logLevel<=Ws.in.DEBUG){const t=e.map(UD);Pc.debug(`Firestore (${lf}): ${n}`,...t)}}function Xn(n,...e){if(Pc.logLevel<=Ws.in.ERROR){const t=e.map(UD);Pc.error(`Firestore (${lf}): ${n}`,...t)}}function Kr(n,...e){if(Pc.logLevel<=Ws.in.WARN){const t=e.map(UD);Pc.warn(`Firestore (${lf}): ${n}`,...t)}}function UD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function we(n="Unexpected state"){const e=`FIRESTORE (${lf}) INTERNAL ASSERTION FAILED: `+n;throw Xn(e),new Error(e)}function Me(n,e){n||we()}function fe(n,e){return n}const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ri.UNAUTHENTICATED))}shutdown(){}}class tie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nie{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,K.Z)(function*(){yield d.promise,yield o(i.currentUser)}))},c=d=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me("string"==typeof i.accessToken),new jB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Ri(e)}}class iie{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rie{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new iie(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me("string"==typeof t.token),this.R=t.token,new zB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sie(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class $B{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=sie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function uf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function HB(n){return n+"\0"}class An{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new An(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new An(0,0))}static max(){return new ke(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ng{constructor(e,t,i){void 0===t?t=0:t>e.length&&we(),void 0===i?i=e.length-t:i>e.length-t&&we(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ng.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ng?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tt extends Ng{construct(e,t,i){return new Tt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ne(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const aie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Ng{construct(e,t,i){return new yn(e,t,i)}static isValidIdentifier(e){return aie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ne(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ne(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ne(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ne(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Tt.fromString(e))}static fromName(e){return new pe(Tt.fromString(e).popFirst(5))}static empty(){return new pe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Tt(e.slice()))}}class hf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function jD(n){return n.fields.find(e=>2===e.kind)}function Ed(n){return n.fields.filter(e=>2!==e.kind)}hf.UNKNOWN_ID=-1;class Id{constructor(e,t){this.fieldPath=e,this.kind=t}}class ff{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ff(0,fo.min())}}function qB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(1e9===i?new An(t+1,0):new An(t,i));return new fo(r,pe.empty(),e)}function GB(n){return new fo(n.readTime,n.key,-1)}class fo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fo(ke.min(),pe.empty(),-1)}static max(){return new fo(ke.max(),pe.empty(),-1)}}function zD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Qe(n.largestBatchId,e.largestBatchId))}const WB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Nc(n){return $D.apply(this,arguments)}function $D(){return $D=(0,K.Z)(function*(n){if(n.code!==V.FAILED_PRECONDITION||n.message!==WB)throw n;re("LocalStore","Unexpectedly lost primary lease")}),$D.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new R((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof R?t:R.resolve(t)}catch(t){return R.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):R.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):R.reject(t)}static resolve(e){return new R((t,i)=>{t(e)})}static reject(e){return new R((t,i)=>{i(e)})}static waitFor(e){return new R((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=R.resolve(!1);for(const i of e)t=t.next(r=>r?R.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new R((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new R((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class kw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Og(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=HD(i.target.error);this.V.reject(new Og(e,r))}}static open(e,t,i,r){try{return new kw(t,e.transaction(r,i))}catch(o){throw new Og(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uie(t)}}class _s{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===_s.S((0,cn.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return re("SimpleDb","Removing database:",e),xd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,cn.hl)())return!1;if(_s.C())return!0;const e=(0,cn.z$)(),t=_s.S(e),i=0<t&&t<10,r=_s.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,K.Z)(function*(){return t.db||(re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Og(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ne(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ne(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Og(e,a))},o.onupgradeneeded=s=>{re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,K.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=kw.open(o.db,e,s?"readonly":"readwrite",i),d=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),R.reject(h))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,h="FirebaseError"!==d.name&&a<3;if(re("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),o.close(),!h)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class die{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xd(this.k.delete())}}class Og extends ne{constructor(e,t){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Oc(n){return"IndexedDbTransactionError"===n.name}class uie{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(re("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),xd(i)}add(e){return re("SimpleDb","ADD",this.store.name,e,e),xd(this.store.add(e))}get(e){return xd(this.store.get(e)).next(t=>(void 0===t&&(t=null),re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return re("SimpleDb","DELETE",this.store.name,e),xd(this.store.delete(e))}count(){return re("SimpleDb","COUNT",this.store.name),xd(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new R((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new R((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){re("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new R((i,r)=>{t.onerror=o=>{const s=HD(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new R((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new die(a),d=t(a.primaryKey,a.value,c);if(d instanceof R){const h=d.catch(p=>(c.done(),R.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>R.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xd(n){return new R((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=HD(i.target.error);t(r)}})}let KB=!1;function HD(n){const e=_s.S((0,cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KB||(KB=!0,setTimeout(()=>{throw i},0)),i}}return n}class hie{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,K.Z)(function*(){t.task=null;try{re("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){Oc(i)?re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Nc(i)}yield t.ee(6e4)}))}}class fie{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,K.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return R.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return re("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(re("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=GB(o);zD(s,i)>0&&(i=s)}),new fo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let mo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Fg(n){return null==n}function Lg(n){return 0===n&&1/n==-1/0}function QB(n){return"number"==typeof n&&Number.isInteger(n)&&!Lg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function cr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YB(e)),e=mie(n.get(t),e);return YB(e)}function mie(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function YB(n){return n+"\x01\x01"}function Ys(n){const e=n.length;if(Me(e>=2),2===e)return Me("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&we(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:we()}o=s+2}return new Tt(i)}const XB=["userId","batchId"];function Rw(n,e){return[n,cr(e)]}function JB(n,e,t){return[n,cr(e),t]}const pie={},gie=["prefixPath","collectionGroup","readTime","documentId"],_ie=["prefixPath","collectionGroup","documentId"],vie=["collectionGroup","readTime","prefixPath","documentId"],yie=["canonicalId","targetId"],bie=["targetId","path"],wie=["path","targetId"],Eie=["collectionId","parent"],Iie=["indexId","uid"],xie=["uid","sequenceNumber"],Cie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tie=["indexId","uid","orderedDocumentKey"],Die=["userId","collectionPath","documentId"],Aie=["userId","collectionPath","largestBatchId"],Sie=["userId","collectionGroup","largestBatchId"],eU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mie=[...eU,"documentOverlays"],tU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nU=tU,kie=[...nU,"indexConfiguration","indexState","indexEntries"];class qD extends ZB{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=fe(n);return _s.M(t.ae,e)}function iU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gn{constructor(e,t){this.comparator=e,this.root=t||Wi.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pw(this.root,e,this.comparator,!0)}}class Pw{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Wi.RED,this.left=r??Wi.EMPTY,this.right=o??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Wi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Wi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oU(this.data.getIterator())}getIteratorFrom(e){return new oU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class oU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mf(n){return n.hasNext()?n.getNext():void 0}class Qr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Qr([])}unionWith(e){let t=new nn(yn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class sU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sU("Invalid base64 string: "+o):o}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const Pie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lc(n){if(Me(!!n),"string"==typeof n){let e=0;const t=Pie.exec(n);if(Me(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Na(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function Nw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ow(n){const e=n.mapValue.fields.__previous_value__;return Nw(e)?Ow(e):e}function Vg(n){const e=Lc(n.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class Nie{constructor(e,t,i,r,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Vc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vc&&e.projectId===this.projectId&&e.database===this.database}}const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fw={nullValue:"NULL_VALUE"};function Uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nw(n)?4:dU(n)?9007199254740991:10:we()}function Xs(n,e){if(n===e)return!0;const t=Uc(n);if(t!==Uc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vg(n).isEqual(Vg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Lc(r.timestampValue),a=Lc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Na(n.bytesValue).isEqual(Na(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Bn(r.geoPointValue.latitude)===Bn(o.geoPointValue.latitude)&&Bn(r.geoPointValue.longitude)===Bn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bn(r.integerValue)===Bn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Bn(r.doubleValue),a=Bn(o.doubleValue);return s===a?Lg(s)===Lg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return uf(n.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(iU(s)!==iU(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Xs(s[c],a[c])))return!1;return!0}(n,e);default:return we()}var o}function Bg(n,e){return void 0!==(n.values||[]).find(t=>Xs(t,e))}function jc(n,e){if(n===e)return 0;const t=Uc(n),i=Uc(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Bn(o.integerValue||o.doubleValue),c=Bn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return aU(n.timestampValue,e.timestampValue);case 4:return aU(Vg(n),Vg(e));case 5:return Qe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Na(o),c=Na(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Qe(a[d],c[d]);if(0!==h)return h}return Qe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Qe(Bn(o.latitude),Bn(s.latitude));return 0!==a?a:Qe(Bn(o.longitude),Bn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=jc(a[d],c[d]);if(h)return h}return Qe(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Bc.mapValue&&s===Bc.mapValue)return 0;if(o===Bc.mapValue)return 1;if(s===Bc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Qe(c[p],h[p]);if(0!==g)return g;const v=jc(a[c[p]],d[h[p]]);if(0!==v)return v}return Qe(c.length,h.length)}(n.mapValue,e.mapValue);default:throw we()}}function aU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qe(n,e);const t=Lc(n),i=Lc(e),r=Qe(t.seconds,i.seconds);return 0!==r?r:Qe(t.nanos,i.nanos)}function pf(n){return GD(n)}function GD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Lc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Na(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=GD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${GD(t.fields[s])}`;return r+"}"}(n.mapValue):we()}function Cd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function WD(n){return!!n&&"integerValue"in n}function Ug(n){return!!n&&"arrayValue"in n}function cU(n){return!!n&&"nullValue"in n}function lU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vw(n){return!!n&&"mapValue"in n}function jg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=jg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Oie(n){return"nullValue"in n?Fw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cd(Vc.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:we()}function Fie(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cd(Vc.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bc:we()}function uU(n,e){const t=jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hU(n,e){const t=jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jg(t)}setAll(e){let t=yn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=jg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Vw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Vw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Fc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Zi(jg(this.value))}}function fU(n){const e=[];return Fc(n.fields,(t,i)=>{const r=new yn([t]);if(Vw(i)){const o=fU(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Qr(e)}class bn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,ke.min(),ke.min(),ke.min(),Zi.empty(),0)}static newFoundDocument(e,t,i,r){return new bn(e,1,t,ke.min(),i,r,0)}static newNoDocument(e,t){return new bn(e,2,t,ke.min(),ke.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,ke.min(),ke.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(e,t){this.position=e,this.inclusive=t}}function mU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?pe.comparator(pe.fromName(s.referenceValue),t.key):jc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function pU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xs(n.position[t],e.position[t]))return!1;return!0}class zg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Lie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class gU{}class wt extends gU{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Vie(e,t,i):"array-contains"===t?new jie(e,i):"in"===t?new EU(e,i):"not-in"===t?new zie(e,i):"array-contains-any"===t?new $ie(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Bie(e,i):new Uie(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jc(t,this.value)):null!==t&&Uc(this.value)===Uc(t)&&this.matchesComparison(jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends gU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Jt(e,t)}matches(e){return gf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gf(n){return"and"===n.op}function ZD(n){return"or"===n.op}function KD(n){return _U(n)&&gf(n)}function _U(n){for(const e of n.filters)if(e instanceof Jt)return!1;return!0}function QD(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+pf(n.value);if(KD(n))return n.filters.map(e=>QD(e)).join(",");{const e=n.filters.map(t=>QD(t)).join(",");return`${n.op}(${e})`}}function vU(n,e){return n instanceof wt?(i=n,(r=e)instanceof wt&&i.op===r.op&&i.field.isEqual(r.field)&&Xs(i.value,r.value)):n instanceof Jt?function(i,r){return r instanceof Jt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&vU(s,r.filters[a]),!0)}(n,e):void we();var i,r}function yU(n,e){const t=n.filters.concat(e);return Jt.create(t,n.op)}function bU(n){return n instanceof wt?`${(t=n).field.canonicalString()} ${t.op} ${pf(t.value)}`:n instanceof Jt?function(t){return t.op.toString()+" {"+t.getFilters().map(bU).join(" ,")+"}"}(n):"Filter";var t}class Vie extends wt{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bie extends wt{constructor(e,t){super(e,"in",t),this.keys=wU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Uie extends wt{constructor(e,t){super(e,"not-in",t),this.keys=wU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}class jie extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ug(t)&&Bg(t.arrayValue,this.value)}}class EU extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bg(this.value.arrayValue,t)}}class zie extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bg(this.value.arrayValue,t)}}class $ie extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Bg(this.value.arrayValue,i))}}class Hie{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function YD(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Hie(n,e,t,i,r,o,s)}function Td(n){const e=fe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>QD(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Fg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>pf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>pf(i)).join(",")),e.ce=t}return e.ce}function $g(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Lie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pU(n.startAt,e.startAt)&&pU(n.endAt,e.endAt)}function Bw(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Uw(n,e){return n.filters.filter(t=>t instanceof wt&&t.field.isEqual(e))}function IU(n,e,t){let i=Fw,r=!0;for(const o of Uw(n,e)){let s=Fw,a=!0;switch(o.op){case"<":case"<=":s=Oie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Fw}uU({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];uU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function xU(n,e,t){let i=Bc,r=!0;for(const o of Uw(n,e)){let s=Bc,a=!0;switch(o.op){case">=":case">":s=Fie(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Bc}hU({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];hU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Oa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function CU(n,e,t,i,r,o,s,a){return new Oa(n,e,t,i,r,o,s,a)}function _f(n){return new Oa(n)}function TU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function XD(n){return null!==n.collectionGroup}function vf(n){const e=fe(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nn(yn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new zg(o,i))}),t.has(yn.keyField().canonicalString())||e.le.push(new zg(yn.keyField(),i))}return e.le}function Pr(n){const e=fe(n);return e.he||(e.he=function DU(n,e){if("F"===n.limitType)return YD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new zg(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new zc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new zc(n.startAt.position,n.startAt.inclusive):null;return YD(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,vf(n))),e.he}function JD(n,e){const t=n.filters.concat([e]);return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jw(n,e,t){return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hg(n,e){return $g(Pr(n),Pr(e))&&n.limitType===e.limitType}function AU(n){return`${Td(Pr(n))}|lt:${n.limitType}`}function yf(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>bU(r)).join(", ")}]`),Fg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>pf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>pf(r)).join(",")),`Target(${i})`}(Pr(n))}; limitType=${n.limitType})`}function qg(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of vf(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const d=mU(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,vf(i),r)||i.endAt&&!function(s,a,c){const d=mU(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,vf(i),r)));var i,r}function SU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MU(n){return(e,t)=>{let i=!1;for(const r of vf(n)){const o=qie(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function qie(n,e,t){const i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?jc(c,d):we()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we()}}class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return rU(this.inner)}size(){return this.innerSize}}const Gie=new gn(pe.comparator);function Yr(){return Gie}const kU=new gn(pe.comparator);function Gg(...n){let e=kU;for(const t of n)e=e.insert(t.key,t);return e}function RU(n){let e=kU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Js(){return Wg()}function PU(){return Wg()}function Wg(){return new Fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Wie=new gn(pe.comparator),Zie=new nn(pe.comparator);function rt(...n){let e=Zie;for(const t of n)e=e.add(t);return e}const Kie=new nn(Qe);function eA(){return Kie}function NU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(e)?"-0":e}}function OU(n){return{integerValue:""+n}}function FU(n,e){return QB(e)?OU(e):NU(n,e)}class zw{constructor(){this._=void 0}}function Qie(n,e,t){return n instanceof bf?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Nw(o)&&(o=Ow(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Dd?VU(n,e):n instanceof Ad?BU(n,e):function(r,o){const s=LU(r,o),a=UU(s)+UU(r.Ie);return WD(s)&&WD(r.Ie)?OU(a):NU(r.serializer,a)}(n,e)}function Yie(n,e,t){return n instanceof Dd?VU(n,e):n instanceof Ad?BU(n,e):t}function LU(n,e){return n instanceof wf?WD(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class bf extends zw{}class Dd extends zw{constructor(e){super(),this.elements=e}}function VU(n,e){const t=jU(e);for(const i of n.elements)t.some(r=>Xs(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ad extends zw{constructor(e){super(),this.elements=e}}function BU(n,e){let t=jU(e);for(const i of n.elements)t=t.filter(r=>!Xs(r,i));return{arrayValue:{values:t}}}class wf extends zw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function UU(n){return Bn(n.integerValue||n.doubleValue)}function jU(n){return Ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zg{constructor(e,t){this.field=e,this.transform=t}}class Jie{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $w(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Hw{}function zU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new If(n.key,Sn.none()):new Ef(n.key,n.data,Sn.none());{const t=n.data,i=Zi.empty();let r=new nn(yn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new La(n.key,i,new Qr(r.toArray()),Sn.none())}}function ere(n,e,t){n instanceof Ef?function(r,o,s){const a=r.value.clone(),c=qU(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof La?function(r,o,s){if(!$w(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=qU(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(HU(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kg(n,e,t,i){return n instanceof Ef?function(o,s,a,c){if(!$w(o.precondition,s))return a;const d=o.value.clone(),h=GU(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof La?function(o,s,a,c){if(!$w(o.precondition,s))return a;const d=GU(o.fieldTransforms,c,s),h=s.data;return h.setAll(HU(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,$w(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function tre(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=LU(i.transform,r||null);null!=o&&(null===t&&(t=Zi.empty()),t.set(i.field,o))}return t||null}function $U(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&uf(i,r,(o,s)=>function Xie(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Dd&&r instanceof Dd||i instanceof Ad&&r instanceof Ad?uf(i.elements,r.elements,Xs):i instanceof wf&&r instanceof wf?Xs(i.Ie,r.Ie):i instanceof bf&&r instanceof bf);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Ef extends Hw{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class La extends Hw{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function qU(n,e,t){const i=new Map;Me(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Yie(s,a,t[r]))}return i}function GU(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Qie(o,s,e))}return i}class If extends Hw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tA extends Hw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&ere(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Kg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Kg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=PU();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=zU(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&uf(this.mutations,e.mutations,(t,i)=>$U(t,i))&&uf(this.baseMutations,e.baseMutations,(t,i)=>$U(t,i))}}class iA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Me(e.mutations.length===i.length);let r=Wie;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new iA(e,t,i,r)}}class rA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ire{constructor(e,t){this.count=e,this.unchangedNames=t}}var di,Dt;function WU(n){switch(n){default:return we();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function ZU(n){if(void 0===n)return Xn("GRPC error has no .code"),V.UNKNOWN;switch(n){case di.OK:return V.OK;case di.CANCELLED:return V.CANCELLED;case di.UNKNOWN:return V.UNKNOWN;case di.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case di.INTERNAL:return V.INTERNAL;case di.UNAVAILABLE:return V.UNAVAILABLE;case di.UNAUTHENTICATED:return V.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case di.NOT_FOUND:return V.NOT_FOUND;case di.ALREADY_EXISTS:return V.ALREADY_EXISTS;case di.PERMISSION_DENIED:return V.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case di.ABORTED:return V.ABORTED;case di.OUT_OF_RANGE:return V.OUT_OF_RANGE;case di.UNIMPLEMENTED:return V.UNIMPLEMENTED;case di.DATA_LOSS:return V.DATA_LOSS;default:return we()}}(Dt=di||(di={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";function KU(){return new TextEncoder}const rre=new cf([4294967295,4294967295],0);function QU(n){const e=KU().encode(n),t=new Yne;return t.update(e),new Uint8Array(t.digest())}function YU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cf([t,i],0),new cf([r,o],0)]}class oA{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qg(`Invalid padding: ${t}`);if(i<0)throw new Qg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Qg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Qg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=cf.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(cf.fromNumber(i)));return 1===r.compare(rre)&&(r=new cf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=QU(e),[i,r]=YU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new oA(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=QU(e),[i,r]=YU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Qg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Xg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Yg(ke.min(),r,new gn(Qe),Yr(),rt())}}class Xg{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Xg(i,t,rt(),rt(),rt())}}class Gw{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class XU{constructor(e,t){this.targetId=e,this.fe=t}}class JU{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ej{constructor(){this.ge=0,this.pe=nj(),this.ye=Ei.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rt(),t=rt(),i=rt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:we()}}),new Xg(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=nj()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ore{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yr(),this.Qe=tj(),this.Ke=new gn(Qe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(Bw(o))if(0===i){const s=new pe(o.path);this.We(t,s,bn.newNoDocument(s,ke.min()))}else Me(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Na(i).toUint8Array()}catch(c){if(c instanceof sU)return Kr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new oA(s,r,o)}catch(c){return Kr(c instanceof Qg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Bw(a.target)){const c=new pe(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,bn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=rt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Ye(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Yg(e,t,this.Ke,this.qe,i);return this.qe=Yr(),this.Qe=tj(),this.Ke=new gn(Qe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ej,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new nn(Qe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ej),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function tj(){return new gn(pe.comparator)}function nj(){return new gn(pe.comparator)}const sre={asc:"ASCENDING",desc:"DESCENDING"},are={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cre={and:"AND",or:"OR"};class lre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sA(n,e){return n.useProto3Json||Fg(e)?e:{value:e}}function xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ij(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dre(n,e){return xf(n,e.toTimestamp())}function Jn(n){return Me(!!n),ke.fromTimestamp(function(t){const i=Lc(t);return new An(i.seconds,i.nanos)}(n))}function aA(n,e){return(i=n,new Tt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function rj(n){const e=Tt.fromString(n);return Me(fj(e)),e}function Jg(n,e){return aA(n.databaseId,e.path)}function ea(n,e){const t=rj(e);if(t.get(1)!==n.databaseId.projectId)throw new ne(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(sj(t))}function cA(n,e){return aA(n.databaseId,e)}function oj(n){const e=rj(n);return 4===e.length?Tt.emptyPath():sj(e)}function e_(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sj(n){return Me(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aj(n,e,t){return{name:Jg(n,e),fields:t.value.mapValue.fields}}function cj(n,e,t){const i=ea(n,e.name),r=Jn(e.updateTime),o=e.createTime?Jn(e.createTime):ke.min(),s=new Zi({mapValue:{fields:e.fields}}),a=bn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function t_(n,e){let t;if(e instanceof Ef)t={update:aj(n,e.key,e.value)};else if(e instanceof If)t={delete:Jg(n,e.key)};else if(e instanceof La)t={update:aj(n,e.key,e.data),updateMask:vre(e.fieldMask)};else{if(!(e instanceof tA))return we();t={verify:Jg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof bf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ad)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw we()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:dre(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:we()),t;var o}function lA(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Sn.updateTime(Jn(o.updateTime)):void 0!==o.exists?Sn.exists(o.exists):Sn.none():Sn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Me("REQUEST_TIME"===a.setToServerValue),c=new bf):"appendMissingElements"in a?c=new Dd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Ad(a.removeAllFromArray.values||[]):"increment"in a?c=new wf(s,a.increment):we();const d=yn.fromServerFormat(a.fieldPath);return new Zg(d,c)}(n,r)):[];var o;if(e.update){const r=ea(n,e.update.name),o=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Qr((e.updateMask.fieldPaths||[]).map(h=>yn.fromServerFormat(h)));return new La(r,o,s,t,i)}return new Ef(r,o,t,i)}if(e.delete){const r=ea(n,e.delete);return new If(r,t)}if(e.verify){const r=ea(n,e.verify);return new tA(r,t)}return we()}function lj(n,e){return{documents:[cA(n,e.path)]}}function dA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=cA(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cA(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return hj(Jt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:$c((p=d).field),direction:pre(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=sA(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function dj(n){let e=oj(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Me(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=uj(p);return g instanceof Jt&&KD(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new zg(Cf((b=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Fg(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new zc((p=t.startAt).values||[],!!p.before));let d=null;return t.endAt&&(d=function(p){return new zc(p.values||[],!p.before)}(t.endAt)),CU(e,r,s,o,a,"F",c,d)}function uj(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Cf(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Cf(t.unaryFilter.field);return wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cf(t.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cf(t.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):void 0!==n.fieldFilter?wt.create(Cf((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Jt.create(t.compositeFilter.filters.map(i=>uj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we();var t}function pre(n){return sre[n]}function gre(n){return are[n]}function _re(n){return cre[n]}function $c(n){return{fieldPath:n.canonicalString()}}function Cf(n){return yn.fromServerFormat(n.fieldPath)}function hj(n){return n instanceof wt?function(t){if("=="===t.op){if(lU(t.value))return{unaryFilter:{field:$c(t.field),op:"IS_NAN"}};if(cU(t.value))return{unaryFilter:{field:$c(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(lU(t.value))return{unaryFilter:{field:$c(t.field),op:"IS_NOT_NAN"}};if(cU(t.value))return{unaryFilter:{field:$c(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(t.field),op:gre(t.op),value:t.value}}}(n):n instanceof Jt?function(t){const i=t.getFilters().map(r=>hj(r));return 1===i.length?i[0]:{compositeFilter:{op:_re(t.op),filters:i}}}(n):we()}function vre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Va{constructor(e,t,i,r,o=ke.min(),s=ke.min(),a=Ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mj{constructor(e){this.ut=e}}function pj(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ww(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Jg(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:xf(o,s.version.toTimestamp()),createTime:xf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Sd(e.version)};else{if(!e.isUnknownDocument())return we();i.unknownDocument={path:t.path.toArray(),version:Sd(e.version)}}var o,s;return i}function Ww(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Md(n){const e=new An(n.seconds,n.nanoseconds);return ke.fromTimestamp(e)}function kd(n,e){const t=(e.baseMutations||[]).map(o=>lA(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>lA(n.ut,o)),r=An.fromMillis(e.localWriteTimeMs);return new nA(e.batchId,r,t,i)}function n_(n){const e=Md(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Md(n.lastLimboFreeSnapshotVersion):ke.min();let i;return i=void 0!==n.query.documents?(Me(1===(o=n.query).documents.length),Pr(_f(oj(o.documents[0])))):function(o){return Pr(dj(o))}(n.query),new Va(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken));var o}function gj(n,e){const t=Sd(e.snapshotVersion),i=Sd(e.lastLimboFreeSnapshotVersion);let r;r=Bw(e.target)?lj(n.ut,e.target):dA(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Td(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function uA(n){const e=dj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jw(e,e.limit,"L"):e}function hA(n,e){return new rA(e.largestBatchId,lA(n.ut,e.overlayMutation))}function _j(n,e){const t=e.path.lastSegment();return[n,cr(e.path.popLast()),t]}function vj(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Sd(i.readTime),documentKey:cr(i.documentKey.path),largestBatchId:i.largestBatchId}}class bre{getBundleMetadata(e,t){return yj(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Md(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return yj(e).put({bundleId:(r=t).id,createTime:Sd(Jn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return bj(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:uA(o.bundledQuery),readTime:Md(o.readTime)};var o})}saveNamedQuery(e,t){return bj(e).put({name:(r=t).name,readTime:Sd(Jn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function yj(n){return Pi(n,"bundles")}function bj(n){return Pi(n,"namedQueries")}class Zw{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Zw(e,t.uid||"")}getOverlay(e,t){return i_(e).get(_j(this.userId,t)).next(i=>i?hA(this.serializer,i):null)}getOverlays(e,t){const i=Js();return R.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new rA(t,s);r.push(this.lt(e,a))}),R.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(cr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(i_(e).H("collectionPathOverlayIndex",a))}),R.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Js(),o=cr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return i_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=hA(this.serializer,c);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Js();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return i_(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,d,h)=>{const p=hA(this.serializer,d);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return i_(e).put(function(r,o,s){const[a,c,d]=_j(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:t_(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function i_(n){return Pi(n,"documentOverlays")}class Rd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Bn(e.integerValue));else if("doubleValue"in e){const i=Bn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Lg(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Na(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?dU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):we()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function wre(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function wj(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=wre(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Rd.St=new Rd;class Ere{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=wj(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=wj(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Ire{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class xre{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class r_{constructor(){this.Wt=new Ere,this.Gt=new Ire(this.Wt),this.zt=new xre(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Pd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Pd(this.indexId,this.documentKey,this.arrayValue,i)}}function Hc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ej(n.arrayValue,e.arrayValue),0!==t?t:(t=Ej(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function Ej(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Ij{constructor(e){this.Jt=new nn((t,i)=>yn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Me(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=jD(e);if(void 0!==t&&!this.tn(t))return!1;const i=Ed(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new nn(yn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Id(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Id(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Id(i.field,"asc"===i.dir?0:1)));return new hf(hf.UNKNOWN_ID,this.collectionId,t,ff.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xj(n){var e,t;if(Me(n instanceof wt||n instanceof Jt),n instanceof wt){if(n instanceof EU){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>wt.create(n.field,"==",o)))||[];return Jt.create(r,"or")}return n}const i=n.filters.map(r=>xj(r));return Jt.create(i,n.op)}function Cre(n){if(0===n.getFilters().length)return[];const e=pA(xj(n));return Me(Cj(e)),fA(e)||mA(e)?[e]:e.getFilters()}function fA(n){return n instanceof wt}function mA(n){return n instanceof Jt&&KD(n)}function Cj(n){return fA(n)||mA(n)||function(t){if(t instanceof Jt&&ZD(t)){for(const i of t.getFilters())if(!fA(i)&&!mA(i))return!1;return!0}return!1}(n)}function pA(n){if(Me(n instanceof wt||n instanceof Jt),n instanceof wt)return n;if(1===n.filters.length)return pA(n.filters[0]);const e=n.filters.map(i=>pA(i));let t=Jt.create(e,n.op);return t=Kw(t),Cj(t)?t:(Me(t instanceof Jt),Me(gf(t)),Me(t.filters.length>1),t.filters.reduce((i,r)=>gA(i,r)))}function gA(n,e){let t;return Me(n instanceof wt||n instanceof Jt),Me(e instanceof wt||e instanceof Jt),t=n instanceof wt?e instanceof wt?Jt.create([n,e],"and"):Tj(n,e):e instanceof wt?Tj(e,n):function(r,o){if(Me(r.filters.length>0&&o.filters.length>0),gf(r)&&gf(o))return yU(r,o.getFilters());const s=ZD(r)?r:o,a=ZD(r)?o:r,c=s.filters.map(d=>gA(d,a));return Jt.create(c,"or")}(n,e),Kw(t)}function Tj(n,e){if(gf(e))return yU(e,n.getFilters());{const t=e.filters.map(i=>gA(n,i));return Jt.create(t,"or")}}function Kw(n){if(Me(n instanceof wt||n instanceof Jt),n instanceof wt)return n;const e=n.getFilters();if(1===e.length)return Kw(e[0]);if(_U(n))return n;const t=e.map(r=>Kw(r)),i=[];return t.forEach(r=>{r instanceof wt?i.push(r):r instanceof Jt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Jt.create(i,n.op)}class Tre{constructor(){this.on=new _A}addToCollectionParentIndex(e,t){return this.on.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(fo.min())}updateCollectionGroup(e,t,i){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}}class _A{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new nn(Tt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new nn(Tt.comparator)).toArray()}}const Qw=new Uint8Array(0);class Dre{constructor(e,t){this.user=e,this.databaseId=t,this._n=new _A,this.an=new Fa(i=>Td(i),(i,r)=>$g(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:cr(r)};return Dj(e).put(o)}return R.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[HB(t),""],!1,!0);return Dj(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ys(s.parent))}return i})}addFieldIndex(e,t){const i=o_(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Df(e);return o.next(a=>{s.put(vj(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=o_(e),r=Df(e),o=Tf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=o_(e),i=Tf(e),r=Df(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return R.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new Ij(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=Tf(e);let r=!0;const o=new Map;return R.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=rt();const a=[];return R.forEach(o,(c,d)=>{var k;re("IndexedDbIndexManager",`Using index ${k=c,`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${Td(t)}`);const h=function(k,Y){const de=jD(Y);if(void 0===de)return null;for(const Ee of Uw(k,de.fieldPath))switch(Ee.op){case"array-contains-any":return Ee.value.arrayValue.values||[];case"array-contains":return[Ee.value]}return null}(d,c),p=function(k,Y){const de=new Map;for(const Ee of Ed(Y))for(const We of Uw(k,Ee.fieldPath))switch(We.op){case"==":case"in":de.set(Ee.fieldPath.canonicalString(),We.value);break;case"not-in":case"!=":return de.set(Ee.fieldPath.canonicalString(),We.value),Array.from(de.values())}return null}(d,c),g=function(k,Y){const de=[];let Ee=!0;for(const We of Ed(Y)){const ln=0===We.kind?IU(k,We.fieldPath,k.startAt):xU(k,We.fieldPath,k.startAt);de.push(ln.value),Ee&&(Ee=ln.inclusive)}return new zc(de,Ee)}(d,c),v=function(k,Y){const de=[];let Ee=!0;for(const We of Ed(Y)){const ln=0===We.kind?xU(k,We.fieldPath,k.endAt):IU(k,We.fieldPath,k.endAt);de.push(ln.value),Ee&&(Ee=ln.inclusive)}return new zc(de,Ee)}(d,c),b=this.ln(c,d,g),w=this.ln(c,d,v),E=this.hn(c,d,p),S=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,E);return R.forEach(S,A=>i.j(A,t.limit).next(k=>{k.forEach(Y=>{const de=pe.fromSegments(Y.documentKey);s.has(de)||(s=s.add(de),a.push(de))})}))}).next(()=>a)}return R.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Cre(Jt.create(e.filters,"and")).map(i=>YD(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),d=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/d]):Qw,v=this.Tn(e,g,i[p%d],r),b=this.En(e,g,o[p%d],s),w=a.map(E=>this.Tn(e,g,E,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new Pd(e,pe.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new Pd(e,pe.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new Ij(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return R.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new nn(yn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new r_;for(const r of Ed(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Rd.St.ht(o,s)}return i.Ut()}In(e){const t=new r_;return Rd.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new r_;return Rd.St.ht(Cd(this.databaseId,t),i.jt(function(o){const s=Ed(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new r_);let o=0;for(const s of Ed(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&Ug(a))r=this.Vn(r,s,a);else{const d=c.jt(s.kind);Rd.St.ht(a,d)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new r_;c.seed(a.Ut()),Rd.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof wt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=o_(e),r=Df(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return R.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new ff(p.sequenceNumber,new fo(Md(p.readTime),new pe(Ys(p.documentKey)),p.largestBatchId)):ff.empty(),v=h.fields.map(([b,w])=>new Id(yn.fromServerFormat(b),w));return new hf(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Qe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=o_(e),o=Df(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>R.forEach(a,c=>o.put(vj(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return R.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?R.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),R.forEach(a,c=>this.gn(e,r,c).next(d=>{const h=this.pn(o,c);return d.isEqual(h)?R.resolve():this.yn(e,o,c,d,h)}))))})}wn(e,t,i,r){return Tf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return Tf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=Tf(e);let o=new nn(Hc);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new Pd(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new nn(Hc);const r=this.dn(t,e);if(null==r)return i;const o=jD(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Ug(s))for(const a of s.arrayValue.values||[])i=i.add(new Pd(t.indexId,e.key,this.In(a),r))}else i=i.add(new Pd(t.indexId,e.key,Qw,r));return i}yn(e,t,i,r,o){re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,h,p,g){const v=c.getIterator(),b=d.getIterator();let w=mf(v),E=mf(b);for(;w||E;){let S=!1,A=!1;if(w&&E){const k=h(w,E);k<0?A=!0:k>0&&(S=!0)}else null!=w?A=!0:S=!0;S?(p(E),E=mf(b)):A?(g(w),w=mf(v)):(w=mf(v),E=mf(b))}}(r,o,Hc,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),R.waitFor(s)}fn(e){let t=1;return Df(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Hc(s,a)).filter((s,a,c)=>!a||0!==Hc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=Hc(s,e),c=Hc(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Qw,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Qw,[]]))}return o}bn(e,t){return Hc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Aj)}getMinOffset(e,t){return R.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||we())).next(Aj)}}function Dj(n){return Pi(n,"collectionParents")}function Tf(n){return Pi(n,"indexEntries")}function o_(n){return Pi(n,"indexConfiguration")}function Df(n){return Pi(n,"indexState")}function Aj(n){Me(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;zD(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new fo(e.readTime,e.documentKey,t)}const Sj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mj(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{Me(1===a)}));const d=[];for(const h of t.mutations){const p=JB(e,h.key.path,t.batchId);o.push(r.delete(p)),d.push(h.key)}return R.waitFor(o).next(()=>d)}function Yw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(41943040,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);class Xw{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Me(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Xw(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Af(e),s=qc(e);return s.add({}).next(a=>{Me("number"==typeof a);const c=new nA(a,t,i,r),d=function(v,b,w){const E=w.baseMutations.map(A=>t_(v.ut,A)),S=w.mutations.map(A=>t_(v.ut,A));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:E,mutations:S}}(this.serializer,this.userId,c),h=[];let p=new nn((g,v)=>Qe(g.canonicalString(),v.canonicalString()));for(const g of r){const v=JB(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(v,pie))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),R.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return qc(e).get(t).next(i=>i?(Me(i.userId===this.userId),kd(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?R.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return qc(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Me(a.batchId>=i),o=kd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return qc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).W("userMutationsIndex",t).next(i=>i.map(r=>kd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Rw(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Af(e).Y({range:r},(s,a,c)=>{const[d,h,p]=s,g=Ys(h);if(d===this.userId&&t.path.isEqual(g))return qc(e).get(p).next(v=>{if(!v)throw we();Me(v.userId===this.userId),o.push(kd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Qe);const r=[];return t.forEach(o=>{const s=Rw(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Af(e).Y({range:a},(d,h,p)=>{const[g,v,b]=d,w=Ys(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),R.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Rw(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new nn(Qe);return Af(e).Y({range:s},(c,d,h)=>{const[p,g,v]=c,b=Ys(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(qc(e).get(o).next(s=>{if(null===s)throw we();Me(s.userId===this.userId),i.push(kd(this.serializer,s))}))}),R.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Mj(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),R.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return R.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Af(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Ys(o[1]);r.push(c)}else a.done()}).next(()=>{Me(0===r.length)})})}containsKey(e,t){return kj(e,this.userId,t)}Mn(e){return Rj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kj(n,e,t){const i=Rw(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Af(n).Y({range:o,J:!0},(a,c,d)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),d.done()}).next(()=>s)}function qc(n){return Pi(n,"mutations")}function Af(n){return Pi(n,"documentMutations")}function Rj(n){return Pi(n,"mutationQueues")}class Nd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Nd(0)}static Nn(){return new Nd(-1)}}class Are{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Nd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>ke.fromTimestamp(new An(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sf(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Me(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Sf(e).Y((s,a)=>{const c=n_(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>R.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Sf(e).Y((i,r)=>{const o=n_(r);t(o)})}Bn(e){return Pj(e).get("targetGlobalKey").next(t=>(Me(null!==t),t))}Ln(e,t){return Pj(e).put("targetGlobalKey",t)}kn(e,t){return Sf(e).put(gj(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Td(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Sf(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const d=n_(a);$g(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Gc(e);return t.forEach(s=>{const a=cr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),R.waitFor(r)}removeMatchingKeys(e,t,i){const r=Gc(e);return R.forEach(t,o=>{const s=cr(o.path);return R.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Gc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Gc(e);let o=rt();return r.Y({range:i,J:!0},(s,a,c)=>{const d=Ys(s[1]),h=new pe(d);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=cr(t.path),r=IDBKeyRange.bound([i],[HB(i)],!1,!0);let o=0;return Gc(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}_t(e,t){return Sf(e).get(t).next(i=>i?n_(i):null)}}function Sf(n){return Pi(n,"targets")}function Pj(n){return Pi(n,"targetGlobal")}function Gc(n){return Pi(n,"targetDocuments")}function Nj([n,e],[t,i]){const r=Qe(n,t);return 0===r?Qe(e,i):r}class Sre{constructor(e){this.Qn=e,this.buffer=new nn(Nj),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Nj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Oj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,K.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Oc(i)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Nc(i)}yield t.Gn(3e5)}))}}class Mre{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return R.resolve(mo._e);const i=new Sre(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(Sj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sj):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(d=Date.now(),df()<=Ws.in.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(d-c)+`ms\nTotal Duration: ${d-h}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class kre{constructor(e,t){this.db=e,this.garbageCollector=function Fj(n,e){return new Mre(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return Jw(e,i)}removeReference(e,t,i){return Jw(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Jw(e,t)}Xn(e,t){return function(r,o){let s=!1;return Rj(r).Z(a=>kj(r,a,o).next(c=>(c&&(s=!0),R.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,ke.min()),Gc(e).delete([0,cr(s.path)])))});r.push(c)}}).next(()=>R.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Jw(e,t)}Zn(e,t){const i=Gc(e);let r,o=mo._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==mo._e&&t(new pe(Ys(r)),o),o=d,r=c):o=mo._e}).next(()=>{o!==mo._e&&t(new pe(Ys(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jw(n,e){return Gc(n).put((r=n.currentSequenceNumber,{targetId:0,path:cr(e.path),sequenceNumber:r}));var r}class Lj{constructor(){this.changes=new Fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?R.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Od(e).put(i)}removeEntry(e,t,i){return Od(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ww(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=bn.newInvalidDocument(t);return Od(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(s_(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:bn.newInvalidDocument(t)};return Od(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(s_(t))},(r,o)=>{i={document:this.tr(t,o),size:Yw(o)}}).next(()=>i)}getEntries(e,t){let i=Yr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Yr(),r=new gn(pe.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,Yw(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return R.resolve();let r=new nn(jj);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(s_(r.first()),s_(r.last())),s=r.getIterator();let a=s.getNext();return Od(e).Y({index:"documentKeyIndex",range:o},(c,d,h)=>{const p=pe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&jj(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?h.U(s_(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Ww(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Od(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=Yr();for(const p of d){const g=this.tr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(qg(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Yr();const s=Uj(t,i),a=Uj(t,fo.max());return Od(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,h)=>{const p=this.tr(pe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Pre(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bj(e).get("remoteDocumentGlobalKey").next(t=>(Me(!!t),t))}er(e,t){return Bj(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function yre(n,e){let t;if(e.document)t=cj(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=pe.fromSegments(e.noDocument.path),r=Md(e.noDocument.readTime);t=bn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const i=pe.fromSegments(e.unknownDocument.path),r=Md(e.unknownDocument.version);t=bn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new An(r[0],r[1]);return ke.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ke.min()))return i}return bn.newInvalidDocument(e)}}function Vj(n){return new Rre(n)}class Pre extends Lj{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Fa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new nn((o,s)=>Qe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=pj(this._r.serializer,s);r=r.add(o.path.popLast());const d=Yw(c);i+=d-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=pj(this._r.serializer,s.convertToNoDocument(ke.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),R.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function Bj(n){return Pi(n,"remoteDocumentGlobal")}function Od(n){return Pi(n,"remoteDocumentsV14")}function s_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Uj(n,e){const t=e.documentKey.path.toArray();return[n,Ww(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jj(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Qe(t[o],i[o]),r)return r;return r=Qe(t.length,i.length),r||(r=Qe(t[t.length-2],i[i.length-2]),r||Qe(t[t.length-1],i[i.length-1]))}class Nre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zj{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Kg(i.mutation,r,Qr.empty(),An.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rt()){const r=Js();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Gg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Js();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Yr();const s=Wg(),a=Wg();return t.forEach((c,d)=>{const h=i.get(d.key);r.has(d.key)&&(void 0===h||h.mutation instanceof La)?o=o.insert(d.key,d):void 0!==h?(s.set(d.key,h.mutation.getFieldMask()),Kg(h.mutation,d,h.mutation.getFieldMask(),An.now())):s.set(d.key,Qr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var p;return a.set(d,new Nre(h,null!==(p=s.get(d))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Wg();let r=new gn((s,a)=>s-a),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let h=i.get(c)||Qr.empty();h=a.applyToLocalView(d,h),i.set(c,h);const p=(r.get(a.batchId)||rt()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=PU();h.forEach(g=>{if(!o.has(g)){const v=zU(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return R.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return pe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):XD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):R.resolve(Js());let a=-1,c=o;return s.next(d=>R.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?R.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,rt())).next(h=>({batchId:a,changes:RU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let r=Gg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Gg();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,c=>{const d=(p=t,g=c.child(o),new Oa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{const h=d.getKey();null===s.get(h)&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Gg();return s.forEach((c,d)=>{const h=o.get(c);void 0!==h&&Kg(h.mutation,d,Qr.empty(),An.now()),qg(t,d)&&(a=a.insert(c,d))}),a})}}class Ore{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return R.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Jn(r.createTime)}),R.resolve();var r}getNamedQuery(e,t){return R.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:uA(r.bundledQuery),readTime:Jn(r.readTime)}),R.resolve();var r}}class Fre{constructor(){this.overlays=new gn(pe.comparator),this.lr=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Js();return R.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),R.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),R.resolve()}getOverlaysForCollection(e,t,i){const r=Js(),o=t.length+1,s=new pe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return R.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new gn((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let h=o.get(d.largestBatchId);null===h&&(h=Js(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Js(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return R.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new rA(t,i));let o=this.lr.get(t);void 0===o&&(o=rt(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class vA{constructor(){this.hr=new nn(Ni.Pr),this.Ir=new nn(Ni.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Ni(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ni(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new pe(new Tt([])),i=new Ni(t,e),r=new Ni(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new Tt([])),i=new Ni(t,e),r=new Ni(t,e+1);let o=rt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ni(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ni{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||Qe(e.gr,t.gr)}static Tr(e,t){return Qe(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class Lre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new nn(Ni.Pr)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new nA(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Ni(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,t){return R.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ni(t,0),r=new Ni(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Qe);return t.forEach(r=>{const o=new Ni(r,0),s=new Ni(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),R.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;pe.isDocumentKey(o)||(o=o.child(""));const s=new Ni(new pe(o),0);let a=new nn(Qe);return this.yr.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.gr)),!0)},s),R.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Me(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return R.forEach(t.mutations,r=>{const o=new Ni(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Ni(t,0),r=this.yr.firstAfterOrEqual(i);return R.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return R.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vre{constructor(e){this.Cr=e,this.docs=new gn(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return R.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bn.newInvalidDocument(r))}),R.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Yr();const s=t.path,a=new pe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||zD(GB(h),i)<=0||(r.has(h.key)||qg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,i,r){we()}vr(e,t){return R.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Bre(this)}getSize(e){return R.resolve(this.size)}}class Bre extends Lj{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),R.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Ure{constructor(e){this.persistence=e,this.Fr=new Fa(t=>Td(t),$g),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new vA,this.targetCount=0,this.Nr=Nd.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),R.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Nd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.kn(t),R.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),R.waitFor(o).next(()=>r)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return R.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),R.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),R.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return R.resolve(i)}containsKey(e,t){return R.resolve(this.Or.containsKey(t))}}class yA{constructor(e,t){this.Br={},this.overlays={},this.Lr=new mo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ure(this),this.indexManager=new Tre,this.remoteDocumentCache=new Vre(i=>this.referenceDelegate.Qr(i)),this.serializer=new mj(t),this.Kr=new Ore(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fre,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new Lre(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){re("MemoryPersistence","Starting transaction:",e);const r=new jre(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return R.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class jre extends ZB{constructor(e){super(),this.currentSequenceNumber=e}}class e0{constructor(e){this.persistence=e,this.Gr=new vA,this.zr=null}static jr(e){return new e0(e)}get Hr(){if(this.zr)return this.zr;throw we()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),R.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),R.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,i=>{const r=pe.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,ke.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return R.or([()=>R.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class zre{constructor(e){this.serializer=e}N(e,t,i,r){const o=new kw("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XB,{unique:!0}),c.createObjectStore("documentMutations"),$j(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=R.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),$j(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,d){return d.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XB,{unique:!0});const p=d.store("mutations"),g=h.map(v=>p.put(v));return R.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:Die});d.createIndex("collectionPathOverlayIndex",Aie,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",Sie,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:gie});d.createIndex("documentKeyIndex",_ie),d.createIndex("collectionGroupIndex",vie)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Iie}).createIndex("sequenceNumberIndex",xie,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Cie}).createIndex("documentKeyIndex",Tie,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=Yw(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>R.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>R.forEach(a,c=>{Me(c.userId===o.userId);const d=kd(this.serializer,c);return Mj(e,o.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new Tt(s),d=[0,cr(c)];o.push(t.get(d).next(h=>h?R.resolve():t.put({targetId:0,path:cr(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>R.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Eie});const i=t.store("collectionParents"),r=new _A,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:cr(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Tt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],d)=>{const h=Ys(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=n_(r),s=gj(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new pe(Tt.fromString(p.document.name).popFirst(5)):p.noDocument?pe.fromSegments(p.noDocument.path):p.unknownDocument?pe.fromSegments(p.unknownDocument.path):we()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(d))}).next(()=>R.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=Vj(this.serializer),o=new yA(e0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var d;let h=null!==(d=a.get(c.userId))&&void 0!==d?d:rt();kd(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),R.forEach(a,(c,d)=>{const h=new Ri(d),p=Zw.ct(this.serializer,h),g=o.getIndexManager(h),v=Xw.ct(h,this.serializer,g,o.referenceDelegate);return new zj(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new qD(t,mo._e),c).next()})})}}function $j(n){n.createObjectStore("targetDocuments",{keyPath:bie}).createIndex("documentTargetsIndex",wie,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yie,{unique:!0}),n.createObjectStore("targetGlobal")}const bA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wA{constructor(e,t,i,r,o,s,a,c,d,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=d,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!wA.D())throw new ne(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kre(this,r),this.Ii=t+"main",this.serializer=new mj(c),this.Ti=new _s(this.Ii,this.ai,new zre(this.serializer)),this.qr=new Are(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Vj(this.serializer),this.Kr=new bre,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ne(V.FAILED_PRECONDITION,bA);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new mo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,K.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,K.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,K.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>n0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Oc(e))return re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return a_(e).get("owner").next(t=>R.resolve(this.wi(t)))}Si(e){return n0(e).delete(this.clientId)}bi(){var e=this;return(0,K.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pi(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return R.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?R.resolve(!0):a_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ne(V.FAILED_PRECONDITION,bA);return!1}}return!(!this.networkEnabled||!this.inForeground)||n0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,K.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new qD(t,mo._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>n0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Xw.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Dre(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Zw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){re("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?kie:14===c?nU:13===c?tU:12===c?Mie:11===c?eU:void we();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new qD(a,this.Lr?this.Lr.next():mo._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Xn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ne(V.FAILED_PRECONDITION,WB);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return a_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ne(V.FAILED_PRECONDITION,bA)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return a_(e).put("owner",t)}static D(){return _s.D()}pi(e){const t=a_(e);return t.get("owner").next(i=>this.wi(i)?(re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):R.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Xn(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,cn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return re("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Xn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Xn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function a_(n){return Pi(n,"owner")}function n0(n){return Pi(n,"clientMetadata")}function EA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class IA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=rt(),r=rt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new IA(e,t.fromCache,i,r)}}class $re{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hj{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new $re;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(df()<=Ws.in.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",yf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(df()<=Ws.in.DEBUG&&re("QueryEngine","Query:",yf(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(df()<=Ws.in.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",yf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):R.resolve())}zi(e,t){if(TU(t))return R.resolve(null);let i=Pr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=jw(t,null,"F"),i=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=rt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.Yi(t,a);return this.Zi(t,d,s,c.readTime)?this.zi(e,jw(t,null,"F")):this.Xi(e,d,t,c)}))})))}ji(e,t,i,r){return TU(t)||r.isEqual(ke.min())?R.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?R.resolve(null):(df()<=Ws.in.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yf(t)),this.Xi(e,s,t,qB(r,-1)).next(a=>a))})}Yi(e,t){let i=new nn(MU(e));return t.forEach((r,o)=>{qg(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return df()<=Ws.in.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",yf(t)),this.Gi.getDocumentsMatchingQuery(e,t,fo.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Hre{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new gn(Qe),this.ns=new Fa(o=>Td(o),$g),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function qj(n,e,t,i){return new Hre(n,e,t,i)}function Gj(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,K.Z)(function*(n,e){const t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=rt();for(const d of r){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(d=>({_s:d,removedBatchIds:s,addedBatchIds:a}))})})}),xA.apply(this,arguments)}function Wj(n){const e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Zj(n,e,t){let i=rt(),r=rt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Yr();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{us:s,cs:r}})}function Wre(n,e){const t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Mf(n,e){const t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,R.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Va(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function kf(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,K.Z)(function*(n,e,t){const i=fe(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Oc(s))throw s;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),CA.apply(this,arguments)}function r0(n,e,t){const i=fe(n);let r=ke.min(),o=rt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){const p=fe(c),g=p.ns.get(h);return void 0!==g?R.resolve(p.ts.get(g)):p.qr.getTargetData(d,h)}(i,s,Pr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:ke.min(),t?o:rt())).next(a=>(Yj(i,SU(e),a),{documents:a,ls:o})))}function Kj(n,e){const t=fe(n),i=fe(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function Qj(n,e){const t=fe(n),i=t.rs.get(e)||ke.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,qB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Yj(t,e,r),r))}function Yj(n,e,t){let i=n.rs.get(e)||ke.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function TA(){return TA=(0,K.Z)(function*(n,e,t,i){const r=fe(n);let o=rt(),s=Yr();for(const d of t){const h=e.hs(d.metadata.name);d.document&&(o=o.add(h));const p=e.Ps(d);p.setReadTime(e.Is(d.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield Mf(r,(h=i,Pr(_f(Tt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>Zj(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.qr.removeMatchingKeysForTargetId(d,c.targetId).next(()=>r.qr.addMatchingKeys(d,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.us,h.cs)).next(()=>h.us)))}),TA.apply(this,arguments)}function Kre(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,K.Z)(function*(n,e,t=rt()){const i=yield Mf(n,Pr(uA(e.bundledQuery))),r=fe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Jn(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ei.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),DA.apply(this,arguments)}function Xj(n,e){return`firestore_clients_${n}_${e}`}function Jj(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function AA(n,e){return`firestore_targets_${n}_${e}`}class o0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ne(r.error.code,r.error.message))),s?new o0(e,t,r.state,o):(Xn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class c_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ne(i.error.code,i.error.message))),o?new c_(e,i.state,r):(Xn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class s0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=eA();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=QB(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new s0(e,o):(Xn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class SA{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new SA(t.clientId,t.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class MA{constructor(){this.activeTargetIds=eA()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new gn(Qe),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=Xj(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new MA),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,K.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(Xj(e.persistenceKey,r));if(o){const s=s0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(AA(this.persistenceKey,e));if(i){const r=c_.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AA(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return re("SharedClientState","READ",e,t),t}setItem(e,t){re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,K.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=mo._e;if(null!=s)try{const c=JSON.parse(s);Me("number"==typeof c),a=c}catch(c){Xn("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==mo._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new o0(this.currentUser,e,t,i),o=Jj(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=Jj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=AA(this.persistenceKey,e),o=new c_(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return s0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return o0.Ts(new Ri(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return c_.Ts(r,t)}Ms(e){return SA.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,K.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=eA();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class e4{constructor(){this.eo=new MA,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new MA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qre{ro(e){}shutdown(){}}class t4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let a0=null;function RA(){return null===a0?a0=268435456+Math.round(2147483648*Math.random()):a0++,"0x"+a0.toString(16)}const Yre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xre{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const dr="WebChannelConnection";class Jre extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=RA(),c=this.So(t,i);re("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,o,s),this.Do(t,c,d,r).then(h=>(re("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Kr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+lf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${Yre[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=RA();return new Promise((s,a)=>{const c=new Qne;c.setWithCredentials(!0),c.listenOnce(Wne.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case BD.NO_ERROR:const h=c.getResponseJson();re(dr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case BD.TIMEOUT:re(dr,`RPC '${e}' ${o} timed out`),a(new ne(V.DEADLINE_EXCEEDED,"Request time out"));break;case BD.HTTP_ERROR:const p=c.getStatus();if(re(dr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(S)>=0?S:V.UNKNOWN}(v.status);a(new ne(b,v.message))}else a(new ne(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ne(V.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{re(dr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);re(dr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",d,i,15)})}vo(e,t,i){const r=RA(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qne(),a=Gne(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new Kne({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");re(dr,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new Xre({co:E=>{v?re(dr,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(g||(re(dr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),re(dr,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},lo:()=>p.close()}),w=(E,S,A)=>{E.listen(S,k=>{try{A(k)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Mw.EventType.OPEN,()=>{v||re(dr,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Mw.EventType.CLOSE,()=>{v||(v=!0,re(dr,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Mw.EventType.ERROR,E=>{v||(v=!0,Kr(dr,`RPC '${e}' stream ${r} transport errored:`,E),b.Ro(new ne(V.UNAVAILABLE,"The operation could not be completed")))}),w(p,Mw.EventType.MESSAGE,E=>{var S;if(!v){const A=E.data[0];Me(!!A);const Y=A.error||(null===(S=A[0])||void 0===S?void 0:S.error);if(Y){re(dr,`RPC '${e}' stream ${r} received error:`,Y);const de=Y.status;let Ee=function(_o){const Xr=di[_o];if(void 0!==Xr)return ZU(Xr)}(de),We=Y.message;void 0===Ee&&(Ee=V.INTERNAL,We="Unknown error status: "+de+" with message "+Y.message),v=!0,b.Ro(new ne(Ee,We)),p.close()}else re(dr,`RPC '${e}' stream ${r} received:`,A),b.Vo(A)}}),w(a,Zne.STAT_EVENT,E=>{E.stat===BB.PROXY?re(dr,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===BB.NOPROXY&&re(dr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function n4(){return typeof window<"u"?window:null}function c0(){return typeof document<"u"?document:null}function l_(n){return new lre(n,!0)}class PA{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class i4{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new PA(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,K.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,K.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,K.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(Xn(t.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===V.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ne(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,K.Z)(function*(){e.state=0,e.start()}))}o_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eoe extends i4{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function hre(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:we(),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(Me(void 0===h||"string"==typeof h),Ei.fromBase64String(h||"")):(Me(void 0===h||h instanceof Uint8Array),Ei.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const h=void 0===d.code?V.UNKNOWN:ZU(d.code);return new ne(h,d.message||"")}(s);t=new JU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=ea(n,i.document.name),o=Jn(i.document.updateTime),s=i.document.createTime?Jn(i.document.createTime):ke.min(),a=new Zi({mapValue:{fields:i.document.fields}}),c=bn.newFoundDocument(r,o,s,a);t=new Gw(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=ea(n,i.document),o=i.readTime?Jn(i.readTime):ke.min(),s=bn.newNoDocument(r,o);t=new Gw([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=ea(n,i.document);t=new Gw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return we();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new ire(r,o);t=new XU(i.targetId,s)}}var d;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?Jn(s.readTime):ke.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=e_(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=Bw(c)?{documents:lj(o,c)}:{query:dA(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ij(o,s.resumeToken);const d=sA(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(ke.min())>0){a.readTime=xf(o,s.snapshotVersion.toTimestamp());const d=sA(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function mre(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=e_(this.serializer),t.removeTarget=e,this.e_(t)}}class toe extends i4{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function fre(n,e){return n&&n.length>0?(Me(void 0!==e),n.map(t=>function(r,o){let s=Jn(r.updateTime?r.updateTime:o);return s.isEqual(ke.min())&&(s=Jn(o)),new Jie(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Jn(e.commitTime);return this.listener.I_(i,t)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=e_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>t_(this.serializer,i))};this.e_(t)}}class noe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ne(V.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ne(V.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(V.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class roe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xn(t),this.f_=!1):re("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class ooe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,K.Z)(function*(){var c;Wc(s)&&(re("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,K.Z)(function*(h){const p=fe(h);p.C_.add(4),yield Rf(p),p.M_.set("Unknown"),p.C_.delete(4),yield d_(p)}),function d(h){return c.apply(this,arguments)})(s))}))}),this.M_=new roe(i,r)}}function d_(n){return OA.apply(this,arguments)}function OA(){return OA=(0,K.Z)(function*(n){if(Wc(n))for(const e of n.v_)yield e(!0)}),OA.apply(this,arguments)}function Rf(n){return FA.apply(this,arguments)}function FA(){return FA=(0,K.Z)(function*(n){for(const e of n.v_)yield e(!1)}),FA.apply(this,arguments)}function l0(n,e){const t=fe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),BA(t)?VA(t):Nf(t).Ho()&&LA(t,e))}function u_(n,e){const t=fe(n),i=Nf(t);t.D_.delete(e),i.Ho()&&r4(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Wc(t)&&t.M_.set("Unknown"))}function LA(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nf(n).u_(e)}function r4(n,e){n.x_.Oe(e),Nf(n).c_(e)}function VA(n){n.x_=new ore({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Nf(n).start(),n.M_.g_()}function BA(n){return Wc(n)&&!Nf(n).jo()&&n.D_.size>0}function Wc(n){return 0===fe(n).C_.size}function o4(n){n.x_=void 0}function soe(n){return UA.apply(this,arguments)}function UA(){return UA=(0,K.Z)(function*(n){n.D_.forEach((e,t)=>{LA(n,e)})}),UA.apply(this,arguments)}function aoe(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,K.Z)(function*(n,e){o4(n),BA(n)?(n.M_.w_(e),VA(n)):n.M_.set("Unknown")}),jA.apply(this,arguments)}function coe(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,K.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof JU&&2===e.state&&e.cause)try{yield(i=(0,K.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield d0(n,i)}else if(e instanceof Gw?n.x_.$e(e):e instanceof XU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(ke.min()))try{const i=yield Wj(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(d);h&&o.D_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ei.EMPTY_BYTE_STRING,h.snapshotVersion)),r4(o,c);const p=new Va(h.target,c,d,h.sequenceNumber);LA(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){re("RemoteStore","Failed to raise snapshot:",i),yield d0(n,i)}var i}),zA.apply(this,arguments)}function d0(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,K.Z)(function*(n,e,t){if(!Oc(e))throw e;n.C_.add(1),yield Rf(n),n.M_.set("Offline"),t||(t=()=>Wj(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){re("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield d_(n)}))}),$A.apply(this,arguments)}function s4(n,e){return e().catch(t=>d0(n,t,e))}function Pf(n){return HA.apply(this,arguments)}function HA(){return HA=(0,K.Z)(function*(n){const e=fe(n),t=Zc(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;loe(e);)try{const r=yield Wre(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,doe(e,r)}catch(r){yield d0(e,r)}a4(e)&&c4(e)}),HA.apply(this,arguments)}function loe(n){return Wc(n)&&n.b_.length<10}function doe(n,e){n.b_.push(e);const t=Zc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function a4(n){return Wc(n)&&!Zc(n).jo()&&n.b_.length>0}function c4(n){Zc(n).start()}function uoe(n){return qA.apply(this,arguments)}function qA(){return qA=(0,K.Z)(function*(n){Zc(n).E_()}),qA.apply(this,arguments)}function hoe(n){return GA.apply(this,arguments)}function GA(){return GA=(0,K.Z)(function*(n){const e=Zc(n);for(const t of n.b_)e.P_(t.mutations)}),GA.apply(this,arguments)}function foe(n,e,t){return WA.apply(this,arguments)}function WA(){return WA=(0,K.Z)(function*(n,e,t){const i=n.b_.shift(),r=iA.from(i,e,t);yield s4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Pf(n)}),WA.apply(this,arguments)}function moe(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,K.Z)(function*(n,e){var t;e&&Zc(n).h_&&(yield(t=(0,K.Z)(function*(r,o){if(WU(a=o.code)&&a!==V.ABORTED){const s=r.b_.shift();Zc(r).Yo(),yield s4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Pf(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),a4(n)&&c4(n)}),ZA.apply(this,arguments)}function l4(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,K.Z)(function*(n,e){const t=fe(n);t.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const i=Wc(t);t.C_.add(3),yield Rf(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield d_(t)}),KA.apply(this,arguments)}function QA(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,K.Z)(function*(n,e){const t=fe(n);e?(t.C_.delete(2),yield d_(t)):e||(t.C_.add(2),yield Rf(t),t.M_.set("Unknown"))}),YA.apply(this,arguments)}function Nf(n){return n.O_||(n.O_=function(t,i,r){const o=fe(t);return o.A_(),new eoe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:soe.bind(null,n),Io:aoe.bind(null,n),a_:coe.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.O_.Yo(),BA(n)?VA(n):n.M_.set("Unknown")):(yield n.O_.stop(),o4(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Zc(n){return n.N_||(n.N_=function(t,i,r){const o=fe(t);return o.A_(),new toe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:uoe.bind(null,n),Io:moe.bind(null,n),T_:hoe.bind(null,n),I_:foe.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.N_.Yo(),yield Pf(n)):(yield n.N_.stop(),n.b_.length>0&&(re("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class XA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new XA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(n,e){if(Xn("AsyncQueue",`${e}: ${n}`),Oc(n))return new ne(V.UNAVAILABLE,`${e}: ${n}`);throw n}class Ff{constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=Gg(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new Ff(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ff)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ff;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class d4{constructor(){this.B_=new gn(pe.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):we():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Lf{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Lf(e,t,Ff.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class poe{constructor(){this.k_=void 0,this.listeners=[]}}class goe{constructor(){this.queries=new Fa(e=>AU(e),Hg),this.onlineState="Unknown",this.q_=new Set}}function JA(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,K.Z)(function*(n,e){const t=fe(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new poe),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Of(s,`Initialization of query '${yf(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&iS(t)}),eS.apply(this,arguments)}function tS(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,K.Z)(function*(n,e){const t=fe(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),nS.apply(this,arguments)}function _oe(n,e){const t=fe(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&iS(t)}function voe(n,e,t){const i=fe(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function iS(n){n.q_.forEach(e=>{e.next()})}class rS{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Lf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Lf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class yoe{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class u4{constructor(e){this.serializer=e}hs(e){return ea(this.serializer,e)}Ps(e){return e.metadata.exists?cj(this.serializer,e.document,!1):bn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Jn(e)}}class boe{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=h4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Tt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new u4(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||rt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,K.Z)(function*(){const t=yield function Zre(n,e,t,i){return TA.apply(this,arguments)}(e.localStore,new u4(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield Kre(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function h4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class f4{constructor(e){this.key=e}}class m4{constructor(e){this.key=e}}class p4{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=MU(e),this.aa=new Ff(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new d4,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=qg(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),E=!0):this.ha(g,v)||(i.track({type:2,doc:v}),E=!0,(c&&this._a(v,c)>0||d&&this._a(v,d)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),E=!0):g&&!v&&(i.track({type:1,doc:g}),E=!0,(c||d)&&(a=!0)),E&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return b(g)-b(v)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Lf(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new d4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new m4(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new f4(i))}),t}da(e){this.ia=e.ls,this.oa=rt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Lf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class woe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Eoe{constructor(e){this.key=e,this.Ra=!1}}class Ioe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Fa(a=>AU(a),Hg),this.fa=new Map,this.ga=new Set,this.pa=new gn(pe.comparator),this.ya=new Map,this.wa=new vA,this.Sa={},this.ba=new Map,this.Da=Nd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function xoe(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,K.Z)(function*(n,e){const t=AS(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Mf(t.localStore,Pr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield sS(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&l0(t.remoteStore,s)}return r}),oS.apply(this,arguments)}function sS(n,e,t,i,r){return aS.apply(this,arguments)}function aS(){return aS=(0,K.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,K.Z)(function*(E,S,A,k){let Y=S.view.ca(A);Y.Zi&&(Y=yield r0(E.localStore,S.query,!1).then(({documents:We})=>S.view.ca(We,Y)));const de=k&&k.targetChanges.get(S.targetId),Ee=S.view.applyChanges(Y,E.isPrimaryClient,de);return _S(E,S.targetId,Ee.Ta),Ee.snapshot}),function w(E,S,A,k){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield r0(n.localStore,e,!0),s=new p4(e,o.ls),a=s.ca(o.documents),c=Xg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=s.applyChanges(a,n.isPrimaryClient,c);_S(n,t,d.Ta);const h=new woe(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),aS.apply(this,arguments)}function Coe(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,K.Z)(function*(n,e){const t=fe(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Hg(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),u_(t.remoteStore,i.targetId),Vf(t,i.targetId)}).catch(Nc))):(Vf(t,i.targetId),yield kf(t.localStore,i.targetId,!0))}),cS.apply(this,arguments)}function lS(){return lS=(0,K.Z)(function*(n,e,t){const i=SS(n);try{const r=yield function(s,a){const c=fe(s),d=An.now(),h=a.reduce((v,b)=>v.add(b.key),rt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Yr(),w=rt();return c.ss.getEntries(v,h).next(E=>{b=E,b.forEach((S,A)=>{A.isValidDocument()||(w=w.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(E=>{p=E;const S=[];for(const A of a){const k=tre(A,p.get(A.key).overlayedDocument);null!=k&&S.push(new La(A.key,k,fU(k.value.mapValue),Sn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,S,a)}).next(E=>{g=E;const S=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,E.batchId,S)})}).then(()=>({batchId:g.batchId,changes:RU(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Sa[s.currentUser.toKey()];d||(d=new gn(Qe)),d=d.insert(a,c),s.Sa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield Ba(i,r.changes),yield Pf(i.remoteStore)}catch(r){const o=Of(r,"Failed to persist write");t.reject(o)}}),lS.apply(this,arguments)}function g4(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,K.Z)(function*(n,e){const t=fe(n);try{const i=yield function Gre(n,e){const t=fe(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,E,S;null!==e.targetMismatches.get(p)?v=v.withResumeToken(Ei.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),E=v,S=h,(0===(w=g).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Yr(),d=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Zj(o,s,e.documentUpdates).next(h=>{c=h.us,d=h.cs})),!i.isEqual(ke.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Me(s.Ra):r.removedDocuments.size>0&&(Me(s.Ra),s.Ra=!1))}),yield Ba(t,i,e)}catch(i){yield Nc(i)}}),dS.apply(this,arguments)}function _4(n,e,t){const i=fe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=fe(s);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(d=!0)}),d&&iS(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Doe(n,e,t){return uS.apply(this,arguments)}function uS(){return uS=(0,K.Z)(function*(n,e,t){const i=fe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new gn(pe.comparator);s=s.insert(o,bn.newNoDocument(o,ke.min()));const a=rt().add(o),c=new Yg(ke.min(),new Map,new gn(Qe),s,a);yield g4(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),vS(i)}else yield kf(i.localStore,e,!1).then(()=>Vf(i,e,t)).catch(Nc)}),uS.apply(this,arguments)}function Aoe(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,K.Z)(function*(n,e){const t=fe(n),i=e.batch.batchId;try{const r=yield function qre(n,e){const t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,g=p.keys();let v=R.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const E=d.docVersions.get(b);Me(null!==E),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=rt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);gS(t,i,null),pS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ba(t,r)}catch(r){yield Nc(r)}}),hS.apply(this,arguments)}function Soe(n,e,t){return fS.apply(this,arguments)}function fS(){return fS=(0,K.Z)(function*(n,e,t){const i=fe(n);try{const r=yield function(s,a){const c=fe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Me(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);gS(i,e,t),pS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ba(i,r)}catch(r){yield Nc(r)}}),fS.apply(this,arguments)}function mS(){return mS=(0,K.Z)(function*(n,e){const t=fe(n);Wc(t.remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=fe(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Of(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),mS.apply(this,arguments)}function pS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function gS(n,e,t){const i=fe(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Vf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||v4(n,i)})}function v4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(u_(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),vS(n))}function _S(n,e,t){for(const i of t)i instanceof f4?(n.wa.addReference(i.key,e),koe(n,i)):i instanceof m4?(re("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||v4(n,i.key)):we()}function koe(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(re("SyncEngine","New document in limbo: "+t),n.ga.add(i),vS(n))}function vS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(Tt.fromString(e)),i=n.Da.next();n.ya.set(i,new Eoe(t)),n.pa=n.pa.insert(t,i),l0(n.remoteStore,new Va(Pr(_f(t.path)),i,"TargetPurposeLimboResolution",mo._e))}}function Ba(n,e,t){return yS.apply(this,arguments)}function yS(){return yS=(0,K.Z)(function*(n,e,t){const i=fe(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(d=>{if((d||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);const h=IA.Qi(c.targetId,d);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,K.Z)(function*(d,h){const p=fe(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>R.forEach(h,v=>R.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>R.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!Oc(g))throw g;re("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,E)}}}),function c(d,h){return a.apply(this,arguments)})(i.localStore,o))}),yS.apply(this,arguments)}function Roe(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,K.Z)(function*(n,e){const t=fe(n);if(!t.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const i=yield Gj(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new ne(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ba(t,i._s)}var o}),bS.apply(this,arguments)}function Poe(n,e){const t=fe(n),i=t.ya.get(e);if(i&&i.Ra)return rt().add(i.key);{let r=rt();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function Noe(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,K.Z)(function*(n,e){const t=fe(n),i=yield r0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&_S(t,e.targetId,r.Ta),r}),wS.apply(this,arguments)}function Ooe(n,e){return ES.apply(this,arguments)}function ES(){return ES=(0,K.Z)(function*(n,e){const t=fe(n);return Qj(t.localStore,e).then(i=>Ba(t,i))}),ES.apply(this,arguments)}function Foe(n,e,t,i){return IS.apply(this,arguments)}function IS(){return IS=(0,K.Z)(function*(n,e,t,i){const r=fe(n),o=yield function(a,c){const d=fe(a),h=fe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?d.localDocuments.getDocuments(p,g):R.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Pf(r.remoteStore):"acknowledged"===t||"rejected"===t?(gS(r,e,i||null),pS(r,e),c=e,fe(fe(r.localStore).mutationQueue).Fn(c)):we(),yield Ba(r,o)):re("SyncEngine","Cannot apply mutation batch with id: "+e)}),IS.apply(this,arguments)}function xS(){return xS=(0,K.Z)(function*(n,e){const t=fe(n);if(AS(t),SS(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield y4(t,i.toArray());t.Ca=!0,yield QA(t.remoteStore,!0);for(const o of r)l0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Vf(t,s),kf(t.localStore,s,!0))),u_(t.remoteStore,s)}),yield r,yield y4(t,i),function(s){const a=fe(s);a.ya.forEach((c,d)=>{u_(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new gn(pe.comparator)}(t),t.Ca=!1,yield QA(t.remoteStore,!1)}}),xS.apply(this,arguments)}function y4(n,e,t){return CS.apply(this,arguments)}function CS(){return CS=(0,K.Z)(function*(n,e,t){const i=fe(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield Mf(i.localStore,Pr(c[0]));for(const d of c){const h=i.ma.get(d),p=yield Noe(i,h);p.snapshot&&o.push(p.snapshot)}}else{const d=yield Kj(i.localStore,s);a=yield Mf(i.localStore,d),yield sS(i,b4(d),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),CS.apply(this,arguments)}function b4(n){return CU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Voe(n){return t=fe(n).localStore,fe(fe(t).persistence).Bi();var t}function Boe(n,e,t,i){return TS.apply(this,arguments)}function TS(){return TS=(0,K.Z)(function*(n,e,t,i){const r=fe(n);if(r.Ca)return void re("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield Qj(r.localStore,SU(o[0])),a=Yg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield Ba(r,s,a);break}case"rejected":yield kf(r.localStore,e,!0),Vf(r,e,i);break;default:we()}}),TS.apply(this,arguments)}function Uoe(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,K.Z)(function*(n,e,t){const i=AS(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){re("SyncEngine","Adding an already active target "+r);continue}const o=yield Kj(i.localStore,r),s=yield Mf(i.localStore,o);yield sS(i,b4(o),s.targetId,!1,s.resumeToken),l0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield kf(i.localStore,r,!1).then(()=>{u_(i.remoteStore,r),Vf(i,r)}).catch(Nc))}}),DS.apply(this,arguments)}function AS(n){const e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=g4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Poe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Doe.bind(null,e),e.Va.a_=_oe.bind(null,e.eventManager),e.Va.Fa=voe.bind(null,e.eventManager),e}function SS(n){const e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Soe.bind(null,e),e}class h_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.serializer=l_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qj(this.persistence,new Hj,e.initialUser,this.serializer)}createPersistence(e){return new yA(e0.jr,this.serializer)}createSharedClientState(e){return new e4}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MS extends h_{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield SS(i.xa.syncEngine),yield Pf(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qj(this.persistence,new Hj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Oj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new fie(t,this.persistence);return new hie(e.asyncQueue,i)}createPersistence(e){const t=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new wA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,n4(),c0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new e4}}class w4 extends MS{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof kA&&(i.sharedClientState.syncEngine={Ys:Foe.bind(null,r),Zs:Boe.bind(null,r),Xs:Uoe.bind(null,r),Bi:Voe.bind(null,r),Js:Ooe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,K.Z)(function*(s){yield function Loe(n,e){return xS.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=n4();if(!kA.D(t))throw new ne(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Bf{initialize(e,t){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>_4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Roe.bind(null,i.syncEngine),yield QA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new goe}createDatastore(e){const t=l_(e.databaseInfo.databaseId),i=new Jre(e.databaseInfo);return new noe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>_4(this.syncEngine,t,0),a=t4.D()?new t4:new Qre,new ooe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,d,h){const p=new Ioe(r,o,s,a,c,d);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(i){const r=fe(i);re("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Rf(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function E4(n,e=10240){let t=0;return{read:()=>(0,K.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class u0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $oe{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,K.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,K.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,K.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new yoe(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,K.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,K.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,K.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Hoe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ne(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,a){const c=fe(s),d=e_(c.serializer)+"/documents",h={documents:a.map(b=>Jg(c.serializer,b))},p=yield c.Co("BatchGetDocuments",d,h,a.length),g=new Map;p.forEach(b=>{const w=function ure(n,e){return"found"in e?function(i,r){Me(!!r.found);const o=ea(i,r.found.name),s=Jn(r.found.updateTime),a=r.found.createTime?Jn(r.found.createTime):ke.min(),c=new Zi({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){Me(!!r.missing),Me(!!r.readTime);const o=ea(i,r.missing),s=Jn(r.readTime);return bn.newNoDocument(o,s)}(n,e):we()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());Me(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new If(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=pe.fromPath(r);e.mutations.push(new tA(o,e.precondition(o)))}),yield(i=(0,K.Z)(function*(o,s){const a=fe(o),c=e_(a.serializer)+"/documents",d={writes:s.map(h=>t_(a.serializer,h))};yield a.wo("Commit",c,d)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=ke.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ne(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ke.min())?Sn.exists(!1):Sn.updateTime(t):Sn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ke.min()))throw new ne(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(t)}return Sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qoe{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new PA(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,K.Z)(function*(){const t=new Hoe(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Fg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!WU(t)}return!1}}class Goe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ri.UNAUTHENTICATED,this.clientId=$B.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,K.Z)(function*(a){re("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Of(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function h0(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(o){i.isEqual(o)||(yield Gj(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),kS.apply(this,arguments)}function RS(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NS(n);re("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>l4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>l4(e.remoteStore,o)),n._onlineComponents=e}),PS.apply(this,arguments)}function I4(n){return"FirebaseError"===n.name?n.code===V.FAILED_PRECONDITION||n.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function NS(n){return OS.apply(this,arguments)}function OS(){return OS=(0,K.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield h0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!I4(t))throw t;Kr("Error using user provided cache. Falling back to memory cache: "+t),yield h0(n,new h_)}}else re("FirestoreClient","Using default OfflineComponentProvider"),yield h0(n,new h_);return n._offlineComponents}),OS.apply(this,arguments)}function f0(n){return FS.apply(this,arguments)}function FS(){return FS=(0,K.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),yield RS(n,n._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),yield RS(n,new Bf))),n._onlineComponents}),FS.apply(this,arguments)}function x4(n){return NS(n).then(e=>e.persistence)}function Uf(n){return NS(n).then(e=>e.localStore)}function C4(n){return f0(n).then(e=>e.remoteStore)}function LS(n){return f0(n).then(e=>e.syncEngine)}function jf(n){return VS.apply(this,arguments)}function VS(){return VS=(0,K.Z)(function*(n){const e=yield f0(n),t=e.eventManager;return t.onListen=xoe.bind(null,e.syncEngine),t.onUnlisten=Coe.bind(null,e.syncEngine),t}),VS.apply(this,arguments)}function D4(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new u0({next:g=>{s.enqueueAndForget(()=>tS(o,p));const v=g.docs.has(a);!v&&g.fromCache?d.reject(new ne(V.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?d.reject(new ne(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new rS(_f(a.path),h,{includeMetadataChanges:!0,J_:!0});return JA(o,p)}(yield jf(n),n.asyncQueue,e,t,i)})),i.promise}function A4(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new u0({next:g=>{s.enqueueAndForget(()=>tS(o,p)),g.fromCache&&"server"===c.source?d.reject(new ne(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new rS(a,h,{includeMetadataChanges:!0,J_:!0});return JA(o,p)}(yield jf(n),n.asyncQueue,e,t,i)})),i.promise}function S4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const M4=new Map;function BS(n,e,t){if(!t)throw new ne(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k4(n,e,t,i){if(!0===e&&!0===i)throw new ne(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function R4(n){if(!pe.isDocumentKey(n))throw new ne(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function P4(n){if(pe.isDocumentKey(n))throw new ne(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function m0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":we()}function _t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=m0(n);throw new ne(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function N4(n,e){if(e<=0)throw new ne(V.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class O4{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S4(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ne(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f_{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O4(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new eie;switch(i.type){case"firstParty":return new rie(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ne(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=M4.get(t);i&&(re("ComponentProvider","Removing Datastore"),M4.delete(t),i.terminate())}(this),Promise.resolve()}}class Ki{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ta extends Ki{constructor(e,t,i){super(e,t,_f(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new pe(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function L4(n,e,...t){if(n=(0,cn.m9)(n),BS("collection","path",e),n instanceof f_){const i=Tt.fromString(e,...t);return P4(i),new ta(n,null,i)}{if(!(n instanceof wn||n instanceof ta))throw new ne(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tt.fromString(e,...t));return P4(i),new ta(n.firestore,null,i)}}function p0(n,e,...t){if(n=(0,cn.m9)(n),1===arguments.length&&(e=$B.newId()),BS("doc","path",e),n instanceof f_){const i=Tt.fromString(e,...t);return R4(i),new wn(n,null,new pe(i))}{if(!(n instanceof wn||n instanceof ta))throw new ne(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tt.fromString(e,...t));return R4(i),new wn(n.firestore,n instanceof ta?n.converter:null,new pe(i))}}function V4(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),(n instanceof wn||n instanceof ta)&&(e instanceof wn||e instanceof ta)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function US(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&Hg(n._query,e._query)&&n.converter===e.converter}class rse{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new PA(this,"async_queue_retry"),this.iu=()=>{const t=c0();t&&re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=c0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=c0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,K.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Oc(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=XA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&we()}verifyOperationInProgress(){}uu(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function jS(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class ose{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _n extends f_{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new rse,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||B4(this),this._firestoreClient.terminate()}}function Un(n){return n._firestoreClient||B4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function B4(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Nie(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,S4(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new Goe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function U4(n,e,t){const i=new wi;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield h0(n,t),yield RS(n,e),i.resolve()}catch(r){const o=r;if(!I4(o))throw o;Kr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function j4(n){if(n._initialized||n._terminated)throw new ne(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(Ei.fromBase64String(e))}catch(t){throw new ne(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new na(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ua{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ne(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._methodName=e}}class g0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}const gse=/^__.*__$/;class _se{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ef(e,this.data,t,this.fieldTransforms)}}class z4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class _0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new _0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return b0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if($4(this.Iu)&&gse.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class vse{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||l_(e)}pu(e,t,i,r=!1){return new _0({Iu:e,methodName:t,gu:i,path:yn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ld(n){const e=n._freezeSettings(),t=l_(n._databaseId);return new vse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function v0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);qS("Data must be an object, but it was:",s,i);const a=G4(i,s);let c,d;if(o.merge)c=new Qr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=g_(e,p,t);if(!s.contains(g))throw new ne(V.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Z4(h,g)||h.push(g)}c=new Qr(h),d=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=s.fieldTransforms;return new _se(new Zi(a),c,d)}class p_ extends Fd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof p_}}function H4(n,e,t){return new _0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zS extends Fd{_toFieldTransform(e){return new Zg(e.path,new bf)}isEqual(e){return e instanceof zS}}class yse extends Fd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=H4(this,e,!0),i=this.yu.map(o=>Vd(o,t)),r=new Dd(i);return new Zg(e.path,r)}isEqual(e){return this===e}}class bse extends Fd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=H4(this,e,!0),i=this.yu.map(o=>Vd(o,t)),r=new Ad(i);return new Zg(e.path,r)}isEqual(e){return this===e}}class wse extends Fd{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new wf(e.serializer,FU(e.serializer,this.wu));return new Zg(e.path,t)}isEqual(e){return this===e}}function $S(n,e,t,i){const r=n.pu(1,e,t);qS("Data must be an object, but it was:",r,i);const o=[],s=Zi.empty();Fc(i,(c,d)=>{const h=y0(e,c,t);d=(0,cn.m9)(d);const p=r.Ru(h);if(d instanceof p_)o.push(h);else{const g=Vd(d,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Qr(o);return new z4(s,a,r.fieldTransforms)}function HS(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[g_(e,i,t)],c=[r];if(o.length%2!=0)throw new ne(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(g_(e,o[g])),c.push(o[g+1]);const d=[],h=Zi.empty();for(let g=a.length-1;g>=0;--g)if(!Z4(d,a[g])){const v=a[g];let b=c[g];b=(0,cn.m9)(b);const w=s.Ru(v);if(b instanceof p_)d.push(v);else{const E=Vd(b,w);null!=E&&(d.push(v),h.set(v,E))}}const p=new Qr(d);return new z4(h,p,s.fieldTransforms)}function q4(n,e,t,i=!1){return Vd(t,n.pu(i?4:3,e))}function Vd(n,e){if(W4(n=(0,cn.m9)(n)))return qS("Unsupported field value:",e,n),G4(n,e);if(n instanceof Fd)return function(i,r){if(!$4(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Vd(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,cn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return FU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=An.fromDate(i);return{timestampValue:xf(r.serializer,o)}}if(i instanceof An){const o=new An(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xf(r.serializer,o)}}if(i instanceof g0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof na)return{bytesValue:ij(r.serializer,i._byteString)};if(i instanceof wn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:aA(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${m0(i)}`)}(n,e)}function G4(n,e){const t={};return rU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fc(n,(i,r)=>{const o=Vd(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function W4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof An||n instanceof g0||n instanceof na||n instanceof wn||n instanceof Fd)}function qS(n,e,t){if(!W4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=m0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function g_(n,e,t){if((e=(0,cn.m9)(e))instanceof Ua)return e._internalPath;if("string"==typeof e)return y0(n,e);throw b0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ese=new RegExp("[~\\*/\\[\\]]");function y0(n,e,t){if(e.search(Ese)>=0)throw b0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ua(...e.split("."))._internalPath}catch{throw b0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function b0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new ne(V.INVALID_ARGUMENT,a+n+c)}function Z4(n,e){return n.some(t=>t.isEqual(e))}class __{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ise(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(w0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ise extends __{data(){return super.data()}}function w0(n,e){return"string"==typeof e?y0(n,e):e instanceof Ua?e._internalPath:e._delegate._internalPath}function K4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ne(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GS{}class v_ extends GS{}function Kc(n,e,...t){let i=[];e instanceof GS&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof zf).length,a=o.filter(c=>c instanceof y_).length;if(s>1||s>0&&a>0)throw new ne(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class y_ extends v_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new y_(e,t,i)}_apply(e){const t=this._parse(e);return J4(e._query,t),new Ki(e.firestore,e.converter,JD(e._query,t))}_parse(e){const t=Ld(e.firestore);return function(o,s,a,c,d,h,p){let g;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ne(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){X4(p,h);const v=[];for(const b of p)v.push(Y4(c,o,b));g={arrayValue:{values:v}}}else g=Y4(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||X4(p,h),g=q4(a,"where",p,"in"===h||"not-in"===h);return wt.create(d,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class zf extends GS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Jt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)J4(s,c),s=JD(s,c)}(e._query,t),new Ki(e.firestore,e.converter,JD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class WS extends v_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WS(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ne(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ne(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zg(o,s)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Oa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class E0 extends v_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new E0(e,t,i)}_apply(e){return new Ki(e.firestore,e.converter,jw(e._query,this._limit,this._limitType))}}class I0 extends v_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new I0(e,t,i)}_apply(e){const t=Q4(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class x0 extends v_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new x0(e,t,i)}_apply(e){const t=Q4(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Q4(n,e,t,i){if(t[0]=(0,cn.m9)(t[0]),t[0]instanceof __)return function(o,s,a,c,d){if(!c)throw new ne(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of vf(o))if(p.field.isKeyField())h.push(Cd(s,c.key));else{const g=c.data.field(p.field);if(Nw(g))throw new ne(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new ne(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new zc(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Ld(n.firestore);return function(s,a,c,d,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new ne(V.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new ne(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!XD(s)&&-1!==w.indexOf("/"))throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const E=s.path.child(Tt.fromString(w));if(!pe.isDocumentKey(E))throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const S=new pe(E);v.push(Cd(a,S))}else{const E=q4(c,d,w);v.push(E)}}return new zc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Y4(n,e,t){if("string"==typeof(t=(0,cn.m9)(t))){if(""===t)throw new ne(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XD(e)&&-1!==t.indexOf("/"))throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Tt.fromString(t));if(!pe.isDocumentKey(i))throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cd(n,new pe(i))}if(t instanceof wn)return Cd(n,t._key);throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m0(t)}.`)}function X4(n,e){if(!Array.isArray(n)||0===n.length)throw new ne(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J4(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ne(V.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZS{convertValue(e,t="none"){switch(Uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Fc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new g0(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ow(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vg(e));default:return null}}convertTimestamp(e){const t=Lc(e);return new An(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Tt.fromString(e);Me(fj(i));const r=new Vc(i.get(1),i.get(3)),o=new pe(i.popFirst(5));return r.isEqual(t)||Xn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function C0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Rse extends ZS{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}class Bd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends __{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new b_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(w0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class b_ extends ja{data(e={}){return super.data(e)}}class Qc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Bd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new b_(this._firestore,this._userDataWriter,i.key,i,new Bd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new b_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new b_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Nse(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function t3(n,e){return n instanceof ja&&e instanceof ja?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qc&&e instanceof Qc&&n._firestore===e._firestore&&US(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Yc extends ZS{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function n3(n,e,t){n=_t(n,wn);const i=_t(n.firestore,_n),r=C0(n.converter,e,t);return $f(i,[v0(Ld(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Sn.none())])}function r3(n,e,t,...i){n=_t(n,wn);const r=_t(n.firestore,_n),o=Ld(r);let s;return s="string"==typeof(e=(0,cn.m9)(e))||e instanceof Ua?HS(o,"updateDoc",n._key,e,t,i):$S(o,"updateDoc",n._key,e),$f(r,[s.toMutation(n._key,Sn.exists(!0))])}function o3(n,...e){var t,i,r;n=(0,cn.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||jS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(jS(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,d,h;if(n instanceof wn)d=_t(n.firestore,_n),h=_f(n._key.path),c={next:p=>{e[s]&&e[s](KS(d,n,p))},error:e[s+1],complete:e[s+2]};else{const p=_t(n,Ki);d=_t(p.firestore,_n),h=p._query;const g=new Yc(d);c={next:v=>{e[s]&&e[s](new Qc(d,g,p,v))},error:e[s+1],complete:e[s+2]},K4(n._query)}return function(g,v,b,w){const E=new u0(w),S=new rS(v,E,b);return g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return JA(yield jf(g),S)})),()=>{E.Na(),g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return tS(yield jf(g),S)}))}}(Un(d),h,a,c)}function $f(n,e){return function(i,r){const o=new wi;return i.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function Toe(n,e,t){return lS.apply(this,arguments)}(yield LS(i),r,o)})),o.promise}(Un(n),e)}function KS(n,e,t){const i=t.docs.get(e._key),r=new Yc(n);return new ja(n,r,e._key,i,new Bd(t.hasPendingWrites,t.fromCache),e.converter)}const Xse={maxAttempts:5};class s3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ld(e)}set(e,t,i){this._verifyNotCommitted();const r=Xc(e,this._firestore),o=C0(r.converter,t,i),s=v0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Sn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Xc(e,this._firestore);let s;return s="string"==typeof(t=(0,cn.m9)(t))||t instanceof Ua?HS(this._dataReader,"WriteBatch.update",o._key,t,i,r):$S(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xc(e,this._firestore);return this._mutations=this._mutations.concat(new If(t._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ne(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xc(n,e){if((n=(0,cn.m9)(n)).firestore!==e)throw new ne(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Jse extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Ld(t)}get(t){const i=Xc(t,this._firestore),r=new Rse(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return we();const s=o[0];if(s.isFoundDocument())return new __(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new __(this._firestore,r,i._key,null,i.converter);throw we()})}set(t,i,r){const o=Xc(t,this._firestore),s=C0(o.converter,i,r),a=v0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=Xc(t,this._firestore);let a;return a="string"==typeof(i=(0,cn.m9)(i))||i instanceof Ua?HS(this._dataReader,"Transaction.update",s._key,i,r,o):$S(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=Xc(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xc(e,this._firestore),i=new Yc(this._firestore);return super.get(e).then(r=>new ja(this._firestore,i,t._key,r._document,new Bd(!1,!1),t.converter))}}function YS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function d3(){if(typeof Uint8Array>"u")throw new ne("unimplemented","Uint8Arrays are not available in this environment.")}function u3(){if(!function Rie(){return typeof atob<"u"}())throw new ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){lf=Qh.SDK_VERSION,(0,Qh._registerComponent)(new IV.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new _n(new nie(i.getProvider("auth-internal")),new oie(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ne(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Qh.registerVersion)(UB,"4.3.2",e),(0,Qh.registerVersion)(UB,"4.3.2","esm2017")}();class w_{constructor(e){this._delegate=e}static fromBase64String(e){return u3(),new w_(na.fromBase64String(e))}static fromUint8Array(e){return d3(),new w_(na.fromUint8Array(e))}toBase64(){return u3(),this._delegate.toBase64()}toUint8Array(){return d3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function XS(n){return function lae(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class dae{enableIndexedDbPersistence(e,t){return function ase(n,e){j4(n=_t(n,_n));const t=Un(n);if(t._uninitializedComponentsProvider)throw new ne(V.FAILED_PRECONDITION,"SDK cache is already specified.");Kr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Bf;return U4(t,r,new MS(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cse(n){j4(n=_t(n,_n));const e=Un(n);if(e._uninitializedComponentsProvider)throw new ne(V.FAILED_PRECONDITION,"SDK cache is already specified.");Kr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Bf;return U4(e,i,new w4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function lse(n){if(n._initialized&&!n._terminated)throw new ne(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(t=(0,K.Z)(function*(r){if(!_s.D())return Promise.resolve();const o=r+"main";yield _s.delete(o)}),function i(r){return t.apply(this,arguments)})(EA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class h3{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Kr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function F4(n,e,t,i={}){var r;const o=(n=_t(n,f_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Ri.MOCK_USER;else{a=(0,cn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ne(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ri(d)}n._authCredentials=new tie(new jB(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function use(n){return function Woe(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield x4(n),t=yield C4(n);return e.setNetworkEnabled(!0),function(r){const o=fe(r);return o.C_.delete(0),d_(o)}(t)}))}(Un(n=_t(n,_n)))}(this._delegate)}disableNetwork(){return function hse(n){return function Zoe(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield x4(n),t=yield C4(n);return e.setNetworkEnabled(!1),(i=(0,K.Z)(function*(o){const s=fe(o);s.C_.add(0),yield Rf(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Un(n=_t(n,_n)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,k4("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dse(n){return function(t){const i=new wi;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function Moe(n,e){return mS.apply(this,arguments)}(yield LS(t),i)})),i.promise}(Un(n=_t(n,_n)))}(this._delegate)}onSnapshotsInSync(e){return function $se(n,e){return function Yoe(n,e){const t=new u0(e);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield jf(n),o=t,fe(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield jf(n),o=t,void fe(r).q_.delete(o);var r,o}))}}(Un(n=_t(n,_n)),jS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hf(this,L4(this._delegate,e))}catch(t){throw Nr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Vo(this,p0(this._delegate,e))}catch(t){throw Nr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Or(this,function ise(n,e){if(n=_t(n,f_),BS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ne(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(i=e,new Oa(Tt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Nr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eae(n,e,t){n=_t(n,_n);const i=Object.assign(Object.assign({},Xse),t);return function(o){if(o.maxAttempts<1)throw new ne(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new wi;return o.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const d=yield function T4(n){return f0(n).then(e=>e.datastore)}(o);new qoe(o.asyncQueue,d,a,s,c).run()})),c.promise}(Un(n),r=>e(new Jse(n,r)),i)}(this._delegate,t=>e(new f3(this,t)))}batch(){return Un(this._delegate),new m3(new s3(this._delegate,e=>$f(this._delegate,e)))}loadBundle(e){return function fse(n,e){const t=Un(n=_t(n,_n)),i=new ose;return function Xoe(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?KU().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return E4(h,p);if(h instanceof ArrayBuffer)return E4(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new $oe(h,a);var h}(t,l_(e));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function joe(n,e,t){const i=fe(n);var r;(r=(0,K.Z)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(b,w){const E=fe(b),S=Jn(w.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",A=>E.Kr.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(S)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=d).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(h4(d));const h=new boe(d,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield Ba(s,g.ra,void 0),yield function(b,w){const E=fe(b);return E.persistence.runTransaction("Save bundle","readwrite",S=>E.Kr.saveBundleMetadata(S,w))}(s.localStore,d),c._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return Kr("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield LS(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function mse(n,e){return function Joe(n,e){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(i,r){const o=fe(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Uf(n),e)}))}(Un(n=_t(n,_n)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Or(this,t):null)}}class D0 extends ZS{constructor(e){super(),this.firestore=e}convertBytes(e){return new w_(new na(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Vo.forKey(t,this.firestore,null)}}class f3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}get(e){const t=jd(e);return this._delegate.get(t).then(i=>new E_(this._firestore,new ja(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=jd(e);return i?(YS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=jd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=jd(e);return this._delegate.delete(t),this}}class m3{constructor(e){this._delegate=e}set(e,t,i){const r=jd(e);return i?(YS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=jd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=jd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ud{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new b_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Ud.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Ud(e,new D0(e),t),r.set(t,o)),o}}Ud.INSTANCES=new WeakMap;class Vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vo(t,new wn(t._delegate,i,new pe(e)))}static forKey(e,t,i){return new Vo(t,new wn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Hf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hf(this.firestore,L4(this._delegate,e))}catch(t){throw Nr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cn.m9)(e))instanceof wn&&V4(this._delegate,e)}set(e,t){t=YS("DocumentReference.set",t);try{return t?n3(this._delegate,e,t):n3(this._delegate,e)}catch(i){throw Nr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?r3(this._delegate,e):r3(this._delegate,e,t,...i)}catch(r){throw Nr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function jse(n){return $f(_t(n.firestore,_n),[new If(n._key,Sn.none())])}(this._delegate)}onSnapshot(...e){const t=p3(e),i=g3(e,r=>new E_(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return o3(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Fse(n){n=_t(n,wn);const e=_t(n.firestore,_n),t=Un(e),i=new Yc(e);return function Koe(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=fe(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ne(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=Of(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Uf(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ja(e,i,n._key,r,new Bd(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Lse(n){n=_t(n,wn);const e=_t(n.firestore,_n);return D4(Un(e),n._key,{source:"server"}).then(t=>KS(e,n,t))}(this._delegate):function Ose(n){n=_t(n,wn);const e=_t(n.firestore,_n);return D4(Un(e),n._key).then(t=>KS(e,n,t))}(this._delegate),t.then(i=>new E_(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Vo(this.firestore,this._delegate.withConverter(e?Ud.getInstance(this.firestore,e):null))}}function Nr(n,e,t){return n.message=n.message.replace(e,t),n}function p3(n){for(const e of n)if("object"==typeof e&&!XS(e))return e;return{}}function g3(n,e){var t,i;let r;return r=XS(n[0])?n[0]:XS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class E_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return t3(this._delegate,e._delegate)}}class I_ extends E_{data(e){const t=this._delegate.data(e);return function Jne(n,e){n||we()}(void 0!==t),t}}class Or{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}where(e,t,i){try{return new Or(this.firestore,Kc(this._delegate,function xse(n,e,t){const i=e,r=w0("where",n);return y_._create(r,i,t)}(e,t,i)))}catch(r){throw Nr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Or(this.firestore,Kc(this._delegate,function Cse(n,e="asc"){const t=e,i=w0("orderBy",n);return WS._create(i,t)}(e,t)))}catch(i){throw Nr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Or(this.firestore,Kc(this._delegate,function Tse(n){return N4("limit",n),E0._create("limit",n,"F")}(e)))}catch(t){throw Nr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Or(this.firestore,Kc(this._delegate,function Dse(n){return N4("limitToLast",n),E0._create("limitToLast",n,"L")}(e)))}catch(t){throw Nr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Or(this.firestore,Kc(this._delegate,function Ase(...n){return I0._create("startAt",n,!0)}(...e)))}catch(t){throw Nr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Or(this.firestore,Kc(this._delegate,function Sse(...n){return I0._create("startAfter",n,!1)}(...e)))}catch(t){throw Nr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Or(this.firestore,Kc(this._delegate,function Mse(...n){return x0._create("endBefore",n,!1)}(...e)))}catch(t){throw Nr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Or(this.firestore,Kc(this._delegate,function kse(...n){return x0._create("endAt",n,!0)}(...e)))}catch(t){throw Nr(t,"endAt()","Query.endAt()")}}isEqual(e){return US(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Bse(n){n=_t(n,Ki);const e=_t(n.firestore,_n),t=Un(e),i=new Yc(e);return function Qoe(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield r0(o,s,!0),d=new p4(s,c.ls),h=d.ca(c.documents),p=d.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const d=Of(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Uf(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Qc(e,i,n,r))}(this._delegate):"server"===e?.source?function Use(n){n=_t(n,Ki);const e=_t(n.firestore,_n),t=Un(e),i=new Yc(e);return A4(t,n._query,{source:"server"}).then(r=>new Qc(e,i,n,r))}(this._delegate):function Vse(n){n=_t(n,Ki);const e=_t(n.firestore,_n),t=Un(e),i=new Yc(e);return K4(n._query),A4(t,n._query).then(r=>new Qc(e,i,n,r))}(this._delegate),t.then(i=>new JS(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=p3(e),i=g3(e,r=>new JS(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return o3(this._delegate,t,i)}withConverter(e){return new Or(this.firestore,this._delegate.withConverter(e?Ud.getInstance(this.firestore,e):null))}}class hae{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class JS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hae(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new I_(this._firestore,i))})}isEqual(e){return t3(this._delegate,e._delegate)}}class Hf extends Or{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vo(this.firestore,e):null}doc(e){try{return new Vo(this.firestore,void 0===e?p0(this._delegate):p0(this._delegate,e))}catch(t){throw Nr(t,"doc()","CollectionReference.doc()")}}add(e){return function zse(n,e){const t=_t(n.firestore,_n),i=p0(n),r=C0(n.converter,e);return $f(t,[v0(Ld(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Sn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Vo(this.firestore,t))}isEqual(e){return V4(this._delegate,e._delegate)}withConverter(e){return new Hf(this.firestore,this._delegate.withConverter(e?Ud.getInstance(this.firestore,e):null))}}function jd(n){return _t(n,wn)}class eM{constructor(...e){this._delegate=new Ua(...e)}static documentId(){return new eM(yn.keyField().canonicalString())}isEqual(e){return(e=(0,cn.m9)(e))instanceof Ua&&this._delegate._internalPath.isEqual(e._internalPath)}}class zd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nae(){return new zS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zd(e)}static delete(){const e=function tae(){return new p_("deleteField")}();return e._methodName="FieldValue.delete",new zd(e)}static arrayUnion(...e){const t=function iae(...n){return new yse("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zd(t)}static arrayRemove(...e){const t=function rae(...n){return new bse("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zd(t)}static increment(e){const t=function oae(n){return new wse("increment",n)}(e);return t._methodName="FieldValue.increment",new zd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fae={Firestore:h3,GeoPoint:g0,Timestamp:An,Blob:w_,Transaction:f3,WriteBatch:m3,DocumentReference:Vo,DocumentSnapshot:E_,Query:Or,QueryDocumentSnapshot:I_,QuerySnapshot:JS,CollectionReference:Hf,FieldPath:eM,FieldValue:zd,setLogLevel:function uae(n){!function Xne(n){Pc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function _3(n,e){return function gae(n,e=md){return new vt(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function tM(n,e){return _3(n,e).pipe(me(t=>({payload:t,type:"query"})))}!function pae(n){(function mae(n,e){n.INTERNAL.registerComponent(new IV.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},fae)))})(n,(e,t)=>new h3(e,t,new dae)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(ka.Z);class v3{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=x3(i,t);return new w3(r,o,this.afs)}snapshotChanges(){return function _ae(n,e){return _3(n,e).pipe(ld(void 0),YT(),me(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(uo)}valueChanges(e={}){return this.snapshotChanges().pipe(me(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return $t(this.ref.get(e)).pipe(uo)}}function A0(n,e){return tM(n,e).pipe(ld(void 0),YT(),me(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const d=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function y3(n,e,t){return A0(n,t).pipe(Tb((i,r)=>function vae(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function yae(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),ml(),me(i=>i.map(r=>({type:r.type,payload:r}))))}function nM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function b3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class w3{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=A0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(me(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ld(void 0),YT(),Qn(([i,r])=>r.length>0||!i),me(([,i])=>i),uo)}auditTrail(e){return this.stateChanges(e).pipe(Tb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=b3(e);return y3(this.query,t,this.afs.schedulers.outsideAngular).pipe(uo)}valueChanges(e={}){return tM(this.query,this.afs.schedulers.outsideAngular).pipe(me(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),uo)}get(e){return $t(this.query.get(e)).pipe(uo)}add(e){return this.ref.add(e)}doc(e){return new v3(this.ref.doc(e),this.afs)}}class bae{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?A0(this.query,this.afs.schedulers.outsideAngular).pipe(me(t=>t.filter(i=>e.indexOf(i.type)>-1)),Qn(t=>t.length>0),uo):A0(this.query,this.afs.schedulers.outsideAngular).pipe(uo)}auditTrail(e){return this.stateChanges(e).pipe(Tb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=b3(e);return y3(this.query,t,this.afs.schedulers.outsideAngular).pipe(uo)}valueChanges(e={}){return tM(this.query,this.afs.schedulers.outsideAngular).pipe(me(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),uo)}get(e){return $t(this.query.get(e)).pipe(uo)}}const E3=new X("angularfire2.enableFirestorePersistence"),I3=new X("angularfire2.firestore.persistenceSettings"),wae=new X("angularfire2.firestore.settings"),Eae=new X("angularfire2.firestore.use-emulator");function x3(n,e=(t=>t)){return{query:e(n),ref:n}}let S0=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,d,h,p,g,v,b,w,E,S,A){this.schedulers=c;const k=QT(t,a,i),Y=h;p&&EV(k,a,g,b,w,E,v,S),[this.firestore,this.persistenceEnabled$]=hV(`${k.name}.firestore`,"AngularFirestore",k.name,()=>{const de=a.runOutsideAngular(()=>k.firestore());if(o&&de.settings(o),Y&&de.useEmulator(...Y),r&&!vb(s)){const Ee=()=>{try{return $t(de.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(We){return typeof console<"u"&&console.warn(We),Ie(!1)}};return[de,a.runOutsideAngular(Ee)]}return[de,Ie(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=x3(r,i),a=this.schedulers.ngZone.run(()=>o);return new w3(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new bae(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new v3(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(j(nw),j(iw,8),j(E3,8),j(wae,8),j(os),j(ze),j(dV),j(I3,8),j(Eae,8),j(Jh,8),j(gV,8),j(_V,8),j(vV,8),j(yV,8),j(bV,8),j(wV,8),j(cV,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Iae=(()=>{class n{constructor(){ka.Z.registerVersion("angularfire",tw.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:E3,useValue:!0},{provide:I3,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Zt({type:n});static \u0275inj=Pt({providers:[S0]})}return n})(),C3=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new T,this.loginFailed$=this.loginFailedSubject.asObservable()}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i){this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{if(r.user){r.user.emailVerified?(alert(r.user.displayName),this.router.navigate(["/home"])):alert("Please verify your email before logging in.")}else console.error("User is null"),alert("An error occurred during login. Please try again.")}).catch(r=>{console.error("Login error:",r),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("rememberedToken")}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){localStorage.getItem("rememberedToken")&&this.router.navigate(["/home"])}static#e=this.\u0275fac=function(i){return new(i||n)(j(Jh),j(Wr),j(S0))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xae(n,e){if(1&n){const t=Po();F(0,"div",4),Ge(1,"img",5),F(2,"p",1),ge(3),G(),F(4,"p",2),ge(5),G(),Ge(6,"hr"),F(7,"p",1),ge(8),G(),Ge(9,"img",6),F(10,"p",7),ge(11),G(),F(12,"p",8),ge(13),G(),Ge(14,"br")(15,"br")(16,"hr"),F(17,"img",9),at("click",function(){const o=bt(t).index;return Ct(He().toggleLike(o))}),G(),Ge(18,"img",10)(19,"textarea",11,12),F(21,"img",13),at("click",function(){const o=bt(t).index,s=Gr(20);return He().postComment(o),Ct(s.value=" ")}),G()()}if(2&n){const t=e.$implicit;Ce(1),Ch("src",t[6],sp),Ce(2),Hi(t[0]),Ce(2),Hi(t[1]),Ce(3),Hi(t[4]),Ce(1),Ch("src",t[5],sp),Ch("alt",t[5]),Ce(2),Hy("",t[2]," ",1==t[2]?"like":"likes",""),Ce(2),Hy("",t[3]," ",1==t[3]?"comment":"comments",""),Ce(4),Ch("src",1==t[7]?"assets/img/like_active.svg":"assets/img/like_inactive.svg",sp)}}let Cae=(()=>{class n{constructor(){this.username="Silver",this.totalPosts=2,this.allPosts=[["Silver","11. Oktoober kell 19:46",128,95,"pange saun sooja, Silver tuleb rekordeid purustama","https://media.discordapp.net/attachments/1146094400666091524/1161706521235832994/IMG_2645.jpg","https://media.discordapp.net/attachments/1149290454819553420/1164864763105390592/b61f156cac360ab208b71ce5102ee9c5_400x400.png",!1],["Rasmus","11. Oktoober kell 21:25",84,52,"Uued keycapsid!","https://ptpimg.me/y8v9a5.png","https://ptpimg.me/8n699g.jpg",!0]]}toggleLike(t){!0===this.allPosts[t][7]?(this.allPosts[t][7]=!1,this.allPosts[t][2]-=1):(this.allPosts[t][7]=!0,this.allPosts[t][2]+=1)}postComment(t){this.allPosts[t][3]+=1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-post"]],decls:7,vars:3,consts:[["src",""],[1,"mainText"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],[1,"icons",2,"float","left",3,"src","click"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&(Ge(0,"img",0),F(1,"h1",1),ge(2),G(),F(3,"h3",2),ge(4),G(),F(5,"ul"),Ut(6,xae,22,11,"div",3),G()),2&i&&(Ce(2),xa("Currently logged in as: ",r.username,""),Ce(2),xa("Total posts on the backend: ",r.totalPosts,""),Ce(2),Je("ngForOf",r.allPosts))},dependencies:[HC],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),Tae=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(P(KT),P(C3))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"center-container"],[1,"center-element"]],template:function(i,r){1&i&&(F(0,"div",0)(1,"div",1),Ge(2,"app-post"),G()())},dependencies:[Cae],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();let D3=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ea),P(fn))};static#t=this.\u0275dir=Ne({type:n})}return n})(),$d=(()=>{class n extends D3{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275dir=Ne({type:n,features:[pt]})}return n})();const vs=new X("NgValueAccessor"),Aae={provide:vs,useExisting:Vt(()=>M0),multi:!0},Mae=new X("CompositionEventMode");let M0=(()=>{class n extends D3{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sae(){const n=Tc()?Tc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ea),P(fn),P(Mae,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&at("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ht([Aae]),pt]})}return n})();const ur=new X("NgValidators"),el=new X("NgAsyncValidators");function V3(n){return null!=n}function B3(n){return Rp(n)?$t(n):n}function U3(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function j3(n,e){return e.map(t=>t(n))}function z3(n){return n.map(e=>function Rae(n){return!n.validate}(e)?e:t=>e.validate(t))}function iM(n){return null!=n?function $3(n){if(!n)return null;const e=n.filter(V3);return 0==e.length?null:function(t){return U3(j3(t,e))}}(z3(n)):null}function H3(n){if(!n)return null;const e=n.filter(V3);return 0==e.length?null:function(t){return function T3(...n){const e=L_(n),{args:t,keys:i}=pL(n),r=new vt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,d=s;for(let h=0;h<s;h++){let p=!1;Ae(t[h]).subscribe(ye(o,g=>{p||(p=!0,d--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(d||o.next(i?gL(i,a):a),o.complete())}))}});return e?r.pipe(cT(e)):r}(j3(t,e).map(B3)).pipe(me(U3))}}function rM(n){return null!=n?H3(z3(n)):null}function q3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function oM(n){return n?Array.isArray(n)?n:[n]:[]}function R0(n,e){return Array.isArray(n)?n.includes(e):n===e}function Z3(n,e){const t=oM(e);return oM(n).forEach(r=>{R0(t,r)||t.push(r)}),t}function K3(n,e){return oM(e).filter(t=>!R0(n,t))}class Q3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fr extends Q3{get formDirective(){return null}get path(){return null}}class tl extends Q3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Y3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let X3=(()=>{class n extends Y3{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(tl,2))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&si("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]})}return n})();const x_="VALID",N0="INVALID",qf="PENDING",C_="DISABLED";function O0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nz{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===x_}get invalid(){return this.status===N0}get pending(){return this.status==qf}get disabled(){return this.status===C_}get enabled(){return this.status!==C_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Z3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Z3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(K3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(K3(e,this._rawAsyncValidators))}hasValidator(e){return R0(this._rawValidators,e)}hasAsyncValidator(e){return R0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=C_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=x_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===x_||this.status===qf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?C_:x_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qf,this._hasOwnPendingAsyncValidator=!0;const t=B3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?C_:this.errors?N0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qf)?qf:this._anyControlsHaveStatus(N0)?N0:x_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){O0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Lae(n){return Array.isArray(n)?iM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Vae(n){return Array.isArray(n)?rM(n):n||null}(this._rawAsyncValidators)}}const Gf=new X("CallSetDisabledState",{providedIn:"root",factory:()=>F0}),F0="always";function T_(n,e,t=F0){(function uM(n,e){const t=function G3(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(q3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function W3(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(q3(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();B0(e._rawValidators,r),B0(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function jae(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iz(n,e)})}(n,e),function $ae(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zae(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Uae(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function B0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function iz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function az(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cz=class extends nz{constructor(e=null,t,i){super(function cM(n){return(O0(n)?n.validators:n)||null}(t),function lM(n,e){return(O0(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=az(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){az(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Yae={provide:tl,useExisting:Vt(()=>gM)},uz=(()=>Promise.resolve())();let gM=(()=>{class n extends tl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new cz,this._registered=!1,this.name="",this.update=new Yt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function mM(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===M0?t=o:function Gae(n){return Object.getPrototypeOf(n.constructor)===$d}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function fM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){T_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){uz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Mh(i);uz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function L0(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(P(Fr,9),P(ur,10),P(el,10),P(vs,10),P(Ls,8),P(Gf,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ht([Yae]),pt,Ui]})}return n})(),fz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({})}return n})(),Ece=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[fz]})}return n})(),xce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gf,useValue:t.callSetDisabledState??F0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Ece]})}return n})();function Cce(n,e){1&n&&(F(0,"p",18),ge(1,"Check your email"),G())}function Tce(n,e){1&n&&(F(0,"p",18),ge(1,"Check your password"),G())}function Dce(n,e){if(1&n){const t=Po();F(0,"div",8)(1,"div",9)(2,"h1"),ge(3,"Log in"),G(),F(4,"input",10),at("ngModelChange",function(r){return bt(t),Ct(He().email=r)})("keyup.enter",function(){return bt(t),Ct(Gr(9).focus())}),G(),Ut(5,Cce,2,0,"p",11),F(6,"h1"),ge(7,"Enter password"),G(),F(8,"input",12,13),at("ngModelChange",function(r){return bt(t),Ct(He().password=r)})("keyup.enter",function(){return bt(t),Ct(He().login())}),G(),Ut(10,Tce,2,0,"p",11),F(11,"div",14)(12,"div")(13,"a",15),at("click",function(){return bt(t),Ct(He().isPage="forgot")}),ge(14,"Forgot password?"),G()(),F(15,"span",16),ge(16,"Don't have an account? "),F(17,"a",15),at("click",function(){return bt(t),Ct(He().isPage="register")}),ge(18,"Sign up here"),G()()(),F(19,"button",17),at("click",function(){return bt(t),Ct(He().login())}),F(20,"span"),ge(21,"Sign in"),G(),Ge(22,"i"),G()()()}if(2&n){const t=He();Ce(4),Je("ngModel",t.email),Ce(1),Je("ngIf",t.loginFailed),Ce(3),Je("ngModel",t.password),Ce(2),Je("ngIf",t.loginFailed)}}function Ace(n,e){if(1&n){const t=Po();F(0,"div",8)(1,"div",9)(2,"h1"),ge(3,"Register"),G(),F(4,"input",19),at("ngModelChange",function(r){return bt(t),Ct(He().displayName=r)})("keyup.enter",function(){return bt(t),Ct(Gr(8).focus())}),G(),F(5,"h1"),ge(6,"Email"),G(),F(7,"input",20,21),at("ngModelChange",function(r){return bt(t),Ct(He().email=r)})("keyup.enter",function(){return bt(t),Ct(Gr(12).focus())}),G(),F(9,"h1"),ge(10,"Enter password"),G(),F(11,"input",22,13),at("ngModelChange",function(r){return bt(t),Ct(He().password=r)})("keyup.enter",function(){return bt(t),Ct(He().register())}),G(),F(13,"div",14)(14,"div")(15,"a",15),at("click",function(){return bt(t),Ct(He().isPage="forgot")}),ge(16,"Forgot password?"),G()(),F(17,"span",16),ge(18,"Have an account? "),F(19,"a",15),at("click",function(){return bt(t),Ct(He().isPage="login")}),ge(20,"Sign in here"),G()()(),F(21,"button",23),at("click",function(){return bt(t),Ct(He().register())}),F(22,"span"),ge(23,"Sign up"),G(),Ge(24,"i"),G()()()}if(2&n){const t=He();Ce(4),Je("ngModel",t.displayName),Ce(3),Je("ngModel",t.email),Ce(4),Je("ngModel",t.password)}}function Sce(n,e){if(1&n){const t=Po();F(0,"div",8)(1,"div",9)(2,"h1"),ge(3,"Enter email"),G(),F(4,"input",24,13),at("ngModelChange",function(r){return bt(t),Ct(He().email=r)})("keyup.enter",function(){return bt(t),Ct(He().register())}),G(),F(6,"div",14)(7,"span",16),ge(8,"Oops still remember? "),F(9,"a",15),at("click",function(){return bt(t),Ct(He().isPage="login")}),ge(10,"Sign in here"),G()()(),F(11,"button",25),at("click",function(){return bt(t),Ct(He().forgot())}),F(12,"span"),ge(13,"Send verification"),G(),Ge(14,"i"),G()()()}if(2&n){const t=He();Ce(4),Je("ngModel",t.email)}}let Mce=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(P(C3),P(Wr),P(KT))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"container"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(F(0,"html")(1,"head"),Ge(2,"meta",0),G(),F(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),ge(8,"Earn2Post"),G()(),F(9,"div",5),Ge(10,"img",6),G()(),Ut(11,Dce,23,4,"div",7)(12,Ace,25,3,"div",7)(13,Sce,15,1,"div",7),G()()()),2&i&&(Ce(11),Je("ngIf","login"===r.isPage),Ce(1),Je("ngIf","register"===r.isPage),Ce(1),Je("ngIf","forgot"===r.isPage))},dependencies:[Dc,M0,X3,gM],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.926dafe5cf3fb7c6.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}']})}return n})(),kce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(F(0,"h1"),ge(1,"You're logged in as an admin"),G(),F(2,"button",0),ge(3," Sign out"),G()),2&i&&(Ce(2),Je("routerLink",""))},dependencies:[Gh]})}return n})();let IM=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.debuxValue=0,this.saveInterval=6e4,this.purchasedUpgrades=[],this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}buyUpgrade(t,i){typeof i<"u"&&this.purchasedUpgrades.push({name:t,debuxPerSec:i})}calculateTotalDebuxPerSec(){return this.purchasedUpgrades.reduce((t,i)=>t+i.debuxPerSec,0)}addDebux(t){this.debuxValue=t}startAutosave(){Gb(0,this.saveInterval).pipe(dn(()=>this.autosave()),function Nce(n,e=md,t){const i=Gb(n,e);return function Pce(n,e){return se((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,d=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),d&&i.complete())},p=()=>{c=null,d&&i.complete()},g=b=>c=Ae(n(b)).subscribe(ye(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!d&&g(b)}};t.subscribe(ye(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{d=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){return this.user&&this.debuxValue>0?$t(this.db.doc(`User/${this.user.uid}`).update({Debux:this.debuxValue})).pipe(me(()=>{this.debuxValue=0})):Ie(void 0)}getDebux(){return this.authState$.pipe(dn(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(me(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),Ie(void 0))))}static#e=this.\u0275fac=function(i){return new(i||n)(j(S0),j(Jh))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Oce(n,e){if(1&n&&(F(0,"p",21),ge(1),G()),2&n){const t=He();Ce(1),xa("DeBux: ",t.debux,"")}}function Fce(n,e){1&n&&(F(0,"p",22),ge(1,"Loading Debuxes"),G())}function Lce(n,e){if(1&n&&(F(0,"div",23)(1,"p"),ge(2," Logged in as: "),F(3,"span",24),ge(4),G()()()),2&n){const t=He();Ce(4),Hi(t.service.user.displayName)}}function Vce(n,e){if(1&n){const t=Po();F(0,"div",26),at("click",function(){bt(t);const r=He().$implicit;return Ct(He().buyUpgrade(r))}),F(1,"div",27)(2,"p"),ge(3),G(),F(4,"h4"),ge(5),G(),F(6,"div",28)(7,"h4"),ge(8),G()()(),F(9,"div",29)(10,"h4"),ge(11),G()()()}if(2&n){const t=He().$implicit;si("box-disabled",!t.affordable),Ce(3),Hi(t.name),Ce(2),Hi(t.description),Ce(3),xa("Cost: ",t.cost,"DB"),Ce(3),Hi(t.purchased)}}function Bce(n,e){if(1&n&&(wh(0),Ut(1,Vce,12,6,"div",25),Eh()),2&n){const t=e.index;Ce(1),Je("ngIf",t<6)}}function Uce(n,e){if(1&n){const t=Po();F(0,"div",26),at("click",function(){bt(t);const r=He().$implicit;return Ct(He().buyUpgrade(r))}),F(1,"div",27)(2,"p"),ge(3),G(),F(4,"h4"),ge(5),G(),F(6,"div",28)(7,"h4"),ge(8),G()()(),F(9,"div",29)(10,"h4"),ge(11),G()()()}if(2&n){const t=He().$implicit;si("box-disabled",!t.affordable),Ce(3),Hi(t.name),Ce(2),Hi(t.description),Ce(3),xa("Cost: ",t.cost,"DB"),Ce(3),Hi(t.purchased)}}function jce(n,e){if(1&n&&(wh(0),Ut(1,Uce,12,6,"div",25),Eh()),2&n){const t=e.index;Ce(1),Je("ngIf",6<=t&&t<11)}}function zce(n,e){if(1&n){const t=Po();F(0,"div",26),at("click",function(){bt(t);const r=He().$implicit;return Ct(He().buyUpgrade(r))}),F(1,"div",27)(2,"p"),ge(3),G(),F(4,"h4"),ge(5),G(),F(6,"div",28)(7,"h4"),ge(8),G()()(),F(9,"div",29)(10,"h4"),ge(11),G()()()}if(2&n){const t=He().$implicit;si("box-disabled",!t.affordable),Ce(3),Hi(t.name),Ce(2),Hi(t.description),Ce(3),xa("Cost: ",t.cost,"DB"),Ce(3),Hi(t.purchased)}}function $ce(n,e){if(1&n&&(wh(0),Ut(1,zce,12,6,"div",25),Eh()),2&n){const t=e.index;Ce(1),Je("ngIf",11<=t)}}let Hce=(()=>{class n{constructor(t,i,r){this.service=t,this.zone=i,this.cdr=r,this.upgrades=[{name:"Multithreading",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase processing power by utilizing multiple threads."},{name:"Optimization Algorithms",cost:100,debuxPerSec:10,affordable:!1,purchased:0,description:"Enhance efficiency through advanced code optimization techniques."},{name:"Parallel Processing",cost:1e3,debuxPerSec:100,affordable:!1,purchased:0,description:"Enable simultaneous execution for faster processing."},{name:"Overclocking",cost:1e4,debuxPerSec:1e3,affordable:!1,purchased:0,description:"Push the CPU to run faster, boosting processing power."},{name:"Hardware Upgrades",cost:1e5,debuxPerSec:1e4,affordable:!1,purchased:0,description:"Install better processors or RAM to increase overall performance."},{name:"Cooling Systems",cost:1e6,debuxPerSec:1e5,affordable:!1,purchased:0,description:"Optimize cooling mechanisms to sustain higher processing speeds."},{name:"Syntax Highlighting",cost:1,affordable:!1,purchased:0,description:"Boost click effectiveness with highlighted code segments."},{name:"Code Formatting",cost:10,affordable:!1,purchased:0,description:"Improve the appearance of code to enhance click impact."},{name:"Auto-Completion",cost:100,affordable:!1,purchased:0,description:"Increase code suggestion accuracy to amplify your clicks."},{name:"GUI Enhancements",cost:1e3,affordable:!1,purchased:0,description:"Upgrade the interface for a more responsive and impactful clicking experience."},{name:"Mouse Acceleration",cost:1e4,affordable:!1,purchased:0,description:"Improve click effectiveness by enhancing mouse sensitivity."},{name:"ChatGPT Evolution",cost:1e3,affordable:!1,purchased:0,description:"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."},{name:"Automated Testing",cost:1e4,affordable:!1,purchased:0,description:"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."},{name:"Code Refactoring AI",cost:1e5,affordable:!1,purchased:0,description:"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."},{name:"Codebase Analysis",cost:1e6,affordable:!1,purchased:0,description:"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."},{name:"Tabnine",cost:1e7,affordable:!1,purchased:0,description:"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."}],this.debux=0,this.loading=!1}ngOnInit(){this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().subscribe(i=>{this.debux=i||0,this.loading=!1,function Rce(n=0,e=md){return n<0&&(n=0),Gb(n,n,e)}(1e3).subscribe(()=>{this.zone.run(()=>{this.debux+=this.service.calculateTotalDebuxPerSec(),this.updateAffordability(),this.service.addDebux(this.debux),this.cdr.detectChanges()})})}))})}addDebux(){this.debux=this.debux+1,this.updateAffordability(),this.service.addDebux(this.debux)}updateAffordability(){this.upgrades.forEach(t=>{t.affordable=t.cost<=this.debux})}buyUpgrade(t){t.affordable&&this.debux-t.cost<t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec),t.affordable=!1,this.service.addDebux(this.debux)):t.affordable&&this.debux-t.cost>=t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec),this.service.addDebux(this.debux)):console.log("Not enough DeBux for this upgrade."),this.updateAffordability()}static#e=this.\u0275fac=function(i){return new(i||n)(P(IM),P(ze),P(Ls))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-clicker"]],decls:42,vars:6,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[4,"ngFor","ngForOf"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"],["class","box",3,"box-disabled","click",4,"ngIf"],[1,"box",3,"click"],[1,"box-text"],[1,"cost"],[1,"bought"]],template:function(i,r){1&i&&(F(0,"div",0)(1,"div",1),Ut(2,Oce,2,1,"p",2)(3,Fce,2,0,"p",3),G(),F(4,"div",4)(5,"button",5),at("click",function(){return r.addDebux()}),G()(),Ut(6,Lce,5,1,"div",6),G(),F(7,"div",7)(8,"div",8)(9,"H1"),ge(10,"Upgrades"),G()(),F(11,"div",9)(12,"div",10)(13,"div",11),Ge(14,"img",12),F(15,"div")(16,"p"),ge(17,"Processing Power"),G(),F(18,"h4"),ge(19,"Per/Sec"),G()()(),F(20,"div",13),Ut(21,Bce,2,1,"ng-container",14),G()(),F(22,"div",15)(23,"div",16),Ge(24,"img",17),F(25,"div")(26,"p"),ge(27,"Click Impact"),G(),F(28,"h4"),ge(29,"Per/Click"),G()()(),F(30,"div",18),Ut(31,jce,2,1,"ng-container",14),G()(),F(32,"div",19)(33,"div",11),Ge(34,"img",20),F(35,"div")(36,"p"),ge(37,"Advanced Algorithms"),G(),F(38,"h4"),ge(39,"Specials"),G()()(),F(40,"div",13),Ut(41,$ce,2,1,"ng-container",14),G()()()()),2&i&&(Ce(2),Je("ngIf",!r.loading),Ce(1),Je("ngIf",r.loading),Ce(3),Je("ngIf",r.service.user),Ce(15),Je("ngForOf",r.upgrades),Ce(10),Je("ngForOf",r.upgrades),Ce(10),Je("ngForOf",r.upgrades))},dependencies:[HC,Dc],styles:[".top[_ngcontent-%COMP%]{margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.loading-text[_ngcontent-%COMP%]{color:#b7514c}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:600px;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:20px;margin-top:30px;cursor:pointer;-webkit-user-select:none;user-select:none}.box[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-disabled[_ngcontent-%COMP%]{filter:blur(4px)}.box-disabled[_ngcontent-%COMP%]:hover{cursor:auto;box-shadow:none}.box-disabled[_ngcontent-%COMP%]:active{transform:none}.box-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-top-left-radius:20px;border-bottom-left-radius:20px;width:480px;padding-left:20px}.box-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.cost[_ngcontent-%COMP%]{text-align:center}.cost[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:lighter}.bought[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background:#6A5988;border-top-right-radius:20px;border-bottom-right-radius:20px;width:70px}.bought[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;margin:0;font-size:25px}"]})}return n})();function qce(n,e){1&n&&(F(0,"h3"),ge(1,"<"),F(2,"span",9),ge(3,"Loading"),G(),ge(4,"> DB"),G())}function Gce(n,e){if(1&n&&(F(0,"h3"),ge(1,"<"),F(2,"span",10),ge(3),G(),ge(4,"> DB"),G()),2&n){const t=He();Ce(3),Hi(t.debux)}}let Wce=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(P(IM))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(F(0,"div",0)(1,"div",1),Ge(2,"img",2),F(3,"h2"),ge(4,"Your credit"),G()(),F(5,"div",3)(6,"p"),ge(7,"Current"),G(),F(8,"div",4),Ut(9,qce,5,0,"h3",5)(10,Gce,5,1,"h3",5),G()(),F(11,"div",3)(12,"p"),ge(13,"Per second:"),G(),F(14,"div",6)(15,"h3"),ge(16,"+40 DB/s"),G()()(),F(17,"div",7),Ge(18,"img",8),G()()),2&i&&(Ce(9),Je("ngIf",r.loading),Ce(1),Je("ngIf",!r.loading))},dependencies:[Dc],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})();const Zce=[{path:"",component:Mce},{path:"home",component:Tae},{path:"admin",component:kce},{path:"clicker",component:Hce},{path:"profile",component:(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(P(S0),P(Jh))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(F(0,"html")(1,"head"),Ge(2,"meta",0),G(),F(3,"body")(4,"div",1)(5,"div",2),Ge(6,"app-credit-box"),F(7,"a",3),Ge(8,"img",4),G()(),F(9,"div",5)(10,"div",6)(11,"div",7),Ge(12,"img",8),G(),F(13,"div",9)(14,"h2"),ge(15),G(),F(16,"p",10),ge(17,"50 Followers"),G(),F(18,"div",11)(19,"p"),ge(20,"30 Following"),G(),F(21,"p"),ge(22,"13 Friends"),G()()(),F(23,"div",12),Ge(24,"img",13),G()(),F(25,"div",14),Ge(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),G()(),F(34,"div",23)(35,"h2"),ge(36,"Here is friends list"),G(),F(37,"div",24),Ge(38,"img",25),F(39,"h2"),ge(40,"Add friends"),G()()()()()()),2&i&&(Ce(15),Hi(null==r.user?null:r.user.displayName))},dependencies:[Gh,Wce],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})()}];let Kce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[b2.forRoot(Zce,{useHash:!0}),b2]})}return n})(),Qce=(()=>{class n{constructor(t){this.router=t,this.visible=!0,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(P(Wr))};static#t=this.\u0275cmp=Hn({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(F(0,"app-header"),Ge(1,"router-outlet"),G())},dependencies:[DT,KT],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"],changeDetection:0})}return n})();function kz(n){return new B(3e3,!1)}function nl(n){switch(n.length){case 0:return new ug;case 1:return n[0];default:return new nV(n)}}function Rz(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const d=c.get("offset"),h=d==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case Ma:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=d}),r.length)throw function yle(n){return new B(3502,!1)}();return o}function xM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&CM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&CM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&CM(t,"destroy",n)))}}function CM(n,e,t){const o=TM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function TM(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function po(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Pz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const kle=(()=>typeof document>"u"?null:document.documentElement)();function DM(n){const e=n.parentNode||n.host||null;return e===kle?null:e}let qd=null,Nz=!1;function Oz(n,e){for(;e;){if(e===n)return!0;e=DM(e)}return!1}function Fz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let AM=(()=>{class n{validateStyleProperty(t){return function Ple(n){qd||(qd=function Nle(){return typeof document<"u"?document.body:null}()||{},Nz=!!qd.style&&"WebkitAppearance"in qd.style);let e=!0;return qd.style&&!function Rle(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qd.style,!e&&Nz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qd.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Oz(t,i)}getParentElement(t){return DM(t)}query(t,i,r){return Fz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new ug(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),SM=(()=>{class n{static#e=this.NOOP=new AM}return n})();class MM{}const Fle=1e3,kM="ng-enter",j0="ng-leave",z0="ng-trigger",$0=".ng-trigger",Vz="ng-animating",RM=".ng-animating";function za(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PM(parseFloat(e[1]),e[2])}function PM(n,e){return"s"===e?n*Fle:n}function H0(n,e,t){return n.hasOwnProperty("duration")?n:function Vle(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(kz()),{duration:0,delay:0,easing:""};r=PM(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=PM(parseFloat(c),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Yce(){return new B(3100,!1)}()),a=!0),o<0&&(e.push(function Xce(){return new B(3101,!1)}()),a=!0),a&&e.splice(c,0,kz())}return{duration:r,delay:o,easing:s}}(n,e,t)}function A_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function il(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ia(n,e,t){e.forEach((i,r)=>{const o=OM(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Gd(n,e){e.forEach((t,i)=>{const r=OM(i);n.style[r]=""})}function S_(n){return Array.isArray(n)?1==n.length?n[0]:function Qee(n,e=null){return{type:2,steps:n,options:e}}(n):n}const NM=new RegExp("{{\\s*(.+?)\\s*}}","g");function jz(n){let e=[];if("string"==typeof n){let t;for(;t=NM.exec(n);)e.push(t[1]);NM.lastIndex=0}return e}function M_(n,e,t){const i=n.toString(),r=i.replace(NM,(o,s)=>{let a=e[s];return null==a&&(t.push(function ele(n){return new B(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function q0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const jle=/-+([a-z0-9])/g;function OM(n){return n.replace(jle,(...e)=>e[1].toUpperCase())}function go(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function tle(n){return new B(3004,!1)}()}}function zz(n,e){return window.getComputedStyle(n)[e]}const Hle=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $z extends MM{normalizePropertyName(e,t){return OM(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Hle.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function nle(n,e){return new B(3005,!1)}())}return s+o}}const G0="*";function qle(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Gle(n,e,t){if(":"==n[0]){const c=function Wle(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function ple(n){return new B(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function mle(n){return new B(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Hz(r,s));"<"==o[0]&&!(r==G0&&s==G0)&&e.push(Hz(s,r))}(i,t,e)):t.push(n),t}const W0=new Set(["true","1"]),Z0=new Set(["false","0"]);function Hz(n,e){const t=W0.has(n)||Z0.has(n),i=W0.has(e)||Z0.has(e);return(r,o)=>{let s=n==G0||n==r,a=e==G0||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?W0.has(n):Z0.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?W0.has(e):Z0.has(e)),s&&a}}const Zle=new RegExp("s*:selfs*,?","g");function FM(n,e,t,i){return new Kle(n).build(e,t,i)}class Kle{constructor(e){this._driver=e}build(e,t,i){const r=new Xle(t);return this._resetContextStyleTimingState(r),go(this,S_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function ile(){return new B(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function rle(){return new B(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{jz(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(q0(o.values()),t.errors.push(function ole(n,e){return new B(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=go(this,S_(e.animation),t);return{type:1,matchers:qle(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Wd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>go(this,i,t)),options:Wd(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=go(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Wd(e.options)}}visitAnimate(e,t){const i=function ede(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return LM(H0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=LM(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=H0(t,e);return LM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Xb({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=Xb(d)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Ma?i.push(a):t.errors.push(new B(3002,!1)):i.push(Bz(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function ale(n,e,t,i,r){return new B(3010,!1)}()),p=!1),o=h.startTime),p&&d.set(c,{startTime:o,endTime:r}),t.options&&function Ule(n,e,t){const i=e.params||{},r=jz(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Jce(n){return new B(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function cle(){return new B(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,d=0;const h=e.steps.map(S=>{const A=this._makeStyleAst(S,t);let k=null!=A.offset?A.offset:function Jle(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(A.styles),Y=0;return null!=k&&(o++,Y=A.offset=k),c=c||Y<0||Y>1,a=a||Y<d,d=Y,s.push(Y),A});c&&t.errors.push(function lle(){return new B(3012,!1)}()),a&&t.errors.push(function dle(){return new B(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function ule(){return new B(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,E=w.duration;return h.forEach((S,A)=>{const k=g>0?A==v?1:g*A:s[A],Y=k*E;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(S,t),S.offset=k,i.styles.push(S)}),i}visitReference(e,t){return{type:8,animation:go(this,S_(e.animation),t),options:Wd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wd(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Qle(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Zle,"")),n=n.replace(/@\*/g,$0).replace(/@\w+/g,t=>$0+"-"+t.slice(1)).replace(/:animating/g,RM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,po(t.collectedStyles,t.currentQuerySelector,new Map);const a=go(this,S_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Wd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function hle(){return new B(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:H0(e.timings,t.errors,!0);return{type:12,animation:go(this,S_(e.animation),t),timings:i,options:null}}}class Xle{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wd(n){return n?(n=A_(n)).params&&(n.params=function Yle(n){return n?A_(n):null}(n.params)):n={},n}function LM(n,e,t){return{duration:n,delay:e,easing:t}}function VM(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class K0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ide=new RegExp(":enter","g"),ode=new RegExp(":leave","g");function BM(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return(new sde).buildKeyframes(n,e,t,i,r,o,s,a,c,d)}class sde{buildKeyframes(e,t,i,r,o,s,a,c,d,h=[]){d=d||new K0;const p=new UM(e,t,d,r,o,h,[]);p.options=c;const g=c.delay?za(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),go(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const E=v[w];if(E.element===t){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[VM(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:za(M_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?za(i.duration):null,a=null!=i.delay?za(i.delay):null;return 0!==s&&e.forEach(c=>{const d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),go(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Q0);const s=za(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>go(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?za(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),go(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return H0(t.params?M_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?za(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Q0);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,d);o&&p.delayNextStep(o),d===t.element&&(c=p.currentTimeline),go(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;go(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const Q0={};class UM{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Q0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Y0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=za(i.duration)),null!=i.delay&&(r.delay=za(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=M_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new UM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Q0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new ade(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(ide,"."+this._enterClassName)).replace(ode,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function fle(n){return new B(3014,!1)}()),a}}class Y0{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Y0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ma),this._currentKeyframe.set(t,Ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function cde(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Ma)}else il(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const d=M_(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ma),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=il(a,new Map,this._backFill);d.forEach((h,p)=>{"!"===h?e.add(p):h===Ma&&t.add(p)}),i||d.set("offset",c/this.duration),r.push(d)});const o=e.size?q0(e.values()):[],s=t.size?q0(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return VM(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class ade extends Y0{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=il(e[0]);c.set("offset",0),o.push(c);const d=il(e[0]);d.set("offset",Wz(a)),o.push(d);const h=e.length-1;for(let p=1;p<=h;p++){let g=il(e[p]);const v=g.get("offset");g.set("offset",Wz((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return VM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Wz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function Zz(n,e,t,i,r,o,s,a,c,d,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:h,totalTime:p,errors:g}}const jM={};class Kz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function lde(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,h){const p=[],g=this.ast.options&&this.ast.options.params||jM,b=this.buildStyles(i,a&&a.params||jM,p),w=c&&c.params||jM,E=this.buildStyles(r,w,p),S=new Set,A=new Map,k=new Map,Y="void"===r,de={params:dde(w,g),delay:this.ast.options?.delay},Ee=h?[]:BM(e,t,this.ast.animation,o,s,b,E,de,d,p);let We=0;if(Ee.forEach(_o=>{We=Math.max(_o.duration+_o.delay,We)}),p.length)return Zz(t,this._triggerName,i,r,Y,b,E,[],[],A,k,We,p);Ee.forEach(_o=>{const Xr=_o.element,j$=po(A,Xr,new Set);_o.preStyleProps.forEach(Yd=>j$.add(Yd));const F_=po(k,Xr,new Set);_o.postStyleProps.forEach(Yd=>F_.add(Yd)),Xr!==t&&S.add(Xr)});const ln=q0(S.values());return Zz(t,this._triggerName,i,r,Y,b,E,Ee,ln,A,k,We)}}function dde(n,e){const t=A_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class ude{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=A_(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=M_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class fde{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new ude(r.style,r.options&&r.options.params||{},i))}),Qz(this.states,"true","1"),Qz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Kz(e,r,this.states))}),this.fallbackTransition=function mde(n,e,t){return new Kz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Qz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const pde=new K0;class gde{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=FM(this._driver,t,i,[]);if(i.length)throw function ble(n){return new B(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=Rz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=BM(this._driver,t,o,kM,j0,new Map,new Map,i,pde,r),s.forEach(h=>{const p=po(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function wle(){return new B(3300,!1)}()),s=[]),r.length)throw function Ele(n){return new B(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,Ma))})});const d=nl(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ile(n){return new B(3301,!1)}();return t}listen(e,t,i,r){const o=TM(t,"","","");return xM(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Yz="ng-animate-queued",zM="ng-animate-disabled",wde=[],Xz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ede={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ys="__ng_removed";class $M{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Tde(n){return n??null}(i?e.value:e),i){const o=A_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const k_="void",HM=new $M(k_);class Ide{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function xle(n,e){return new B(3302,!1)}();if(null==i||0==i.length)throw function Cle(n){return new B(3303,!1)}();if(!function Dde(n){return"start"==n||"done"==n}(i))throw function Tle(n,e){return new B(3400,!1)}();const o=po(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=po(this._engine.statesByElement,e,new Map);return a.has(t)||(Bo(e,z0),Bo(e,z0+"-"+t),a.set(t,HM)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Dle(n){return new B(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new qM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Bo(e,z0),Bo(e,z0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const d=new $M(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=HM),d.value!==k_&&c.value===d.value){if(!function Mde(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,d.params)){const w=[],E=o.matchStyles(c.value,c.params,w),S=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Gd(e,E),ia(e,S)})}return}const g=po(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,d.value,e,d.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:d,player:s,isFallbackTransition:b}),b||(Bo(e,Yz),s.onStart(()=>{Wf(e,Yz)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const E=this._engine.playersByElement.get(e);if(E){let S=E.indexOf(s);S>=0&&E.splice(S,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,$0,!0);i.forEach(r=>{if(r[ys])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){const h=this.trigger(e,d,k_,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&nl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,d=i.get(s)||HM,h=new $M(k_),p=new qM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ys];(!o||o===Xz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Bo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=TM(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,xM(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class xde{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Ide(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(X0(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!X0(t))return;const o=t[ys];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bo(e,zM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wf(e,zM))}removeNode(e,t,i){if(X0(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ys]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return X0(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,$0,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return nl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ys];if(t&&t.setForRemoval){if(e[ys]=Xz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Bo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?nl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Ale(n){return new B(3402,!1)}()}_flushAnimations(e,t){const i=new K0,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(De=>{h.add(De);const Ve=this.driver.query(De,".ng-animate-queued",!0);for(let qe=0;qe<Ve.length;qe++)h.add(Ve[qe])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=t$(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((De,Ve)=>{const qe=kM+w++;b.set(Ve,qe),De.forEach(St=>Bo(St,qe))});const E=[],S=new Set,A=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const Ve=this.collectedLeaveElements[De],qe=Ve[ys];qe&&qe.setForRemoval&&(E.push(Ve),S.add(Ve),qe.hasAnimation?this.driver.query(Ve,".ng-star-inserted",!0).forEach(St=>S.add(St)):A.add(Ve))}const k=new Map,Y=t$(g,Array.from(S));Y.forEach((De,Ve)=>{const qe=j0+w++;k.set(Ve,qe),De.forEach(St=>Bo(St,qe))}),e.push(()=>{v.forEach((De,Ve)=>{const qe=b.get(Ve);De.forEach(St=>Wf(St,qe))}),Y.forEach((De,Ve)=>{const qe=k.get(Ve);De.forEach(St=>Wf(St,qe))}),E.forEach(De=>{this.processLeaveNode(De)})});const de=[],Ee=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(t).forEach(qe=>{const St=qe.player,Oi=qe.element;if(de.push(St),this.collectedEnterElements.length){const hr=Oi[ys];if(hr&&hr.setForMove){if(hr.previousTriggersValues&&hr.previousTriggersValues.has(qe.triggerName)){const Xd=hr.previousTriggersValues.get(qe.triggerName),jo=this.statesByElement.get(qe.element);if(jo&&jo.has(qe.triggerName)){const aE=jo.get(qe.triggerName);aE.value=Xd,jo.set(qe.triggerName,aE)}}return void St.destroy()}}const ra=!p||!this.driver.containsElement(p,Oi),vo=k.get(Oi),al=b.get(Oi),kn=this._buildInstruction(qe,i,al,vo,ra);if(kn.errors&&kn.errors.length)return void Ee.push(kn);if(ra)return St.onStart(()=>Gd(Oi,kn.fromStyles)),St.onDestroy(()=>ia(Oi,kn.toStyles)),void r.push(St);if(qe.isFallbackTransition)return St.onStart(()=>Gd(Oi,kn.fromStyles)),St.onDestroy(()=>ia(Oi,kn.toStyles)),void r.push(St);const H$=[];kn.timelines.forEach(hr=>{hr.stretchStartingKeyframe=!0,this.disabledNodes.has(hr.element)||H$.push(hr)}),kn.timelines=H$,i.append(Oi,kn.timelines),s.push({instruction:kn,player:St,element:Oi}),kn.queriedElements.forEach(hr=>po(a,hr,[]).push(St)),kn.preStyleProps.forEach((hr,Xd)=>{if(hr.size){let jo=c.get(Xd);jo||c.set(Xd,jo=new Set),hr.forEach((aE,nk)=>jo.add(nk))}}),kn.postStyleProps.forEach((hr,Xd)=>{let jo=d.get(Xd);jo||d.set(Xd,jo=new Set),hr.forEach((aE,nk)=>jo.add(nk))})});if(Ee.length){const De=[];Ee.forEach(Ve=>{De.push(function Sle(n,e){return new B(3505,!1)}())}),de.forEach(Ve=>Ve.destroy()),this.reportError(De)}const We=new Map,ln=new Map;s.forEach(De=>{const Ve=De.element;i.has(Ve)&&(ln.set(Ve,Ve),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,We))}),r.forEach(De=>{const Ve=De.element;this._getPreviousPlayers(Ve,!1,De.namespaceId,De.triggerName,null).forEach(St=>{po(We,Ve,[]).push(St),St.destroy()})});const _o=E.filter(De=>i$(De,c,d)),Xr=new Map;e$(Xr,this.driver,A,d,Ma).forEach(De=>{i$(De,c,d)&&_o.push(De)});const F_=new Map;v.forEach((De,Ve)=>{e$(F_,this.driver,new Set(De),c,"!")}),_o.forEach(De=>{const Ve=Xr.get(De),qe=F_.get(De);Xr.set(De,new Map([...Ve?.entries()??[],...qe?.entries()??[]]))});const Yd=[],z$=[],$$={};s.forEach(De=>{const{element:Ve,player:qe,instruction:St}=De;if(i.has(Ve)){if(h.has(Ve))return qe.onDestroy(()=>ia(Ve,St.toStyles)),qe.disabled=!0,qe.overrideTotalTime(St.totalTime),void r.push(qe);let Oi=$$;if(ln.size>1){let vo=Ve;const al=[];for(;vo=vo.parentNode;){const kn=ln.get(vo);if(kn){Oi=kn;break}al.push(vo)}al.forEach(kn=>ln.set(kn,Oi))}const ra=this._buildAnimation(qe.namespaceId,St,We,o,F_,Xr);if(qe.setRealPlayer(ra),Oi===$$)Yd.push(qe);else{const vo=this.playersByElement.get(Oi);vo&&vo.length&&(qe.parentPlayer=nl(vo)),r.push(qe)}}else Gd(Ve,St.fromStyles),qe.onDestroy(()=>ia(Ve,St.toStyles)),z$.push(qe),h.has(Ve)&&r.push(qe)}),z$.forEach(De=>{const Ve=o.get(De.element);if(Ve&&Ve.length){const qe=nl(Ve);De.setRealPlayer(qe)}}),r.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<E.length;De++){const Ve=E[De],qe=Ve[ys];if(Wf(Ve,j0),qe&&qe.hasAnimation)continue;let St=[];if(a.size){let ra=a.get(Ve);ra&&ra.length&&St.push(...ra);let vo=this.driver.query(Ve,RM,!0);for(let al=0;al<vo.length;al++){let kn=a.get(vo[al]);kn&&kn.length&&St.push(...kn)}}const Oi=St.filter(ra=>!ra.destroyed);Oi.length?Ade(this,Ve,Oi):this.processLeaveNode(Ve)}return E.length=0,Yd.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const Ve=this.players.indexOf(De);this.players.splice(Ve,1)}),De.play()}),Yd}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==k_;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const d=c.element,h=d!==o,p=po(i,d,[]);this._getPreviousPlayers(d,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}Gd(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,d=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const E=w[ys];if(E&&E.removedBeforeQueried)return new ug(b.duration,b.delay);const S=w!==c,A=function Sde(n){const e=[];return n$(n,e),e}((i.get(w)||wde).map(We=>We.getRealPlayer())).filter(We=>!!We.element&&We.element===w),k=o.get(w),Y=s.get(w),de=Rz(this._normalizer,b.keyframes,k,Y),Ee=this._buildPlayer(b,de,A);if(b.subTimeline&&r&&p.add(w),S){const We=new qM(e,a,w);We.setRealPlayer(Ee),d.push(We)}return Ee});d.forEach(b=>{po(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Cde(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Bo(b,Vz));const v=nl(g);return v.onDestroy(()=>{h.forEach(b=>Wf(b,Vz)),ia(c,t.toStyles)}),p.forEach(b=>{po(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ug(e.duration,e.delay)}}class qM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ug,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>xM(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){po(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function X0(n){return n&&1===n.nodeType}function Jz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function e$(n,e,t,i,r){const o=[];t.forEach(c=>o.push(Jz(c)));const s=[];i.forEach((c,d)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(d,p,r);h.set(p,g),(!g||0==g.length)&&(d[ys]=Ede,s.push(d))}),n.set(d,h)});let a=0;return t.forEach(c=>Jz(c,o[a++])),s}function t$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const d=a.parentNode;return c=t.has(d)?d:r.has(d)?1:s(d),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Bo(n,e){n.classList?.add(e)}function Wf(n,e){n.classList?.remove(e)}function Ade(n,e,t){nl(t).onDone(()=>n.processLeaveNode(e))}function n$(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof nV?n$(i.players,e):e.push(i)}}function i$(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class R_{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new xde(e.body,t,i),this._timelineEngine=new gde(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=FM(this._driver,o,c,[]);if(c.length)throw function vle(n,e){return new B(3404,!1)}();a=function hde(n,e,t){return new fde(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=Pz(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Pz(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Rde=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ia(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ia(this._element,this._initialStyles),this._endStyles&&(ia(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gd(this._element,this._endStyles),this._endStyles=null),ia(this._element,this._initialStyles),this._state=3)}}return n})();function GM(n){let e=null;return n.forEach((t,i)=>{(function Pde(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class r${constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:zz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class o${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Oz(e,t)}getParentElement(e){return DM(e)}query(e,t,i){return Fz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d=new Map,h=s.filter(v=>v instanceof r$);(function zle(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=function Ble(n){return n.length?n[0]instanceof Map?n:n.map(e=>Bz(e)):[]}(t).map(v=>il(v));p=function $le(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,zz(n,a)))}}return e}(e,p,d);const g=function kde(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=GM(e[0]),e.length>1&&(i=GM(e[e.length-1]))):e instanceof Map&&(t=GM(e)),t||i?new Rde(n,t,i):null}(e,p);return new r$(e,p,c,g)}}const s$="@.disabled";class a${constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==s$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Nde extends a${constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==s$?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Ode(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Fde(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Lde{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const d=this._rendererCache;let h=d.get(r);return h||(h=new a$("",r,this.engine,()=>d.delete(r)),d.set(r,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new Nde(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Vde=(()=>{class n extends R_{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt),j(SM),j(MM),j(sd))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const c$=[{provide:MM,useFactory:function Bde(){return new $z}},{provide:R_,useClass:Vde},{provide:tx,useFactory:function Ude(n,e,t){return new Lde(n,e,t)},deps:[iT,R_,ze]}],WM=[{provide:SM,useFactory:()=>new o$},{provide:Ym,useValue:"BrowserAnimations"},...c$],l$=[{provide:SM,useClass:AM},{provide:Ym,useValue:"NoopAnimations"},...c$];let jde=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?l$:WM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({providers:WM,imports:[lL]})}return n})(),d$=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({providers:[d$]})}return n})(),qde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Zr,Zr]})}return n})(),wue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Hde,KC,Zr,X2,Zee,qde]})}return n})(),xue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Zr,X2,Zr]})}return n})();class eE{}class tE{}class Uo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Uo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Uo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Uo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Cue{encodeKey(e){return g$(e)}encodeValue(e){return g$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Due=/%(\d[a-f0-9])/gi,Aue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function g$(n){return encodeURIComponent(n).replace(Due,(e,t)=>Aue[t]??e)}function nE(n){return`${n}`}class rl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cue,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tue(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(nE):[nE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(nE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(nE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Sue{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function _$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function v$(n){return typeof Blob<"u"&&n instanceof Blob}function y$(n){return typeof FormData<"u"&&n instanceof FormData}class P_{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Mue(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Uo),this.context||(this.context=new Sue),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new rl,this.urlWithParams=t}serializeBody(){return null===this.body?null:_$(this.body)||v$(this.body)||y$(this.body)||function kue(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||y$(this.body)?null:v$(this.body)?this.body.type||null:_$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new P_(t,i,o,{params:d,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var ol=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ol||{});class KM{constructor(e,t=200,i="OK"){this.headers=e.headers||new Uo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class iE extends KM{constructor(e={}){super(e),this.type=ol.ResponseHeader}clone(e={}){return new iE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zd extends KM{constructor(e={}){super(e),this.type=ol.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Zd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zf extends KM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function QM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let YM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof P_)o=t;else{let c,d;c=r.headers instanceof Uo?r.headers:new Uo(r.headers),r.params&&(d=r.params instanceof rl?r.params:new rl({fromObject:r.params})),o=new P_(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Ie(o).pipe(Rh(c=>this.handler.handle(c)));if(t instanceof P_||"events"===r.observe)return s;const a=s.pipe(Qn(c=>c instanceof Zd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new rl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,QM(r,i))}post(t,i,r={}){return this.request("POST",t,QM(r,i))}put(t,i,r={}){return this.request("PUT",t,QM(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(j(eE))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function w$(n,e){return e(n)}function Fue(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Vue=new X(""),N_=new X(""),E$=new X(""),I$=new X("");function Bue(){let n=null;return(e,t)=>{null===n&&(n=(ce(Vue,{optional:!0})??[]).reduceRight(Fue,w$));const i=ce(Yy),r=i.add();return n(e,t).pipe(Ph(()=>i.remove(r)))}}let x$=(()=>{class n extends eE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ce(Yy);const r=ce(I$,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(N_),...this.injector.get(E$,[])]));this.chain=r.reduceRight((o,s)=>function Lue(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),w$)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ph(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(j(tE),j(oo))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const Hue=/^\)\]\}',?\n/;let T$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new B(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?$t(i.\u0275loadImpl()):Ie(null)).pipe(dn(()=>new vt(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,E)=>s.setRequestHeader(w,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const w=s.statusText||"OK",E=new Uo(s.getAllResponseHeaders()),S=function que(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new iE({headers:E,status:s.status,statusText:w,url:S}),c},h=()=>{let{headers:w,status:E,statusText:S,url:A}=d(),k=null;204!==E&&(k=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=k?200:0);let Y=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof k){const de=k;k=k.replace(Hue,"");try{k=""!==k?JSON.parse(k):null}catch(Ee){k=de,Y&&(Y=!1,k={error:Ee,text:k})}}Y?(o.next(new Zd({body:k,headers:w,status:E,statusText:S,url:A||void 0})),o.complete()):o.error(new Zf({error:k,headers:w,status:E,statusText:S,url:A||void 0}))},p=w=>{const{url:E}=d(),S=new Zf({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(S)};let g=!1;const v=w=>{g||(o.next(d()),g=!0);let E={type:ol.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=w=>{let E={type:ol.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:ol.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(j(WF))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const ek=new X("XSRF_ENABLED"),D$=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),A$=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class S${}let Zue=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=VF(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt),j(os),j(D$))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function Kue(n,e){const t=n.url.toLowerCase();if(!ce(ek)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ce(S$).getToken(),r=ce(A$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var sl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(sl||{});function Que(...n){const e=[YM,T$,x$,{provide:eE,useExisting:x$},{provide:tE,useExisting:T$},{provide:N_,useValue:Kue,multi:!0},{provide:ek,useValue:!0},{provide:S$,useClass:Zue}];for(const t of n)e.push(...t.\u0275providers);return function mI(n){return{\u0275providers:n}}(e)}const M$=new X("LEGACY_INTERCEPTOR_FN");function Yue(){return function Kd(n,e){return{\u0275kind:n,\u0275providers:e}}(sl.LegacyInterceptors,[{provide:M$,useFactory:Bue},{provide:N_,useExisting:M$,multi:!0}])}let Xue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({providers:[Que(Yue())]})}return n})(),lhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=Pt({imports:[Zr,Zr]})}return n})(),dhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n,bootstrap:[Qce]});static#n=this.\u0275inj=Pt({providers:[IM],imports:[lL,Kce,xce,jde,hte,wue,xue,lhe,vte,Xue,Bte.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),Hte,Iae]})}return n})();TQ().bootstrapModule(dhe).catch(n=>console.error(n))},106:(zo,ui,Ye)=>{Ye.d(ui,{Z:()=>jn});var I=Ye(58),xe=Ye(537),z=Ye(534),$e=Ye(879);class En{constructor(nt,lt){this._delegate=nt,this.firebase=lt,(0,z._addComponent)(nt,new xe.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(nt,lt=z._DEFAULT_ENTRY_NAME){var zn;this._delegate.checkDestroyed();const xi=this._delegate.container.getProvider(nt);return!xi.isInitialized()&&"EXPLICIT"===(null===(zn=xi.getComponent())||void 0===zn?void 0:zn.instantiationMode)&&xi.initialize(),xi.getImmediate({identifier:lt})}_removeServiceInstance(nt,lt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(lt)}_addComponent(nt){(0,z._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,z._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Rn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Mt(){const kt=function Ii(kt){const nt={},lt={__esModule:!0,initializeApp:function rn(dt,hi={}){const J=z.initializeApp(dt,hi);if((0,I.r3)(nt,J.name))return nt[J.name];const In=new kt(J,lt);return nt[J.name]=In,In},app:xi,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Rt(dt){const hi=dt.name,J=hi.replace("-compat","");if(z._registerComponent(dt)&&"PUBLIC"===dt.type){const In=(xn=xi())=>{if("function"!=typeof xn[J])throw Rn.create("invalid-app-argument",{appName:hi});return xn[J]()};void 0!==dt.serviceProps&&(0,I.ZB)(In,dt.serviceProps),lt[J]=In,kt.prototype[J]=function(...xn){return this._getService.bind(this,hi).apply(this,dt.multipleInstances?xn:[])}}return"PUBLIC"===dt.type?lt[J]:null},removeApp:function zn(dt){delete nt[dt]},useAsService:function Fi(dt,hi){return"serverAuth"===hi?null:hi},modularAPIs:z}};function xi(dt){if(!(0,I.r3)(nt,dt=dt||z._DEFAULT_ENTRY_NAME))throw Rn.create("no-app",{appName:dt});return nt[dt]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function It(){return Object.keys(nt).map(dt=>nt[dt])}}),xi.App=kt,lt}(En);return kt.INTERNAL=Object.assign(Object.assign({},kt.INTERNAL),{createFirebaseNamespace:Mt,extendNamespace:function nt(lt){(0,I.ZB)(kt,lt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),kt}(),ae=new $e.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const kt=self.firebase.SDK_VERSION;kt&&kt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jn=te;!function Et(kt){(0,z.registerVersion)("@firebase/app-compat","0.2.22",kt)}()},534:(zo,ui,Ye)=>{Ye.r(ui),Ye.d(ui,{FirebaseError:()=>$e.ZR,SDK_VERSION:()=>Ko,_DEFAULT_ENTRY_NAME:()=>pr,_addComponent:()=>bo,_addOrOverwriteComponent:()=>Yi,_apps:()=>gr,_clearComponents:()=>Wo,_components:()=>Go,_getProvider:()=>bs,_registerComponent:()=>wo,_removeServiceInstance:()=>ws,deleteApp:()=>Jr,getApp:()=>qa,getApps:()=>Ga,initializeApp:()=>dl,onLog:()=>oa,registerVersion:()=>Es,setLogLevel:()=>vt});var I=Ye(861),xe=Ye(537),z=Ye(879),$e=Ye(58);const En=($,N)=>N.some(oe=>$ instanceof oe);let Xe,Rn;const te=new WeakMap,ae=new WeakMap,Te=new WeakMap,ot=new WeakMap,Et=new WeakMap;let nt={get($,N,oe){if($ instanceof IDBTransaction){if("done"===N)return ae.get($);if("objectStoreNames"===N)return $.objectStoreNames||Te.get($);if("store"===N)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return rn($[N])},set:($,N,oe)=>($[N]=oe,!0),has:($,N)=>$ instanceof IDBTransaction&&("done"===N||"store"===N)||N in $};function xi($){return"function"==typeof $?function zn($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mt(){return Rn||(Rn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...N){return $.apply(It(this),N),rn(te.get(this))}:function(...N){return rn($.apply(It(this),N))}:function(N,...oe){const Se=$.call(It(this),N,...oe);return Te.set(Se,N.sort?N.sort():[N]),rn(Se)}}($):($ instanceof IDBTransaction&&function kt($){if(ae.has($))return;const N=new Promise((oe,Se)=>{const Ae=()=>{$.removeEventListener("complete",ht),$.removeEventListener("error",Ot),$.removeEventListener("abort",Ot)},ht=()=>{oe(),Ae()},Ot=()=>{Se($.error||new DOMException("AbortError","AbortError")),Ae()};$.addEventListener("complete",ht),$.addEventListener("error",Ot),$.addEventListener("abort",Ot)});ae.set($,N)}($),En($,function Ii(){return Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,nt):$)}function rn($){if($ instanceof IDBRequest)return function jn($){const N=new Promise((oe,Se)=>{const Ae=()=>{$.removeEventListener("success",ht),$.removeEventListener("error",Ot)},ht=()=>{oe(rn($.result)),Ae()},Ot=()=>{Se($.error),Ae()};$.addEventListener("success",ht),$.addEventListener("error",Ot)});return N.then(oe=>{oe instanceof IDBCursor&&te.set(oe,$)}).catch(()=>{}),Et.set(N,$),N}($);if(ot.has($))return ot.get($);const N=xi($);return N!==$&&(ot.set($,N),Et.set(N,$)),N}const It=$=>Et.get($),dt=["get","getKey","getAll","getAllKeys","count"],hi=["put","add","delete","clear"],J=new Map;function In($,N){if(!($ instanceof IDBDatabase)||N in $||"string"!=typeof N)return;if(J.get(N))return J.get(N);const oe=N.replace(/FromIndex$/,""),Se=N!==oe,Ae=hi.includes(oe);if(!(oe in(Se?IDBIndex:IDBObjectStore).prototype)||!Ae&&!dt.includes(oe))return;const ht=function(){var Ot=(0,I.Z)(function*(Ai,...Nn){const Qo=this.transaction(Ai,Ae?"readwrite":"readonly");let hl=Qo.store;return Se&&(hl=hl.index(Nn.shift())),(yield Promise.all([hl[oe](...Nn),Ae&&Qo.done]))[0]});return function(Nn){return Ot.apply(this,arguments)}}();return J.set(N,ht),ht}!function lt($){nt=$(nt)}($=>({...$,get:(N,oe,Se)=>In(N,oe)||$.get(N,oe,Se),has:(N,oe)=>!!In(N,oe)||$.has(N,oe)}));class xn{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Lr($){const N=$.getComponent();return"VERSION"===N?.type}(oe)){const Se=oe.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(oe=>oe).join(" ")}}const $o="@firebase/app",Qi=new z.Yd("@firebase/app"),pr="[DEFAULT]",ll={[$o]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gr=new Map,Go=new Map;function bo($,N){try{$.container.addComponent(N)}catch(oe){Qi.debug(`Component ${N.name} failed to register with FirebaseApp ${$.name}`,oe)}}function Yi($,N){$.container.addOrOverwriteComponent(N)}function wo($){const N=$.name;if(Go.has(N))return Qi.debug(`There were multiple attempts to register component ${N}.`),!1;Go.set(N,$);for(const oe of gr.values())bo(oe,$);return!0}function bs($,N){const oe=$.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),$.container.getProvider(N)}function ws($,N,oe=pr){bs($,N).clearInstance(oe)}function Wo(){Go.clear()}const Br=new $e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(N,oe,Se){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new xe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Ko="10.5.2";function dl($,N={}){let oe=$;"object"!=typeof N&&(N={name:N});const Se=Object.assign({name:pr,automaticDataCollectionEnabled:!1},N),Ae=Se.name;if("string"!=typeof Ae||!Ae)throw Br.create("bad-app-name",{appName:String(Ae)});if(oe||(oe=(0,$e.aH)()),!oe)throw Br.create("no-options");const ht=gr.get(Ae);if(ht){if((0,$e.vZ)(oe,ht.options)&&(0,$e.vZ)(Se,ht.config))return ht;throw Br.create("duplicate-app",{appName:Ae})}const Ot=new xe.H0(Ae);for(const Nn of Go.values())Ot.addComponent(Nn);const Ai=new Ci(oe,Se,Ot);return gr.set(Ae,Ai),Ai}function qa($=pr){const N=gr.get($);if(!N&&$===pr&&(0,$e.aH)())return dl();if(!N)throw Br.create("no-app",{appName:$});return N}function Ga(){return Array.from(gr.values())}function Jr($){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,I.Z)(function*($){const N=$.name;gr.has(N)&&(gr.delete(N),yield Promise.all($.container.getProviders().map(oe=>oe.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Es($,N,oe){var Se;let Ae=null!==(Se=ll[$])&&void 0!==Se?Se:$;oe&&(Ae+=`-${oe}`);const ht=Ae.match(/\s|\//),Ot=N.match(/\s|\//);if(ht||Ot){const Ai=[`Unable to register library "${Ae}" with version "${N}":`];return ht&&Ai.push(`library name "${Ae}" contains illegal characters (whitespace or "/")`),ht&&Ot&&Ai.push("and"),Ot&&Ai.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void Qi.warn(Ai.join(" "))}wo(new xe.wA(`${Ae}-version`,()=>({library:Ae,version:N}),"VERSION"))}function oa($,N){if(null!==$&&"function"!=typeof $)throw Br.create("invalid-log-argument");(0,z.Am)($,N)}function vt($){(0,z.Ub)($)}const Wa="firebase-heartbeat-database",ul=1,D="firebase-heartbeat-store";let x=null;function T(){return x||(x=function Rt($,N,{blocked:oe,upgrade:Se,blocking:Ae,terminated:ht}={}){const Ot=indexedDB.open($,N),Ai=rn(Ot);return Se&&Ot.addEventListener("upgradeneeded",Nn=>{Se(rn(Ot.result),Nn.oldVersion,Nn.newVersion,rn(Ot.transaction),Nn)}),oe&&Ot.addEventListener("blocked",Nn=>oe(Nn.oldVersion,Nn.newVersion,Nn)),Ai.then(Nn=>{ht&&Nn.addEventListener("close",()=>ht()),Ae&&Nn.addEventListener("versionchange",Qo=>Ae(Qo.oldVersion,Qo.newVersion,Qo))}).catch(()=>{}),Ai}(Wa,ul,{upgrade:($,N)=>{0===N&&$.createObjectStore(D)}}).catch($=>{throw Br.create("idb-open",{originalErrorMessage:$.message})})),x}function O(){return(O=(0,I.Z)(function*($){try{return yield(yield T()).transaction(D).objectStore(D).get(At($))}catch(N){if(N instanceof $e.ZR)Qi.warn(N.message);else{const oe=Br.create("idb-get",{originalErrorMessage:N?.message});Qi.warn(oe.message)}}})).apply(this,arguments)}function se($,N){return ye.apply(this,arguments)}function ye(){return(ye=(0,I.Z)(function*($,N){try{const Se=(yield T()).transaction(D,"readwrite");yield Se.objectStore(D).put(N,At($)),yield Se.done}catch(oe){if(oe instanceof $e.ZR)Qi.warn(oe.message);else{const Se=Br.create("idb-set",{originalErrorMessage:oe?.message});Qi.warn(Se.message)}}})).apply(this,arguments)}function At($){return`${$.name}!${$.options.appId}`}class Li{constructor(N){this.container=N,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Eo(oe),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var N=this;return(0,I.Z)(function*(){const Se=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ae=gt();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==Ae&&!N._heartbeatsCache.heartbeats.some(ht=>ht.date===Ae))return N._heartbeatsCache.heartbeats.push({date:Ae,agent:Se}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(ht=>{const Ot=new Date(ht.date).valueOf();return Date.now()-Ot<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,I.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const oe=gt(),{heartbeatsToSend:Se,unsentEntries:Ae}=function Di($,N=1024){const oe=[];let Se=$.slice();for(const Ae of $){const ht=oe.find(Ot=>Ot.agent===Ae.agent);if(ht){if(ht.dates.push(Ae.date),Is(oe)>N){ht.dates.pop();break}}else if(oe.push({agent:Ae.agent,dates:[Ae.date]}),Is(oe)>N){oe.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Se}}(N._heartbeatsCache.heartbeats),ht=(0,$e.L)(JSON.stringify({version:2,heartbeats:Se}));return N._heartbeatsCache.lastSentHeartbeatDate=oe,Ae.length>0?(N._heartbeatsCache.heartbeats=Ae,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),ht})()}}function gt(){return(new Date).toISOString().substring(0,10)}class Eo{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,$e.hl)()&&(0,$e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,I.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function q($){return O.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var oe=this;return(0,I.Z)(function*(){var Se;if(yield oe._canUseIndexedDBPromise){const ht=yield oe.read();return se(oe.app,{lastSentHeartbeatDate:null!==(Se=N.lastSentHeartbeatDate)&&void 0!==Se?Se:ht.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var oe=this;return(0,I.Z)(function*(){var Se;if(yield oe._canUseIndexedDBPromise){const ht=yield oe.read();return se(oe.app,{lastSentHeartbeatDate:null!==(Se=N.lastSentHeartbeatDate)&&void 0!==Se?Se:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...N.heartbeats]})}})()}}function Is($){return(0,$e.L)(JSON.stringify({version:2,heartbeats:$})).length}!function sa($){wo(new xe.wA("platform-logger",N=>new xn(N),"PRIVATE")),wo(new xe.wA("heartbeat",N=>new Li(N),"PRIVATE")),Es($o,"0.9.22",$),Es($o,"0.9.22","esm2017"),Es("fire-js","")}("")},537:(zo,ui,Ye)=>{Ye.d(ui,{H0:()=>Ii,wA:()=>z});var I=Ye(861),xe=Ye(58);class z{constructor(te,ae,Te){this.name=te,this.instanceFactory=ae,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const $e="[DEFAULT]";class En{constructor(te,ae){this.name=te,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ae=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ae)){const Te=new xe.BH;if(this.instancesDeferred.set(ae,Te),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ae});ot&&Te.resolve(ot)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(te){var ae;const Te=this.normalizeInstanceIdentifier(te?.identifier),ot=null!==(ae=te?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Et){if(ot)return null;throw Et}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Rn(Mt){return"EAGER"===Mt.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:$e})}catch{}for(const[ae,Te]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ae);try{const Et=this.getOrInitializeService({instanceIdentifier:ot});Te.resolve(Et)}catch{}}}}clearInstance(te=$e){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,I.Z)(function*(){const ae=Array.from(te.instances.values());yield Promise.all([...ae.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ae.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=$e){return this.instances.has(te)}getOptions(te=$e){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ae={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:Te,options:ae});for(const[Et,jn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Et)&&jn.resolve(ot);return ot}onInit(te,ae){var Te;const ot=this.normalizeInstanceIdentifier(ae),Et=null!==(Te=this.onInitCallbacks.get(ot))&&void 0!==Te?Te:new Set;Et.add(te),this.onInitCallbacks.set(ot,Et);const jn=this.instances.get(ot);return jn&&te(jn,ot),()=>{Et.delete(te)}}invokeOnInitCallbacks(te,ae){const Te=this.onInitCallbacks.get(ae);if(Te)for(const ot of Te)try{ot(te,ae)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ae={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Mt=te,Mt===$e?void 0:Mt),options:ae}),this.instances.set(te,Te),this.instancesOptions.set(te,ae),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch{}var Mt;return Te||null}normalizeInstanceIdentifier(te=$e){return this.component?this.component.multipleInstances?te:$e:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ii{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ae=this.getProvider(te.name);if(ae.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ae.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ae=new En(te,this);return this.providers.set(te,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:(zo,ui,Ye)=>{Ye.d(ui,{Am:()=>Mt,Ub:()=>Ii,Yd:()=>Rn,in:()=>xe});const I=[];var xe=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(xe||{});const z={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},$e=xe.INFO,En={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Xe=(te,ae,...Te)=>{if(ae<te.logLevel)return;const ot=(new Date).toISOString(),Et=En[ae];if(!Et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Et](`[${ot}]  ${te.name}:`,...Te)};class Rn{constructor(ae){this.name=ae,this._logLevel=$e,this._logHandler=Xe,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in xe))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?z[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...ae),this._logHandler(this,xe.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...ae),this._logHandler(this,xe.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...ae),this._logHandler(this,xe.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...ae),this._logHandler(this,xe.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...ae),this._logHandler(this,xe.ERROR,...ae)}}function Ii(te){I.forEach(ae=>{ae.setLogLevel(te)})}function Mt(te,ae){for(const Te of I){let ot=null;ae&&ae.level&&(ot=z[ae.level]),Te.userLogHandler=null===te?null:(Et,jn,...kt)=>{const nt=kt.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");jn>=(ot??Et.logLevel)&&te({level:xe[jn].toLowerCase(),message:nt,args:kt,type:Et.name})}}}},290:(zo,ui,Ye)=>{Ye.r(ui);var I=Ye(861),xe=Ye(106),z=Ye(58),$e=Ye(534),En=Ye(879),Xe=Ye(582),Rn=Ye(537);const Mt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const jn=function ot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},kt=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zn=new En.Yd("@firebase/auth");function rn(f,...l){zn.logLevel<=En.in.ERROR&&zn.error(`Auth (${$e.SDK_VERSION}): ${f}`,...l)}function It(f,...l){throw hi(f,...l)}function Rt(f,...l){return hi(f,...l)}function Fi(f,l,u){const m=Object.assign(Object.assign({},kt()),{[l]:u});return new z.LL("auth","Firebase",m).create(l,{appName:f.name})}function dt(f,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&It(f,"argument-error"),Fi(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hi(f,...l){if("string"!=typeof f){const u=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(u,...m)}return nt.create(f,...l)}function J(f,l,...u){if(!f)throw hi(l,...u)}function In(f){const l="INTERNAL ASSERTION FAILED: "+f;throw rn(l),new Error(l)}function xn(f,l){f||In(l)}function Lr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function $o(){return"http:"===yo()||"https:"===yo()}function yo(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Vr{constructor(l,u){this.shortDelay=l,this.longDelay=u,xn(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Qi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($o()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L(f,l){xn(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class U{static initialize(l,u,m){this.fetchImpl=l,u&&(this.headersImpl=u),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Z=new Vr(3e4,6e4);function ie(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function ee(f,l,u,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,I.Z)(function*(f,l,u,m,_={}){return ft(f,_,(0,I.Z)(function*(){let y={},C={};m&&("GET"===l?C=m:y={body:JSON.stringify(m)});const M=(0,z.xO)(Object.assign({key:f.config.apiKey},C)).slice(1),W=yield f._getAdditionalHeaders();return W["Content-Type"]="application/json",f.languageCode&&(W["X-Firebase-Locale"]=f.languageCode),U.fetch()(Mn(f,f.config.apiHost,u,M),Object.assign({method:l,headers:W,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function ft(f,l,u){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,I.Z)(function*(f,l,u){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},Q),l);try{const _=new fi(f),y=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const C=yield y.json();if("needConfirmation"in C)throw $n(f,"account-exists-with-different-credential",C);if(y.ok&&!("errorMessage"in C))return C;{const M=y.ok?C.errorMessage:C.error.message,[W,he]=M.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===W)throw $n(f,"credential-already-in-use",C);if("EMAIL_EXISTS"===W)throw $n(f,"email-already-in-use",C);if("USER_DISABLED"===W)throw $n(f,"user-disabled",C);const be=m[W]||W.toLowerCase().replace(/[_\s]+/g,"-");if(he)throw Fi(f,be,he);It(f,be)}}catch(_){if(_ instanceof z.ZR)throw _;It(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Re(f,l,u,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,I.Z)(function*(f,l,u,m,_={}){const y=yield ee(f,l,u,m,_);return"mfaPendingCredential"in y&&It(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function Mn(f,l,u,m){const _=`${l}${u}?${m}`;return f.config.emulator?L(f.config,_):`${f.config.apiScheme}://${_}`}function Pe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,m)=>{this.timer=setTimeout(()=>m(Rt(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(f,l,u){const m={appName:f.name};u.email&&(m.email=u.email),u.phoneNumber&&(m.phoneNumber=u.phoneNumber);const _=Rt(f,l,m);return _.customData._tokenResponse=u,_}function ei(f){return void 0!==f&&void 0!==f.getResponse}function Nt(f){return void 0!==f&&void 0!==f.enterprise}class fr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Pe(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Ho(){return(Ho=(0,I.Z)(function*(f){return(yield ee(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mr(f,l){return qo.apply(this,arguments)}function qo(){return(qo=(0,I.Z)(function*(f,l){return ee(f,"GET","/v2/recaptchaConfig",ie(f,l))})).apply(this,arguments)}function pr(){return(pr=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function gr(){return(gr=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function bo(){return(bo=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Yi(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function ws(){return(ws=(0,I.Z)(function*(f,l=!1){const u=(0,z.m9)(f),m=yield u.getIdToken(l),_=Zo(m);J(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,C=y?.sign_in_provider;return{claims:_,token:m,authTime:Yi(Wo(_.auth_time)),issuedAtTime:Yi(Wo(_.iat)),expirationTime:Yi(Wo(_.exp)),signInProvider:C||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Wo(f){return 1e3*Number(f)}function Zo(f){const[l,u,m]=f.split(".");if(void 0===l||void 0===u||void 0===m)return rn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,z.tV)(u);return _?JSON.parse(_):(rn("Failed to decode base64 JWT payload"),null)}catch(_){return rn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ci(f,l){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,I.Z)(function*(f,l,u=!1){if(u)return l;try{return yield l}catch(m){throw m instanceof z.ZR&&function dl({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class qa{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,I.Z)(function*(){yield u.iteration()}),m)}iteration(){var l=this;return(0,I.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Ga{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jr(f){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,I.Z)(function*(f){var l;const u=f.auth,m=yield f.getIdToken(),_=yield Ci(f,function Go(f,l){return bo.apply(this,arguments)}(u,{idToken:m}));J(_?.users.length,u,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const C=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Wa(f){return f.map(l=>{var{providerId:u}=l,m=(0,Xe._T)(l,["providerId"]);return{providerId:u,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],M=function vt(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,C),be=!!f.isAnonymous&&!(f.email&&y.passwordHash||M?.length),ve={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:M,metadata:new Ga(y.createdAt,y.lastLoginAt),isAnonymous:be};Object.assign(f,ve)}),Ti.apply(this,arguments)}function oa(){return(oa=(0,I.Z)(function*(f){const l=(0,z.m9)(f);yield Jr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,I.Z)(function*(f,l){const u=yield ft(f,{},(0,I.Z)(function*(){const m=(0,z.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,C=Mn(f,_,"/v1/token",`key=${y}`),M=yield f._getAdditionalHeaders();return M["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(C,{method:"POST",headers:M,body:m})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){J(l.idToken,"internal-error"),J(typeof l.idToken<"u","internal-error"),J(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Br(f){const l=Zo(f);return J(l,"internal-error"),J(typeof l.exp<"u","internal-error"),J(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var m=this;return(0,I.Z)(function*(){return J(!m.accessToken||m.refreshToken,l,"user-token-expired"),u||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var m=this;return(0,I.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:C}=yield function ul(f,l){return D.apply(this,arguments)}(l,u);m.updateTokensAndExpiration(_,y,Number(C))})()}updateTokensAndExpiration(l,u,m){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,u){const{refreshToken:m,accessToken:_,expirationTime:y}=u,C=new x;return m&&(J("string"==typeof m,"internal-error",{appName:l}),C.refreshToken=m),_&&(J("string"==typeof _,"internal-error",{appName:l}),C.accessToken=_),y&&(J("number"==typeof y,"internal-error",{appName:l}),C.expirationTime=y),C}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return In("not implemented")}}function T(f,l){J("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class q{constructor(l){var{uid:u,auth:m,stsTokenManager:_}=l,y=(0,Xe._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Ga(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,I.Z)(function*(){const m=yield Ci(u,u.stsTokenManager.getToken(u.auth,l));return J(m,u.auth,"internal-error"),u.accessToken!==m&&(u.accessToken=m,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),m})()}getIdTokenResult(l){return function bs(f){return ws.apply(this,arguments)}(this,l)}reload(){return function Es(f){return oa.apply(this,arguments)}(this)}_assign(l){this!==l&&(J(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new q(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var m=this;return(0,I.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),u&&(yield Jr(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,I.Z)(function*(){const u=yield l.getIdToken();return yield Ci(l,function Ha(f,l){return pr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var m,_,y,C,M,W,he,be;const ve=null!==(m=u.displayName)&&void 0!==m?m:void 0,hn=null!==(_=u.email)&&void 0!==_?_:void 0,ro=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,Wu=null!==(C=u.photoURL)&&void 0!==C?C:void 0,ya=null!==(M=u.tenantId)&&void 0!==M?M:void 0,ba=null!==(W=u._redirectEventId)&&void 0!==W?W:void 0,jv=null!==(he=u.createdAt)&&void 0!==he?he:void 0,dI=null!==(be=u.lastLoginAt)&&void 0!==be?be:void 0,{uid:Zu,emailVerified:zv,isAnonymous:uI,providerData:Km,stsTokenManager:$v}=u;J(Zu&&$v,l,"internal-error");const hI=x.fromJSON(this.name,$v);J("string"==typeof Zu,l,"internal-error"),T(ve,l.name),T(hn,l.name),J("boolean"==typeof zv,l,"internal-error"),J("boolean"==typeof uI,l,"internal-error"),T(ro,l.name),T(Wu,l.name),T(ya,l.name),T(ba,l.name),T(jv,l.name),T(dI,l.name);const Ns=new q({uid:Zu,auth:l,email:hn,emailVerified:zv,displayName:ve,isAnonymous:uI,photoURL:Wu,phoneNumber:ro,tenantId:ya,stsTokenManager:hI,createdAt:jv,lastLoginAt:dI});return Km&&Array.isArray(Km)&&(Ns.providerData=Km.map(Hv=>Object.assign({},Hv))),ba&&(Ns._redirectEventId=ba),Ns}static _fromIdTokenResponse(l,u,m=!1){return(0,I.Z)(function*(){const _=new x;_.updateFromServerResponse(u);const y=new q({uid:u.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield Jr(y),y})()}}const O=new Map;function se(f){xn(f instanceof Function,"Expected a class definition");let l=O.get(f);return l?(xn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,O.set(f,l),l)}const At=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(u,m){var _=this;return(0,I.Z)(function*(){_.storage[u]=m})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=m.storage[u];return void 0===_?null:_})()}_remove(u){var m=this;return(0,I.Z)(function*(){delete m.storage[u]})()}_addListener(u,m){}_removeListener(u,m){}}return f.type="NONE",f})();function me(f,l,u){return`firebase:${f}:${l}:${u}`}class Gt{constructor(l,u,m){this.persistence=l,this.auth=u,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=me(this.userKey,_.apiKey,y),this.fullPersistenceKey=me("persistence",_.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,I.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?q._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,I.Z)(function*(){if(u.persistence===l)return;const m=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,m?u.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,m="authUser"){return(0,I.Z)(function*(){if(!u.length)return new Gt(se(At),l,m);const _=(yield Promise.all(u.map(function(){var he=(0,I.Z)(function*(be){if(yield be._isAvailable())return be});return function(be){return he.apply(this,arguments)}}()))).filter(he=>he);let y=_[0]||se(At);const C=me(m,l.config.apiKey,l.name);let M=null;for(const he of u)try{const be=yield he._get(C);if(be){const ve=q._fromJSON(l,be);he!==y&&(M=ve),y=he;break}}catch{}const W=_.filter(he=>he._shouldAllowMigration);return y._shouldAllowMigration&&W.length?(y=W[0],M&&(yield y._set(C,M.toJSON())),yield Promise.all(u.map(function(){var he=(0,I.Z)(function*(be){if(be!==y)try{yield be._remove(C)}catch{}});return function(be){return he.apply(this,arguments)}}())),new Gt(y,l,m)):new Gt(y,l,m)})()}}function Li(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Is(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(gt(l))return"Firefox";if(l.includes("silk/"))return"Silk";if($(l))return"Blackberry";if(N(l))return"Webos";if(Di(l))return"Safari";if((l.includes("chrome/")||Eo(l))&&!l.includes("edge/"))return"Chrome";if(sa(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function gt(f=(0,z.z$)()){return/firefox\//i.test(f)}function Di(f=(0,z.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Eo(f=(0,z.z$)()){return/crios\//i.test(f)}function Is(f=(0,z.z$)()){return/iemobile/i.test(f)}function sa(f=(0,z.z$)()){return/android/i.test(f)}function $(f=(0,z.z$)()){return/blackberry/i.test(f)}function N(f=(0,z.z$)()){return/webos/i.test(f)}function oe(f=(0,z.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ot(f=(0,z.z$)()){return oe(f)||sa(f)||N(f)||$(f)||/windows phone/i.test(f)||Is(f)}function Nn(f,l=[]){let u;switch(f){case"Browser":u=Li((0,z.z$)());break;case"Worker":u=`${Li((0,z.z$)())}-${f}`;break;default:u=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${$e.SDK_VERSION}/${m}`}class Qo{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const m=y=>new Promise((C,M)=>{try{C(l(y))}catch(W){M(W)}});m.onAbort=u,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,I.Z)(function*(){if(u.auth.currentUser===l)return;const m=[];try{for(const _ of u.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Kf(){return(Kf=(0,I.Z)(function*(f,l={}){return ee(f,"GET","/v2/passwordPolicy",ie(f,l))})).apply(this,arguments)}class cE{constructor(l){var u,m,_,y;const C=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=C.minPasswordLength)&&void 0!==u?u:6,C.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=C.maxPasswordLength),void 0!==C.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=C.containsLowercaseCharacter),void 0!==C.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=C.containsUppercaseCharacter),void 0!==C.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=C.containsNumericCharacter),void 0!==C.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=C.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,m,_,y,C,M;const W={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,W),this.validatePasswordCharacterOptions(l,W),W.isValid&&(W.isValid=null===(u=W.meetsMinPasswordLength)||void 0===u||u),W.isValid&&(W.isValid=null===(m=W.meetsMaxPasswordLength)||void 0===m||m),W.isValid&&(W.isValid=null===(_=W.containsLowercaseLetter)||void 0===_||_),W.isValid&&(W.isValid=null===(y=W.containsUppercaseLetter)||void 0===y||y),W.isValid&&(W.isValid=null===(C=W.containsNumericCharacter)||void 0===C||C),W.isValid&&(W.isValid=null===(M=W.containsNonAlphanumericCharacter)||void 0===M||M),W}validatePasswordLengthOptions(l,u){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(u.meetsMinPasswordLength=l.length>=m),_&&(u.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,u){let m;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,u,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class mi{constructor(l,u,m,_){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eo(this),this.idTokenSubscription=new eo(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,u){var m=this;return u&&(this._popupRedirectResolver=se(u)),this._initializationPromise=this.queue((0,I.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield Gt.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(u),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,I.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,I.Z)(function*(){var m;const _=yield u.assertedPersistence.getCurrentUser();let y=_,C=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const M=null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId,W=y?._redirectEventId,he=yield u.tryRedirectSignIn(l);(!M||M===W)&&he?.user&&(y=he.user,C=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(C)try{yield u.beforeStateQueue.runMiddleware(y)}catch(M){y=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(M))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return J(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var u=this;return(0,I.Z)(function*(){let m=null;try{m=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,I.Z)(function*(){try{yield Jr(l)}catch(m){if("auth/network-request-failed"!==m?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function $a(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,I.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,I.Z)(function*(){const m=l?(0,z.m9)(l):null;return m&&J(m.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(m&&m._clone(u))})()}_updateCurrentUser(l,u=!1){var m=this;return(0,I.Z)(function*(){if(!m._deleted)return l&&J(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),u||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,I.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,I.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,I.Z)(function*(){yield u.assertedPersistence.setPersistence(se(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,I.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const m=u._getPasswordPolicyInternal();return m.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,I.Z)(function*(){const u=yield function hl(f){return Kf.apply(this,arguments)}(l),m=new cE(u);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new z.LL("auth","Firebase",l())}onAuthStateChanged(l,u,m){return this.registerStateListener(this.authStateSubscription,l,u,m)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,m){return this.registerStateListener(this.idTokenSubscription,l,u,m)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},u)}})}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var m=this;return(0,I.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(u);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,I.Z)(function*(){if(!u.redirectPersistenceManager){const m=l&&se(l)||u._popupRedirectResolver;J(m,u,"argument-error"),u.redirectPersistenceManager=yield Gt.create(u,[se(m._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,I.Z)(function*(){var m,_;return u._isInitialized&&(yield u.queue((0,I.Z)(function*(){}))),(null===(m=u._currentUser)||void 0===m?void 0:m._redirectEventId)===l?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,I.Z)(function*(){if(l===u.currentUser)return u.queue((0,I.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,m,_){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let C=!1;const M=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(M,this,"internal-error"),M.then(()=>{C||y(this.currentUser)}),"function"==typeof u){const W=l.addObserver(u,m,_);return()=>{C=!0,W()}}{const W=l.addObserver(u);return()=>{C=!0,W()}}}directlySetCurrentUser(l){var u=this;return(0,I.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,I.Z)(function*(){var u;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,I.Z)(function*(){var u;const m=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return m?.error&&function xi(f,...l){zn.logLevel<=En.in.WARN&&zn.warn(`Auth (${$e.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function Ft(f){return(0,z.m9)(f)}class eo{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,z.ne)(u=>this.observer=u)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qf(f){return new Promise((l,u)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=Rt("internal-error");y.customData=_,u(y)},m.type="text/javascript",m.charset="UTF-8",function ik(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function Yf(f){return`__${f}${Math.floor(1e6*Math.random())}`}class V_{constructor(l){this.type="recaptcha-enterprise",this.auth=Ft(l)}verify(l="verify",u=!1){var m=this;return(0,I.Z)(function*(){function y(){return y=(0,I.Z)(function*(M){if(!u){if(null==M.tenantId&&null!=M._agentRecaptchaConfig)return M._agentRecaptchaConfig.siteKey;if(null!=M.tenantId&&void 0!==M._tenantRecaptchaConfigs[M.tenantId])return M._tenantRecaptchaConfigs[M.tenantId].siteKey}return new Promise(function(){var W=(0,I.Z)(function*(he,be){mr(M,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ve=>{if(void 0!==ve.recaptchaKey){const hn=new fr(ve);return null==M.tenantId?M._agentRecaptchaConfig=hn:M._tenantRecaptchaConfigs[M.tenantId]=hn,he(hn.siteKey)}be(new Error("recaptcha Enterprise site key undefined"))}).catch(ve=>{be(ve)})});return function(he,be){return W.apply(this,arguments)}}())}),y.apply(this,arguments)}function C(M,W,he){const be=window.grecaptcha;Nt(be)?be.enterprise.ready(()=>{be.enterprise.execute(M,{action:l}).then(ve=>{W(ve)}).catch(()=>{W("NO_RECAPTCHA")})}):he(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((M,W)=>{(function _(M){return y.apply(this,arguments)})(m.auth).then(he=>{if(!u&&Nt(window.grecaptcha))C(he,M,W);else{if(typeof window>"u")return void W(new Error("RecaptchaVerifier is only supported in browser"));Qf("https://www.google.com/recaptcha/enterprise.js?render="+he).then(()=>{C(he,M,W)}).catch(be=>{W(be)})}}).catch(he=>{W(he)})})})()}}function xs(f,l,u){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,I.Z)(function*(f,l,u,m=!1){const _=new V_(f);let y;try{y=yield _.verify(u)}catch{y=yield _.verify(u,!0)}const C=Object.assign({},l);return Object.assign(C,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(C,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(C,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),C})).apply(this,arguments)}function Jd(f,l,u,m){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,I.Z)(function*(f,l,u,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield xs(f,l,u,"getOobCode"===u);return m(f,y)}return m(f,l).catch(function(){var y=(0,I.Z)(function*(C){if("auth/missing-recaptcha-token"===C.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const M=yield xs(f,l,u,"getOobCode"===u);return m(f,M)}return Promise.reject(C)});return function(C){return y.apply(this,arguments)}}())}),Jf.apply(this,arguments)}function $t(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function Xi(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Xo{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return In("not implemented")}_getIdTokenResponse(l){return In("not implemented")}_linkToIdToken(l,u){return In("not implemented")}_getReauthenticationResolver(l){return In("not implemented")}}function tu(f,l){return dn.apply(this,arguments)}function dn(){return(dn=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:resetPassword",ie(f,l))})).apply(this,arguments)}function ml(f,l){return tm.apply(this,arguments)}function tm(){return(tm=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Za(){return(Za=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",ie(f,l))})).apply(this,arguments)}function On(f,l){return pl.apply(this,arguments)}function pl(){return(pl=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithPassword",ie(f,l))})).apply(this,arguments)}function nm(f,l){return im.apply(this,arguments)}function im(){return(im=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:sendOobCode",ie(f,l))})).apply(this,arguments)}function Fe(){return(Fe=(0,I.Z)(function*(f,l){return nm(f,l)})).apply(this,arguments)}function nu(f,l){return gl.apply(this,arguments)}function gl(){return(gl=(0,I.Z)(function*(f,l){return nm(f,l)})).apply(this,arguments)}function rk(f,l){return iu.apply(this,arguments)}function iu(){return(iu=(0,I.Z)(function*(f,l){return nm(f,l)})).apply(this,arguments)}function Ts(){return(Ts=(0,I.Z)(function*(f,l){return nm(f,l)})).apply(this,arguments)}function vl(){return(vl=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,l))})).apply(this,arguments)}function ru(){return(ru=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,l))})).apply(this,arguments)}class _r extends Xo{constructor(l,u,m,_=null){super("password",m),this._email=l,this._password=u,this._tenantId=_}static _fromEmailAndPassword(l,u){return new _r(l,u,"password")}static _fromEmailAndCode(l,u,m=null){return new _r(l,u,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,I.Z)(function*(){switch(u.signInMethod){case"password":return Jd(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",On);case"emailLink":return function _l(f,l){return vl.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:It(l,"internal-error")}})()}_linkToIdToken(l,u){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return ml(l,{idToken:u,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function rm(f,l){return ru.apply(this,arguments)}(l,{idToken:u,email:m._email,oobCode:m._password});default:It(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function vr(f,l){return ou.apply(this,arguments)}function ou(){return(ou=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithIdp",ie(f,l))})).apply(this,arguments)}class it extends Xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new it(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):It("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=u,y=(0,Xe._T)(u,["providerId","signInMethod"]);if(!m||!_)return null;const C=new it(m,_);return C.idToken=y.idToken||void 0,C.accessToken=y.accessToken||void 0,C.secret=y.secret,C.nonce=y.nonce,C.pendingToken=y.pendingToken||null,C}_getIdTokenResponse(l){return vr(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,vr(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,vr(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,z.xO)(u)}return l}}function om(){return(om=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:sendVerificationCode",ie(f,l))})).apply(this,arguments)}function j_(){return(j_=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,l))})).apply(this,arguments)}function yl(){return(yl=(0,I.Z)(function*(f,l){const u=yield Re(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,l));if(u.temporaryProof)throw $n(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const yr={USER_NOT_FOUND:"user-not-found"};function sm(){return(sm=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),yr)})).apply(this,arguments)}class Ka extends Xo{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new Ka({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new Ka({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function uE(f,l){return j_.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function hE(f,l){return yl.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function sk(f,l){return sm.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:m,verificationCode:_}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||u||_||y?new Ka({verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class su{constructor(l){var u,m,_,y,C,M;const W=(0,z.zd)((0,z.pd)(l)),he=null!==(u=W.apiKey)&&void 0!==u?u:null,be=null!==(m=W.oobCode)&&void 0!==m?m:null,ve=function Ds(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=W.mode)&&void 0!==_?_:null);J(he&&be&&ve,"argument-error"),this.apiKey=he,this.operation=ve,this.code=be,this.continueUrl=null!==(y=W.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(C=W.languageCode)&&void 0!==C?C:null,this.tenantId=null!==(M=W.tenantId)&&void 0!==M?M:null}static parseLink(l){const u=function ak(f){const l=(0,z.zd)((0,z.pd)(f)).link,u=l?(0,z.zd)((0,z.pd)(l)).deep_link_id:null,m=(0,z.zd)((0,z.pd)(f)).deep_link_id;return(m?(0,z.zd)((0,z.pd)(m)).link:null)||m||u||l||f}(l);try{return new su(u)}catch{return null}}}let z_=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,m){return _r._fromEmailAndPassword(u,m)}static credentialWithLink(u,m){const _=su.parseLink(m);return J(_,"argument-error"),_r._fromEmailAndCode(u,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Jo{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class bl extends Jo{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Qa extends bl{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return J("providerId"in u&&"signInMethod"in u,"argument-error"),it._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return J(l.idToken||l.accessToken,"argument-error"),it._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Qa.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Qa.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:C,providerId:M}=l;if(!m&&!_&&!u&&!y||!M)return null;try{return new Qa(M)._credential({idToken:u,accessToken:m,nonce:C,pendingToken:y})}catch{return null}}}let fE=(()=>{class f extends bl{constructor(){super("facebook.com")}static credential(u){return it._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Vi=(()=>{class f extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(u,m){return it._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_}=u;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Le=(()=>{class f extends bl{constructor(){super("github.com")}static credential(u){return it._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class wl extends Xo{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return vr(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,vr(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,vr(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=u;return m&&_&&y&&m===_?new wl(m,y):null}static _create(l,u){return new wl(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class am extends Jo{constructor(l){J(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return am.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return am.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=wl.fromJSON(l);return J(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:m}=l;if(!u||!m)return null;try{return wl._create(m,u)}catch{return null}}}let ue=(()=>{class f extends bl{constructor(){super("twitter.com")}static credential(u,m){return it._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=u;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function mE(f,l){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signUp",ie(f,l))})).apply(this,arguments)}class Bi{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,m,_=!1){return(0,I.Z)(function*(){const y=yield q._fromIdTokenResponse(l,m,_),C=$_(m);return new Bi({user:y,providerId:C,_tokenResponse:m,operationType:u})})()}static _forOperation(l,u,m){return(0,I.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=$_(m);return new Bi({user:l,providerId:_,_tokenResponse:m,operationType:u})})()}}function $_(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function cm(){return(cm=(0,I.Z)(function*(f){var l;const u=Ft(f);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new Bi({user:u.currentUser,providerId:null,operationType:"signIn"});const m=yield mE(u,{returnSecureToken:!0}),_=yield Bi._fromIdTokenResponse(u,"signIn",m,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class aa extends z.ZR{constructor(l,u,m,_){var y;super(u.code,u.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,aa.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,u,m,_){return new aa(l,u,m,_)}}function El(f,l,u,m){return("reauthenticate"===l?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?aa._fromErrorAndOperation(f,y,l,m):y})}function au(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function lm(){return lm=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f);yield xl(!0,u,l);const{providerUserInfo:m}=yield function ll(f,l){return gr.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),_=au(m||[]);return u.providerData=u.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),lm.apply(this,arguments)}function st(f,l){return Il.apply(this,arguments)}function Il(){return(Il=(0,I.Z)(function*(f,l,u=!1){const m=yield Ci(f,l._linkToIdToken(f.auth,yield f.getIdToken()),u);return Bi._forOperation(f,"link",m)})).apply(this,arguments)}function xl(f,l,u){return Si.apply(this,arguments)}function Si(){return(Si=(0,I.Z)(function*(f,l,u){yield Jr(l);const _=!1===f?"provider-already-linked":"no-such-provider";J(au(l.providerData).has(u)===f,l.auth,_)})).apply(this,arguments)}function dm(f,l){return G_.apply(this,arguments)}function G_(){return(G_=(0,I.Z)(function*(f,l,u=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield Ci(f,El(m,_,l,f),u);J(y.idToken,m,"internal-error");const C=Zo(y.idToken);J(C,m,"internal-error");const{sub:M}=C;return J(f.uid===M,m,"user-mismatch"),Bi._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&It(m,"user-mismatch"),y}})).apply(this,arguments)}function Wt(f,l){return W_.apply(this,arguments)}function W_(){return(W_=(0,I.Z)(function*(f,l,u=!1){const m="signIn",_=yield El(f,m,l),y=yield Bi._fromIdTokenResponse(f,m,_);return u||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function um(f,l){return X.apply(this,arguments)}function X(){return(X=(0,I.Z)(function*(f,l){return Wt(Ft(f),l)})).apply(this,arguments)}function cu(f,l){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f);return yield xl(!1,u,l.providerId),st(u,l)})).apply(this,arguments)}function hm(f,l){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,I.Z)(function*(f,l){return dm((0,z.m9)(f),l)})).apply(this,arguments)}function Dl(){return(Dl=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithCustomToken",ie(f,l))})).apply(this,arguments)}function Z_(){return Z_=(0,I.Z)(function*(f,l){const u=Ft(f),m=yield function pE(f,l){return Dl.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),_=yield Bi._fromIdTokenResponse(u,"signIn",m);return yield u._updateCurrentUser(_.user),_}),Z_.apply(this,arguments)}class lu{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?K_._fromServerResponse(l,u):"totpInfo"in u?Q_._fromServerResponse(l,u):It(l,"internal-error")}}class K_ extends lu{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new K_(u)}}class Q_ extends lu{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new Q_(u)}}function As(f,l,u){var m;J((null===(m=u.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),J(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(J(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(J(u.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function Al(f){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,I.Z)(function*(f){const l=Ft(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function fm(){return(fm=(0,I.Z)(function*(f,l,u){const m=Ft(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&As(m,_,u),yield Jd(m,_,"getOobCode",nu)})).apply(this,arguments)}function du(){return du=(0,I.Z)(function*(f,l,u){yield tu((0,z.m9)(f),{oobCode:l,newPassword:u}).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Al(f),_});return function(_){return m.apply(this,arguments)}}())}),du.apply(this,arguments)}function mm(){return mm=(0,I.Z)(function*(f,l){yield function Lt(f,l){return Za.apply(this,arguments)}((0,z.m9)(f),{oobCode:l})}),mm.apply(this,arguments)}function es(f,l){return pm.apply(this,arguments)}function pm(){return(pm=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f),m=yield tu(u,{oobCode:l}),_=m.requestType;switch(J(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(m.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(m.mfaInfo,u,"internal-error");default:J(m.email,u,"internal-error")}let y=null;return m.mfaInfo&&(y=lu._fromServerResponse(Ft(u),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function uu(){return(uu=(0,I.Z)(function*(f,l){const{data:u}=yield es((0,z.m9)(f),l);return u.email})).apply(this,arguments)}function Ja(){return(Ja=(0,I.Z)(function*(f,l,u){const m=Ft(f),C=yield Jd(m,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mE).catch(W=>{throw"auth/password-does-not-meet-requirements"===W.code&&Al(f),W}),M=yield Bi._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}function _m(){return(_m=(0,I.Z)(function*(f,l,u){const m=Ft(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(C,M){J(M.handleCodeInApp,m,"argument-error"),M&&As(m,C,M)})(_,u),yield Jd(m,_,"getOobCode",rk)})).apply(this,arguments)}function to(){return(to=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f),_=z_.credentialWithLink(l,u||Lr());return J(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),um(m,_)})).apply(this,arguments)}function br(){return(br=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:createAuthUri",ie(f,l))})).apply(this,arguments)}function yt(){return yt=(0,I.Z)(function*(f,l){const m={identifier:l,continueUri:$o()?Lr():"http://localhost"},{signinMethods:_}=yield function hu(f,l){return br.apply(this,arguments)}((0,z.m9)(f),m);return _||[]}),yt.apply(this,arguments)}function Ml(){return Ml=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&As(u.auth,_,l);const{email:y}=yield function Vt(f,l){return Fe.apply(this,arguments)}(u.auth,_);y!==f.email&&(yield f.reload())}),Ml.apply(this,arguments)}function fu(){return fu=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};u&&As(m.auth,y,u);const{email:C}=yield function B(f,l){return Ts.apply(this,arguments)}(m.auth,y);C!==f.email&&(yield f.reload())}),fu.apply(this,arguments)}function mu(){return(mu=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function vm(){return vm=(0,I.Z)(function*(f,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const m=(0,z.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},C=yield Ci(m,function kl(f,l){return mu.apply(this,arguments)}(m.auth,y));m.displayName=C.displayName||null,m.photoURL=C.photoUrl||null;const M=m.providerData.find(({providerId:W})=>"password"===W);M&&(M.displayName=m.displayName,M.photoURL=m.photoURL),yield m._updateTokensIfNecessary(C)}),vm.apply(this,arguments)}function tv(f,l,u){return wr.apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(f,l,u){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),u&&(y.password=u);const C=yield Ci(f,ml(m,y));yield f._updateTokensIfNecessary(C,!0)})).apply(this,arguments)}class ca{constructor(l,u,m={}){this.isNewUser=l,this.providerId=u,this.profile=m}}class nv extends ca{constructor(l,u,m,_){super(l,u,m),this.username=_}}class EE extends ca{constructor(l,u){super(l,"facebook.com",u)}}class IE extends nv{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class xE extends ca{constructor(l,u){super(l,"google.com",u)}}class iv extends nv{constructor(l,u,m){super(l,"twitter.com",u,m)}}function CE(f){const{user:l,_tokenResponse:u}=f;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function wE(f){var l,u;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const C=null===(u=null===(l=Zo(f.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(C)return new ca(y,"anonymous"!==C&&"custom"!==C?C:null)}if(!m)return null;switch(m){case"facebook.com":return new EE(y,_);case"github.com":return new IE(y,_);case"google.com":return new xE(y,_);case"twitter.com":return new iv(y,_,f.screenName||null);case"custom":case"anonymous":return new ca(y,null);default:return new ca(y,m,_)}}(u)}class Ji{constructor(l,u,m){this.type=l,this.credential=u,this.user=m}static _fromIdtoken(l,u){return new Ji("enroll",l,u)}static _fromMfaPendingCredential(l){return new Ji("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,m;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return Ji._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return Ji._fromIdtoken(l.multiFactorSession.idToken)}return null}}class ni{constructor(l,u,m){this.session=l,this.hints=u,this.signInResolver=m}static _fromError(l,u){const m=Ft(l),_=u.customData._serverResponse,y=(_.mfaInfo||[]).map(M=>lu._fromServerResponse(m,M));J(_.mfaPendingCredential,m,"internal-error");const C=Ji._fromMfaPendingCredential(_.mfaPendingCredential);return new ni(C,y,function(){var M=(0,I.Z)(function*(W){const he=yield W._process(m,C);delete _.mfaInfo,delete _.mfaPendingCredential;const be=Object.assign(Object.assign({},_),{idToken:he.idToken,refreshToken:he.refreshToken});switch(u.operationType){case"signIn":const ve=yield Bi._fromIdTokenResponse(m,u.operationType,be);return yield m._updateCurrentUser(ve.user),ve;case"reauthenticate":return J(u.user,m,"internal-error"),Bi._forOperation(u.user,u.operationType,be);default:It(m,"internal-error")}});return function(W){return M.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,I.Z)(function*(){return u.signInResolver(l)})()}}class le{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(m=>lu._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new le(l)}getSession(){var l=this;return(0,I.Z)(function*(){return Ji._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var m=this;return(0,I.Z)(function*(){const _=l,y=yield m.getSession(),C=yield Ci(m.user,_._process(m.user.auth,y,u));return yield m.user._updateTokensIfNecessary(C),m.user.reload()})()}unenroll(l){var u=this;return(0,I.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield u.user.getIdToken();try{const y=yield Ci(u.user,function Cn(f,l){return ee(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ie(f,l))}(u.user.auth,{idToken:_,mfaEnrollmentId:m}));u.enrolledFactors=u.enrolledFactors.filter(({uid:C})=>C!==m),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Be=new WeakMap,er="__sak";class pi{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(er,"1"),this.storage.removeItem(er),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ts=(()=>{class f extends pi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,m)=>this.onStorageEvent(u,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xo(){const f=(0,z.z$)();return Di(f)||oe(f)}()&&function Ai(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ot(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&u(m,y,_)}}onStorageEvent(u,m=!1){if(!u.key)return void this.forAllChangedKeys((M,W,he)=>{this.notifyListeners(M,he)});const _=u.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const M=this.storage.getItem(_);if(u.newValue!==M)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!m)return}const y=()=>{const M=this.storage.getItem(_);!m&&this.localCache[_]===M||this.notifyListeners(_,M)},C=this.storage.getItem(_);!function ht(){return(0,z.w1)()&&10===document.documentMode}()||C===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,m){var _=()=>super._set,y=this;return(0,I.Z)(function*(){yield _().call(y,u,m),y.localCache[u]=JSON.stringify(m)})()}_get(u){var m=()=>super._get,_=this;return(0,I.Z)(function*(){const y=yield m().call(_,u);return _.localCache[u]=JSON.stringify(y),y})()}_remove(u){var m=()=>super._remove,_=this;return(0,I.Z)(function*(){yield m().call(_,u),delete _.localCache[u]})()}}return f.type="LOCAL",f})(),Ur=(()=>{class f extends pi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,m){}_removeListener(u,m){}}return f.type="SESSION",f})();let tc=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const m=this.receivers.find(y=>y.isListeningto(u));if(m)return m;const _=new f(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var m=this;return(0,I.Z)(function*(){const _=u,{eventId:y,eventType:C,data:M}=_.data,W=m.handlersMap[C];if(!W?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:C});const he=Array.from(W).map(function(){var ve=(0,I.Z)(function*(hn){return hn(_.origin,M)});return function(hn){return ve.apply(this,arguments)}}()),be=yield function sv(f){return Promise.all(f.map(function(){var l=(0,I.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(m){return{fulfilled:!1,reason:m}}});return function(u){return l.apply(this,arguments)}}()))}(he);_.ports[0].postMessage({status:"done",eventId:y,eventType:C,response:be})})()}_subscribe(u,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(m)}_unsubscribe(u,m){this.handlersMap[u]&&m&&this.handlersMap[u].delete(m),(!m||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Kt(f="",l=10){let u="";for(let m=0;m<l;m++)u+=Math.floor(10*Math.random());return f+u}class Rl{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,m=50){var _=this;return(0,I.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let C,M;return new Promise((W,he)=>{const be=Kt("",20);y.port1.start();const ve=setTimeout(()=>{he(new Error("unsupported_event"))},m);M={messageChannel:y,onMessage(hn){const ro=hn;if(ro.data.eventId===be)switch(ro.data.status){case"ack":clearTimeout(ve),C=setTimeout(()=>{he(new Error("timeout"))},3e3);break;case"done":clearTimeout(C),W(ro.data.response);break;default:clearTimeout(ve),clearTimeout(C),he(new Error("invalid_response"))}}},_.handlers.add(M),y.port1.addEventListener("message",M.onMessage),_.target.postMessage({eventType:l,eventId:be,data:u},[y.port2])}).finally(()=>{M&&_.removeMessageHandler(M)})})()}}function on(){return window}function la(){return typeof on().WorkerGlobalScope<"u"&&"function"==typeof on().importScripts}function To(){return(To=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ue="firebaseLocalStorageDb",Pl="firebaseLocalStorage",_u="fbase_key";class nr{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function ua(f,l){return f.transaction([Pl],l?"readwrite":"readonly").objectStore(Pl)}function ha(){const f=indexedDB.open(Ue,1);return new Promise((l,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Pl,{keyPath:_u})}catch(_){u(_)}}),f.addEventListener("success",(0,I.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Pl)?l(m):(m.close(),yield function nc(){const f=indexedDB.deleteDatabase(Ue);return new nr(f).toPromise()}(),l(yield ha()))}))})}function Tn(f,l,u){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,I.Z)(function*(f,l,u){const m=ua(f,!0).put({[_u]:l,value:u});return new nr(m).toPromise()})).apply(this,arguments)}function Nl(){return(Nl=(0,I.Z)(function*(f,l){const u=ua(f,!1).get(l),m=yield new nr(u).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Ss(f,l){const u=ua(f,!0).delete(l);return new nr(u).toPromise()}const ic=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,I.Z)(function*(){return u.db||(u.db=yield ha()),u.db})()}_withRetries(u){var m=this;return(0,I.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield u(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,I.Z)(function*(){return la()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,I.Z)(function*(){u.receiver=tc._getInstance(function da(){return la()?self:null}()),u.receiver._subscribe("keyChanged",function(){var m=(0,I.Z)(function*(_,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var m=(0,I.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,I.Z)(function*(){var m,_;if(u.activeServiceWorker=yield function av(){return To.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Rl(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var m=this;return(0,I.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function gu(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:u},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const u=yield ha();return yield Tn(u,er,"1"),yield Ss(u,er),!0}catch{}return!1})()}_withPendingWrite(u){var m=this;return(0,I.Z)(function*(){m.pendingWrites++;try{yield u()}finally{m.pendingWrites--}})()}_set(u,m){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(y=>Tn(y,u,m)),_.localCache[u]=m,_.notifyServiceWorker(u)}))})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=yield m._withRetries(y=>function ii(f,l){return Nl.apply(this,arguments)}(y,u));return m.localCache[u]=_,_})()}_remove(u){var m=this;return(0,I.Z)(function*(){return m._withPendingWrite((0,I.Z)(function*(){return yield m._withRetries(_=>Ss(_,u)),delete m.localCache[u],m.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,I.Z)(function*(){const m=yield u._withRetries(C=>{const M=ua(C,!1).getAll();return new nr(M).toPromise()});if(!m)return[];if(0!==u.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:C,value:M}of m)y.add(C),JSON.stringify(u.localCache[C])!==JSON.stringify(M)&&(u.notifyListeners(C,M),_.push(C));for(const C of Object.keys(u.localCache))u.localCache[C]&&!y.has(C)&&(u.notifyListeners(C,null),_.push(C));return _})()}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Im=1e12;class mk{constructor(l){this.auth=l,this.counter=Im,this._widgets=new Map}render(l,u){const m=this.counter;return this._widgets.set(m,new pk(l,this.auth.name,u||{})),this.counter++,m}reset(l){var u;const m=l||Im;null===(u=this._widgets.get(m))||void 0===u||u.delete(),this._widgets.delete(m)}getResponse(l){var u;return(null===(u=this._widgets.get(l||Im))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,I.Z)(function*(){var m;return null===(m=u._widgets.get(l||Im))||void 0===m||m.execute(),""})()}}class pk{constructor(l,u,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;J(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gk(f){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dv=Yf("rcb"),_k=new Vr(3e4,6e4);class yk{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=on().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return J(function bk(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&ei(on().grecaptcha)?Promise.resolve(on().grecaptcha):new Promise((m,_)=>{const y=on().setTimeout(()=>{_(Rt(l,"network-request-failed"))},_k.get());on()[dv]=()=>{on().clearTimeout(y),delete on()[dv];const M=on().grecaptcha;if(!M||!ei(M))return void _(Rt(l,"internal-error"));const W=M.render;M.render=(he,be)=>{const ve=W(he,be);return this.counter++,ve},this.hostLanguage=u,m(M)},Qf(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:dv,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),_(Rt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=on().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wk{load(l){return(0,I.Z)(function*(){return new mk(l)})()}clearedOneInstance(){}}const kE="recaptcha",Ek={theme:"light",type:"image"};class uv{constructor(l,u,m=Object.assign({},Ek)){this.parameters=m,this.type=kE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(l),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;J(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wk:new yk,this.validateStartingState()}verify(){var l=this;return(0,I.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(u)||new Promise(y=>{const C=M=>{M&&(l.tokenChangeListeners.delete(C),y(M))};l.tokenChangeListeners.add(C),l.isInvisible&&m.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(m=>m(u)),"function"==typeof l)l(u);else if("string"==typeof l){const m=on()[l];"function"==typeof m&&m(u)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,I.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const m=document.createElement("div");u.appendChild(m),u=m}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,I.Z)(function*(){J($o()&&!la(),l.auth,"internal-error"),yield function hv(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function cl(f){return Ho.apply(this,arguments)}(l.auth);J(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fv{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=Ka._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function mv(){return(mv=(0,I.Z)(function*(f,l,u){const m=Ft(f),_=yield Ol(m,l,(0,z.m9)(u));return new fv(_,y=>um(m,y))})).apply(this,arguments)}function ns(){return(ns=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);yield xl(!1,m,"phone");const _=yield Ol(m.auth,l,(0,z.m9)(u));return new fv(_,y=>cu(m,y))})).apply(this,arguments)}function Ui(){return(Ui=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f),_=yield Ol(m.auth,l,(0,z.m9)(u));return new fv(_,y=>hm(m,y))})).apply(this,arguments)}function Ol(f,l,u){return xm.apply(this,arguments)}function xm(){return xm=(0,I.Z)(function*(f,l,u){var m;const _=yield u.verify();try{let y;if(J("string"==typeof _,f,"argument-error"),J(u.type===kE,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const C=y.session;if("phoneNumber"in y)return J("enroll"===C.type,f,"internal-error"),(yield function ov(f,l){return ee(f,"POST","/v2/accounts/mfaEnrollment:start",ie(f,l))}(f,{idToken:C.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{J("signin"===C.type,f,"internal-error");const M=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return J(M,f,"missing-multi-factor-info"),(yield function SE(f,l){return ee(f,"POST","/v2/accounts/mfaSignIn:start",ie(f,l))}(f,{mfaPendingCredential:C.credential,mfaEnrollmentId:M,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:C}=yield function ok(f,l){return om.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return C}}finally{u._reset()}}),xm.apply(this,arguments)}function yu(){return(yu=(0,I.Z)(function*(f,l){yield st((0,z.m9)(f),l)})).apply(this,arguments)}let rc=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=Ft(u)}verifyPhoneNumber(u,m){return Ol(this.auth,u,(0,z.m9)(m))}static credential(u,m){return Ka._fromVerification(u,m)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:m,temporaryProof:_}=u;return m&&_?Ka._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function fa(f,l){return l?se(l):(J(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Fl extends Xo{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return vr(l,this._buildIdpRequest())}_linkToIdToken(l,u){return vr(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return vr(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function NE(f){return Wt(f.auth,new Fl(f),f.bypassAuthState)}function Do(f){const{auth:l,user:u}=f;return J(u,l,"internal-error"),dm(u,new Fl(f),f.bypassAuthState)}function pv(f){return bu.apply(this,arguments)}function bu(){return(bu=(0,I.Z)(function*(f){const{auth:l,user:u}=f;return J(u,l,"internal-error"),st(u,new Fl(f),f.bypassAuthState)})).apply(this,arguments)}class Qt{constructor(l,u,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,I.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,I.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:C,error:M,type:W}=l;if(M)return void u.reject(M);const he={auth:u.auth,requestUri:m,sessionId:_,tenantId:C||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(W)(he))}catch(be){u.reject(be)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return NE;case"linkViaPopup":case"linkViaRedirect":return pv;case"reauthViaPopup":case"reauthViaRedirect":return Do;default:It(this.auth,"internal-error")}}resolve(l){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cm=new Vr(2e3,1e4);function gi(){return(gi=(0,I.Z)(function*(f,l,u){const m=Ft(f);dt(f,l,Jo);const _=fa(m,u);return new Tm(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function ma(){return(ma=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,Jo);const _=fa(m.auth,u);return new Tm(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function ji(){return(ji=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,Jo);const _=fa(m.auth,u);return new Tm(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let Tm=(()=>{class f extends Qt{constructor(u,m,_,y,C){super(u,m,y,C),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,I.Z)(function*(){const m=yield u.execute();return J(m,u.auth,"internal-error"),m})()}onExecution(){var u=this;return(0,I.Z)(function*(){xn(1===u.filter.length,"Popup operations only handle one event");const m=Kt();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],m),u.authWindow.associatedEvent=m,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(Rt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,Cm.get())};u()}}return f.currentPopupAction=null,f})();const Dm="pendingRedirect",Vl=new Map;class Ao extends Qt{constructor(l,u,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,I.Z)(function*(){let m=Vl.get(u.auth._key());if(!m){try{const y=(yield function gv(f,l){return Am.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}Vl.set(u.auth._key(),m)}return u.bypassAuthState||Vl.set(u.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,m=this;return(0,I.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,u().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Am(){return(Am=(0,I.Z)(function*(f,l){const u=je(l),m=xu(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(u));return yield m._remove(u),_})).apply(this,arguments)}function wu(f,l){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,I.Z)(function*(f,l){return xu(f)._set(je(l),"true")})).apply(this,arguments)}function sc(f,l){Vl.set(f._key(),l)}function xu(f){return se(f._redirectPersistence)}function je(f){return me(Dm,f.config.apiKey,f.name)}function _v(f,l,u){return function Ck(f,l,u){return Sm.apply(this,arguments)}(f,l,u)}function Sm(){return(Sm=(0,I.Z)(function*(f,l,u){const m=Ft(f);dt(f,l,Jo),yield m._initializationPromise;const _=fa(m,u);return yield wu(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function FE(f,l,u){return function LE(f,l,u){return Cu.apply(this,arguments)}(f,l,u)}function Cu(){return(Cu=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,Jo),yield m.auth._initializationPromise;const _=fa(m.auth,u);yield wu(_,m.auth);const y=yield mt(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function ac(f,l,u){return function VE(f,l,u){return Mm.apply(this,arguments)}(f,l,u)}function Mm(){return(Mm=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,Jo),yield m.auth._initializationPromise;const _=fa(m.auth,u);yield xl(!1,m,l.providerId),yield wu(_,m.auth);const y=yield mt(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function km(){return(km=(0,I.Z)(function*(f,l){return yield Ft(f)._initializationPromise,Tu(f,l,!1)})).apply(this,arguments)}function Tu(f,l){return H.apply(this,arguments)}function H(){return(H=(0,I.Z)(function*(f,l,u=!1){const m=Ft(f),_=fa(m,l),C=yield new Ao(m,_,u).execute();return C&&!u&&(delete C.user._redirectEventId,yield m._persistUserIfCurrent(C.user),yield m._setRedirectUser(null,l)),C})).apply(this,arguments)}function mt(f){return bt.apply(this,arguments)}function bt(){return(bt=(0,I.Z)(function*(f){const l=Kt(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Bt{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(u=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function So(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cc(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var m;if(l.error&&!cc(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";u.onError(Rt(this.auth,_))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const m=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rm(l))}saveEventToCache(l){this.cachedEventUids.add(Rm(l)),this.lastProcessedEventTime=Date.now()}}function Rm(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function cc({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function Du(f){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,I.Z)(function*(f,l={}){return ee(f,"GET","/v1/projects",l)})).apply(this,arguments)}const UE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;function _i(){return(_i=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield Du(f);for(const u of l)try{if(is(u))return}catch{}It(f,"unauthorized-domain")})).apply(this,arguments)}function is(f){const l=Lr(),{protocol:u,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const C=new URL(f);return""===C.hostname&&""===m?"chrome-extension:"===u&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&C.hostname===m}if(!Tk.test(u))return!1;if(UE.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const yv=new Vr(3e4,6e4);function io(){const f=on().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let Au=null;const jE=new Vr(5e3,15e3),zE="__/auth/iframe",Pm="emulator/auth/iframe",Nm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Om(f){const l=f.config;J(l.authDomain,f,"auth-domain-config-required");const u=l.emulator?L(l,Pm):`https://${f.config.authDomain}/${zE}`,m={apiKey:l.apiKey,appName:f.name,v:$e.SDK_VERSION},_=wv.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${u}?${(0,z.xO)(m).slice(1)}`}function Su(){return Su=(0,I.Z)(function*(f){const l=yield function bv(f){return Au=Au||function rs(f){return new Promise((l,u)=>{var m,_,y;function C(){io(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{io(),u(Rt(f,"network-request-failed"))},timeout:yv.get()})}if(null!==(_=null===(m=on().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=on().gapi)||void 0===y||!y.load){const M=Yf("iframefcb");return on()[M]=()=>{gapi.load?C():u(Rt(f,"network-request-failed"))},Qf(`https://apis.google.com/js/api.js?onload=${M}`).catch(W=>u(W))}C()}}).catch(l=>{throw Au=null,l})}(f),Au}(f),u=on().gapi;return J(u,f,"internal-error"),l.open({where:document.body,url:Om(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nm,dontclear:!0},m=>new Promise(function(){var _=(0,I.Z)(function*(y,C){yield m.restyle({setHideOnLeave:!1});const M=Rt(f,"network-request-failed"),W=on().setTimeout(()=>{C(M)},jE.get());function he(){on().clearTimeout(W),y(m)}m.ping(he).then(he,()=>{C(M)})});return function(y,C){return _.apply(this,arguments)}}()))}),Su.apply(this,arguments)}const Fm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mu{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pa="__/auth/handler",sn="emulator/auth/handler",Tv=encodeURIComponent("fac");function Lm(f,l,u,m,_,y){return ku.apply(this,arguments)}function ku(){return(ku=(0,I.Z)(function*(f,l,u,m,_,y){J(f.config.authDomain,f,"auth-domain-config-required"),J(f.config.apiKey,f,"invalid-api-key");const C={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:m,v:$e.SDK_VERSION,eventId:_};if(l instanceof Jo){l.setDefaultLanguage(f.languageCode),C.providerId=l.providerId||"",(0,z.xb)(l.getCustomParameters())||(C.customParameters=JSON.stringify(l.getCustomParameters()));for(const[be,ve]of Object.entries(y||{}))C[be]=ve}if(l instanceof bl){const be=l.getScopes().filter(ve=>""!==ve);be.length>0&&(C.scopes=be.join(","))}f.tenantId&&(C.tid=f.tenantId);const M=C;for(const be of Object.keys(M))void 0===M[be]&&delete M[be];const W=yield f._getAppCheckToken(),he=W?`#${Tv}=${encodeURIComponent(W)}`:"";return`${function qE({config:f}){return f.emulator?L(f,sn):`https://${f.authDomain}/${pa}`}(f)}?${(0,z.xO)(M).slice(1)}${he}`})).apply(this,arguments)}const Ru="webStorageSupport",Ul=class Dv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ur,this._completeRedirectFn=Tu,this._overrideRedirectResult=sc}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){var C;xn(null===(C=y.eventManagers[l._key()])||void 0===C?void 0:C.manager,"_initialize() not called before _openPopup()");const M=yield Lm(l,u,m,Lr(),_);return function HE(f,l,u,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),C=Math.max((window.screen.availWidth-m)/2,0).toString();let M="";const W=Object.assign(Object.assign({},Fm),{width:m.toString(),height:_.toString(),top:y,left:C}),he=(0,z.z$)().toLowerCase();u&&(M=Eo(he)?"_blank":u),gt(he)&&(l=l||"http://localhost",W.scrollbars="yes");const be=Object.entries(W).reduce((hn,[ro,Wu])=>`${hn}${ro}=${Wu},`,"");if(function Ae(f=(0,z.z$)()){var l;return oe(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(he)&&"_self"!==M)return function zi(f,l){const u=document.createElement("a");u.href=f,u.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(m)}(l||"",M),new Mu(null);const ve=window.open(l||"",M,be);J(ve,f,"popup-blocked");try{ve.focus()}catch{}return new Mu(ve)}(l,M,Kt())})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y._originValidation(l),function Co(f){on().location.href=f}(yield Lm(l,u,m,Lr(),_)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:_,promise:y}=this.eventManagers[u];return _?Promise.resolve(_):(xn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[u]={promise:m},m.catch(()=>{delete this.eventManagers[u]}),m}initAndGetManager(l){var u=this;return(0,I.Z)(function*(){const m=yield function $E(f){return Su.apply(this,arguments)}(l),_=new Bt(l);return m.register("authEvent",y=>(J(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:_},u.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(Ru,{type:Ru},_=>{var y;const C=null===(y=_?.[0])||void 0===y?void 0:y[Ru];void 0!==C&&u(!!C),It(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function vv(f){return _i.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return Ot()||Di()||oe()}};class Ms{constructor(l){this.factorId=l}_process(l,u,m){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,m);case"signin":return this._finalizeSignIn(l,u.credential);default:return In("unexpected MultiFactorSessionType")}}}class Vm extends Ms{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Vm(l)}_finalizeEnroll(l,u,m){return function pu(f,l){return ee(f,"POST","/v2/accounts/mfaEnrollment:finalize",ie(f,l))}(l,{idToken:u,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function wm(f,l){return ee(f,"POST","/v2/accounts/mfaSignIn:finalize",ie(f,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pu=(()=>{class f{constructor(){}static assertion(u){return Vm._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var Um="@firebase/auth";class dc{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,I.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uc(){return window}(0,z.Pz)("authIdTokenMaxAge"),function GE(f){(0,$e._registerComponent)(new Rn.wA("auth",(l,{options:u})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:C,authDomain:M}=m.options;J(C&&!C.includes(":"),"invalid-api-key",{appName:m.name});const W={apiKey:C,authDomain:M,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(f)},he=new mi(m,_,y,W);return function dE(f,l){const u=l?.persistence||[],m=(Array.isArray(u)?u:[u]).map(se);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(he,u),he},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,m)=>{l.getProvider("auth-internal").initialize()})),(0,$e._registerComponent)(new Rn.wA("auth-internal",l=>{const u=Ft(l.getProvider("auth").getImmediate());return new dc(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)(Um,"1.3.2",function zl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,$e.registerVersion)(Um,"1.3.2","esm2017")}("Browser");function $m(){return $m=(0,I.Z)(function*(f,l,u){var m;const{BuildInfo:_}=uc();xn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function KE(f){return jr.apply(this,arguments)}(l.sessionId),C={};return oe()?C.ibi=_.packageName:sa()?C.apn=_.packageName:It(f,"operation-not-supported-in-this-environment"),_.displayName&&(C.appDisplayName=_.displayName),C.sessionId=y,Lm(f,u,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,C)}),$m.apply(this,arguments)}function ql(){return(ql=(0,I.Z)(function*(f){const{BuildInfo:l}=uc(),u={};oe()?u.iosBundleId=l.packageName:sa()?u.androidPackageName=l.packageName:It(f,"operation-not-supported-in-this-environment"),yield Du(f,u)})).apply(this,arguments)}function Fu(){return(Fu=(0,I.Z)(function*(f,l,u){const{cordova:m}=uc();let _=()=>{};try{yield new Promise((y,C)=>{let M=null;function W(){var ve;y();const hn=null===(ve=m.plugins.browsertab)||void 0===ve?void 0:ve.close;"function"==typeof hn&&hn(),"function"==typeof u?.close&&u.close()}function he(){M||(M=window.setTimeout(()=>{C(Rt(f,"redirect-cancelled-by-user"))},2e3))}function be(){"visible"===document?.visibilityState&&he()}l.addPassiveListener(W),document.addEventListener("resume",he,!1),sa()&&document.addEventListener("visibilitychange",be,!1),_=()=>{l.removePassiveListener(W),document.removeEventListener("resume",he,!1),document.removeEventListener("visibilitychange",be,!1),M&&window.clearTimeout(M)}})}finally{_()}})).apply(this,arguments)}function jr(){return(jr=(0,I.Z)(function*(f){const l=function QE(f){if(xn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),u=new Uint8Array(l);for(let m=0;m<f.length;m++)u[m]=f.charCodeAt(m);return u}(f),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Hm extends Bt{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,I.Z)(function*(){yield l.initPromise})()}}function Bu(f){return qm.apply(this,arguments)}function qm(){return(qm=(0,I.Z)(function*(f){const l=yield Uu()._get(ju(f));return l&&(yield Uu()._remove(ju(f))),l})).apply(this,arguments)}function Pv(){const f=[];for(let u=0;u<20;u++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function Uu(){return se(ts)}function ju(f){return me("authEvent",f.config.apiKey,f.name)}function Mo(f){if(!f?.includes("?"))return{};const[l,...u]=f.split("?");return(0,z.zd)(u.join("?"))}const Ov=class Nv{constructor(){this._redirectPersistence=Ur,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tu,this._overrideRedirectResult=sc}_initialize(l){var u=this;return(0,I.Z)(function*(){const m=l._key();let _=u.eventManagers.get(m);return _||(_=new Hm(l),u.eventManagers.set(m,_),u.attachCallbackListeners(l,_)),_})()}_openPopup(l){It(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){!function Mv(f){var l,u,m,_,y,C,M,W,he,be;const ve=uc();J("function"==typeof(null===(l=ve?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(u=ve?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(y=null===(_=null===(m=ve?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(W=null===(M=null===(C=ve?.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===W?void 0:W.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(be=null===(he=ve?.cordova)||void 0===he?void 0:he.InAppBrowser)||void 0===be?void 0:be.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const C=yield y._initialize(l);yield C.initialized(),C.resetRedirect(),function Iu(){Vl.clear()}(),yield y._originValidation(l);const M=function kv(f,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:Pv(),postBody:null,tenantId:f.tenantId,error:Rt(f,"no-auth-event")}}(l,m,_);yield function Vu(f,l){return Uu()._set(ju(f),l)}(l,M);const W=yield function $l(f,l,u){return $m.apply(this,arguments)}(l,M,u),he=yield function Ou(f){const{cordova:l}=uc();return new Promise(u=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function Se(f=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),u(_)})})}(W);return function Dk(f,l,u){return Fu.apply(this,arguments)}(l,C,he)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Hl(f){return ql.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=uc(),C=setTimeout((0,I.Z)(function*(){yield Bu(l),u.onEvent(ga())}),500),M=function(){var be=(0,I.Z)(function*(ve){clearTimeout(C);const hn=yield Bu(l);let ro=null;hn&&ve?.url&&(ro=function Rv(f,l){var u,m;const _=function zu(f){const l=Mo(f),u=l.link?decodeURIComponent(l.link):void 0,m=Mo(u).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Mo(_).link||_||m||u||f}(l);if(_.includes("/__/auth/callback")){const y=Mo(_),C=y.firebaseError?function YE(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,M=null===(m=null===(u=C?.code)||void 0===u?void 0:u.split("auth/"))||void 0===m?void 0:m[1],W=M?Rt(M):null;return W?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:W,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(hn,ve.url)),u.onEvent(ro||ga())});return function(hn){return be.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,M);const W=_,he=`${y.packageName.toLowerCase()}://`;uc().handleOpenURL=function(){var be=(0,I.Z)(function*(ve){if(ve.toLowerCase().startsWith(he)&&M({url:ve}),"function"==typeof W)try{W(ve)}catch(hn){console.error(hn)}});return function(ve){return be.apply(this,arguments)}}()}};function ga(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rt("no-auth-event")}}function _a(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Gm(f=(0,z.z$)()){return!("file:"!==_a()&&"ionic:"!==_a()&&"capacitor:"!==_a()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wm(){try{const f=self.localStorage,l=Kt();if(f)return f.setItem(l,"1"),f.removeItem(l),!function pc(f=(0,z.z$)()){return function fc(){return(0,z.w1)()&&11===document?.documentMode}()||function mc(f=(0,z.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,z.hl)()}catch{return Gl()&&(0,z.hl)()}return!1}function Gl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ks(){return(function eI(){return"http:"===_a()||"https:"===_a()}()||(0,z.ru)()||Gm())&&!function $u(){return(0,z.b$)()||(0,z.UG)()}()&&Wm()&&!Gl()}function tI(){return Gm()&&typeof document<"u"}function Fv(){return(Fv=(0,I.Z)(function*(){return!!tI()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const zr={LOCAL:"local",NONE:"none",SESSION:"session"},Hu=J,iI="persistence";function Rs(f){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,I.Z)(function*(f){yield f._initializationPromise;const l=Fn(),u=me(iI,f.config.apiKey,f.name);l&&l.setItem(u,f._getPersistence())})).apply(this,arguments)}function Fn(){var f;try{return(null===(f=function Ak(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const oI=J;class $r{constructor(){this.browserResolver=se(Ul),this.cordovaResolver=se(Ov),this.underlyingResolver=null,this._redirectPersistence=Ur,this._completeRedirectFn=Tu,this._overrideRedirectResult=sc}_initialize(l){var u=this;return(0,I.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,u,m,_)})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,u,m,_)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return tI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oI(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,I.Z)(function*(){if(l.underlyingResolver)return;const u=yield function nI(){return Fv.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function Lv(f){return f.unwrap()}function gc(f){return Wl(f)}function Wl(f){const{_tokenResponse:l}=f instanceof z.ZR?f.customData:f;if(!l)return null;if(!(f instanceof z.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return rc.credentialFromResult(f);const u=l.providerId;if(!u||u===Mt.PASSWORD)return null;let m;switch(u){case Mt.GOOGLE:m=Vi;break;case Mt.FACEBOOK:m=fE;break;case Mt.GITHUB:m=Le;break;case Mt.TWITTER:m=ue;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:C,pendingToken:M,nonce:W}=l;return y||C||_||M?M?u.startsWith("saml.")?wl._create(u,M):it._fromParams({providerId:u,signInMethod:u,pendingToken:M,idToken:_,accessToken:y}):new Qa(u).credential({idToken:_,accessToken:y,rawNonce:W}):null}return f instanceof z.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function ri(f,l){return l.catch(u=>{throw u instanceof z.ZR&&function Vv(f,l){var u;const m=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new Uv(f,function rv(f,l){var u;const m=(0,z.m9)(f),_=l;return J(l.customData.operationType,m,"argument-error"),J(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,m,"argument-error"),ni._fromError(m,_)}(f,l));else if(m){const _=Wl(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:gc(u),additionalUserInfo:CE(u),user:Ps.getOrCreate(_)}})}function Zl(f,l){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,I.Z)(function*(f,l){const u=yield l;return{verificationId:u.verificationId,confirm:m=>ri(f,u.confirm(m))}})).apply(this,arguments)}class Uv{constructor(l,u){this.resolver=u,this.auth=function ir(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return ri(Lv(this.auth),this.resolver.resolveSignIn(l))}}class Ps{constructor(l){this._delegate=l,this.multiFactor=function un(f){const l=(0,z.m9)(f);return Be.has(l)||Be.set(l,le._fromUser(l)),Be.get(l)}(l)}static getOrCreate(l){return Ps.USER_MAP.has(l)||Ps.USER_MAP.set(l,new Ps(l)),Ps.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,I.Z)(function*(){return ri(u.auth,cu(u._delegate,l))})()}linkWithPhoneNumber(l,u){var m=this;return(0,I.Z)(function*(){return Zl(m.auth,function xk(f,l,u){return ns.apply(this,arguments)}(m._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,I.Z)(function*(){return ri(u.auth,function oc(f,l,u){return ji.apply(this,arguments)}(u._delegate,l,$r))})()}linkWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield Rs(Ft(u.auth)),ac(u._delegate,l,$r)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,I.Z)(function*(){return ri(u.auth,hm(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Zl(this.auth,function RE(f,l,u){return Ui.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return ri(this.auth,function OE(f,l,u){return ma.apply(this,arguments)}(this._delegate,l,$r))}reauthenticateWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield Rs(Ft(u.auth)),FE(u._delegate,l,$r)})()}sendEmailVerification(l){return function Y_(f,l){return Ml.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,I.Z)(function*(){return yield function q_(f,l){return lm.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function ev(f,l){return tv((0,z.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function bE(f,l){return tv((0,z.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function PE(f,l){return yu.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function J_(f,l){return vm.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function X_(f,l,u){return fu.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;const vi=J;let qu=(()=>{class f{constructor(u,m){if(this.app=u,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;vi(_,"invalid-api-key",{appName:u.name}),vi(_,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?$r:void 0;this._delegate=m.initialize({options:{persistence:Mk(_,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(jn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,m){!function U_(f,l,u){const m=Ft(f);J(m._canInitEmulator,m,"emulator-config-failed"),J(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!u?.disableWarnings,y=$t(l),{host:C,port:M}=function eu(f){const l=$t(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!u)return{host:"",port:null};const m=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:Xi(m.substr(y.length+1))}}{const[y,C]=m.split(":");return{host:y,port:Xi(C)}}}(l);m.config.emulator={url:`${y}//${C}${null===M?"":`:${M}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:C,port:M,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Ie(){function f(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,u,m)}applyActionCode(u){return function Xa(f,l){return mm.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return es(this._delegate,u)}confirmPasswordReset(u,m){return function _E(f,l,u){return du.apply(this,arguments)}(this._delegate,u,m)}createUserWithEmailAndPassword(u,m){var _=this;return(0,I.Z)(function*(){return ri(_._delegate,function ce(f,l,u){return Ja.apply(this,arguments)}(_._delegate,u,m))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function Io(f,l){return yt.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function vE(f,l){const u=su.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,I.Z)(function*(){vi(ks(),u._delegate,"operation-not-supported-in-this-environment");const m=yield function BE(f,l){return km.apply(this,arguments)}(u._delegate,$r);return m?ri(u._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function hc(f,l){Ft(f)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,m,_){const{next:y,error:C,complete:M}=va(u,m,_);return this._delegate.onAuthStateChanged(y,C,M)}onIdTokenChanged(u,m,_){const{next:y,error:C,complete:M}=va(u,m,_);return this._delegate.onIdTokenChanged(y,C,M)}sendSignInLinkToEmail(u,m){return function Sl(f,l,u){return _m.apply(this,arguments)}(this._delegate,u,m)}sendPasswordResetEmail(u,m){return function gE(f,l,u){return fm.apply(this,arguments)}(this._delegate,u,m||void 0)}setPersistence(u){var m=this;return(0,I.Z)(function*(){let _;switch(function Sk(f,l){Hu(Object.values(zr).includes(l),f,"invalid-persistence-type"),(0,z.b$)()?Hu(l!==zr.SESSION,f,"unsupported-persistence-type"):(0,z.UG)()?Hu(l===zr.NONE,f,"unsupported-persistence-type"):Gl()?Hu(l===zr.NONE||l===zr.LOCAL&&(0,z.hl)(),f,"unsupported-persistence-type"):Hu(l===zr.NONE||Wm(),f,"unsupported-persistence-type")}(m._delegate,u),u){case zr.SESSION:_=Ur;break;case zr.LOCAL:_=(yield se(ic)._isAvailable())?ic:ts;break;case zr.NONE:_=At;break;default:return It("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return ri(this._delegate,function H_(f){return cm.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return ri(this._delegate,um(this._delegate,u))}signInWithCustomToken(u){return ri(this._delegate,function dk(f,l){return Z_.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,m){return ri(this._delegate,function gm(f,l,u){return um((0,z.m9)(f),z_.credential(l,u)).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Al(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,u,m))}signInWithEmailLink(u,m){return ri(this._delegate,function yE(f,l,u){return to.apply(this,arguments)}(this._delegate,u,m))}signInWithPhoneNumber(u,m){return Zl(this._delegate,function Ik(f,l,u){return mv.apply(this,arguments)}(this._delegate,u,m))}signInWithPopup(u){var m=this;return(0,I.Z)(function*(){return vi(ks(),m._delegate,"operation-not-supported-in-this-environment"),ri(m._delegate,function Ll(f,l,u){return gi.apply(this,arguments)}(m._delegate,u,$r))})()}signInWithRedirect(u){var m=this;return(0,I.Z)(function*(){return vi(ks(),m._delegate,"operation-not-supported-in-this-environment"),yield Rs(m._delegate),_v(m._delegate,u,$r)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function j(f,l){return uu.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=zr,f})();function va(f,l,u){let m=f;"function"!=typeof f&&({next:m,error:l,complete:u}=f);const _=m;return{next:C=>_(C&&Ps.getOrCreate(C)),error:l,complete:u}}function Mk(f,l){const u=function rI(f,l){const u=Fn();if(!u)return[];const m=me(iI,f,l);switch(u.getItem(m)){case zr.NONE:return[At];case zr.LOCAL:return[ic,Ur];case zr.SESSION:return[Ur];default:return[]}}(f,l);if(typeof self<"u"&&!u.includes(ic)&&u.push(ic),typeof window<"u")for(const m of[ts,Ur])u.includes(m)||u.push(m);return u.includes(At)||u.push(At),u}class Gu{constructor(){this.providerId="phone",this._delegate=new rc(Lv(xe.Z.auth()))}static credential(l,u){return rc.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Gu.PHONE_SIGN_IN_METHOD=rc.PHONE_SIGN_IN_METHOD,Gu.PROVIDER_ID=rc.PROVIDER_ID;const sI=J;class aI{constructor(l,u,m=xe.Z.app()){var _;sI(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new uv(m.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lI(f){f.INTERNAL.registerComponent(new Rn.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new qu(u,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:z_,FacebookAuthProvider:fE,GithubAuthProvider:Le,GoogleAuthProvider:Vi,OAuthProvider:Qa,SAMLAuthProvider:am,PhoneAuthProvider:Gu,PhoneMultiFactorGenerator:Pu,RecaptchaVerifier:aI,TwitterAuthProvider:ue,Auth:qu,AuthCredential:Xo,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.8")}(xe.Z)},861:(zo,ui,Ye)=>{function I(z,$e,En,Xe,Rn,Ii,Mt){try{var te=z[Ii](Mt),ae=te.value}catch(Te){return void En(Te)}te.done?$e(ae):Promise.resolve(ae).then(Xe,Rn)}function xe(z){return function(){var $e=this,En=arguments;return new Promise(function(Xe,Rn){var Ii=z.apply($e,En);function Mt(ae){I(Ii,Xe,Rn,Mt,te,"next",ae)}function te(ae){I(Ii,Xe,Rn,Mt,te,"throw",ae)}Mt(void 0)})}}Ye.d(ui,{Z:()=>xe})},582:(zo,ui,Ye)=>{function $e(L,U){var Q={};for(var Z in L)Object.prototype.hasOwnProperty.call(L,Z)&&U.indexOf(Z)<0&&(Q[Z]=L[Z]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(Z=Object.getOwnPropertySymbols(L);ie<Z.length;ie++)U.indexOf(Z[ie])<0&&Object.prototype.propertyIsEnumerable.call(L,Z[ie])&&(Q[Z[ie]]=L[Z[ie]])}return Q}function Te(L,U,Q,Z){return new(Q||(Q=Promise))(function(ee,Oe){function ft(xt){try{Re(Z.next(xt))}catch(Mn){Oe(Mn)}}function Pn(xt){try{Re(Z.throw(xt))}catch(Mn){Oe(Mn)}}function Re(xt){xt.done?ee(xt.value):function ie(ee){return ee instanceof Q?ee:new Q(function(Oe){Oe(ee)})}(xt.value).then(ft,Pn)}Re((Z=Z.apply(L,U||[])).next())})}function rn(L){return this instanceof rn?(this.v=L,this):new rn(L)}function It(L,U,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,Z=Q.apply(L,U||[]),ee=[];return ie={},Oe("next"),Oe("throw"),Oe("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function Oe(Pe){Z[Pe]&&(ie[Pe]=function(fi){return new Promise(function($n,ei){ee.push([Pe,fi,$n,ei])>1||ft(Pe,fi)})})}function ft(Pe,fi){try{!function Pn(Pe){Pe.value instanceof rn?Promise.resolve(Pe.value.v).then(Re,xt):Mn(ee[0][2],Pe)}(Z[Pe](fi))}catch($n){Mn(ee[0][3],$n)}}function Re(Pe){ft("next",Pe)}function xt(Pe){ft("throw",Pe)}function Mn(Pe,fi){Pe(fi),ee.shift(),ee.length&&ft(ee[0][0],ee[0][1])}}function Fi(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,U=L[Symbol.asyncIterator];return U?U.call(L):(L=function kt(L){var U="function"==typeof Symbol&&Symbol.iterator,Q=U&&L[U],Z=0;if(Q)return Q.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&Z>=L.length&&(L=void 0),{value:L&&L[Z++],done:!L}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}(L),Q={},Z("next"),Z("throw"),Z("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function Z(ee){Q[ee]=L[ee]&&function(Oe){return new Promise(function(ft,Pn){!function ie(ee,Oe,ft,Pn){Promise.resolve(Pn).then(function(Re){ee({value:Re,done:ft})},Oe)}(ft,Pn,(Oe=L[ee](Oe)).done,Oe.value)})}}}Ye.d(ui,{FC:()=>It,KL:()=>Fi,_T:()=>$e,mG:()=>Te,qq:()=>rn}),"function"==typeof SuppressedError&&SuppressedError}},zo=>{zo(zo.s=932)}]);
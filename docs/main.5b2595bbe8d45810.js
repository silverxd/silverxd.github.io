"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:(Ho,mi,Je)=>{Je.d(mi,{BH:()=>Vt,G6:()=>Lr,L:()=>Ft,LL:()=>J,Pz:()=>Dt,Sg:()=>Bi,UG:()=>ee,ZB:()=>Te,ZR:()=>ne,aH:()=>sn,b$:()=>Fr,eu:()=>z,hl:()=>B,jU:()=>xn,m9:()=>Il,ne:()=>Wo,pd:()=>wl,r3:()=>oi,ru:()=>Cn,tV:()=>te,uI:()=>pi,vZ:()=>qo,w1:()=>_o,xO:()=>Ga,xb:()=>mr,z$:()=>ht,zd:()=>gr});const We=function(D){const C=[];let T=0;for(let Z=0;Z<D.length;Z++){let F=D.charCodeAt(Z);F<128?C[T++]=F:F<2048?(C[T++]=F>>6|192,C[T++]=63&F|128):55296==(64512&F)&&Z+1<D.length&&56320==(64512&D.charCodeAt(Z+1))?(F=65536+((1023&F)<<10)+(1023&D.charCodeAt(++Z)),C[T++]=F>>18|240,C[T++]=F>>12&63|128,C[T++]=F>>6&63|128,C[T++]=63&F|128):(C[T++]=F>>12|224,C[T++]=F>>6&63|128,C[T++]=63&F|128)}return C},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,C){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let F=0;F<D.length;F+=3){const de=D[F],be=F+1<D.length,ft=be?D[F+1]:0,_e=F+2<D.length,Zt=_e?D[F+2]:0;let Ui=(15&ft)<<2|Zt>>6,bo=63&Zt;_e||(bo=64,be||(Ui=64)),Z.push(T[de>>2],T[(3&de)<<4|ft>>4],T[Ui],T[bo])}return Z.join("")},encodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(D):this.encodeByteArray(We(D),C)},decodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(D):function(D){const C=[];let T=0,Z=0;for(;T<D.length;){const F=D[T++];if(F<128)C[Z++]=String.fromCharCode(F);else if(F>191&&F<224){const de=D[T++];C[Z++]=String.fromCharCode((31&F)<<6|63&de)}else if(F>239&&F<365){const _e=((7&F)<<18|(63&D[T++])<<12|(63&D[T++])<<6|63&D[T++])-65536;C[Z++]=String.fromCharCode(55296+(_e>>10)),C[Z++]=String.fromCharCode(56320+(1023&_e))}else{const de=D[T++],be=D[T++];C[Z++]=String.fromCharCode((15&F)<<12|(63&de)<<6|63&be)}}return C.join("")}(this.decodeStringToByteArray(D,C))},decodeStringToByteArray(D,C){this.init_();const T=C?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let F=0;F<D.length;){const de=T[D.charAt(F++)],ft=F<D.length?T[D.charAt(F)]:0;++F;const Zt=F<D.length?T[D.charAt(F)]:64;++F;const at=F<D.length?T[D.charAt(F)]:64;if(++F,null==de||null==ft||null==Zt||null==at)throw new Vn;Z.push(de<<2|ft>>4),64!==Zt&&(Z.push(ft<<4&240|Zt>>2),64!==at&&Z.push(Zt<<6&192|at))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class Vn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(D){return function(D){const C=We(D);return et.encodeByteArray(C,!0)}(D).replace(/\./g,"")},te=function(D){try{return et.decodeString(D,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function Te(D,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return C}for(const T in C)!C.hasOwnProperty(T)||!st(T)||(D[T]=Te(D[T],C[T]));return D}function st(D){return"__proto__"!==D}const ut=()=>{try{return function Tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=D&&te(D[1]);return C&&JSON.parse(C)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},sn=()=>{var D;return null===(D=ut())||void 0===D?void 0:D.config},Dt=D=>{var C;return null===(C=ut())||void 0===C?void 0:C[`_${D}`]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,T)=>{this.resolve=C,this.reject=T})}wrapCallback(C){return(T,Z)=>{T?this.reject(T):this.resolve(Z),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(T):C(T,Z))}}}function Bi(D,C){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=C||"demo-project",F=D.iat||0,de=D.sub||D.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const be=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:F,exp:F+3600,auth_time:F,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},D);return[Ft(JSON.stringify({alg:"none",type:"JWT"})),Ft(JSON.stringify(be)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function ee(){var D;const C=null===(D=ut())||void 0===D?void 0:D.forceEnvironment;if("node"===C)return!0;if("browser"===C)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xn(){return"object"==typeof self&&self.self===self}function Cn(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Fr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _o(){const D=ht();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Lr(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){try{return"object"==typeof indexedDB}catch{return!1}}function z(){return new Promise((D,C)=>{try{let T=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(Z);F.onsuccess=()=>{F.result.close(),T||self.indexedDB.deleteDatabase(Z),D(!0)},F.onupgradeneeded=()=>{T=!1},F.onerror=()=>{var de;C((null===(de=F.error)||void 0===de?void 0:de.message)||"")}}catch(T){C(T)}})}class ne extends Error{constructor(C,T,Z){super(T),this.code=C,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(C,T,Z){this.service=C,this.serviceName=T,this.errors=Z}create(C,...T){const Z=T[0]||{},F=`${this.service}/${C}`,de=this.errors[C],be=de?function Ue(D,C){return D.replace(_t,(T,Z)=>{const F=C[Z];return null!=F?String(F):`<${Z}?>`})}(de,Z):"Error";return new ne(F,`${this.serviceName}: ${be} (${F}).`,Z)}}const _t=/\{\$([^}]+)}/g;function oi(D,C){return Object.prototype.hasOwnProperty.call(D,C)}function mr(D){for(const C in D)if(Object.prototype.hasOwnProperty.call(D,C))return!1;return!0}function qo(D,C){if(D===C)return!0;const T=Object.keys(D),Z=Object.keys(C);for(const F of T){if(!Z.includes(F))return!1;const de=D[F],be=C[F];if(pr(de)&&pr(be)){if(!qo(de,be))return!1}else if(de!==be)return!1}for(const F of Z)if(!T.includes(F))return!1;return!0}function pr(D){return null!==D&&"object"==typeof D}function Ga(D){const C=[];for(const[T,Z]of Object.entries(D))Array.isArray(Z)?Z.forEach(F=>{C.push(encodeURIComponent(T)+"="+encodeURIComponent(F))}):C.push(encodeURIComponent(T)+"="+encodeURIComponent(Z));return C.length?"&"+C.join("&"):""}function gr(D){const C={};return D.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[F,de]=Z.split("=");C[decodeURIComponent(F)]=decodeURIComponent(de)}}),C}function wl(D){const C=D.indexOf("?");if(!C)return"";const T=D.indexOf("#",C);return D.substring(C,T>0?T:void 0)}function Wo(D,C){const T=new vo(D,C);return T.subscribe.bind(T)}class vo{constructor(C,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{C(this)}).catch(Z=>{this.error(Z)})}next(C){this.forEachObserver(T=>{T.next(C)})}error(C){this.forEachObserver(T=>{T.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,T,Z){let F;if(void 0===C&&void 0===T&&void 0===Z)throw new Error("Missing Observer.");F=function yo(D,C){if("object"!=typeof D||null===D)return!1;for(const T of C)if(T in D&&"function"==typeof D[T])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:T,complete:Z},void 0===F.next&&(F.next=bs),void 0===F.error&&(F.error=bs),void 0===F.complete&&(F.complete=bs);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),de}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,C)}sendOne(C,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{T(this.observers[C])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bs(){}function Il(D){return D&&D._delegate?D._delegate:D}},958:(Ho,mi,Je)=>{let Ce=null,We=1;function et(n){const e=Ce;return Ce=n,e}function st(n){if((!Vt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==We)){if(!n.producerMustRecompute(n)&&!Kn(n))return n.dirty=!1,void(n.lastCleanEpoch=We);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=We}}function Kn(n){Bi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(st(t),i!==t.version))return!0}return!1}function Dt(n,e){if(function ht(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Bi(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Dt(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Bi(r),r.producerIndexOfThis[i]=e}}function Vt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let _o=null;function Fe(n){return"function"==typeof n}function gi(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Qn=gi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function oi(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Fe(i))try{i()}catch(o){e=o instanceof Qn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{qo(o)}catch(s){e=e??[],s instanceof Qn?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Qn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qo(e);else{if(e instanceof Rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oi(t,e)}remove(e){const{_finalizers:t}=this;t&&oi(t,e),e instanceof Rt&&e._removeParent(this)}}Rt.EMPTY=(()=>{const n=new Rt;return n.closed=!0,n})();const mr=Rt.EMPTY;function bl(n){return n instanceof Rt||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function qo(n){Fe(n)?n():n.unsubscribe()}const pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Go={setTimeout(n,e,...t){const{delegate:i}=Go;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Go;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ga(n){Go.setTimeout(()=>{const{onUnhandledError:e}=pr;if(!e)throw n;e(n)})}function gr(){}const wl=vo("C",void 0,void 0);function vo(n,e,t){return{kind:n,value:e,error:t}}let Ji=null;function yo(n){if(pr.useDeprecatedSynchronousErrorHandling){const e=!Ji;if(e&&(Ji={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ji;if(Ji=null,t)throw i}}else n()}class ws extends Rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bl(e)&&e.add(this)):this.destination=Za}static create(e,t,i){return new Ci(e,t,i)}next(e){this.isStopped?Wa(function Wo(n){return vo("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Wa(function _r(n){return vo("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wa(wl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Zo=Function.prototype.bind;function Ko(n,e){return Zo.call(n,e)}class Vr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Qo(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Qo(i)}else Qo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qo(t)}}}class Ci extends ws{constructor(e,t,i){let r;if(super(),Fe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&pr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ko(e.next,o),error:e.error&&Ko(e.error,o),complete:e.complete&&Ko(e.complete,o)}):r=e}this.destination=new Vr(r)}}function Qo(n){pr.useDeprecatedSynchronousErrorHandling?function bs(n){pr.useDeprecatedSynchronousErrorHandling&&Ji&&(Ji.errorThrown=!0,Ji.error=n)}(n):Ga(n)}function Wa(n,e){const{onStoppedNotification:t}=pr;t&&Go.setTimeout(()=>t(n,e))}const Za={closed:!0,next:gr,error:function El(n){throw n},complete:gr},Yr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ti(n){return n}function oa(n){return 0===n.length?Ti:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let It=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function D(n){return n&&n instanceof ws||function Il(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&bl(n)}(t)?t:new Ci(t,i,r);return yo(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Ka(i))((r,o)=>{const s=new Ci({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Yr](){return this}pipe(...t){return oa(t)(this)}toPromise(t){return new(t=Ka(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Ka(n){var e;return null!==(e=n??pr.Promise)&&void 0!==e?e:Promise}const C=gi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let T=(()=>{class n extends It{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Z(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new C}next(t){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?mr:(this.currentObservers=null,o.push(t),new Rt(()=>{this.currentObservers=null,oi(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new It;return t.source=this,t}}return n.create=(e,t)=>new Z(e,t),n})();class Z extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:mr}}function F(n){return Fe(n?.lift)}function de(n){return e=>{if(F(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,i,r){return new ft(n,e,t,i,r)}class ft extends ws{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(n,e){return de((t,i)=>{let r=0;t.subscribe(be(i,o=>{i.next(n.call(e,o,r++))}))})}var Zt=Je(582);const Un=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function at(n){return Fe(n?.then)}function Ui(n){return Fe(n[Yr])}function bo(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function Yo(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $=function uu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function L(n){return Fe(n?.[$])}function oe(n){return(0,Zt.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Zt.qq)(t.read());if(r)return yield(0,Zt.qq)(void 0);yield yield(0,Zt.qq)(i)}}finally{t.releaseLock()}})}function ke(n){return Fe(n?.getReader)}function De(n){if(n instanceof It)return n;if(null!=n){if(Ui(n))return function mt(n){return new It(e=>{const t=n[Yr]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Un(n))return function At(n){return new It(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(at(n))return function _i(n){return new It(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ga)})}(n);if(bo(n))return Xo(n);if(L(n))return function On(n){return new It(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ke(n))return function Qa(n){return Xo(oe(n))}(n)}throw Yo(n)}function Xo(n){return new It(e=>{(function ME(n,e){var t,i,r,o;return(0,Zt.mG)(this,void 0,void 0,function*(){try{for(t=(0,Zt.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Jo(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function vi(n,e,t=1/0){return Fe(e)?vi((i,r)=>_e((o,s)=>e(i,o,r,s))(De(n(i,r))),t):("number"==typeof e&&(t=e),de((i,r)=>function Kf(n,e,t,i,r,o,s,a){const c=[];let d=0,h=0,p=!1;const g=()=>{p&&!c.length&&!d&&e.complete()},v=w=>d<i?b(w):c.push(w),b=w=>{o&&e.next(w),d++;let E=!1;De(t(w,h++)).subscribe(be(e,k=>{r?.(k),o?v(k):e.next(k)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;c.length&&d<i;){const k=c.shift();s?Jo(e,s,()=>b(k)):b(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(be(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Ya(n=1/0){return vi(Ti,n)}const wo=new It(n=>n.complete());function J_(n){return n&&Fe(n.schedule)}function xl(n){return n[n.length-1]}function Qf(n){return Fe(xl(n))?n.pop():void 0}function Cl(n){return J_(xl(n))?n.pop():void 0}function sa(n,e=0){return de((t,i)=>{t.subscribe(be(i,r=>Jo(i,n,()=>i.next(r),e),()=>Jo(i,n,()=>i.complete(),e),r=>Jo(i,n,()=>i.error(r),e)))})}function aa(n,e=0){return de((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function tv(n,e){if(!n)throw new Error("Iterable cannot be null");return new It(t=>{Jo(t,e,()=>{const i=n[Symbol.asyncIterator]();Jo(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Kt(n,e){return e?function PE(n,e){if(null!=n){if(Ui(n))return function ev(n,e){return De(n).pipe(aa(e),sa(e))}(n,e);if(Un(n))return function Tl(n,e){return new It(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(at(n))return function Yf(n,e){return De(n).pipe(aa(e),sa(e))}(n,e);if(bo(n))return tv(n,e);if(L(n))return function Xf(n,e){return new It(t=>{let i;return Jo(t,e,()=>{i=n[$](),Jo(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Fe(i?.return)&&i.return()})}(n,e);if(ke(n))return function Jf(n,e){return tv(oe(n),e)}(n,e)}throw Yo(n)}(n,e):De(n)}function Xa(...n){const e=Cl(n),t=function RE(n,e){return"number"==typeof xl(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?De(i[0]):Ya(t)(Kt(i,e)):wo}class er extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Ee(...n){return Kt(n,Cl(n))}function Dl(n={}){const{connector:e=(()=>new T),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return de((w,E)=>{d++,!p&&!h&&g();const k=c=c??e();E.add(()=>{d--,0===d&&!p&&!h&&(a=em(b,r))}),k.subscribe(E),!s&&d>0&&(s=new Ci({next:S=>k.next(S),error:S=>{p=!0,g(),a=em(v,t,S),k.error(S)},complete:()=>{h=!0,g(),a=em(v,i),k.complete()}}),De(w).subscribe(s))})(o)}}function em(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return De(e(...t)).subscribe(i)}function Bt(n,e){return de((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(be(i,c=>{r?.unsubscribe();let d=0;const h=o++;De(n(c,h)).subscribe(r=be(i,p=>i.next(e?e(c,p,h,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Sl(n,e=Ti){return n=n??tm,de((t,i)=>{let r,o=!0;t.subscribe(be(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function tm(n,e){return n===e}function Ut(n){for(let e in n)if(n[e]===Ut)return e;throw Error("Could not find renamed property on target object.")}function Ja(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Al(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const nm=Ut({__forward_ref__:Ut});function jt(n){return n.__forward_ref__=jt,n.toString=function(){return jn(this())},n}function je(n){return ca(n)?n():n}function ca(n){return"function"==typeof n&&n.hasOwnProperty(nm)&&n.__forward_ref__===jt}function kl(n){return n&&!!n.\u0275providers}const hu="https://g.co/ng/security#xss";class j extends Error{constructor(e,t){super(function Is(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const Ml=Ut({\u0275cmp:Ut}),Rl=Ut({\u0275dir:Ut}),im=Ut({\u0275pipe:Ut}),fu=Ut({\u0275mod:Ut}),es=Ut({\u0275fac:Ut}),la=Ut({__NG_ELEMENT_ID__:Ut}),nv=Ut({__NG_ENV_ID__:Ut});function Ze(n){return"string"==typeof n?n:null==n?"":String(n)}function Pl(n,e){throw new j(-201,!1)}function Tn(n,e){null==n&&function Le(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function da(n){return om(n,Fl)||om(n,pu)}function om(n,e){return n.hasOwnProperty(e)?n[e]:null}function ji(n){return n&&(n.hasOwnProperty(am)||n.hasOwnProperty(gu))?n[am]:null}const Fl=Ut({\u0275prov:Ut}),am=Ut({\u0275inj:Ut}),pu=Ut({ngInjectableDef:Ut}),gu=Ut({ngInjectorDef:Ut});var pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pt||{});let _u;function cv(){return _u}function Di(n){const e=_u;return _u=n,e}function vu(n,e,t){const i=da(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&pt.Optional?null:void 0!==e?e:void Pl(jn(n))}const zt=globalThis;class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ua={},ha="__NG_DI_FLAG__",tc="ngTempTokenPath",bu=/\n/gm,wu="__source";let nc;function Ts(n){const e=nc;return nc=n,e}function um(n,e=pt.Default){if(void 0===nc)throw new j(-203,!1);return null===nc?vu(n,void 0,e):nc.get(n,e&pt.Optional?null:void 0,e)}function P(n,e=pt.Default){return(cv()||um)(je(n),e)}function le(n,e=pt.Default){return P(n,ic(e))}function ic(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function hm(n){const e=[];for(let t=0;t<n.length;t++){const i=je(n[t]);if(Array.isArray(i)){if(0===i.length)throw new j(900,!1);let r,o=pt.Default;for(let s=0;s<i.length;s++){const a=i[s],c=HE(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(P(r,o))}else e.push(P(i))}return e}function fa(n,e){return n[ha]=e,n.prototype[ha]=e,n}function HE(n){return n[ha]}function ns(n){return{toString:n}.toString()}var rc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rc||{}),Xr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Xr||{});const Eo={},xt=[];function mv(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function jl(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Iu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function pv(n){return 3===n||4===n||6===n}function Iu(n){return 64===n.charCodeAt(0)}function zl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||xu(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function xu(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const gv="ng-template";function mm(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==mv(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function _v(n){return 4===n.type&&n.value!==gv}function pm(n,e,t){return e===(4!==n.type||t?n.value:gv)}function qE(n,e,t){let i=4;const r=n.attrs||[],o=function gm(n){for(let e=0;e<n.length;e++)if(pv(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!pm(n,c,t)||""===c&&1===e.length){if(yr(i))return!1;s=!0}}else{const d=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!mm(n.attrs,d,t)){if(yr(i))return!1;s=!0}continue}const p=GE(8&i?"class":c,r,_v(n),t);if(-1===p){if(yr(i))return!1;s=!0;continue}if(""!==d){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==mv(v,d,0)||2&i&&d!==g){if(yr(i))return!1;s=!0}}}}else{if(!s&&!yr(i)&&!yr(c))return!1;if(s&&yr(c))continue;s=!1,i=c|1&i}}return yr(i)||s}function yr(n){return 0==(1&n)}function GE(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function WE(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function vv(n,e,t=!1){for(let i=0;i<e.length;i++)if(qE(n,e[i],t))return!0;return!1}function oc(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function _m(n,e){return n?":not("+e.trim()+")":e}function ZE(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!yr(s)&&(e+=_m(o,r),r=""),i=s,o=o||!yr(i);t++}return""!==r&&(e+=_m(o,r)),e}function Dn(n){return ns(()=>{const e=JE(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xr.Emulated,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null,id:""};eI(t);const i=n.dependencies;return t.directiveDefs=sc(i,!1),t.pipeDefs=sc(i,!0),t.id=function vm(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function YE(n){return ct(n)||si(n)}function kM(n){return null!==n}function Ht(n){return ns(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function XE(n,e){if(null==n)return Eo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Ae(n){return ns(()=>{const e=JE(n);return eI(e),e})}function ct(n){return n[Ml]||null}function si(n){return n[Rl]||null}function Si(n){return n[im]||null}function zi(n,e){const t=n[fu]||null;if(!t&&!0===e)throw new Error(`Type ${jn(n)} does not have '\u0275mod' property.`);return t}function JE(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Eo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XE(n.inputs,e),outputs:XE(n.outputs),debugInfo:null}}function eI(n){n.features?.forEach(e=>e(n))}function sc(n,e){if(!n)return null;const t=e?Si:YE;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(kM)}const Sn=0,ue=1,Ge=2,gn=3,Jr=4,Ai=5,Br=6,Ds=7,en=8,ai=9,ga=10,Ye=11,Hl=12,bv=13,$l=14,tn=15,Cu=16,br=17,Io=18,ql=19,ac=20,Ss=21,_n=22,_a=23,$e=25,ym=1,Tu=2,bm=6,xo=7,cc=9,An=11;function Nn(n){return Array.isArray(n)&&"object"==typeof n[ym]}function Fn(n){return Array.isArray(n)&&!0===n[ym]}function wm(n){return 0!=(4&n.flags)}function is(n){return n.componentOffset>-1}function Wl(n){return 1==(1&n.flags)}function wr(n){return!!n.template}function Em(n){return 0!=(512&n[Ge])}function va(n,e){return n.hasOwnProperty(es)?n[es]:null}class Tm{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Er(){return Du}function Du(n){return n.type.prototype.ngOnChanges&&(n.setInput=Dm),nI}function nI(){const n=Su(this),e=n?.current;if(e){const t=n.previous;if(t===Eo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Dm(n,e,t,i){const r=this.declaredInputs[t],o=Su(n)||function Au(n,e){return n[Tv]=e}(n,{previous:Eo,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new Tm(c&&c.currentValue,e,a===Eo),n[i]=e}Er.ngInherit=!0;const Tv="__ngSimpleChanges__";function Su(n){return n[Tv]||null}const Ur=function(n,e,t){};function Gt(n){for(;Array.isArray(n);)n=n[Sn];return n}function Kl(n,e){return Gt(e[n])}function Hi(n,e){return Gt(e[n.index])}function dc(n,e){return n.data[e]}function Ir(n,e){const t=e[n];return Nn(t)?t:t[Sn]}function Mm(n){return 128==(128&n[Ge])}function Co(n,e){return null==e?null:n[e]}function ku(n){n[br]=0}function Pm(n){1024&n[Ge]||(n[Ge]|=1024,Mm(n)&&Mu(n))}function hc(n){9216&n[Ge]&&Mu(n)}function Mu(n){let e=n[gn];for(;null!==e&&!(Fn(e)&&e[bm]||Nn(e)&&8192&e[Ge]);){if(Fn(e))e[bm]=!0;else if(e[Ge]|=8192,!Mm(e))break;e=e[gn]}}function Ru(n,e){if(256==(256&n[Ge]))throw new j(911,!1);null===n[Ss]&&(n[Ss]=[]),n[Ss].push(e)}const qe={lFrame:Bv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kv(){return qe.bindingsEnabled}function fc(){return null!==qe.skipHydrationRootTNode}function q(){return qe.lFrame.lView}function gt(){return qe.lFrame.tView}function lt(n){return qe.lFrame.contextLView=n,n[en]}function rt(n){return qe.lFrame.contextLView=null,n}function Ot(){let n=Ou();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ou(){return qe.lFrame.currentTNode}function jr(n,e){const t=qe.lFrame;t.currentTNode=n,t.isParent=e}function Lm(){return qe.lFrame.isParent}function Nu(){qe.lFrame.isParent=!1}function ki(){const n=qe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function To(){return qe.lFrame.bindingIndex++}function rs(n){const e=qe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function cI(n,e){const t=qe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Bm(e)}function Bm(n){qe.lFrame.currentDirectiveIndex=n}function pc(n){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Fv(){return qe.lFrame.currentQueryIndex}function Um(n){qe.lFrame.currentQueryIndex=n}function lI(n){const e=n[ue];return 2===e.type?e.declTNode:1===e.type?n[Ai]:null}function Lv(n,e,t){if(t&pt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&pt.Host||(r=lI(o),null===r||(o=o[$l],10&r.type))););if(null===r)return!1;e=r,n=o}const i=qe.lFrame=Vv();return i.currentTNode=e,i.lView=n,!0}function jm(n){const e=Vv(),t=n[ue];qe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Vv(){const n=qe.lFrame,e=null===n?null:n.child;return null===e?Bv(n):e}function Bv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Uv(){const n=qe.lFrame;return qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Fu=Uv;function zm(){const n=Uv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $i(){return qe.lFrame.selectedIndex}function ya(n){qe.lFrame.selectedIndex=n}function an(){const n=qe.lFrame;return dc(n.tView,n.selectedIndex)}let Hv=!0;function gc(){return Hv}function Do(n){Hv=n}function _c(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Lu(n,e,t){Vu(n,e,3,t)}function Yl(n,e,t,i){(3&n[Ge])===t&&Vu(n,e,t,i)}function $m(n,e){let t=n[Ge];(3&t)===e&&(t&=16383,t+=1,n[Ge]=t)}function Vu(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[br]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[br]+=65536),(a<o||-1==o)&&(GM(n,t,e,c),n[br]=(4294901760&n[br])+c+2),c++}function $v(n,e){Ur(4,n,e);const t=et(null);try{e.call(n)}finally{et(t),Ur(5,n,e)}}function GM(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ge]>>14<n[br]>>16&&(3&n[Ge])===e&&(n[Ge]+=16384,$v(a,o)):$v(a,o)}const Rs=-1;class vc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function qm(n){return n!==Rs}function yc(n){return 32767&n}function ju(n,e){let t=function gI(n){return n>>16}(n),i=e;for(;t>0;)i=i[$l],t--;return i}let os=!0;function zu(n){const e=os;return os=n,e}const Hu=255,Gv=5;let Gm=0;const So={};function bc(n,e){const t=Wv(n,e);if(-1!==t)return t;const i=e[ue];i.firstCreatePass&&(n.injectorIndex=e.length,Wm(i.data,n),Wm(e,null),Wm(i.blueprint,null));const r=wc(n,e),o=n.injectorIndex;if(qm(r)){const s=yc(r),a=ju(r,e),c=a[ue].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function Wm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Wv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function wc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Xv(r),null===i)return Rs;if(t++,r=r[$l],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Rs}function Zm(n,e,t){!function _I(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(la)&&(i=t[la]),null==i&&(i=t[la]=Gm++);const r=i&Hu;e.data[n+(r>>Gv)]|=1<<r}(n,e,t)}function Zv(n,e,t){if(t&pt.Optional||void 0!==n)return n;Pl()}function Kv(n,e,t,i){if(t&pt.Optional&&void 0===i&&(i=null),!(t&(pt.Self|pt.Host))){const r=n[ai],o=Di(void 0);try{return r?r.get(e,i,t&pt.Optional):vu(e,i,t&pt.Optional)}finally{Di(o)}}return Zv(i,0,t)}function Qv(n,e,t,i=pt.Default,r){if(null!==n){if(2048&e[Ge]&&!(i&pt.Self)){const s=function bI(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ge]&&!(512&s[Ge]);){const a=Km(o,s,t,i|pt.Self,So);if(a!==So)return a;let c=o.parent;if(!c){const d=s[ac];if(d){const h=d.get(t,So,i);if(h!==So)return h}c=Xv(s),s=s[$l]}o=c}return r}(n,e,t,i,So);if(s!==So)return s}const o=Km(n,e,t,i,So);if(o!==So)return o}return Kv(e,t,i,r)}function Km(n,e,t,i,r){const o=function Ym(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(la)?n[la]:void 0;return"number"==typeof e?e>=0?e&Hu:yI:e}(t);if("function"==typeof o){if(!Lv(e,n,i))return i&pt.Host?Zv(r,0,i):Kv(e,t,i,r);try{let s;if(s=o(i),null!=s||i&pt.Optional)return s;Pl()}finally{Fu()}}else if("number"==typeof o){let s=null,a=Wv(n,e),c=Rs,d=i&pt.Host?e[tn][Ai]:null;for((-1===a||i&pt.SkipSelf)&&(c=-1===a?wc(n,e):e[a+8],c!==Rs&&Yv(i,!1)?(s=e[ue],a=yc(c),e=ju(c,e)):a=-1);-1!==a;){const h=e[ue];if(qu(o,a,h.data)){const p=Qm(a,e,t,s,i,d);if(p!==So)return p}c=e[a+8],c!==Rs&&Yv(i,e[ue].data[a+8]===d)&&qu(o,a,e)?(s=h,a=yc(c),e=ju(c,e)):a=-1}}return r}function Qm(n,e,t,i,r,o){const s=e[ue],a=s.data[n+8],h=$u(a,s,t,null==i?is(a)&&os:i!=s&&0!=(3&a.type),r&pt.Host&&o===a);return null!==h?ba(e,s,h,a):So}function $u(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&wr(v)&&v.type===t)return c}return null}function ba(n,e,t,i){let r=n[t];const o=e.data;if(function Bu(n){return n instanceof vc}(r)){const s=r;s.resolving&&function OE(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new j(-200,`Circular dependency in DI detected for ${n}${t}`)}(function yt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ze(n)}(o[t]));const a=zu(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Di(s.injectImpl):null;Lv(n,i,pt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function fI(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Du(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&Di(d),zu(a),s.resolving=!1,Fu()}}return r}function qu(n,e,t){return!!(t[e+(n>>Gv)]&1<<n)}function Yv(n,e){return!(n&pt.Self||n&pt.Host&&e)}class Yn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Qv(this._tNode,this._lView,e,ic(i),t)}}function yI(){return new Yn(Ot(),q())}function kn(n){return ns(()=>{const e=n.prototype.constructor,t=e[es]||Gu(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[es]||Gu(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Gu(n){return ca(n)?()=>{const e=Gu(je(n));return e&&e()}:va(n)}function Xv(n){const e=n[ue],t=e.type;return 2===t?e.declTNode:1===t?n[Ai]:null}const Ao="__parameters__";function Cc(n,e,t){return ns(()=>{const i=function Jm(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,d,h){const p=c.hasOwnProperty(Ao)?c[Ao]:Object.defineProperty(c,Ao,{value:[]})[Ao];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ea(n,e){n.forEach(t=>Array.isArray(t)?Ea(t,e):e(t))}function ny(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function to(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Dc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function nn(n,e,t){let i=Ps(n,e);return i>=0?n[1|i]=t:(i=~i,function iy(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Jl(n,e){const t=Ps(n,e);if(t>=0)return n[1|t]}function Ps(n,e){return function ko(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const f=fa(Cc("Optional"),8),u=fa(Cc("SkipSelf"),4),Ia=new X("ENVIRONMENT_INITIALIZER"),op=new X("INJECTOR",-1),nd=new X("INJECTOR_DEF_TYPES");class id{get(e,t=ua){if(t===ua){const i=new Error(`NullInjectorError: No provider for ${jn(e)}!`);throw i.name="NullInjectorError",i}return t}}function ap(...n){return{\u0275providers:dy(0,n),\u0275fromNgModule:!0}}function dy(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Ea(e,s=>{const a=s;uy(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&eR(r,o),t}function eR(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];AI(r,o=>{e(o,i)})}}function uy(n,e,t,i){if(!(n=je(n)))return!1;let r=null,o=ji(n);const s=!o&&ct(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=ji(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)uy(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{Ea(o.imports,h=>{uy(h,e,t,i)&&(d||=[],d.push(h))})}finally{}void 0!==d&&eR(d,e)}if(!a){const d=va(r)||(()=>new r);e({provide:r,useFactory:d,deps:xt},r),e({provide:nd,useValue:r,multi:!0},r),e({provide:Ia,useValue:()=>P(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const d=n;AI(c,h=>{e(h,d)})}}}return r!==n&&void 0!==n.providers}function AI(n,e){for(let t of n)kl(t)&&(t=t.\u0275providers),Array.isArray(t)?AI(t,e):e(t)}const b$=Ut({provide:String,useValue:Ut});function kI(n){return null!==n&&"object"==typeof n&&b$ in n}function rd(n){return"function"==typeof n}const MI=new X("Set Injector scope."),hy={},E$={};let RI;function fy(){return void 0===RI&&(RI=new id),RI}class no{}class od extends no{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,OI(e,s=>this.processProvider(s)),this.records.set(op,Ku(void 0,this)),r.has("environment")&&this.records.set(no,Ku(void 0,this));const o=this.records.get(MI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nd,xt,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ts(this),i=Di(void 0);try{return e()}finally{Ts(t),Di(i)}}get(e,t=ua,i=pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nv))return e[nv](this);i=ic(i);const o=Ts(this),s=Di(void 0);try{if(!(i&pt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function D$(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&da(e);c=d&&this.injectableDefInScope(d)?Ku(PI(e),hy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&pt.Self?fy():this.parent).get(e,t=i&pt.Optional&&t===ua?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[tc]=a[tc]||[]).unshift(jn(e)),o)throw a;return function fm(n,e,t,i){const r=n[tc];throw e[wu]&&r.unshift(e[wu]),n.message=function $E(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=jn(e);if(Array.isArray(e))r=e.map(jn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):jn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(bu,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[tc]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Di(s),Ts(o)}}resolveInjectorInitializers(){const e=Ts(this),t=Di(void 0);try{const r=this.get(Ia,xt,pt.Self);for(const o of r)o()}finally{Ts(e),Di(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(jn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){let t=rd(e=je(e))?e:je(e&&e.provide);const i=function x$(n){return kI(n)?Ku(void 0,n.useValue):Ku(iR(n),hy)}(e);if(rd(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ku(void 0,hy,!0),r.factory=()=>hm(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===hy&&(t.value=E$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function T$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=je(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function PI(n){const e=da(n),t=null!==e?e.factory:va(n);if(null!==t)return t;if(n instanceof X)throw new j(204,!1);if(n instanceof Function)return function I$(n){const e=n.length;if(e>0)throw Dc(e,"?"),new j(204,!1);const t=function sm(n){return n&&(n[Fl]||n[pu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new j(204,!1)}function iR(n,e,t){let i;if(rd(n)){const r=je(n);return va(r)||PI(r)}if(kI(n))i=()=>je(n.useValue);else if(function nR(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...hm(n.deps||[]));else if(function tR(n){return!(!n||!n.useExisting)}(n))i=()=>P(je(n.useExisting));else{const r=je(n&&(n.useClass||n.provide));if(!function C$(n){return!!n.deps}(n))return va(r)||PI(r);i=()=>new r(...hm(n.deps))}return i}function Ku(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function OI(n,e){for(const t of n)Array.isArray(t)?OI(t,e):t&&kl(t)?OI(t.\u0275providers,e):e(t)}function aR(n,e=null,t=null,i){const r=cR(n,e,t,i);return r.resolveInjectorInitializers(),r}function cR(n,e=null,t=null,i,r=new Set){const o=[t||xt,ap(n)];return i=i||("object"==typeof n?void 0:jn(n)),new od(o,e||fy(),i||null,r)}let LI,qi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=ua;static#t=this.NULL=new id;static create(t,i){if(Array.isArray(t))return aR({name:""},i,t,"");{const r=t.name??"";return aR({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ce({token:n,providedIn:"any",factory:()=>P(op)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const py=new X("AppId",{providedIn:"root",factory:()=>L$}),L$="ng",dR=new X("Platform Initializer"),as=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qu=new X("AnimationModuleType"),VI=new X("CSP nonce",{providedIn:"root",factory:()=>function Ac(){if(void 0!==LI)return LI;if(typeof document<"u")return document;throw new j(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function io(n){return n instanceof Function?n():n}function yy(n){return 128==(128&n.flags)}var Rc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Rc||{});const W$=/^>|^->|<!--|-->|--!>|<!-$/g,Z$=/(<|>)/g,K$="\u200b$1\u200b";const HI=new Map;let Q$=0;const qI="__ngContext__";function ir(n,e){Nn(e)?(n[qI]=e[ql],function X$(n){HI.set(n[ql],n)}(e)):n[qI]=e}let GI;function WI(n,e){return GI(n,e)}function hp(n){const e=n[gn];return Fn(e)?e[gn]:e}function SR(n){return kR(n[Hl])}function AR(n){return kR(n[Jr])}function kR(n){for(;null!==n&&!Fn(n);)n=n[Jr];return n}function Xu(n,e,t,i,r){if(null!=i){let o,s=!1;Fn(i)?o=i:Nn(i)&&(s=!0,i=i[Sn]);const a=Gt(i);0===n&&null!==t?null==r?OR(e,t,a):sd(e,t,a,r||null,!0):1===n&&null!==t?sd(e,t,a,r||null,!0):2===n?function Ty(n,e,t){const i=xy(n,e);i&&function v5(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function w5(n,e,t,i,r){const o=t[xo];o!==Gt(t)&&Xu(e,n,i,o,r);for(let a=An;a<t.length;a++){const c=t[a];pp(c[ue],c,n,e,i,o)}}(e,n,o,t,r)}}function ZI(n,e){return n.createComment(function bR(n){return n.replace(W$,e=>e.replace(Z$,K$))}(e))}function Ey(n,e,t){return n.createElement(e,t)}function RR(n,e){const t=n[cc],i=t.indexOf(e);t.splice(i,1)}function fp(n,e){if(n.length<=An)return;const t=An+e,i=n[t];if(i){const r=i[Cu];null!==r&&r!==n&&RR(r,i),e>0&&(n[t-1][Jr]=i[Jr]);const o=to(n,An+e);!function d5(n,e){pp(n,e,e[Ye],2,null,null),e[Sn]=null,e[Ai]=null}(i[ue],i);const s=o[Io];null!==s&&s.detachView(o[ue]),i[gn]=null,i[Jr]=null,i[Ge]&=-129}return i}function Iy(n,e){if(!(256&e[Ge])){const t=e[Ye];e[_a]&&function xi(n){if(Bi(n),Vt(n))for(let e=0;e<n.producerNode.length;e++)Dt(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[_a]),t.destroyNode&&pp(n,e,t,3,null,null),function f5(n){let e=n[Hl];if(!e)return KI(n[ue],n);for(;e;){let t=null;if(Nn(e))t=e[Hl];else{const i=e[An];i&&(t=i)}if(!t){for(;e&&!e[Jr]&&e!==n;)Nn(e)&&KI(e[ue],e),e=e[gn];null===e&&(e=n),Nn(e)&&KI(e[ue],e),t=e&&e[Jr]}e=t}}(e)}}function KI(n,e){if(!(256&e[Ge])){e[Ge]&=-129,e[Ge]|=256,function _5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof vc)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Ur(4,a,c);try{c.call(a)}finally{Ur(5,a,c)}}else{Ur(4,r,o);try{o.call(r)}finally{Ur(5,r,o)}}}}}(n,e),function g5(n,e){const t=n.cleanup,i=e[Ds];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Ds]=null);const r=e[Ss];if(null!==r){e[Ss]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ue].type&&e[Ye].destroy();const t=e[Cu];if(null!==t&&Fn(e[gn])){t!==e[gn]&&RR(t,e);const i=e[Io];null!==i&&i.detachView(n)}!function J$(n){HI.delete(n[ql])}(e)}}function QI(n,e,t){return function PR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Sn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Xr.None||o===Xr.Emulated)return null}return Hi(i,t)}}(n,e.parent,t)}function sd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function OR(n,e,t){n.appendChild(e,t)}function NR(n,e,t,i,r){null!==i?sd(n,e,t,i,r):OR(n,e,t)}function xy(n,e){return n.parentNode(e)}function FR(n,e,t){return VR(n,e,t)}let YI,Sy,VR=function LR(n,e,t){return 40&n.type?Hi(n,t):null};function Cy(n,e,t,i){const r=QI(n,i,e),o=e[Ye],a=FR(i.parent||e[Ai],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)NR(o,r,t[c],a,!1);else NR(o,r,t,a,!1);void 0!==YI&&YI(o,i,e,t,r)}function mp(n,e){if(null!==e){const t=e.type;if(3&t)return Hi(e,n);if(4&t)return XI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return mp(n,i);{const r=n[e.index];return Fn(r)?XI(-1,r):Gt(r)}}if(32&t)return WI(e,n)()||Gt(n[e.index]);{const i=UR(n,e);return null!==i?Array.isArray(i)?i[0]:mp(hp(n[tn]),i):mp(n,e.next)}}return null}function UR(n,e){return null!==e?n[tn][Ai].projection[e.projection]:null}function XI(n,e){const t=An+n+1;if(t<e.length){const i=e[t],r=i[ue].firstChild;if(null!==r)return mp(i,r)}return e[xo]}function JI(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&ir(Gt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)JI(n,e,t.child,i,r,o,!1),Xu(e,n,r,a,o);else if(32&c){const d=WI(t,i);let h;for(;h=d();)Xu(e,n,r,h,o);Xu(e,n,r,a,o)}else 16&c?zR(n,e,i,t,r,o):Xu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function pp(n,e,t,i,r,o){JI(t,i,n.firstChild,e,r,o,!1)}function zR(n,e,t,i,r,o){const s=t[tn],c=s[Ai].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Xu(e,n,r,c[d],o);else{let d=c;const h=s[gn];yy(i)&&(d.flags|=128),JI(n,e,d,h,r,o,!0)}}function HR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $R(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&jl(n,e,i),null!==r&&HR(n,e,r),null!==o&&function I5(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function WR(n){return function tx(){if(void 0===Sy&&(Sy=null,zt.trustedTypes))try{Sy=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sy}()?.createScriptURL(n)||n}class ad{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hu})`}}function ro(n){return n instanceof ad?n.changingThisBreaksApplicationSecurity:n}function Os(n,e){const t=function R5(n){return n instanceof ad&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${hu})`)}return t===e}const j5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Gi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gi||{});function My(n){const e=_p();return e?e.sanitize(Gi.URL,n)||"":Os(n,"URL")?ro(n):function Ay(n){return(n=String(n)).match(j5)?n:"unsafe:"+n}(Ze(n))}function tP(n){const e=_p();if(e)return WR(e.sanitize(Gi.RESOURCE_URL,n)||"");if(Os(n,"ResourceURL"))return WR(ro(n));throw new j(904,!1)}function _p(){const n=q();return n&&n[ga].sanitizer}let iP=(n,e,t)=>null;function hx(n,e,t=!1){return iP(n,e,t)}class a6{}class sP{}class l6{resolveComponentFactory(e){throw function c6(n){const e=Error(`No component factory found for ${jn(n)}.`);return e.ngComponent=n,e}(e)}}let bp=(()=>{class n{static#e=this.NULL=new l6}return n})();function d6(){return nh(Ot(),q())}function nh(n,e){return new Qt(Hi(n,e))}let Qt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=d6}return n})();function u6(n){return n instanceof Qt?n.nativeElement:n}class px{}let Ca=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function h6(){const n=q(),t=Ir(Ot().index,n);return(Nn(t)?t:n)[Ye]}()}return n})(),f6=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();class Pc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cP=new Pc("17.0.2"),gx={};function Ly(n){return!!_x(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _x(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class dP{constructor(){}supports(e){return Ly(e)}create(e){return new v6(e)}}const _6=(n,e)=>e;class v6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<hP(i,r,o)?t:i,a=hP(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,h=c-r;if(d!=h){for(let g=0;g<d;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<d&&(o[g]=v+1)}o[s.previousIndex]=h-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ly(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function g6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new y6(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uP),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class y6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class b6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class uP{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new b6,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hP(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class fP{constructor(){}supports(e){return e instanceof Map||_x(e)}create(){return new w6}}class w6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||_x(e)))throw new j(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new E6(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class E6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mP(){return new Vy([new dP])}let Vy=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:mP});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||mP()),deps:[[n,new u,new f]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new j(901,!1)}}return n})();function pP(){return new wp([new fP])}let wp=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:pP});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||pP()),deps:[[n,new u,new f]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new j(901,!1)}}return n})();function Ep(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Gt(o)),Fn(o)&&gP(o,i);const s=t.type;if(8&s)Ep(n,e,t.child,i);else if(32&s){const a=WI(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=UR(e,t);if(Array.isArray(a))i.push(...a);else{const c=hp(e[tn]);Ep(c[ue],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function gP(n,e){for(let t=An;t<n.length;t++){const i=n[t],r=i[ue].firstChild;null!==r&&Ep(i[ue],i,r,e)}n[xo]!==n[Sn]&&e.push(n[xo])}let _P=[];const D6={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Mu(n.lView)},consumerOnSignalRead(){this.lView[_a]=this}};function vx(n){return n.ngOriginalError}class cs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&vx(e);for(;t&&vx(t);)t=vx(t);return t||null}}const bP=new X("",{providedIn:"root",factory:()=>!1}),nt={};function fe(n){xP(gt(),q(),$i()+n,!1)}function xP(n,e,t,i){if(!i)if(3==(3&e[Ge])){const o=n.preOrderCheckHooks;null!==o&&Lu(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Yl(e,o,0,t)}ya(t)}function R(n,e=pt.Default){const t=q();return null===t?P(n,e):Qv(Ot(),t,je(n),e)}function Uy(n,e,t,i,r,o,s,a,c,d,h){const p=e.blueprint.slice();return p[Sn]=r,p[Ge]=140|i,(null!==d||n&&2048&n[Ge])&&(p[Ge]|=2048),ku(p),p[gn]=p[$l]=n,p[en]=t,p[ga]=s||n&&n[ga],p[Ye]=a||n&&n[Ye],p[ai]=c||n&&n[ai]||null,p[Ai]=o,p[ql]=function Y$(){return Q$++}(),p[Br]=h,p[ac]=d,p[tn]=2==e.type?n[tn]:p,p}function ih(n,e,t,i,r){let o=n.data[e];if(null===o)o=function yx(n,e,t,i,r){const o=Ou(),s=Lm(),c=n.data[e]=function U6(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return fc()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Vm(){return qe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function mc(){const n=qe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return jr(o,!0),o}function Ip(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function TP(n,e,t,i,r){const o=$i(),s=2&i;try{ya(-1),s&&e.length>$e&&xP(n,e,$e,!1),Ur(s?2:0,r),t(i,r)}finally{ya(o),Ur(s?3:1,r)}}function bx(n,e,t){if(wm(e)){const i=et(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{et(i)}}}function wx(n,e,t){kv()&&(function W6(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;is(t)&&function e8(n,e,t){const i=Hi(e,n),r=DP(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=jy(n,Uy(n,r,null,s,i,e,null,n[ga].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||bc(t,e),ir(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],d=ba(e,n,a,t);ir(d,e),null!==s&&t8(0,a-r,d,c,0,s),wr(c)&&(Ir(t.index,e)[en]=ba(e,n,a,t))}}(n,e,t,Hi(t,e)),64==(64&t.flags)&&RP(n,e,t))}function Ex(n,e,t=Hi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function DP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ix(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ix(n,e,t,i,r,o,s,a,c,d,h){const p=$e+i,g=p+r,v=function O6(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:nt);return t}(p,g),b="function"==typeof d?d():d;return v[ue]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let SP=n=>null;function AP(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?kP(t,e,r,o):i.hasOwnProperty(r)&&kP(t,e,i[r],o)}return t}function kP(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function oo(n,e,t,i,r,o,s,a){const c=Hi(e,t);let h,d=e.inputs;!a&&null!=d&&(h=d[i])?(Sx(n,t,h,i,r),is(e)&&function H6(n,e){const t=Ir(e,n);16&t[Ge]||(t[Ge]|=64)}(t,e.index)):3&e.type&&(i=function z6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function xx(n,e,t,i){if(kv()){const r=null===i?null:{"":-1},o=function K6(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(vv(e,s.selectors,!1))if(i||(i=[]),wr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Cx(n,e,a.length)}else i.unshift(s),Cx(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&MP(n,e,t,s,r,a),r&&function Q6(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new j(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=zl(t.mergedAttrs,t.attrs)}function MP(n,e,t,i,r,o){for(let d=0;d<i.length;d++)Zm(bc(t,e),n,i[d].type);!function X6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const h=i[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=Ip(n,e,i.length,null);for(let d=0;d<i.length;d++){const h=i[d];t.mergedAttrs=zl(t.mergedAttrs,h.hostAttrs),J6(n,t,e,c,h),Y6(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function j6(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=AP(p.inputs,h,c,g?g.inputs:null),d=AP(p.outputs,h,d,b);const w=null===c||null===s||_v(e)?null:n8(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function RP(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Nv(){return qe.lFrame.currentDirectiveIndex}();try{ya(o);for(let a=i;a<r;a++){const c=n.data[a],d=e[a];Bm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Z6(c,d)}}finally{ya(-1),Bm(s)}}function Z6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Cx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Y6(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;wr(e)&&(t[""]=n)}}function J6(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=va(r.type)),s=new vc(o,wr(r),R);n.blueprint[i]=s,t[i]=s,function q6(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function G6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Ip(n,t,r.hostVars,nt),r)}function Ns(n,e,t,i,r,o){const s=Hi(n,e);!function Tx(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ze(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ye],s,o,n.value,t,i,r)}function t8(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)PP(i,t,s[a++],s[a++],s[a++])}function PP(n,e,t,i,r){const o=et(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{et(o)}}function n8(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function OP(n,e,t,i){return[n,!0,!1,e,null,i,!1,t,null,null,null]}function NP(n,e){const t=n.contentQueries;if(null!==t){const i=et(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Um(t[r]),a.contentQueries(2,e[s],s)}}}finally{et(i)}}}function jy(n,e){return n[Hl]?n[bv][Jr]=e:n[Hl]=e,n[bv]=e,e}function Dx(n,e,t){Um(0);const i=et(null);try{e(n,t)}finally{et(i)}}function FP(n){return n[Ds]||(n[Ds]=[])}function LP(n){return n.cleanup||(n.cleanup=[])}function VP(n,e,t){return(null===n||wr(n))&&(t=function Sm(n){for(;Array.isArray(n);){if("object"==typeof n[ym])return n;n=n[Sn]}return null}(t[e.index])),t[Ye]}function zy(n,e){const t=n[ai],i=t?t.get(cs,null):null;i&&i.handleError(e)}function Sx(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];PP(n.data[s],e[s],i,a,r)}}function Ta(n,e,t){const i=Kl(e,n);!function MR(n,e,t){n.setValue(e,t)}(n[Ye],i,t)}function BP(n,e,t,i){const r=e[Ge];if(256==(256&r))return;e[ga].inlineEffectRunner?.flush(),jm(e);let s=null,a=null;(function s8(n){return 2!==n.type})(n)&&(a=function x6(n){return n[_a]??function C6(n){const e=_P.pop()??Object.create(D6);return e.lView=n,e}(n)}(e),s=function it(n){return n&&(n.nextProducerIndex=0),et(n)}(a));try{ku(e),function Pv(n){return qe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&TP(n,e,t,2,i);const c=3==(3&r);if(c){const p=n.preOrderCheckHooks;null!==p&&Lu(e,p,null)}else{const p=n.preOrderHooks;null!==p&&Yl(e,p,0,null),$m(e,0)}if(function a8(n){for(let e=SR(n);null!==e;e=AR(e)){if(!e[Tu])continue;const t=e[cc];for(let i=0;i<t.length;i++){Pm(t[i])}}}(e),UP(e,0),null!==n.contentQueries&&NP(n,e),c){const p=n.contentCheckHooks;null!==p&&Lu(e,p)}else{const p=n.contentHooks;null!==p&&Yl(e,p,1),$m(e,1)}!function P6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ya(~r);else{const o=r,s=t[++i],a=t[++i];cI(s,o),a(2,e[o])}}}finally{ya(-1)}}(n,e);const d=n.components;null!==d&&HP(e,d,0);const h=n.viewQuery;if(null!==h&&Dx(2,h,i),c){const p=n.viewCheckHooks;null!==p&&Lu(e,p)}else{const p=n.viewHooks;null!==p&&Yl(e,p,2),$m(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[_n]){for(const p of e[_n])p();e[_n]=null}e[Ge]&=-73}catch(c){throw Mu(e),c}finally{null!==a&&(function ut(n,e){if(et(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Vt(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Dt(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function T6(n){n.lView[_a]!==n&&(n.lView=null,_P.push(n))}(a)),zm()}}function UP(n,e){for(let t=SR(n);null!==t;t=AR(t)){t[bm]=!1;for(let i=An;i<t.length;i++)jP(t[i],e)}}function c8(n,e,t){jP(Ir(e,n),t)}function jP(n,e){Mm(n)&&zP(n,e)}function zP(n,e){const i=n[ue],r=n[Ge],o=n[_a];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!Kn(o)),o&&(o.dirty=!1),n[Ge]&=-9217,s)BP(i,n,i.template,n[en]);else if(8192&r){UP(n,1);const a=i.components;null!==a&&HP(n,a,1)}}function HP(n,e,t){for(let i=0;i<e.length;i++)c8(n,e[i],t)}function xp(n){for(;n;){n[Ge]|=64;const e=hp(n);if(Em(n)&&!e)return n;n=e}return null}class Cp{get rootNodes(){const e=this._lView,t=e[ue];return Ep(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[en]}set context(e){this._lView[en]=e}get destroyed(){return 256==(256&this._lView[Ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gn];if(Fn(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(fp(e,i),to(t,i))}this._attachedToViewContainer=!1}Iy(this._lView[ue],this._lView)}onDestroy(e){Ru(this._lView,e)}markForCheck(){xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){hc(this._lView),this._lView[Ge]|=128}detectChanges(){!function Ax(n,e,t,i=!0){const r=e[ga],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{BP(n,e,n.template,t),function r8(n){let e=0;for(;9216&n[Ge]||n[_a]?.dirty;){if(100===e)throw new j(103,!1);e++,zP(n,1)}}(e)}catch(c){throw i&&zy(e,c),c}finally{o.end?.(),r.inlineEffectRunner?.flush(),s?.end()}}(this._lView[ue],this._lView,this.context,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function h5(n,e){pp(n,e,e[Ye],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e}}let Fs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=l8}return n})();function l8(n){return function d8(n,e,t){if(is(n)&&!t){const i=Ir(n.index,e);return new Cp(i,i)}return 47&n.type?new Cp(e[tn],e):null}(Ot(),q(),16==(16&n))}let Hy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=m8;static#t=this.__NG_ENV_ID__=t=>t}return n})();class f8 extends Hy{constructor(e){super(),this._lView=e}onDestroy(e){return Ru(this._lView,e),()=>function Ql(n,e){if(null===n[Ss])return;const t=n[Ss].indexOf(e);-1!==t&&n[Ss].splice(t,1)}(this._lView,e)}}function m8(){return new f8(q())}const $P=new Set;function cd(n){$P.has(n)||($P.add(n),performance?.mark?.("mark_use_counter",{detail:{feature:n}}))}function kx(n){return e=>{setTimeout(n,void 0,e)}}const Yt=class w8 extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=kx(o),r&&(r=kx(r)),s&&(s=kx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Rt&&e.add(a),a}};function qP(...n){}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function E8(){const n="function"==typeof zt.requestAnimationFrame;let e=zt[n?"requestAnimationFrame":"setTimeout"],t=zt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function C8(n){const e=()=>{!function x8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rx(n),n.isCheckStableRunning=!0,Mx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function D8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return GP(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),WP(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return GP(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),WP(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Rx(n),Mx(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new j(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,I8,qP,qP);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const I8={};function Mx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function GP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WP(n){n._nesting--,Mx(n)}class T8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const ZP=new X("",{providedIn:"root",factory:KP});function KP(){const n=le(Be);let e=!0;return Xa(new It(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new It(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Be.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Dl()))}var ld=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ld||{});const QP={destroy(){}};function XP(n,e){!e&&function NI(n){if(!cv()&&!function dm(){return nc}())throw new j(-203,!1)}();const t=e?.injector??le(qi);if(!function kc(n){return"browser"===(n??le(qi)).get(as)}(t))return QP;cd("NgAfterNextRender");const i=t.get($y),r=i.handler??=new e1,o=e?.phase??ld.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Hy).onDestroy(s),c=new JP(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class JP{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Be),this.errorHandler=e.get(cs,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class e1{constructor(){this.executingCallbacks=!1,this.buckets={[ld.EarlyRead]:new Set,[ld.Write]:new Set,[ld.MixedReadWrite]:new Set,[ld.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new j(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let $y=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function A8(n,e){const t=Ir(e,n),i=t[ue];!function k8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Sn];null!==r&&null===t[Br]&&(t[Br]=hx(r,t[ai])),Px(i,t,t[en])}function Px(n,e,t){jm(e);try{const i=n.viewQuery;null!==i&&Dx(1,i,t);const r=n.template;null!==r&&TP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&NP(n,e),n.staticViewQueries&&Dx(2,n.viewQuery,t);const o=n.components;null!==o&&function M8(n,e){for(let t=0;t<e.length;t++)A8(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ge]&=-5,zm()}}function qy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Al(r,a):2==o&&(i=Al(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class t1 extends bp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ct(e);return new Tp(t,this.ngModule)}}function n1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class P8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ic(i);const r=this.injector.get(e,gx,i);return r!==gx||t===gx?r:this.parentInjector.get(e,t,i)}}class Tp extends sP{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=n1(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return n1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function KE(n){return n.map(ZE).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof no?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new P8(e,o):e,a=s.get(px,null);if(null===a)throw new j(407,!1);const h={rendererFactory:a,sanitizer:s.get(f6,null),inlineEffectRunner:null,afterRenderEventManager:s.get($y,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function N6(n,e,t,i){const o=i.get(bP,!1)||t===Xr.ShadowDom,s=n.selectRootElement(e,o);return function F6(n){SP(n)}(s),s}(p,i,this.componentDef.encapsulation,s):Ey(p,g,function R8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==v&&(k=hx(v,s,!0));const S=Ix(0,null,null,1,0,null,null,null,null,null,null),O=Uy(null,S,null,E,null,null,h,p,s,null,k);let Y,he;jm(O);try{const xe=this.componentDef;let Qe,dn=null;xe.findHostDirectiveDefs?(Qe=[],dn=new Map,xe.findHostDirectiveDefs(xe,Qe,dn),Qe.push(xe)):Qe=[xe];const po=function N8(n,e){const t=n[ue],i=$e;return n[i]=e,ih(t,i,2,"#host",null)}(O,v),Qr=function F8(n,e,t,i,r,o,s){const a=r[ue];!function L8(n,e,t,i){for(const r of n)e.mergedAttrs=zl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(qy(e,e.mergedAttrs,!0),null!==t&&$R(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=hx(e,r[ai]));const d=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=Uy(r,DP(t),null,h,r[n.index],n,o,d,null,null,c);return a.firstCreatePass&&Cx(a,n,i.length-1),jy(r,p),r[n.index]=p}(po,v,xe,Qe,O,h,p);he=dc(S,$e),v&&function B8(n,e,t,i){if(i)jl(n,t,["ng-version",cP.full]);else{const{attrs:r,classes:o}=function QE(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!yr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&jl(n,t,r),o&&o.length>0&&HR(n,t,o.join(" "))}}(p,xe,v,i),void 0!==t&&function U8(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(he,this.ngContentSelectors,t),Y=function V8(n,e,t,i,r,o){const s=Ot(),a=r[ue],c=Hi(s,r);MP(a,r,s,t,null,i);for(let h=0;h<t.length;h++)ir(ba(r,a,s.directiveStart+h,s),r);RP(a,r,s),c&&ir(c,r);const d=ba(r,a,s.directiveStart+s.componentOffset,s);if(n[en]=r[en]=d,null!==o)for(const h of o)h(d,e);return bx(a,s,n),d}(Qr,xe,Qe,dn,O,[j8]),Px(S,O,null)}finally{zm()}return new O8(this.componentType,Y,nh(he,O),O,he)}}class O8 extends a6{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Cp(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Sx(o[ue],o,r,e,t),this.previousInputValues.set(e,t),xp(Ir(this._tNode.index,o))}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function j8(){const n=Ot();_c(q()[ue],n)}function vt(n){let e=function r1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(wr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Gy(n.inputs),s.inputTransforms=Gy(n.inputTransforms),s.declaredInputs=Gy(n.declaredInputs),s.outputs=Gy(n.outputs);const a=r.hostBindings;a&&q8(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&H8(n,c),d&&$8(n,d),Ja(n.inputs,r.inputs),Ja(n.declaredInputs,r.declaredInputs),Ja(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ja(s.inputTransforms,r.inputTransforms)),wr(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===vt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function z8(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=zl(r.hostAttrs,t=zl(t,r.hostAttrs))}}(i)}function Gy(n){return n===Eo?{}:n===xt?[]:n}function H8(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function $8(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function q8(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function c1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function Ls(n,e,t){return n[e]=t}function ci(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function rr(n,e,t,i){const r=q();return ci(r,To(),e)&&(gt(),Ns(an(),r,n,e,t,i)),rr}function oh(n,e,t,i){return ci(n,To(),t)?e+Ze(t)+i:nt}function sh(n,e,t,i,r,o){const a=function dd(n,e,t,i){const r=ci(n,e,t);return ci(n,e+1,i)||r}(n,function eo(){return qe.lFrame.bindingIndex}(),t,r);return rs(2),a?e+Ze(t)+i+Ze(r)+o:nt}function Zy(n,e){return n<<17|e<<2}function Oc(n){return n>>17&32767}function Ox(n){return 2|n}function ud(n){return(131068&n)>>2}function Nx(n,e){return-131069&n|e<<2}function Fx(n){return 1|n}function v1(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Oc(o):ud(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];n9(n[a],e)&&(c=!0,n[a+1]=i?Fx(h):Ox(h)),a=i?Oc(h):ud(h)}c&&(n[t+1]=i?Ox(o):Fx(o))}function n9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ps(n,e)>=0}function Ve(n,e,t){const i=q();return ci(i,To(),e)&&oo(gt(),an(),i,n,e,i[Ye],t,!1),Ve}function Lx(n,e,t,i,r){const s=r?"class":"style";Sx(n,t,e.inputs[s],s,i)}function Sp(n,e,t){return ls(n,e,t,!1),Sp}function Xn(n,e){return ls(n,e,null,!0),Xn}function ls(n,e,t,i){const r=q(),o=gt(),s=rs(2);o.firstUpdatePass&&function T1(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[$i()],s=function C1(n,e){return e>=n.expandoStartIndex}(n,t);(function k1(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function u9(n,e,t,i){const r=pc(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Ap(t=Vx(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Vx(r,n,e,t,i),null===o){let c=function h9(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==ud(i))return n[Oc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Vx(null,n,e,c[1],i),c=Ap(c,e.attrs,i),function f9(n,e,t,i){n[Oc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function m9(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Ap(i,n[o].hostAttrs,t);return Ap(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function e9(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Oc(s),c=ud(s);n[i]=t;let h,d=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ps(t,h)>0)&&(d=!0)):h=t,r)if(0!==c){const g=Oc(n[a+1]);n[i+1]=Zy(g,a),0!==g&&(n[g+1]=Nx(n[g+1],i)),n[a+1]=function X8(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Zy(a,0),0!==a&&(n[a+1]=Nx(n[a+1],i)),a=i;else n[i+1]=Zy(c,0),0===a?a=i:n[c+1]=Nx(n[c+1],i),c=i;d&&(n[i+1]=Ox(n[i+1])),v1(n,h,i,!0),v1(n,h,i,!1),function t9(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ps(o,e)>=0&&(t[i+1]=Fx(t[i+1]))}(e,h,n,i,o),s=Zy(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==nt&&ci(r,s,e)&&function S1(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],h=function J8(n){return 1==(1&n)}(d)?A1(c,e,t,r,ud(d),s):void 0;Ky(h)||(Ky(o)||function Y8(n){return 2==(2&n)}(d)&&(o=A1(c,null,t,r,a,s)),function E5(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Rc.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Rc.Important),n.setStyle(t,i,r,o))}}(i,s,Kl($i(),t),r,o))}(o,o.data[$i()],r,r[Ye],n,r[s+1]=function v9(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=jn(ro(n)))),n}(e,t),i,s)}function Vx(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Ap(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Ap(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),nn(n,s,!!t||e[++o]))}return void 0===n?null:n}function A1(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),h=d?c[1]:c,p=null===h;let g=t[r+1];g===nt&&(g=p?xt:void 0);let v=p?Jl(g,i):h===i?g:void 0;if(d&&!Ky(v)&&(v=Jl(c,i)),Ky(v)&&(a=v,s))return a;const b=n[r+1];r=s?Oc(b):ud(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Jl(c,i))}return a}function Ky(n){return void 0!==n}function ph(n,e){return!e||yy(n)}function Op(n,e,t,i=!0){const r=e[ue];if(function m5(n,e,t,i){const r=An+i,o=t.length;i>0&&(t[r-1][Jr]=e),i<o-An?(e[Jr]=t[r],ny(t,An+i,e)):(t.push(e),e[Jr]=null),e[gn]=t;const s=e[Cu];null!==s&&t!==s&&function p5(n,e){const t=n[cc];e[tn]!==e[gn][gn][tn]&&(n[Tu]=!0),null===t?n[cc]=[e]:t.push(e)}(s,e);const a=e[Io];null!==a&&a.insertView(n),hc(e),e[Ge]|=128}(r,e,n,t),i){const o=XI(t,n),s=e[Ye],a=xy(s,n[xo]);null!==a&&function u5(n,e,t,i,r,o){i[Sn]=r,i[Ai]=e,pp(n,i,t,1,r,o)}(r,n[Ai],s,e,a,o)}}let Po=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=X9}return n})();function X9(){return H1(Ot(),q())}const J9=Po,j1=class extends J9{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return nh(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=wc(this._hostTNode,this._hostLView);if(qm(e)){const t=ju(e,this._hostLView),i=yc(e);return new Yn(t[ue].data[i+8],t)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=z1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-An}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,ph(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function wa(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new Tp(ct(e)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?d:this.parentInjector).get(no,null);w&&(o=w)}ct(c.componentType??{});const v=c.create(d,r,null,o);return this.insertImpl(v.hostView,a,ph(this._hostTNode,null)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function Rm(n){return Fn(n[gn])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[gn],d=new j1(c,c[Ai],c[gn]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Op(s,r,o,i),e.attachToViewContainerRef(),ny(Wx(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=z1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=fp(this._lContainer,t);i&&(to(Wx(this._lContainer),t),Iy(i[ue],i))}detach(e){const t=this._adjustIndex(e,-1),i=fp(this._lContainer,t);return i&&null!=to(Wx(this._lContainer),t)?new Cp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function z1(n){return n[8]}function Wx(n){return n[8]||(n[8]=[])}function H1(n,e){let t;const i=e[n.index];return Fn(i)?t=i:(t=OP(i,e,null,n),e[n.index]=t,jy(e,t)),$1(t,e,n,i),new j1(t,n,e)}let $1=function G1(n,e,t,i){if(n[xo])return;let r;r=8&t.type?Gt(i):function eq(n,e){const t=n[Ye],i=t.createComment(""),r=Hi(e,n);return sd(t,xy(t,r),i,function y5(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[xo]=r},Zx=(n,e,t)=>!1;function bt(n,e,t,i,r,o,s,a){const c=q(),d=gt(),h=n+$e,p=d.firstCreatePass?function rq(n,e,t,i,r,o,s,a,c){const d=e.consts,h=ih(e,n,4,s||null,Co(d,a));xx(e,t,h,Co(d,c)),_c(e,h);const p=h.tView=Ix(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,d,c,e,t,i,r,o,s):d.data[h];jr(p,!1);const g=W1(d,c,p,n);gc()&&Cy(d,c,g,p),ir(g,c);const v=OP(g,c,g,p);return c[h]=v,jy(c,v),function q1(n,e,t){return Zx(n,e,t)}(v,p,c),Wl(p)&&wx(d,c,p),null!=s&&Ex(c,p,a),bt}let W1=function Z1(n,e,t,i){return Do(!0),e[Ye].createComment("")};function A(n,e,t,i){const r=q(),o=gt(),s=$e+n,a=r[Ye],c=o.firstCreatePass?function Wq(n,e,t,i,r,o){const s=e.consts,c=ih(e,n,2,i,Co(s,r));return xx(e,t,c,Co(s,o)),null!==c.attrs&&qy(c,c.attrs,!1),null!==c.mergedAttrs&&qy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],d=_O(o,r,c,a,e,n);r[s]=d;const h=Wl(c);return jr(c,!0),$R(a,d,c),32!=(32&c.flags)&&gc()&&Cy(o,r,d,c),0===function Om(){return qe.lFrame.elementDepthCount}()&&ir(d,r),function Sv(){qe.lFrame.elementDepthCount++}(),h&&(wx(o,r,c),bx(o,c,r)),null!==i&&Ex(r,c),A}function V(){let n=Ot();Lm()?Nu():(n=n.parent,jr(n,!1));const e=n;(function Nm(n){return qe.skipHydrationRootTNode===n})(e)&&function sI(){qe.skipHydrationRootTNode=null}(),function Av(){qe.lFrame.elementDepthCount--}();const t=gt();return t.firstCreatePass&&(_c(t,n),wm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function mI(n){return 0!=(8&n.flags)}(e)&&Lx(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pI(n){return 0!=(16&n.flags)}(e)&&Lx(t,e,q(),e.stylesWithoutHost,!1),V}function ze(n,e,t,i){return A(n,e,t,i),V(),ze}let _O=(n,e,t,i,r,o)=>(Do(!0),Ey(i,r,function zv(){return qe.lFrame.currentNamespace}()));function Eh(n,e,t){const i=q(),r=gt(),o=n+$e,s=r.firstCreatePass?function Qq(n,e,t,i,r){const o=e.consts,s=Co(o,i),a=ih(e,n,8,"ng-container",s);return null!==s&&qy(a,s,!0),xx(e,t,a,Co(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];jr(s,!0);const a=yO(r,i,s,n);return i[o]=a,gc()&&Cy(r,i,a,s),ir(a,i),Wl(s)&&(wx(r,i,s),bx(r,s,i)),null!=t&&Ex(i,s),Eh}function Ih(){let n=Ot();const e=gt();return Lm()?Nu():(n=n.parent,jr(n,!1)),e.firstCreatePass&&(_c(e,n),wm(n)&&e.queries.elementEnd(n)),Ih}let yO=(n,e,t,i)=>(Do(!0),ZI(e[Ye],""));function or(){return q()}function oC(n,e,t){const i=q();if(ci(i,To(),e)){const o=gt(),s=an();oo(o,s,i,n,e,VP(pc(o.data),s,i),t,!0)}return oC}const Ch="en-US";let IO=Ch;function Hp(n){return!!n&&"function"==typeof n.then}function ZO(n){return!!n&&"function"==typeof n.subscribe}function Re(n,e,t,i){const r=q(),o=gt(),s=Ot();return KO(o,r,r[Ye],s,n,e,i),Re}function cC(n,e){const t=Ot(),i=q(),r=gt();return KO(r,i,VP(pc(r.data),t,i),t,n,e),cC}function KO(n,e,t,i,r,o,s){const a=Wl(i),d=n.firstCreatePass&&LP(n),h=e[en],p=FP(e);let g=!0;if(3&i.type||s){const w=Hi(i,e),E=s?s(w):w,k=p.length,S=s?Y=>s(Gt(Y[i.index])):i.index;let O=null;if(!s&&a&&(O=function KG(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Ds],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,g=!1;else{o=YO(i,e,h,o,!1);const Y=t.listen(E,r,o);p.push(o,Y),d&&d.push(r,S,k,k+1)}}else o=YO(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const he=e[b[E]][b[E+1]].subscribe(o),xe=p.length;p.push(o,he),d&&d.push(r,i.index,xe,-(xe+1))}}}function QO(n,e,t,i){try{return Ur(6,e,t),!1!==t(i)}catch(r){return zy(n,r),!1}finally{Ur(7,e,t)}}function YO(n,e,t,i,r){return function o(s){if(s===Function)return i;xp(n.componentOffset>-1?Ir(n.index,e):e);let c=QO(e,t,i,s),d=o.__ngNextListenerFn__;for(;d;)c=QO(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Pe(n=1){return function dI(n){return(qe.lFrame.contextLView=function Dv(n,e){for(;n>0;)e=e[$l],n--;return e}(n,qe.lFrame.contextLView))[en]}(n)}function QG(n,e){let t=null;const i=function yv(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?vv(n,o,!0):oc(i,o))return r}else t=r}return t}function us(n){const e=q()[tn][Ai];if(!e.projection){const i=e.projection=Dc(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?QG(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function di(n,e=0,t){const i=q(),r=gt(),o=ih(r,$e+n,16,null,t||null);null===o.projection&&(o.projection=e),Nu(),(!i[Br]||fc())&&32!=(32&o.flags)&&function b5(n,e,t){zR(e[Ye],0,e,t,QI(n,t,e),FR(t.parent||e[Ai],t,e))}(r,i,o)}function $p(n,e,t){return lC(n,"",e,"",t),$p}function lC(n,e,t,i,r){const o=q(),s=oh(o,e,t,i);return s!==nt&&oo(gt(),an(),o,n,s,o[Ye],r,!1),lC}function $r(n){return function uc(n,e){return n[e]}(function Mv(){return qe.lFrame.contextLView}(),$e+n)}function re(n,e=""){const t=q(),i=gt(),r=n+$e,o=i.firstCreatePass?ih(i,r,1,e,null):i.data[r],s=pN(i,t,o,e,n);t[r]=s,gc()&&Cy(i,t,s,o),jr(o,!1)}let pN=(n,e,t,i,r)=>(Do(!0),function wy(n,e){return n.createText(e)}(e[Ye],i));function ei(n){return Us("",n,""),ei}function Us(n,e,t){const i=q(),r=oh(i,n,e,t);return r!==nt&&Ta(i,$i(),r),Us}function lb(n,e,t,i,r){const o=q(),s=sh(o,n,e,t,i,r);return s!==nt&&Ta(o,$i(),s),lb}function dC(n,e,t,i,r){if(n=je(n),Array.isArray(n))for(let o=0;o<n.length;o++)dC(n[o],e,t,i,r);else{const o=gt(),s=q(),a=Ot();let c=rd(n)?n:je(n.provide);const d=iR(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(rd(n)||!n.multi){const v=new vc(d,r,R),b=hC(c,e,r?h:h+g,p);-1===b?(Zm(bc(a,s),o,c),uC(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=hC(c,e,h+g,p),b=hC(c,e,h,h+g),E=b>=0&&t[b];if(r&&!E||!r&&!(v>=0&&t[v])){Zm(bc(a,s),o,c);const k=function hW(n,e,t,i,r){const o=new vc(n,t,R);return o.multi=[],o.index=e,o.componentProviders=0,IN(o,r,i&&!t),o}(r?uW:dW,t.length,r,i,d);!r&&E&&(t[b].providerFactory=k),uC(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else uC(o,n,v>-1?v:b,IN(t[r?b:v],d,!r&&i));!r&&i&&E&&t[b].componentProviders++}}}function uC(n,e,t,i){const r=rd(e),o=function w$(n){return!!n.useClass}(e);if(r||o){const c=(o?je(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=d.indexOf(t);-1===h?d.push(t,[i,c]):d[h+1].push(i,c)}else d.push(t,c)}}}function IN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function hC(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function dW(n,e,t,i){return fC(this.multi,[])}function uW(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ba(t,t[ue],this.providerFactory.index,i);o=a.slice(0,s),fC(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],fC(r,o);return o}function fC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Wt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function lW(n,e,t){const i=gt();if(i.firstCreatePass){const r=wr(n);dC(t,i.data,i.blueprint,r,!0),dC(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class md{}class xN{}class mC extends md{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new t1(this);const r=zi(e);this._bootstrapComponents=io(r.bootstrap),this._r3Injector=cR(e,t,[{provide:md,useValue:this},{provide:bp,useValue:this.componentFactoryResolver},...i],jn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pC extends xN{constructor(e){super(),this.moduleType=e}create(e){return new mC(this.moduleType,e,[])}}class CN extends md{constructor(e){super(),this.componentFactoryResolver=new t1(this),this.instance=null;const t=new od([...e.providers,{provide:md,useValue:this},{provide:bp,useValue:this.componentFactoryResolver}],e.parent||fy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function gC(n,e,t=null){return new CN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let pW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=dy(0,t.type),r=i.length>0?gC([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(P(no))})}return n})();function db(n){cd("NgStandalone"),n.getStandaloneInjector=e=>e.get(pW).getOrCreateStandaloneInjector(n)}function fb(n,e,t,i){return function ON(n,e,t,i,r,o){const s=e+t;return ci(n,s,r)?Ls(n,s+1,o?i.call(o,r):i(r)):function qp(n,e){const t=n[e];return t===nt?void 0:t}(n,s+1)}(q(),ki(),n,e,t,i)}function jW(){return this._results[Symbol.iterator]()}class Th{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Yt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Th.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=jW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function nr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ep(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Da=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=$W}return n})();const zW=Da,HW=class extends zW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Pp(n,e,t,i){const r=e.tView,a=Uy(n,r,t,4096&n[Ge]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Cu]=n[e.index];const d=n[Io];return null!==d&&(a[Io]=d.createEmbeddedView(r)),Px(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new Cp(r)}};function $W(){return mb(Ot(),q())}function mb(n,e){return 4&n.type?new HW(e,n,nh(n,e)):null}class vC{constructor(e){this.queryList=e,this.matches=null}clone(){return new vC(this.queryList)}setDirty(){this.queryList.setDirty()}}class yC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new yC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==HN(e,t).matches&&this.queries[t].setDirty()}}class BN{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class bC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new bC(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class wC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new wC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,qW(t,o)),this.matchTNodeWithReadOption(e,t,$u(t,e,o,!1,!1))}else i===Da?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$u(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Qt||r===Po||r===Da&&4&t.type)this.addMatch(t.index,-2);else{const o=$u(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function qW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function WW(n,e,t,i){return-1===t?function GW(n,e){return 11&n.type?nh(n,e):4&n.type?mb(n,e):null}(e,n):-2===t?function ZW(n,e,t){return t===Qt?nh(e,n):t===Da?mb(e,n):t===Po?H1(e,n):void 0}(n,e,i):ba(n,n[ue],t,e)}function UN(n,e,t,i){const r=e[Io].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:WW(e,o[d],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function EC(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=UN(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const d=o[a+1],h=e[-c];for(let p=An;p<h.length;p++){const g=h[p];g[Cu]===g[gn]&&EC(g[ue],g,d,i)}if(null!==h[cc]){const p=h[cc];for(let g=0;g<p.length;g++){const v=p[g];EC(v[ue],v,d,i)}}}}}return i}function Mi(n){const e=q(),t=gt(),i=Fv();Um(i+1);const r=HN(t,i);if(n.dirty&&function km(n){return 4==(4&n[Ge])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?EC(t,e,i,[]):UN(t,e,r,i);n.reset(o,u6),n.notifyOnChanges()}return!0}return!1}function pd(n,e,t){const i=gt();i.firstCreatePass&&(zN(i,new BN(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),jN(i,q(),e)}function No(n,e,t,i){const r=gt();if(r.firstCreatePass){const o=Ot();zN(r,new BN(e,t,i),o.index),function QW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}jN(r,q(),t)}function Ri(){return function KW(n,e){return n[Io].queries[e].queryList}(q(),Fv())}function jN(n,e,t){const i=new Th(4==(4&t));(function B6(n,e,t,i){const r=FP(e);r.push(t),n.firstCreatePass&&LP(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Io]&&(e[Io]=new yC),e[Io].queries.push(new vC(i))}function zN(n,e,t){null===n.queries&&(n.queries=new bC),n.queries.track(new wC(e,t))}function HN(n,e){return n.queries.getByIndex(e)}function gd(n,e){return mb(n,e)}const DC=new X("Application Initializer");let SC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=le(DC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Hp(o))t.push(o);else if(ZO(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oF=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const js=new X("LocaleId",{providedIn:"root",factory:()=>le(js,pt.Optional|pt.SkipSelf)||function v7(){return typeof $localize<"u"&&$localize.locale||Ch}()});let gb=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new er(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class x7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let aF=(()=>{class n{compileModuleSync(t){return new pC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=io(zi(t).declarations).reduce((s,a)=>{const c=ct(a);return c&&s.push(new Tp(c)),s},[]);return new x7(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hF=new X(""),vb=new X("");let RC,kC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,RC||(function K7(n){RC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(P(Be),P(MC),P(vb))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),MC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return RC?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Fc=null;const fF=new X("AllowMultipleToken"),PC=new X("PlatformDestroyListeners"),OC=new X("appBootstrapListener");function gF(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=NC();if(!s||s.injector.get(fF,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function X7(n){if(Fc&&!Fc.get(fF,!1))throw new j(400,!1);(function mF(){!function qa(n){_o=n}(()=>{throw new j(600,!1)})})(),Fc=n;const e=n.get(vF);(function pF(n){n.get(dR,null)?.forEach(t=>t())})(n)}(function _F(n=[],e){return qi.create({name:e,providers:[{provide:MI,useValue:"platform"},{provide:PC,useValue:new Set([()=>Fc=null])},...n]})}(a,i))}return function eZ(n){const e=NC();if(!e)throw new j(401,!1);return e}()}}function NC(){return Fc?.get(vF)??null}let vF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function tZ(n="zone.js",e){return"noop"===n?new T8:"zone.js"===n?new Be(e):n}(i?.ngZone,function yF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function mW(n,e,t){return new mC(n,e,t)}(t.moduleType,this.injector,function xF(n){return[{provide:Be,useFactory:n},{provide:Ia,multi:!0,useFactory:()=>{const e=le(iZ,{optional:!0});return()=>e.initialize()}},{provide:IF,useFactory:nZ},{provide:ZP,useFactory:KP}]}(()=>r)),s=o.injector.get(cs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{yb(this._modules,o),a.unsubscribe()})}),function bF(n,e,t){try{const i=t();return Hp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(SC);return a.runInitializers(),a.donePromise.then(()=>(function xO(n){Tn(n,"Expected localeId to be defined"),"string"==typeof n&&(IO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(js,Ch)||Ch),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=wF({},i);return function Q7(n,e,t){const i=new pC(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Lc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new j(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(PC,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(P(qi))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function wF(n,e){return Array.isArray(e)?e.reduce(wF,n):{...n,...e}}let Lc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=le(IF),this.zoneIsStable=le(ZP),this.componentTypes=[],this.components=[],this.isStable=le(gb).hasPendingTasks.pipe(Bt(t=>t?Ee(!1):this.zoneIsStable),Sl(),Dl()),this._injector=le(no)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof sP;if(!this._injector.get(SC).done)throw!r&&function ma(n){const e=ct(n)||si(n)||Si(n);return null!==e&&e.standalone}(t),new j(405,!1);let s;s=r?t:this._injector.get(bp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Y7(n){return n.isBoundToModule}(s)?void 0:this._injector.get(md),d=s.create(qi.NULL,[],i||s.selector,a),h=d.location.nativeElement,p=d.injector.get(hF,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),yb(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new j(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;yb(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(OC,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const IF=new X("",{providedIn:"root",factory:()=>le(cs).handleError.bind(void 0)});function nZ(){const n=le(Be),e=le(cs);return t=>n.runOutsideAngular(()=>e.handleError(t))}let iZ=(()=>{class n{constructor(){this.zone=le(Be),this.applicationRef=le(Lc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dZ=gF(null,"core",[]);let uZ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(P(Lc))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({})}return n})();function kh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let qC=null;function Vc(){return qC}class NZ{}const wt=new X("DocumentToken");let GC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(LZ),providedIn:"platform"})}return n})();const FZ=new X("Location Initialized");let LZ=(()=>{class n extends GC{constructor(){super(),this._doc=le(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vc().getBaseHref(this._doc)}onPopState(t){const i=Vc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Vc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function WC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ZF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Sa(n){return n&&"?"!==n[0]?"?"+n:n}let vd=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(QF),providedIn:"root"})}return n})();const KF=new X("appBaseHref");let QF=(()=>{class n extends vd{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??le(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WC(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Sa(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Sa(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Sa(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(GC),P(KF,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VZ=(()=>{class n extends vd{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=WC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Sa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Sa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(GC),P(KF,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Mh=(()=>{class n{constructor(t){this._subject=new Yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function jZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ZF(YF(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Sa(i))}normalize(t){return n.stripTrailingSlash(function UZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,YF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Sa;static#t=this.joinWithSlash=WC;static#n=this.stripTrailingSlash=ZF;static#i=this.\u0275fac=function(i){return new(i||n)(P(vd))};static#r=this.\u0275prov=ce({token:n,factory:()=>function BZ(){return new Mh(P(vd))}(),providedIn:"root"})}return n})();function YF(n){return n.replace(/\/index.html$/,"")}function sL(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const iT=/\s+/,aL=[];let cL=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=aL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(iT):aL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(iT):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(iT).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Vy),R(wp),R(Qt),R(Ca))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class TK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lb=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new TK(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),dL(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{dL(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(R(Po),R(Da),R(Vy))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function dL(n,e){n.context.$implicit=e.item}let zs=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new DK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(R(Po),R(Da))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class DK{constructor(){this.$implicit=null,this.ngIf=null}}function uL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jn(e)}'.`)}let Jp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({})}return n})();const pL="browser";function Vb(n){return"server"===n}let oQ=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new sQ(P(wt),window)})}return n})();class sQ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function aQ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class gL{}class kQ extends NZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dT extends kQ{static makeCurrent(){!function OZ(n){qC||(qC=n)}(new dT)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function MQ(){return tg=tg||document.querySelector("base"),tg?tg.getAttribute("href"):null}();return null==t?null:function RQ(n){jb=jb||document.createElement("a"),jb.setAttribute("href",n);const e=jb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){tg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sL(document.cookie,e)}}let jb,tg=null,OQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const uT=new X("EventManagerPlugins");let bL=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(P(uT),P(Be))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class wL{constructor(e){this._doc=e}}const hT="ng-app-id";let EL=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vb(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${hT}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(hT),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(hT,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(py),P(VI,8),P(as))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const fT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mT=/%COMP%/g,VQ=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function xL(n,e){return e.map(t=>t.replace(mT,n))}let pT=(()=>{class n{constructor(t,i,r,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Vb(a),this.defaultRenderer=new gT(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Xr.ShadowDom&&(i={...i,encapsulation:Xr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof TL?r.applyToHost(t):r instanceof _T&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Xr.Emulated:o=new TL(c,d,i,this.appId,h,s,a,p);break;case Xr.ShadowDom:return new zQ(c,d,t,i,s,a,this.nonce,p);default:o=new _T(c,d,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(P(bL),P(EL),P(py),P(VQ),P(wt),P(as),P(Be),P(VI))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class gT{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(CL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new j(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=fT[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=fT[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Rc.DashCase|Rc.Important)?e.style.setProperty(t,i,r&Rc.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Rc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Vc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function CL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zQ extends gT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=xL(r.id,r.styles);for(const h of d){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _T extends gT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?xL(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class TL extends _T{constructor(e,t,i,r,o,s,a,c){const d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=function BQ(n){return"_ngcontent-%COMP%".replace(mT,n)}(d),this.hostAttr=function UQ(n){return"_nghost-%COMP%".replace(mT,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let HQ=(()=>{class n extends wL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const DL=["alt","control","meta","shift"],$Q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let GQ=(()=>{class n extends wL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),DL.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=$Q[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),DL.forEach(s=>{s!==r&&(0,qQ[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const AL=[{provide:as,useValue:pL},{provide:dR,useValue:function WQ(){dT.makeCurrent()},multi:!0},{provide:wt,useFactory:function KQ(){return function F$(n){LI=n}(document),document},deps:[]}],QQ=gF(dZ,"browser",AL),YQ=new X(""),kL=[{provide:vb,useClass:class PQ{addToWindow(e){zt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new j(5103,!1);return o},zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),zt.getAllAngularRootElements=()=>e.getAllRootElements(),zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(i=>{const r=zt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Vc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:hF,useClass:kC,deps:[Be,MC,vb]},{provide:kC,useClass:kC,deps:[Be,MC,vb]}],ML=[{provide:MI,useValue:"root"},{provide:cs,useFactory:function ZQ(){return new cs},deps:[]},{provide:uT,useClass:HQ,multi:!0,deps:[wt,Be,as]},{provide:uT,useClass:GQ,multi:!0,deps:[wt]},pT,EL,bL,{provide:px,useExisting:pT},{provide:gL,useClass:OQ,deps:[]},[]];let RL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:py,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(YQ,12))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({providers:[...ML,...kL],imports:[Jp,uZ]})}return n})(),PL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function JQ(){return new PL(P(wt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:oY}=Array,{getPrototypeOf:sY,prototype:aY,keys:cY}=Object;function VL(n){if(1===n.length){const e=n[0];if(oY(e))return{args:e,keys:null};if(function lY(n){return n&&"object"==typeof n&&sY(n)===aY}(e)){const t=cY(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:dY}=Array;function bT(n){return _e(e=>function uY(n,e){return dY(e)?n(...e):n(e)}(n,e))}function BL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ng(...n){const e=Cl(n),t=Qf(n),{args:i,keys:r}=VL(n);if(0===i.length)return Kt([],e);const o=new It(function hY(n,e,t=Ti){return i=>{UL(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)UL(e,()=>{const d=Kt(n[c],e);let h=!1;d.subscribe(be(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>BL(r,s):Ti));return t?o.pipe(bT(t)):o}function UL(n,e,t){n?Jo(t,n,e):e()}const zb=gi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Hb(...n){return function fY(){return Ya(1)}()(Kt(n,Cl(n)))}function jL(n){return new It(e=>{De(n()).subscribe(e)})}function ig(n,e){const t=Fe(n)?n:()=>n,i=r=>r.error(t());return new It(e?r=>e.schedule(i,0,r):i)}function wT(){return de((n,e)=>{let t=null;n._refCount++;const i=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class zL extends It{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,F(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rt;const t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rt.EMPTY)}return e}refCount(){return wT()(this)}}function ao(n){return n<=0?()=>wo:de((e,t)=>{let i=0;e.subscribe(be(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function yd(...n){const e=Cl(n);return de((t,i)=>{(e?Hb(n,t,e):Hb(n,t)).subscribe(i)})}function $n(n,e){return de((t,i)=>{let r=0;t.subscribe(be(i,o=>n.call(e,o,r++)&&i.next(o)))})}function $b(n){return de((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function HL(n=mY){return de((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function mY(){return new zb}function Uc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?$n((r,o)=>n(r,o,i)):Ti,ao(1),t?$b(e):HL(()=>new zb))}function Ph(n,e){return Fe(e)?vi(n,e,1):vi(n,1)}function ni(n,e,t){const i=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return i?de((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(be(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Ti}function bd(n){return de((e,t)=>{let o,i=null,r=!1;i=e.subscribe(be(t,void 0,void 0,s=>{o=De(n(s,bd(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function qb(n,e){return de(function pY(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(be(s,h=>{const p=d++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function ET(n){return n<=0?()=>wo:de((e,t)=>{let i=[];e.subscribe(be(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function IT(n){return _e(()=>n)}function Oh(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function sr(n){return de((e,t)=>{De(n).subscribe(be(t,()=>t.complete(),gr)),!t.closed&&e.subscribe(t)})}const dt="primary",rg=Symbol("RouteTitle");class _Y{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Nh(n){return new _Y(n)}function vY(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Hs(n,e){const t=n?xT(n):void 0,i=e?xT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!$L(n[r],e[r]))return!1;return!0}function xT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $L(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function qL(n){return n.length>0?n[n.length-1]:null}function jc(n){return function rY(n){return!!n&&(n instanceof It||Fe(n.lift)&&Fe(n.subscribe))}(n)?n:Hp(n)?Kt(Promise.resolve(n)):Ee(n)}const bY={exact:function ZL(n,e,t){if(!wd(n.segments,e.segments)||!Gb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ZL(n.children[i],e.children[i],t))return!1;return!0},subset:KL},GL={exact:function wY(n,e){return Hs(n,e)},subset:function EY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$L(n[t],e[t]))},ignored:()=>!0};function WL(n,e,t){return bY[t.paths](n.root,e.root,t.matrixParams)&&GL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function KL(n,e,t){return QL(n,e,e.segments,t)}function QL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!wd(r,t)||e.hasChildren()||!Gb(r,t,i))}if(n.segments.length===t.length){if(!wd(n.segments,t)||!Gb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!KL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(wd(n.segments,r)&&Gb(n.segments,r,i)&&n.children[dt])&&QL(n.children[dt],e,o,i)}}function Gb(n,e,t){return e.every((i,r)=>GL[t](n[r].parameters,i.parameters))}class Fh{constructor(e=new rn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nh(this.queryParams)),this._queryParamMap}toString(){return CY.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wb(this)}}class og{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Nh(this.parameters)),this._parameterMap}toString(){return JL(this)}}function wd(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Lh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>new CT,providedIn:"root"})}return n})();class CT{parse(e){const t=new FY(e);return new Fh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${sg(e.root,!0)}`,i=function SY(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Zb(t)}=${Zb(r)}`).join("&"):`${Zb(t)}=${Zb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function TY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const CY=new CT;function Wb(n){return n.segments.map(e=>JL(e)).join("/")}function sg(n,e){if(!n.hasChildren())return Wb(n);if(e){const t=n.children[dt]?sg(n.children[dt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==dt&&i.push(`${r}:${sg(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function xY(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===dt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==dt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===dt?[sg(n.children[dt],!1)]:[`${r}:${sg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dt]?`${Wb(n)}/${t[0]}`:`${Wb(n)}/(${t.join("//")})`}}function YL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zb(n){return YL(n).replace(/%3B/gi,";")}function TT(n){return YL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kb(n){return decodeURIComponent(n)}function XL(n){return Kb(n.replace(/\+/g,"%20"))}function JL(n){return`${TT(n.path)}${function DY(n){return Object.keys(n).map(e=>`;${TT(e)}=${TT(n[e])}`).join("")}(n.parameters)}`}const AY=/^[^\/()?;#]+/;function DT(n){const e=n.match(AY);return e?e[0]:""}const kY=/^[^\/()?;=#]+/,RY=/^[^=?&#]+/,OY=/^[^&#]+/;class FY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[dt]=new rn(e,t)),i}parseSegment(){const e=DT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new og(Kb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function MY(n){const e=n.match(kY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=DT(this.remaining);r&&(i=r,this.capture(i))}e[Kb(t)]=Kb(i)}parseQueryParam(e){const t=function PY(n){const e=n.match(RY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function NY(n){const e=n.match(OY);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=XL(t),o=XL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=DT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new j(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=dt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[dt]:new rn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}}function e2(n){return n.segments.length>0?new rn([],{[dt]:n}):n}function t2(n){const e={};for(const i of Object.keys(n.children)){const o=t2(n.children[i]);if(i===dt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function LY(n){if(1===n.numberOfChildren&&n.children[dt]){const e=n.children[dt];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function Ed(n){return n instanceof Fh}function n2(n){let e;const r=e2(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new rn(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function r2(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return ST(r,r,r,t,i);const o=function BY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new s2(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new s2(t,e,i)}(e);if(o.toRoot())return ST(r,r,new rn([],{}),t,i);const s=function UY(n,e,t){if(n.isAbsolute)return new Yb(e,!0,0);if(!t)return new Yb(e,!1,NaN);if(null===t.parent)return new Yb(t,!0,0);const i=Qb(n.commands[0])?0:1;return function jY(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new Yb(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?cg(s.segmentGroup,s.index,o.commands):a2(s.segmentGroup,s.index,o.commands);return ST(r,s.segmentGroup,a,t,i)}function Qb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ag(n){return"object"==typeof n&&null!=n&&n.outlets}function ST(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`}),s=n===e?t:o2(n,e,t);const a=e2(t2(s));return new Fh(a,o,r)}function o2(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:o2(o,e,t)}),new rn(n.segments,i)}class s2{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Qb(i[0]))throw new j(4003,!1);const r=i.find(ag);if(r&&r!==qL(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function a2(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return cg(n,e,t);const i=function HY(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(ag(a))break;const c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!l2(c,d,s))return o;i+=2}else{if(!l2(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new rn(n.segments.slice(0,i.pathIndex),{});return o.children[dt]=new rn(n.segments.slice(i.pathIndex),n.children),cg(o,0,r)}return i.match&&0===r.length?new rn(n.segments,{}):i.match&&!n.hasChildren()?AT(n,e,t):i.match?cg(n,0,r):AT(n,e,t)}function cg(n,e,t){if(0===t.length)return new rn(n.segments,{});{const i=function zY(n){return ag(n[0])?n[0].outlets:{[dt]:n}}(t),r={};if(Object.keys(i).some(o=>o!==dt)&&n.children[dt]&&1===n.numberOfChildren&&0===n.children[dt].segments.length){const o=cg(n.children[dt],e,t);return new rn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=a2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new rn(n.segments,r)}}function AT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(ag(o)){const c=$Y(o.outlets);return new rn(i,c)}if(0===r&&Qb(t[0])){i.push(new og(n.segments[e].path,c2(t[0]))),r++;continue}const s=ag(o)?o.outlets[dt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Qb(a)?(i.push(new og(s,c2(a))),r+=2):(i.push(new og(s,{})),r++)}return new rn(i,{})}function $Y(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=AT(new rn([],{}),0,i))}),e}function c2(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function l2(n,e,t){return n==t.path&&Hs(e,t.parameters)}const lg="imperative";class $s{constructor(e,t){this.id=e,this.url=t}}class Xb extends $s{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ma extends $s{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vh extends $s{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bh extends $s{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Jb extends $s{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class d2 extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qY extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GY extends $s{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WY extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZY extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u2{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kT{}class MT{constructor(e){this.url=e}}class tX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dg,this.attachRef=null}}let dg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new tX,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class h2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=RT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=RT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=PT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return PT(e,this._root).map(t=>t.value)}}function RT(n,e){if(n===e.value)return e;for(const t of e.children){const i=RT(n,t);if(i)return i}return null}function PT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=PT(n,t);if(i.length)return i.unshift(e),i}return[]}class ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class f2 extends h2{constructor(e,t){super(e),this.snapshot=t,FT(this,e)}toString(){return this.snapshot.toString()}}function m2(n,e){const t=function nX(n,e){const s=new NT([],{},{},"",{},dt,e,null,{});return new p2("",new ms(s,[]))}(0,e),i=new er([new og("",{})]),r=new er({}),o=new er({}),s=new er({}),a=new er(""),c=new jh(i,r,s,a,o,dt,e,t.root);return c.snapshot=t.root,new f2(new ms(c,[]),t)}class jh{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(d=>d[rg]))??Ee(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Nh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Nh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:n.params,data:n.data,resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&_2(r)&&(i.resolve[rg]=r.title),i}class NT{get title(){return this.data?.[rg]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class p2 extends h2{constructor(e,t){super(t),this.url=e,FT(this,t)}toString(){return g2(this._root)}}function FT(n,e){e.value._routerState=n,e.children.forEach(t=>FT(n,t))}function g2(n){const e=n.children.length>0?` { ${n.children.map(g2).join(", ")} } `:"";return`${n.value}${e}`}function LT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hs(e.params,t.params)||n.paramsSubject.next(t.params),function yY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Hs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function VT(n,e){const t=Hs(n.params,e.params)&&function IY(n,e){return wd(n,e)&&n.every((t,i)=>Hs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||VT(n.parent,e.parent))}function _2(n){return"string"==typeof n.title||null===n.title}let BT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.parentContexts=le(dg),this.location=le(Po),this.changeDetector=le(Fs),this.environmentInjector=le(no),this.inputBinder=le(ew,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new iX(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Er]})}return n})();class iX{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===jh?this.route:e===dg?this.childContexts:this.parent.get(e,t)}}const ew=new X("");let v2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=ng([i.queryParams,i.params,i.data]).pipe(Bt(([o,s,a],c)=>(a={...o,...s,...a},0===c?Ee(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function PZ(n){const e=ct(n);if(!e)return null;const t=new Tp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function ug(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function oX(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ug(n,i,r);return ug(n,i)})}(n,e,t);return new ms(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ug(n,a)),s}}const i=function sX(n){return new jh(new er(n.url),new er(n.params),new er(n.queryParams),new er(n.fragment),new er(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>ug(n,o));return new ms(i,r)}}const UT="ngNavigationCancelingError";function y2(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ed(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=b2(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function b2(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[UT]=!0,i.cancellationCode=e,t&&(i.url=t),i}function w2(n){return n&&n[UT]}let E2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dn({type:n,selectors:[["ng-component"]],standalone:!0,features:[db],decls:1,vars:0,template:function(i,r){1&i&&ze(0,"router-outlet")},dependencies:[BT],encapsulation:2})}return n})();function jT(n){const e=n.children&&n.children.map(jT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==dt&&(t.component=E2),t}function qs(n){return n.outlet||dt}function hg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class mX{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),LT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Uh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Uh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Uh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Uh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eX(o.value.snapshot))}),e.children.length&&this.forwardEvent(new XY(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(LT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),LT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=hg(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class I2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tw{constructor(e,t){this.component=e,this.route=t}}function pX(n,e,t){const i=n._root;return fg(i,e?e._root:null,t,[i.value])}function zh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function av(n){return null!==da(n)}(n)?e.get(n):n:i}function fg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Uh(e);return n.children.forEach(s=>{(function _X(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function vX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wd(n.url,e.url)||!Hs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VT(n,e)||!Hs(n.queryParams,e.queryParams);default:return!VT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new I2(i)):(o.data=s.data,o._resolvedData=s._resolvedData),fg(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new tw(a.outlet.component,s))}else s&&mg(e,a,r),r.canActivateChecks.push(new I2(i)),fg(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mg(a,t.getContext(s),r)),r}function mg(n,e,t){const i=Uh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{mg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new tw(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function pg(n){return"function"==typeof n}function x2(n){return n instanceof zb||"EmptyError"===n?.name}const nw=Symbol("INITIAL_VALUE");function Hh(){return Bt(n=>ng(n.map(e=>e.pipe(ao(1),yd(nw)))).pipe(_e(e=>{for(const t of e)if(!0!==t){if(t===nw)return nw;if(!1===t||t instanceof Fh)return t}return!0}),$n(e=>e!==nw),ao(1)))}function C2(n){return function Es(...n){return oa(n)}(ni(e=>{if(Ed(e))throw y2(0,e)}),_e(e=>!0===e))}class zT{constructor(e){this.segmentGroup=e||null}}class HT extends Error{constructor(e){super(),this.urlTree=e}}function $h(n){return ig(new zT(n))}class VX{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new j(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ee(i);if(r.numberOfChildren>1||!r.children[dt])return ig(new j(4e3,!1));r=r.children[dt]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new HT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Fh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new rn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const $T={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BX(n,e,t,i,r){const o=qT(n,e,t);return o.matched?(i=function cX(n,e){return n.providers&&!n._injector&&(n._injector=gC(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function NX(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ee(r.map(s=>{const a=zh(s,n);return jc(function xX(n){return n&&pg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Hh(),C2()):Ee(!0)}(i,e,t).pipe(_e(s=>!0===s?o:{...$T}))):Ee(o)}function qT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...$T}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||vY)(t,n,e);if(!r)return{...$T};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function T2(n,e,t,i){return t.length>0&&function zX(n,e,t){return t.some(i=>iw(n,e,i)&&qs(i)!==dt)}(n,t,i)?{segmentGroup:new rn(e,jX(i,new rn(t,n.children))),slicedSegments:[]}:0===t.length&&function HX(n,e,t){return t.some(i=>iw(n,e,i))}(n,t,i)?{segmentGroup:new rn(n.segments,UX(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new rn(n.segments,n.children),slicedSegments:t}}function UX(n,e,t,i,r){const o={};for(const s of i)if(iw(n,t,s)&&!r[qs(s)]){const a=new rn([],{});o[qs(s)]=a}return{...r,...o}}function jX(n,e){const t={};t[dt]=e;for(const i of n)if(""===i.path&&qs(i)!==dt){const r=new rn([],{});t[qs(i)]=r}return t}function iw(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class GX{}class KX{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new VX(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,!1)}recognize(){const e=T2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_e(t=>{const i=new NT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,{}),r=new ms(i,t),o=new p2("",r),s=function VY(n,e,t=null,i=null){return r2(n2(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,dt).pipe(bd(i=>{if(i instanceof HT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof zT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=OT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(_e(o=>o instanceof ms?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Kt(r).pipe(Ph(o=>{const s=i.children[o],a=function hX(n,e){const t=n.filter(i=>qs(i)===e);return t.push(...n.filter(i=>qs(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),qb((o,s)=>(o.push(...s),o)),$b(null),function gY(n,e){const t=arguments.length>=2;return i=>i.pipe(n?$n((r,o)=>n(r,o,i)):Ti,ET(1),t?$b(e):HL(()=>new zb))}(),vi(o=>{if(null===o)return $h(i);const s=D2(o);return function QX(n){n.sort((e,t)=>e.value.outlet===dt?-1:t.value.outlet===dt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Ee(s)}))}processSegment(e,t,i,r,o,s){return Kt(t).pipe(Ph(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(bd(c=>{if(c instanceof zT)return Ee(null);throw c}))),Uc(a=>!!a),bd(a=>{if(x2(a))return function qX(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?Ee(new GX):$h(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function $X(n,e,t,i){return!!(qs(n)===i||i!==dt&&iw(e,t,n))&&("**"===n.path||qT(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):$h(r):$h(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:d,remainingSegments:h}="**"===r.path?S2(o):qT(t,r,o);if(!a)return $h(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(vi(g=>this.processSegment(e,i,t,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s;return"**"===i.path?(s=Ee(S2(r)),t.children={}):s=BX(t,i,r,e),s.pipe(Bt(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Bt(({routes:c})=>{const d=i._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,v=new NT(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function XX(n){return n.data||{}}(i),qs(i),i.component??i._loadedComponent??null,i,function JX(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:w}=T2(t,h,p,c);if(0===w.length&&b.hasChildren())return this.processChildren(d,c,b).pipe(_e(k=>null===k?null:new ms(v,k)));if(0===c.length&&0===w.length)return Ee(new ms(v,[]));const E=qs(i)===o;return this.processSegment(d,c,b,w,E?dt:o,!0).pipe(_e(k=>new ms(v,k instanceof ms?[k]:[])))})):$h(t)))}getChildConfig(e,t,i){return t.children?Ee({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ee({routes:t._loadedRoutes,injector:t._loadedInjector}):function OX(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ee(!0):Ee(r.map(s=>{const a=zh(s,n);return jc(function bX(n){return n&&pg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Hh(),C2())}(e,t,i).pipe(vi(r=>r?this.configLoader.loadChildren(e,t).pipe(ni(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function LX(n){return ig(b2(!1,3))}())):Ee({routes:[],injector:e})}}function YX(n){const e=n.value.routeConfig;return e&&""===e.path}function D2(n){const e=[],t=new Set;for(const i of n){if(!YX(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=D2(i.children);e.push(new ms(i.value,r))}return e.filter(i=>!t.has(i))}function S2(n){return{matched:!0,parameters:n.length>0?qL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function tJ(n,e){return vi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ee(t);const o=r.map(d=>d.route),s=new Set(o),a=A2(o[0].parent).slice(1);let c=0;return Kt(a).pipe(Ph(d=>s.has(d)?function nJ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!_2(r)&&(o[rg]=r.title),function iJ(n,e,t,i){const r=xT(n);if(0===r.length)return Ee({});const o={};return Kt(r).pipe(vi(s=>function rJ(n,e,t,i){const r=hg(e)??i,o=zh(n,r);return jc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Uc(),ni(a=>{o[s]=a}))),ET(1),IT(o),bd(s=>x2(s)?wo:ig(s)))}(o,n,e,i).pipe(_e(s=>(n._resolvedData=s,n.data=OT(n,n.parent,t).resolve,null)))}(d,i,n,e):(d.data=OT(d,d.parent,n).resolve,Ee(void 0))),ni(()=>c++),ET(1),vi(d=>c===a.length?Ee(t):wo))})}function A2(n){const e=n.children.map(t=>A2(t)).flat();return[n,...e]}function GT(n){return Bt(e=>{const t=n(e);return t?Kt(t).pipe(_e(()=>e)):Ee(e)})}let k2=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===dt);return i}getResolvedTitleForRoute(t){return t.data[rg]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(oJ),providedIn:"root"})}return n})(),oJ=(()=>{class n extends k2{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(P(PL))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qh=new X("",{providedIn:"root",factory:()=>({})}),Gh=new X("ROUTES");let WT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(aF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=jc(t.loadComponent()).pipe(_e(M2),ni(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Oh(()=>{this.componentLoaders.delete(t)})),r=new zL(i,()=>new T).pipe(wT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function sJ(n,e,t,i){return jc(n.loadChildren()).pipe(_e(M2),vi(r=>r instanceof xN||Array.isArray(r)?Ee(r):Kt(e.compileModuleAsync(r))),_e(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Gh,[],{optional:!0,self:!0}).flat()),{routes:s.map(jT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Oh(()=>{this.childrenLoaders.delete(i)})),s=new zL(o,()=>new T).pipe(wT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M2(n){return function aJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ZT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(cJ),providedIn:"root"})}return n})(),cJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const R2=new X(""),P2=new X("");function lJ(n,e,t){const i=n.get(P2),r=n.get(wt);return n.get(Be).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),function dJ(n){return new Promise(e=>{XP(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&function S$(n,e){n instanceof od&&n.assertNotDestroyed();const i=Ts(n),r=Di(void 0);try{return e()}finally{Ts(i),Di(r)}}(n,()=>c({transition:a,from:e,to:t})),s})}let rw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new T,this.transitionAbortSubject=new T,this.configLoader=le(WT),this.environmentInjector=le(no),this.urlSerializer=le(Lh),this.rootContexts=le(dg),this.location=le(Mh),this.inputBindingEnabled=null!==le(ew,{optional:!0}),this.titleStrategy=le(k2),this.options=le(qh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=le(ZT),this.createViewTransition=le(R2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new QY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new KY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new er({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lg,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($n(o=>0!==o.id),_e(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bt(o=>{this.currentTransition=o;let s=!1,a=!1;return Ee(o).pipe(ni(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Bt(c=>{const d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Bh(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),wo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ee(c).pipe(Bt(p=>{const g=this.transitions?.getValue();return this.events.next(new Xb(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?wo:Promise.resolve(p)}),function eJ(n,e,t,i,r,o){return vi(s=>function WX(n,e,t,i,r,o,s="emptyOnly"){return new KX(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(_e(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ni(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new d2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:v,restoredState:b,extras:w}=c,E=new Xb(p,this.urlSerializer.serialize(g),v,b);this.events.next(E);const k=m2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:k,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Ee(o)}{const p="";return this.events.next(new Bh(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),wo}}),ni(c=>{const d=new qY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),_e(c=>(this.currentTransition=o={...c,guards:pX(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function TX(n,e){return vi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Ee({...t,guardsResult:!0}):function DX(n,e,t,i){return Kt(n).pipe(vi(r=>function PX(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ee(o.map(a=>{const c=hg(e)??r,d=zh(a,c);return jc(function IX(n){return n&&pg(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):c.runInContext(()=>d(n,e,t,i))).pipe(Uc())})).pipe(Hh()):Ee(!0)}(r.component,r.route,t,e,i)),Uc(r=>!0!==r,!0))}(s,i,r,n).pipe(vi(a=>a&&function yX(n){return"boolean"==typeof n}(a)?function SX(n,e,t,i){return Kt(e).pipe(Ph(r=>Hb(function kX(n,e){return null!==n&&e&&e(new YY(n)),Ee(!0)}(r.route.parent,i),function AX(n,e){return null!==n&&e&&e(new JY(n)),Ee(!0)}(r.route,i),function RX(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function gX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>jL(()=>Ee(s.guards.map(c=>{const d=hg(s.node)??t,h=zh(c,d);return jc(function EX(n){return n&&pg(n.canActivateChild)}(h)?h.canActivateChild(i,n):d.runInContext(()=>h(i,n))).pipe(Uc())})).pipe(Hh())));return Ee(o).pipe(Hh())}(n,r.path,t),function MX(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ee(!0);const r=i.map(o=>jL(()=>{const s=hg(e)??t,a=zh(o,s);return jc(function wX(n){return n&&pg(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Uc())}));return Ee(r).pipe(Hh())}(n,r.route,t))),Uc(r=>!0!==r,!0))}(i,o,n,e):Ee(a)),_e(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ni(c=>{if(o.guardsResult=c.guardsResult,Ed(c.guardsResult))throw y2(0,c.guardsResult);const d=new GY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),$n(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),GT(c=>{if(c.guards.canActivateChecks.length)return Ee(c).pipe(ni(d=>{const h=new WY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Bt(d=>{let h=!1;return Ee(d).pipe(tJ(this.paramsInheritanceStrategy,this.environmentInjector),ni({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),ni(d=>{const h=new ZY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),GT(c=>{const d=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ni(g=>{h.component=g}),_e(()=>{})));for(const g of h.children)p.push(...d(g));return p};return ng(d(c.targetSnapshot.root)).pipe($b(),ao(1))}),GT(()=>this.afterPreactivation()),Bt(()=>{const{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Kt(h).pipe(_e(()=>o)):Ee(o)}),_e(c=>{const d=function rX(n,e,t){const i=ug(n,e._root,t?t._root:void 0);return new f2(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),ni(()=>{this.events.next(new kT)}),((n,e,t,i)=>_e(r=>(new mX(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ao(1),ni({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ma(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),sr(this.transitionAbortSubject.pipe(ni(c=>{throw c}))),Oh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),bd(c=>{if(a=!0,w2(c))this.events.next(new Vh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function aX(n){return w2(n)&&Ed(n.url)}(c)?this.events.next(new MT(c.url)):o.resolve(!1);else{this.events.next(new Jb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return wo}))}))}cancelNavigationTransition(t,i,r){const o=new Vh(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uJ(n){return n!==lg}let hJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(mJ),providedIn:"root"})}return n})();class fJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let mJ=(()=>{class n extends fJ{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(pJ),providedIn:"root"})}return n})(),pJ=(()=>{class n extends O2{constructor(){super(...arguments),this.location=le(Mh),this.urlSerializer=le(Lh),this.options=le(qh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=le(ZT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=m2(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Xb)this.stateMemento=this.createStateMemento();else if(t instanceof Bh)this.rawUrlTree=i.initialUrl;else if(t instanceof d2){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof kT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Vh&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof Jb?this.restoreHistory(i,!0):t instanceof Ma&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gg||{});function N2(n,e){n.events.pipe($n(t=>t instanceof Ma||t instanceof Vh||t instanceof Jb||t instanceof Bh),_e(t=>t instanceof Ma||t instanceof Bh?gg.COMPLETE:t instanceof Vh&&(0===t.code||1===t.code)?gg.REDIRECTING:gg.FAILED),$n(t=>t!==gg.REDIRECTING),ao(1)).subscribe(()=>{e()})}function gJ(n){throw n}const _J={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=le(oF),this.stateManager=le(O2),this.options=le(qh,{optional:!0})||{},this.pendingTasks=le(gb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=le(rw),this.urlSerializer=le(Lh),this.location=le(Mh),this.urlHandlingStrategy=le(ZT),this._events=new T,this.errorHandler=this.options.errorHandler||gJ,this.navigated=!1,this.routeReuseStrategy=le(hJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=le(Gh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!le(ew,{optional:!0}),this.eventsSubscription=new Rt,this.isNgZoneEnabled=le(Be)instanceof Be&&Be.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Vh&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof Ma)this.navigated=!0;else if(i instanceof MT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uJ(r.source)};this.scheduleNavigation(s,lg,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function bJ(n){return!(n instanceof kT||n instanceof MT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=n2(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return r2(p,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ed(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,lg,null,i)}navigate(t,i={skipLocationChange:!1}){return function yJ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new j(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{..._J}:!1===i?{...vJ}:i,Ed(t))return WL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return WL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return N2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wh=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new T,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Ma&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function nP(n,e,t){return function X5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?tP:My}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ar),R(jh),function Wu(n){return function vI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(pv(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Ot(),n)}("tabindex"),R(Ca),R(Qt),R(vd))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Re("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&rr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",kh],skipLocationChange:["skipLocationChange","skipLocationChange",kh],replaceUrl:["replaceUrl","replaceUrl",kh],routerLink:"routerLink"},standalone:!0,features:[c1,Er]})}return n})();class F2{}let IJ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe($n(t=>t instanceof Ma),Ph(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=gC(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Kt(r).pipe(Ya())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ee(null);const o=r.pipe(vi(s=>null===s?Ee(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?Kt([o,this.loader.loadComponent(i)]).pipe(Ya()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ar),P(aF),P(no),P(F2),P(WT))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KT=new X("");let L2=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ma?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof u2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new u2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function CP(){throw new Error("invalid")}()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Gs(n,e){return{\u0275kind:n,\u0275providers:e}}function B2(){const n=le(qi);return e=>{const t=n.get(Lc);if(e!==t.components[0])return;const i=n.get(Ar),r=n.get(U2);1===n.get(QT)&&i.initialNavigation(),n.get(j2,null,pt.Optional)?.setUpPreloading(),n.get(KT,null,pt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const U2=new X("",{factory:()=>new T}),QT=new X("",{providedIn:"root",factory:()=>1}),j2=new X("");function DJ(n){return Gs(0,[{provide:j2,useExisting:IJ},{provide:F2,useExisting:n}])}function AJ(n){return Gs(9,[{provide:R2,useValue:lJ},{provide:P2,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const z2=new X("ROUTER_FORROOT_GUARD"),kJ=[Mh,{provide:Lh,useClass:CT},Ar,dg,{provide:jh,useFactory:function V2(n){return n.routerState.root},deps:[Ar]},WT,[]];let H2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[kJ,[],{provide:Gh,multi:!0,useValue:t},{provide:z2,useFactory:OJ,deps:[[Ar,new f,new u]]},{provide:qh,useValue:i||{}},i?.useHash?{provide:vd,useClass:VZ}:{provide:vd,useClass:QF},{provide:KT,useFactory:()=>{const n=le(oQ),e=le(Be),t=le(qh),i=le(rw),r=le(Lh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new L2(r,i,n,e,t)}},i?.preloadingStrategy?DJ(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?NJ(i):[],i?.bindToComponentInputs?Gs(8,[v2,{provide:ew,useExisting:v2}]).\u0275providers:[],i?.enableViewTransitions?AJ().\u0275providers:[],[{provide:$2,useFactory:B2},{provide:OC,multi:!0,useExisting:$2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Gh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(z2,8))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({})}return n})();function OJ(n){return"guarded"}function NJ(n){return["disabled"===n.initialNavigation?Gs(3,[{provide:DC,multi:!0,useFactory:()=>{const e=le(Ar);return()=>{e.setUpLocationChangeListener()}}},{provide:QT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gs(2,[{provide:QT,useValue:0},{provide:DC,multi:!0,deps:[qi],useFactory:e=>{const t=e.get(FZ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ar),o=e.get(U2);N2(r,()=>{i(!0)}),e.get(rw).afterPreactivation=()=>(i(!0),o.closed?Ee(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const $2=new X("");class YT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class q2 extends YT{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class ow extends YT{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class LJ extends YT{constructor(e){super(),this.element=e instanceof Qt?e.nativeElement:e}}class VJ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof q2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof ow?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof LJ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BJ extends VJ{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||qi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let UJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({})}return n})();function kr(n){return null!=n&&"false"!=`${n}`}function sw(n,e=0){return function jJ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function aw(n){return Array.isArray(n)?n:[n]}function hi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Id(n){return n instanceof Qt?n.nativeElement:n}const zJ=["addListener","removeListener"],HJ=["addEventListener","removeEventListener"],$J=["on","off"];function _g(n,e,t,i){if(Fe(t)&&(i=t,t=void 0),i)return _g(n,e,t).pipe(bT(i));const[r,o]=function WJ(n){return Fe(n.addEventListener)&&Fe(n.removeEventListener)}(n)?HJ.map(s=>a=>n[s](e,a,t)):function qJ(n){return Fe(n.addListener)&&Fe(n.removeListener)}(n)?zJ.map(G2(n,e)):function GJ(n){return Fe(n.on)&&Fe(n.off)}(n)?$J.map(G2(n,e)):[];if(!r&&Un(n))return vi(s=>_g(s,e,t))(De(n));if(!r)throw new TypeError("Invalid event target");return new It(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function G2(n,e){return t=>i=>n[t](e,i)}class ZJ extends Rt{constructor(e,t){super()}schedule(e,t=0){return this}}const cw={setInterval(n,e,...t){const{delegate:i}=cw;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=cw;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class lw extends ZJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return cw.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&cw.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oi(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const vg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=vg;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Rt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=vg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=vg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},XT={now:()=>(XT.delegate||Date).now(),delegate:void 0};class yg{constructor(e,t=yg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}yg.now=XT.now;class dw extends yg{constructor(e,t=yg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class QJ extends dw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class KJ extends lw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=vg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(vg.cancelAnimationFrame(t),e._scheduled=void 0)}});let JT,XJ=1;const uw={};function W2(n){return n in uw&&(delete uw[n],!0)}const JJ={setImmediate(n){const e=XJ++;return uw[e]=!0,JT||(JT=Promise.resolve()),JT.then(()=>W2(e)&&n()),e},clearImmediate(n){W2(n)}},{setImmediate:eee,clearImmediate:tee}=JJ,hw={setImmediate(...n){const{delegate:e}=hw;return(e?.setImmediate||eee)(...n)},clearImmediate(n){const{delegate:e}=hw;return(e?.clearImmediate||tee)(n)},delegate:void 0},xd=(new class iee extends dw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class nee extends lw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=hw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(hw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new dw(lw)),oee=xd;function fw(n=0,e,t=oee){let i=-1;return null!=e&&(J_(e)?t=e:i=e),new It(r=>{let o=function aee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Z2(n,e=xd){return function see(n){return de((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,t.next(d)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(be(t,d=>{i=!0,r=d,o||De(n(d)).subscribe(o=be(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>fw(n,e))}let eD;try{eD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{eD=!1}let bg,pw,Cd,tD,qr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function rQ(n){return n===pL}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!eD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(P(as))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mw(n){return function cee(){if(null==bg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bg=!0}))}finally{bg=bg||!1}return bg}()?n:!!n.capture}function Q2(){if(null==Cd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Cd=!1,Cd;if("scrollBehavior"in document.documentElement.style)Cd=!0;else{const n=Element.prototype.scrollTo;Cd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Cd}function wg(){if("object"!=typeof document||!document)return 0;if(null==pw){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),pw=0,0===n.scrollLeft&&(n.scrollLeft=1,pw=0===n.scrollLeft?1:2),n.remove()}return pw}function zc(n){return n.composedPath?n.composedPath()[0]:n.target}function nD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const hee=new X("cdk-dir-doc",{providedIn:"root",factory:function fee(){return le(wt)}}),mee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let iD=(()=>{class n{constructor(t){this.value="ltr",this.change=new Yt,t&&(this.value=function pee(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?mee.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(P(hee,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Eg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({})}return n})(),gw=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new It(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Z2(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ee()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe($n(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Id(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_g(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Be),P(qr),P(wt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ig=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new T,this._elementScrolled=new It(s=>this.ngZone.runOutsideAngular(()=>_g(this.elementRef.nativeElement,"scroll").pipe(sr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=wg()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==wg()?t.left=t.right:1==wg()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;Q2()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==wg()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==wg()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(R(Qt),R(gw),R(Be),R(iD,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),rD=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new T,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Z2(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(P(qr),P(Be),P(wt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_w=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({})}return n})(),Y2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Eg,_w,Eg,_w]})}return n})();const X2=Q2();class vee{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=hi(-this._previousScrollPosition.left),e.style.top=hi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),X2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),X2&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class yee{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe($n(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class J2{enable(){}disable(){}attach(){}}function oD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function eV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class bee{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();oD(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wee=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new J2,this.close=s=>new yee(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new vee(this._viewportRuler,this._document),this.reposition=s=>new bee(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(P(gw),P(rD),P(Be),P(wt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Eee{constructor(e){if(this.scrollStrategy=new J2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Iee{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let tV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xee=(()=>{class n extends tV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(Be,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cee=(()=>{class n extends tV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=zc(o)},this._clickListener=o=>{const s=zc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){const h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(qr),P(Be,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nV=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||nD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),nD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(qr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Tee{constructor(e,t,i,r,o,s,a,c,d,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new T,this._attachments=new T,this._detachments=new T,this._locationChanges=Rt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new T,this._outsidePointerEvents=new T,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ao(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=hi(this._config.width),e.height=hi(this._config.height),e.minWidth=hi(this._config.minWidth),e.minHeight=hi(this._config.minHeight),e.maxWidth=hi(this._config.maxWidth),e.maxHeight=hi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=aw(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(sr(Xa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const iV="cdk-overlay-connected-position-bounding-box",Dee=/([A-Za-z%]+)$/;class See{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new T,this._resizeSubscription=Rt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(iV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(d,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,d,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const d of o){const h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,a=d)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Td(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=oV(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(s+=c),d&&(a+=d);let g=0-a,v=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,g,v),E=b*w;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=rV(this._overlayRef.getConfig().minHeight),a=rV(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=oV(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?d||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Iee(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=2*v,s=e.y-v,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const v=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;h=2*v,p=e.x-v,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-b/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=hi(i.height),r.top=hi(i.top),r.bottom=hi(i.bottom),r.width=hi(i.width),r.left=hi(i.left),r.right=hi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=hi(o)),s&&(r.maxWidth=hi(s))}this._lastBoundingBoxSize=i,Td(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Td(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Td(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();Td(i,this._getExactOverlayY(t,e,h)),Td(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=hi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=hi(s.maxWidth):o&&(i.maxWidth="")),Td(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=hi(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=hi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:eV(e,i),isOriginOutsideView:oD(e,i),isOverlayClipped:eV(t,i),isOverlayOutsideView:oD(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&aw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Qt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Td(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function rV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Dee);return t&&"px"!==t?null:parseFloat(e)}return n||null}function oV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const sV="cdk-global-overlay-wrapper";class Aee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(sV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),d=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let v="",b="",w="";c?w="flex-start":"center"===h?(w="center",g?b=p:v=p):g?"left"===h||"end"===h?(w="flex-end",v=p):("right"===h||"start"===h)&&(w="flex-start",b=p):"left"===h||"start"===h?(w="flex-start",v=p):("right"===h||"end"===h)&&(w="flex-end",b=p),e.position=this._cssPosition,e.marginLeft=c?"0":v,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=w,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(sV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let kee=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Aee}flexibleConnectedTo(t){return new See(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(P(rD),P(wt),P(qr),P(nV))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mee=0,vw=(()=>{class n{constructor(t,i,r,o,s,a,c,d,h,p,g,v){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=d,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Eee(t);return s.direction=s.direction||this._directionality.value,new Tee(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Mee++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Lc)),new BJ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wee),P(nV),P(bp),P(kee),P(xee),P(qi),P(Be),P(wt),P(iD),P(Mh),P(Cee),P(Qu,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Oee={provide:new X("cdk-connected-overlay-scroll-strategy"),deps:[vw],useFactory:function Pee(n){return()=>n.scrollStrategies.reposition()}};let Nee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({providers:[vw,Oee],imports:[Eg,UJ,Y2,Y2]})}return n})(),sD=(()=>{class n{constructor(t){this.overlay=t,this.overlayRef=null}openOverlay(t){const i={hasBackdrop:!0,positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()};this.overlayRef=this.overlay.create(i);const r=new q2(t);this.overlayRef.attach(r)}closeOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}static#e=this.\u0275fac=function(i){return new(i||n)(P(vw))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const aD=n=>({"selected-box":n});let Fee=(()=>{class n{constructor(t){this.overlayService=t,this.selectedBox="Default",this.content={Default:{title:"Settings page",description:"Customize everything to your liking!"},Appearence:{title:"Appearence Settings",description:"Customize the visual appearence of your application."},Privacy:{title:"Privacy Settings",description:"Manage your privacy preferences and settings."},Status:{title:"Status Settings",description:"Configure your status and online/offline preferences."}}}closeOverlay(){this.overlayService.closeOverlay()}changeContent(t){this.selectedBox=t}isBoxSelected(t){return this.selectedBox===t}static#e=this.\u0275fac=function(i){return new(i||n)(R(sD))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-settings"]],standalone:!0,features:[db],decls:25,vars:11,consts:[[1,"settings-overlay"],[1,"top-bar"],[1,"title"],["src","assets\\img\\settings.svg","alt",""],[1,"close"],[3,"click"],[1,"container"],[1,"side-bar"],[1,"box1",3,"ngClass","click"],[1,"box",3,"ngClass","click"],[1,"content"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1)(2,"div",2),ze(3,"img",3),A(4,"h1"),re(5,"Settings"),V()(),A(6,"div",4)(7,"button",5),Re("click",function(){return r.closeOverlay()}),re(8,"X"),V()()(),A(9,"div",6)(10,"div",7)(11,"div",8),Re("click",function(){return r.changeContent("Appearence")}),A(12,"h1"),re(13,"Appearence"),V()(),A(14,"div",9),Re("click",function(){return r.changeContent("Privacy")}),A(15,"h1"),re(16,"Privacy"),V()(),A(17,"div",9),Re("click",function(){return r.changeContent("Status")}),A(18,"h1"),re(19,"Status"),V()()(),A(20,"div",10)(21,"h1"),re(22),V(),A(23,"p"),re(24),V()()()()),2&i&&(fe(11),Ve("ngClass",fb(5,aD,r.isBoxSelected("Appearence"))),fe(3),Ve("ngClass",fb(7,aD,r.isBoxSelected("Privacy"))),fe(3),Ve("ngClass",fb(9,aD,r.isBoxSelected("Status"))),fe(5),ei(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].title),fe(2),ei(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].description))},dependencies:[Jp,cL],styles:[".settings-overlay[_ngcontent-%COMP%]{width:50vw;height:90vh;display:flex;flex-direction:column;align-items:center;color:#e0e1e1;border-radius:40px}.top-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#212121;border-top-right-radius:40px;border-top-left-radius:40px}.title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;margin-right:20px;margin-left:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#e0e1e1;font-weight:bolder;background:transparent;font-size:40px;border:none;margin-right:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e37a70}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{color:#e37a70;transform:scale(.9)}.container[_ngcontent-%COMP%]{width:100%;height:800px;display:flex}.side-bar[_ngcontent-%COMP%]{width:25%;min-width:156px;display:flex;flex-direction:column;align-items:center;background-color:#212121;border-bottom-left-radius:40px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{width:100%;text-align:center;border-bottom:thin solid #E37A70;font-size:13px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box1[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]:hover, .box1[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#2d2d2d}.selected-box[_ngcontent-%COMP%]{background-color:#313131}.content[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#313131;border-bottom-right-radius:40px}@media screen and (max-width: 768px){.settings-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh}.side-bar[_ngcontent-%COMP%]{min-width:110px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{font-size:9px}}"]})}return n})();const Lee=["dropdownTemplate"],Vee=["cancelTemplate"],Bee=["sendTemplate"];function Uee(n,e){1&n&&ze(0,"div",19)}function jee(n,e){1&n&&ze(0,"div",20)}function zee(n,e){if(1&n){const t=or();A(0,"div",23),Re("mouseenter",function(){const o=lt(t).$implicit;return rt(Pe(2).changeDropdownDisplayHover(o))})("click",function(){const o=lt(t).$implicit;return rt(Pe(2).changeDropdownDisplayClick(o))}),A(1,"h4"),re(2),V()()}if(2&n){const t=e.$implicit;fe(2),ei(t)}}function Hee(n,e){if(1&n&&(A(0,"div",21),bt(1,zee,3,1,"div",22),V()),2&n){const t=Pe();fe(1),Ve("ngForOf",t.problems)}}function $ee(n,e){if(1&n){const t=or();A(0,"div",24)(1,"div",25)(2,"h1"),re(3,"Cancel?"),V()(),A(4,"div",26)(5,"p"),re(6,"Are you sure?"),V(),A(7,"p"),re(8,"Your report will be lost."),V(),A(9,"div",27)(10,"p",28),Re("click",function(){return lt(t),rt(Pe().toggleCancel())}),re(11,"No"),V(),A(12,"p",29),Re("click",function(){return lt(t),rt(Pe().cancelYes())}),re(13,"Yes"),V()()()()}}function qee(n,e){if(1&n){const t=or();A(0,"div",24)(1,"div",25)(2,"h1"),re(3,"Are you sure?"),V()(),A(4,"div",26)(5,"p"),re(6,"Your report will be sent to"),V(),A(7,"p"),re(8,"company."),V(),A(9,"div",27)(10,"p",31),Re("click",function(){return lt(t),rt(Pe(2).toggleSend())}),re(11,"No"),V(),A(12,"p",32),Re("click",function(){return lt(t),rt(Pe(2).sendYes())}),re(13,"Yes"),V()()()()}}function Gee(n,e){if(1&n){const t=or();A(0,"div",24)(1,"div",25)(2,"h1"),re(3,"Successfully sent"),V()(),A(4,"div",26)(5,"p"),re(6,"Thank you for your feedback!"),V(),A(7,"div",27)(8,"p",33),Re("click",function(){return lt(t),rt(Pe(2).cancelYes())}),re(9,"Done!"),V()()()()}}function Wee(n,e){if(1&n&&bt(0,qee,14,0,"div",30)(1,Gee,10,0,"div",30),2&n){const t=Pe();Ve("ngIf",!t.sendIsYes),fe(1),Ve("ngIf",t.sendIsYes)}}let Zee=(()=>{class n{constructor(t,i,r,o){this.overlay=t,this.overlayService=i,this.viewContainerRef=r,this.elementRef=o,this.problems=["Transactions","Messages","Account","Credit","Posts","Other"],this.problem_with="Choose here...",this.dropdownIsOpen=!1,this.sendIsYes=!1}ngAfterViewInit(){this.initializeDropdown(),this.initializeCancel(),this.initializeSend()}initializeDropdown(){const t=this.elementRef.nativeElement.querySelector(".dropdown");if(t){const i=this.overlay.position().flexibleConnectedTo(t).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}]);this.dropdownoverlayRef=this.overlay.create({positionStrategy:i,hasBackdrop:!0,backdropClass:"dropdown-backdrop"}),this.dropdownoverlayRef.backdropClick().subscribe(()=>this.toggleDropdown())}}initializeCancel(){const t=this.overlay.position().global().centerHorizontally().centerVertically();this.cancelOverlayRef=this.overlay.create({positionStrategy:t,hasBackdrop:!0,backdropClass:"overlay-backdrop"})}initializeSend(){const t=this.overlay.position().global().centerHorizontally().centerVertically();this.sendOverlayRef=this.overlay.create({positionStrategy:t,hasBackdrop:!0,backdropClass:"overlay-backdrop"})}toggleDropdown(){if(this.dropdownoverlayRef.hasAttached())this.dropdownoverlayRef.detach(),this.dropdownIsOpen=!1;else{const t=new ow(this.dropdownTemplate,this.viewContainerRef);this.dropdownoverlayRef.attach(t),this.dropdownIsOpen=!0}}toggleCancel(){if(this.cancelOverlayRef.hasAttached())this.cancelOverlayRef.detach();else{const t=new ow(this.cancelTemplate,this.viewContainerRef);this.cancelOverlayRef.attach(t)}}toggleSend(){if(this.sendOverlayRef.hasAttached())this.sendOverlayRef.detach();else{const t=new ow(this.sendTemplate,this.viewContainerRef);this.sendOverlayRef.attach(t)}}changeDropdownDisplayHover(t){this.problem_with=t}changeDropdownDisplayClick(t){this.problem_with=t,this.toggleDropdown()}cancelYes(){this.cancelOverlayRef&&(this.cancelOverlayRef.detach(),this.cancelOverlayRef.dispose()),this.closeOverlay()}sendYes(){this.sendIsYes=!this.sendIsYes}closeOverlay(){this.overlayService.closeOverlay()}static#e=this.\u0275fac=function(i){return new(i||n)(R(vw),R(sD),R(Po),R(Qt))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-bug-report"]],viewQuery:function(i,r){if(1&i&&(pd(Lee,7),pd(Vee,7),pd(Bee,7)),2&i){let o;Mi(o=Ri())&&(r.dropdownTemplate=o.first),Mi(o=Ri())&&(r.cancelTemplate=o.first),Mi(o=Ri())&&(r.sendTemplate=o.first)}},standalone:!0,features:[db],decls:33,vars:3,consts:[[1,"bug-report-overlay"],[1,"top-bar"],["id","center",1,"title"],["src","assets\\img\\menu_bug.svg","alt",""],["id","end",1,"close"],[3,"click"],[1,"container"],[1,"top-part"],[1,"dropdown",3,"click"],["class","arrow-down",4,"ngIf"],["class","arrow-up",4,"ngIf"],["dropdownTemplate",""],[1,"middle"],["placeholder","Please provide a detailed explanation of the problem you are experiencing..."],[1,"bottom-buttons"],[1,"cancel",3,"click"],["cancelTemplate",""],[1,"send",3,"click"],["sendTemplate",""],[1,"arrow-down"],[1,"arrow-up"],[1,"dropdown-content"],["class","dropdown-element",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"dropdown-element",3,"mouseenter","click"],[1,"overlay"],[1,"overlay-title"],[1,"overlay-container"],[1,"overlay-buttons"],["id","cancel-no",1,"overlay-button",3,"click"],["id","cancel-yes",1,"overlay-button",3,"click"],["class","overlay",4,"ngIf"],["id","send-no",1,"overlay-button",3,"click"],["id","send-yes",1,"overlay-button",3,"click"],["id","send-done",1,"overlay-button",3,"click"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1)(2,"div",2),ze(3,"img",3),A(4,"h1"),re(5,"Bug Report"),V()(),A(6,"div",4)(7,"button",5),Re("click",function(){return r.toggleCancel()}),re(8,"X"),V()()(),A(9,"div",6)(10,"div",7)(11,"h3"),re(12,"I have a problem with:"),V(),A(13,"div",8),Re("click",function(){return r.toggleDropdown()}),A(14,"h4"),re(15),V(),bt(16,Uee,1,0,"div",9)(17,jee,1,0,"div",10)(18,Hee,2,1,"ng-template",null,11,gd),V()(),A(20,"div",12),ze(21,"textarea",13),V(),A(22,"div",14)(23,"button",15),Re("click",function(){return r.toggleCancel()}),A(24,"h3"),re(25,"Cancel"),V()(),bt(26,$ee,14,0,"ng-template",null,16,gd),A(28,"button",17),Re("click",function(){return r.toggleSend()}),A(29,"h3"),re(30,"Send"),V()(),bt(31,Wee,2,2,"ng-template",null,18,gd),V()()()),2&i&&(fe(15),ei(r.problem_with),fe(1),Ve("ngIf",!r.dropdownIsOpen),fe(1),Ve("ngIf",r.dropdownIsOpen))},dependencies:[Jp,Lb,zs],styles:[".bug-report-overlay[_ngcontent-%COMP%]{width:50vw;height:80vh;display:flex;flex-direction:column;align-items:center;color:#e0e1e1;border-radius:40px}.bug-report-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0;margin:0}h3[_ngcontent-%COMP%]{font-weight:lighter;font-size:36px;padding:0;margin:0}.top-bar[_ngcontent-%COMP%]{width:100%;text-align:center;position:relative;background-color:#212121;border-top-right-radius:40px;border-top-left-radius:40px;border-bottom:thin solid #E37A70}.top-bar[_ngcontent-%COMP%]   #center[_ngcontent-%COMP%]{justify-content:center}.top-bar[_ngcontent-%COMP%]   #end[_ngcontent-%COMP%]{justify-content:end}.title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-right:20px;margin-top:5px;margin-bottom:5px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:#e0e1e1;font-weight:bolder;background:transparent;font-size:40px;border:none;margin-right:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e37a70}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{color:#e37a70;transform:scale(.9)}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;background-color:#313131;border-bottom-left-radius:40px;border-bottom-right-radius:40px;padding-top:1.8vw;padding-bottom:1.8vw}.top-part[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.top-part[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9vw;margin-right:30px}.dropdown[_ngcontent-%COMP%], .dropdown-element[_ngcontent-%COMP%]{display:flex;width:15vw;padding:10px;background-color:#505050;border-radius:40px}.dropdown[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.dropdown[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dropdown-element[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#a1a1a1;font-size:1.3vw;font-weight:500;padding:0;margin:0}.dropdown-content[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.dropdown-element[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px}.dropdown[_ngcontent-%COMP%]:hover, .dropdown-element[_ngcontent-%COMP%]:hover{cursor:pointer}.dropdown-element[_ngcontent-%COMP%]:hover{background-color:#505050}.arrow-down[_ngcontent-%COMP%]{width:0;height:0;border-left:.5vw solid transparent;border-right:.5vw solid transparent;border-top:.9vw solid #A1A1A1}.arrow-up[_ngcontent-%COMP%]{width:0;height:0;border-left:.5vw solid transparent;border-right:.5vw solid transparent;border-bottom:.9vw solid #A1A1A1}.middle[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;width:41vw;height:23vw;color:#e0e1e1;font-size:1vw;font-family:IBM Plex Mono,monospace;border:none;border-radius:40px;background-color:#212121;padding:15px;outline:none;resize:none;margin-top:1.8vw;margin-bottom:1.8vw}.buttom-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cancel[_ngcontent-%COMP%], .send[_ngcontent-%COMP%]{width:10vw;border:none;border-radius:40px;padding-top:10px;padding-bottom:10px;background-color:#212121}.cancel[_ngcontent-%COMP%]{margin-right:5vw}.cancel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5vw;color:#c64a49}.send[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5vw;color:#92ee61}.cancel[_ngcontent-%COMP%]:hover, .send[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.cancel[_ngcontent-%COMP%]:active, .send[_ngcontent-%COMP%]:active{background-color:#2d2d2d;transform:scale(.9)}@media screen and (max-width: 790px){.bug-report-overlay[_ngcontent-%COMP%]{width:100vw;height:60vh}.container[_ngcontent-%COMP%]{height:100%}.top-part[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:4vw}.dropdown[_ngcontent-%COMP%], .dropdown-element[_ngcontent-%COMP%]{width:30vw}.dropdown[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dropdown-element[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.6vw}.middle[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:82vw;height:46vw;font-size:3vw}.cancel[_ngcontent-%COMP%], .send[_ngcontent-%COMP%]{width:30vw}.cancel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .send[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:4.5vw}}.overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:25vw;border-radius:30px}.overlay-title[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;background-color:#212121;border-bottom:thin solid #E37A70;border-top-left-radius:30px;border-top-right-radius:30px}.overlay-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2vw;padding:0;margin:0}.overlay-container[_ngcontent-%COMP%]{width:100%;text-align:center;background-color:#313131;border-bottom-left-radius:30px;border-bottom-right-radius:30px;padding-top:1vw;padding-bottom:1vw}.overlay-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0;font-size:1.2vw}.overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin-top:1vw}.overlay-button[_ngcontent-%COMP%]:hover{cursor:pointer}.overlay-button[_ngcontent-%COMP%]:active{transform:scale(.8)}#cancel-no[_ngcontent-%COMP%]{font-weight:bolder}#cancel-yes[_ngcontent-%COMP%]{color:#c64a49}#send-yes[_ngcontent-%COMP%], #send-done[_ngcontent-%COMP%]{font-weight:bolder;color:#92ee61}@media screen and (max-width: 790px){.overlay[_ngcontent-%COMP%]{width:70vw}.overlay-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:6vw}.overlay-container[_ngcontent-%COMP%]{padding-top:2vw;padding-bottom:2vw}.overlay-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:4vw}.overlay-buttons[_ngcontent-%COMP%]{margin-top:2vw}}"]})}return n})();Je(956);var Kh=Je(534);(0,Kh.registerVersion)("firebase","10.6.0","app");const Jee=new class Xee extends dw{}(class Yee extends lw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),yw=new Pc("ANGULARFIRE2_VERSION");class aV{constructor(){return((n,e)=>{const t=(0,Kh.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(tte)}}const tte="app-check";function Qh(){}class cV{zone;delegate;constructor(e,t=Jee){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class nte{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qh,{},Qh,Qh)),t.pipe(ni({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lV=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new cV(Zone.current)),this.insideAngular=t.run(()=>new cV(Zone.current,xd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(P(Be))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function co(n){return function rte(n){return function(t){return(t=t.lift(new nte(n.ngZone))).pipe(aa(n.outsideAngular),sa(n.insideAngular))}}(function Yh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Ra=Je(106);Ra.Z.registerVersion("firebase","10.6.0","app-compat");const cte=["ngOnDestroy"];class dV{constructor(e){return e}}const bw=new X("angularfire2.app.options"),ww=new X("angularfire2.app.name");function cD(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Ra.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Ra.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;ute("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new dV(s)}const ute=(n,...e)=>{},hte={provide:dV,useFactory:cD,deps:[bw,Be,[new f,ww]]};let fte=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:bw,useValue:t},{provide:ww,useValue:i}]}}constructor(t){Ra.Z.registerVersion("angularfire",yw.full,"core"),Ra.Z.registerVersion("angularfire",yw.full,"app-compat"),Ra.Z.registerVersion("angular",cP.full,t.toString())}static \u0275fac=function(i){return new(i||n)(P(as))};static \u0275mod=Ht({type:n});static \u0275inj=Pt({providers:[hte]})}return n})();function uV(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function mte(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(hV("error",`${e} was already initialized on the ${t} Firebase App with different settings.${pte?" You may need to reload as Firebase is not HMR aware.":""}`),hV("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const pte=typeof module<"u"&&!!module.hot,hV=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class gte extends T{constructor(e=1/0,t=1/0,i=XT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function fV(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Dl({connector:()=>new gte(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function mV(n,e){return Fe(e)?Bt(()=>n,e):Bt(()=>n)}const pV=new X("angularfire2.auth.use-emulator"),gV=new X("angularfire2.auth.settings"),_V=new X("angularfire2.auth.tenant-id"),vV=new X("angularfire2.auth.langugage-code"),yV=new X("angularfire2.auth.use-device-language"),bV=new X("angularfire.auth.persistence"),wV=(n,e,t,i,r,o,s,a)=>uV(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[d,h]of Object.entries(s))c.settings[d]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let Sd=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,d,h,p,g,v){const b=new T,w=Ee(void 0).pipe(sa(s.outsideAngular),Bt(()=>o.runOutsideAngular(()=>Promise.resolve().then(Je.bind(Je,956)))),_e(()=>cD(t,o,i)),_e(E=>wV(E,o,a,d,h,p,c,g)),fV({bufferSize:1,refCount:!1}));if(Vb(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ee(null);else{w.pipe(Uc()).subscribe();const E=w.pipe(Bt(O=>O.getRedirectResult().then(Y=>Y,()=>null)),co,fV({bufferSize:1,refCount:!1})),k=w.pipe(Bt(O=>new It(Y=>({unsubscribe:o.runOutsideAngular(()=>O.onAuthStateChanged(he=>Y.next(he),he=>Y.error(he),()=>Y.complete()))})))),S=w.pipe(Bt(O=>new It(Y=>({unsubscribe:o.runOutsideAngular(()=>O.onIdTokenChanged(he=>Y.next(he),he=>Y.error(he),()=>Y.complete()))}))));this.authState=E.pipe(mV(k),aa(s.outsideAngular),sa(s.insideAngular)),this.user=E.pipe(mV(S),aa(s.outsideAngular),sa(s.insideAngular)),this.idToken=this.user.pipe(Bt(O=>O?Kt(O.getIdToken()):Ee(null))),this.idTokenResult=this.user.pipe(Bt(O=>O?Kt(O.getIdTokenResult()):Ee(null))),this.credential=Xa(E,b,this.authState.pipe($n(O=>!O))).pipe(_e(O=>O?.user?O:null),aa(s.outsideAngular),sa(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(cte.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(h=>{const p=h?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,p),p})})})}))(this,w,o,{spy:{apply:(E,k,S)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&S.then(O=>b.next(O))}}})}static \u0275fac=function(i){return new(i||n)(P(bw),P(ww,8),P(as),P(Be),P(lV),P(pV,8),P(gV,8),P(_V,8),P(vV,8),P(yV,8),P(bV,8),P(aV,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),vte=(()=>{class n{constructor(){Ra.Z.registerVersion("angularfire",yw.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ht({type:n});static \u0275inj=Pt({providers:[Sd]})}return n})();function lD(){return de((n,e)=>{let t,i=!1;n.subscribe(be(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var ve,K=Je(861),EV=Je(537),Ws=Je(879),ln=Je(58),yte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ps={},dD=dD||{},tt=yte||self;function Ew(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function xg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var uD="closure_uid_"+(1e9*Math.random()>>>0),wte=0;function Ete(n,e,t){return n.call.apply(n.bind,arguments)}function Ite(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ar(n,e,t){return(ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ete:Ite).apply(null,arguments)}function Iw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Pi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Hc(){this.s=this.s,this.o=this.o}Hc.prototype.s=!1,Hc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bte(n){Object.prototype.hasOwnProperty.call(n,uD)&&n[uD]||(n[uD]=++wte)}(this)},Hc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hD(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function xV(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Ew(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function cr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}cr.prototype.h=function(){this.defaultPrevented=!0};var Cte=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tt.addEventListener("test",()=>{},e),tt.removeEventListener("test",()=>{},e)}catch{}return n}();function Cg(n){return/^[\s\xa0]*$/.test(n)}function xw(){var n=tt.navigator;return n&&(n=n.userAgent)?n:""}function Zs(n){return-1!=xw().indexOf(n)}function fD(n){return fD[" "](n),n}fD[" "]=function(){};var pD,n,Dte=Zs("Opera"),Xh=Zs("Trident")||Zs("MSIE"),CV=Zs("Edge"),mD=CV||Xh,TV=Zs("Gecko")&&!(-1!=xw().toLowerCase().indexOf("webkit")&&!Zs("Edge"))&&!(Zs("Trident")||Zs("MSIE"))&&!Zs("Edge"),Ste=-1!=xw().toLowerCase().indexOf("webkit")&&!Zs("Edge");function DV(){var n=tt.document;return n?n.documentMode:void 0}e:{var gD="",_D=(n=xw(),TV?/rv:([^\);]+)(\)|;)/.exec(n):CV?/Edge\/([\d\.]+)/.exec(n):Xh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ste?/WebKit\/(\S+)/.exec(n):Dte?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_D&&(gD=_D?_D[1]:""),Xh){var vD=DV();if(null!=vD&&vD>parseFloat(gD)){pD=String(vD);break e}}pD=gD}var Ate=tt.document&&Xh&&(DV()||parseInt(pD,10))||void 0;function Tg(n,e){if(cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TV){e:{try{fD(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:kte[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tg.$.h.call(this)}}Pi(Tg,cr);var kte={2:"touch",3:"pen",4:"mouse"};Tg.prototype.h=function(){Tg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dg="closure_listenable_"+(1e6*Math.random()|0),Mte=0;function Rte(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Mte,this.fa=this.ia=!1}function Cw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function bD(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function AV(n){const e={};for(const t in n)e[t]=n[t];return e}const kV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<kV.length;o++)t=kV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Tw(n){this.src=n,this.g={},this.h=0}function wD(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=IV(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Cw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ED(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Tw.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=ED(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new Rte(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var ID="closure_lm_"+(1e6*Math.random()|0),xD={};function RV(n,e,t,i,r){if(i&&i.once)return OV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)RV(n,e[o],t,i,r);return null}return t=SD(t),n&&n[Dg]?n.O(e,t,xg(i)?!!i.capture:!!i,r):PV(n,e,t,!1,i,r)}function PV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=xg(r)?!!r.capture:!!r,a=TD(n);if(a||(n[ID]=a=new Tw(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function Ote(){const e=Nte;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Cte||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(FV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function OV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)OV(n,e[o],t,i,r);return null}return t=SD(t),n&&n[Dg]?n.P(e,t,xg(i)?!!i.capture:!!i,r):PV(n,e,t,!0,i,r)}function NV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)NV(n,e[o],t,i,r);else i=xg(i)?!!i.capture:!!i,t=SD(t),n&&n[Dg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ED(o=n.g[e],t,i,r))&&(Cw(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=TD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ED(e,t,i,r)),(t=-1<n?e[n]:null)&&CD(t))}function CD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Dg])wD(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(FV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=TD(e))?(wD(t,n),0==t.h&&(t.src=null,e[ID]=null)):Cw(n)}}}function FV(n){return n in xD?xD[n]:xD[n]="on"+n}function Nte(n,e){if(n.fa)n=!0;else{e=new Tg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&CD(n),n=t.call(i,e)}return n}function TD(n){return(n=n[ID])instanceof Tw?n:null}var DD="__closure_events_fn_"+(1e9*Math.random()>>>0);function SD(n){return"function"==typeof n?n:(n[DD]||(n[DD]=function(e){return n.handleEvent(e)}),n[DD])}function Oi(){Hc.call(this),this.i=new Tw(this),this.S=this,this.J=null}function Wi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new cr(e,n);else if(e instanceof cr)e.target=e.target||n;else{var r=e;MV(e=new cr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Dw(s,i,!0,e)&&r}if(r=Dw(s=e.g=n,i,!0,e)&&r,r=Dw(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Dw(s=e.g=t[o],i,!1,e)&&r}function Dw(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&wD(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Pi(Oi,Hc),Oi.prototype[Dg]=!0,Oi.prototype.removeEventListener=function(n,e,t,i){NV(this,n,e,t,i)},Oi.prototype.N=function(){if(Oi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Cw(t[i]);delete n.g[e],n.h--}}this.J=null},Oi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Oi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var AD=tt.JSON.stringify;function Lte(){var n=kD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LV=new class Fte{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Bte,n=>n.reset());class Bte{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ute(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function jte(n){tt.setTimeout(()=>{throw n},0)}let Sg,Ag=!1,kD=new class Vte{constructor(){this.h=this.g=null}add(e,t){const i=LV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},VV=()=>{const n=tt.Promise.resolve(void 0);Sg=()=>{n.then(zte)}};var zte=()=>{for(var n;n=Lte();){try{n.h.call(n.g)}catch(t){jte(t)}var e=LV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ag=!1};function Sw(n,e){Oi.call(this),this.h=n||1,this.g=e||tt,this.j=ar(this.qb,this),this.l=Date.now()}function MD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function RD(n,e,t){if("function"==typeof n)t&&(n=ar(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ar(n.handleEvent,n)}return 2147483647<Number(e)?-1:tt.setTimeout(n,e||0)}function BV(n){n.g=RD(()=>{n.g=null,n.i&&(n.i=!1,BV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pi(Sw,Oi),(ve=Sw.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wi(this,"tick"),this.ga&&(MD(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){Sw.$.N.call(this),MD(this),delete this.g};class Hte extends Hc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BV(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kg(n){Hc.call(this),this.h=n,this.g={}}Pi(kg,Hc);var UV=[];function jV(n,e,t,i){Array.isArray(t)||(t&&(UV[0]=t.toString()),t=UV);for(var r=0;r<t.length;r++){var o=RV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function zV(n){bD(n.g,function(e,t){this.g.hasOwnProperty(t)&&CD(e)},n),n.g={}}function Aw(){this.g=!0}function Jh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wte(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return AD(t)}catch{return e}}(n,t)+(i?" "+i:"")})}kg.prototype.N=function(){kg.$.N.call(this),zV(this)},kg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Aw.prototype.Ea=function(){this.g=!1},Aw.prototype.info=function(){};var Ad={},HV=null;function kw(){return HV=HV||new Oi}function $V(n){cr.call(this,Ad.Ta,n)}function Mg(n){const e=kw();Wi(e,new $V(e))}function qV(n,e){cr.call(this,Ad.STAT_EVENT,n),this.stat=e}function Mr(n){const e=kw();Wi(e,new qV(e,n))}function GV(n,e){cr.call(this,Ad.Ua,n),this.size=e}function Rg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){n()},e)}Ad.Ta="serverreachability",Pi($V,cr),Ad.STAT_EVENT="statevent",Pi(qV,cr),Ad.Ua="timingevent",Pi(GV,cr);var Mw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},WV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PD(){}function KV(){}PD.prototype.h=null;var FD,Pg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function OD(){cr.call(this,"d")}function ND(){cr.call(this,"c")}function Rw(){}function Og(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new kg(this),this.P=Zte,this.V=new Sw(n=mD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QV}function QV(){this.i=null,this.g="",this.h=!1}Pi(OD,cr),Pi(ND,cr),Pi(Rw,PD),Rw.prototype.g=function(){return new XMLHttpRequest},Rw.prototype.i=function(){return{}},FD=new Rw;var Zte=45e3,LD={},Pw={};function VD(n,e,t){n.L=1,n.v=Lw(Pa(e)),n.s=t,n.S=!0,YV(n,null)}function YV(n,e){n.G=Date.now(),Ng(n),n.A=Pa(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),aB(t.i,"t",i),n.C=0,t=n.l.J,n.h=new QV,n.g=MB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Hte(ar(n.Pa,n,n.g),n.O)),jV(n.U,n.g,"readystatechange",n.nb),e=n.I?AV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Mg(),function $te(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");if(1<d.length){var h=d[0];d=d[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+d+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function XV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function JV(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Kte(n,t),r==Pw){4==e&&(n.o=4,Mr(14),i=!1),Jh(n.j,n.m,null,"[Incomplete Response]");break}if(r==LD){n.o=4,Mr(15),Jh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Jh(n.j,n.m,r,null),BD(n,r)}XV(n)&&r!=Pw&&r!=LD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Mr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),GD(e),e.M=!0,Mr(11))):(Jh(n.j,n.m,t,"[Invalid Chunked Response]"),kd(n),Fg(n))}function Kte(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Pw:(t=Number(e.substring(t,i)),isNaN(t)?LD:(i+=1)+t>e.length?Pw:(e=e.slice(i,i+t),n.C=i+t,e))}function Ng(n){n.Y=Date.now()+n.P,eB(n,n.P)}function eB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rg(ar(n.lb,n),e)}function Ow(n){n.B&&(tt.clearTimeout(n.B),n.B=null)}function Fg(n){0==n.l.H||n.J||DB(n.l,n)}function kd(n){Ow(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,MD(n.V),zV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function BD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||UD(t.i,n)))if(!n.K&&UD(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Hw(t),jw(t)}qD(t),Mr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Rg(ar(t.ib,t),6e3));if(1>=dB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Rd(t,11)}else if((n.K||t.g==n)&&Hw(t),!Cg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const h=d[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=d[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(jD(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,yn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=kB(i,i.J?i.pa:null,i.Y),s.K){uB(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Ow(a),Ng(a)),i.g=s}else CB(i);0<t.j.length&&zw(t)}else"stop"!=d[0]&&"close"!=d[0]||Rd(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Rd(t,7):$D(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Mg()}catch{}}function tB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ew(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Yte(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ew(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Qte(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ew(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ve=Og.prototype).setTimeout=function(n){this.P=n},ve.nb=function(n){n=n.target;const e=this.M;e&&3==Ks(n)?e.l():this.Pa(n)},ve.Pa=function(n){try{if(n==this.g)e:{const h=Ks(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||mD||this.g&&(this.h.h||this.g.ja()||yB(this.g)))){this.J||4!=h||7==e||Mg(),Ow(this);var t=this.g.da();this.ca=t;t:if(XV(this)){var i=yB(this.g);n="";var r=i.length,o=4==Ks(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kd(this),Fg(this);var s="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function qte(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cg(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,Mr(12),kd(this),Fg(this);break e}Jh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,BD(this,t)}this.S?(JV(this,h,s),mD&&this.i&&3==h&&(jV(this.U,this.V,"tick",this.mb),this.V.start())):(Jh(this.j,this.m,s,null),BD(this,s)),4==h&&kd(this),this.i&&!this.J&&(4==h?DB(this.l,this):(this.i=!1,Ng(this)))}else(function pne(n){const e={};n=(n.g&&2<=Ks(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Cg(n[i]))continue;var t=Ute(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Pte(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),kd(this),Fg(this)}}}catch{}},ve.mb=function(){if(this.g){var n=Ks(this.g),e=this.g.ja();this.C<e.length&&(Ow(this),JV(this,n,e),this.i&&4!=n&&Ng(this))}},ve.cancel=function(){this.J=!0,kd(this)},ve.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Gte(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Mg(),Mr(17)),kd(this),this.o=2,Fg(this)):eB(this,this.Y-n)};var nB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Md){this.h=n.h,Nw(this,n.j),this.s=n.s,this.g=n.g,Fw(this,n.m),this.l=n.l;var e=n.i,t=new Bg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),iB(this,t),this.o=n.o}else n&&(e=String(n).match(nB))?(this.h=!1,Nw(this,e[1]||"",!0),this.s=Lg(e[2]||""),this.g=Lg(e[3]||"",!0),Fw(this,e[4]),this.l=Lg(e[5]||"",!0),iB(this,e[6]||"",!0),this.o=Lg(e[7]||"")):(this.h=!1,this.i=new Bg(null,this.h))}function Pa(n){return new Md(n)}function Nw(n,e,t){n.j=t?Lg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iB(n,e,t){e instanceof Bg?(n.i=e,function rne(n,e){e&&!n.j&&($c(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(oB(this,i),aB(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vg(e,nne)),n.i=new Bg(e,n.h))}function yn(n,e,t){n.i.set(e,t)}function Lw(n){return yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Jte),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jte(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Md.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vg(e,rB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vg(e,rB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vg(t,"/"==t.charAt(0)?tne:ene,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vg(t,ine)),n.join("")};var rB=/[#\/\?@]/g,ene=/[#\?:]/g,tne=/[#\?]/g,nne=/[#\?@]/g,ine=/#/g;function Bg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $c(n){n.g||(n.g=new Map,n.h=0,n.i&&function Xte(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function oB(n,e){$c(n),e=ef(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sB(n,e){return $c(n),e=ef(n,e),n.g.has(e)}function aB(n,e,t){oB(n,e),0<t.length&&(n.i=null,n.g.set(ef(n,e),hD(t)),n.h+=t.length)}function ef(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ve=Bg.prototype).add=function(n,e){$c(this),this.i=null,n=ef(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(n,e){$c(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ve.ta=function(){$c(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ve.Z=function(n){$c(this);let e=[];if("string"==typeof n)sB(this,n)&&(e=e.concat(this.g.get(ef(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ve.set=function(n,e){return $c(this),this.i=null,sB(this,n=ef(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var one=class{constructor(n,e){this.g=n,this.map=e}};function cB(n){this.l=n||sne,n=tt.PerformanceNavigationTiming?0<(n=tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sne=10;function lB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dB(n){return n.h?1:n.g?n.g.size:0}function UD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function jD(n,e){n.g?n.g.add(e):n.h=e}function uB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return hD(n.i)}cB.prototype.cancel=function(){if(this.i=hB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var ane=class{stringify(n){return tt.JSON.stringify(n,void 0)}parse(n){return tt.JSON.parse(n,void 0)}};function cne(){this.g=new ane}function lne(n,e,t){const i=t||"";try{tB(n,function(r,o){let s=r;xg(r)&&(s=AD(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Vw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ug(n){this.l=n.ec||null,this.j=n.ob||!1}function Bw(n,e){Oi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=zD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pi(Ug,PD),Ug.prototype.g=function(){return new Bw(this.l,this.j)},Ug.prototype.i=function(n){return function(){return n}}({}),Pi(Bw,Oi);var zD=0;function fB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zg(n)}function zg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ve=Bw.prototype).open=function(n,e){if(this.readyState!=zD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zg(this)},ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jg(this)),this.readyState=zD},ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zg(this)),this.g&&(this.readyState=3,zg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jg(this):zg(this),3==this.readyState&&fB(this)}},ve.Za=function(n){this.g&&(this.response=this.responseText=n,jg(this))},ve.Ya=function(n){this.g&&(this.response=n,jg(this))},ve.ka=function(){this.g&&jg(this)},ve.setRequestHeader=function(n,e){this.v.append(n,e)},ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var une=tt.JSON.parse;function qn(n){Oi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mB,this.L=this.M=!1}Pi(qn,Oi);var mB="",hne=/^https?$/i,fne=["POST","PUT"];function pB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gB(n),Uw(n)}function gB(n){n.F||(n.F=!0,Wi(n,"complete"),Wi(n,"error"))}function _B(n){if(n.h&&typeof dD<"u"&&(!n.C[1]||4!=Ks(n)||2!=n.da()))if(n.v&&4==Ks(n))RD(n.La,0,n);else if(Wi(n,"readystatechange"),4==Ks(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(nB)[1]||null;!r&&tt.self&&tt.self.location&&(r=tt.self.location.protocol.slice(0,-1)),i=!hne.test(r?r.toLowerCase():"")}t=i}if(t)Wi(n,"complete"),Wi(n,"success");else{n.m=6;try{var o=2<Ks(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",gB(n)}}finally{Uw(n)}}}function Uw(n,e){if(n.g){vB(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Wi(n,"ready");try{t.onreadystatechange=i}catch{}}}function vB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tt.clearTimeout(n.A),n.A=null)}function Ks(n){return n.g?n.g.readyState:0}function yB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case mB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bB(n){let e="";return bD(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function HD(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=bB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yn(n,e,t))}function Hg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wB(n){this.Ga=0,this.j=[],this.l=new Aw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hg("baseRetryDelayMs",5e3,n),this.hb=Hg("retryDelaySeedMs",1e4,n),this.eb=Hg("forwardChannelMaxRetries",2,n),this.xa=Hg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new cB(n&&n.concurrentRequestLimit),this.Ja=new cne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $D(n){if(EB(n),3==n.H){var e=n.W++,t=Pa(n.I);if(yn(t,"SID",n.K),yn(t,"RID",e),yn(t,"TYPE","terminate"),$g(n,t),(e=new Og(n,n.l,e)).L=2,e.v=Lw(Pa(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon)try{t=tt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=MB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ng(e)}AB(n)}function jw(n){n.g&&(GD(n),n.g.cancel(),n.g=null)}function EB(n){jw(n),n.u&&(tt.clearTimeout(n.u),n.u=null),Hw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tt.clearTimeout(n.m),n.m=null)}function zw(n){if(!lB(n.i)&&!n.m){n.m=!0;var e=n.Na;Sg||VV(),Ag||(Sg(),Ag=!0),kD.add(e,n),n.C=0}}function IB(n,e){var t;t=e?e.m:n.W++;const i=Pa(n.I);yn(i,"SID",n.K),yn(i,"RID",t),yn(i,"AID",n.V),$g(n,i),n.o&&n.s&&HD(i,n.o,n.s),t=new Og(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=xB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),jD(n.i,t),VD(t,i,e)}function $g(n,e){n.na&&bD(n.na,function(t,i){yn(e,i,t)}),n.h&&tB({},function(t,i){yn(e,i,t)})}function xB(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ar(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let d=r[c].g;const h=r[c].map;if(d-=o,0>d)o=Math.max(0,r[c].g-100),a=!1;else try{lne(h,s,"req"+d+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function CB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Sg||VV(),Ag||(Sg(),Ag=!0),kD.add(e,n),n.A=0}}function qD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Rg(ar(n.Ma,n),SB(n,n.A)),n.A++,0))}function GD(n){null!=n.B&&(tt.clearTimeout(n.B),n.B=null)}function TB(n){n.g=new Og(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Pa(n.wa);yn(e,"RID","rpc"),yn(e,"SID",n.K),yn(e,"AID",n.V),yn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&yn(e,"TO",n.qa),yn(e,"TYPE","xmlhttp"),$g(n,e),n.o&&n.s&&HD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Lw(Pa(e)),t.s=null,t.S=!0,YV(t,n)}function Hw(n){null!=n.v&&(tt.clearTimeout(n.v),n.v=null)}function DB(n,e){var t=null;if(n.g==e){Hw(n),GD(n),n.g=null;var i=2}else{if(!UD(n.i,e))return;t=e.F,uB(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Wi(i=kw(),new GV(i,t)),zw(n)}else CB(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function gne(n,e){return!(dB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Rg(ar(n.Na,n,e),SB(n,n.C)),n.C++,0)))}(n,e)||2==i&&qD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Rd(n,5);break;case 4:Rd(n,10);break;case 3:Rd(n,6);break;default:Rd(n,2)}}function SB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Rd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ar(n.pb,n);t||(t=new Md("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||Nw(t,"https"),Lw(t)),function dne(n,e){const t=new Aw;if(tt.Image){const i=new Image;i.onload=Iw(Vw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Iw(Vw,t,i,"TestLoadImage: error",!1,e),i.onabort=Iw(Vw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Iw(Vw,t,i,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Mr(2);n.H=0,n.h&&n.h.za(e),AB(n),EB(n)}function AB(n){if(n.H=0,n.ma=[],n.h){const e=hB(n.i);(0!=e.length||0!=n.j.length)&&(xV(n.ma,e),xV(n.ma,n.j),n.i.i.length=0,hD(n.j),n.j.length=0),n.h.ya()}}function kB(n,e,t){var i=t instanceof Md?Pa(t):new Md(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Fw(i,i.m);else{var r=tt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Md(null);i&&Nw(o,i),e&&(o.g=e),r&&Fw(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&yn(i,t,e),yn(i,"VER",n.ra),$g(n,i),i}function MB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qn(t&&n.Ha&&!n.va?new Ug({ob:!0}):n.va)).Oa(n.J),e}function RB(){}function $w(){if(Xh&&!(10<=Number(Ate)))throw Error("Environmental error: no available transport.")}function lo(n,e){Oi.call(this),this.g=new wB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Cg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tf(this)}function PB(n){OD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function OB(){ND.call(this),this.status=1}function tf(n){this.g=n}function gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function WD(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Xt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ve=qn.prototype).Oa=function(n){this.M=n},ve.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():FD.g(),this.C=function ZV(n){return n.h||(n.h=n.i())}(this.u?this.u:FD),this.g.onreadystatechange=ar(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void pB(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=tt.FormData&&n instanceof tt.FormData,!(0<=IV(fne,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vB(this),0<this.B&&((this.L=function mne(n){return Xh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ar(this.ua,this)):this.A=RD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){pB(this,o)}},ve.ua=function(){typeof dD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wi(this,"complete"),Wi(this,"abort"),Uw(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uw(this,!0)),qn.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?_B(this):this.kb())},ve.kb=function(){_B(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),une(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=wB.prototype).ra=8,ve.H=1,ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Og(this,this.l,n);let o=this.s;if(this.U&&(o?(o=AV(o),MV(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xB(this,r,e),yn(t=Pa(this.I),"RID",n),yn(t,"CVER",22),this.F&&yn(t,"X-HTTP-Session-Id",this.F),$g(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(bB(o)))+"&"+e:this.o&&HD(t,this.o,o)),jD(this.i,r),this.bb&&yn(t,"TYPE","init"),this.P?(yn(t,"$req",e),yn(t,"SID","null"),r.aa=!0,VD(r,t,null)):VD(r,t,e),this.H=2}}else 3==this.H&&(n?IB(this,n):0==this.j.length||lB(this.i)||IB(this))},ve.Ma=function(){if(this.u=null,TB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Rg(ar(this.jb,this),n)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mr(10),jw(this),TB(this))},ve.ib=function(){null!=this.v&&(this.v=null,jw(this),qD(this),Mr(19))},ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Mr(2)):(this.l.info("Failed to ping google.com"),Mr(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=RB.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},$w.prototype.g=function(n,e){return new lo(n,e)},Pi(lo,Oi),lo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Mr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=kB(n,null,n.Y),zw(n)},lo.prototype.close=function(){$D(this.g)},lo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=AD(n),n=t);e.j.push(new one(e.fb++,n)),3==e.H&&zw(e)},lo.prototype.N=function(){this.g.h=null,delete this.j,$D(this.g),delete this.g,lo.$.N.call(this)},Pi(PB,OD),Pi(OB,ND),Pi(tf,RB),tf.prototype.Ba=function(){Wi(this.g,"a")},tf.prototype.Aa=function(n){Wi(this.g,new PB(n))},tf.prototype.za=function(n){Wi(this.g,new OB)},tf.prototype.ya=function(){Wi(this.g,"b")},Pi(gs,function _ne(){this.blockSize=-1}),gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)WD(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){WD(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){WD(this,i),r=0;break}}this.h=r,this.i+=e},gs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var vne={};function ZD(n){return-128<=n&&128>n?function Tte(n,e){var t=vne;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Xt([0|e],0>e?-1:0)}):new Xt([0|n],0>n?-1:0)}function Qs(n){if(isNaN(n)||!isFinite(n))return nf;if(0>n)return Zi(Qs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=KD;return new Xt(e,0)}var KD=4294967296,nf=ZD(0),QD=ZD(1),FB=ZD(16777216);function Oa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Vo(n){return-1==n.h}function Zi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Xt(t,~n.h).add(QD)}function qw(n,e){return n.add(Zi(e))}function Gw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function qg(n,e){this.g=n,this.h=e}function Ww(n,e){if(Oa(e))throw Error("division by zero");if(Oa(n))return new qg(nf,nf);if(Vo(n))return e=Ww(Zi(n),e),new qg(Zi(e.g),Zi(e.h));if(Vo(e))return e=Ww(n,Zi(e)),new qg(Zi(e.g),e.h);if(30<n.g.length){if(Vo(n)||Vo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=QD,i=e;0>=i.X(n);)t=LB(t),i=LB(i);var r=rf(t,1),o=rf(i,1);for(i=rf(i,2),t=rf(t,2);!Oa(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=rf(i,1),t=rf(t,1)}return e=qw(n,r.R(e)),new qg(r,e)}for(r=nf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Qs(t)).R(e);Vo(s)||0<s.X(n);)s=(o=Qs(t-=i)).R(e);Oa(o)&&(o=QD),r=r.add(o),n=qw(n,s)}return new qg(r,n)}function LB(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Xt(t,n.h)}function rf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Xt(r,n.h)}(ve=Xt.prototype).ea=function(){if(Vo(this))return-Zi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:KD+i)*e,e*=KD}return n},ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Oa(this))return"0";if(Vo(this))return"-"+Zi(this).toString(n);for(var e=Qs(Math.pow(n,6)),t=this,i="";;){var r=Ww(t,e).g,o=((0<(t=qw(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Oa(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ve.X=function(n){return Vo(n=qw(this,n))?-1:Oa(n)?0:1},ve.abs=function(){return Vo(this)?Zi(this):this},ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Xt(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(n){if(Oa(this)||Oa(n))return nf;if(Vo(this))return Vo(n)?Zi(this).R(Zi(n)):Zi(Zi(this).R(n));if(Vo(n))return Zi(this.R(Zi(n)));if(0>this.X(FB)&&0>n.X(FB))return Qs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Gw(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Gw(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Gw(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Gw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Xt(t,0)},ve.gb=function(n){return Ww(this,n).h},ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Xt(t,this.h&n.h)},ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Xt(t,this.h|n.h)},ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Xt(t,this.h^n.h)},$w.prototype.createWebChannel=$w.prototype.g,lo.prototype.send=lo.prototype.u,lo.prototype.open=lo.prototype.m,lo.prototype.close=lo.prototype.close,Mw.NO_ERROR=0,Mw.TIMEOUT=8,Mw.HTTP_ERROR=6,WV.COMPLETE="complete",KV.EventType=Pg,Pg.OPEN="a",Pg.CLOSE="b",Pg.ERROR="c",Pg.MESSAGE="d",Oi.prototype.listen=Oi.prototype.O,qn.prototype.listenOnce=qn.prototype.P,qn.prototype.getLastError=qn.prototype.Sa,qn.prototype.getLastErrorCode=qn.prototype.Ia,qn.prototype.getStatus=qn.prototype.da,qn.prototype.getResponseJson=qn.prototype.Wa,qn.prototype.getResponseText=qn.prototype.ja,qn.prototype.send=qn.prototype.ha,qn.prototype.setWithCredentials=qn.prototype.Oa,gs.prototype.digest=gs.prototype.l,gs.prototype.reset=gs.prototype.reset,gs.prototype.update=gs.prototype.j,Xt.prototype.add=Xt.prototype.add,Xt.prototype.multiply=Xt.prototype.R,Xt.prototype.modulo=Xt.prototype.gb,Xt.prototype.compare=Xt.prototype.X,Xt.prototype.toNumber=Xt.prototype.ea,Xt.prototype.toString=Xt.prototype.toString,Xt.prototype.getBits=Xt.prototype.D,Xt.fromNumber=Qs,Xt.fromString=function NB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zi(NB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Qs(Math.pow(e,8)),i=nf,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Qs(Math.pow(e,o)),i=i.R(o).add(Qs(s))):i=(i=i.R(t)).add(Qs(s))}return i};var yne=ps.createWebChannelTransport=function(){return new $w},bne=ps.getStatEventTarget=function(){return kw()},YD=ps.ErrorCode=Mw,wne=ps.EventType=WV,Ene=ps.Event=Ad,VB=ps.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ine=ps.FetchXmlHttpFactory=Ug,Zw=ps.WebChannel=KV,xne=ps.XhrIo=qn,Cne=ps.Md5=gs,sf=ps.Integer=Xt;const BB="@firebase/firestore";class Ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let af="10.5.2";const qc=new Ws.Yd("@firebase/firestore");function cf(){return qc.logLevel}function se(n,...e){if(qc.logLevel<=Ws.in.DEBUG){const t=e.map(XD);qc.debug(`Firestore (${af}): ${n}`,...t)}}function ii(n,...e){if(qc.logLevel<=Ws.in.ERROR){const t=e.map(XD);qc.error(`Firestore (${af}): ${n}`,...t)}}function Gr(n,...e){if(qc.logLevel<=Ws.in.WARN){const t=e.map(XD);qc.warn(`Firestore (${af}): ${n}`,...t)}}function XD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ie(n="Unexpected state"){const e=`FIRESTORE (${af}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function Me(n,e){n||Ie()}function pe(n,e){return n}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class UB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ni.UNAUTHENTICATED))}shutdown(){}}class Ane{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kne{constructor(e){this.t=e,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,K.Z)(function*(){yield d.promise,yield o(i.currentUser)}))},c=d=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me("string"==typeof i.accessToken),new UB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Ni(e)}}class Mne{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rne{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Mne(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pne{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me("string"==typeof t.token),this.R=t.token,new jB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function One(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class zB{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=One(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function lf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function HB(n){return n+"\0"}class Mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Mn(0,0))}static max(){return new Oe(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gg{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ie(),void 0===i?i=e.length-t:i>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Gg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kt extends Gg{construct(e,t,i){return new kt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const Nne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Gg{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return Nne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ie(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ie(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ie(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ie(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(kt.fromString(e))}static fromName(e){return new ge(kt.fromString(e).popFirst(5))}static empty(){return new ge(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new kt(e.slice()))}}class df{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function JD(n){return n.fields.find(e=>2===e.kind)}function Pd(n){return n.fields.filter(e=>2!==e.kind)}df.UNKNOWN_ID=-1;class Od{constructor(e,t){this.fieldPath=e,this.kind=t}}class uf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uf(0,uo.min())}}function $B(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(1e9===i?new Mn(t+1,0):new Mn(t,i));return new uo(r,ge.empty(),e)}function qB(n){return new uo(n.readTime,n.key,-1)}class uo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new uo(Oe.min(),ge.empty(),-1)}static max(){return new uo(Oe.max(),ge.empty(),-1)}}function eS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ge.comparator(n.documentKey,e.documentKey),0!==t?t:Xe(n.largestBatchId,e.largestBatchId))}const GB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gc(n){return tS.apply(this,arguments)}function tS(){return tS=(0,K.Z)(function*(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==GB)throw n;se("LocalStore","Unexpectedly lost primary lease")}),tS.apply(this,arguments)}class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new N((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof N?t:N.resolve(t)}catch(t){return N.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):N.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):N.reject(t)}static resolve(e){return new N((t,i)=>{t(e)})}static reject(e){return new N((t,i)=>{i(e)})}static waitFor(e){return new N((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=N.resolve(!1);for(const i of e)t=t.next(r=>r?N.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new N((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new N((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Kw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wg(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=nS(i.target.error);this.V.reject(new Wg(e,r))}}static open(e,t,i,r){try{return new Kw(t,e.transaction(r,i))}catch(o){throw new Wg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bne(t)}}class _s{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===_s.S((0,ln.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Nd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ln.hl)())return!1;if(_s.C())return!0;const e=(0,ln.z$)(),t=_s.S(e),i=0<t&&t<10,r=_s.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,K.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Wg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ie(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ie(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Wg(e,a))},o.onupgradeneeded=s=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,K.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=Kw.open(o.db,e,s?"readonly":"readwrite",i),d=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),N.reject(h))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,h="FirebaseError"!==d.name&&a<3;if(se("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),o.close(),!h)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vne{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Nd(this.k.delete())}}class Wg extends ie{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wc(n){return"IndexedDbTransactionError"===n.name}class Bne{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Nd(i)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Nd(this.store.add(e))}get(e){return Nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Nd(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Nd(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new N((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new N((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){se("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new N((i,r)=>{t.onerror=o=>{const s=nS(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new N((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new Vne(a),d=t(a.primaryKey,a.value,c);if(d instanceof N){const h=d.catch(p=>(c.done(),N.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>N.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nd(n){return new N((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=nS(i.target.error);t(r)}})}let ZB=!1;function nS(n){const e=_s.S((0,ln.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZB||(ZB=!0,setTimeout(()=>{throw i},0)),i}}return n}class Une{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,K.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){Wc(i)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Gc(i)}yield t.ee(6e4)}))}}class jne{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,K.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return N.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return se("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(se("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=qB(o);eS(s,i)>0&&(i=s)}),new uo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ho=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Zg(n){return null==n}function Kg(n){return 0===n&&1/n==-1/0}function KB(n){return"number"==typeof n&&Number.isInteger(n)&&!Kg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function lr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QB(e)),e=zne(n.get(t),e);return QB(e)}function zne(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function QB(n){return n+"\x01\x01"}function Ys(n){const e=n.length;if(Me(e>=2),2===e)return Me("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&Ie(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Ie()}o=s+2}return new kt(i)}const YB=["userId","batchId"];function Qw(n,e){return[n,lr(e)]}function XB(n,e,t){return[n,lr(e),t]}const Hne={},$ne=["prefixPath","collectionGroup","readTime","documentId"],qne=["prefixPath","collectionGroup","documentId"],Gne=["collectionGroup","readTime","prefixPath","documentId"],Wne=["canonicalId","targetId"],Zne=["targetId","path"],Kne=["path","targetId"],Qne=["collectionId","parent"],Yne=["indexId","uid"],Xne=["uid","sequenceNumber"],Jne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eie=["indexId","uid","orderedDocumentKey"],tie=["userId","collectionPath","documentId"],nie=["userId","collectionPath","largestBatchId"],iie=["userId","collectionGroup","largestBatchId"],JB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rie=[...JB,"documentOverlays"],eU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tU=eU,oie=[...tU,"indexConfiguration","indexState","indexEntries"];class iS extends WB{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Fi(n,e){const t=pe(n);return _s.M(t.ae,e)}function nU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mn{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yw(this.root,e,this.comparator,!0)}}class Yw{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ki.RED,this.left=r??Ki.EMPTY,this.right=o??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ki(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ki.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rU(this.data.getIterator())}getIteratorFrom(e){return new rU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new on(this.comparator);return t.data=e,t}}class rU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hf(n){return n.hasNext()?n.getNext():void 0}class Wr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Wr([])}unionWith(e){let t=new on(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class oU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oU("Invalid base64 string: "+o):o}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const aie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kc(n){if(Me(!!n),"string"==typeof n){let e=0;const t=aie.exec(n);if(Me(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Na(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function Xw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jw(n){const e=n.mapValue.fields.__previous_value__;return Xw(e)?Jw(e):e}function Qg(n){const e=Kc(n.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class cie{constructor(e,t,i,r,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Qc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}const Yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},e0={nullValue:"NULL_VALUE"};function Xc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xw(n)?4:lU(n)?9007199254740991:10:Ie()}function Xs(n,e){if(n===e)return!0;const t=Xc(n);if(t!==Xc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qg(n).isEqual(Qg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Kc(r.timestampValue),a=Kc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Na(n.bytesValue).isEqual(Na(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Gn(r.geoPointValue.latitude)===Gn(o.geoPointValue.latitude)&&Gn(r.geoPointValue.longitude)===Gn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Gn(r.integerValue)===Gn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Gn(r.doubleValue),a=Gn(o.doubleValue);return s===a?Kg(s)===Kg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return lf(n.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(nU(s)!==nU(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Xs(s[c],a[c])))return!1;return!0}(n,e);default:return Ie()}var o}function Yg(n,e){return void 0!==(n.values||[]).find(t=>Xs(t,e))}function Jc(n,e){if(n===e)return 0;const t=Xc(n),i=Xc(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Gn(o.integerValue||o.doubleValue),c=Gn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return sU(n.timestampValue,e.timestampValue);case 4:return sU(Qg(n),Qg(e));case 5:return Xe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Na(o),c=Na(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Xe(a[d],c[d]);if(0!==h)return h}return Xe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Xe(Gn(o.latitude),Gn(s.latitude));return 0!==a?a:Xe(Gn(o.longitude),Gn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=Jc(a[d],c[d]);if(h)return h}return Xe(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Yc.mapValue&&s===Yc.mapValue)return 0;if(o===Yc.mapValue)return 1;if(s===Yc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Xe(c[p],h[p]);if(0!==g)return g;const v=Jc(a[c[p]],d[h[p]]);if(0!==v)return v}return Xe(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function sU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xe(n,e);const t=Kc(n),i=Kc(e),r=Xe(t.seconds,i.seconds);return 0!==r?r:Xe(t.nanos,i.nanos)}function ff(n){return rS(n)}function rS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Kc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Na(n.bytesValue).toBase64():"referenceValue"in n?ge.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=rS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${rS(t.fields[s])}`;return r+"}"}(n.mapValue):Ie()}function Fd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oS(n){return!!n&&"integerValue"in n}function Xg(n){return!!n&&"arrayValue"in n}function aU(n){return!!n&&"nullValue"in n}function cU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function n0(n){return!!n&&"mapValue"in n}function Jg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lie(n){return"nullValue"in n?e0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fd(Qc.empty(),ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ie()}function die(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fd(Qc.empty(),ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yc:Ie()}function dU(n,e){const t=Jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function uU(n,e){const t=Jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!n0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jg(t)}setAll(e){let t=bn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Jg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());n0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];n0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Zc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Qi(Jg(this.value))}}function hU(n){const e=[];return Zc(n.fields,(t,i)=>{const r=new bn([t]);if(n0(i)){const o=hU(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Wr(e)}class wn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Oe.min(),Oe.min(),Oe.min(),Qi.empty(),0)}static newFoundDocument(e,t,i,r){return new wn(e,1,t,Oe.min(),i,r,0)}static newNoDocument(e,t){return new wn(e,2,t,Oe.min(),Oe.min(),Qi.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Oe.min(),Oe.min(),Qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class el{constructor(e,t){this.position=e,this.inclusive=t}}function fU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ge.comparator(ge.fromName(s.referenceValue),t.key):Jc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function mU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xs(n.position[t],e.position[t]))return!1;return!0}class e_{constructor(e,t="asc"){this.field=e,this.dir=t}}function uie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class pU{}class Ct extends pU{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new hie(e,t,i):"array-contains"===t?new pie(e,i):"in"===t?new wU(e,i):"not-in"===t?new gie(e,i):"array-contains-any"===t?new _ie(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new fie(e,i):new mie(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jc(t,this.value)):null!==t&&Xc(this.value)===Xc(t)&&this.matchesComparison(Jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends pU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Jt(e,t)}matches(e){return mf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function mf(n){return"and"===n.op}function sS(n){return"or"===n.op}function aS(n){return gU(n)&&mf(n)}function gU(n){for(const e of n.filters)if(e instanceof Jt)return!1;return!0}function cS(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+ff(n.value);if(aS(n))return n.filters.map(e=>cS(e)).join(",");{const e=n.filters.map(t=>cS(t)).join(",");return`${n.op}(${e})`}}function _U(n,e){return n instanceof Ct?(i=n,(r=e)instanceof Ct&&i.op===r.op&&i.field.isEqual(r.field)&&Xs(i.value,r.value)):n instanceof Jt?function(i,r){return r instanceof Jt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&_U(s,r.filters[a]),!0)}(n,e):void Ie();var i,r}function vU(n,e){const t=n.filters.concat(e);return Jt.create(t,n.op)}function yU(n){return n instanceof Ct?`${(t=n).field.canonicalString()} ${t.op} ${ff(t.value)}`:n instanceof Jt?function(t){return t.op.toString()+" {"+t.getFilters().map(yU).join(" ,")+"}"}(n):"Filter";var t}class hie extends Ct{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class fie extends Ct{constructor(e,t){super(e,"in",t),this.keys=bU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mie extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=bU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class pie extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xg(t)&&Yg(t.arrayValue,this.value)}}class wU extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yg(this.value.arrayValue,t)}}class gie extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yg(this.value.arrayValue,t)}}class _ie extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Yg(this.value.arrayValue,i))}}class vie{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function lS(n,e=null,t=[],i=[],r=null,o=null,s=null){return new vie(n,e,t,i,r,o,s)}function Ld(n){const e=pe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>cS(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Zg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ff(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ff(i)).join(",")),e.ce=t}return e.ce}function t_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_U(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mU(n.startAt,e.startAt)&&mU(n.endAt,e.endAt)}function r0(n){return ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function o0(n,e){return n.filters.filter(t=>t instanceof Ct&&t.field.isEqual(e))}function EU(n,e,t){let i=e0,r=!0;for(const o of o0(n,e)){let s=e0,a=!0;switch(o.op){case"<":case"<=":s=lie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=e0}dU({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];dU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function IU(n,e,t){let i=Yc,r=!0;for(const o of o0(n,e)){let s=Yc,a=!0;switch(o.op){case">=":case">":s=die(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Yc}uU({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];uU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Fa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function xU(n,e,t,i,r,o,s,a){return new Fa(n,e,t,i,r,o,s,a)}function pf(n){return new Fa(n)}function CU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function dS(n){return null!==n.collectionGroup}function gf(n){const e=pe(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new on(bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new e_(o,i))}),t.has(bn.keyField().canonicalString())||e.le.push(new e_(bn.keyField(),i))}return e.le}function Rr(n){const e=pe(n);return e.he||(e.he=function TU(n,e){if("F"===n.limitType)return lS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new e_(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new el(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new el(n.startAt.position,n.startAt.inclusive):null;return lS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,gf(n))),e.he}function uS(n,e){const t=n.filters.concat([e]);return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function s0(n,e,t){return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n_(n,e){return t_(Rr(n),Rr(e))&&n.limitType===e.limitType}function DU(n){return`${Ld(Rr(n))}|lt:${n.limitType}`}function _f(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>yU(r)).join(", ")}]`),Zg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>ff(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>ff(r)).join(",")),`Target(${i})`}(Rr(n))}; limitType=${n.limitType})`}function i_(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ge.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of gf(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const d=fU(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,gf(i),r)||i.endAt&&!function(s,a,c){const d=fU(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,gf(i),r)));var i,r}function SU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AU(n){return(e,t)=>{let i=!1;for(const r of gf(n)){const o=yie(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function yie(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?Jc(c,d):Ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return iU(this.inner)}size(){return this.innerSize}}const bie=new mn(ge.comparator);function Zr(){return bie}const kU=new mn(ge.comparator);function r_(...n){let e=kU;for(const t of n)e=e.insert(t.key,t);return e}function MU(n){let e=kU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Js(){return o_()}function RU(){return o_()}function o_(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const wie=new mn(ge.comparator),Eie=new on(ge.comparator);function ot(...n){let e=Eie;for(const t of n)e=e.add(t);return e}const Iie=new on(Xe);function hS(){return Iie}function PU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kg(e)?"-0":e}}function OU(n){return{integerValue:""+n}}function NU(n,e){return KB(e)?OU(e):PU(n,e)}class a0{constructor(){this._=void 0}}function xie(n,e,t){return n instanceof vf?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Xw(o)&&(o=Jw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Vd?LU(n,e):n instanceof Bd?VU(n,e):function(r,o){const s=FU(r,o),a=BU(s)+BU(r.Ie);return oS(s)&&oS(r.Ie)?OU(a):PU(r.serializer,a)}(n,e)}function Cie(n,e,t){return n instanceof Vd?LU(n,e):n instanceof Bd?VU(n,e):t}function FU(n,e){return n instanceof yf?oS(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class vf extends a0{}class Vd extends a0{constructor(e){super(),this.elements=e}}function LU(n,e){const t=UU(e);for(const i of n.elements)t.some(r=>Xs(r,i))||t.push(i);return{arrayValue:{values:t}}}class Bd extends a0{constructor(e){super(),this.elements=e}}function VU(n,e){let t=UU(e);for(const i of n.elements)t=t.filter(r=>!Xs(r,i));return{arrayValue:{values:t}}}class yf extends a0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function BU(n){return Gn(n.integerValue||n.doubleValue)}function UU(n){return Xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class s_{constructor(e,t){this.field=e,this.transform=t}}class Die{constructor(e,t){this.version=e,this.transformResults=t}}class Rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class l0{}function jU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wf(n.key,Rn.none()):new bf(n.key,n.data,Rn.none());{const t=n.data,i=Qi.empty();let r=new on(bn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Va(n.key,i,new Wr(r.toArray()),Rn.none())}}function Sie(n,e,t){n instanceof bf?function(r,o,s){const a=r.value.clone(),c=$U(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Va?function(r,o,s){if(!c0(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=$U(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(HU(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function a_(n,e,t,i){return n instanceof bf?function(o,s,a,c){if(!c0(o.precondition,s))return a;const d=o.value.clone(),h=qU(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Va?function(o,s,a,c){if(!c0(o.precondition,s))return a;const d=qU(o.fieldTransforms,c,s),h=s.data;return h.setAll(HU(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,c0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Aie(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=FU(i.transform,r||null);null!=o&&(null===t&&(t=Qi.empty()),t.set(i.field,o))}return t||null}function zU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&lf(i,r,(o,s)=>function Tie(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Vd&&r instanceof Vd||i instanceof Bd&&r instanceof Bd?lf(i.elements,r.elements,Xs):i instanceof yf&&r instanceof yf?Xs(i.Ie,r.Ie):i instanceof vf&&r instanceof vf);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class bf extends l0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Va extends l0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $U(n,e,t){const i=new Map;Me(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Cie(s,a,t[r]))}return i}function qU(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,xie(o,s,e))}return i}class wf extends l0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fS extends l0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mS{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Sie(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=a_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=a_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=RU();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=jU(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&lf(this.mutations,e.mutations,(t,i)=>zU(t,i))&&lf(this.baseMutations,e.baseMutations,(t,i)=>zU(t,i))}}class pS{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Me(e.mutations.length===i.length);let r=wie;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new pS(e,t,i,r)}}class gS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mie{constructor(e,t){this.count=e,this.unchangedNames=t}}var fi,Mt;function GU(n){switch(n){default:return Ie();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function WU(n){if(void 0===n)return ii("GRPC error has no .code"),U.UNKNOWN;switch(n){case fi.OK:return U.OK;case fi.CANCELLED:return U.CANCELLED;case fi.UNKNOWN:return U.UNKNOWN;case fi.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case fi.INTERNAL:return U.INTERNAL;case fi.UNAVAILABLE:return U.UNAVAILABLE;case fi.UNAUTHENTICATED:return U.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case fi.NOT_FOUND:return U.NOT_FOUND;case fi.ALREADY_EXISTS:return U.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return U.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case fi.ABORTED:return U.ABORTED;case fi.OUT_OF_RANGE:return U.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return U.UNIMPLEMENTED;case fi.DATA_LOSS:return U.DATA_LOSS;default:return Ie()}}(Mt=fi||(fi={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function ZU(){return new TextEncoder}const Rie=new sf([4294967295,4294967295],0);function KU(n){const e=ZU().encode(n),t=new Cne;return t.update(e),new Uint8Array(t.digest())}function QU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sf([t,i],0),new sf([r,o],0)]}class _S{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new c_(`Invalid padding: ${t}`);if(i<0)throw new c_(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new c_(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new c_(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=sf.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(sf.fromNumber(i)));return 1===r.compare(Rie)&&(r=new sf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=KU(e),[i,r]=QU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new _S(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=KU(e),[i,r]=QU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class c_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class l_{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,d_.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new l_(Oe.min(),r,new mn(Xe),Zr(),ot())}}class d_{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new d_(i,t,ot(),ot(),ot())}}class u0{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class YU{constructor(e,t){this.targetId=e,this.fe=t}}class XU{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class JU{constructor(){this.ge=0,this.pe=tj(),this.ye=Ei.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),t=ot(),i=ot();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ie()}}),new d_(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=tj()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Pie{constructor(e){this.Le=e,this.ke=new Map,this.qe=Zr(),this.Qe=ej(),this.Ke=new mn(Xe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(r0(o))if(0===i){const s=new ge(o.path);this.We(t,s,wn.newNoDocument(s,Oe.min()))}else Me(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Na(i).toUint8Array()}catch(c){if(c instanceof oU)return Gr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new _S(s,r,o)}catch(c){return Gr(c instanceof c_?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&r0(a.target)){const c=new ge(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,wn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ot();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Ye(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new l_(e,t,this.Ke,this.qe,i);return this.qe=Zr(),this.Qe=ej(),this.Ke=new mn(Xe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new JU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new on(Xe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new JU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ej(){return new mn(ge.comparator)}function tj(){return new mn(ge.comparator)}const Oie={asc:"ASCENDING",desc:"DESCENDING"},Nie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fie={and:"AND",or:"OR"};class Lie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vS(n,e){return n.useProto3Json||Zg(e)?e:{value:e}}function Ef(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vie(n,e){return Ef(n,e.toTimestamp())}function ri(n){return Me(!!n),Oe.fromTimestamp(function(t){const i=Kc(t);return new Mn(i.seconds,i.nanos)}(n))}function yS(n,e){return(i=n,new kt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function ij(n){const e=kt.fromString(n);return Me(hj(e)),e}function u_(n,e){return yS(n.databaseId,e.path)}function ea(n,e){const t=ij(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(oj(t))}function bS(n,e){return yS(n.databaseId,e)}function rj(n){const e=ij(n);return 4===e.length?kt.emptyPath():oj(e)}function h_(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oj(n){return Me(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sj(n,e,t){return{name:u_(n,e),fields:t.value.mapValue.fields}}function aj(n,e,t){const i=ea(n,e.name),r=ri(e.updateTime),o=e.createTime?ri(e.createTime):Oe.min(),s=new Qi({mapValue:{fields:e.fields}}),a=wn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function f_(n,e){let t;if(e instanceof bf)t={update:sj(n,e.key,e.value)};else if(e instanceof wf)t={delete:u_(n,e.key)};else if(e instanceof Va)t={update:sj(n,e.key,e.data),updateMask:Gie(e.fieldMask)};else{if(!(e instanceof fS))return Ie();t={verify:u_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof vf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ie()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Vie(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ie()),t;var o}function wS(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Rn.updateTime(ri(o.updateTime)):void 0!==o.exists?Rn.exists(o.exists):Rn.none():Rn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Me("REQUEST_TIME"===a.setToServerValue),c=new vf):"appendMissingElements"in a?c=new Vd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Bd(a.removeAllFromArray.values||[]):"increment"in a?c=new yf(s,a.increment):Ie();const d=bn.fromServerFormat(a.fieldPath);return new s_(d,c)}(n,r)):[];var o;if(e.update){const r=ea(n,e.update.name),o=new Qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Wr((e.updateMask.fieldPaths||[]).map(h=>bn.fromServerFormat(h)));return new Va(r,o,s,t,i)}return new bf(r,o,t,i)}if(e.delete){const r=ea(n,e.delete);return new wf(r,t)}if(e.verify){const r=ea(n,e.verify);return new fS(r,t)}return Ie()}function cj(n,e){return{documents:[bS(n,e.path)]}}function ES(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=bS(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bS(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return uj(Jt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:tl((p=d).field),direction:Hie(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=vS(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function lj(n){let e=rj(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Me(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=dj(p);return g instanceof Jt&&aS(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new e_(If((b=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Zg(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new el((p=t.startAt).values||[],!!p.before));let d=null;return t.endAt&&(d=function(p){return new el(p.values||[],!p.before)}(t.endAt)),xU(e,r,s,o,a,"F",c,d)}function dj(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=If(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=If(t.unaryFilter.field);return Ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=If(t.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=If(t.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):void 0!==n.fieldFilter?Ct.create(If((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Jt.create(t.compositeFilter.filters.map(i=>dj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie();var t}function Hie(n){return Oie[n]}function $ie(n){return Nie[n]}function qie(n){return Fie[n]}function tl(n){return{fieldPath:n.canonicalString()}}function If(n){return bn.fromServerFormat(n.fieldPath)}function uj(n){return n instanceof Ct?function(t){if("=="===t.op){if(cU(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(aU(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(cU(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(aU(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:$ie(t.op),value:t.value}}}(n):n instanceof Jt?function(t){const i=t.getFilters().map(r=>uj(r));return 1===i.length?i[0]:{compositeFilter:{op:qie(t.op),filters:i}}}(n):Ie()}function Gie(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ba{constructor(e,t,i,r,o=Oe.min(),s=Oe.min(),a=Ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fj{constructor(e){this.ut=e}}function mj(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:h0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:u_(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Ef(o,s.version.toTimestamp()),createTime:Ef(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ud(e.version)};else{if(!e.isUnknownDocument())return Ie();i.unknownDocument={path:t.path.toArray(),version:Ud(e.version)}}var o,s;return i}function h0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ud(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jd(n){const e=new Mn(n.seconds,n.nanoseconds);return Oe.fromTimestamp(e)}function zd(n,e){const t=(e.baseMutations||[]).map(o=>wS(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>wS(n.ut,o)),r=Mn.fromMillis(e.localWriteTimeMs);return new mS(e.batchId,r,t,i)}function m_(n){const e=jd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jd(n.lastLimboFreeSnapshotVersion):Oe.min();let i;return i=void 0!==n.query.documents?(Me(1===(o=n.query).documents.length),Rr(pf(rj(o.documents[0])))):function(o){return Rr(lj(o))}(n.query),new Ba(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken));var o}function pj(n,e){const t=Ud(e.snapshotVersion),i=Ud(e.lastLimboFreeSnapshotVersion);let r;r=r0(e.target)?cj(n.ut,e.target):ES(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ld(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function IS(n){const e=lj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?s0(e,e.limit,"L"):e}function xS(n,e){return new gS(e.largestBatchId,wS(n.ut,e.overlayMutation))}function gj(n,e){const t=e.path.lastSegment();return[n,lr(e.path.popLast()),t]}function _j(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ud(i.readTime),documentKey:lr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Zie{getBundleMetadata(e,t){return vj(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:jd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return vj(e).put({bundleId:(r=t).id,createTime:Ud(ri(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return yj(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:IS(o.bundledQuery),readTime:jd(o.readTime)};var o})}saveNamedQuery(e,t){return yj(e).put({name:(r=t).name,readTime:Ud(ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function vj(n){return Fi(n,"bundles")}function yj(n){return Fi(n,"namedQueries")}class f0{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new f0(e,t.uid||"")}getOverlay(e,t){return p_(e).get(gj(this.userId,t)).next(i=>i?xS(this.serializer,i):null)}getOverlays(e,t){const i=Js();return N.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new gS(t,s);r.push(this.lt(e,a))}),N.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(lr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(p_(e).H("collectionPathOverlayIndex",a))}),N.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Js(),o=lr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return p_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=xS(this.serializer,c);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Js();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return p_(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,d,h)=>{const p=xS(this.serializer,d);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return p_(e).put(function(r,o,s){const[a,c,d]=gj(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:f_(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function p_(n){return Fi(n,"documentOverlays")}class Hd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Gn(e.integerValue));else if("doubleValue"in e){const i=Gn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Kg(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Na(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?lU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ie()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ge.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Kie(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function bj(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Kie(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Hd.St=new Hd;class Qie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=bj(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=bj(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Yie{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Xie{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class g_{constructor(){this.Wt=new Qie,this.Gt=new Yie(this.Wt),this.zt=new Xie(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class $d{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new $d(this.indexId,this.documentKey,this.arrayValue,i)}}function nl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=wj(n.arrayValue,e.arrayValue),0!==t?t:(t=wj(n.directionalValue,e.directionalValue),0!==t?t:ge.comparator(n.documentKey,e.documentKey)))}function wj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Ej{constructor(e){this.Jt=new on((t,i)=>bn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Me(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=JD(e);if(void 0!==t&&!this.tn(t))return!1;const i=Pd(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new on(bn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Od(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Od(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Od(i.field,"asc"===i.dir?0:1)));return new df(df.UNKNOWN_ID,this.collectionId,t,uf.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ij(n){var e,t;if(Me(n instanceof Ct||n instanceof Jt),n instanceof Ct){if(n instanceof wU){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Ct.create(n.field,"==",o)))||[];return Jt.create(r,"or")}return n}const i=n.filters.map(r=>Ij(r));return Jt.create(i,n.op)}function Jie(n){if(0===n.getFilters().length)return[];const e=DS(Ij(n));return Me(xj(e)),CS(e)||TS(e)?[e]:e.getFilters()}function CS(n){return n instanceof Ct}function TS(n){return n instanceof Jt&&aS(n)}function xj(n){return CS(n)||TS(n)||function(t){if(t instanceof Jt&&sS(t)){for(const i of t.getFilters())if(!CS(i)&&!TS(i))return!1;return!0}return!1}(n)}function DS(n){if(Me(n instanceof Ct||n instanceof Jt),n instanceof Ct)return n;if(1===n.filters.length)return DS(n.filters[0]);const e=n.filters.map(i=>DS(i));let t=Jt.create(e,n.op);return t=m0(t),xj(t)?t:(Me(t instanceof Jt),Me(mf(t)),Me(t.filters.length>1),t.filters.reduce((i,r)=>SS(i,r)))}function SS(n,e){let t;return Me(n instanceof Ct||n instanceof Jt),Me(e instanceof Ct||e instanceof Jt),t=n instanceof Ct?e instanceof Ct?Jt.create([n,e],"and"):Cj(n,e):e instanceof Ct?Cj(e,n):function(r,o){if(Me(r.filters.length>0&&o.filters.length>0),mf(r)&&mf(o))return vU(r,o.getFilters());const s=sS(r)?r:o,a=sS(r)?o:r,c=s.filters.map(d=>SS(d,a));return Jt.create(c,"or")}(n,e),m0(t)}function Cj(n,e){if(mf(e))return vU(e,n.getFilters());{const t=e.filters.map(i=>SS(n,i));return Jt.create(t,"or")}}function m0(n){if(Me(n instanceof Ct||n instanceof Jt),n instanceof Ct)return n;const e=n.getFilters();if(1===e.length)return m0(e[0]);if(gU(n))return n;const t=e.map(r=>m0(r)),i=[];return t.forEach(r=>{r instanceof Ct?i.push(r):r instanceof Jt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Jt.create(i,n.op)}class ere{constructor(){this.on=new AS}addToCollectionParentIndex(e,t){return this.on.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(uo.min())}updateCollectionGroup(e,t,i){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}}class AS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new on(kt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new on(kt.comparator)).toArray()}}const p0=new Uint8Array(0);class tre{constructor(e,t){this.user=e,this.databaseId=t,this._n=new AS,this.an=new La(i=>Ld(i),(i,r)=>t_(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:lr(r)};return Tj(e).put(o)}return N.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[HB(t),""],!1,!0);return Tj(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ys(s.parent))}return i})}addFieldIndex(e,t){const i=__(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Cf(e);return o.next(a=>{s.put(_j(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=__(e),r=Cf(e),o=xf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=__(e),i=xf(e),r=Cf(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return N.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new Ej(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=xf(e);let r=!0;const o=new Map;return N.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ot();const a=[];return N.forEach(o,(c,d)=>{var O;se("IndexedDbIndexManager",`Using index ${O=c,`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${Ld(t)}`);const h=function(O,Y){const he=JD(Y);if(void 0===he)return null;for(const xe of o0(O,he.fieldPath))switch(xe.op){case"array-contains-any":return xe.value.arrayValue.values||[];case"array-contains":return[xe.value]}return null}(d,c),p=function(O,Y){const he=new Map;for(const xe of Pd(Y))for(const Qe of o0(O,xe.fieldPath))switch(Qe.op){case"==":case"in":he.set(xe.fieldPath.canonicalString(),Qe.value);break;case"not-in":case"!=":return he.set(xe.fieldPath.canonicalString(),Qe.value),Array.from(he.values())}return null}(d,c),g=function(O,Y){const he=[];let xe=!0;for(const Qe of Pd(Y)){const dn=0===Qe.kind?EU(O,Qe.fieldPath,O.startAt):IU(O,Qe.fieldPath,O.startAt);he.push(dn.value),xe&&(xe=dn.inclusive)}return new el(he,xe)}(d,c),v=function(O,Y){const he=[];let xe=!0;for(const Qe of Pd(Y)){const dn=0===Qe.kind?IU(O,Qe.fieldPath,O.endAt):EU(O,Qe.fieldPath,O.endAt);he.push(dn.value),xe&&(xe=dn.inclusive)}return new el(he,xe)}(d,c),b=this.ln(c,d,g),w=this.ln(c,d,v),E=this.hn(c,d,p),k=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,E);return N.forEach(k,S=>i.j(S,t.limit).next(O=>{O.forEach(Y=>{const he=ge.fromSegments(Y.documentKey);s.has(he)||(s=s.add(he),a.push(he))})}))}).next(()=>a)}return N.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Jie(Jt.create(e.filters,"and")).map(i=>lS(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),d=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/d]):p0,v=this.Tn(e,g,i[p%d],r),b=this.En(e,g,o[p%d],s),w=a.map(E=>this.Tn(e,g,E,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new $d(e,ge.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new $d(e,ge.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new Ej(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return N.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new on(bn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new g_;for(const r of Pd(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Hd.St.ht(o,s)}return i.Ut()}In(e){const t=new g_;return Hd.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new g_;return Hd.St.ht(Fd(this.databaseId,t),i.jt(function(o){const s=Pd(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new g_);let o=0;for(const s of Pd(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&Xg(a))r=this.Vn(r,s,a);else{const d=c.jt(s.kind);Hd.St.ht(a,d)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new g_;c.seed(a.Ut()),Hd.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof Ct&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=__(e),r=Cf(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return N.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new uf(p.sequenceNumber,new uo(jd(p.readTime),new ge(Ys(p.documentKey)),p.largestBatchId)):uf.empty(),v=h.fields.map(([b,w])=>new Od(bn.fromServerFormat(b),w));return new df(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Xe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=__(e),o=Cf(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>N.forEach(a,c=>o.put(_j(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return N.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?N.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),N.forEach(a,c=>this.gn(e,r,c).next(d=>{const h=this.pn(o,c);return d.isEqual(h)?N.resolve():this.yn(e,o,c,d,h)}))))})}wn(e,t,i,r){return xf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return xf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=xf(e);let o=new on(nl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new $d(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new on(nl);const r=this.dn(t,e);if(null==r)return i;const o=JD(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Xg(s))for(const a of s.arrayValue.values||[])i=i.add(new $d(t.indexId,e.key,this.In(a),r))}else i=i.add(new $d(t.indexId,e.key,p0,r));return i}yn(e,t,i,r,o){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,h,p,g){const v=c.getIterator(),b=d.getIterator();let w=hf(v),E=hf(b);for(;w||E;){let k=!1,S=!1;if(w&&E){const O=h(w,E);O<0?S=!0:O>0&&(k=!0)}else null!=w?S=!0:k=!0;k?(p(E),E=hf(b)):S?(g(w),w=hf(v)):(w=hf(v),E=hf(b))}}(r,o,nl,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),N.waitFor(s)}fn(e){let t=1;return Cf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>nl(s,a)).filter((s,a,c)=>!a||0!==nl(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=nl(s,e),c=nl(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,p0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,p0,[]]))}return o}bn(e,t){return nl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Dj)}getMinOffset(e,t){return N.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||Ie())).next(Dj)}}function Tj(n){return Fi(n,"collectionParents")}function xf(n){return Fi(n,"indexEntries")}function __(n){return Fi(n,"indexConfiguration")}function Cf(n){return Fi(n,"indexState")}function Dj(n){Me(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;eS(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new uo(e.readTime,e.documentKey,t)}const Sj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Aj(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{Me(1===a)}));const d=[];for(const h of t.mutations){const p=XB(e,h.key.path,t.batchId);o.push(r.delete(p)),d.push(h.key)}return N.waitFor(o).next(()=>d)}function g0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ie();e=n.noDocument}return JSON.stringify(e).length}dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(41943040,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);class _0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Me(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new _0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return il(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Tf(e),s=il(e);return s.add({}).next(a=>{Me("number"==typeof a);const c=new mS(a,t,i,r),d=function(v,b,w){const E=w.baseMutations.map(S=>f_(v.ut,S)),k=w.mutations.map(S=>f_(v.ut,S));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:E,mutations:k}}(this.serializer,this.userId,c),h=[];let p=new on((g,v)=>Xe(g.canonicalString(),v.canonicalString()));for(const g of r){const v=XB(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(v,Hne))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),N.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return il(e).get(t).next(i=>i?(Me(i.userId===this.userId),zd(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?N.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return il(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Me(a.batchId>=i),o=zd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return il(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return il(e).W("userMutationsIndex",t).next(i=>i.map(r=>zd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Qw(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Tf(e).Y({range:r},(s,a,c)=>{const[d,h,p]=s,g=Ys(h);if(d===this.userId&&t.path.isEqual(g))return il(e).get(p).next(v=>{if(!v)throw Ie();Me(v.userId===this.userId),o.push(zd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new on(Xe);const r=[];return t.forEach(o=>{const s=Qw(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Tf(e).Y({range:a},(d,h,p)=>{const[g,v,b]=d,w=Ys(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),N.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Qw(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new on(Xe);return Tf(e).Y({range:s},(c,d,h)=>{const[p,g,v]=c,b=Ys(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(il(e).get(o).next(s=>{if(null===s)throw Ie();Me(s.userId===this.userId),i.push(zd(this.serializer,s))}))}),N.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Aj(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),N.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return N.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Tf(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Ys(o[1]);r.push(c)}else a.done()}).next(()=>{Me(0===r.length)})})}containsKey(e,t){return kj(e,this.userId,t)}Mn(e){return Mj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kj(n,e,t){const i=Qw(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Tf(n).Y({range:o,J:!0},(a,c,d)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),d.done()}).next(()=>s)}function il(n){return Fi(n,"mutations")}function Tf(n){return Fi(n,"documentMutations")}function Mj(n){return Fi(n,"mutationQueues")}class qd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new qd(0)}static Nn(){return new qd(-1)}}class nre{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new qd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Oe.fromTimestamp(new Mn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Df(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Me(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Df(e).Y((s,a)=>{const c=m_(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>N.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Df(e).Y((i,r)=>{const o=m_(r);t(o)})}Bn(e){return Rj(e).get("targetGlobalKey").next(t=>(Me(null!==t),t))}Ln(e,t){return Rj(e).put("targetGlobalKey",t)}kn(e,t){return Df(e).put(pj(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ld(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Df(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const d=m_(a);t_(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=rl(e);return t.forEach(s=>{const a=lr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),N.waitFor(r)}removeMatchingKeys(e,t,i){const r=rl(e);return N.forEach(t,o=>{const s=lr(o.path);return N.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=rl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=rl(e);let o=ot();return r.Y({range:i,J:!0},(s,a,c)=>{const d=Ys(s[1]),h=new ge(d);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=lr(t.path),r=IDBKeyRange.bound([i],[HB(i)],!1,!0);let o=0;return rl(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}_t(e,t){return Df(e).get(t).next(i=>i?m_(i):null)}}function Df(n){return Fi(n,"targets")}function Rj(n){return Fi(n,"targetGlobal")}function rl(n){return Fi(n,"targetDocuments")}function Pj([n,e],[t,i]){const r=Xe(n,t);return 0===r?Xe(e,i):r}class ire{constructor(e){this.Qn=e,this.buffer=new on(Pj),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Pj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Oj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,K.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Wc(i)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Gc(i)}yield t.Gn(3e5)}))}}class rre{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return N.resolve(ho._e);const i=new ire(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(Sj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sj):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(d=Date.now(),cf()<=Ws.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(d-c)+`ms\nTotal Duration: ${d-h}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class ore{constructor(e,t){this.db=e,this.garbageCollector=function Nj(n,e){return new rre(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return v0(e,i)}removeReference(e,t,i){return v0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return v0(e,t)}Xn(e,t){return function(r,o){let s=!1;return Mj(r).Z(a=>kj(r,a,o).next(c=>(c&&(s=!0),N.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Oe.min()),rl(e).delete([0,lr(s.path)])))});r.push(c)}}).next(()=>N.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return v0(e,t)}Zn(e,t){const i=rl(e);let r,o=ho._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==ho._e&&t(new ge(Ys(r)),o),o=d,r=c):o=ho._e}).next(()=>{o!==ho._e&&t(new ge(Ys(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function v0(n,e){return rl(n).put((r=n.currentSequenceNumber,{targetId:0,path:lr(e.path),sequenceNumber:r}));var r}class Fj{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?N.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Gd(e).put(i)}removeEntry(e,t,i){return Gd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],h0(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=wn.newInvalidDocument(t);return Gd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(v_(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:wn.newInvalidDocument(t)};return Gd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(v_(t))},(r,o)=>{i={document:this.tr(t,o),size:g0(o)}}).next(()=>i)}getEntries(e,t){let i=Zr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Zr(),r=new mn(ge.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,g0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return N.resolve();let r=new on(Uj);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(v_(r.first()),v_(r.last())),s=r.getIterator();let a=s.getNext();return Gd(e).Y({index:"documentKeyIndex",range:o},(c,d,h)=>{const p=ge.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&Uj(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?h.U(v_(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),h0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gd(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=Zr();for(const p of d){const g=this.tr(ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(i_(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Zr();const s=Bj(t,i),a=Bj(t,uo.max());return Gd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,h)=>{const p=this.tr(ge.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new are(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Vj(e).get("remoteDocumentGlobalKey").next(t=>(Me(!!t),t))}er(e,t){return Vj(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function Wie(n,e){let t;if(e.document)t=aj(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ge.fromSegments(e.noDocument.path),r=jd(e.noDocument.readTime);t=wn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie();{const i=ge.fromSegments(e.unknownDocument.path),r=jd(e.unknownDocument.version);t=wn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Mn(r[0],r[1]);return Oe.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Oe.min()))return i}return wn.newInvalidDocument(e)}}function Lj(n){return new sre(n)}class are extends Fj{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new La(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new on((o,s)=>Xe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=mj(this._r.serializer,s);r=r.add(o.path.popLast());const d=g0(c);i+=d-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=mj(this._r.serializer,s.convertToNoDocument(Oe.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),N.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function Vj(n){return Fi(n,"remoteDocumentGlobal")}function Gd(n){return Fi(n,"remoteDocumentsV14")}function v_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bj(n,e){const t=e.documentKey.path.toArray();return[n,h0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Uj(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Xe(t[o],i[o]),r)return r;return r=Xe(t.length,i.length),r||(r=Xe(t[t.length-2],i[i.length-2]),r||Xe(t[t.length-1],i[i.length-1]))}class cre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jj{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&a_(i.mutation,r,Wr.empty(),Mn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ot()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ot()){const r=Js();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=r_();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Js();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ot()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Zr();const s=o_(),a=o_();return t.forEach((c,d)=>{const h=i.get(d.key);r.has(d.key)&&(void 0===h||h.mutation instanceof Va)?o=o.insert(d.key,d):void 0!==h?(s.set(d.key,h.mutation.getFieldMask()),a_(h.mutation,d,h.mutation.getFieldMask(),Mn.now())):s.set(d.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var p;return a.set(d,new cre(h,null!==(p=s.get(d))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=o_();let r=new mn((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let h=i.get(c)||Wr.empty();h=a.applyToLocalView(d,h),i.set(c,h);const p=(r.get(a.batchId)||ot()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=RU();h.forEach(g=>{if(!o.has(g)){const v=jU(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return N.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ge.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):dS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):N.resolve(Js());let a=-1,c=o;return s.next(d=>N.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,ot())).next(h=>({batchId:a,changes:MU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let r=r_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=r_();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{const d=(p=t,g=c.child(o),new Fa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{const h=d.getKey();null===s.get(h)&&(s=s.insert(h,wn.newInvalidDocument(h)))});let a=r_();return s.forEach((c,d)=>{const h=o.get(c);void 0!==h&&a_(h.mutation,d,Wr.empty(),Mn.now()),i_(t,d)&&(a=a.insert(c,d))}),a})}}class lre{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return N.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:ri(r.createTime)}),N.resolve();var r}getNamedQuery(e,t){return N.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:IS(r.bundledQuery),readTime:ri(r.readTime)}),N.resolve();var r}}class dre{constructor(){this.overlays=new mn(ge.comparator),this.lr=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Js();return N.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),N.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),N.resolve()}getOverlaysForCollection(e,t,i){const r=Js(),o=t.length+1,s=new ge(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return N.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new mn((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let h=o.get(d.largestBatchId);null===h&&(h=Js(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Js(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return N.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new gS(t,i));let o=this.lr.get(t);void 0===o&&(o=ot(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class kS{constructor(){this.hr=new on(Li.Pr),this.Ir=new on(Li.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Li(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Li(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ge(new kt([])),i=new Li(t,e),r=new Li(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ge(new kt([])),i=new Li(t,e),r=new Li(t,e+1);let o=ot();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Li(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Li{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ge.comparator(e.key,t.key)||Xe(e.gr,t.gr)}static Tr(e,t){return Xe(e.gr,t.gr)||ge.comparator(e.key,t.key)}}class ure{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new on(Li.Pr)}checkEmpty(e){return N.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new mS(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Li(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,t){return N.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Li(t,0),r=new Li(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new on(Xe);return t.forEach(r=>{const o=new Li(r,0),s=new Li(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),N.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ge.isDocumentKey(o)||(o=o.child(""));const s=new Li(new ge(o),0);let a=new on(Xe);return this.yr.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.gr)),!0)},s),N.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Me(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return N.forEach(t.mutations,r=>{const o=new Li(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Li(t,0),r=this.yr.firstAfterOrEqual(i);return N.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return N.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hre{constructor(e){this.Cr=e,this.docs=new mn(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return N.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=Zr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():wn.newInvalidDocument(r))}),N.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Zr();const s=t.path,a=new ge(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||eS(qB(h),i)<=0||(r.has(h.key)||i_(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Ie()}vr(e,t){return N.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fre(this)}getSize(e){return N.resolve(this.size)}}class fre extends Fj{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),N.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class mre{constructor(e){this.persistence=e,this.Fr=new La(t=>Ld(t),t_),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new kS,this.targetCount=0,this.Nr=qd.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),N.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new qd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.kn(t),N.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),N.waitFor(o).next(()=>r)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return N.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),N.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),N.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return N.resolve(i)}containsKey(e,t){return N.resolve(this.Or.containsKey(t))}}class MS{constructor(e,t){this.Br={},this.overlays={},this.Lr=new ho(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new mre(this),this.indexManager=new ere,this.remoteDocumentCache=new hre(i=>this.referenceDelegate.Qr(i)),this.serializer=new fj(t),this.Kr=new lre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dre,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new ure(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const r=new pre(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return N.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class pre extends WB{constructor(e){super(),this.currentSequenceNumber=e}}class y0{constructor(e){this.persistence=e,this.Gr=new kS,this.zr=null}static jr(e){return new y0(e)}get Hr(){if(this.zr)return this.zr;throw Ie()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),N.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),N.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Hr,i=>{const r=ge.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Oe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return N.or([()=>N.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class gre{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Kw("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YB,{unique:!0}),c.createObjectStore("documentMutations"),zj(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=N.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),zj(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Oe.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,d){return d.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YB,{unique:!0});const p=d.store("mutations"),g=h.map(v=>p.put(v));return N.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:tie});d.createIndex("collectionPathOverlayIndex",nie,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",iie,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:$ne});d.createIndex("documentKeyIndex",qne),d.createIndex("collectionGroupIndex",Gne)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Yne}).createIndex("sequenceNumberIndex",Xne,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Jne}).createIndex("documentKeyIndex",eie,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=g0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>N.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>N.forEach(a,c=>{Me(c.userId===o.userId);const d=zd(this.serializer,c);return Aj(e,o.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new kt(s),d=[0,lr(c)];o.push(t.get(d).next(h=>h?N.resolve():t.put({targetId:0,path:lr(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>N.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Qne});const i=t.store("collectionParents"),r=new AS,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:lr(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new kt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],d)=>{const h=Ys(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=m_(r),s=pj(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new ge(kt.fromString(p.document.name).popFirst(5)):p.noDocument?ge.fromSegments(p.noDocument.path):p.unknownDocument?ge.fromSegments(p.unknownDocument.path):Ie()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(d))}).next(()=>N.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=Lj(this.serializer),o=new MS(y0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var d;let h=null!==(d=a.get(c.userId))&&void 0!==d?d:ot();zd(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),N.forEach(a,(c,d)=>{const h=new Ni(d),p=f0.ct(this.serializer,h),g=o.getIndexManager(h),v=_0.ct(h,this.serializer,g,o.referenceDelegate);return new jj(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new iS(t,ho._e),c).next()})})}}function zj(n){n.createObjectStore("targetDocuments",{keyPath:Zne}).createIndex("documentTargetsIndex",Kne,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wne,{unique:!0}),n.createObjectStore("targetGlobal")}const RS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class PS{constructor(e,t,i,r,o,s,a,c,d,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=d,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!PS.D())throw new ie(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ore(this,r),this.Ii=t+"main",this.serializer=new fj(c),this.Ti=new _s(this.Ii,this.ai,new gre(this.serializer)),this.qr=new nre(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Lj(this.serializer),this.Kr=new Zie,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(U.FAILED_PRECONDITION,RS);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ho(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,K.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,K.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,K.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>w0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Wc(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return y_(e).get("owner").next(t=>N.resolve(this.wi(t)))}Si(e){return w0(e).delete(this.clientId)}bi(){var e=this;return(0,K.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Fi(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return N.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?N.resolve(!0):y_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ie(U.FAILED_PRECONDITION,RS);return!1}}return!(!this.networkEnabled||!this.inForeground)||w0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,K.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new iS(t,ho._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>w0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return _0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tre(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return f0.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?oie:14===c?tU:13===c?eU:12===c?rie:11===c?JB:void Ie();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new iS(a,this.Lr?this.Lr.next():ho._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ie(U.FAILED_PRECONDITION,GB);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return y_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(U.FAILED_PRECONDITION,RS)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return y_(e).put("owner",t)}static D(){return _s.D()}pi(e){const t=y_(e);return t.get("owner").next(i=>this.wi(i)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):N.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(ii(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,ln.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return se("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ii("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function y_(n){return Fi(n,"owner")}function w0(n){return Fi(n,"clientMetadata")}function OS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class NS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ot(),r=ot();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new NS(e,t.fromCache,i,r)}}class _re{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hj{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new _re;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(cf()<=Ws.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",_f(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),N.resolve()):(cf()<=Ws.in.DEBUG&&se("QueryEngine","Query:",_f(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(cf()<=Ws.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",_f(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(t))):N.resolve())}zi(e,t){if(CU(t))return N.resolve(null);let i=Rr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=s0(t,null,"F"),i=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.Yi(t,a);return this.Zi(t,d,s,c.readTime)?this.zi(e,s0(t,null,"F")):this.Xi(e,d,t,c)}))})))}ji(e,t,i,r){return CU(t)||r.isEqual(Oe.min())?N.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?N.resolve(null):(cf()<=Ws.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_f(t)),this.Xi(e,s,t,$B(r,-1)).next(a=>a))})}Yi(e,t){let i=new on(AU(e));return t.forEach((r,o)=>{i_(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return cf()<=Ws.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",_f(t)),this.Gi.getDocumentsMatchingQuery(e,t,uo.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class vre{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new mn(Xe),this.ns=new La(o=>Ld(o),t_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function $j(n,e,t,i){return new vre(n,e,t,i)}function qj(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,K.Z)(function*(n,e){const t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=ot();for(const d of r){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(d=>({_s:d,removedBatchIds:s,addedBatchIds:a}))})})}),FS.apply(this,arguments)}function Gj(n){const e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Wj(n,e,t){let i=ot(),r=ot();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Zr();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{us:s,cs:r}})}function wre(n,e){const t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Sf(n,e){const t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,N.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Ba(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Af(n,e,t){return LS.apply(this,arguments)}function LS(){return LS=(0,K.Z)(function*(n,e,t){const i=pe(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Wc(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),LS.apply(this,arguments)}function E0(n,e,t){const i=pe(n);let r=Oe.min(),o=ot();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){const p=pe(c),g=p.ns.get(h);return void 0!==g?N.resolve(p.ts.get(g)):p.qr.getTargetData(d,h)}(i,s,Rr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Oe.min(),t?o:ot())).next(a=>(Qj(i,SU(e),a),{documents:a,ls:o})))}function Zj(n,e){const t=pe(n),i=pe(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function Kj(n,e){const t=pe(n),i=t.rs.get(e)||Oe.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,$B(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Qj(t,e,r),r))}function Qj(n,e,t){let i=n.rs.get(e)||Oe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function VS(){return VS=(0,K.Z)(function*(n,e,t,i){const r=pe(n);let o=ot(),s=Zr();for(const d of t){const h=e.hs(d.metadata.name);d.document&&(o=o.add(h));const p=e.Ps(d);p.setReadTime(e.Is(d.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield Sf(r,(h=i,Rr(pf(kt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>Wj(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.qr.removeMatchingKeysForTargetId(d,c.targetId).next(()=>r.qr.addMatchingKeys(d,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.us,h.cs)).next(()=>h.us)))}),VS.apply(this,arguments)}function Ire(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,K.Z)(function*(n,e,t=ot()){const i=yield Sf(n,Rr(IS(e.bundledQuery))),r=pe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ri(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ei.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),BS.apply(this,arguments)}function Yj(n,e){return`firestore_clients_${n}_${e}`}function Xj(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function US(n,e){return`firestore_targets_${n}_${e}`}class I0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ie(r.error.code,r.error.message))),s?new I0(e,t,r.state,o):(ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class b_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ie(i.error.code,i.error.message))),o?new b_(e,i.state,r):(ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class x0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=hS();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=KB(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new x0(e,o):(ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jS(t.clientId,t.onlineState):(ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zS{constructor(){this.activeTargetIds=hS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HS{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new mn(Xe),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=Yj(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new zS),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,K.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(Yj(e.persistenceKey,r));if(o){const s=x0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(US(this.persistenceKey,e));if(i){const r=b_.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(US(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(se("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,K.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=ho._e;if(null!=s)try{const c=JSON.parse(s);Me("number"==typeof c),a=c}catch(c){ii("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==ho._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new I0(this.currentUser,e,t,i),o=Xj(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=Xj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=US(this.persistenceKey,e),o=new b_(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return x0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return I0.Ts(new Ni(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return b_.Ts(r,t)}Ms(e){return jS.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,K.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=hS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Jj{constructor(){this.eo=new zS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new zS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xre{ro(e){}shutdown(){}}class e4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let C0=null;function $S(){return null===C0?C0=268435456+Math.round(2147483648*Math.random()):C0++,"0x"+C0.toString(16)}const Cre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tre{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ur="WebChannelConnection";class Dre extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=$S(),c=this.So(t,i);se("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,o,s),this.Do(t,c,d,r).then(h=>(se("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Gr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+af,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${Cre[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=$S();return new Promise((s,a)=>{const c=new xne;c.setWithCredentials(!0),c.listenOnce(wne.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case YD.NO_ERROR:const h=c.getResponseJson();se(ur,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case YD.TIMEOUT:se(ur,`RPC '${e}' ${o} timed out`),a(new ie(U.DEADLINE_EXCEEDED,"Request time out"));break;case YD.HTTP_ERROR:const p=c.getStatus();if(se(ur,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(E){const k=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(k)>=0?k:U.UNKNOWN}(v.status);a(new ie(b,v.message))}else a(new ie(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ie(U.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{se(ur,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);se(ur,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",d,i,15)})}vo(e,t,i){const r=$S(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yne(),a=bne(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new Ine({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");se(ur,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new Tre({co:E=>{v?se(ur,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(g||(se(ur,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),se(ur,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},lo:()=>p.close()}),w=(E,k,S)=>{E.listen(k,O=>{try{S(O)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Zw.EventType.OPEN,()=>{v||se(ur,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Zw.EventType.CLOSE,()=>{v||(v=!0,se(ur,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Zw.EventType.ERROR,E=>{v||(v=!0,Gr(ur,`RPC '${e}' stream ${r} transport errored:`,E),b.Ro(new ie(U.UNAVAILABLE,"The operation could not be completed")))}),w(p,Zw.EventType.MESSAGE,E=>{var k;if(!v){const S=E.data[0];Me(!!S);const Y=S.error||(null===(k=S[0])||void 0===k?void 0:k.error);if(Y){se(ur,`RPC '${e}' stream ${r} received error:`,Y);const he=Y.status;let xe=function(po){const Qr=fi[po];if(void 0!==Qr)return WU(Qr)}(he),Qe=Y.message;void 0===xe&&(xe=U.INTERNAL,Qe="Unknown error status: "+he+" with message "+Y.message),v=!0,b.Ro(new ie(xe,Qe)),p.close()}else se(ur,`RPC '${e}' stream ${r} received:`,S),b.Vo(S)}}),w(a,Ene.STAT_EVENT,E=>{E.stat===VB.PROXY?se(ur,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===VB.NOPROXY&&se(ur,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function t4(){return typeof window<"u"?window:null}function T0(){return typeof document<"u"?document:null}function w_(n){return new Lie(n,!0)}class qS{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class n4{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new qS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,K.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,K.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,K.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===U.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ie(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,K.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sre extends n4{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Uie(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ie(),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(Me(void 0===h||"string"==typeof h),Ei.fromBase64String(h||"")):(Me(void 0===h||h instanceof Uint8Array),Ei.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const h=void 0===d.code?U.UNKNOWN:WU(d.code);return new ie(h,d.message||"")}(s);t=new XU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=ea(n,i.document.name),o=ri(i.document.updateTime),s=i.document.createTime?ri(i.document.createTime):Oe.min(),a=new Qi({mapValue:{fields:i.document.fields}}),c=wn.newFoundDocument(r,o,s,a);t=new u0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=ea(n,i.document),o=i.readTime?ri(i.readTime):Oe.min(),s=wn.newNoDocument(r,o);t=new u0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=ea(n,i.document);t=new u0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ie();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new Mie(r,o);t=new YU(i.targetId,s)}}var d;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Oe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Oe.min():s.readTime?ri(s.readTime):Oe.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=h_(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=r0(c)?{documents:cj(o,c)}:{query:ES(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=nj(o,s.resumeToken);const d=vS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Oe.min())>0){a.readTime=Ef(o,s.snapshotVersion.toTimestamp());const d=vS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function zie(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=h_(this.serializer),t.removeTarget=e,this.e_(t)}}class Are extends n4{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function jie(n,e){return n&&n.length>0?(Me(void 0!==e),n.map(t=>function(r,o){let s=ri(r.updateTime?r.updateTime:o);return s.isEqual(Oe.min())&&(s=ri(o)),new Die(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ri(e.commitTime);return this.listener.I_(i,t)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=h_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>f_(this.serializer,i))};this.e_(t)}}class kre extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ie(U.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(U.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Rre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ii(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Pre{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,K.Z)(function*(){var c;ol(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,K.Z)(function*(h){const p=pe(h);p.C_.add(4),yield kf(p),p.M_.set("Unknown"),p.C_.delete(4),yield E_(p)}),function d(h){return c.apply(this,arguments)})(s))}))}),this.M_=new Rre(i,r)}}function E_(n){return WS.apply(this,arguments)}function WS(){return WS=(0,K.Z)(function*(n){if(ol(n))for(const e of n.v_)yield e(!0)}),WS.apply(this,arguments)}function kf(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,K.Z)(function*(n){for(const e of n.v_)yield e(!1)}),ZS.apply(this,arguments)}function D0(n,e){const t=pe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),YS(t)?QS(t):Rf(t).Ho()&&KS(t,e))}function I_(n,e){const t=pe(n),i=Rf(t);t.D_.delete(e),i.Ho()&&i4(t,e),0===t.D_.size&&(i.Ho()?i.Zo():ol(t)&&t.M_.set("Unknown"))}function KS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rf(n).u_(e)}function i4(n,e){n.x_.Oe(e),Rf(n).c_(e)}function QS(n){n.x_=new Pie({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Rf(n).start(),n.M_.g_()}function YS(n){return ol(n)&&!Rf(n).jo()&&n.D_.size>0}function ol(n){return 0===pe(n).C_.size}function r4(n){n.x_=void 0}function Ore(n){return XS.apply(this,arguments)}function XS(){return XS=(0,K.Z)(function*(n){n.D_.forEach((e,t)=>{KS(n,e)})}),XS.apply(this,arguments)}function Nre(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,K.Z)(function*(n,e){r4(n),YS(n)?(n.M_.w_(e),QS(n)):n.M_.set("Unknown")}),JS.apply(this,arguments)}function Fre(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,K.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof XU&&2===e.state&&e.cause)try{yield(i=(0,K.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield S0(n,i)}else if(e instanceof u0?n.x_.$e(e):e instanceof YU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Oe.min()))try{const i=yield Gj(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(d);h&&o.D_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ei.EMPTY_BYTE_STRING,h.snapshotVersion)),i4(o,c);const p=new Ba(h.target,c,d,h.sequenceNumber);KS(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){se("RemoteStore","Failed to raise snapshot:",i),yield S0(n,i)}var i}),eA.apply(this,arguments)}function S0(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,K.Z)(function*(n,e,t){if(!Wc(e))throw e;n.C_.add(1),yield kf(n),n.M_.set("Offline"),t||(t=()=>Gj(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield E_(n)}))}),tA.apply(this,arguments)}function o4(n,e){return e().catch(t=>S0(n,t,e))}function Mf(n){return nA.apply(this,arguments)}function nA(){return nA=(0,K.Z)(function*(n){const e=pe(n),t=sl(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Lre(e);)try{const r=yield wre(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Vre(e,r)}catch(r){yield S0(e,r)}s4(e)&&a4(e)}),nA.apply(this,arguments)}function Lre(n){return ol(n)&&n.b_.length<10}function Vre(n,e){n.b_.push(e);const t=sl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function s4(n){return ol(n)&&!sl(n).jo()&&n.b_.length>0}function a4(n){sl(n).start()}function Bre(n){return iA.apply(this,arguments)}function iA(){return iA=(0,K.Z)(function*(n){sl(n).E_()}),iA.apply(this,arguments)}function Ure(n){return rA.apply(this,arguments)}function rA(){return rA=(0,K.Z)(function*(n){const e=sl(n);for(const t of n.b_)e.P_(t.mutations)}),rA.apply(this,arguments)}function jre(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,K.Z)(function*(n,e,t){const i=n.b_.shift(),r=pS.from(i,e,t);yield o4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Mf(n)}),oA.apply(this,arguments)}function zre(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,K.Z)(function*(n,e){var t;e&&sl(n).h_&&(yield(t=(0,K.Z)(function*(r,o){if(GU(a=o.code)&&a!==U.ABORTED){const s=r.b_.shift();sl(r).Yo(),yield o4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Mf(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),s4(n)&&a4(n)}),sA.apply(this,arguments)}function c4(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,K.Z)(function*(n,e){const t=pe(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=ol(t);t.C_.add(3),yield kf(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield E_(t)}),aA.apply(this,arguments)}function cA(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,K.Z)(function*(n,e){const t=pe(n);e?(t.C_.delete(2),yield E_(t)):e||(t.C_.add(2),yield kf(t),t.M_.set("Unknown"))}),lA.apply(this,arguments)}function Rf(n){return n.O_||(n.O_=function(t,i,r){const o=pe(t);return o.A_(),new Sre(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Ore.bind(null,n),Io:Nre.bind(null,n),a_:Fre.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.O_.Yo(),YS(n)?QS(n):n.M_.set("Unknown")):(yield n.O_.stop(),r4(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function sl(n){return n.N_||(n.N_=function(t,i,r){const o=pe(t);return o.A_(),new Are(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Bre.bind(null,n),Io:zre.bind(null,n),T_:Ure.bind(null,n),I_:jre.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.N_.Yo(),yield Mf(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class dA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new dA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(n,e){if(ii("AsyncQueue",`${e}: ${n}`),Wc(n))return new ie(U.UNAVAILABLE,`${e}: ${n}`);throw n}class Of{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=r_(),this.sortedSet=new mn(this.comparator)}static emptySet(e){return new Of(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Of)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Of;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class l4{constructor(){this.B_=new mn(ge.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ie():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Nf{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Nf(e,t,Of.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Hre{constructor(){this.k_=void 0,this.listeners=[]}}class $re{constructor(){this.queries=new La(e=>DU(e),n_),this.onlineState="Unknown",this.q_=new Set}}function uA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,K.Z)(function*(n,e){const t=pe(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Hre),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Pf(s,`Initialization of query '${_f(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&pA(t)}),hA.apply(this,arguments)}function fA(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,K.Z)(function*(n,e){const t=pe(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),mA.apply(this,arguments)}function qre(n,e){const t=pe(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&pA(t)}function Gre(n,e,t){const i=pe(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function pA(n){n.q_.forEach(e=>{e.next()})}class gA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Nf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Wre{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class d4{constructor(e){this.serializer=e}hs(e){return ea(this.serializer,e)}Ps(e){return e.metadata.exists?aj(this.serializer,e.document,!1):wn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ri(e)}}class Zre{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=u4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=kt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new d4(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||ot()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,K.Z)(function*(){const t=yield function Ere(n,e,t,i){return VS.apply(this,arguments)}(e.localStore,new d4(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield Ire(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function u4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class h4{constructor(e){this.key=e}}class f4{constructor(e){this.key=e}}class m4{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=AU(e),this.aa=new Of(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new l4,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=i_(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),E=!0):this.ha(g,v)||(i.track({type:2,doc:v}),E=!0,(c&&this._a(v,c)>0||d&&this._a(v,d)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),E=!0):g&&!v&&(i.track({type:1,doc:g}),E=!0,(c||d)&&(a=!0)),E&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return b(g)-b(v)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Nf(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new l4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new f4(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new h4(i))}),t}da(e){this.ia=e.ls,this.oa=ot();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Nf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Kre{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Qre{constructor(e){this.key=e,this.Ra=!1}}class Yre{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new La(a=>DU(a),n_),this.fa=new Map,this.ga=new Set,this.pa=new mn(ge.comparator),this.ya=new Map,this.wa=new kS,this.Sa={},this.ba=new Map,this.Da=qd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Xre(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,K.Z)(function*(n,e){const t=UA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Sf(t.localStore,Rr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield vA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&D0(t.remoteStore,s)}return r}),_A.apply(this,arguments)}function vA(n,e,t,i,r){return yA.apply(this,arguments)}function yA(){return yA=(0,K.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,K.Z)(function*(E,k,S,O){let Y=k.view.ca(S);Y.Zi&&(Y=yield E0(E.localStore,k.query,!1).then(({documents:Qe})=>k.view.ca(Qe,Y)));const he=O&&O.targetChanges.get(k.targetId),xe=k.view.applyChanges(Y,E.isPrimaryClient,he);return AA(E,k.targetId,xe.Ta),xe.snapshot}),function w(E,k,S,O){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield E0(n.localStore,e,!0),s=new m4(e,o.ls),a=s.ca(o.documents),c=d_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=s.applyChanges(a,n.isPrimaryClient,c);AA(n,t,d.Ta);const h=new Kre(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),yA.apply(this,arguments)}function Jre(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,K.Z)(function*(n,e){const t=pe(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!n_(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Af(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),I_(t.remoteStore,i.targetId),Ff(t,i.targetId)}).catch(Gc))):(Ff(t,i.targetId),yield Af(t.localStore,i.targetId,!0))}),bA.apply(this,arguments)}function wA(){return wA=(0,K.Z)(function*(n,e,t){const i=jA(n);try{const r=yield function(s,a){const c=pe(s),d=Mn.now(),h=a.reduce((v,b)=>v.add(b.key),ot());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Zr(),w=ot();return c.ss.getEntries(v,h).next(E=>{b=E,b.forEach((k,S)=>{S.isValidDocument()||(w=w.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(E=>{p=E;const k=[];for(const S of a){const O=Aie(S,p.get(S.key).overlayedDocument);null!=O&&k.push(new Va(S.key,O,hU(O.value.mapValue),Rn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,k,a)}).next(E=>{g=E;const k=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,E.batchId,k)})}).then(()=>({batchId:g.batchId,changes:MU(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Sa[s.currentUser.toKey()];d||(d=new mn(Xe)),d=d.insert(a,c),s.Sa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield Ua(i,r.changes),yield Mf(i.remoteStore)}catch(r){const o=Pf(r,"Failed to persist write");t.reject(o)}}),wA.apply(this,arguments)}function p4(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,K.Z)(function*(n,e){const t=pe(n);try{const i=yield function bre(n,e){const t=pe(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,E,k;null!==e.targetMismatches.get(p)?v=v.withResumeToken(Ei.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),E=v,k=h,(0===(w=g).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Zr(),d=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Wj(o,s,e.documentUpdates).next(h=>{c=h.us,d=h.cs})),!i.isEqual(Oe.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Me(s.Ra):r.removedDocuments.size>0&&(Me(s.Ra),s.Ra=!1))}),yield Ua(t,i,e)}catch(i){yield Gc(i)}}),EA.apply(this,arguments)}function g4(n,e,t){const i=pe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=pe(s);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(d=!0)}),d&&pA(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function toe(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,K.Z)(function*(n,e,t){const i=pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new mn(ge.comparator);s=s.insert(o,wn.newNoDocument(o,Oe.min()));const a=ot().add(o),c=new l_(Oe.min(),new Map,new mn(Xe),s,a);yield p4(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),kA(i)}else yield Af(i.localStore,e,!1).then(()=>Ff(i,e,t)).catch(Gc)}),IA.apply(this,arguments)}function noe(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,K.Z)(function*(n,e){const t=pe(n),i=e.batch.batchId;try{const r=yield function yre(n,e){const t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,g=p.keys();let v=N.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const E=d.docVersions.get(b);Me(null!==E),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ot();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);SA(t,i,null),DA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ua(t,r)}catch(r){yield Gc(r)}}),xA.apply(this,arguments)}function ioe(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,K.Z)(function*(n,e,t){const i=pe(n);try{const r=yield function(s,a){const c=pe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Me(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);SA(i,e,t),DA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ua(i,r)}catch(r){yield Gc(r)}}),CA.apply(this,arguments)}function TA(){return TA=(0,K.Z)(function*(n,e){const t=pe(n);ol(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=pe(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Pf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),TA.apply(this,arguments)}function DA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function SA(n,e,t){const i=pe(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Ff(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||_4(n,i)})}function _4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(I_(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),kA(n))}function AA(n,e,t){for(const i of t)i instanceof h4?(n.wa.addReference(i.key,e),ooe(n,i)):i instanceof f4?(se("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||_4(n,i.key)):Ie()}function ooe(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(i),kA(n))}function kA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ge(kt.fromString(e)),i=n.Da.next();n.ya.set(i,new Qre(t)),n.pa=n.pa.insert(t,i),D0(n.remoteStore,new Ba(Rr(pf(t.path)),i,"TargetPurposeLimboResolution",ho._e))}}function Ua(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,K.Z)(function*(n,e,t){const i=pe(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(d=>{if((d||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);const h=NS.Qi(c.targetId,d);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,K.Z)(function*(d,h){const p=pe(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(h,v=>N.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>N.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!Wc(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,E)}}}),function c(d,h){return a.apply(this,arguments)})(i.localStore,o))}),MA.apply(this,arguments)}function soe(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,K.Z)(function*(n,e){const t=pe(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=yield qj(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new ie(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ua(t,i._s)}var o}),RA.apply(this,arguments)}function aoe(n,e){const t=pe(n),i=t.ya.get(e);if(i&&i.Ra)return ot().add(i.key);{let r=ot();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function coe(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,K.Z)(function*(n,e){const t=pe(n),i=yield E0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&AA(t,e.targetId,r.Ta),r}),PA.apply(this,arguments)}function loe(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,K.Z)(function*(n,e){const t=pe(n);return Kj(t.localStore,e).then(i=>Ua(t,i))}),OA.apply(this,arguments)}function doe(n,e,t,i){return NA.apply(this,arguments)}function NA(){return NA=(0,K.Z)(function*(n,e,t,i){const r=pe(n),o=yield function(a,c){const d=pe(a),h=pe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?d.localDocuments.getDocuments(p,g):N.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Mf(r.remoteStore):"acknowledged"===t||"rejected"===t?(SA(r,e,i||null),DA(r,e),c=e,pe(pe(r.localStore).mutationQueue).Fn(c)):Ie(),yield Ua(r,o)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),NA.apply(this,arguments)}function FA(){return FA=(0,K.Z)(function*(n,e){const t=pe(n);if(UA(t),jA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield v4(t,i.toArray());t.Ca=!0,yield cA(t.remoteStore,!0);for(const o of r)D0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Ff(t,s),Af(t.localStore,s,!0))),I_(t.remoteStore,s)}),yield r,yield v4(t,i),function(s){const a=pe(s);a.ya.forEach((c,d)=>{I_(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new mn(ge.comparator)}(t),t.Ca=!1,yield cA(t.remoteStore,!1)}}),FA.apply(this,arguments)}function v4(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,K.Z)(function*(n,e,t){const i=pe(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield Sf(i.localStore,Rr(c[0]));for(const d of c){const h=i.ma.get(d),p=yield coe(i,h);p.snapshot&&o.push(p.snapshot)}}else{const d=yield Zj(i.localStore,s);a=yield Sf(i.localStore,d),yield vA(i,y4(d),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),LA.apply(this,arguments)}function y4(n){return xU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hoe(n){return t=pe(n).localStore,pe(pe(t).persistence).Bi();var t}function foe(n,e,t,i){return VA.apply(this,arguments)}function VA(){return VA=(0,K.Z)(function*(n,e,t,i){const r=pe(n);if(r.Ca)return void se("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield Kj(r.localStore,SU(o[0])),a=l_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield Ua(r,s,a);break}case"rejected":yield Af(r.localStore,e,!0),Ff(r,e,i);break;default:Ie()}}),VA.apply(this,arguments)}function moe(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,K.Z)(function*(n,e,t){const i=UA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){se("SyncEngine","Adding an already active target "+r);continue}const o=yield Zj(i.localStore,r),s=yield Sf(i.localStore,o);yield vA(i,y4(o),s.targetId,!1,s.resumeToken),D0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield Af(i.localStore,r,!1).then(()=>{I_(i.remoteStore,r),Ff(i,r)}).catch(Gc))}}),BA.apply(this,arguments)}function UA(n){const e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=toe.bind(null,e),e.Va.a_=qre.bind(null,e.eventManager),e.Va.Fa=Gre.bind(null,e.eventManager),e}function jA(n){const e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=noe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ioe.bind(null,e),e}class x_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.serializer=w_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $j(this.persistence,new Hj,e.initialUser,this.serializer)}createPersistence(e){return new MS(y0.jr,this.serializer)}createSharedClientState(e){return new Jj}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zA extends x_{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield jA(i.xa.syncEngine),yield Mf(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $j(this.persistence,new Hj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Oj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new jne(t,this.persistence);return new Une(e.asyncQueue,i)}createPersistence(e){const t=OS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new PS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,t4(),T0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Jj}}class b4 extends zA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof HS&&(i.sharedClientState.syncEngine={Ys:doe.bind(null,r),Zs:foe.bind(null,r),Xs:moe.bind(null,r),Bi:hoe.bind(null,r),Js:loe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,K.Z)(function*(s){yield function uoe(n,e){return FA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=t4();if(!HS.D(t))throw new ie(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=OS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new HS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Lf{initialize(e,t){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>g4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=soe.bind(null,i.syncEngine),yield cA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $re}createDatastore(e){const t=w_(e.databaseInfo.databaseId),i=new Dre(e.databaseInfo);return new kre(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>g4(this.syncEngine,t,0),a=e4.D()?new e4:new xre,new Pre(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,d,h){const p=new Yre(r,o,s,a,c,d);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(i){const r=pe(i);se("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield kf(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function w4(n,e=10240){let t=0;return{read:()=>(0,K.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class A0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class _oe{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,K.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,K.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,K.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new Wre(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,K.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,K.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,K.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class voe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ie(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,a){const c=pe(s),d=h_(c.serializer)+"/documents",h={documents:a.map(b=>u_(c.serializer,b))},p=yield c.Co("BatchGetDocuments",d,h,a.length),g=new Map;p.forEach(b=>{const w=function Bie(n,e){return"found"in e?function(i,r){Me(!!r.found);const o=ea(i,r.found.name),s=ri(r.found.updateTime),a=r.found.createTime?ri(r.found.createTime):Oe.min(),c=new Qi({mapValue:{fields:r.found.fields}});return wn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){Me(!!r.missing),Me(!!r.readTime);const o=ea(i,r.missing),s=ri(r.readTime);return wn.newNoDocument(o,s)}(n,e):Ie()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());Me(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ge.fromPath(r);e.mutations.push(new fS(o,e.precondition(o)))}),yield(i=(0,K.Z)(function*(o,s){const a=pe(o),c=h_(a.serializer)+"/documents",d={writes:s.map(h=>f_(a.serializer,h))};yield a.wo("Commit",c,d)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ie();t=Oe.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Oe.min())?Rn.exists(!1):Rn.updateTime(t):Rn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Oe.min()))throw new ie(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(t)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yoe{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new qS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,K.Z)(function*(){const t=new voe(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Zg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!GU(t)}return!1}}class boe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ni.UNAUTHENTICATED,this.clientId=zB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,K.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Pf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function k0(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(o){i.isEqual(o)||(yield qj(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),HA.apply(this,arguments)}function $A(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield GA(n);se("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>c4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>c4(e.remoteStore,o)),n._onlineComponents=e}),qA.apply(this,arguments)}function E4(n){return"FirebaseError"===n.name?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function GA(n){return WA.apply(this,arguments)}function WA(){return WA=(0,K.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield k0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!E4(t))throw t;Gr("Error using user provided cache. Falling back to memory cache: "+t),yield k0(n,new x_)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield k0(n,new x_);return n._offlineComponents}),WA.apply(this,arguments)}function M0(n){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,K.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield $A(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield $A(n,new Lf))),n._onlineComponents}),ZA.apply(this,arguments)}function I4(n){return GA(n).then(e=>e.persistence)}function Vf(n){return GA(n).then(e=>e.localStore)}function x4(n){return M0(n).then(e=>e.remoteStore)}function KA(n){return M0(n).then(e=>e.syncEngine)}function Bf(n){return QA.apply(this,arguments)}function QA(){return QA=(0,K.Z)(function*(n){const e=yield M0(n),t=e.eventManager;return t.onListen=Xre.bind(null,e.syncEngine),t.onUnlisten=Jre.bind(null,e.syncEngine),t}),QA.apply(this,arguments)}function T4(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new A0({next:g=>{s.enqueueAndForget(()=>fA(o,p));const v=g.docs.has(a);!v&&g.fromCache?d.reject(new ie(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?d.reject(new ie(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new gA(pf(a.path),h,{includeMetadataChanges:!0,J_:!0});return uA(o,p)}(yield Bf(n),n.asyncQueue,e,t,i)})),i.promise}function D4(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new A0({next:g=>{s.enqueueAndForget(()=>fA(o,p)),g.fromCache&&"server"===c.source?d.reject(new ie(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new gA(a,h,{includeMetadataChanges:!0,J_:!0});return uA(o,p)}(yield Bf(n),n.asyncQueue,e,t,i)})),i.promise}function S4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const A4=new Map;function YA(n,e,t){if(!t)throw new ie(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k4(n,e,t,i){if(!0===e&&!0===i)throw new ie(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M4(n){if(!ge.isDocumentKey(n))throw new ie(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function R4(n){if(ge.isDocumentKey(n))throw new ie(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function R0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ie()}function Et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=R0(n);throw new ie(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function P4(n,e){if(e<=0)throw new ie(U.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class O4{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S4(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C_{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O4(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Sne;switch(i.type){case"firstParty":return new Rne(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=A4.get(t);i&&(se("ComponentProvider","Removing Datastore"),A4.delete(t),i.terminate())}(this),Promise.resolve()}}class Yi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class ta extends Yi{constructor(e,t,i){super(e,t,pf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function F4(n,e,...t){if(n=(0,ln.m9)(n),YA("collection","path",e),n instanceof C_){const i=kt.fromString(e,...t);return R4(i),new ta(n,null,i)}{if(!(n instanceof En||n instanceof ta))throw new ie(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kt.fromString(e,...t));return R4(i),new ta(n.firestore,null,i)}}function P0(n,e,...t){if(n=(0,ln.m9)(n),1===arguments.length&&(e=zB.newId()),YA("doc","path",e),n instanceof C_){const i=kt.fromString(e,...t);return M4(i),new En(n,null,new ge(i))}{if(!(n instanceof En||n instanceof ta))throw new ie(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kt.fromString(e,...t));return M4(i),new En(n.firestore,n instanceof ta?n.converter:null,new ge(i))}}function L4(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),(n instanceof En||n instanceof ta)&&(e instanceof En||e instanceof ta)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XA(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&n_(n._query,e._query)&&n.converter===e.converter}class Roe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new qS(this,"async_queue_retry"),this.iu=()=>{const t=T0();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=T0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=T0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,K.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Wc(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,ii("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=dA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Ie()}verifyOperationInProgress(){}uu(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function JA(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Poe{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pn extends C_{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Roe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||V4(this),this._firestoreClient.terminate()}}function Wn(n){return n._firestoreClient||V4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function V4(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cie(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,S4(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new boe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function B4(n,e,t){const i=new wi;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield k0(n,t),yield $A(n,e),i.resolve()}catch(r){const o=r;if(!E4(o))throw o;Gr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function U4(n){if(n._initialized||n._terminated)throw new ie(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(Ei.fromBase64String(e))}catch(t){throw new ie(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new na(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ja{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ie(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wd{constructor(e){this._methodName=e}}class O0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}const $oe=/^__.*__$/;class qoe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new bf(e,this.data,t,this.fieldTransforms)}}class j4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function z4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class N0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new N0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return V0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(z4(this.Iu)&&$oe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Goe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||w_(e)}pu(e,t,i,r=!1){return new N0({Iu:e,methodName:t,gu:i,path:bn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zd(n){const e=n._freezeSettings(),t=w_(n._databaseId);return new Goe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function F0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);ik("Data must be an object, but it was:",s,i);const a=q4(i,s);let c,d;if(o.merge)c=new Wr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=S_(e,p,t);if(!s.contains(g))throw new ie(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);W4(h,g)||h.push(g)}c=new Wr(h),d=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=s.fieldTransforms;return new qoe(new Qi(a),c,d)}class D_ extends Wd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D_}}function H4(n,e,t){return new N0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ek extends Wd{_toFieldTransform(e){return new s_(e.path,new vf)}isEqual(e){return e instanceof ek}}class Woe extends Wd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=H4(this,e,!0),i=this.yu.map(o=>Kd(o,t)),r=new Vd(i);return new s_(e.path,r)}isEqual(e){return this===e}}class Zoe extends Wd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=H4(this,e,!0),i=this.yu.map(o=>Kd(o,t)),r=new Bd(i);return new s_(e.path,r)}isEqual(e){return this===e}}class Koe extends Wd{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new yf(e.serializer,NU(e.serializer,this.wu));return new s_(e.path,t)}isEqual(e){return this===e}}function tk(n,e,t,i){const r=n.pu(1,e,t);ik("Data must be an object, but it was:",r,i);const o=[],s=Qi.empty();Zc(i,(c,d)=>{const h=L0(e,c,t);d=(0,ln.m9)(d);const p=r.Ru(h);if(d instanceof D_)o.push(h);else{const g=Kd(d,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Wr(o);return new j4(s,a,r.fieldTransforms)}function nk(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[S_(e,i,t)],c=[r];if(o.length%2!=0)throw new ie(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(S_(e,o[g])),c.push(o[g+1]);const d=[],h=Qi.empty();for(let g=a.length-1;g>=0;--g)if(!W4(d,a[g])){const v=a[g];let b=c[g];b=(0,ln.m9)(b);const w=s.Ru(v);if(b instanceof D_)d.push(v);else{const E=Kd(b,w);null!=E&&(d.push(v),h.set(v,E))}}const p=new Wr(d);return new j4(h,p,s.fieldTransforms)}function $4(n,e,t,i=!1){return Kd(t,n.pu(i?4:3,e))}function Kd(n,e){if(G4(n=(0,ln.m9)(n)))return ik("Unsupported field value:",e,n),q4(n,e);if(n instanceof Wd)return function(i,r){if(!z4(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Kd(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,ln.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return NU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Mn.fromDate(i);return{timestampValue:Ef(r.serializer,o)}}if(i instanceof Mn){const o=new Mn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ef(r.serializer,o)}}if(i instanceof O0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof na)return{bytesValue:nj(r.serializer,i._byteString)};if(i instanceof En){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yS(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${R0(i)}`)}(n,e)}function q4(n,e){const t={};return iU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zc(n,(i,r)=>{const o=Kd(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function G4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof O0||n instanceof na||n instanceof En||n instanceof Wd)}function ik(n,e,t){if(!G4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=R0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function S_(n,e,t){if((e=(0,ln.m9)(e))instanceof ja)return e._internalPath;if("string"==typeof e)return L0(n,e);throw V0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Qoe=new RegExp("[~\\*/\\[\\]]");function L0(n,e,t){if(e.search(Qoe)>=0)throw V0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ja(...e.split("."))._internalPath}catch{throw V0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function V0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new ie(U.INVALID_ARGUMENT,a+n+c)}function W4(n,e){return n.some(t=>t.isEqual(e))}class A_{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yoe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(B0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yoe extends A_{data(){return super.data()}}function B0(n,e){return"string"==typeof e?L0(n,e):e instanceof ja?e._internalPath:e._delegate._internalPath}function Z4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ie(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rk{}class k_ extends rk{}function al(n,e,...t){let i=[];e instanceof rk&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof Uf).length,a=o.filter(c=>c instanceof M_).length;if(s>1||s>0&&a>0)throw new ie(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class M_ extends k_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new M_(e,t,i)}_apply(e){const t=this._parse(e);return X4(e._query,t),new Yi(e.firestore,e.converter,uS(e._query,t))}_parse(e){const t=Zd(e.firestore);return function(o,s,a,c,d,h,p){let g;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ie(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){Y4(p,h);const v=[];for(const b of p)v.push(Q4(c,o,b));g={arrayValue:{values:v}}}else g=Q4(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||Y4(p,h),g=$4(a,"where",p,"in"===h||"not-in"===h);return Ct.create(d,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Uf extends rk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Jt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)X4(s,c),s=uS(s,c)}(e._query,t),new Yi(e.firestore,e.converter,uS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ok extends k_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ok(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ie(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ie(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new e_(o,s)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Fa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class U0 extends k_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new U0(e,t,i)}_apply(e){return new Yi(e.firestore,e.converter,s0(e._query,this._limit,this._limitType))}}class j0 extends k_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new j0(e,t,i)}_apply(e){const t=K4(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(o=t,new Fa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class z0 extends k_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new z0(e,t,i)}_apply(e){const t=K4(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(o=t,new Fa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function K4(n,e,t,i){if(t[0]=(0,ln.m9)(t[0]),t[0]instanceof A_)return function(o,s,a,c,d){if(!c)throw new ie(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of gf(o))if(p.field.isKeyField())h.push(Fd(s,c.key));else{const g=c.data.field(p.field);if(Xw(g))throw new ie(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new ie(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new el(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Zd(n.firestore);return function(s,a,c,d,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new ie(U.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new ie(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!dS(s)&&-1!==w.indexOf("/"))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const E=s.path.child(kt.fromString(w));if(!ge.isDocumentKey(E))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const k=new ge(E);v.push(Fd(a,k))}else{const E=$4(c,d,w);v.push(E)}}return new el(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Q4(n,e,t){if("string"==typeof(t=(0,ln.m9)(t))){if(""===t)throw new ie(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&-1!==t.indexOf("/"))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(kt.fromString(t));if(!ge.isDocumentKey(i))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fd(n,new ge(i))}if(t instanceof En)return Fd(n,t._key);throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${R0(t)}.`)}function Y4(n,e){if(!Array.isArray(n)||0===n.length)throw new ie(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X4(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ie(U.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sk{convertValue(e,t="none"){switch(Xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new O0(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qg(e));default:return null}}convertTimestamp(e){const t=Kc(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=kt.fromString(e);Me(hj(i));const r=new Qc(i.get(1),i.get(3)),o=new ge(i.popFirst(5));return r.isEqual(t)||ii(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function H0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class sse extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}class Qd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class za extends A_{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new R_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(B0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class R_ extends za{data(e={}){return super.data(e)}}class cl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new R_(this._firestore,this._userDataWriter,i.key,i,new Qd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new R_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Qd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new R_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Qd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:cse(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function e3(n,e){return n instanceof za&&e instanceof za?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cl&&e instanceof cl&&n._firestore===e._firestore&&XA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ll extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function t3(n,e,t){n=Et(n,En);const i=Et(n.firestore,pn),r=H0(n.converter,e,t);return jf(i,[F0(Zd(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Rn.none())])}function n3(n,e,t,...i){n=Et(n,En);const r=Et(n.firestore,pn),o=Zd(r);let s;return s="string"==typeof(e=(0,ln.m9)(e))||e instanceof ja?nk(o,"updateDoc",n._key,e,t,i):tk(o,"updateDoc",n._key,e),jf(r,[s.toMutation(n._key,Rn.exists(!0))])}function r3(n,...e){var t,i,r;n=(0,ln.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||JA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(JA(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,d,h;if(n instanceof En)d=Et(n.firestore,pn),h=pf(n._key.path),c={next:p=>{e[s]&&e[s](ak(d,n,p))},error:e[s+1],complete:e[s+2]};else{const p=Et(n,Yi);d=Et(p.firestore,pn),h=p._query;const g=new ll(d);c={next:v=>{e[s]&&e[s](new cl(d,g,p,v))},error:e[s+1],complete:e[s+2]},Z4(n._query)}return function(g,v,b,w){const E=new A0(w),k=new gA(v,E,b);return g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return uA(yield Bf(g),k)})),()=>{E.Na(),g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return fA(yield Bf(g),k)}))}}(Wn(d),h,a,c)}function jf(n,e){return function(i,r){const o=new wi;return i.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function eoe(n,e,t){return wA.apply(this,arguments)}(yield KA(i),r,o)})),o.promise}(Wn(n),e)}function ak(n,e,t){const i=t.docs.get(e._key),r=new ll(n);return new za(n,r,e._key,i,new Qd(t.hasPendingWrites,t.fromCache),e.converter)}const Tse={maxAttempts:5};class o3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zd(e)}set(e,t,i){this._verifyNotCommitted();const r=dl(e,this._firestore),o=H0(r.converter,t,i),s=F0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Rn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=dl(e,this._firestore);let s;return s="string"==typeof(t=(0,ln.m9)(t))||t instanceof ja?nk(this._dataReader,"WriteBatch.update",o._key,t,i,r):tk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dl(e,this._firestore);return this._mutations=this._mutations.concat(new wf(t._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dl(n,e){if((n=(0,ln.m9)(n)).firestore!==e)throw new ie(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Dse extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Zd(t)}get(t){const i=dl(t,this._firestore),r=new sse(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Ie();const s=o[0];if(s.isFoundDocument())return new A_(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new A_(this._firestore,r,i._key,null,i.converter);throw Ie()})}set(t,i,r){const o=dl(t,this._firestore),s=H0(o.converter,i,r),a=F0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=dl(t,this._firestore);let a;return a="string"==typeof(i=(0,ln.m9)(i))||i instanceof ja?nk(this._dataReader,"Transaction.update",s._key,i,r,o):tk(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=dl(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dl(e,this._firestore),i=new ll(this._firestore);return super.get(e).then(r=>new za(this._firestore,i,t._key,r._document,new Qd(!1,!1),t.converter))}}function lk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function l3(){if(typeof Uint8Array>"u")throw new ie("unimplemented","Uint8Arrays are not available in this environment.")}function d3(){if(!function sie(){return typeof atob<"u"}())throw new ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){af=Kh.SDK_VERSION,(0,Kh._registerComponent)(new EV.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new pn(new kne(i.getProvider("auth-internal")),new Pne(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Kh.registerVersion)(BB,"4.3.2",e),(0,Kh.registerVersion)(BB,"4.3.2","esm2017")}();class P_{constructor(e){this._delegate=e}static fromBase64String(e){return d3(),new P_(na.fromBase64String(e))}static fromUint8Array(e){return l3(),new P_(na.fromUint8Array(e))}toBase64(){return d3(),this._delegate.toBase64()}toUint8Array(){return l3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dk(n){return function Lse(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Vse{enableIndexedDbPersistence(e,t){return function Noe(n,e){U4(n=Et(n,pn));const t=Wn(n);if(t._uninitializedComponentsProvider)throw new ie(U.FAILED_PRECONDITION,"SDK cache is already specified.");Gr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Lf;return B4(t,r,new zA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Foe(n){U4(n=Et(n,pn));const e=Wn(n);if(e._uninitializedComponentsProvider)throw new ie(U.FAILED_PRECONDITION,"SDK cache is already specified.");Gr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Lf;return B4(e,i,new b4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Loe(n){if(n._initialized&&!n._terminated)throw new ie(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(t=(0,K.Z)(function*(r){if(!_s.D())return Promise.resolve();const o=r+"main";yield _s.delete(o)}),function i(r){return t.apply(this,arguments)})(OS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class u3{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function N4(n,e,t,i={}){var r;const o=(n=Et(n,C_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Ni.MOCK_USER;else{a=(0,ln.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ie(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ni(d)}n._authCredentials=new Ane(new UB(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function Boe(n){return function woe(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield I4(n),t=yield x4(n);return e.setNetworkEnabled(!0),function(r){const o=pe(r);return o.C_.delete(0),E_(o)}(t)}))}(Wn(n=Et(n,pn)))}(this._delegate)}disableNetwork(){return function Uoe(n){return function Eoe(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield I4(n),t=yield x4(n);return e.setNetworkEnabled(!1),(i=(0,K.Z)(function*(o){const s=pe(o);s.C_.add(0),yield kf(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Wn(n=Et(n,pn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,k4("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Voe(n){return function(t){const i=new wi;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function roe(n,e){return TA.apply(this,arguments)}(yield KA(t),i)})),i.promise}(Wn(n=Et(n,pn)))}(this._delegate)}onSnapshotsInSync(e){return function _se(n,e){return function Coe(n,e){const t=new A0(e);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Bf(n),o=t,pe(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Bf(n),o=t,void pe(r).q_.delete(o);var r,o}))}}(Wn(n=Et(n,pn)),JA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zf(this,F4(this._delegate,e))}catch(t){throw Pr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bo(this,P0(this._delegate,e))}catch(t){throw Pr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Or(this,function Moe(n,e){if(n=Et(n,C_),YA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(i=e,new Fa(kt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Pr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Sse(n,e,t){n=Et(n,pn);const i=Object.assign(Object.assign({},Tse),t);return function(o){if(o.maxAttempts<1)throw new ie(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new wi;return o.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const d=yield function C4(n){return M0(n).then(e=>e.datastore)}(o);new yoe(o.asyncQueue,d,a,s,c).run()})),c.promise}(Wn(n),r=>e(new Dse(n,r)),i)}(this._delegate,t=>e(new h3(this,t)))}batch(){return Wn(this._delegate),new f3(new o3(this._delegate,e=>jf(this._delegate,e)))}loadBundle(e){return function joe(n,e){const t=Wn(n=Et(n,pn)),i=new Poe;return function Toe(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?ZU().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return w4(h,p);if(h instanceof ArrayBuffer)return w4(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new _oe(h,a);var h}(t,w_(e));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function poe(n,e,t){const i=pe(n);var r;(r=(0,K.Z)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(b,w){const E=pe(b),k=ri(w.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",S=>E.Kr.getBundleMetadata(S,w.id)).then(S=>!!S&&S.createTime.compareTo(k)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=d).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(u4(d));const h=new Zre(d,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield Ua(s,g.ra,void 0),yield function(b,w){const E=pe(b);return E.persistence.runTransaction("Save bundle","readwrite",k=>E.Kr.saveBundleMetadata(k,w))}(s.localStore,d),c._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return Gr("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield KA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function zoe(n,e){return function Doe(n,e){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(i,r){const o=pe(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Vf(n),e)}))}(Wn(n=Et(n,pn)),e).then(t=>t?new Yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Or(this,t):null)}}class q0 extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new P_(new na(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bo.forKey(t,this.firestore,null)}}class h3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new q0(e)}get(e){const t=Xd(e);return this._delegate.get(t).then(i=>new O_(this._firestore,new za(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Xd(e);return i?(lk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Xd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Xd(e);return this._delegate.delete(t),this}}class f3{constructor(e){this._delegate=e}set(e,t,i){const r=Xd(e);return i?(lk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Xd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Xd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yd{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new R_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new N_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Yd.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Yd(e,new q0(e),t),r.set(t,o)),o}}Yd.INSTANCES=new WeakMap;class Bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bo(t,new En(t._delegate,i,new ge(e)))}static forKey(e,t,i){return new Bo(t,new En(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new zf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zf(this.firestore,F4(this._delegate,e))}catch(t){throw Pr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ln.m9)(e))instanceof En&&L4(this._delegate,e)}set(e,t){t=lk("DocumentReference.set",t);try{return t?t3(this._delegate,e,t):t3(this._delegate,e)}catch(i){throw Pr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?n3(this._delegate,e):n3(this._delegate,e,t,...i)}catch(r){throw Pr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function pse(n){return jf(Et(n.firestore,pn),[new wf(n._key,Rn.none())])}(this._delegate)}onSnapshot(...e){const t=m3(e),i=p3(e,r=>new O_(this.firestore,new za(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return r3(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function dse(n){n=Et(n,En);const e=Et(n.firestore,pn),t=Wn(e),i=new ll(e);return function Ioe(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=pe(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ie(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=Pf(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Vf(n),e,t);var i})),t.promise}(t,n._key).then(r=>new za(e,i,n._key,r,new Qd(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function use(n){n=Et(n,En);const e=Et(n.firestore,pn);return T4(Wn(e),n._key,{source:"server"}).then(t=>ak(e,n,t))}(this._delegate):function lse(n){n=Et(n,En);const e=Et(n.firestore,pn);return T4(Wn(e),n._key).then(t=>ak(e,n,t))}(this._delegate),t.then(i=>new O_(this.firestore,new za(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?Yd.getInstance(this.firestore,e):null))}}function Pr(n,e,t){return n.message=n.message.replace(e,t),n}function m3(n){for(const e of n)if("object"==typeof e&&!dk(e))return e;return{}}function p3(n,e){var t,i;let r;return r=dk(n[0])?n[0]:dk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class O_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return e3(this._delegate,e._delegate)}}class N_ extends O_{data(e){const t=this._delegate.data(e);return this._delegate._converter||function Dne(n,e){n||Ie()}(void 0!==t),t}}class Or{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q0(e)}where(e,t,i){try{return new Or(this.firestore,al(this._delegate,function Xoe(n,e,t){const i=e,r=B0("where",n);return M_._create(r,i,t)}(e,t,i)))}catch(r){throw Pr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Or(this.firestore,al(this._delegate,function Joe(n,e="asc"){const t=e,i=B0("orderBy",n);return ok._create(i,t)}(e,t)))}catch(i){throw Pr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Or(this.firestore,al(this._delegate,function ese(n){return P4("limit",n),U0._create("limit",n,"F")}(e)))}catch(t){throw Pr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Or(this.firestore,al(this._delegate,function tse(n){return P4("limitToLast",n),U0._create("limitToLast",n,"L")}(e)))}catch(t){throw Pr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Or(this.firestore,al(this._delegate,function nse(...n){return j0._create("startAt",n,!0)}(...e)))}catch(t){throw Pr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Or(this.firestore,al(this._delegate,function ise(...n){return j0._create("startAfter",n,!1)}(...e)))}catch(t){throw Pr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Or(this.firestore,al(this._delegate,function rse(...n){return z0._create("endBefore",n,!1)}(...e)))}catch(t){throw Pr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Or(this.firestore,al(this._delegate,function ose(...n){return z0._create("endAt",n,!0)}(...e)))}catch(t){throw Pr(t,"endAt()","Query.endAt()")}}isEqual(e){return XA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fse(n){n=Et(n,Yi);const e=Et(n.firestore,pn),t=Wn(e),i=new ll(e);return function xoe(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield E0(o,s,!0),d=new m4(s,c.ls),h=d.ca(c.documents),p=d.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const d=Pf(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Vf(n),e,t);var i})),t.promise}(t,n._query).then(r=>new cl(e,i,n,r))}(this._delegate):"server"===e?.source?function mse(n){n=Et(n,Yi);const e=Et(n.firestore,pn),t=Wn(e),i=new ll(e);return D4(t,n._query,{source:"server"}).then(r=>new cl(e,i,n,r))}(this._delegate):function hse(n){n=Et(n,Yi);const e=Et(n.firestore,pn),t=Wn(e),i=new ll(e);return Z4(n._query),D4(t,n._query).then(r=>new cl(e,i,n,r))}(this._delegate),t.then(i=>new uk(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=m3(e),i=p3(e,r=>new uk(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return r3(this._delegate,t,i)}withConverter(e){return new Or(this.firestore,this._delegate.withConverter(e?Yd.getInstance(this.firestore,e):null))}}class Use{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new N_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new N_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Use(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new N_(this._firestore,i))})}isEqual(e){return e3(this._delegate,e._delegate)}}class zf extends Or{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bo(this.firestore,e):null}doc(e){try{return new Bo(this.firestore,void 0===e?P0(this._delegate):P0(this._delegate,e))}catch(t){throw Pr(t,"doc()","CollectionReference.doc()")}}add(e){return function gse(n,e){const t=Et(n.firestore,pn),i=P0(n),r=H0(n.converter,e);return jf(t,[F0(Zd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Rn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Bo(this.firestore,t))}isEqual(e){return L4(this._delegate,e._delegate)}withConverter(e){return new zf(this.firestore,this._delegate.withConverter(e?Yd.getInstance(this.firestore,e):null))}}function Xd(n){return Et(n,En)}class hk{constructor(...e){this._delegate=new ja(...e)}static documentId(){return new hk(bn.keyField().canonicalString())}isEqual(e){return(e=(0,ln.m9)(e))instanceof ja&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kse(){return new ek("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jd(e)}static delete(){const e=function Ase(){return new D_("deleteField")}();return e._methodName="FieldValue.delete",new Jd(e)}static arrayUnion(...e){const t=function Mse(...n){return new Woe("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jd(t)}static arrayRemove(...e){const t=function Rse(...n){return new Zoe("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jd(t)}static increment(e){const t=function Pse(n){return new Koe("increment",n)}(e);return t._methodName="FieldValue.increment",new Jd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jse={Firestore:u3,GeoPoint:O0,Timestamp:Mn,Blob:P_,Transaction:h3,WriteBatch:f3,DocumentReference:Bo,DocumentSnapshot:O_,Query:Or,QueryDocumentSnapshot:N_,QuerySnapshot:uk,CollectionReference:zf,FieldPath:hk,FieldValue:Jd,setLogLevel:function Bse(n){!function Tne(n){qc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function g3(n,e){return function $se(n,e=xd){return new It(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function fk(n,e){return g3(n,e).pipe(_e(t=>({payload:t,type:"query"})))}!function Hse(n){(function zse(n,e){n.INTERNAL.registerComponent(new EV.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},jse)))})(n,(e,t)=>new u3(e,t,new Vse)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Ra.Z);class _3{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=I3(i,t);return new b3(r,o,this.afs)}snapshotChanges(){return function qse(n,e){return g3(n,e).pipe(yd(void 0),lD(),_e(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return this.snapshotChanges().pipe(_e(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return Kt(this.ref.get(e)).pipe(co)}}function G0(n,e){return fk(n,e).pipe(yd(void 0),lD(),_e(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const d=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function v3(n,e,t){return G0(n,t).pipe(qb((i,r)=>function Gse(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Wse(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Sl(),_e(i=>i.map(r=>({type:r.type,payload:r}))))}function mk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function y3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class b3{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=G0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(_e(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(yd(void 0),lD(),$n(([i,r])=>r.length>0||!i),_e(([,i])=>i),co)}auditTrail(e){return this.stateChanges(e).pipe(qb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y3(e);return v3(this.query,t,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return fk(this.query,this.afs.schedulers.outsideAngular).pipe(_e(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),co)}get(e){return Kt(this.query.get(e)).pipe(co)}add(e){return this.ref.add(e)}doc(e){return new _3(this.ref.doc(e),this.afs)}}class Zse{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?G0(this.query,this.afs.schedulers.outsideAngular).pipe(_e(t=>t.filter(i=>e.indexOf(i.type)>-1)),$n(t=>t.length>0),co):G0(this.query,this.afs.schedulers.outsideAngular).pipe(co)}auditTrail(e){return this.stateChanges(e).pipe(qb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y3(e);return v3(this.query,t,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return fk(this.query,this.afs.schedulers.outsideAngular).pipe(_e(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),co)}get(e){return Kt(this.query.get(e)).pipe(co)}}const w3=new X("angularfire2.enableFirestorePersistence"),E3=new X("angularfire2.firestore.persistenceSettings"),Kse=new X("angularfire2.firestore.settings"),Qse=new X("angularfire2.firestore.use-emulator");function I3(n,e=(t=>t)){return{query:e(n),ref:n}}let Hf=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,d,h,p,g,v,b,w,E,k,S){this.schedulers=c;const O=cD(t,a,i),Y=h;p&&wV(O,a,g,b,w,E,v,k),[this.firestore,this.persistenceEnabled$]=uV(`${O.name}.firestore`,"AngularFirestore",O.name,()=>{const he=a.runOutsideAngular(()=>O.firestore());if(o&&he.settings(o),Y&&he.useEmulator(...Y),r&&!Vb(s)){const xe=()=>{try{return Kt(he.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(Qe){return typeof console<"u"&&console.warn(Qe),Ee(!1)}};return[he,a.runOutsideAngular(xe)]}return[he,Ee(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=I3(r,i),a=this.schedulers.ngZone.run(()=>o);return new b3(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new Zse(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new _3(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(P(bw),P(ww,8),P(w3,8),P(Kse,8),P(as),P(Be),P(lV),P(E3,8),P(Qse,8),P(Sd,8),P(pV,8),P(gV,8),P(_V,8),P(vV,8),P(yV,8),P(bV,8),P(aV,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Yse=(()=>{class n{constructor(){Ra.Z.registerVersion("angularfire",yw.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:w3,useValue:!0},{provide:E3,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ht({type:n});static \u0275inj=Pt({providers:[Hf]})}return n})(),F_=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new T,this.loginFailed$=this.loginFailedSubject.asObservable(),this.user$=this.afAuth.authState}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i,r){this.afAuth.signInWithEmailAndPassword(t,i).then(o=>{o.user?o.user.emailVerified?(console.log(r),r||this.afAuth.setPersistence("none").then(()=>{console.log("Remembering account is turned off")}),this.router.navigate(["/home"])):alert("Please verify your email before logging in."):(console.error("User is null"),alert("An error occurred during login. Please try again."))}).catch(o=>{console.error("Login error:",o),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{console.log("Logged out"),this.router.navigate(["/login"])}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){this.afAuth.authState.subscribe(t=>{t&&this.router.navigate(["/home"])})}isLoggedIn(){return this.user$.pipe(_e(t=>!!t))}static#e=this.\u0275fac=function(i){return new(i||n)(P(Sd),P(Ar),P(Hf))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function W0(n,e=xd){return de((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function c(){const d=s+n,h=e.now();if(h<d)return r=this.schedule(void 0,d-h),void i.add(r);a()}t.subscribe(be(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function C3(n){return $n((e,t)=>n<=t)}const T3=new Set;let eu,vae=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bae}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function yae(n,e){if(!T3.has(n))try{eu||(eu=document.createElement("style"),e&&(eu.nonce=e),eu.setAttribute("type","text/css"),document.head.appendChild(eu)),eu.sheet&&(eu.sheet.insertRule(`@media ${n} {body{ }}`,0),T3.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(qr),P(VI,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bae(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let wae=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new T}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return D3(aw(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=ng(D3(aw(t)).map(s=>this._registerQuery(s).observable));return o=Hb(o.pipe(ao(1)),o.pipe(C3(1),W0(0))),o.pipe(_e(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new It(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(yd(i),_e(({matches:s})=>({query:t,matches:s})),sr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(P(vae),P(Be))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let k3=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Dae(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Tae(n){try{return n.frameElement}catch{return null}}(function Nae(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===R3(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=R3(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Pae(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Oae(n){return!function Aae(n){return function Mae(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Sae(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function kae(n){return function Rae(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||M3(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(P(qr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function R3(n){if(!M3(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Fae{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ao(1)).subscribe(e)}}let Lae=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Fae(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(P(k3),P(Be),P(wt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function O3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Vae=new X("cdk-input-modality-detector-options"),Bae={ignoreKeys:[18,17,224,91,16]},$f=mw({passive:!0,capture:!0});let Uae=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new er(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(P3(s)?"keyboard":"mouse"),this._mostRecentTarget=zc(s))},this._onTouchstart=s=>{O3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zc(s))},this._options={...Bae,...o},this.modalityDetected=this._modality.pipe(C3(1)),this.modalityChanged=this.modalityDetected.pipe(Sl()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,$f),r.addEventListener("mousedown",this._onMousedown,$f),r.addEventListener("touchstart",this._onTouchstart,$f)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$f),document.removeEventListener("mousedown",this._onMousedown,$f),document.removeEventListener("touchstart",this._onTouchstart,$f))}static#e=this.\u0275fac=function(i){return new(i||n)(P(qr),P(Be),P(wt),P(Vae,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zae=new X("cdk-focus-monitor-default-options"),Z0=mw({passive:!0,capture:!0});let Hae=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new T,this._rootNodeFocusAndBlurListener=a=>{for(let d=zc(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Id(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ee();const o=function dee(n){if(function lee(){if(null==tD){const n=typeof document<"u"?document.head:null;tD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return tD}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new T,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Id(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Id(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=zc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Z0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Z0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Z0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Z0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(P(Be),P(qr),P(Uae),P(wt,8),P(zae,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F3="cdk-high-contrast-black-on-white",L3="cdk-high-contrast-white-on-black",gk="cdk-high-contrast-active";let $ae=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=le(wae).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gk,F3,L3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(gk,F3):2===i&&t.add(gk,L3)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(qr),P(wt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Gae=new X("mat-sanity-checks",{providedIn:"root",factory:function qae(){return!0}});let Kr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!nD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(P($ae),P(Gae,8),P(wt))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Eg,Eg]})}return n})();function Wae(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}const U3=mw({passive:!0,capture:!0});class Qae{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=zc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,U3)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,U3)))}}class K0{static#e=this._eventManager=new Qae;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Id(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...j3,...i.animation},s=i.radius||function Xae(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new Kae(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(w),S=()=>this._destroyRipple(w);h.addEventListener("transitionend",k),h.addEventListener("transitioncancel",S)}),this._activeRipples.set(w,null),(b||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...j3,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Id(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,H3.forEach(i=>{K0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$3.forEach(t=>{this._triggerElement.addEventListener(t,this,z3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=P3(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!O3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(H3.forEach(t=>K0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&$3.forEach(t=>e.removeEventListener(t,this,z3)))}}let G3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Kr,Kr]})}return n})(),Jae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Kr]})}return n})();const Ha="*";function ece(n,e){return{type:7,name:n,definitions:e,options:{}}}function W3(n,e=null){return{type:4,styles:e,timings:n}}function Q0(n){return{type:6,styles:n,offset:null}}function Z3(n,e,t){return{type:0,name:n,styles:e,options:t}}function K3(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class V_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Q3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Y0=["*"],oce=["content"];function sce(n,e){if(1&n){const t=or();A(0,"div",2),Re("click",function(){return lt(t),rt(Pe()._onBackdropClicked())}),V()}2&n&&Xn("mat-drawer-shown",Pe()._isShowingBackdrop())}function ace(n,e){1&n&&(A(0,"mat-drawer-content"),di(1,2),V())}const cce=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],lce=["mat-drawer","mat-drawer-content","*"];function dce(n,e){if(1&n){const t=or();A(0,"div",2),Re("click",function(){return lt(t),rt(Pe()._onBackdropClicked())}),V()}2&n&&Xn("mat-drawer-shown",Pe()._isShowingBackdrop())}function uce(n,e){1&n&&(A(0,"mat-sidenav-content"),di(1,2),V())}const hce=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],fce=["mat-sidenav","mat-sidenav-content","*"],Y3={transformDrawer:ece("transform",[Z3("open, open-instant",Q0({transform:"none",visibility:"visible"})),Z3("void",Q0({"box-shadow":"none",visibility:"hidden"})),K3("void => open-instant",W3("0ms")),K3("void <=> open, open-instant => void",W3("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},pce=new X("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function gce(){return!1}}),vk=new X("MAT_DRAWER_CONTAINER");let X0=(()=>{class n extends Ig{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Fs),R(jt(()=>J3)),R(Qt),R(gw),R(Be))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&Sp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Wt([{provide:Ig,useExisting:n}]),vt],ngContentSelectors:Y0,decls:1,vars:0,template:function(i,r){1&i&&(us(),di(0))},encapsulation:2,changeDetection:0})}return n})(),X3=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=kr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=kr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(kr(t))}constructor(t,i,r,o,s,a,c,d){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=d,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new T,this._animationEnd=new T,this._animationState="void",this.openedChange=new Yt(!0),this._openedStream=this.openedChange.pipe($n(h=>h),_e(()=>{})),this.openedStart=this._animationStarted.pipe($n(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),IT(void 0)),this._closedStream=this.openedChange.pipe($n(h=>!h),_e(()=>{})),this.closedStart=this._animationStarted.pipe($n(h=>h.fromState!==h.toState&&"void"===h.toState),IT(void 0)),this._destroyed=new T,this.onPositionChanged=new Yt,this._modeChanged=new T,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{_g(this._elementRef.nativeElement,"keydown").pipe($n(h=>27===h.keyCode&&!this.disableClose&&!function pk(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),sr(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(Sl((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(ao(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Qt),R(Lae),R(Hae),R(qr),R(Be),R(k3),R(wt,8),R(vk,8))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&pd(oce,5),2&i){let o;Mi(o=Ri())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&cC("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(rr("align",null),oC("@transform",r._animationState),Xn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Y0,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(us(),A(0,"div",0,1),di(2),V())},dependencies:[Ig],encapsulation:2,data:{animation:[Y3.transformDrawer]},changeDetection:0})}return n})(),J3=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=kr(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:kr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new Th,this.backdropClick=new Yt,this._destroyed=new T,this._doCheckSubject=new T,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T,t&&t.change.pipe(sr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(sr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(yd(this._allDrawers),sr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(yd(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(W0(10),sr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe($n(i=>i.fromState!==i.toState),sr(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(sr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(sr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ao(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(sr(Xa(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(R(iD,8),R(Qt),R(Be),R(Fs),R(rD),R(pce),R(Qu,8))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(No(o,X0,5),No(o,X3,5)),2&i){let s;Mi(s=Ri())&&(r._content=s.first),Mi(s=Ri())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&pd(X0,5),2&i){let o;Mi(o=Ri())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Wt([{provide:vk,useExisting:n}])],ngContentSelectors:lce,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(us(cce),bt(0,sce,1,2,"div",0),di(1),di(2,1),bt(3,ace,2,0,"mat-drawer-content",1)),2&i&&(Ve("ngIf",r.hasBackdrop),fe(3),Ve("ngIf",!r._content))},dependencies:[zs,X0],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),yk=(()=>{class n extends X0{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Fs),R(jt(()=>tz)),R(Qt),R(gw),R(Be))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&Sp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Wt([{provide:Ig,useExisting:n}]),vt],ngContentSelectors:Y0,decls:1,vars:0,template:function(i,r){1&i&&(us(),di(0))},encapsulation:2,changeDetection:0})}return n})(),ez=(()=>{class n extends X3{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=kr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=sw(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=sw(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275cmp=Dn({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(rr("align",null),Sp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Xn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[vt],ngContentSelectors:Y0,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(us(),A(0,"div",0,1),di(2),V())},dependencies:[Ig],encapsulation:2,data:{animation:[Y3.transformDrawer]},changeDetection:0})}return n})(),tz=(()=>{class n extends J3{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275cmp=Dn({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(No(o,yk,5),No(o,ez,5)),2&i){let s;Mi(s=Ri())&&(r._content=s.first),Mi(s=Ri())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Wt([{provide:vk,useExisting:n}]),vt],ngContentSelectors:fce,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(us(hce),bt(0,dce,1,2,"div",0),di(1),di(2,1),bt(3,uce,2,0,"mat-sidenav-content",1)),2&i&&(Ve("ngIf",r.hasBackdrop),fe(3),Ve("ngIf",!r._content))},dependencies:[zs,yk],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),_ce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Jp,Kr,_w,_w,Kr]})}return n})();const vce=["*",[["mat-toolbar-row"]]],yce=["*","mat-toolbar-row"],bce=Wae(class{constructor(n){this._elementRef=n}});let wce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),Ece=(()=>{class n extends bce{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(R(Qt),R(qr),R(wt))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&No(o,wce,5),2&i){let s;Mi(s=Ri())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Xn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[vt],ngContentSelectors:yce,decls:2,vars:0,template:function(i,r){1&i&&(us(vce),di(0),di(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),Ice=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Kr,Kr]})}return n})();function xce(n,e){if(1&n){const t=or();A(0,"mat-toolbar")(1,"span")(2,"a",24),ze(3,"img",25),V()(),ze(4,"span",26),A(5,"span",27),re(6,'"Post with Purpose, Earn with Pride | Join Earn2Post"'),V(),ze(7,"span",26),A(8,"div",28),ze(9,"button",29)(10,"input",30),V(),A(11,"div",31)(12,"button",32),Re("click",function(){return lt(t),rt(Pe().toggleSearch())}),V(),ze(13,"input",30),V(),A(14,"button",33),Re("click",function(){return lt(t),Pe(),rt($r(3).toggle())}),V()()}}const Cce=["*"];let bk=(()=>{class n{constructor(t,i){this.authService=t,this.overlayService=i,this.opened=!1,this.visible=!0}toggleSearch(){const t=document.getElementById("search-bar"),i=document.getElementById("header-moto"),r=document.getElementById("header-logo"),o=document.getElementById("header-menu");t&&i&&r&&o&&(t.classList.toggle("active"),i.classList.toggle("inactive"),r.classList.toggle("inactive"),o.classList.toggle("inactive"))}logOut(){this.authService.logout()}openSettings(){this.overlayService.openOverlay(Fee)}openBugReport(){this.overlayService.openOverlay(Zee)}static#e=this.\u0275fac=function(i){return new(i||n)(R(F_),R(sD))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:Cce,decls:42,vars:5,consts:[[4,"ngIf"],["autosize","","hasBackdrop","false"],["position","end",3,"click"],["sidenav",""],[1,"container"],[1,"top-nav"],["routerLink","/profile",1,"box"],["src","assets\\img\\menu_profile.svg","alt",""],[1,"box"],["src","assets\\img\\menu_message.svg","alt",""],["routerLink","/clicker",1,"box"],["src","assets\\img\\menu_clicker.svg","alt",""],["src","assets\\img\\menu_debux.svg","alt",""],[1,"bottom-nav"],[1,"box-no-border",3,"click"],["src","assets\\img\\menu_settings.svg","alt",""],[1,"box",3,"click"],["src","assets\\img\\menu_bug.svg","alt",""],[1,"seperator"],[1,"box-no-border"],["src","assets\\img\\menu_switch.svg","alt",""],["routerLink","/",1,"box",3,"click"],["src","assets\\img\\menu_logout.svg","alt",""],[3,"click"],["routerLink","/home"],["id","header-logo","src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],["id","header-moto",1,"moto"],[1,"search"],[1,"search_button"],["type","search","placeholder","Search...",1,"search_input"],["id","search-bar",1,"search_compact"],[1,"search_button",3,"click"],["id","header-menu",1,"menu_button",3,"click"]],template:function(i,r){if(1&i){const o=or();us(),bt(0,xce,15,0,"mat-toolbar",0),A(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),Re("click",function(){return lt(o),rt($r(3).close())}),A(4,"div",4)(5,"div",5)(6,"div",6),ze(7,"img",7),A(8,"h4"),re(9,"Profile"),V()(),A(10,"div",8),ze(11,"img",9),A(12,"h4"),re(13,"Messages"),V()(),A(14,"div",10),ze(15,"img",11),A(16,"h4"),re(17,"Clicker"),V()(),A(18,"div",8),ze(19,"img",12),A(20,"h4"),re(21," Buy DeBux"),V()()(),A(22,"div",13)(23,"div",14),Re("click",function(){return r.openSettings()}),ze(24,"img",15),A(25,"h4"),re(26,"Settings"),V()(),A(27,"div",16),Re("click",function(){return r.openBugReport()}),ze(28,"img",17),A(29,"h4"),re(30,"Bug Report"),V()(),ze(31,"div",18),A(32,"div",19),ze(33,"img",20),A(34,"h4"),re(35,"Switch Acc"),V()(),A(36,"div",21),Re("click",function(){return r.logOut()}),ze(37,"img",22),A(38,"h4"),re(39,"Log Out"),V()()()()(),A(40,"mat-sidenav-content",23),Re("click",function(){return lt(o),rt($r(3).close())}),di(41),V()()}2&i&&(Ve("ngIf",r.visible),fe(1),Xn("login-page",!r.visible)("other-page",r.visible))},dependencies:[zs,Wh,ez,tz,yk,Ece],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px;overflow:hidden}.logo[_ngcontent-%COMP%]{height:auto;width:90%;margin-bottom:4%;margin-left:8%}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:1.7vw}.search[_ngcontent-%COMP%]{display:flex;align-items:center;width:16%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background-color:#212121}.search_button[_ngcontent-%COMP%]{height:61px;width:61px;border:none;border-radius:40px;background:transparent url(/assets/img/search.svg) no-repeat;background-size:78%;background-position:6px 11px}.search_input[_ngcontent-%COMP%]{margin-left:2%;width:80%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background:transparent;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 0}.search_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.search_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.search_compact[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{background-color:#212121;border-radius:40px;width:100%}.active[_ngcontent-%COMP%]   .search_button[_ngcontent-%COMP%]{height:61px;width:61px;background-position:6px 11px}.active[_ngcontent-%COMP%]   .search_input[_ngcontent-%COMP%]{display:flex}.inactive[_ngcontent-%COMP%]{display:none}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:110%;background-position:-5px 2px;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.menu_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}@media (min-width: 1921px){.moto[_ngcontent-%COMP%]{font-size:200%}}@media (max-width: 1560px){.search[_ngcontent-%COMP%]{display:none}.search_compact[_ngcontent-%COMP%]{display:flex}.search_input[_ngcontent-%COMP%]{display:none}}@media (max-width: 1100px){.moto[_ngcontent-%COMP%]{display:none}}@media (max-width: 510px){.search_button[_ngcontent-%COMP%]{width:40px;height:40px;background-position:4px 6px}.menu_button[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:15px;background-position:-3px 3px}}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#212121;width:100%}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.box[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;color:#e0e1e1;background-color:transparent}.box[_ngcontent-%COMP%]:hover, .box-no-border[_ngcontent-%COMP%]:hover{background-color:#505050;cursor:pointer}.box[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:15px}.box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:lighter;padding:0;margin:10px 0 10px 22px}.seperator[_ngcontent-%COMP%]{padding-top:2.5%;padding-bottom:2.5%;background-color:#464646}"]})}return n})(),Tce=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.posts$=Ee([]),this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}getPosts(){return this.user?(this.posts$=this.db.collection("posts").valueChanges().pipe(Bt(t=>ng(t.map(i=>this.db.doc(`User/${i.author_uid}`).valueChanges().pipe(_e(r=>({...i,display_name:r.displayName,profile_pic:r.profilepic}))))))),this.posts$):(console.warn("User not authenticated."),Ee([]))}getDisplaynames(t){if(this.user){for(let i of t)console.log(this.db.doc(`User/${i.author_uid}/displayName`).valueChanges().pipe().toString());return t}return console.warn("User not authenticated."),"Something has gone terribly wrong"}static#e=this.\u0275fac=function(i){return new(i||n)(P(Hf),P(Sd))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dce(n,e){if(1&n&&(A(0,"h1",4),re(1),V()),2&n){const t=Pe();fe(1),Us("Currently logged in as: ",t.service.user.displayName,"")}}const Sce=()=>({year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});function Ace(n,e){if(1&n){const t=or();A(0,"div",5),ze(1,"img",6),A(2,"p",4),re(3),V(),A(4,"p",2),re(5),V(),ze(6,"hr"),A(7,"p",4),re(8),V(),ze(9,"img",7),A(10,"p",8),re(11),V(),A(12,"p",9),re(13),V(),ze(14,"br")(15,"br")(16,"hr")(17,"img",10)(18,"img",11)(19,"textarea",12,13),A(21,"img",14),Re("click",function(){const o=lt(t).index,s=$r(20);return Pe().postComment(o),rt(s.value=" ")}),V()()}if(2&n){const t=e.$implicit;fe(1),$p("src",t.profile_pic,My),fe(2),ei(t.display_name),fe(2),ei(t.timestamp.toDate().toLocaleDateString("en-US",function PN(n,e,t){const i=ki()+n,r=q();return r[i]===nt?Ls(r,i,t?e.call(t):e()):function Dp(n,e){return n[e]}(r,i)}(10,Sce))),fe(3),ei(t.text),fe(1),$p("src",t.image_url,My),$p("alt",t.image_url),fe(2),lb("",t.likes.length," ",1===t.likes.length?"like":"likes",""),fe(2),lb("",t.comments.length," ",1===t.comments.length?"comment":"comments","")}}let kce=(()=>{class n{constructor(t,i){this.service=t,this.store=i,this.loading=!1}ngOnInit(){this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getPosts().subscribe(i=>{this.posts=i||0}),this.service.getDisplaynames(this.posts).subscribe(i=>{this.posts=i,console.log(this.posts),this.loading=!1}))})}toggleLike(t){}postComment(t){}static#e=this.\u0275fac=function(i){return new(i||n)(R(Tce),R(Hf))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-post"]],decls:6,vars:3,consts:[["src",""],["class","mainText",4,"ngIf"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"mainText"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],["src","assets/img/like_active.svg",1,"icons",2,"float","left"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&(ze(0,"img",0),bt(1,Dce,2,1,"h1",1),A(2,"h3",2),re(3),V(),A(4,"ul"),bt(5,Ace,22,11,"div",3),V()),2&i&&(fe(1),Ve("ngIf",r.service.user),fe(2),Us("Total posts on the backend: ",r.posts.length,""),fe(2),Ve("ngForOf",r.posts))},dependencies:[Lb,zs],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),Mce=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(R(bk),R(F_))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"center-container"],[1,"center-element"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),ze(2,"app-post"),V()())},dependencies:[kce],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();let iz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ca),R(Qt))};static#t=this.\u0275dir=Ae({type:n})}return n})(),tu=(()=>{class n extends iz{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,features:[vt]})}return n})();const vs=new X("NgValueAccessor"),Rce={provide:vs,useExisting:jt(()=>wk),multi:!0};let wk=(()=>{class n extends tu{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Re("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Wt([Rce]),vt]})}return n})();const Pce={provide:vs,useExisting:jt(()=>J0),multi:!0},Nce=new X("CompositionEventMode");let J0=(()=>{class n extends iz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oce(){const n=Vc()?Vc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ca),R(Qt),R(Nce,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Re("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Wt([Pce]),vt]})}return n})();const hr=new X("NgValidators"),hl=new X("NgAsyncValidators");function fz(n){return null!=n}function mz(n){return Hp(n)?Kt(n):n}function pz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function gz(n,e){return e.map(t=>t(n))}function _z(n){return n.map(e=>function Lce(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ek(n){return null!=n?function vz(n){if(!n)return null;const e=n.filter(fz);return 0==e.length?null:function(t){return pz(gz(t,e))}}(_z(n)):null}function yz(n){if(!n)return null;const e=n.filter(fz);return 0==e.length?null:function(t){return function nz(...n){const e=Qf(n),{args:t,keys:i}=VL(n),r=new It(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,d=s;for(let h=0;h<s;h++){let p=!1;De(t[h]).subscribe(be(o,g=>{p||(p=!0,d--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(d||o.next(i?BL(i,a):a),o.complete())}))}});return e?r.pipe(bT(e)):r}(gz(t,e).map(mz)).pipe(_e(pz))}}function Ik(n){return null!=n?yz(_z(n)):null}function bz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xk(n){return n?Array.isArray(n)?n:[n]:[]}function tE(n,e){return Array.isArray(n)?n.includes(e):n===e}function Iz(n,e){const t=xk(e);return xk(n).forEach(r=>{tE(t,r)||t.push(r)}),t}function xz(n,e){return xk(e).filter(t=>!tE(n,t))}class Cz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ek(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ik(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends Cz{get formDirective(){return null}get path(){return null}}class fl extends Cz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dz=(()=>{class n extends Tz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(fl,2))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[vt]})}return n})();const B_="VALID",iE="INVALID",qf="PENDING",U_="DISABLED";function rE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Mz{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===B_}get invalid(){return this.status===iE}get pending(){return this.status==qf}get disabled(){return this.status===U_}get enabled(){return this.status!==U_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Iz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Iz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xz(e,this._rawAsyncValidators))}hasValidator(e){return tE(this._rawValidators,e)}hasAsyncValidator(e){return tE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=U_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B_||this.status===qf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?U_:B_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qf,this._hasOwnPendingAsyncValidator=!0;const t=mz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?U_:this.errors?iE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qf)?qf:this._anyControlsHaveStatus(iE)?iE:B_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function zce(n){return Array.isArray(n)?Ek(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Hce(n){return Array.isArray(n)?Ik(n):n||null}(this._rawAsyncValidators)}}const Gf=new X("CallSetDisabledState",{providedIn:"root",factory:()=>oE}),oE="always";function j_(n,e,t=oE){(function kk(n,e){const t=function wz(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(bz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function Ez(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(bz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();cE(e._rawValidators,r),cE(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Gce(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Rz(n,e)})}(n,e),function Zce(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Wce(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Rz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qce(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Rz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Nz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Fz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lz=class extends Mz{constructor(e=null,t,i){super(function Dk(n){return(rE(n)?n.validators:n)||null}(t),function Sk(n,e){return(rE(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Fz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Nz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Nz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Fz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},nle={provide:fl,useExisting:jt(()=>Nk)},Uz=(()=>Promise.resolve())();let Nk=(()=>{class n extends fl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Lz,this._registered=!1,this.name="",this.update=new Yt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Pk(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===J0?t=o:function Yce(n){return Object.getPrototypeOf(n.constructor)===tu}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Rk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){j_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Uz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&kh(i);Uz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function sE(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(R(Nr,9),R(hr,10),R(hl,10),R(vs,10),R(Fs,8),R(Gf,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([nle]),vt,Er]})}return n})(),zz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({})}return n})(),Dle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[zz]})}return n})(),Ale=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gf,useValue:t.callSetDisabledState??oE}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Dle]})}return n})();function kle(n,e){1&n&&(A(0,"p",21),re(1,"Check your email"),V())}function Mle(n,e){1&n&&(A(0,"p",21),re(1,"Check your password"),V())}function Rle(n,e){if(1&n){const t=or();A(0,"div",8)(1,"div",9)(2,"h1"),re(3,"Log in"),V(),A(4,"input",10),Re("ngModelChange",function(r){return lt(t),rt(Pe().email=r)})("keyup.enter",function(){return lt(t),rt($r(9).focus())}),V(),bt(5,kle,2,0,"p",11),A(6,"h1"),re(7,"Enter password"),V(),A(8,"input",12,13),Re("ngModelChange",function(r){return lt(t),rt(Pe().password=r)})("keyup.enter",function(){return lt(t),rt(Pe().login())}),V(),bt(10,Mle,2,0,"p",11),A(11,"div",14)(12,"div")(13,"div",15)(14,"input",16),Re("ngModelChange",function(r){return lt(t),rt(Pe().rememberMe=r)}),V(),A(15,"label",17),ze(16,"span"),V(),A(17,"p"),re(18,"Remember me"),V()(),A(19,"a",18),Re("click",function(){return lt(t),rt(Pe().isPage="forgot")}),re(20,"Forgot password?"),V()(),A(21,"span",19),re(22,"Don't have an account? "),A(23,"a",18),Re("click",function(){return lt(t),rt(Pe().isPage="register")}),re(24,"Sign up here"),V()()(),A(25,"button",20),Re("click",function(){return lt(t),rt(Pe().login())}),A(26,"span"),re(27,"Sign in"),V(),ze(28,"i"),V()()()}if(2&n){const t=Pe();fe(4),Ve("ngModel",t.email),fe(1),Ve("ngIf",t.loginFailed),fe(3),Ve("ngModel",t.password),fe(2),Ve("ngIf",t.loginFailed),fe(4),Ve("ngModel",t.rememberMe)}}function Ple(n,e){if(1&n){const t=or();A(0,"div",8)(1,"div",9)(2,"h1"),re(3,"Register"),V(),A(4,"input",22),Re("ngModelChange",function(r){return lt(t),rt(Pe().displayName=r)})("keyup.enter",function(){return lt(t),rt($r(8).focus())}),V(),A(5,"h1"),re(6,"Email"),V(),A(7,"input",23,24),Re("ngModelChange",function(r){return lt(t),rt(Pe().email=r)})("keyup.enter",function(){return lt(t),rt($r(12).focus())}),V(),A(9,"h1"),re(10,"Enter password"),V(),A(11,"input",25,13),Re("ngModelChange",function(r){return lt(t),rt(Pe().password=r)})("keyup.enter",function(){return lt(t),rt(Pe().register())}),V(),A(13,"div",14)(14,"div")(15,"a",18),Re("click",function(){return lt(t),rt(Pe().isPage="forgot")}),re(16,"Forgot password?"),V()(),A(17,"span",26),re(18,"Have an account? "),A(19,"a",18),Re("click",function(){return lt(t),rt(Pe().isPage="login")}),re(20,"Sign in here"),V()()(),A(21,"button",27),Re("click",function(){return lt(t),rt(Pe().register())}),A(22,"span"),re(23,"Sign up"),V(),ze(24,"i"),V()()()}if(2&n){const t=Pe();fe(4),Ve("ngModel",t.displayName),fe(3),Ve("ngModel",t.email),fe(4),Ve("ngModel",t.password)}}function Ole(n,e){if(1&n){const t=or();A(0,"div",8)(1,"div",9)(2,"h1"),re(3,"Enter email"),V(),A(4,"input",28,13),Re("ngModelChange",function(r){return lt(t),rt(Pe().email=r)})("keyup.enter",function(){return lt(t),rt(Pe().register())}),V(),A(6,"div",14)(7,"span",26),re(8,"Oops still remember? "),A(9,"a",18),Re("click",function(){return lt(t),rt(Pe().isPage="login")}),re(10,"Sign in here"),V()()(),A(11,"button",29),Re("click",function(){return lt(t),rt(Pe().forgot())}),A(12,"span"),re(13,"Send verification"),V(),ze(14,"i"),V()()()}if(2&n){const t=Pe();fe(4),Ve("ngModel",t.email)}}let Nle=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.rememberMe=!0,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password,this.rememberMe),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(R(F_),R(Ar),R(bk))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"containerfull"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[1,"checkbox-wrapper-3"],["type","checkbox","id","cbx-3",3,"ngModel","ngModelChange"],["for","cbx-3",1,"toggle"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace","cursor","default"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(A(0,"html")(1,"head"),ze(2,"meta",0),V(),A(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),re(8,"Earn2Post"),V()(),A(9,"div",5),ze(10,"img",6),V()(),bt(11,Rle,29,5,"div",7)(12,Ple,25,3,"div",7)(13,Ole,15,1,"div",7),V()()()),2&i&&(fe(11),Ve("ngIf","login"===r.isPage),fe(1),Ve("ngIf","register"===r.isPage),fe(1),Ve("ngIf","forgot"===r.isPage))},dependencies:[zs,J0,wk,Dz,Nk],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.containerfull[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%], a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400;cursor:default}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text;cursor:pointer}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.825e07b81a6fd077.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}.checkbox-wrapper-3[_ngcontent-%COMP%]{display:flex;margin:10px 10px 15px}.checkbox-wrapper-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 10px;font-size:inherit;color:#707070}.checkbox-wrapper-3[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{visibility:hidden;display:none}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:relative;display:block;width:40px;height:20px;cursor:pointer;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:before{content:"";position:relative;top:3px;left:3px;width:34px;height:14px;display:block;background:#9A9999;border-radius:8px;transition:background .2s ease}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:20px;height:20px;display:block;background:#707070;border-radius:10px;box-shadow:0 3px 8px #9a999980;transition:all .2s ease}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;margin:-18px;width:56px;height:56px;background:rgba(79,46,220,.5);border-radius:50%;transform:scale(0);opacity:1;pointer-events:none}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]:before{background:#947ADA}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#6A5988;transform:translate(20px);transition:all .2s cubic-bezier(.8,.4,.3,1.25),background .15s ease;box-shadow:0 3px 8px #4f2edc33}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{transform:scale(1);opacity:0;transition:all .4s ease}']})}return n})(),Fle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(A(0,"h1"),re(1,"You're logged in as an admin"),V(),A(2,"button",0),re(3," Sign out"),V()),2&i&&(fe(2),Ve("routerLink",""))},dependencies:[Wh]})}return n})();let zk=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.autosaveDate=new Date,this.upgradesDefault=[{name:"Multithreading",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase processing power by utilizing multiple threads."},{name:"Optimization Algorithms",cost:100,debuxPerSec:10,affordable:!1,purchased:0,description:"Enhance efficiency through advanced code optimization techniques."},{name:"Parallel Processing",cost:1e3,debuxPerSec:100,affordable:!1,purchased:0,description:"Enable simultaneous execution for faster processing."},{name:"Overclocking",cost:1e4,debuxPerSec:1e3,affordable:!1,purchased:0,description:"Push the CPU to run faster, boosting processing power."},{name:"Hardware Upgrades",cost:1e5,debuxPerSec:1e4,affordable:!1,purchased:0,description:"Install better processors or RAM to increase overall performance."},{name:"Cooling Systems",cost:1e6,debuxPerSec:1e5,affordable:!1,purchased:0,description:"Optimize cooling mechanisms to sustain higher processing speeds."},{name:"Syntax Highlighting",cost:1,debuxPerClick:1,affordable:!1,purchased:0,description:"Boost click effectiveness with highlighted code segments."},{name:"Code Formatting",cost:10,debuxPerClick:10,affordable:!1,purchased:0,description:"Improve the appearance of code to enhance click impact."},{name:"Auto-Completion",cost:100,debuxPerClick:100,affordable:!1,purchased:0,description:"Increase code suggestion accuracy to amplify your clicks."},{name:"GUI Enhancements",cost:1e3,debuxPerClick:1e3,affordable:!1,purchased:0,description:"Upgrade the interface for a more responsive and impactful clicking experience."},{name:"Mouse Acceleration",cost:1e4,debuxPerClick:1e4,affordable:!1,purchased:0,description:"Improve click effectiveness by enhancing mouse sensitivity."},{name:"ChatGPT Evolution",cost:1e3,affordable:!1,purchased:0,description:"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."},{name:"Automated Testing",cost:1e4,affordable:!1,purchased:0,description:"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."},{name:"Code Refactoring AI",cost:1e5,affordable:!1,purchased:0,description:"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."},{name:"Codebase Analysis",cost:1e6,affordable:!1,purchased:0,description:"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."},{name:"Tabnine",cost:1e7,affordable:!1,purchased:0,description:"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."}],this.debuxValue=0,this.saveInterval=60,this.purchasedUpgradesPerSec=[],this.purchasedUpgradesPerClick=[],this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}buyUpgrade(t,i,r){typeof i<"u"&&0!==i?(console.log("DebuxPerSec purchased"),this.purchasedUpgradesPerSec.push({name:t,debuxPerSec:i})):typeof r<"u"&&0!==r&&(console.log("DebuxPerClick purchased"),this.purchasedUpgradesPerClick.push({name:t,debuxPerClick:r}))}calculateTotalDebuxPerClick(){return this.purchasedUpgradesPerClick.reduce((t,i)=>t+i.debuxPerClick,1)}calculateTotalDebuxPerSec(){return this.purchasedUpgradesPerSec.reduce((t,i)=>t+i.debuxPerSec,0)}firstCalc(t){let i=0,r=0;for(const o in t){const s=t[o];null!=s.debuxPerSec&&(r=s.debuxPerSec*s.purchased),null!=s.debuxPerClick&&(i=s.debuxPerClick*s.purchased),this.buyUpgrade(s.name,r,i)}}addDebux(t){this.debuxValue=t}addUpgrades(t){this.upgradesUpdated=t}startAutosave(){fw(0,1e3*this.saveInterval).pipe(Bt(()=>this.autosave()),function Ble(n,e=xd,t){const i=fw(n,e);return function Vle(n,e){return de((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,d=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),d&&i.complete())},p=()=>{c=null,d&&i.complete()},g=b=>c=De(n(b)).subscribe(be(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!d&&g(b)}};t.subscribe(be(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{d=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){if(this.user&&0!=this.debuxValue){const t={Debux:this.debuxValue};return this.upgradesUpdated&&(t.upgrades=this.upgradesUpdated),this.autosaveDate=new Date,Kt(this.db.doc(`User/${this.user?.uid}`).update(t)).pipe(_e(()=>{this.debuxValue=0,console.log("cleared")}))}return Ee(void 0)}getDebux(){return this.authState$.pipe(Bt(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(_e(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),Ee(void 0))))}sendUpgrades(t){this.db.collection("User").doc(this.user?.uid).set({upgrades:t},{merge:!0})}getUpgrades(){return this.authState$.pipe(Bt(t=>t?this.db.collection("User").doc(t.uid).valueChanges().pipe(_e(r=>r?r.upgrades||this.upgradesDefault:[])):(console.warn("User not authenticated."),Ee([]))))}static#e=this.\u0275fac=function(i){return new(i||n)(P(Hf),P(Sd))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ule(n,e){if(1&n&&(A(0,"p",22),re(1),V()),2&n){const t=Pe();fe(1),Us("DeBux: ",t.debux,"")}}function jle(n,e){1&n&&(A(0,"p",23),re(1,"Loading Debuxes"),V())}function zle(n,e){if(1&n&&(A(0,"div",24)(1,"p"),re(2," Logged in as: "),A(3,"span",25),re(4),V()()()),2&n){const t=Pe();fe(4),ei(t.service.user.displayName)}}function Hle(n,e){1&n&&(A(0,"div",24)(1,"p",26),re(2,"Loading"),V()())}function $le(n,e){if(1&n){const t=or();A(0,"div",28),Re("click",function(){lt(t);const r=Pe().$implicit;return rt(Pe().buyUpgrade(r))}),A(1,"div",29)(2,"p"),re(3),V(),A(4,"h4"),re(5),V(),A(6,"div",30)(7,"h4"),re(8),V()()(),A(9,"div",31)(10,"h4"),re(11),V()()()}if(2&n){const t=Pe().$implicit;Xn("box-disabled",!t.affordable),fe(3),ei(t.name),fe(2),ei(t.description),fe(3),Us("Cost: ",t.cost,"DB"),fe(3),ei(t.purchased)}}function qle(n,e){if(1&n&&(Eh(0),bt(1,$le,12,6,"div",27),Ih()),2&n){const t=e.index;fe(1),Ve("ngIf",t<6)}}function Gle(n,e){if(1&n){const t=or();A(0,"div",28),Re("click",function(){lt(t);const r=Pe().$implicit;return rt(Pe().buyUpgrade(r))}),A(1,"div",29)(2,"p"),re(3),V(),A(4,"h4"),re(5),V(),A(6,"div",30)(7,"h4"),re(8),V()()(),A(9,"div",31)(10,"h4"),re(11),V()()()}if(2&n){const t=Pe().$implicit;Xn("box-disabled",!t.affordable),fe(3),ei(t.name),fe(2),ei(t.description),fe(3),Us("Cost: ",t.cost,"DB"),fe(3),ei(t.purchased)}}function Wle(n,e){if(1&n&&(Eh(0),bt(1,Gle,12,6,"div",27),Ih()),2&n){const t=e.index;fe(1),Ve("ngIf",6<=t&&t<11)}}function Zle(n,e){if(1&n){const t=or();A(0,"div",28),Re("click",function(){lt(t);const r=Pe().$implicit;return rt(Pe().buyUpgrade(r))}),A(1,"div",29)(2,"p"),re(3),V(),A(4,"h4"),re(5),V(),A(6,"div",30)(7,"h4"),re(8),V()()(),A(9,"div",31)(10,"h4"),re(11),V()()()}if(2&n){const t=Pe().$implicit;Xn("box-disabled",!t.affordable),fe(3),ei(t.name),fe(2),ei(t.description),fe(3),Us("Cost: ",t.cost,"DB"),fe(3),ei(t.purchased)}}function Kle(n,e){if(1&n&&(Eh(0),bt(1,Zle,12,6,"div",27),Ih()),2&n){const t=e.index;fe(1),Ve("ngIf",11<=t)}}let Qle=(()=>{class n{constructor(t,i,r){this.service=t,this.zone=i,this.cdr=r,this.timeDifferenceInSeconds=0,this.maxClicks=2,this.clickCount=0,this.debux=0,this.loading=!1,this.upgrades=this.service.upgradesDefault,this.upgradesObs$=this.service.getUpgrades()}ngOnInit(){this.upgradesObs$.pipe(ao(1)).subscribe(t=>{this.upgrades=t,this.service.firstCalc(this.upgrades)}),this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().pipe(ao(1)).subscribe(i=>{this.debux=i||0,this.loading=!1,function Lle(n=0,e=xd){return n<0&&(n=0),fw(n,n,e)}(1e3).subscribe(()=>{this.zone.run(()=>{this.debux+=this.service.calculateTotalDebuxPerSec(),this.updateAffordability(),this.service.addDebux(this.debux),this.cdr.detectChanges();const o=(new Date).getTime()-this.service.autosaveDate.getTime();this.timeDifferenceInSeconds=Math.floor(o/1e3),30==this.timeDifferenceInSeconds&&(this.clickCount=0)})})}))})}addDebux(){this.debux+=this.service.calculateTotalDebuxPerClick(),this.updateAffordability(),this.service.addDebux(this.debux)}updateAffordability(){this.upgrades.forEach(t=>{t.affordable=t.cost<=this.debux})}buyUpgrade(t){t.affordable&&this.debux-t.cost<t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick),t.affordable=!1):t.affordable&&this.debux-t.cost>=t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick)):console.log("Not enough DeBux for this upgrade."),this.service.addDebux(this.debux),this.service.addUpgrades(this.upgrades),this.updateAffordability()}manualAutosave(){this.clickCount<this.maxClicks&&(this.service.autosave(),this.clickCount++)}static#e=this.\u0275fac=function(i){return new(i||n)(R(zk),R(Be),R(Fs))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-clicker"]],decls:48,vars:10,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],[3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[4,"ngFor","ngForOf"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"],[1,"loading-text"],["class","box",3,"box-disabled","click",4,"ngIf"],[1,"box",3,"click"],[1,"box-text"],[1,"cost"],[1,"bought"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),bt(2,Ule,2,1,"p",2)(3,jle,2,0,"p",3),V(),A(4,"div",4)(5,"button",5),Re("click",function(){return r.addDebux()}),V(),A(6,"div")(7,"p"),re(8),V(),A(9,"a",6),Re("click",function(){return r.manualAutosave()}),re(10,"Save now"),V()()(),bt(11,zle,5,1,"div",7)(12,Hle,3,0,"div",7),V(),A(13,"div",8)(14,"div",9)(15,"H1"),re(16,"Upgrades"),V()(),A(17,"div",10)(18,"div",11)(19,"div",12),ze(20,"img",13),A(21,"div")(22,"p"),re(23,"Processing Power"),V(),A(24,"h4"),re(25,"Per/Sec"),V()()(),A(26,"div",14),bt(27,qle,2,1,"ng-container",15),V()(),A(28,"div",16)(29,"div",17),ze(30,"img",18),A(31,"div")(32,"p"),re(33,"Click Impact"),V(),A(34,"h4"),re(35,"Per/Click"),V()()(),A(36,"div",19),bt(37,Wle,2,1,"ng-container",15),V()(),A(38,"div",20)(39,"div",12),ze(40,"img",21),A(41,"div")(42,"p"),re(43,"Advanced Algorithms"),V(),A(44,"h4"),re(45,"Specials"),V()()(),A(46,"div",14),bt(47,Kle,2,1,"ng-container",15),V()()()()),2&i&&(fe(2),Ve("ngIf",!r.loading),fe(1),Ve("ngIf",r.loading),fe(5),Us("Last autosave: ",r.timeDifferenceInSeconds," seconds ago"),fe(1),Xn("disabled",r.clickCount>=r.maxClicks),fe(2),Ve("ngIf",r.service.user),fe(1),Ve("ngIf",!r.service.user),fe(15),Ve("ngForOf",r.upgrades),fe(10),Ve("ngForOf",r.upgrades),fe(10),Ve("ngForOf",r.upgrades))},dependencies:[Lb,zs],styles:[".top[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:20%;background:#313131;border-radius:40px}.loading-text[_ngcontent-%COMP%]{color:#b7514c}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:30%;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}#debug[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6a5988;cursor:pointer;transition:transfrom .3s ease}.clicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{font-size:90%}.clicker[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.clicker[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3% 0 0;font-size:100%}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:20%;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:20px;margin-top:30px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-disabled[_ngcontent-%COMP%]{filter:blur(4px)}.box-disabled[_ngcontent-%COMP%]:hover{cursor:auto;box-shadow:none}.box-disabled[_ngcontent-%COMP%]:active{transform:none}.box-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-top-left-radius:20px;border-bottom-left-radius:20px;width:480px;padding-left:20px}.box-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.cost[_ngcontent-%COMP%]{text-align:center}.cost[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:lighter}.bought[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background:#6A5988;border-top-right-radius:20px;border-bottom-right-radius:20px;width:70px}.bought[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;margin:0;font-size:25px}"]})}return n})();function Yle(n,e){1&n&&(A(0,"h3"),re(1,"<"),A(2,"span",9),re(3,"Loading"),V(),re(4,"> DB"),V())}function Xle(n,e){if(1&n&&(A(0,"h3"),re(1,"<"),A(2,"span",10),re(3),V(),re(4,"> DB"),V()),2&n){const t=Pe();fe(3),ei(t.debux)}}let Jle=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(R(zk))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),ze(2,"img",2),A(3,"h2"),re(4,"Your credit"),V()(),A(5,"div",3)(6,"p"),re(7,"Current"),V(),A(8,"div",4),bt(9,Yle,5,0,"h3",5)(10,Xle,5,1,"h3",5),V()(),A(11,"div",3)(12,"p"),re(13,"Per second:"),V(),A(14,"div",6)(15,"h3"),re(16,"+40 DB/s"),V()()(),A(17,"div",7),ze(18,"img",8),V()()),2&i&&(fe(9),Ve("ngIf",r.loading),fe(1),Ve("ngIf",!r.loading))},dependencies:[zs],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})(),ede=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Hf),R(Sd))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(A(0,"html")(1,"head"),ze(2,"meta",0),V(),A(3,"body")(4,"div",1)(5,"div",2),ze(6,"app-credit-box"),A(7,"a",3),ze(8,"img",4),V()(),A(9,"div",5)(10,"div",6)(11,"div",7),ze(12,"img",8),V(),A(13,"div",9)(14,"h2"),re(15),V(),A(16,"p",10),re(17,"50 Followers"),V(),A(18,"div",11)(19,"p"),re(20,"30 Following"),V(),A(21,"p"),re(22,"13 Friends"),V()()(),A(23,"div",12),ze(24,"img",13),V()(),A(25,"div",14),ze(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),V()(),A(34,"div",23)(35,"h2"),re(36,"Here is friends list"),V(),A(37,"div",24),ze(38,"img",25),A(39,"h2"),re(40,"Add friends"),V()()()()()()),2&i&&(fe(15),ei(null==r.user?null:r.user.displayName))},dependencies:[Wh,Jle],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})(),Hk=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn().pipe(_e(r=>(r||this.router.navigate([""]),r)))}static#e=this.\u0275fac=function(i){return new(i||n)(P(F_),P(Ar))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tde=[{path:"",component:Nle},{path:"home",component:Mce,canActivate:[Hk]},{path:"admin",component:Fle},{path:"clicker",component:Qle,canActivate:[Hk]},{path:"profile",component:ede,canActivate:[Hk]}];let nde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[H2.forRoot(tde,{useHash:!0}),H2]})}return n})(),ide=(()=>{class n{constructor(t){this.router=t,this.visible=!0,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ar))};static#t=this.\u0275cmp=Dn({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(A(0,"app-header"),ze(1,"router-outlet"),V())},dependencies:[BT,bk],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"],changeDetection:0})}return n})();function sH(n){return new j(3e3,!1)}function ml(n){switch(n.length){case 0:return new V_;case 1:return n[0];default:return new Q3(n)}}function aH(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const d=c.get("offset"),h=d==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case Ha:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=d}),r.length)throw function Tde(n){return new j(3502,!1)}();return o}function $k(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&qk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&qk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&qk(t,"destroy",n)))}}function qk(n,e,t){const o=Gk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Gk(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function fo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function cH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Vde=(()=>typeof document>"u"?null:document.documentElement)();function Wk(n){const e=n.parentNode||n.host||null;return e===Vde?null:e}let iu=null,lH=!1;function dH(n,e){for(;e;){if(e===n)return!0;e=Wk(e)}return!1}function uH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Zk=(()=>{class n{validateStyleProperty(t){return function Ude(n){iu||(iu=function jde(){return typeof document<"u"?document.body:null}()||{},lH=!!iu.style&&"WebkitAppearance"in iu.style);let e=!0;return iu.style&&!function Bde(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in iu.style,!e&&lH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in iu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return dH(t,i)}getParentElement(t){return Wk(t)}query(t,i,r){return uH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new V_(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Kk=(()=>{class n{static#e=this.NOOP=new Zk}return n})();class Qk{}const Hde=1e3,Yk="ng-enter",dE="ng-leave",uE="ng-trigger",hE=".ng-trigger",fH="ng-animating",Xk=".ng-animating";function $a(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Jk(parseFloat(e[1]),e[2])}function Jk(n,e){return"s"===e?n*Hde:n}function fE(n,e,t){return n.hasOwnProperty("duration")?n:function qde(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(sH()),{duration:0,delay:0,easing:""};r=Jk(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Jk(parseFloat(c),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function rde(){return new j(3100,!1)}()),a=!0),o<0&&(e.push(function ode(){return new j(3101,!1)}()),a=!0),a&&e.splice(c,0,sH())}return{duration:r,delay:o,easing:s}}(n,e,t)}function H_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function mH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function pl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ia(n,e,t){e.forEach((i,r)=>{const o=tM(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function ru(n,e){e.forEach((t,i)=>{const r=tM(i);n.style[r]=""})}function $_(n){return Array.isArray(n)?1==n.length?n[0]:function tce(n,e=null){return{type:2,steps:n,options:e}}(n):n}const eM=new RegExp("{{\\s*(.+?)\\s*}}","g");function gH(n){let e=[];if("string"==typeof n){let t;for(;t=eM.exec(n);)e.push(t[1]);eM.lastIndex=0}return e}function q_(n,e,t){const i=n.toString(),r=i.replace(eM,(o,s)=>{let a=e[s];return null==a&&(t.push(function ade(n){return new j(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function mE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Zde=/-+([a-z0-9])/g;function tM(n){return n.replace(Zde,(...e)=>e[1].toUpperCase())}function mo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function cde(n){return new j(3004,!1)}()}}function _H(n,e){return window.getComputedStyle(n)[e]}const Yde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vH extends Qk{normalizePropertyName(e,t){return tM(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Yde.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function lde(n,e){return new j(3005,!1)}())}return s+o}}const pE="*";function Xde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Jde(n,e,t){if(":"==n[0]){const c=function eue(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ede(n){return new j(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function wde(n){return new j(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(yH(r,s));"<"==o[0]&&!(r==pE&&s==pE)&&e.push(yH(s,r))}(i,t,e)):t.push(n),t}const gE=new Set(["true","1"]),_E=new Set(["false","0"]);function yH(n,e){const t=gE.has(n)||_E.has(n),i=gE.has(e)||_E.has(e);return(r,o)=>{let s=n==pE||n==r,a=e==pE||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?gE.has(n):_E.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?gE.has(e):_E.has(e)),s&&a}}const tue=new RegExp("s*:selfs*,?","g");function nM(n,e,t,i){return new nue(n).build(e,t,i)}class nue{constructor(e){this._driver=e}build(e,t,i){const r=new oue(t);return this._resetContextStyleTimingState(r),mo(this,$_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function dde(){return new j(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function ude(){return new j(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{gH(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(mE(o.values()),t.errors.push(function hde(n,e){return new j(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=mo(this,$_(e.animation),t);return{type:1,matchers:Xde(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ou(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>mo(this,i,t)),options:ou(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=mo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:ou(e.options)}}visitAnimate(e,t){const i=function aue(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return iM(fE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=iM(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=fE(t,e);return iM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Q0({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=Q0(d)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Ha?i.push(a):t.errors.push(new j(3002,!1)):i.push(mH(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function mde(n,e,t,i,r){return new j(3010,!1)}()),p=!1),o=h.startTime),p&&d.set(c,{startTime:o,endTime:r}),t.options&&function Wde(n,e,t){const i=e.params||{},r=gH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function sde(n){return new j(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pde(){return new j(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,d=0;const h=e.steps.map(k=>{const S=this._makeStyleAst(k,t);let O=null!=S.offset?S.offset:function sue(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(S.styles),Y=0;return null!=O&&(o++,Y=S.offset=O),c=c||Y<0||Y>1,a=a||Y<d,d=Y,s.push(Y),S});c&&t.errors.push(function gde(){return new j(3012,!1)}()),a&&t.errors.push(function _de(){return new j(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function vde(){return new j(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,E=w.duration;return h.forEach((k,S)=>{const O=g>0?S==v?1:g*S:s[S],Y=O*E;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(k,t),k.offset=O,i.styles.push(k)}),i}visitReference(e,t){return{type:8,animation:mo(this,$_(e.animation),t),options:ou(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ou(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ou(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function iue(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(tue,"")),n=n.replace(/@\*/g,hE).replace(/@\w+/g,t=>hE+"-"+t.slice(1)).replace(/:animating/g,Xk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,fo(t.collectedStyles,t.currentQuerySelector,new Map);const a=mo(this,$_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ou(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function yde(){return new j(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:fE(e.timings,t.errors,!0);return{type:12,animation:mo(this,$_(e.animation),t),timings:i,options:null}}}class oue{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ou(n){return n?(n=H_(n)).params&&(n.params=function rue(n){return n?H_(n):null}(n.params)):n={},n}function iM(n,e,t){return{duration:n,delay:e,easing:t}}function rM(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class vE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const due=new RegExp(":enter","g"),hue=new RegExp(":leave","g");function oM(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return(new fue).buildKeyframes(n,e,t,i,r,o,s,a,c,d)}class fue{buildKeyframes(e,t,i,r,o,s,a,c,d,h=[]){d=d||new vE;const p=new sM(e,t,d,r,o,h,[]);p.options=c;const g=c.delay?$a(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),mo(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const E=v[w];if(E.element===t){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[rM(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:$a(q_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?$a(i.duration):null,a=null!=i.delay?$a(i.delay):null;return 0!==s&&e.forEach(c=>{const d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),mo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yE);const s=$a(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>mo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?$a(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),mo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return fE(t.params?q_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?$a(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yE);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,d);o&&p.delayNextStep(o),d===t.element&&(c=p.currentTimeline),mo(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;mo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const yE={};class sM{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new bE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=$a(i.duration)),null!=i.delay&&(r.delay=$a(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=q_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new sM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=yE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new mue(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(due,"."+this._enterClassName)).replace(hue,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function bde(n){return new j(3014,!1)}()),a}}class bE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new bE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ha),this._currentKeyframe.set(t,Ha);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function pue(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Ha)}else pl(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const d=q_(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ha),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=pl(a,new Map,this._backFill);d.forEach((h,p)=>{"!"===h?e.add(p):h===Ha&&t.add(p)}),i||d.set("offset",c/this.duration),r.push(d)});const o=e.size?mE(e.values()):[],s=t.size?mE(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return rM(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class mue extends bE{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=pl(e[0]);c.set("offset",0),o.push(c);const d=pl(e[0]);d.set("offset",EH(a)),o.push(d);const h=e.length-1;for(let p=1;p<=h;p++){let g=pl(e[p]);const v=g.get("offset");g.set("offset",EH((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return rM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function EH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function IH(n,e,t,i,r,o,s,a,c,d,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:h,totalTime:p,errors:g}}const aM={};class xH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function gue(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,h){const p=[],g=this.ast.options&&this.ast.options.params||aM,b=this.buildStyles(i,a&&a.params||aM,p),w=c&&c.params||aM,E=this.buildStyles(r,w,p),k=new Set,S=new Map,O=new Map,Y="void"===r,he={params:_ue(w,g),delay:this.ast.options?.delay},xe=h?[]:oM(e,t,this.ast.animation,o,s,b,E,he,d,p);let Qe=0;if(xe.forEach(po=>{Qe=Math.max(po.duration+po.delay,Qe)}),p.length)return IH(t,this._triggerName,i,r,Y,b,E,[],[],S,O,Qe,p);xe.forEach(po=>{const Qr=po.element,g$=fo(S,Qr,new Set);po.preStyleProps.forEach(lu=>g$.add(lu));const Y_=fo(O,Qr,new Set);po.postStyleProps.forEach(lu=>Y_.add(lu)),Qr!==t&&k.add(Qr)});const dn=mE(k.values());return IH(t,this._triggerName,i,r,Y,b,E,xe,dn,S,O,Qe)}}function _ue(n,e){const t=H_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class vue{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=H_(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=q_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class bue{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new vue(r.style,r.options&&r.options.params||{},i))}),CH(this.states,"true","1"),CH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new xH(e,r,this.states))}),this.fallbackTransition=function wue(n,e,t){return new xH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function CH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Eue=new vE;class Iue{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=nM(this._driver,t,i,[]);if(i.length)throw function Dde(n){return new j(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=aH(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=oM(this._driver,t,o,Yk,dE,new Map,new Map,i,Eue,r),s.forEach(h=>{const p=fo(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function Sde(){return new j(3300,!1)}()),s=[]),r.length)throw function Ade(n){return new j(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,Ha))})});const d=ml(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function kde(n){return new j(3301,!1)}();return t}listen(e,t,i,r){const o=Gk(t,"","","");return $k(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const TH="ng-animate-queued",cM="ng-animate-disabled",Sue=[],DH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Aue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ys="__ng_removed";class lM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Pue(n){return n??null}(i?e.value:e),i){const o=H_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const G_="void",dM=new lM(G_);class kue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Uo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Mde(n,e){return new j(3302,!1)}();if(null==i||0==i.length)throw function Rde(n){return new j(3303,!1)}();if(!function Oue(n){return"start"==n||"done"==n}(i))throw function Pde(n,e){return new j(3400,!1)}();const o=fo(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=fo(this._engine.statesByElement,e,new Map);return a.has(t)||(Uo(e,uE),Uo(e,uE+"-"+t),a.set(t,dM)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ode(n){return new j(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new uM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Uo(e,uE),Uo(e,uE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const d=new lM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=dM),d.value!==G_&&c.value===d.value){if(!function Lue(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,d.params)){const w=[],E=o.matchStyles(c.value,c.params,w),k=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{ru(e,E),ia(e,k)})}return}const g=fo(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,d.value,e,d.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:d,player:s,isFallbackTransition:b}),b||(Uo(e,TH),s.onStart(()=>{Wf(e,TH)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const E=this._engine.playersByElement.get(e);if(E){let k=E.indexOf(s);k>=0&&E.splice(k,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,hE,!0);i.forEach(r=>{if(r[ys])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){const h=this.trigger(e,d,G_,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&ml(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,d=i.get(s)||dM,h=new lM(G_),p=new uM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ys];(!o||o===DH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Uo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=Gk(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,$k(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Mue{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new kue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(wE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!wE(t))return;const o=t[ys];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Uo(e,cM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wf(e,cM))}removeNode(e,t,i){if(wE(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ys]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return wE(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,hE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Xk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ml(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ys];if(t&&t.setForRemoval){if(e[ys]=DH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(cM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Uo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ml(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Nde(n){return new j(3402,!1)}()}_flushAnimations(e,t){const i=new vE,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(Se=>{h.add(Se);const He=this.driver.query(Se,".ng-animate-queued",!0);for(let Ke=0;Ke<He.length;Ke++)h.add(He[Ke])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=kH(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((Se,He)=>{const Ke=Yk+w++;b.set(He,Ke),Se.forEach(Nt=>Uo(Nt,Ke))});const E=[],k=new Set,S=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){const He=this.collectedLeaveElements[Se],Ke=He[ys];Ke&&Ke.setForRemoval&&(E.push(He),k.add(He),Ke.hasAnimation?this.driver.query(He,".ng-star-inserted",!0).forEach(Nt=>k.add(Nt)):S.add(He))}const O=new Map,Y=kH(g,Array.from(k));Y.forEach((Se,He)=>{const Ke=dE+w++;O.set(He,Ke),Se.forEach(Nt=>Uo(Nt,Ke))}),e.push(()=>{v.forEach((Se,He)=>{const Ke=b.get(He);Se.forEach(Nt=>Wf(Nt,Ke))}),Y.forEach((Se,He)=>{const Ke=O.get(He);Se.forEach(Nt=>Wf(Nt,Ke))}),E.forEach(Se=>{this.processLeaveNode(Se)})});const he=[],xe=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(t).forEach(Ke=>{const Nt=Ke.player,Vi=Ke.element;if(he.push(Nt),this.collectedEnterElements.length){const fr=Vi[ys];if(fr&&fr.setForMove){if(fr.previousTriggersValues&&fr.previousTriggersValues.has(Ke.triggerName)){const du=fr.previousTriggersValues.get(Ke.triggerName),zo=this.statesByElement.get(Ke.element);if(zo&&zo.has(Ke.triggerName)){const kE=zo.get(Ke.triggerName);kE.value=du,zo.set(Ke.triggerName,kE)}}return void Nt.destroy()}}const ra=!p||!this.driver.containsElement(p,Vi),go=O.get(Vi),yl=b.get(Vi),Ln=this._buildInstruction(Ke,i,yl,go,ra);if(Ln.errors&&Ln.errors.length)return void xe.push(Ln);if(ra)return Nt.onStart(()=>ru(Vi,Ln.fromStyles)),Nt.onDestroy(()=>ia(Vi,Ln.toStyles)),void r.push(Nt);if(Ke.isFallbackTransition)return Nt.onStart(()=>ru(Vi,Ln.fromStyles)),Nt.onDestroy(()=>ia(Vi,Ln.toStyles)),void r.push(Nt);const y$=[];Ln.timelines.forEach(fr=>{fr.stretchStartingKeyframe=!0,this.disabledNodes.has(fr.element)||y$.push(fr)}),Ln.timelines=y$,i.append(Vi,Ln.timelines),s.push({instruction:Ln,player:Nt,element:Vi}),Ln.queriedElements.forEach(fr=>fo(a,fr,[]).push(Nt)),Ln.preStyleProps.forEach((fr,du)=>{if(fr.size){let zo=c.get(du);zo||c.set(du,zo=new Set),fr.forEach((kE,EM)=>zo.add(EM))}}),Ln.postStyleProps.forEach((fr,du)=>{let zo=d.get(du);zo||d.set(du,zo=new Set),fr.forEach((kE,EM)=>zo.add(EM))})});if(xe.length){const Se=[];xe.forEach(He=>{Se.push(function Fde(n,e){return new j(3505,!1)}())}),he.forEach(He=>He.destroy()),this.reportError(Se)}const Qe=new Map,dn=new Map;s.forEach(Se=>{const He=Se.element;i.has(He)&&(dn.set(He,He),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,Qe))}),r.forEach(Se=>{const He=Se.element;this._getPreviousPlayers(He,!1,Se.namespaceId,Se.triggerName,null).forEach(Nt=>{fo(Qe,He,[]).push(Nt),Nt.destroy()})});const po=E.filter(Se=>RH(Se,c,d)),Qr=new Map;AH(Qr,this.driver,S,d,Ha).forEach(Se=>{RH(Se,c,d)&&po.push(Se)});const Y_=new Map;v.forEach((Se,He)=>{AH(Y_,this.driver,new Set(Se),c,"!")}),po.forEach(Se=>{const He=Qr.get(Se),Ke=Y_.get(Se);Qr.set(Se,new Map([...He?.entries()??[],...Ke?.entries()??[]]))});const lu=[],_$=[],v$={};s.forEach(Se=>{const{element:He,player:Ke,instruction:Nt}=Se;if(i.has(He)){if(h.has(He))return Ke.onDestroy(()=>ia(He,Nt.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(Nt.totalTime),void r.push(Ke);let Vi=v$;if(dn.size>1){let go=He;const yl=[];for(;go=go.parentNode;){const Ln=dn.get(go);if(Ln){Vi=Ln;break}yl.push(go)}yl.forEach(Ln=>dn.set(Ln,Vi))}const ra=this._buildAnimation(Ke.namespaceId,Nt,Qe,o,Y_,Qr);if(Ke.setRealPlayer(ra),Vi===v$)lu.push(Ke);else{const go=this.playersByElement.get(Vi);go&&go.length&&(Ke.parentPlayer=ml(go)),r.push(Ke)}}else ru(He,Nt.fromStyles),Ke.onDestroy(()=>ia(He,Nt.toStyles)),_$.push(Ke),h.has(He)&&r.push(Ke)}),_$.forEach(Se=>{const He=o.get(Se.element);if(He&&He.length){const Ke=ml(He);Se.setRealPlayer(Ke)}}),r.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<E.length;Se++){const He=E[Se],Ke=He[ys];if(Wf(He,dE),Ke&&Ke.hasAnimation)continue;let Nt=[];if(a.size){let ra=a.get(He);ra&&ra.length&&Nt.push(...ra);let go=this.driver.query(He,Xk,!0);for(let yl=0;yl<go.length;yl++){let Ln=a.get(go[yl]);Ln&&Ln.length&&Nt.push(...Ln)}}const Vi=Nt.filter(ra=>!ra.destroyed);Vi.length?Nue(this,He,Vi):this.processLeaveNode(He)}return E.length=0,lu.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();const He=this.players.indexOf(Se);this.players.splice(He,1)}),Se.play()}),lu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==G_;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const d=c.element,h=d!==o,p=fo(i,d,[]);this._getPreviousPlayers(d,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}ru(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,d=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const E=w[ys];if(E&&E.removedBeforeQueried)return new V_(b.duration,b.delay);const k=w!==c,S=function Fue(n){const e=[];return MH(n,e),e}((i.get(w)||Sue).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===w),O=o.get(w),Y=s.get(w),he=aH(this._normalizer,b.keyframes,O,Y),xe=this._buildPlayer(b,he,S);if(b.subTimeline&&r&&p.add(w),k){const Qe=new uM(e,a,w);Qe.setRealPlayer(xe),d.push(Qe)}return xe});d.forEach(b=>{fo(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Rue(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Uo(b,fH));const v=ml(g);return v.onDestroy(()=>{h.forEach(b=>Wf(b,fH)),ia(c,t.toStyles)}),p.forEach(b=>{fo(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new V_(e.duration,e.delay)}}class uM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new V_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>$k(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function wE(n){return n&&1===n.nodeType}function SH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function AH(n,e,t,i,r){const o=[];t.forEach(c=>o.push(SH(c)));const s=[];i.forEach((c,d)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(d,p,r);h.set(p,g),(!g||0==g.length)&&(d[ys]=Aue,s.push(d))}),n.set(d,h)});let a=0;return t.forEach(c=>SH(c,o[a++])),s}function kH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const d=a.parentNode;return c=t.has(d)?d:r.has(d)?1:s(d),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Uo(n,e){n.classList?.add(e)}function Wf(n,e){n.classList?.remove(e)}function Nue(n,e,t){ml(t).onDone(()=>n.processLeaveNode(e))}function MH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Q3?MH(i.players,e):e.push(i)}}function RH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class W_{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Mue(e.body,t,i),this._timelineEngine=new Iue(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=nM(this._driver,o,c,[]);if(c.length)throw function Cde(n,e){return new j(3404,!1)}();a=function yue(n,e,t){return new bue(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=cH(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=cH(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Bue=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ia(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ia(this._element,this._initialStyles),this._endStyles&&(ia(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ru(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ru(this._element,this._endStyles),this._endStyles=null),ia(this._element,this._initialStyles),this._state=3)}}return n})();function hM(n){let e=null;return n.forEach((t,i)=>{(function Uue(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class PH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:_H(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class OH{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return dH(e,t)}getParentElement(e){return Wk(e)}query(e,t,i){return uH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d=new Map,h=s.filter(v=>v instanceof PH);(function Kde(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=function Gde(n){return n.length?n[0]instanceof Map?n:n.map(e=>mH(e)):[]}(t).map(v=>pl(v));p=function Qde(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,_H(n,a)))}}return e}(e,p,d);const g=function Vue(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=hM(e[0]),e.length>1&&(i=hM(e[e.length-1]))):e instanceof Map&&(t=hM(e)),t||i?new Bue(n,t,i):null}(e,p);return new PH(e,p,c,g)}}const NH="@.disabled";class FH{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==NH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jue extends FH{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==NH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function zue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Hue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class $ue{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const d=this._rendererCache;let h=d.get(r);return h||(h=new FH("",r,this.engine,()=>d.delete(r)),d.set(r,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new jue(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let que=(()=>{class n extends W_{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(Kk),P(Qk),P(Lc))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const LH=[{provide:Qk,useFactory:function Gue(){return new vH}},{provide:W_,useClass:que},{provide:px,useFactory:function Wue(n,e,t){return new $ue(n,e,t)},deps:[pT,W_,Be]}],fM=[{provide:Kk,useFactory:()=>new OH},{provide:Qu,useValue:"BrowserAnimations"},...LH],VH=[{provide:Kk,useClass:Zk},{provide:Qu,useValue:"NoopAnimations"},...LH];let Zue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?VH:fM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({providers:fM,imports:[RL]})}return n})(),BH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({providers:[BH]})}return n})(),Xue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Kr,Kr]})}return n})(),She=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Yue,Jp,Kr,G3,Jae,Xue]})}return n})(),Mhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Kr,G3,Kr]})}return n})();class IE{}class xE{}class jo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Rhe{encodeKey(e){return qH(e)}encodeValue(e){return qH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ohe=/%(\d[a-f0-9])/gi,Nhe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qH(n){return encodeURIComponent(n).replace(Ohe,(e,t)=>Nhe[t]??e)}function CE(n){return`${n}`}class gl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Rhe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Phe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(CE):[CE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(CE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(CE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Fhe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WH(n){return typeof Blob<"u"&&n instanceof Blob}function ZH(n){return typeof FormData<"u"&&n instanceof FormData}class Z_{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Lhe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new jo),this.context||(this.context=new Fhe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new gl,this.urlWithParams=t}serializeBody(){return null===this.body?null:GH(this.body)||WH(this.body)||ZH(this.body)||function Vhe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZH(this.body)?null:WH(this.body)?this.body.type||null:GH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new Z_(t,i,o,{params:d,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var _l=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_l||{});class pM{constructor(e,t=200,i="OK"){this.headers=e.headers||new jo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class TE extends pM{constructor(e={}){super(e),this.type=_l.ResponseHeader}clone(e={}){return new TE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class su extends pM{constructor(e={}){super(e),this.type=_l.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new su({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zf extends pM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let _M=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Z_)o=t;else{let c,d;c=r.headers instanceof jo?r.headers:new jo(r.headers),r.params&&(d=r.params instanceof gl?r.params:new gl({fromObject:r.params})),o=new Z_(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Ee(o).pipe(Ph(c=>this.handler.handle(c)));if(t instanceof Z_||"events"===r.observe)return s;const a=s.pipe($n(c=>c instanceof su));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_e(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(_e(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(_e(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(_e(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new gl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,gM(r,i))}post(t,i,r={}){return this.request("POST",t,gM(r,i))}put(t,i,r={}){return this.request("PUT",t,gM(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(P(IE))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function QH(n,e){return e(n)}function Hhe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const qhe=new X(""),K_=new X(""),YH=new X(""),XH=new X("");function Ghe(){let n=null;return(e,t)=>{null===n&&(n=(le(qhe,{optional:!0})??[]).reduceRight(Hhe,QH));const i=le(gb),r=i.add();return n(e,t).pipe(Oh(()=>i.remove(r)))}}let JH=(()=>{class n extends IE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=le(gb);const r=le(XH,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(K_),...this.injector.get(YH,[])]));this.chain=r.reduceRight((o,s)=>function $he(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),QH)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Oh(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(P(xE),P(no))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const Yhe=/^\)\]\}',?\n/;let t$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new j(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Kt(i.\u0275loadImpl()):Ee(null)).pipe(Bt(()=>new It(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,E)=>s.setRequestHeader(w,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const w=s.statusText||"OK",E=new jo(s.getAllResponseHeaders()),k=function Xhe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new TE({headers:E,status:s.status,statusText:w,url:k}),c},h=()=>{let{headers:w,status:E,statusText:k,url:S}=d(),O=null;204!==E&&(O=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=O?200:0);let Y=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof O){const he=O;O=O.replace(Yhe,"");try{O=""!==O?JSON.parse(O):null}catch(xe){O=he,Y&&(Y=!1,O={error:xe,text:O})}}Y?(o.next(new su({body:O,headers:w,status:E,statusText:k,url:S||void 0})),o.complete()):o.error(new Zf({error:O,headers:w,status:E,statusText:k,url:S||void 0}))},p=w=>{const{url:E}=d(),k=new Zf({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(k)};let g=!1;const v=w=>{g||(o.next(d()),g=!0);let E={type:_l.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=w=>{let E={type:_l.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:_l.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(P(gL))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const bM=new X("XSRF_ENABLED"),n$=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),i$=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class r${}let tfe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sL(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(as),P(n$))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function nfe(n,e){const t=n.url.toLowerCase();if(!le(bM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=le(r$).getToken(),r=le(i$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var vl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(vl||{});function ife(...n){const e=[_M,t$,JH,{provide:IE,useExisting:JH},{provide:xE,useExisting:t$},{provide:K_,useValue:nfe,multi:!0},{provide:bM,useValue:!0},{provide:r$,useClass:tfe}];for(const t of n)e.push(...t.\u0275providers);return function sp(n){return{\u0275providers:n}}(e)}const o$=new X("LEGACY_INTERCEPTOR_FN");function rfe(){return function au(n,e){return{\u0275kind:n,\u0275providers:e}}(vl.LegacyInterceptors,[{provide:o$,useFactory:Ghe},{provide:K_,useExisting:o$,multi:!0}])}let ofe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({providers:[ife(rfe())]})}return n})(),gfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Pt({imports:[Kr,Kr]})}return n})(),_fe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n,bootstrap:[ide]});static#n=this.\u0275inj=Pt({providers:[F_,zk],imports:[RL,nde,Ale,Zue,_ce,She,Mhe,gfe,Ice,ofe,fte.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),vte,Yse,Nee]})}return n})();QQ().bootstrapModule(_fe).catch(n=>console.error(n))},106:(Ho,mi,Je)=>{Je.d(mi,{Z:()=>Zn});var I=Je(58),Ce=Je(537),H=Je(534),We=Je(879);class In{constructor(it,ut){this._delegate=it,this.firebase=ut,(0,H._addComponent)(it,new Ce.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(it,ut=H._DEFAULT_ENTRY_NAME){var Kn;this._delegate.checkDestroyed();const xi=this._delegate.container.getProvider(it);return!xi.isInitialized()&&"EXPLICIT"===(null===(Kn=xi.getComponent())||void 0===Kn?void 0:Kn.instantiationMode)&&xi.initialize(),xi.getImmediate({identifier:ut})}_removeServiceInstance(it,ut=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(ut)}_addComponent(it){(0,H._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,H._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Vn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Ft(){const Lt=function Ii(Lt){const it={},ut={__esModule:!0,initializeApp:function sn(ht,pi={}){const ee=H.initializeApp(ht,pi);if((0,I.r3)(it,ee.name))return it[ee.name];const xn=new Lt(ee,ut);return it[ee.name]=xn,xn},app:xi,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Vt(ht){const pi=ht.name,ee=pi.replace("-compat","");if(H._registerComponent(ht)&&"PUBLIC"===ht.type){const xn=(Cn=xi())=>{if("function"!=typeof Cn[ee])throw Vn.create("invalid-app-argument",{appName:pi});return Cn[ee]()};void 0!==ht.serviceProps&&(0,I.ZB)(xn,ht.serviceProps),ut[ee]=xn,Lt.prototype[ee]=function(...Cn){return this._getService.bind(this,pi).apply(this,ht.multipleInstances?Cn:[])}}return"PUBLIC"===ht.type?ut[ee]:null},removeApp:function Kn(ht){delete it[ht]},useAsService:function Bi(ht,pi){return"serverAuth"===pi?null:pi},modularAPIs:H}};function xi(ht){if(!(0,I.r3)(it,ht=ht||H._DEFAULT_ENTRY_NAME))throw Vn.create("no-app",{appName:ht});return it[ht]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function Dt(){return Object.keys(it).map(ht=>it[ht])}}),xi.App=Lt,ut}(In);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:Ft,extendNamespace:function it(ut){(0,I.ZB)(Lt,ut)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Lt}(),ae=new We.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Zn=te;!function Tt(Lt){(0,H.registerVersion)("@firebase/app-compat","0.2.23",Lt)}()},534:(Ho,mi,Je)=>{Je.r(mi),Je.d(mi,{FirebaseError:()=>We.ZR,SDK_VERSION:()=>Qo,_DEFAULT_ENTRY_NAME:()=>gr,_addComponent:()=>vo,_addOrOverwriteComponent:()=>Ji,_apps:()=>_r,_clearComponents:()=>Zo,_components:()=>Wo,_getProvider:()=>bs,_registerComponent:()=>yo,_removeServiceInstance:()=>ws,deleteApp:()=>Yr,getApp:()=>Wa,getApps:()=>Za,initializeApp:()=>El,onLog:()=>oa,registerVersion:()=>Es,setLogLevel:()=>It});var I=Je(861),Ce=Je(537),H=Je(879),We=Je(58);const In=($,L)=>L.some(oe=>$ instanceof oe);let et,Vn;const te=new WeakMap,ae=new WeakMap,Te=new WeakMap,st=new WeakMap,Tt=new WeakMap;let it={get($,L,oe){if($ instanceof IDBTransaction){if("done"===L)return ae.get($);if("objectStoreNames"===L)return $.objectStoreNames||Te.get($);if("store"===L)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return sn($[L])},set:($,L,oe)=>($[L]=oe,!0),has:($,L)=>$ instanceof IDBTransaction&&("done"===L||"store"===L)||L in $};function xi($){return"function"==typeof $?function Kn($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ft(){return Vn||(Vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...L){return $.apply(Dt(this),L),sn(te.get(this))}:function(...L){return sn($.apply(Dt(this),L))}:function(L,...oe){const ke=$.call(Dt(this),L,...oe);return Te.set(ke,L.sort?L.sort():[L]),sn(ke)}}($):($ instanceof IDBTransaction&&function Lt($){if(ae.has($))return;const L=new Promise((oe,ke)=>{const De=()=>{$.removeEventListener("complete",mt),$.removeEventListener("error",At),$.removeEventListener("abort",At)},mt=()=>{oe(),De()},At=()=>{ke($.error||new DOMException("AbortError","AbortError")),De()};$.addEventListener("complete",mt),$.addEventListener("error",At),$.addEventListener("abort",At)});ae.set($,L)}($),In($,function Ii(){return et||(et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,it):$)}function sn($){if($ instanceof IDBRequest)return function Zn($){const L=new Promise((oe,ke)=>{const De=()=>{$.removeEventListener("success",mt),$.removeEventListener("error",At)},mt=()=>{oe(sn($.result)),De()},At=()=>{ke($.error),De()};$.addEventListener("success",mt),$.addEventListener("error",At)});return L.then(oe=>{oe instanceof IDBCursor&&te.set(oe,$)}).catch(()=>{}),Tt.set(L,$),L}($);if(st.has($))return st.get($);const L=xi($);return L!==$&&(st.set($,L),Tt.set(L,$)),L}const Dt=$=>Tt.get($),ht=["get","getKey","getAll","getAllKeys","count"],pi=["put","add","delete","clear"],ee=new Map;function xn($,L){if(!($ instanceof IDBDatabase)||L in $||"string"!=typeof L)return;if(ee.get(L))return ee.get(L);const oe=L.replace(/FromIndex$/,""),ke=L!==oe,De=pi.includes(oe);if(!(oe in(ke?IDBIndex:IDBObjectStore).prototype)||!De&&!ht.includes(oe))return;const mt=function(){var At=(0,I.Z)(function*(_i,...On){const Xo=this.transaction(_i,De?"readwrite":"readonly");let Qa=Xo.store;return ke&&(Qa=Qa.index(On.shift())),(yield Promise.all([Qa[oe](...On),De&&Xo.done]))[0]});return function(On){return At.apply(this,arguments)}}();return ee.set(L,mt),mt}!function ut($){it=$(it)}($=>({...$,get:(L,oe,ke)=>xn(L,oe)||$.get(L,oe,ke),has:(L,oe)=>!!xn(L,oe)||$.has(L,oe)}));class Cn{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Fr($){const L=$.getComponent();return"VERSION"===L?.type}(oe)){const ke=oe.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(oe=>oe).join(" ")}}const $o="@firebase/app",Xi=new H.Yd("@firebase/app"),gr="[DEFAULT]",wl={[$o]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_r=new Map,Wo=new Map;function vo($,L){try{$.container.addComponent(L)}catch(oe){Xi.debug(`Component ${L.name} failed to register with FirebaseApp ${$.name}`,oe)}}function Ji($,L){$.container.addOrOverwriteComponent(L)}function yo($){const L=$.name;if(Wo.has(L))return Xi.debug(`There were multiple attempts to register component ${L}.`),!1;Wo.set(L,$);for(const oe of _r.values())vo(oe,$);return!0}function bs($,L){const oe=$.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),$.container.getProvider(L)}function ws($,L,oe=gr){bs($,L).clearInstance(oe)}function Zo(){Wo.clear()}const Vr=new We.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(L,oe,ke){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const Qo="10.6.0";function El($,L={}){let oe=$;"object"!=typeof L&&(L={name:L});const ke=Object.assign({name:gr,automaticDataCollectionEnabled:!1},L),De=ke.name;if("string"!=typeof De||!De)throw Vr.create("bad-app-name",{appName:String(De)});if(oe||(oe=(0,We.aH)()),!oe)throw Vr.create("no-options");const mt=_r.get(De);if(mt){if((0,We.vZ)(oe,mt.options)&&(0,We.vZ)(ke,mt.config))return mt;throw Vr.create("duplicate-app",{appName:De})}const At=new Ce.H0(De);for(const On of Wo.values())At.addComponent(On);const _i=new Ci(oe,ke,At);return _r.set(De,_i),_i}function Wa($=gr){const L=_r.get($);if(!L&&$===gr&&(0,We.aH)())return El();if(!L)throw Vr.create("no-app",{appName:$});return L}function Za(){return Array.from(_r.values())}function Yr($){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,I.Z)(function*($){const L=$.name;_r.has(L)&&(_r.delete(L),yield Promise.all($.container.getProviders().map(oe=>oe.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Es($,L,oe){var ke;let De=null!==(ke=wl[$])&&void 0!==ke?ke:$;oe&&(De+=`-${oe}`);const mt=De.match(/\s|\//),At=L.match(/\s|\//);if(mt||At){const _i=[`Unable to register library "${De}" with version "${L}":`];return mt&&_i.push(`library name "${De}" contains illegal characters (whitespace or "/")`),mt&&At&&_i.push("and"),At&&_i.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void Xi.warn(_i.join(" "))}yo(new Ce.wA(`${De}-version`,()=>({library:De,version:L}),"VERSION"))}function oa($,L){if(null!==$&&"function"!=typeof $)throw Vr.create("invalid-log-argument");(0,H.Am)($,L)}function It($){(0,H.Ub)($)}const Ka="firebase-heartbeat-database",Il=1,D="firebase-heartbeat-store";let C=null;function T(){return C||(C=function Vt($,L,{blocked:oe,upgrade:ke,blocking:De,terminated:mt}={}){const At=indexedDB.open($,L),_i=sn(At);return ke&&At.addEventListener("upgradeneeded",On=>{ke(sn(At.result),On.oldVersion,On.newVersion,sn(At.transaction),On)}),oe&&At.addEventListener("blocked",On=>oe(On.oldVersion,On.newVersion,On)),_i.then(On=>{mt&&On.addEventListener("close",()=>mt()),De&&On.addEventListener("versionchange",Xo=>De(Xo.oldVersion,Xo.newVersion,Xo))}).catch(()=>{}),_i}(Ka,Il,{upgrade:($,L)=>{0===L&&$.createObjectStore(D)}}).catch($=>{throw Vr.create("idb-open",{originalErrorMessage:$.message})})),C}function F(){return(F=(0,I.Z)(function*($){try{return yield(yield T()).transaction(D).objectStore(D).get(ft($))}catch(L){if(L instanceof We.ZR)Xi.warn(L.message);else{const oe=Vr.create("idb-get",{originalErrorMessage:L?.message});Xi.warn(oe.message)}}})).apply(this,arguments)}function de($,L){return be.apply(this,arguments)}function be(){return(be=(0,I.Z)(function*($,L){try{const ke=(yield T()).transaction(D,"readwrite");yield ke.objectStore(D).put(L,ft($)),yield ke.done}catch(oe){if(oe instanceof We.ZR)Xi.warn(oe.message);else{const ke=Vr.create("idb-set",{originalErrorMessage:oe?.message});Xi.warn(ke.message)}}})).apply(this,arguments)}function ft($){return`${$.name}!${$.options.appId}`}class Un{constructor(L){this.container=L,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new bo(oe),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var L=this;return(0,I.Z)(function*(){var oe;const De=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=at();if(null==(null===(oe=L._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)&&(L._heartbeatsCache=yield L._heartbeatsCachePromise),L._heartbeatsCache.lastSentHeartbeatDate!==mt&&!L._heartbeatsCache.heartbeats.some(At=>At.date===mt))return L._heartbeatsCache.heartbeats.push({date:mt,agent:De}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(At=>{const _i=new Date(At.date).valueOf();return Date.now()-_i<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,I.Z)(function*(){var oe;if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null==(null===(oe=L._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||0===L._heartbeatsCache.heartbeats.length)return"";const ke=at(),{heartbeatsToSend:De,unsentEntries:mt}=function Ui($,L=1024){const oe=[];let ke=$.slice();for(const De of $){const mt=oe.find(At=>At.agent===De.agent);if(mt){if(mt.dates.push(De.date),Yo(oe)>L){mt.dates.pop();break}}else if(oe.push({agent:De.agent,dates:[De.date]}),Yo(oe)>L){oe.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:oe,unsentEntries:ke}}(L._heartbeatsCache.heartbeats),At=(0,We.L)(JSON.stringify({version:2,heartbeats:De}));return L._heartbeatsCache.lastSentHeartbeatDate=ke,mt.length>0?(L._heartbeatsCache.heartbeats=mt,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),At})()}}function at(){return(new Date).toISOString().substring(0,10)}class bo{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,We.hl)()&&(0,We.eu)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,I.Z)(function*(){return(yield L._canUseIndexedDBPromise)&&(yield function Z($){return F.apply(this,arguments)}(L.app))||{heartbeats:[]}})()}overwrite(L){var oe=this;return(0,I.Z)(function*(){var ke;if(yield oe._canUseIndexedDBPromise){const mt=yield oe.read();return de(oe.app,{lastSentHeartbeatDate:null!==(ke=L.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var oe=this;return(0,I.Z)(function*(){var ke;if(yield oe._canUseIndexedDBPromise){const mt=yield oe.read();return de(oe.app,{lastSentHeartbeatDate:null!==(ke=L.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...L.heartbeats]})}})()}}function Yo($){return(0,We.L)(JSON.stringify({version:2,heartbeats:$})).length}!function uu($){yo(new Ce.wA("platform-logger",L=>new Cn(L),"PRIVATE")),yo(new Ce.wA("heartbeat",L=>new Un(L),"PRIVATE")),Es($o,"0.9.23",$),Es($o,"0.9.23","esm2017"),Es("fire-js","")}("")},537:(Ho,mi,Je)=>{Je.d(mi,{H0:()=>Ii,wA:()=>H});var I=Je(861),Ce=Je(58);class H{constructor(te,ae,Te){this.name=te,this.instanceFactory=ae,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const We="[DEFAULT]";class In{constructor(te,ae){this.name=te,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ae=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ae)){const Te=new Ce.BH;if(this.instancesDeferred.set(ae,Te),this.isInitialized(ae)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ae});st&&Te.resolve(st)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(te){var ae;const Te=this.normalizeInstanceIdentifier(te?.identifier),st=null!==(ae=te?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Tt){if(st)return null;throw Tt}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Vn(Ft){return"EAGER"===Ft.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:We})}catch{}for(const[ae,Te]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ae);try{const Tt=this.getOrInitializeService({instanceIdentifier:st});Te.resolve(Tt)}catch{}}}}clearInstance(te=We){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,I.Z)(function*(){const ae=Array.from(te.instances.values());yield Promise.all([...ae.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ae.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=We){return this.instances.has(te)}getOptions(te=We){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ae={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:Te,options:ae});for(const[Tt,Zn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Tt)&&Zn.resolve(st);return st}onInit(te,ae){var Te;const st=this.normalizeInstanceIdentifier(ae),Tt=null!==(Te=this.onInitCallbacks.get(st))&&void 0!==Te?Te:new Set;Tt.add(te),this.onInitCallbacks.set(st,Tt);const Zn=this.instances.get(st);return Zn&&te(Zn,st),()=>{Tt.delete(te)}}invokeOnInitCallbacks(te,ae){const Te=this.onInitCallbacks.get(ae);if(Te)for(const st of Te)try{st(te,ae)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ae={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ft=te,Ft===We?void 0:Ft),options:ae}),this.instances.set(te,Te),this.instancesOptions.set(te,ae),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch{}var Ft;return Te||null}normalizeInstanceIdentifier(te=We){return this.component?this.component.multipleInstances?te:We:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ii{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ae=this.getProvider(te.name);if(ae.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ae.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ae=new In(te,this);return this.providers.set(te,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:(Ho,mi,Je)=>{Je.d(mi,{Am:()=>Ft,Ub:()=>Ii,Yd:()=>Vn,in:()=>Ce});const I=[];var Ce=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(Ce||{});const H={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},We=Ce.INFO,In={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},et=(te,ae,...Te)=>{if(ae<te.logLevel)return;const st=(new Date).toISOString(),Tt=In[ae];if(!Tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Tt](`[${st}]  ${te.name}:`,...Te)};class Vn{constructor(ae){this.name=ae,this._logLevel=We,this._logHandler=et,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in Ce))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?H[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...ae),this._logHandler(this,Ce.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...ae),this._logHandler(this,Ce.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...ae),this._logHandler(this,Ce.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...ae),this._logHandler(this,Ce.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...ae),this._logHandler(this,Ce.ERROR,...ae)}}function Ii(te){I.forEach(ae=>{ae.setLogLevel(te)})}function Ft(te,ae){for(const Te of I){let st=null;ae&&ae.level&&(st=H[ae.level]),Te.userLogHandler=null===te?null:(Tt,Zn,...Lt)=>{const it=Lt.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");Zn>=(st??Tt.logLevel)&&te({level:Ce[Zn].toLowerCase(),message:it,args:Lt,type:Tt.name})}}}},956:(Ho,mi,Je)=>{Je.r(mi);var I=Je(861),Ce=Je(106),H=Je(58),We=Je(534),In=Je(879),et=Je(582),Vn=Je(537);const Ft={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Zn=function st(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Lt=function Tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kn=new In.Yd("@firebase/auth");function sn(f,...l){Kn.logLevel<=In.in.ERROR&&Kn.error(`Auth (${We.SDK_VERSION}): ${f}`,...l)}function Dt(f,...l){throw pi(f,...l)}function Vt(f,...l){return pi(f,...l)}function Bi(f,l,u){const m=Object.assign(Object.assign({},Lt()),{[l]:u});return new H.LL("auth","Firebase",m).create(l,{appName:f.name})}function ht(f,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&Dt(f,"argument-error"),Bi(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pi(f,...l){if("string"!=typeof f){const u=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(u,...m)}return it.create(f,...l)}function ee(f,l,...u){if(!f)throw pi(l,...u)}function xn(f){const l="INTERNAL ASSERTION FAILED: "+f;throw sn(l),new Error(l)}function Cn(f,l){f||xn(l)}function Fr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function $o(){return"http:"===_o()||"https:"===_o()}function _o(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Lr{constructor(l,u){this.shortDelay=l,this.longDelay=u,Cn(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Xi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($o()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function B(f,l){Cn(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class z{static initialize(l,u,m){this.fetchImpl=l,u&&(this.headersImpl=u),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},W=new Lr(3e4,6e4);function ne(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function J(f,l,u,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,I.Z)(function*(f,l,u,m,_={}){return _t(f,_,(0,I.Z)(function*(){let y={},x={};m&&("GET"===l?x=m:y={body:JSON.stringify(m)});const M=(0,H.xO)(Object.assign({key:f.config.apiKey},x)).slice(1),G=yield f._getAdditionalHeaders();return G["Content-Type"]="application/json",f.languageCode&&(G["X-Firebase-Locale"]=f.languageCode),z.fetch()(Pn(f,f.config.apiHost,u,M),Object.assign({method:l,headers:G,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function _t(f,l,u){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,I.Z)(function*(f,l,u){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},Q),l);try{const _=new gi(f),y=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const x=yield y.json();if("needConfirmation"in x)throw Qn(f,"account-exists-with-different-credential",x);if(y.ok&&!("errorMessage"in x))return x;{const M=y.ok?x.errorMessage:x.error.message,[G,me]=M.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===G)throw Qn(f,"credential-already-in-use",x);if("EMAIL_EXISTS"===G)throw Qn(f,"email-already-in-use",x);if("USER_DISABLED"===G)throw Qn(f,"user-disabled",x);const ye=m[G]||G.toLowerCase().replace(/[_\s]+/g,"-");if(me)throw Bi(f,ye,me);Dt(f,ye)}}catch(_){if(_ instanceof H.ZR)throw _;Dt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ne(f,l,u,m){return St.apply(this,arguments)}function St(){return(St=(0,I.Z)(function*(f,l,u,m,_={}){const y=yield J(f,l,u,m,_);return"mfaPendingCredential"in y&&Dt(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function Pn(f,l,u,m){const _=`${l}${u}?${m}`;return f.config.emulator?B(f.config,_):`${f.config.apiScheme}://${_}`}function Fe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,m)=>{this.timer=setTimeout(()=>m(Vt(this.auth,"network-request-failed")),W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(f,l,u){const m={appName:f.name};u.email&&(m.email=u.email),u.phoneNumber&&(m.phoneNumber=u.phoneNumber);const _=Vt(f,l,m);return _.customData._tokenResponse=u,_}function oi(f){return void 0!==f&&void 0!==f.getResponse}function Rt(f){return void 0!==f&&void 0!==f.enterprise}class mr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Fe(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function qo(){return(qo=(0,I.Z)(function*(f){return(yield J(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pr(f,l){return Go.apply(this,arguments)}function Go(){return(Go=(0,I.Z)(function*(f,l){return J(f,"GET","/v2/recaptchaConfig",ne(f,l))})).apply(this,arguments)}function gr(){return(gr=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function _r(){return(_r=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function vo(){return(vo=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Ji(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function ws(){return(ws=(0,I.Z)(function*(f,l=!1){const u=(0,H.m9)(f),m=yield u.getIdToken(l),_=Ko(m);ee(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,x=y?.sign_in_provider;return{claims:_,token:m,authTime:Ji(Zo(_.auth_time)),issuedAtTime:Ji(Zo(_.iat)),expirationTime:Ji(Zo(_.exp)),signInProvider:x||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Zo(f){return 1e3*Number(f)}function Ko(f){const[l,u,m]=f.split(".");if(void 0===l||void 0===u||void 0===m)return sn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,H.tV)(u);return _?JSON.parse(_):(sn("Failed to decode base64 JWT payload"),null)}catch(_){return sn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ci(f,l){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,I.Z)(function*(f,l,u=!1){if(u)return l;try{return yield l}catch(m){throw m instanceof H.ZR&&function El({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class Wa{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,I.Z)(function*(){yield u.iteration()}),m)}iteration(){var l=this;return(0,I.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Za{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yr(f){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,I.Z)(function*(f){var l;const u=f.auth,m=yield f.getIdToken(),_=yield Ci(f,function Wo(f,l){return vo.apply(this,arguments)}(u,{idToken:m}));ee(_?.users.length,u,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const x=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Ka(f){return f.map(l=>{var{providerId:u}=l,m=(0,et._T)(l,["providerId"]);return{providerId:u,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],M=function It(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,x),ye=!!f.isAnonymous&&!(f.email&&y.passwordHash||M?.length),we={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:M,metadata:new Za(y.createdAt,y.lastLoginAt),isAnonymous:ye};Object.assign(f,we)}),Ti.apply(this,arguments)}function oa(){return(oa=(0,I.Z)(function*(f){const l=(0,H.m9)(f);yield Yr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,I.Z)(function*(f,l){const u=yield _t(f,{},(0,I.Z)(function*(){const m=(0,H.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,x=Pn(f,_,"/v1/token",`key=${y}`),M=yield f._getAdditionalHeaders();return M["Content-Type"]="application/x-www-form-urlencoded",z.fetch()(x,{method:"POST",headers:M,body:m})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function T(){return(T=(0,I.Z)(function*(f,l){return J(f,"POST","/v2/accounts:revokeToken",ne(f,l))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ee(l.idToken,"internal-error"),ee(typeof l.idToken<"u","internal-error"),ee(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Vr(f){const l=Ko(f);return ee(l,"internal-error"),ee(typeof l.exp<"u","internal-error"),ee(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var m=this;return(0,I.Z)(function*(){return ee(!m.accessToken||m.refreshToken,l,"user-token-expired"),u||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var m=this;return(0,I.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:x}=yield function Il(f,l){return D.apply(this,arguments)}(l,u);m.updateTokensAndExpiration(_,y,Number(x))})()}updateTokensAndExpiration(l,u,m){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,u){const{refreshToken:m,accessToken:_,expirationTime:y}=u,x=new Z;return m&&(ee("string"==typeof m,"internal-error",{appName:l}),x.refreshToken=m),_&&(ee("string"==typeof _,"internal-error",{appName:l}),x.accessToken=_),y&&(ee("number"==typeof y,"internal-error",{appName:l}),x.expirationTime=y),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return xn("not implemented")}}function F(f,l){ee("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class de{constructor(l){var{uid:u,auth:m,stsTokenManager:_}=l,y=(0,et._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Za(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,I.Z)(function*(){const m=yield Ci(u,u.stsTokenManager.getToken(u.auth,l));return ee(m,u.auth,"internal-error"),u.accessToken!==m&&(u.accessToken=m,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),m})()}getIdTokenResult(l){return function bs(f){return ws.apply(this,arguments)}(this,l)}reload(){return function Es(f){return oa.apply(this,arguments)}(this)}_assign(l){this!==l&&(ee(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new de(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var m=this;return(0,I.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),u&&(yield Yr(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,I.Z)(function*(){const u=yield l.getIdToken();return yield Ci(l,function Ga(f,l){return gr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var m,_,y,x,M,G,me,ye;const we=null!==(m=u.displayName)&&void 0!==m?m:void 0,vn=null!==(_=u.email)&&void 0!==_?_:void 0,Mo=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,td=null!==(x=u.photoURL)&&void 0!==x?x:void 0,sy=null!==(M=u.tenantId)&&void 0!==M?M:void 0,ay=null!==(G=u._redirectEventId)&&void 0!==G?G:void 0,cy=null!==(me=u.createdAt)&&void 0!==me?me:void 0,ly=null!==(ye=u.lastLoginAt)&&void 0!==ye?ye:void 0,{uid:rp,emailVerified:Ia,isAnonymous:op,providerData:nd,stsTokenManager:id}=u;ee(rp&&id,l,"internal-error");const sp=Z.fromJSON(this.name,id);ee("string"==typeof rp,l,"internal-error"),F(we,l.name),F(vn,l.name),ee("boolean"==typeof Ia,l,"internal-error"),ee("boolean"==typeof op,l,"internal-error"),F(Mo,l.name),F(td,l.name),F(sy,l.name),F(ay,l.name),F(cy,l.name),F(ly,l.name);const ap=new de({uid:rp,auth:l,email:vn,emailVerified:Ia,displayName:we,isAnonymous:op,photoURL:td,phoneNumber:Mo,tenantId:sy,stsTokenManager:sp,createdAt:cy,lastLoginAt:ly});return nd&&Array.isArray(nd)&&(ap.providerData=nd.map(dy=>Object.assign({},dy))),ay&&(ap._redirectEventId=ay),ap}static _fromIdTokenResponse(l,u,m=!1){return(0,I.Z)(function*(){const _=new Z;_.updateFromServerResponse(u);const y=new de({uid:u.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield Yr(y),y})()}}const be=new Map;function ft(f){Cn(f instanceof Function,"Expected a class definition");let l=be.get(f);return l?(Cn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,be.set(f,l),l)}const Zt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(u,m){var _=this;return(0,I.Z)(function*(){_.storage[u]=m})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=m.storage[u];return void 0===_?null:_})()}_remove(u){var m=this;return(0,I.Z)(function*(){delete m.storage[u]})()}_addListener(u,m){}_removeListener(u,m){}}return f.type="NONE",f})();function Un(f,l,u){return`firebase:${f}:${l}:${u}`}class at{constructor(l,u,m){this.persistence=l,this.auth=u,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=Un(this.userKey,_.apiKey,y),this.fullPersistenceKey=Un("persistence",_.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,I.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?de._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,I.Z)(function*(){if(u.persistence===l)return;const m=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,m?u.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,m="authUser"){return(0,I.Z)(function*(){if(!u.length)return new at(ft(Zt),l,m);const _=(yield Promise.all(u.map(function(){var me=(0,I.Z)(function*(ye){if(yield ye._isAvailable())return ye});return function(ye){return me.apply(this,arguments)}}()))).filter(me=>me);let y=_[0]||ft(Zt);const x=Un(m,l.config.apiKey,l.name);let M=null;for(const me of u)try{const ye=yield me._get(x);if(ye){const we=de._fromJSON(l,ye);me!==y&&(M=we),y=me;break}}catch{}const G=_.filter(me=>me._shouldAllowMigration);return y._shouldAllowMigration&&G.length?(y=G[0],M&&(yield y._set(x,M.toJSON())),yield Promise.all(u.map(function(){var me=(0,I.Z)(function*(ye){if(ye!==y)try{yield ye._remove(x)}catch{}});return function(ye){return me.apply(this,arguments)}}())),new at(y,l,m)):new at(y,l,m)})()}}function Ui(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if($(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(bo(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(oe(l))return"Blackberry";if(ke(l))return"Webos";if(Yo(l))return"Safari";if((l.includes("chrome/")||uu(l))&&!l.includes("edge/"))return"Chrome";if(L(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function bo(f=(0,H.z$)()){return/firefox\//i.test(f)}function Yo(f=(0,H.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function uu(f=(0,H.z$)()){return/crios\//i.test(f)}function $(f=(0,H.z$)()){return/iemobile/i.test(f)}function L(f=(0,H.z$)()){return/android/i.test(f)}function oe(f=(0,H.z$)()){return/blackberry/i.test(f)}function ke(f=(0,H.z$)()){return/webos/i.test(f)}function De(f=(0,H.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function On(f=(0,H.z$)()){return De(f)||L(f)||ke(f)||oe(f)||/windows phone/i.test(f)||$(f)}function Qa(f,l=[]){let u;switch(f){case"Browser":u=Ui((0,H.z$)());break;case"Worker":u=`${Ui((0,H.z$)())}-${f}`;break;default:u=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${We.SDK_VERSION}/${m}`}class ME{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const m=y=>new Promise((x,M)=>{try{x(l(y))}catch(G){M(G)}});m.onAbort=u,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,I.Z)(function*(){if(u.auth.currentUser===l)return;const m=[];try{for(const _ of u.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Kf(){return(Kf=(0,I.Z)(function*(f,l={}){return J(f,"GET","/v2/passwordPolicy",ne(f,l))})).apply(this,arguments)}class Ya{constructor(l){var u,m,_,y;const x=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=x.minPasswordLength)&&void 0!==u?u:6,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),void 0!==x.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),void 0!==x.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),void 0!==x.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),void 0!==x.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,m,_,y,x,M;const G={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,G),this.validatePasswordCharacterOptions(l,G),G.isValid&&(G.isValid=null===(u=G.meetsMinPasswordLength)||void 0===u||u),G.isValid&&(G.isValid=null===(m=G.meetsMaxPasswordLength)||void 0===m||m),G.isValid&&(G.isValid=null===(_=G.containsLowercaseLetter)||void 0===_||_),G.isValid&&(G.isValid=null===(y=G.containsUppercaseLetter)||void 0===y||y),G.isValid&&(G.isValid=null===(x=G.containsNumericCharacter)||void 0===x||x),G.isValid&&(G.isValid=null===(M=G.containsNonAlphanumericCharacter)||void 0===M||M),G}validatePasswordLengthOptions(l,u){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(u.meetsMinPasswordLength=l.length>=m),_&&(u.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,u){let m;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,u,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class wo{constructor(l,u,m,_){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new ME(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,u){var m=this;return u&&(this._popupRedirectResolver=ft(u)),this._initializationPromise=this.queue((0,I.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield at.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(u),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,I.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,I.Z)(function*(){var m;const _=yield u.assertedPersistence.getCurrentUser();let y=_,x=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const M=null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId,G=y?._redirectEventId,me=yield u.tryRedirectSignIn(l);(!M||M===G)&&me?.user&&(y=me.user,x=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(x)try{yield u.beforeStateQueue.runMiddleware(y)}catch(M){y=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(M))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return ee(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var u=this;return(0,I.Z)(function*(){let m=null;try{m=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,I.Z)(function*(){try{yield Yr(l)}catch(m){if("auth/network-request-failed"!==m?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function qa(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,I.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,I.Z)(function*(){const m=l?(0,H.m9)(l):null;return m&&ee(m.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(m&&m._clone(u))})()}_updateCurrentUser(l,u=!1){var m=this;return(0,I.Z)(function*(){if(!m._deleted)return l&&ee(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),u||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,I.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,I.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,I.Z)(function*(){yield u.assertedPersistence.setPersistence(ft(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,I.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const m=u._getPasswordPolicyInternal();return m.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,I.Z)(function*(){const u=yield function Jo(f){return Kf.apply(this,arguments)}(l),m=new Ya(u);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new H.LL("auth","Firebase",l())}onAuthStateChanged(l,u,m){return this.registerStateListener(this.authStateSubscription,l,u,m)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,m){return this.registerStateListener(this.idTokenSubscription,l,u,m)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,I.Z)(function*(){if(u.currentUser){const m=yield u.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:m};null!=u.tenantId&&(_.tenantId=u.tenantId),yield function C(f,l){return T.apply(this,arguments)}(u,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var m=this;return(0,I.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(u);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,I.Z)(function*(){if(!u.redirectPersistenceManager){const m=l&&ft(l)||u._popupRedirectResolver;ee(m,u,"argument-error"),u.redirectPersistenceManager=yield at.create(u,[ft(m._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,I.Z)(function*(){var m,_;return u._isInitialized&&(yield u.queue((0,I.Z)(function*(){}))),(null===(m=u._currentUser)||void 0===m?void 0:m._redirectEventId)===l?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,I.Z)(function*(){if(l===u.currentUser)return u.queue((0,I.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,m,_){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let x=!1;const M=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(M,this,"internal-error"),M.then(()=>{x||y(this.currentUser)}),"function"==typeof u){const G=l.addObserver(u,m,_);return()=>{x=!0,G()}}{const G=l.addObserver(u);return()=>{x=!0,G()}}}directlySetCurrentUser(l){var u=this;return(0,I.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Qa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,I.Z)(function*(){var u;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,I.Z)(function*(){var u;const m=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return m?.error&&function xi(f,...l){Kn.logLevel<=In.in.WARN&&Kn.warn(`Auth (${We.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function un(f){return(0,H.m9)(f)}class X_{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,H.ne)(u=>this.observer=u)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xl(f){return new Promise((l,u)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=Vt("internal-error");y.customData=_,u(y)},m.type="text/javascript",m.charset="UTF-8",function J_(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function Qf(f){return`__${f}${Math.floor(1e6*Math.random())}`}class aa{constructor(l){this.type="recaptcha-enterprise",this.auth=un(l)}verify(l="verify",u=!1){var m=this;return(0,I.Z)(function*(){function y(){return y=(0,I.Z)(function*(M){if(!u){if(null==M.tenantId&&null!=M._agentRecaptchaConfig)return M._agentRecaptchaConfig.siteKey;if(null!=M.tenantId&&void 0!==M._tenantRecaptchaConfigs[M.tenantId])return M._tenantRecaptchaConfigs[M.tenantId].siteKey}return new Promise(function(){var G=(0,I.Z)(function*(me,ye){pr(M,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(we=>{if(void 0!==we.recaptchaKey){const vn=new mr(we);return null==M.tenantId?M._agentRecaptchaConfig=vn:M._tenantRecaptchaConfigs[M.tenantId]=vn,me(vn.siteKey)}ye(new Error("recaptcha Enterprise site key undefined"))}).catch(we=>{ye(we)})});return function(me,ye){return G.apply(this,arguments)}}())}),y.apply(this,arguments)}function x(M,G,me){const ye=window.grecaptcha;Rt(ye)?ye.enterprise.ready(()=>{ye.enterprise.execute(M,{action:l}).then(we=>{G(we)}).catch(()=>{G("NO_RECAPTCHA")})}):me(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((M,G)=>{(function _(M){return y.apply(this,arguments)})(m.auth).then(me=>{if(!u&&Rt(window.grecaptcha))x(me,M,G);else{if(typeof window>"u")return void G(new Error("RecaptchaVerifier is only supported in browser"));xl("https://www.google.com/recaptcha/enterprise.js?render="+me).then(()=>{x(me,M,G)}).catch(ye=>{G(ye)})}}).catch(me=>{G(me)})})})()}}function ev(f,l,u){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,I.Z)(function*(f,l,u,m=!1){const _=new aa(f);let y;try{y=yield _.verify(u)}catch{y=yield _.verify(u,!0)}const x=Object.assign({},l);return Object.assign(x,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}function Tl(f,l,u,m){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,I.Z)(function*(f,l,u,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield ev(f,l,u,"getOobCode"===u);return m(f,y)}return m(f,l).catch(function(){var y=(0,I.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const M=yield ev(f,l,u,"getOobCode"===u);return m(f,M)}return Promise.reject(x)});return function(x){return y.apply(this,arguments)}}())}),Xf.apply(this,arguments)}function er(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function Dl(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Bt{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return xn("not implemented")}_getIdTokenResponse(l){return xn("not implemented")}_linkToIdToken(l,u){return xn("not implemented")}_getReauthenticationResolver(l){return xn("not implemented")}}function Sl(f,l){return tm.apply(this,arguments)}function tm(){return(tm=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:resetPassword",ne(f,l))})).apply(this,arguments)}function Ja(){return(Ja=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function jn(f,l){return Al.apply(this,arguments)}function Al(){return(Al=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function nm(){return(nm=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",ne(f,l))})).apply(this,arguments)}function jt(f,l){return je.apply(this,arguments)}function je(){return(je=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithPassword",ne(f,l))})).apply(this,arguments)}function ca(f,l){return kl.apply(this,arguments)}function kl(){return(kl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendOobCode",ne(f,l))})).apply(this,arguments)}function hu(){return(hu=(0,I.Z)(function*(f,l){return ca(f,l)})).apply(this,arguments)}function j(f,l){return Is.apply(this,arguments)}function Is(){return(Is=(0,I.Z)(function*(f,l){return ca(f,l)})).apply(this,arguments)}function Ml(f,l){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,I.Z)(function*(f,l){return ca(f,l)})).apply(this,arguments)}function fu(){return(fu=(0,I.Z)(function*(f,l){return ca(f,l)})).apply(this,arguments)}function la(){return(la=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}function Ze(){return(Ze=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}class yt extends Bt{constructor(l,u,m,_=null){super("password",m),this._email=l,this._password=u,this._tenantId=_}static _fromEmailAndPassword(l,u){return new yt(l,u,"password")}static _fromEmailAndCode(l,u,m=null){return new yt(l,u,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,I.Z)(function*(){switch(u.signInMethod){case"password":return Tl(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",jt);case"emailLink":return function es(f,l){return la.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:Dt(l,"internal-error")}})()}_linkToIdToken(l,u){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return Tl(l,{idToken:u,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jn);case"emailLink":return function nv(f,l){return Ze.apply(this,arguments)}(l,{idToken:u,email:m._email,oobCode:m._password});default:Dt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function xs(f,l){return rm.apply(this,arguments)}function rm(){return(rm=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithIdp",ne(f,l))})).apply(this,arguments)}class ts extends Bt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new ts(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):Dt("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=u,y=(0,et._T)(u,["providerId","signInMethod"]);if(!m||!_)return null;const x=new ts(m,_);return x.idToken=y.idToken||void 0,x.accessToken=y.accessToken||void 0,x.secret=y.secret,x.nonce=y.nonce,x.pendingToken=y.pendingToken||null,x}_getIdTokenResponse(l){return xs(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,xs(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,xs(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,H.xO)(u)}return l}}function Pl(){return(Pl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendVerificationCode",ne(f,l))})).apply(this,arguments)}function iv(){return(iv=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l))})).apply(this,arguments)}function rv(){return(rv=(0,I.Z)(function*(f,l){const u=yield Ne(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l));if(u.temporaryProof)throw Qn(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Cs={USER_NOT_FOUND:"user-not-found"};function ov(){return(ov=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Cs)})).apply(this,arguments)}class ec extends Bt{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new ec({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new ec({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function vr(f,l){return iv.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function FE(f,l){return rv.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function CM(f,l){return ov.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:m,verificationCode:_}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||u||_||y?new ec({verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class mu{constructor(l){var u,m,_,y,x,M;const G=(0,H.zd)((0,H.pd)(l)),me=null!==(u=G.apiKey)&&void 0!==u?u:null,ye=null!==(m=G.oobCode)&&void 0!==m?m:null,we=function TM(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=G.mode)&&void 0!==_?_:null);ee(me&&ye&&we,"argument-error"),this.apiKey=me,this.operation=we,this.code=ye,this.continueUrl=null!==(y=G.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(x=G.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(M=G.tenantId)&&void 0!==M?M:null}static parseLink(l){const u=function LE(f){const l=(0,H.zd)((0,H.pd)(f)).link,u=l?(0,H.zd)((0,H.pd)(l)).deep_link_id:null,m=(0,H.zd)((0,H.pd)(f)).deep_link_id;return(m?(0,H.zd)((0,H.pd)(m)).link:null)||m||u||l||f}(l);try{return new mu(u)}catch{return null}}}let sv=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,m){return yt._fromEmailAndPassword(u,m)}static credentialWithLink(u,m){const _=mu.parseLink(m);return ee(_,"argument-error"),yt._fromEmailAndCode(u,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Tn{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Le extends Tn{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Ol extends Le{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return ee("providerId"in u&&"signInMethod"in u,"argument-error"),ts._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ee(l.idToken||l.accessToken,"argument-error"),ts._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Ol.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Ol.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:x,providerId:M}=l;if(!m&&!_&&!u&&!y||!M)return null;try{return new Ol(M)._credential({idToken:u,accessToken:m,nonce:x,pendingToken:y})}catch{return null}}}let VE=(()=>{class f extends Le{constructor(){super("facebook.com")}static credential(u){return ts._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),BE=(()=>{class f extends Le{constructor(){super("google.com"),this.addScope("profile")}static credential(u,m){return ts._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_}=u;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),UE=(()=>{class f extends Le{constructor(){super("github.com")}static credential(u){return ts._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Nl extends Bt{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return xs(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,xs(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,xs(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=u;return m&&_&&y&&m===_?new Nl(m,y):null}static _create(l,u){return new Nl(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class da extends Tn{constructor(l){ee(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return da.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return da.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Nl.fromJSON(l);return ee(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:m}=l;if(!u||!m)return null;try{return Nl._create(m,u)}catch{return null}}}let av=(()=>{class f extends Le{constructor(){super("twitter.com")}static credential(u,m){return ts._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=u;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function om(f,l){return sm.apply(this,arguments)}function sm(){return(sm=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signUp",ne(f,l))})).apply(this,arguments)}class ji{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,m,_=!1){return(0,I.Z)(function*(){const y=yield de._fromIdTokenResponse(l,m,_),x=Fl(m);return new ji({user:y,providerId:x,_tokenResponse:m,operationType:u})})()}static _forOperation(l,u,m){return(0,I.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=Fl(m);return new ji({user:l,providerId:_,_tokenResponse:m,operationType:u})})()}}function Fl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function pu(){return(pu=(0,I.Z)(function*(f){var l;const u=un(f);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new ji({user:u.currentUser,providerId:null,operationType:"signIn"});const m=yield om(u,{returnSecureToken:!0}),_=yield ji._fromIdTokenResponse(u,"signIn",m,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class gu extends H.ZR{constructor(l,u,m,_){var y;super(u.code,u.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,gu.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,u,m,_){return new gu(l,u,m,_)}}function pt(f,l,u,m){return("reauthenticate"===l?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?gu._fromErrorAndOperation(f,y,l,m):y})}function _u(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Di(){return Di=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f);yield zt(!0,u,l);const{providerUserInfo:m}=yield function wl(f,l){return _r.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),_=_u(m||[]);return u.providerData=u.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Di.apply(this,arguments)}function vu(f,l){return lv.apply(this,arguments)}function lv(){return(lv=(0,I.Z)(function*(f,l,u=!1){const m=yield Ci(f,l._linkToIdToken(f.auth,yield f.getIdToken()),u);return ji._forOperation(f,"link",m)})).apply(this,arguments)}function zt(f,l,u){return dv.apply(this,arguments)}function dv(){return(dv=(0,I.Z)(function*(f,l,u){yield Yr(l);const _=!1===f?"provider-already-linked":"no-such-provider";ee(_u(l.providerData).has(u)===f,l.auth,_)})).apply(this,arguments)}function jE(f,l){return X.apply(this,arguments)}function X(){return(X=(0,I.Z)(function*(f,l,u=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield Ci(f,pt(m,_,l,f),u);ee(y.idToken,m,"internal-error");const x=Ko(y.idToken);ee(x,m,"internal-error");const{sub:M}=x;return ee(f.uid===M,m,"user-mismatch"),ji._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&Dt(m,"user-mismatch"),y}})).apply(this,arguments)}function yu(f,l){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,I.Z)(function*(f,l,u=!1){const m="signIn",_=yield pt(f,m,l),y=yield ji._fromIdTokenResponse(f,m,_);return u||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function Vl(f,l){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,I.Z)(function*(f,l){return yu(un(f),l)})).apply(this,arguments)}function uv(f,l){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f);return yield zt(!1,u,l.providerId),vu(u,l)})).apply(this,arguments)}function zE(f,l){return hv.apply(this,arguments)}function hv(){return(hv=(0,I.Z)(function*(f,l){return jE((0,H.m9)(f),l)})).apply(this,arguments)}function fv(){return(fv=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithCustomToken",ne(f,l))})).apply(this,arguments)}function ua(){return ua=(0,I.Z)(function*(f,l){const u=un(f),m=yield function SM(f,l){return fv.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),_=yield ji._fromIdTokenResponse(u,"signIn",m);return yield u._updateCurrentUser(_.user),_}),ua.apply(this,arguments)}class ha{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?tc._fromServerResponse(l,u):"totpInfo"in u?cm._fromServerResponse(l,u):Dt(l,"internal-error")}}class tc extends ha{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new tc(u)}}class cm extends ha{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new cm(u)}}function bu(f,l,u){var m;ee((null===(m=u.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),ee(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ee(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(ee(u.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function lm(f){return wu.apply(this,arguments)}function wu(){return(wu=(0,I.Z)(function*(f){const l=un(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function dm(){return(dm=(0,I.Z)(function*(f,l,u){const m=un(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&bu(m,_,u),yield Tl(m,_,"getOobCode",j)})).apply(this,arguments)}function um(){return um=(0,I.Z)(function*(f,l,u){yield Sl((0,H.m9)(f),{oobCode:l,newPassword:u}).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&lm(f),_});return function(_){return m.apply(this,arguments)}}())}),um.apply(this,arguments)}function Eu(){return Eu=(0,I.Z)(function*(f,l){yield function IM(f,l){return nm.apply(this,arguments)}((0,H.m9)(f),{oobCode:l})}),Eu.apply(this,arguments)}function le(f,l){return ic.apply(this,arguments)}function ic(){return(ic=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f),m=yield Sl(u,{oobCode:l}),_=m.requestType;switch(ee(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(m.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(m.mfaInfo,u,"internal-error");default:ee(m.email,u,"internal-error")}let y=null;return m.mfaInfo&&(y=ha._fromServerResponse(un(u),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function fa(){return(fa=(0,I.Z)(function*(f,l){const{data:u}=yield le((0,H.m9)(f),l);return u.email})).apply(this,arguments)}function fm(){return(fm=(0,I.Z)(function*(f,l,u){const m=un(f),x=yield Tl(m,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",om).catch(G=>{throw"auth/password-does-not-meet-requirements"===G.code&&lm(f),G}),M=yield ji._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}function rc(){return(rc=(0,I.Z)(function*(f,l,u){const m=un(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(x,M){ee(M.handleCodeInApp,m,"argument-error"),M&&bu(m,x,M)})(_,u),yield Tl(m,_,"getOobCode",Ml)})).apply(this,arguments)}function xt(){return(xt=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),_=sv.credentialWithLink(l,u||Fr());return ee(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Vl(m,_)})).apply(this,arguments)}function jl(){return(jl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:createAuthUri",ne(f,l))})).apply(this,arguments)}function Iu(){return Iu=(0,I.Z)(function*(f,l){const m={identifier:l,continueUri:$o()?Fr():"http://localhost"},{signinMethods:_}=yield function mv(f,l){return jl.apply(this,arguments)}((0,H.m9)(f),m);return _||[]}),Iu.apply(this,arguments)}function xu(){return xu=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&bu(u.auth,_,l);const{email:y}=yield function xM(f,l){return hu.apply(this,arguments)}(u.auth,_);y!==f.email&&(yield f.reload())}),xu.apply(this,arguments)}function mm(){return mm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};u&&bu(m.auth,y,u);const{email:x}=yield function im(f,l){return fu.apply(this,arguments)}(m.auth,y);x!==f.email&&(yield f.reload())}),mm.apply(this,arguments)}function pm(){return(pm=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function yr(){return yr=(0,I.Z)(function*(f,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const m=(0,H.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},x=yield Ci(m,function _v(f,l){return pm.apply(this,arguments)}(m.auth,y));m.displayName=x.displayName||null,m.photoURL=x.photoUrl||null;const M=m.providerData.find(({providerId:G})=>"password"===G);M&&(M.displayName=m.displayName,M.photoURL=m.photoURL),yield m._updateTokensIfNecessary(x)}),yr.apply(this,arguments)}function yv(f,l,u){return gm.apply(this,arguments)}function gm(){return gm=(0,I.Z)(function*(f,l,u){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),u&&(y.password=u);const x=yield Ci(f,function Ut(f,l){return Ja.apply(this,arguments)}(m,y));yield f._updateTokensIfNecessary(x,!0)}),gm.apply(this,arguments)}class oc{constructor(l,u,m={}){this.isNewUser=l,this.providerId=u,this.profile=m}}class _m extends oc{constructor(l,u,m,_){super(l,u,m),this.username=_}}class ZE extends oc{constructor(l,u){super(l,"facebook.com",u)}}class KE extends _m{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class QE extends oc{constructor(l,u){super(l,"google.com",u)}}class Dn extends _m{constructor(l,u,m){super(l,"twitter.com",u,m)}}function YE(f){const{user:l,_tokenResponse:u}=f;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function WE(f){var l,u;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const x=null===(u=null===(l=Ko(f.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(x)return new oc(y,"anonymous"!==x&&"custom"!==x?x:null)}if(!m)return null;switch(m){case"facebook.com":return new ZE(y,_);case"github.com":return new KE(y,_);case"google.com":return new QE(y,_);case"twitter.com":return new Dn(y,_,f.screenName||null);case"custom":case"anonymous":return new oc(y,null);default:return new oc(y,m,_)}}(u)}class pa{constructor(l,u,m){this.type=l,this.credential=u,this.user=m}static _fromIdtoken(l,u){return new pa("enroll",l,u)}static _fromMfaPendingCredential(l){return new pa("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,m;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return pa._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return pa._fromIdtoken(l.multiFactorSession.idToken)}return null}}class vm{constructor(l,u,m){this.session=l,this.hints=u,this.signInResolver=m}static _fromError(l,u){const m=un(l),_=u.customData._serverResponse,y=(_.mfaInfo||[]).map(M=>ha._fromServerResponse(m,M));ee(_.mfaPendingCredential,m,"internal-error");const x=pa._fromMfaPendingCredential(_.mfaPendingCredential);return new vm(x,y,function(){var M=(0,I.Z)(function*(G){const me=yield G._process(m,x);delete _.mfaInfo,delete _.mfaPendingCredential;const ye=Object.assign(Object.assign({},_),{idToken:me.idToken,refreshToken:me.refreshToken});switch(u.operationType){case"signIn":const we=yield ji._fromIdTokenResponse(m,u.operationType,ye);return yield m._updateCurrentUser(we.user),we;case"reauthenticate":return ee(u.user,m,"internal-error"),ji._forOperation(u.user,u.operationType,ye);default:Dt(m,"internal-error")}});return function(G){return M.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,I.Z)(function*(){return u.signInResolver(l)})()}}class Br{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(m=>ha._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new Br(l)}getSession(){var l=this;return(0,I.Z)(function*(){return pa._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var m=this;return(0,I.Z)(function*(){const _=l,y=yield m.getSession(),x=yield Ci(m.user,_._process(m.user.auth,y,u));return yield m.user._updateTokensIfNecessary(x),m.user.reload()})()}unenroll(l){var u=this;return(0,I.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield u.user.getIdToken();try{const y=yield Ci(u.user,function Ai(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(f,l))}(u.user.auth,{idToken:_,mfaEnrollmentId:m}));u.enrolledFactors=u.enrolledFactors.filter(({uid:x})=>x!==m),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Ds=new WeakMap,ai="__sak";class ga{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(ai,"1"),this.storage.removeItem(ai),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const tn=(()=>{class f extends ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,m)=>this.onStorageEvent(u,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ye(){const f=(0,H.z$)();return Yo(f)||De(f)}()&&function Xo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=On(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&u(m,y,_)}}onStorageEvent(u,m=!1){if(!u.key)return void this.forAllChangedKeys((M,G,me)=>{this.notifyListeners(M,me)});const _=u.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const M=this.storage.getItem(_);if(u.newValue!==M)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!m)return}const y=()=>{const M=this.storage.getItem(_);!m&&this.localCache[_]===M||this.notifyListeners(_,M)},x=this.storage.getItem(_);!function _i(){return(0,H.w1)()&&10===document.documentMode}()||x===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,m){var _=()=>super._set,y=this;return(0,I.Z)(function*(){yield _().call(y,u,m),y.localCache[u]=JSON.stringify(m)})()}_get(u){var m=()=>super._get,_=this;return(0,I.Z)(function*(){const y=yield m().call(_,u);return _.localCache[u]=JSON.stringify(y),y})()}_remove(u){var m=()=>super._remove,_=this;return(0,I.Z)(function*(){yield m().call(_,u),delete _.localCache[u]})()}}return f.type="LOCAL",f})(),br=(()=>{class f extends ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,m){}_removeListener(u,m){}}return f.type="SESSION",f})();let ql=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const m=this.receivers.find(y=>y.isListeningto(u));if(m)return m;const _=new f(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var m=this;return(0,I.Z)(function*(){const _=u,{eventId:y,eventType:x,data:M}=_.data,G=m.handlersMap[x];if(!G?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:x});const me=Array.from(G).map(function(){var we=(0,I.Z)(function*(vn){return vn(_.origin,M)});return function(vn){return we.apply(this,arguments)}}()),ye=yield function Io(f){return Promise.all(f.map(function(){var l=(0,I.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(m){return{fulfilled:!1,reason:m}}});return function(u){return l.apply(this,arguments)}}()))}(me);_.ports[0].postMessage({status:"done",eventId:y,eventType:x,response:ye})})()}_subscribe(u,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(m)}_unsubscribe(u,m){this.handlersMap[u]&&m&&this.handlersMap[u].delete(m),(!m||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function ac(f="",l=10){let u="";for(let m=0;m<l;m++)u+=Math.floor(10*Math.random());return f+u}class Ss{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,m=50){var _=this;return(0,I.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let x,M;return new Promise((G,me)=>{const ye=ac("",20);y.port1.start();const we=setTimeout(()=>{me(new Error("unsupported_event"))},m);M={messageChannel:y,onMessage(vn){const Mo=vn;if(Mo.data.eventId===ye)switch(Mo.data.status){case"ack":clearTimeout(we),x=setTimeout(()=>{me(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),G(Mo.data.response);break;default:clearTimeout(we),clearTimeout(x),me(new Error("invalid_response"))}}},_.handlers.add(M),y.port1.addEventListener("message",M.onMessage),_.target.postMessage({eventType:l,eventId:ye,data:u},[y.port2])}).finally(()=>{M&&_.removeMessageHandler(M)})})()}}function _n(){return window}function $e(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function Tu(){return(Tu=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gl="firebaseLocalStorageDb",As="firebaseLocalStorage",An="fbase_key";class Nn{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function Fn(f,l){return f.transaction([As],l?"readwrite":"readonly").objectStore(As)}function is(){const f=indexedDB.open(Gl,1);return new Promise((l,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(As,{keyPath:An})}catch(_){u(_)}}),f.addEventListener("success",(0,I.Z)(function*(){const m=f.result;m.objectStoreNames.contains(As)?l(m):(m.close(),yield function wm(){const f=indexedDB.deleteDatabase(Gl);return new Nn(f).toPromise()}(),l(yield is()))}))})}function Wl(f,l,u){return wr.apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(f,l,u){const m=Fn(f,!0).put({[An]:l,value:u});return new Nn(m).toPromise()})).apply(this,arguments)}function Im(){return(Im=(0,I.Z)(function*(f,l){const u=Fn(f,!1).get(l),m=yield new Nn(u).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function wv(f,l){const u=Fn(f,!0).delete(l);return new Nn(u).toPromise()}const ks=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,I.Z)(function*(){return u.db||(u.db=yield is()),u.db})()}_withRetries(u){var m=this;return(0,I.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield u(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,I.Z)(function*(){return $e()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,I.Z)(function*(){u.receiver=ql._getInstance(function xo(){return $e()?self:null}()),u.receiver._subscribe("keyChanged",function(){var m=(0,I.Z)(function*(_,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var m=(0,I.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,I.Z)(function*(){var m,_;if(u.activeServiceWorker=yield function ym(){return Tu.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Ss(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var m=this;return(0,I.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function bm(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:u},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const u=yield is();return yield Wl(u,ai,"1"),yield wv(u,ai),!0}catch{}return!1})()}_withPendingWrite(u){var m=this;return(0,I.Z)(function*(){m.pendingWrites++;try{yield u()}finally{m.pendingWrites--}})()}_set(u,m){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(y=>Wl(y,u,m)),_.localCache[u]=m,_.notifyServiceWorker(u)}))})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=yield m._withRetries(y=>function Em(f,l){return Im.apply(this,arguments)}(y,u));return m.localCache[u]=_,_})()}_remove(u){var m=this;return(0,I.Z)(function*(){return m._withPendingWrite((0,I.Z)(function*(){return yield m._withRetries(_=>wv(_,u)),delete m.localCache[u],m.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,I.Z)(function*(){const m=yield u._withRetries(x=>{const M=Fn(x,!1).getAll();return new Nn(M).toPromise()});if(!m)return[];if(0!==u.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:x,value:M}of m)y.add(x),JSON.stringify(u.localCache[x])!==JSON.stringify(M)&&(u.notifyListeners(x,M),_.push(x));for(const x of Object.keys(u.localCache))u.localCache[x]&&!y.has(x)&&(u.notifyListeners(x,null),_.push(x));return _})()}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Cm=1e12;class LM{constructor(l){this.auth=l,this.counter=Cm,this._widgets=new Map}render(l,u){const m=this.counter;return this._widgets.set(m,new VM(l,this.auth.name,u||{})),this.counter++,m}reset(l){var u;const m=l||Cm;null===(u=this._widgets.get(m))||void 0===u||u.delete(),this._widgets.delete(m)}getResponse(l){var u;return(null===(u=this._widgets.get(l||Cm))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,I.Z)(function*(){var m;return null===(m=u._widgets.get(l||Cm))||void 0===m||m.execute(),""})()}}class VM{constructor(l,u,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;ee(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function BM(f){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Iv=Qf("rcb"),UM=new Lr(3e4,6e4);class xv{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=_n().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return ee(function Cv(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&oi(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((m,_)=>{const y=_n().setTimeout(()=>{_(Vt(l,"network-request-failed"))},UM.get());_n()[Iv]=()=>{_n().clearTimeout(y),delete _n()[Iv];const M=_n().grecaptcha;if(!M||!oi(M))return void _(Vt(l,"internal-error"));const G=M.render;M.render=(me,ye)=>{const we=G(me,ye);return this.counter++,we},this.hostLanguage=u,m(M)},xl(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Iv,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),_(Vt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=_n().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zM{load(l){return(0,I.Z)(function*(){return new LM(l)})()}clearedOneInstance(){}}const tI="recaptcha",HM={theme:"light",type:"image"};class $M{constructor(l,u,m=Object.assign({},HM)){this.parameters=m,this.type=tI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(l),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;ee(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zM:new xv,this.validateStartingState()}verify(){var l=this;return(0,I.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(u)||new Promise(y=>{const x=M=>{M&&(l.tokenChangeListeners.delete(x),y(M))};l.tokenChangeListeners.add(x),l.isInvisible&&m.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(m=>m(u)),"function"==typeof l)l(u);else if("string"==typeof l){const m=_n()[l];"function"==typeof m&&m(u)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,I.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const m=document.createElement("div");u.appendChild(m),u=m}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,I.Z)(function*(){ee($o()&&!$e(),l.auth,"internal-error"),yield function va(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function bl(f){return qo.apply(this,arguments)}(l.auth);ee(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tm{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=ec._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function Du(){return(Du=(0,I.Z)(function*(f,l,u){const m=un(f),_=yield Au(m,l,(0,H.m9)(u));return new Tm(_,y=>Vl(m,y))})).apply(this,arguments)}function Dm(){return(Dm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);yield zt(!1,m,"phone");const _=yield Au(m.auth,l,(0,H.m9)(u));return new Tm(_,y=>uv(m,y))})).apply(this,arguments)}function Su(){return(Su=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),_=yield Au(m.auth,l,(0,H.m9)(u));return new Tm(_,y=>zE(m,y))})).apply(this,arguments)}function Au(f,l,u){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,I.Z)(function*(f,l,u){var m;const _=yield u.verify();try{let y;if(ee("string"==typeof _,f,"argument-error"),ee(u.type===tI,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const x=y.session;if("phoneNumber"in y)return ee("enroll"===x.type,f,"internal-error"),(yield function ue(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:start",ne(f,l))}(f,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ee("signin"===x.type,f,"internal-error");const M=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return ee(M,f,"missing-multi-factor-info"),(yield function RM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:start",ne(f,l))}(f,{mfaPendingCredential:x.credential,mfaEnrollmentId:M,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function NE(f,l){return Pl.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return x}}finally{u._reset()}}),Zl.apply(this,arguments)}function Ur(){return(Ur=(0,I.Z)(function*(f,l){yield vu((0,H.m9)(f),l)})).apply(this,arguments)}let lc=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=un(u)}verifyPhoneNumber(u,m){return Au(this.auth,u,(0,H.m9)(m))}static credential(u,m){return ec._fromVerification(u,m)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:m,temporaryProof:_}=u;return m&&_?ec._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Ms(f,l){return l?ft(l):(ee(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Gt extends Bt{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return xs(l,this._buildIdpRequest())}_linkToIdToken(l,u){return xs(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return xs(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Sm(f){return yu(f.auth,new Gt(f),f.bypassAuthState)}function Kl(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),jE(u,new Gt(f),f.bypassAuthState)}function Hi(f){return Am.apply(this,arguments)}function Am(){return(Am=(0,I.Z)(function*(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),vu(u,new Gt(f),f.bypassAuthState)})).apply(this,arguments)}class dc{constructor(l,u,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,I.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,I.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:x,error:M,type:G}=l;if(M)return void u.reject(M);const me={auth:u.auth,requestUri:m,sessionId:_,tenantId:x||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(G)(me))}catch(ye){u.reject(ye)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Sm;case"linkViaPopup":case"linkViaRedirect":return Hi;case"reauthViaPopup":case"reauthViaRedirect":return Kl;default:Dt(this.auth,"internal-error")}}resolve(l){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uc=new Lr(2e3,1e4);function km(){return(km=(0,I.Z)(function*(f,l,u){const m=un(f);ht(f,l,Tn);const _=Ms(m,u);return new Pm(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Rm(){return(Rm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,Tn);const _=Ms(m.auth,u);return new Pm(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function ku(){return(ku=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,Tn);const _=Ms(m.auth,u);return new Pm(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let Pm=(()=>{class f extends dc{constructor(u,m,_,y,x){super(u,m,y,x),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,I.Z)(function*(){const m=yield u.execute();return ee(m,u.auth,"internal-error"),m})()}onExecution(){var u=this;return(0,I.Z)(function*(){Cn(1===u.filter.length,"Popup operations only handle one event");const m=ac();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],m),u.authWindow.associatedEvent=m,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(Vt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,uc.get())};u()}}return f.currentPopupAction=null,f})();const Dv="pendingRedirect",hc=new Map;class Mu extends dc{constructor(l,u,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,I.Z)(function*(){let m=hc.get(u.auth._key());if(!m){try{const y=(yield function Ru(f,l){return Ql.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}hc.set(u.auth._key(),m)}return u.bypassAuthState||hc.set(u.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,m=this;return(0,I.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,u().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Ql(){return(Ql=(0,I.Z)(function*(f,l){const u=Av(l),m=Sv(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(u));return yield m._remove(u),_})).apply(this,arguments)}function qe(f,l){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,I.Z)(function*(f,l){return Sv(f)._set(Av(l),"true")})).apply(this,arguments)}function Om(f,l){hc.set(f._key(),l)}function Sv(f){return ft(f._redirectPersistence)}function Av(f){return Un(Dv,f.config.apiKey,f.name)}function kv(f,l,u){return function fc(f,l,u){return Nm.apply(this,arguments)}(f,l,u)}function Nm(){return(Nm=(0,I.Z)(function*(f,l,u){const m=un(f);ht(f,l,Tn),yield m._initializationPromise;const _=Ms(m,u);return yield qe(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function rI(f,l,u){return function oI(f,l,u){return Fm.apply(this,arguments)}(f,l,u)}function Fm(){return(Fm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,Tn),yield m.auth._initializationPromise;const _=Ms(m.auth,u);yield qe(_,m.auth);const y=yield mc(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function sI(f,l,u){return function q(f,l,u){return gt.apply(this,arguments)}(f,l,u)}function gt(){return(gt=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,Tn),yield m.auth._initializationPromise;const _=Ms(m.auth,u);yield zt(!1,m,l.providerId),yield qe(_,m.auth);const y=yield mc(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function rt(){return(rt=(0,I.Z)(function*(f,l){return yield un(f)._initializationPromise,Ot(f,l,!1)})).apply(this,arguments)}function Ot(f,l){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,I.Z)(function*(f,l,u=!1){const m=un(f),_=Ms(m,l),x=yield new Mu(m,_,u).execute();return x&&!u&&(delete x.user._redirectEventId,yield m._persistUserIfCurrent(x.user),yield m._setRedirectUser(null,l)),x})).apply(this,arguments)}function mc(f){return jr.apply(this,arguments)}function jr(){return(jr=(0,I.Z)(function*(f){const l=ac(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Nu{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(u=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Rv(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var m;if(l.error&&!aI(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";u.onError(Vt(this.auth,_))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const m=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(l))}saveEventToCache(l){this.cachedEventUids.add(Mv(l)),this.lastProcessedEventTime=Date.now()}}function Mv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function aI({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function ki(f){return eo.apply(this,arguments)}function eo(){return(eo=(0,I.Z)(function*(f,l={}){return J(f,"GET","/v1/projects",l)})).apply(this,arguments)}const Pv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,To=/^https?/;function Vm(){return(Vm=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield ki(f);for(const u of l)try{if(Ov(u))return}catch{}Dt(f,"unauthorized-domain")})).apply(this,arguments)}function Ov(f){const l=Fr(),{protocol:u,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const x=new URL(f);return""===x.hostname&&""===m?"chrome-extension:"===u&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&x.hostname===m}if(!To.test(u))return!1;if(Pv.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const cI=new Lr(3e4,6e4);function Nv(){const f=_n().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let pc=null;const Um=new Lr(5e3,15e3),lI="__/auth/iframe",Lv="emulator/auth/iframe",jm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bv(f){const l=f.config;ee(l.authDomain,f,"auth-domain-config-required");const u=l.emulator?B(l,Lv):`https://${f.config.authDomain}/${lI}`,m={apiKey:l.apiKey,appName:f.name,v:We.SDK_VERSION},_=Vv.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${u}?${(0,H.xO)(m).slice(1)}`}function Fu(){return Fu=(0,I.Z)(function*(f){const l=yield function Fv(f){return pc=pc||function Bm(f){return new Promise((l,u)=>{var m,_,y;function x(){Nv(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Nv(),u(Vt(f,"network-request-failed"))},timeout:cI.get()})}if(null!==(_=null===(m=_n().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=_n().gapi)||void 0===y||!y.load){const M=Qf("iframefcb");return _n()[M]=()=>{gapi.load?x():u(Vt(f,"network-request-failed"))},xl(`https://apis.google.com/js/api.js?onload=${M}`).catch(G=>u(G))}x()}}).catch(l=>{throw pc=null,l})}(f),pc}(f),u=_n().gapi;return ee(u,f,"internal-error"),l.open({where:document.body,url:Bv(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jm,dontclear:!0},m=>new Promise(function(){var _=(0,I.Z)(function*(y,x){yield m.restyle({setHideOnLeave:!1});const M=Vt(f,"network-request-failed"),G=_n().setTimeout(()=>{x(M)},Um.get());function me(){_n().clearTimeout(G),y(m)}m.ping(me).then(me,()=>{x(M)})});return function(y,x){return _.apply(this,arguments)}}()))}),Fu.apply(this,arguments)}const zm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hm{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hI="__/auth/handler",zv="emulator/auth/handler",Hv=encodeURIComponent("fac");function gc(f,l,u,m,_,y){return Do.apply(this,arguments)}function Do(){return(Do=(0,I.Z)(function*(f,l,u,m,_,y){ee(f.config.authDomain,f,"auth-domain-config-required"),ee(f.config.apiKey,f,"invalid-api-key");const x={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:m,v:We.SDK_VERSION,eventId:_};if(l instanceof Tn){l.setDefaultLanguage(f.languageCode),x.providerId=l.providerId||"",(0,H.xb)(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[ye,we]of Object.entries(y||{}))x[ye]=we}if(l instanceof Le){const ye=l.getScopes().filter(we=>""!==we);ye.length>0&&(x.scopes=ye.join(","))}f.tenantId&&(x.tid=f.tenantId);const M=x;for(const ye of Object.keys(M))void 0===M[ye]&&delete M[ye];const G=yield f._getAppCheckToken(),me=G?`#${Hv}=${encodeURIComponent(G)}`:"";return`${function fI({config:f}){return f.emulator?B(f,zv):`https://${f.authDomain}/${hI}`}(f)}?${(0,H.xO)(M).slice(1)}${me}`})).apply(this,arguments)}const _c="webStorageSupport",Yl=class Lu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=br,this._completeRedirectFn=Ot,this._overrideRedirectResult=Om}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){var x;Cn(null===(x=y.eventManagers[l._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const M=yield gc(l,u,m,Fr(),_);return function uI(f,l,u,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),x=Math.max((window.screen.availWidth-m)/2,0).toString();let M="";const G=Object.assign(Object.assign({},zm),{width:m.toString(),height:_.toString(),top:y,left:x}),me=(0,H.z$)().toLowerCase();u&&(M=uu(me)?"_blank":u),bo(me)&&(l=l||"http://localhost",G.scrollbars="yes");const ye=Object.entries(G).reduce((vn,[Mo,td])=>`${vn}${Mo}=${td},`,"");if(function At(f=(0,H.z$)()){var l;return De(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(me)&&"_self"!==M)return function jv(f,l){const u=document.createElement("a");u.href=f,u.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(m)}(l||"",M),new Hm(null);const we=window.open(l||"",M,ye);ee(we,f,"popup-blocked");try{we.focus()}catch{}return new Hm(we)}(l,M,ac())})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y._originValidation(l),function _a(f){_n().location.href=f}(yield gc(l,u,m,Fr(),_)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:_,promise:y}=this.eventManagers[u];return _?Promise.resolve(_):(Cn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[u]={promise:m},m.catch(()=>{delete this.eventManagers[u]}),m}initAndGetManager(l){var u=this;return(0,I.Z)(function*(){const m=yield function Uv(f){return Fu.apply(this,arguments)}(l),_=new Nu(l);return m.register("authEvent",y=>(ee(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:_},u.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(_c,{type:_c},_=>{var y;const x=null===(y=_?.[0])||void 0===y?void 0:y[_c];void 0!==x&&u(!!x),Dt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function rs(f){return Vm.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return On()||Yo()||De()}};class $m{constructor(l){this.factorId=l}_process(l,u,m){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,m);case"signin":return this._finalizeSignIn(l,u.credential);default:return xn("unexpected MultiFactorSessionType")}}}class Vu extends $m{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Vu(l)}_finalizeEnroll(l,u,m){return function Ge(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:finalize",ne(f,l))}(l,{idToken:u,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function PM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:finalize",ne(f,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $v=(()=>{class f{constructor(){}static assertion(u){return Vu._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var Uu="@firebase/auth";class mI{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,I.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function os(){return window}(0,H.Pz)("authIdTokenMaxAge"),function WM(f){(0,We._registerComponent)(new Vn.wA("auth",(l,{options:u})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:x,authDomain:M}=m.options;ee(x&&!x.includes(":"),"invalid-api-key",{appName:m.name});const G={apiKey:x,authDomain:M,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qa(f)},me=new wo(m,_,y,G);return function Kt(f,l){const u=l?.persistence||[],m=(Array.isArray(u)?u:[u]).map(ft);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(me,u),me},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,m)=>{l.getProvider("auth-internal").initialize()})),(0,We._registerComponent)(new Vn.wA("auth-internal",l=>{const u=un(l.getProvider("auth").getImmediate());return new mI(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,We.registerVersion)(Uu,"1.4.0",function pI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,We.registerVersion)(Uu,"1.4.0","esm2017")}("Browser");function Hu(){return Hu=(0,I.Z)(function*(f,l,u){var m;const{BuildInfo:_}=os();Cn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function Wv(f){return wc.apply(this,arguments)}(l.sessionId),x={};return De()?x.ibi=_.packageName:L()?x.apn=_.packageName:Dt(f,"operation-not-supported-in-this-environment"),_.displayName&&(x.appDisplayName=_.displayName),x.sessionId=y,gc(f,u,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,x)}),Hu.apply(this,arguments)}function Gm(){return(Gm=(0,I.Z)(function*(f){const{BuildInfo:l}=os(),u={};De()?u.iosBundleId=l.packageName:L()?u.androidPackageName=l.packageName:Dt(f,"operation-not-supported-in-this-environment"),yield ki(f,u)})).apply(this,arguments)}function bc(){return(bc=(0,I.Z)(function*(f,l,u){const{cordova:m}=os();let _=()=>{};try{yield new Promise((y,x)=>{let M=null;function G(){var we;y();const vn=null===(we=m.plugins.browsertab)||void 0===we?void 0:we.close;"function"==typeof vn&&vn(),"function"==typeof u?.close&&u.close()}function me(){M||(M=window.setTimeout(()=>{x(Vt(f,"redirect-cancelled-by-user"))},2e3))}function ye(){"visible"===document?.visibilityState&&me()}l.addPassiveListener(G),document.addEventListener("resume",me,!1),L()&&document.addEventListener("visibilitychange",ye,!1),_=()=>{l.removePassiveListener(G),document.removeEventListener("resume",me,!1),document.removeEventListener("visibilitychange",ye,!1),M&&window.clearTimeout(M)}})}finally{_()}})).apply(this,arguments)}function wc(){return(wc=(0,I.Z)(function*(f){const l=function Zm(f){if(Cn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),u=new Uint8Array(l);for(let m=0;m<f.length;m++)u[m]=f.charCodeAt(m);return u}(f),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Zv extends Nu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,I.Z)(function*(){yield l.initPromise})()}}function Km(f){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,I.Z)(function*(f){const l=yield Ym()._get(qu(f));return l&&(yield Ym()._remove(qu(f))),l})).apply(this,arguments)}function ba(){const f=[];for(let u=0;u<20;u++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function Ym(){return ft(tn)}function qu(f){return Un("authEvent",f.config.apiKey,f.name)}function ss(f){if(!f?.includes("?"))return{};const[l,...u]=f.split("?");return(0,H.zd)(u.join("?"))}const kn=class yI{constructor(){this._redirectPersistence=br,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ot,this._overrideRedirectResult=Om}_initialize(l){var u=this;return(0,I.Z)(function*(){const m=l._key();let _=u.eventManagers.get(m);return _||(_=new Zv(l),u.eventManagers.set(m,_),u.attachCallbackListeners(l,_)),_})()}_openPopup(l){Dt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){!function Wm(f){var l,u,m,_,y,x,M,G,me,ye;const we=os();ee("function"==typeof(null===(l=we?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(u=we?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(y=null===(_=null===(m=we?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(G=null===(M=null===(x=we?.cordova)||void 0===x?void 0:x.plugins)||void 0===M?void 0:M.browsertab)||void 0===G?void 0:G.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(ye=null===(me=we?.cordova)||void 0===me?void 0:me.InAppBrowser)||void 0===ye?void 0:ye.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const x=yield y._initialize(l);yield x.initialized(),x.resetRedirect(),function qM(){hc.clear()}(),yield y._originValidation(l);const M=function Kv(f,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:ba(),postBody:null,tenantId:f.tenantId,error:Vt(f,"no-auth-event")}}(l,m,_);yield function Qv(f,l){return Ym()._set(qu(f),l)}(l,M);const G=yield function KM(f,l,u){return Hu.apply(this,arguments)}(l,M,u),me=yield function So(f){const{cordova:l}=os();return new Promise(u=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function mt(f=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),u(_)})})}(G);return function _I(f,l,u){return bc.apply(this,arguments)}(l,x,me)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Gv(f){return Gm.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=os(),x=setTimeout((0,I.Z)(function*(){yield Km(l),u.onEvent(Gu())}),500),M=function(){var ye=(0,I.Z)(function*(we){clearTimeout(x);const vn=yield Km(l);let Mo=null;vn&&we?.url&&(Mo=function $u(f,l){var u,m;const _=function Ec(f){const l=ss(f),u=l.link?decodeURIComponent(l.link):void 0,m=ss(u).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return ss(_).link||_||m||u||f}(l);if(_.includes("/__/auth/callback")){const y=ss(_),x=y.firebaseError?function Yv(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,M=null===(m=null===(u=x?.code)||void 0===u?void 0:u.split("auth/"))||void 0===m?void 0:m[1],G=M?Vt(M):null;return G?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:G,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(vn,we.url)),u.onEvent(Mo||Gu())});return function(vn){return ye.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,M);const G=_,me=`${y.packageName.toLowerCase()}://`;os().handleOpenURL=function(){var ye=(0,I.Z)(function*(we){if(we.toLowerCase().startsWith(me)&&M({url:we}),"function"==typeof G)try{G(we)}catch(vn){console.error(vn)}});return function(we){return ye.apply(this,arguments)}}()}};function Gu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}function Ao(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Xm(f=(0,H.z$)()){return!("file:"!==Ao()&&"ionic:"!==Ao()&&"capacitor:"!==Ao()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function EI(){try{const f=self.localStorage,l=ac();if(f)return f.setItem(l,"1"),f.removeItem(l),!function wI(f=(0,H.z$)()){return function Cc(){return(0,H.w1)()&&11===document?.documentMode}()||function QM(f=(0,H.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,H.hl)()}catch{return Jv()&&(0,H.hl)()}return!1}function Jv(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ey(){return(function xc(){return"http:"===Ao()||"https:"===Ao()}()||(0,H.ru)()||Xm())&&!function Jm(){return(0,H.b$)()||(0,H.UG)()}()&&EI()&&!Jv()}function II(){return Xm()&&typeof document<"u"}function ty(){return(ty=(0,I.Z)(function*(){return!!II()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const xr={LOCAL:"local",NONE:"none",SESSION:"session"},Xl=ee,zn="persistence";function wa(f){return ep.apply(this,arguments)}function ep(){return(ep=(0,I.Z)(function*(f){yield f._initializationPromise;const l=Ea(),u=Un(zn,f.config.apiKey,f.name);l&&l.setItem(u,f._getPersistence())})).apply(this,arguments)}function Ea(){var f;try{return(null===(f=function Tc(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const ny=ee;class to{constructor(){this.browserResolver=ft(Yl),this.cordovaResolver=ft(kn),this.underlyingResolver=null,this._redirectPersistence=br,this._completeRedirectFn=Ot,this._overrideRedirectResult=Om}_initialize(l){var u=this;return(0,I.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,u,m,_)})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,u,m,_)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return II()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ny(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,I.Z)(function*(){if(l.underlyingResolver)return;const u=yield function YM(){return ty.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function Dc(f){return f.unwrap()}function XM(f){return CI(f)}function CI(f){const{_tokenResponse:l}=f instanceof H.ZR?f.customData:f;if(!l)return null;if(!(f instanceof H.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return lc.credentialFromResult(f);const u=l.providerId;if(!u||u===Ft.PASSWORD)return null;let m;switch(u){case Ft.GOOGLE:m=BE;break;case Ft.FACEBOOK:m=VE;break;case Ft.GITHUB:m=UE;break;case Ft.TWITTER:m=av;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:x,pendingToken:M,nonce:G}=l;return y||x||_||M?M?u.startsWith("saml.")?Nl._create(u,M):ts._fromParams({providerId:u,signInMethod:u,pendingToken:M,idToken:_,accessToken:y}):new Ol(u).credential({idToken:_,accessToken:y,rawNonce:G}):null}return f instanceof H.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function nn(f,l){return l.catch(u=>{throw u instanceof H.ZR&&function iy(f,l){var u;const m=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new JM(f,function Sn(f,l){var u;const m=(0,H.m9)(f),_=l;return ee(l.customData.operationType,m,"argument-error"),ee(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,m,"argument-error"),vm._fromError(m,_)}(f,l));else if(m){const _=CI(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:XM(u),additionalUserInfo:YE(u),user:ko.getOrCreate(_)}})}function Jl(f,l){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,I.Z)(function*(f,l){const u=yield l;return{verificationId:u.verificationId,confirm:m=>nn(f,u.confirm(m))}})).apply(this,arguments)}class JM{constructor(l,u){this.resolver=u,this.auth=function tp(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return nn(Dc(this.auth),this.resolver.resolveSignIn(l))}}class ko{constructor(l){this._delegate=l,this.multiFactor=function en(f){const l=(0,H.m9)(f);return Ds.has(l)||Ds.set(l,Br._fromUser(l)),Ds.get(l)}(l)}static getOrCreate(l){return ko.USER_MAP.has(l)||ko.USER_MAP.set(l,new ko(l)),ko.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,I.Z)(function*(){return nn(u.auth,uv(u._delegate,l))})()}linkWithPhoneNumber(l,u){var m=this;return(0,I.Z)(function*(){return Jl(m.auth,function nI(f,l,u){return Dm.apply(this,arguments)}(m._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,I.Z)(function*(){return nn(u.auth,function Co(f,l,u){return ku.apply(this,arguments)}(u._delegate,l,to))})()}linkWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield wa(un(u.auth)),sI(u._delegate,l,to)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,I.Z)(function*(){return nn(u.auth,zE(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Jl(this.auth,function Tv(f,l,u){return Su.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return nn(this.auth,function Mm(f,l,u){return Rm.apply(this,arguments)}(this._delegate,l,to))}reauthenticateWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield wa(un(u.auth)),rI(u._delegate,l,to)})()}sendEmailVerification(l){return function zl(f,l){return xu.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,I.Z)(function*(){return yield function cv(f,l){return Di.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function GE(f,l){return yv((0,H.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function vv(f,l){return yv((0,H.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function iI(f,l){return Ur.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function qE(f,l){return yr.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function gv(f,l,u){return mm.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ko.USER_MAP=new WeakMap;const ed=ee;let ry=(()=>{class f{constructor(u,m){if(this.app=u,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;ed(_,"invalid-api-key",{appName:u.name}),ed(_,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?to:void 0;this._delegate=m.initialize({options:{persistence:TI(_,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(Zn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,m){!function Xa(f,l,u){const m=un(f);ee(m._canInitEmulator,m,"emulator-config-failed"),ee(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!u?.disableWarnings,y=er(l),{host:x,port:M}=function Ee(f){const l=er(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!u)return{host:"",port:null};const m=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:Dl(m.substr(y.length+1))}}{const[y,x]=m.split(":");return{host:y,port:Dl(x)}}}(l);m.config.emulator={url:`${y}//${x}${null===M?"":`:${M}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:x,port:M,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function em(){function f(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,u,m)}applyActionCode(u){return function P(f,l){return Eu.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return le(this._delegate,u)}confirmPasswordReset(u,m){return function Ts(f,l,u){return um.apply(this,arguments)}(this._delegate,u,m)}createUserWithEmailAndPassword(u,m){var _=this;return(0,I.Z)(function*(){return nn(_._delegate,function HE(f,l,u){return fm.apply(this,arguments)}(_._delegate,u,m))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function pv(f,l){return Iu.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function Xr(f,l){const u=mu.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,I.Z)(function*(){ed(ey(),u._delegate,"operation-not-supported-in-this-environment");const m=yield function lt(f,l){return rt.apply(this,arguments)}(u._delegate,to);return m?nn(u._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function bI(f,l){un(f)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,m,_){const{next:y,error:x,complete:M}=oy(u,m,_);return this._delegate.onAuthStateChanged(y,x,M)}onIdTokenChanged(u,m,_){const{next:y,error:x,complete:M}=oy(u,m,_);return this._delegate.onIdTokenChanged(y,x,M)}sendSignInLinkToEmail(u,m){return function ns(f,l,u){return rc.apply(this,arguments)}(this._delegate,u,m)}sendPasswordResetEmail(u,m){return function nc(f,l,u){return dm.apply(this,arguments)}(this._delegate,u,m||void 0)}setPersistence(u){var m=this;return(0,I.Z)(function*(){let _;switch(function xI(f,l){Xl(Object.values(xr).includes(l),f,"invalid-persistence-type"),(0,H.b$)()?Xl(l!==xr.SESSION,f,"unsupported-persistence-type"):(0,H.UG)()?Xl(l===xr.NONE,f,"unsupported-persistence-type"):Jv()?Xl(l===xr.NONE||l===xr.LOCAL&&(0,H.hl)(),f,"unsupported-persistence-type"):Xl(l===xr.NONE||EI(),f,"unsupported-persistence-type")}(m._delegate,u),u){case xr.SESSION:_=br;break;case xr.LOCAL:_=(yield ft(ks)._isAvailable())?ks:tn;break;case xr.NONE:_=Zt;break;default:return Dt("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return nn(this._delegate,function am(f){return pu.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return nn(this._delegate,Vl(this._delegate,u))}signInWithCustomToken(u){return nn(this._delegate,function AM(f,l){return ua.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,m){return nn(this._delegate,function $E(f,l,u){return Vl((0,H.m9)(f),sv.credential(l,u)).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&lm(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,u,m))}signInWithEmailLink(u,m){return nn(this._delegate,function Eo(f,l,u){return xt.apply(this,arguments)}(this._delegate,u,m))}signInWithPhoneNumber(u,m){return Jl(this._delegate,function Er(f,l,u){return Du.apply(this,arguments)}(this._delegate,u,m))}signInWithPopup(u){var m=this;return(0,I.Z)(function*(){return ed(ey(),m._delegate,"operation-not-supported-in-this-environment"),nn(m._delegate,function Ir(f,l,u){return km.apply(this,arguments)}(m._delegate,u,to))})()}signInWithRedirect(u){var m=this;return(0,I.Z)(function*(){return ed(ey(),m._delegate,"operation-not-supported-in-this-environment"),yield wa(m._delegate),kv(m._delegate,u,to)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function hm(f,l){return fa.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=xr,f})();function oy(f,l,u){let m=f;"function"!=typeof f&&({next:m,error:l,complete:u}=f);const _=m;return{next:x=>_(x&&ko.getOrCreate(x)),error:l,complete:u}}function TI(f,l){const u=function nr(f,l){const u=Ea();if(!u)return[];const m=Un(zn,f,l);switch(u.getItem(m)){case xr.NONE:return[Zt];case xr.LOCAL:return[ks,br];case xr.SESSION:return[br];default:return[]}}(f,l);if(typeof self<"u"&&!u.includes(ks)&&u.push(ks),typeof window<"u")for(const m of[tn,br])u.includes(m)||u.push(m);return u.includes(Zt)||u.push(Zt),u}class np{constructor(){this.providerId="phone",this._delegate=new lc(Dc(Ce.Z.auth()))}static credential(l,u){return lc.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}np.PHONE_SIGN_IN_METHOD=lc.PHONE_SIGN_IN_METHOD,np.PROVIDER_ID=lc.PROVIDER_ID;const DI=ee;class ip{constructor(l,u,m=Ce.Z.app()){var _;DI(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new $M(m.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function SI(f){f.INTERNAL.registerComponent(new Vn.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new ry(u,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:sv,FacebookAuthProvider:VE,GithubAuthProvider:UE,GoogleAuthProvider:BE,OAuthProvider:Ol,SAMLAuthProvider:da,PhoneAuthProvider:np,PhoneMultiFactorGenerator:$v,RecaptchaVerifier:ip,TwitterAuthProvider:av,Auth:ry,AuthCredential:Bt,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(Ce.Z)},861:(Ho,mi,Je)=>{function I(H,We,In,et,Vn,Ii,Ft){try{var te=H[Ii](Ft),ae=te.value}catch(Te){return void In(Te)}te.done?We(ae):Promise.resolve(ae).then(et,Vn)}function Ce(H){return function(){var We=this,In=arguments;return new Promise(function(et,Vn){var Ii=H.apply(We,In);function Ft(ae){I(Ii,et,Vn,Ft,te,"next",ae)}function te(ae){I(Ii,et,Vn,Ft,te,"throw",ae)}Ft(void 0)})}}Je.d(mi,{Z:()=>Ce})},582:(Ho,mi,Je)=>{function We(B,z){var Q={};for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&z.indexOf(W)<0&&(Q[W]=B[W]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(W=Object.getOwnPropertySymbols(B);ne<W.length;ne++)z.indexOf(W[ne])<0&&Object.prototype.propertyIsEnumerable.call(B,W[ne])&&(Q[W[ne]]=B[W[ne]])}return Q}function Te(B,z,Q,W){return new(Q||(Q=Promise))(function(J,Ue){function _t(St){try{Ne(W.next(St))}catch(Pn){Ue(Pn)}}function Bn(St){try{Ne(W.throw(St))}catch(Pn){Ue(Pn)}}function Ne(St){St.done?J(St.value):function ne(J){return J instanceof Q?J:new Q(function(Ue){Ue(J)})}(St.value).then(_t,Bn)}Ne((W=W.apply(B,z||[])).next())})}function sn(B){return this instanceof sn?(this.v=B,this):new sn(B)}function Dt(B,z,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,W=Q.apply(B,z||[]),J=[];return ne={},Ue("next"),Ue("throw"),Ue("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function Ue(Fe){W[Fe]&&(ne[Fe]=function(gi){return new Promise(function(Qn,oi){J.push([Fe,gi,Qn,oi])>1||_t(Fe,gi)})})}function _t(Fe,gi){try{!function Bn(Fe){Fe.value instanceof sn?Promise.resolve(Fe.value.v).then(Ne,St):Pn(J[0][2],Fe)}(W[Fe](gi))}catch(Qn){Pn(J[0][3],Qn)}}function Ne(Fe){_t("next",Fe)}function St(Fe){_t("throw",Fe)}function Pn(Fe,gi){Fe(gi),J.shift(),J.length&&_t(J[0][0],J[0][1])}}function Bi(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,z=B[Symbol.asyncIterator];return z?z.call(B):(B=function Lt(B){var z="function"==typeof Symbol&&Symbol.iterator,Q=z&&B[z],W=0;if(Q)return Q.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&W>=B.length&&(B=void 0),{value:B&&B[W++],done:!B}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(J){Q[J]=B[J]&&function(Ue){return new Promise(function(_t,Bn){!function ne(J,Ue,_t,Bn){Promise.resolve(Bn).then(function(Ne){J({value:Ne,done:_t})},Ue)}(_t,Bn,(Ue=B[J](Ue)).done,Ue.value)})}}}Je.d(mi,{FC:()=>Dt,KL:()=>Bi,_T:()=>We,mG:()=>Te,qq:()=>sn}),"function"==typeof SuppressedError&&SuppressedError}},Ho=>{Ho(Ho.s=958)}]);
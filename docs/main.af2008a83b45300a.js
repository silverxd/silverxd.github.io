"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:(zo,fi,Je)=>{Je.d(fi,{BH:()=>Lt,G6:()=>Fr,L:()=>Nt,LL:()=>J,Pz:()=>Tt,Sg:()=>Li,UG:()=>ee,ZB:()=>Te,ZR:()=>ne,aH:()=>sn,b$:()=>Nr,eu:()=>j,hl:()=>V,jU:()=>xn,m9:()=>Il,ne:()=>Go,pd:()=>wl,r3:()=>ri,ru:()=>Cn,tV:()=>te,uI:()=>mi,vZ:()=>$o,w1:()=>go,xO:()=>qa,xb:()=>ur,z$:()=>dt,zd:()=>fr});const Ge=function(D){const C=[];let T=0;for(let Z=0;Z<D.length;Z++){let F=D.charCodeAt(Z);F<128?C[T++]=F:F<2048?(C[T++]=F>>6|192,C[T++]=63&F|128):55296==(64512&F)&&Z+1<D.length&&56320==(64512&D.charCodeAt(Z+1))?(F=65536+((1023&F)<<10)+(1023&D.charCodeAt(++Z)),C[T++]=F>>18|240,C[T++]=F>>12&63|128,C[T++]=F>>6&63|128,C[T++]=63&F|128):(C[T++]=F>>12|224,C[T++]=F>>6&63|128,C[T++]=63&F|128)}return C},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,C){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let F=0;F<D.length;F+=3){const le=D[F],be=F+1<D.length,ut=be?D[F+1]:0,ge=F+2<D.length,Zt=ge?D[F+2]:0;let Vi=(15&ut)<<2|Zt>>6,yo=63&Zt;ge||(yo=64,be||(Vi=64)),Z.push(T[le>>2],T[(3&le)<<4|ut>>4],T[Vi],T[yo])}return Z.join("")},encodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(D):this.encodeByteArray(Ge(D),C)},decodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(D):function(D){const C=[];let T=0,Z=0;for(;T<D.length;){const F=D[T++];if(F<128)C[Z++]=String.fromCharCode(F);else if(F>191&&F<224){const le=D[T++];C[Z++]=String.fromCharCode((31&F)<<6|63&le)}else if(F>239&&F<365){const ge=((7&F)<<18|(63&D[T++])<<12|(63&D[T++])<<6|63&D[T++])-65536;C[Z++]=String.fromCharCode(55296+(ge>>10)),C[Z++]=String.fromCharCode(56320+(1023&ge))}else{const le=D[T++],be=D[T++];C[Z++]=String.fromCharCode((15&F)<<12|(63&le)<<6|63&be)}}return C.join("")}(this.decodeStringToByteArray(D,C))},decodeStringToByteArray(D,C){this.init_();const T=C?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let F=0;F<D.length;){const le=T[D.charAt(F++)],ut=F<D.length?T[D.charAt(F)]:0;++F;const Zt=F<D.length?T[D.charAt(F)]:64;++F;const st=F<D.length?T[D.charAt(F)]:64;if(++F,null==le||null==ut||null==Zt||null==st)throw new Vn;Z.push(le<<2|ut>>4),64!==Zt&&(Z.push(ut<<4&240|Zt>>2),64!==st&&Z.push(Zt<<6&192|st))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class Vn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nt=function(D){return function(D){const C=Ge(D);return et.encodeByteArray(C,!0)}(D).replace(/\./g,"")},te=function(D){try{return et.decodeString(D,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function Te(D,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return C}for(const T in C)!C.hasOwnProperty(T)||!ot(T)||(D[T]=Te(D[T],C[T]));return D}function ot(D){return"__proto__"!==D}const lt=()=>{try{return function xt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=D&&te(D[1]);return C&&JSON.parse(C)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},sn=()=>{var D;return null===(D=lt())||void 0===D?void 0:D.config},Tt=D=>{var C;return null===(C=lt())||void 0===C?void 0:C[`_${D}`]};class Lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,T)=>{this.resolve=C,this.reject=T})}wrapCallback(C){return(T,Z)=>{T?this.reject(T):this.resolve(Z),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(T):C(T,Z))}}}function Li(D,C){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=C||"demo-project",F=D.iat||0,le=D.sub||D.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const be=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:F,exp:F+3600,auth_time:F,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},D);return[Nt(JSON.stringify({alg:"none",type:"JWT"})),Nt(JSON.stringify(be)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function ee(){var D;const C=null===(D=lt())||void 0===D?void 0:D.forceEnvironment;if("node"===C)return!0;if("browser"===C)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xn(){return"object"==typeof self&&self.self===self}function Cn(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Nr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function go(){const D=dt();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Fr(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){try{return"object"==typeof indexedDB}catch{return!1}}function j(){return new Promise((D,C)=>{try{let T=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(Z);F.onsuccess=()=>{F.result.close(),T||self.indexedDB.deleteDatabase(Z),D(!0)},F.onupgradeneeded=()=>{T=!1},F.onerror=()=>{var le;C((null===(le=F.error)||void 0===le?void 0:le.message)||"")}}catch(T){C(T)}})}class ne extends Error{constructor(C,T,Z){super(T),this.code=C,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(C,T,Z){this.service=C,this.serviceName=T,this.errors=Z}create(C,...T){const Z=T[0]||{},F=`${this.service}/${C}`,le=this.errors[C],be=le?function Le(D,C){return D.replace(pt,(T,Z)=>{const F=C[Z];return null!=F?String(F):`<${Z}?>`})}(le,Z):"Error";return new ne(F,`${this.serviceName}: ${be} (${F}).`,Z)}}const pt=/\{\$([^}]+)}/g;function ri(D,C){return Object.prototype.hasOwnProperty.call(D,C)}function ur(D){for(const C in D)if(Object.prototype.hasOwnProperty.call(D,C))return!1;return!0}function $o(D,C){if(D===C)return!0;const T=Object.keys(D),Z=Object.keys(C);for(const F of T){if(!Z.includes(F))return!1;const le=D[F],be=C[F];if(hr(le)&&hr(be)){if(!$o(le,be))return!1}else if(le!==be)return!1}for(const F of Z)if(!T.includes(F))return!1;return!0}function hr(D){return null!==D&&"object"==typeof D}function qa(D){const C=[];for(const[T,Z]of Object.entries(D))Array.isArray(Z)?Z.forEach(F=>{C.push(encodeURIComponent(T)+"="+encodeURIComponent(F))}):C.push(encodeURIComponent(T)+"="+encodeURIComponent(Z));return C.length?"&"+C.join("&"):""}function fr(D){const C={};return D.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[F,le]=Z.split("=");C[decodeURIComponent(F)]=decodeURIComponent(le)}}),C}function wl(D){const C=D.indexOf("?");if(!C)return"";const T=D.indexOf("#",C);return D.substring(C,T>0?T:void 0)}function Go(D,C){const T=new _o(D,C);return T.subscribe.bind(T)}class _o{constructor(C,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{C(this)}).catch(Z=>{this.error(Z)})}next(C){this.forEachObserver(T=>{T.next(C)})}error(C){this.forEachObserver(T=>{T.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,T,Z){let F;if(void 0===C&&void 0===T&&void 0===Z)throw new Error("Missing Observer.");F=function vo(D,C){if("object"!=typeof D||null===D)return!1;for(const T of C)if(T in D&&"function"==typeof D[T])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:T,complete:Z},void 0===F.next&&(F.next=bs),void 0===F.error&&(F.error=bs),void 0===F.complete&&(F.complete=bs);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),le}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,C)}sendOne(C,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{T(this.observers[C])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bs(){}function Il(D){return D&&D._delegate?D._delegate:D}},331:(zo,fi,Je)=>{let Ce=null,Ge=1;function et(n){const e=Ce;return Ce=n,e}function ot(n){if((!Lt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Ge)){if(!n.producerMustRecompute(n)&&!Kn(n))return n.dirty=!1,void(n.lastCleanEpoch=Ge);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ge}}function Kn(n){Li(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(ot(t),i!==t.version))return!0}return!1}function Tt(n,e){if(function dt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Li(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Tt(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Li(r),r.producerIndexOfThis[i]=e}}function Lt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Li(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let go=null;function Oe(n){return"function"==typeof n}function pi(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Qn=pi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ri(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Oe(i))try{i()}catch(o){e=o instanceof Qn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{$o(o)}catch(s){e=e??[],s instanceof Qn?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Qn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$o(e);else{if(e instanceof Mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ri(t,e)}remove(e){const{_finalizers:t}=this;t&&ri(t,e),e instanceof Mt&&e._removeParent(this)}}Mt.EMPTY=(()=>{const n=new Mt;return n.closed=!0,n})();const ur=Mt.EMPTY;function bl(n){return n instanceof Mt||n&&"closed"in n&&Oe(n.remove)&&Oe(n.add)&&Oe(n.unsubscribe)}function $o(n){Oe(n)?n():n.unsubscribe()}const hr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qo={setTimeout(n,e,...t){const{delegate:i}=qo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=qo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qa(n){qo.setTimeout(()=>{const{onUnhandledError:e}=hr;if(!e)throw n;e(n)})}function fr(){}const wl=_o("C",void 0,void 0);function _o(n,e,t){return{kind:n,value:e,error:t}}let Yi=null;function vo(n){if(hr.useDeprecatedSynchronousErrorHandling){const e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Yi;if(Yi=null,t)throw i}}else n()}class ws extends Mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bl(e)&&e.add(this)):this.destination=Wa}static create(e,t,i){return new Ci(e,t,i)}next(e){this.isStopped?Ga(function Go(n){return _o("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ga(function mr(n){return _o("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ga(wl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Wo=Function.prototype.bind;function Zo(n,e){return Wo.call(n,e)}class Lr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ko(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ko(i)}else Ko(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ko(t)}}}class Ci extends ws{constructor(e,t,i){let r;if(super(),Oe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&hr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Zo(e.next,o),error:e.error&&Zo(e.error,o),complete:e.complete&&Zo(e.complete,o)}):r=e}this.destination=new Lr(r)}}function Ko(n){hr.useDeprecatedSynchronousErrorHandling?function bs(n){hr.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}(n):qa(n)}function Ga(n,e){const{onStoppedNotification:t}=hr;t&&qo.setTimeout(()=>t(n,e))}const Wa={closed:!0,next:fr,error:function El(n){throw n},complete:fr},Qr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ti(n){return n}function ra(n){return 0===n.length?Ti:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let wt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function D(n){return n&&n instanceof ws||function Il(n){return n&&Oe(n.next)&&Oe(n.error)&&Oe(n.complete)}(n)&&bl(n)}(t)?t:new Ci(t,i,r);return vo(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Za(i))((r,o)=>{const s=new Ci({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Qr](){return this}pipe(...t){return ra(t)(this)}toPromise(t){return new(t=Za(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Za(n){var e;return null!==(e=n??hr.Promise)&&void 0!==e?e:Promise}const C=pi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let T=(()=>{class n extends wt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Z(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new C}next(t){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ur:(this.currentObservers=null,o.push(t),new Mt(()=>{this.currentObservers=null,ri(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new wt;return t.source=this,t}}return n.create=(e,t)=>new Z(e,t),n})();class Z extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:ur}}function F(n){return Oe(n?.lift)}function le(n){return e=>{if(F(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,i,r){return new ut(n,e,t,i,r)}class ut extends ws{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(n,e){return le((t,i)=>{let r=0;t.subscribe(be(i,o=>{i.next(n.call(e,o,r++))}))})}var Zt=Je(582);const Un=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function st(n){return Oe(n?.then)}function Vi(n){return Oe(n[Qr])}function yo(n){return Symbol.asyncIterator&&Oe(n?.[Symbol.asyncIterator])}function Qo(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $=function cu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function L(n){return Oe(n?.[$])}function re(n){return(0,Zt.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Zt.qq)(t.read());if(r)return yield(0,Zt.qq)(void 0);yield yield(0,Zt.qq)(i)}}finally{t.releaseLock()}})}function ke(n){return Oe(n?.getReader)}function De(n){if(n instanceof wt)return n;if(null!=n){if(Vi(n))return function ht(n){return new wt(e=>{const t=n[Qr]();if(Oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Un(n))return function St(n){return new wt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(st(n))return function gi(n){return new wt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qa)})}(n);if(yo(n))return Yo(n);if(L(n))return function Pn(n){return new wt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ke(n))return function Ka(n){return Yo(re(n))}(n)}throw Qo(n)}function Yo(n){return new wt(e=>{(function DE(n,e){var t,i,r,o;return(0,Zt.mG)(this,void 0,void 0,function*(){try{for(t=(0,Zt.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Xo(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function _i(n,e,t=1/0){return Oe(e)?_i((i,r)=>ge((o,s)=>e(i,o,r,s))(De(n(i,r))),t):("number"==typeof e&&(t=e),le((i,r)=>function Wf(n,e,t,i,r,o,s,a){const c=[];let d=0,h=0,p=!1;const g=()=>{p&&!c.length&&!d&&e.complete()},v=w=>d<i?b(w):c.push(w),b=w=>{o&&e.next(w),d++;let E=!1;De(t(w,h++)).subscribe(be(e,A=>{r?.(A),o?v(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;c.length&&d<i;){const A=c.shift();s?Xo(e,s,()=>b(A)):b(A)}g()}catch(A){e.error(A)}}))};return n.subscribe(be(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Qa(n=1/0){return _i(Ti,n)}const bo=new wt(n=>n.complete());function K_(n){return n&&Oe(n.schedule)}function xl(n){return n[n.length-1]}function Zf(n){return Oe(xl(n))?n.pop():void 0}function Cl(n){return K_(xl(n))?n.pop():void 0}function oa(n,e=0){return le((t,i)=>{t.subscribe(be(i,r=>Xo(i,n,()=>i.next(r),e),()=>Xo(i,n,()=>i.complete(),e),r=>Xo(i,n,()=>i.error(r),e)))})}function sa(n,e=0){return le((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Y_(n,e){if(!n)throw new Error("Iterable cannot be null");return new wt(t=>{Xo(t,e,()=>{const i=n[Symbol.asyncIterator]();Xo(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Kt(n,e){return e?function AE(n,e){if(null!=n){if(Vi(n))return function Q_(n,e){return De(n).pipe(sa(e),oa(e))}(n,e);if(Un(n))return function Tl(n,e){return new wt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(st(n))return function Kf(n,e){return De(n).pipe(sa(e),oa(e))}(n,e);if(yo(n))return Y_(n,e);if(L(n))return function Qf(n,e){return new wt(t=>{let i;return Xo(t,e,()=>{i=n[$](),Xo(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Oe(i?.return)&&i.return()})}(n,e);if(ke(n))return function Yf(n,e){return Y_(re(n),e)}(n,e)}throw Qo(n)}(n,e):De(n)}function Ya(...n){const e=Cl(n),t=function SE(n,e){return"number"==typeof xl(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?De(i[0]):Qa(t)(Kt(i,e)):bo}class Xi extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Ie(...n){return Kt(n,Cl(n))}function Dl(n={}){const{connector:e=(()=>new T),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return le((w,E)=>{d++,!p&&!h&&g();const A=c=c??e();E.add(()=>{d--,0===d&&!p&&!h&&(a=Xf(b,r))}),A.subscribe(E),!s&&d>0&&(s=new Ci({next:S=>A.next(S),error:S=>{p=!0,g(),a=Xf(v,t,S),A.error(S)},complete:()=>{h=!0,g(),a=Xf(v,i),A.complete()}}),De(w).subscribe(s))})(o)}}function Xf(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return De(e(...t)).subscribe(i)}function qt(n,e){return le((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(be(i,c=>{r?.unsubscribe();let d=0;const h=o++;De(n(c,h)).subscribe(r=be(i,p=>i.next(e?e(c,p,h,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Sl(n,e=Ti){return n=n??Jf,le((t,i)=>{let r,o=!0;t.subscribe(be(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Jf(n,e){return n===e}function Vt(n){for(let e in n)if(n[e]===Vt)return e;throw Error("Could not find renamed property on target object.")}function Xa(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Al(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const em=Vt({__forward_ref__:Vt});function Bt(n){return n.__forward_ref__=Bt,n.toString=function(){return jn(this())},n}function Ve(n){return aa(n)?n():n}function aa(n){return"function"==typeof n&&n.hasOwnProperty(em)&&n.__forward_ref__===Bt}function kl(n){return n&&!!n.\u0275providers}const lu="https://g.co/ng/security#xss";class U extends Error{constructor(e,t){super(function Is(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const Ml=Vt({\u0275cmp:Vt}),Rl=Vt({\u0275dir:Vt}),tm=Vt({\u0275pipe:Vt}),du=Vt({\u0275mod:Vt}),Jo=Vt({\u0275fac:Vt}),ca=Vt({__NG_ELEMENT_ID__:Vt}),X_=Vt({__NG_ENV_ID__:Vt});function We(n){return"string"==typeof n?n:null==n?"":String(n)}function Pl(n,e){throw new U(-201,!1)}function Tn(n,e){null==n&&function Ne(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function la(n){return im(n,Fl)||im(n,hu)}function im(n,e){return n.hasOwnProperty(e)?n[e]:null}function Bi(n){return n&&(n.hasOwnProperty(om)||n.hasOwnProperty(fu))?n[om]:null}const Fl=Vt({\u0275prov:Vt}),om=Vt({\u0275inj:Vt}),hu=Vt({ngInjectableDef:Vt}),fu=Vt({ngInjectorDef:Vt});var ft=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ft||{});let mu;function rv(){return mu}function Di(n){const e=mu;return mu=n,e}function pu(n,e,t){const i=la(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ft.Optional?null:void 0!==e?e:void Pl(jn(n))}const Ut=globalThis;class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const da={},ua="__NG_DI_FLAG__",ec="ngTempTokenPath",_u=/\n/gm,vu="__source";let tc;function Ts(n){const e=tc;return tc=n,e}function lm(n,e=ft.Default){if(void 0===tc)throw new U(-203,!1);return null===tc?pu(n,void 0,e):tc.get(n,e&ft.Optional?null:void 0,e)}function R(n,e=ft.Default){return(rv()||lm)(Ve(n),e)}function ae(n,e=ft.Default){return R(n,nc(e))}function nc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dm(n){const e=[];for(let t=0;t<n.length;t++){const i=Ve(n[t]);if(Array.isArray(i)){if(0===i.length)throw new U(900,!1);let r,o=ft.Default;for(let s=0;s<i.length;s++){const a=i[s],c=BE(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(R(r,o))}else e.push(R(i))}return e}function ha(n,e){return n[ua]=e,n.prototype[ua]=e,n}function BE(n){return n[ua]}function ts(n){return{toString:n}.toString()}var ic=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ic||{}),Yr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Yr||{});const wo={},Et=[];function dv(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function jl(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];bu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function uv(n){return 3===n||4===n||6===n}function bu(n){return 64===n.charCodeAt(0)}function zl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||wu(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function wu(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const hv="ng-template";function hm(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==dv(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function fv(n){return 4===n.type&&n.value!==hv}function fm(n,e,t){return e===(4!==n.type||t?n.value:hv)}function jE(n,e,t){let i=4;const r=n.attrs||[],o=function mm(n){for(let e=0;e<n.length;e++)if(uv(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!fm(n,c,t)||""===c&&1===e.length){if(gr(i))return!1;s=!0}}else{const d=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!hm(n.attrs,d,t)){if(gr(i))return!1;s=!0}continue}const p=zE(8&i?"class":c,r,fv(n),t);if(-1===p){if(gr(i))return!1;s=!0;continue}if(""!==d){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==dv(v,d,0)||2&i&&d!==g){if(gr(i))return!1;s=!0}}}}else{if(!s&&!gr(i)&&!gr(c))return!1;if(s&&gr(c))continue;s=!1,i=c|1&i}}return gr(i)||s}function gr(n){return 0==(1&n)}function zE(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function HE(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function mv(n,e,t=!1){for(let i=0;i<e.length;i++)if(jE(n,e[i],t))return!0;return!1}function rc(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function pm(n,e){return n?":not("+e.trim()+")":e}function $E(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!gr(s)&&(e+=pm(o,r),r=""),i=s,o=o||!gr(i);t++}return""!==r&&(e+=pm(o,r)),e}function On(n){return ts(()=>{const e=KE(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ic.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Yr.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};QE(t);const i=n.dependencies;return t.directiveDefs=oc(i,!1),t.pipeDefs=oc(i,!0),t.id=function gm(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function WE(n){return at(n)||oi(n)}function SM(n){return null!==n}function jt(n){return ts(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ZE(n,e){if(null==n)return wo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Ae(n){return ts(()=>{const e=KE(n);return QE(e),e})}function at(n){return n[Ml]||null}function oi(n){return n[Rl]||null}function Si(n){return n[tm]||null}function Ui(n,e){const t=n[du]||null;if(!t&&!0===e)throw new Error(`Type ${jn(n)} does not have '\u0275mod' property.`);return t}function KE(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||wo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZE(n.inputs,e),outputs:ZE(n.outputs),debugInfo:null}}function QE(n){n.features?.forEach(e=>e(n))}function oc(n,e){if(!n)return null;const t=e?Si:WE;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(SM)}const Dn=0,de=1,ze=2,gn=3,Xr=4,Ai=5,Vr=6,Ds=7,Jt=8,si=9,pa=10,Ye=11,Hl=12,gv=13,$l=14,en=15,Eu=16,_r=17,Eo=18,ql=19,sc=20,Ss=21,_n=22,ga=23,Ue=25,_m=1,Iu=2,vm=6,Io=7,ac=9,Sn=11;function Nn(n){return Array.isArray(n)&&"object"==typeof n[_m]}function Fn(n){return Array.isArray(n)&&!0===n[_m]}function ym(n){return 0!=(4&n.flags)}function ns(n){return n.componentOffset>-1}function Wl(n){return 1==(1&n.flags)}function vr(n){return!!n.template}function bm(n){return 0!=(512&n[ze])}function _a(n,e){return n.hasOwnProperty(Jo)?n[Jo]:null}class xm{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function yr(){return xu}function xu(n){return n.type.prototype.ngOnChanges&&(n.setInput=Cm),XE}function XE(){const n=Cu(this),e=n?.current;if(e){const t=n.previous;if(t===wo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Cm(n,e,t,i){const r=this.declaredInputs[t],o=Cu(n)||function Tu(n,e){return n[Ev]=e}(n,{previous:wo,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new xm(c&&c.currentValue,e,a===wo),n[i]=e}yr.ngInherit=!0;const Ev="__ngSimpleChanges__";function Cu(n){return n[Ev]||null}const Br=function(n,e,t){};function Gt(n){for(;Array.isArray(n);)n=n[Dn];return n}function Kl(n,e){return Gt(e[n])}function ji(n,e){return Gt(e[n.index])}function lc(n,e){return n.data[e]}function br(n,e){const t=e[n];return Nn(t)?t:t[Dn]}function Am(n){return 128==(128&n[ze])}function xo(n,e){return null==e?null:n[e]}function Du(n){n[_r]=0}function Mm(n){1024&n[ze]||(n[ze]|=1024,Am(n)&&Su(n))}function uc(n){9216&n[ze]&&Su(n)}function Su(n){let e=n[gn];for(;null!==e&&!(Fn(e)&&e[vm]||Nn(e)&&8192&e[ze]);){if(Fn(e))e[vm]=!0;else if(e[ze]|=8192,!Am(e))break;e=e[gn]}}function Au(n,e){if(256==(256&n[ze]))throw new U(911,!1);null===n[Ss]&&(n[Ss]=[]),n[Ss].push(e)}const je={lFrame:Nv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Tv(){return je.bindingsEnabled}function hc(){return null!==je.skipHydrationRootTNode}function q(){return je.lFrame.lView}function mt(){return je.lFrame.tView}function Ct(n){return je.lFrame.contextLView=n,n[Jt]}function vt(n){return je.lFrame.contextLView=null,n}function Pt(){let n=Mu();for(;null!==n&&64===n.type;)n=n.parent;return n}function Mu(){return je.lFrame.currentTNode}function Ur(n,e){const t=je.lFrame;t.currentTNode=n,t.isParent=e}function Nm(){return je.lFrame.isParent}function Ru(){je.lFrame.isParent=!1}function Co(){return je.lFrame.bindingIndex++}function is(n){const e=je.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function rI(n,e){const t=je.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lm(e)}function Lm(n){je.lFrame.currentDirectiveIndex=n}function mc(n){const e=je.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Rv(){return je.lFrame.currentQueryIndex}function Vm(n){je.lFrame.currentQueryIndex=n}function oI(n){const e=n[de];return 2===e.type?e.declTNode:1===e.type?n[Ai]:null}function Pv(n,e,t){if(t&ft.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ft.Host||(r=oI(o),null===r||(o=o[$l],10&r.type))););if(null===r)return!1;e=r,n=o}const i=je.lFrame=Ov();return i.currentTNode=e,i.lView=n,!0}function Bm(n){const e=Ov(),t=n[de];je.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ov(){const n=je.lFrame,e=null===n?null:n.child;return null===e?Nv(n):e}function Nv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Fv(){const n=je.lFrame;return je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Pu=Fv;function Um(){const n=Fv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zi(){return je.lFrame.selectedIndex}function va(n){je.lFrame.selectedIndex=n}function an(){const n=je.lFrame;return lc(n.tView,n.selectedIndex)}let Bv=!0;function pc(){return Bv}function To(n){Bv=n}function gc(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Ou(n,e,t){Nu(n,e,3,t)}function Yl(n,e,t,i){(3&n[ze])===t&&Nu(n,e,t,i)}function zm(n,e){let t=n[ze];(3&t)===e&&(t&=16383,t+=1,n[ze]=t)}function Nu(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[_r]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[_r]+=65536),(a<o||-1==o)&&($M(n,t,e,c),n[_r]=(4294901760&n[_r])+c+2),c++}function Uv(n,e){Br(4,n,e);const t=et(null);try{e.call(n)}finally{et(t),Br(5,n,e)}}function $M(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[ze]>>14<n[_r]>>16&&(3&n[ze])===e&&(n[ze]+=16384,Uv(a,o)):Uv(a,o)}const Rs=-1;class _c{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Hm(n){return n!==Rs}function vc(n){return 32767&n}function Vu(n,e){let t=function hI(n){return n>>16}(n),i=e;for(;t>0;)i=i[$l],t--;return i}let rs=!0;function Bu(n){const e=rs;return rs=n,e}const Uu=255,zv=5;let $m=0;const Do={};function yc(n,e){const t=Hv(n,e);if(-1!==t)return t;const i=e[de];i.firstCreatePass&&(n.injectorIndex=e.length,qm(i.data,n),qm(e,null),qm(i.blueprint,null));const r=bc(n,e),o=n.injectorIndex;if(Hm(r)){const s=vc(r),a=Vu(r,e),c=a[de].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function qm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Hv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function bc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Zv(r),null===i)return Rs;if(t++,r=r[$l],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Rs}function Gm(n,e,t){!function fI(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ca)&&(i=t[ca]),null==i&&(i=t[ca]=$m++);const r=i&Uu;e.data[n+(r>>zv)]|=1<<r}(n,e,t)}function $v(n,e,t){if(t&ft.Optional||void 0!==n)return n;Pl()}function qv(n,e,t,i){if(t&ft.Optional&&void 0===i&&(i=null),!(t&(ft.Self|ft.Host))){const r=n[si],o=Di(void 0);try{return r?r.get(e,i,t&ft.Optional):pu(e,i,t&ft.Optional)}finally{Di(o)}}return $v(i,0,t)}function Gv(n,e,t,i=ft.Default,r){if(null!==n){if(2048&e[ze]&&!(i&ft.Self)){const s=function gI(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ze]&&!(512&s[ze]);){const a=Wm(o,s,t,i|ft.Self,Do);if(a!==Do)return a;let c=o.parent;if(!c){const d=s[sc];if(d){const h=d.get(t,Do,i);if(h!==Do)return h}c=Zv(s),s=s[$l]}o=c}return r}(n,e,t,i,Do);if(s!==Do)return s}const o=Wm(n,e,t,i,Do);if(o!==Do)return o}return qv(e,t,i,r)}function Wm(n,e,t,i,r){const o=function Km(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ca)?n[ca]:void 0;return"number"==typeof e?e>=0?e&Uu:pI:e}(t);if("function"==typeof o){if(!Pv(e,n,i))return i&ft.Host?$v(r,0,i):qv(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ft.Optional)return s;Pl()}finally{Pu()}}else if("number"==typeof o){let s=null,a=Hv(n,e),c=Rs,d=i&ft.Host?e[en][Ai]:null;for((-1===a||i&ft.SkipSelf)&&(c=-1===a?bc(n,e):e[a+8],c!==Rs&&Wv(i,!1)?(s=e[de],a=vc(c),e=Vu(c,e)):a=-1);-1!==a;){const h=e[de];if(zu(o,a,h.data)){const p=Zm(a,e,t,s,i,d);if(p!==Do)return p}c=e[a+8],c!==Rs&&Wv(i,e[de].data[a+8]===d)&&zu(o,a,e)?(s=h,a=vc(c),e=Vu(c,e)):a=-1}}return r}function Zm(n,e,t,i,r,o){const s=e[de],a=s.data[n+8],h=ju(a,s,t,null==i?ns(a)&&rs:i!=s&&0!=(3&a.type),r&ft.Host&&o===a);return null!==h?ya(e,s,h,a):Do}function ju(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&vr(v)&&v.type===t)return c}return null}function ya(n,e,t,i){let r=n[t];const o=e.data;if(function Fu(n){return n instanceof _c}(r)){const s=r;s.resolving&&function kE(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,`Circular dependency in DI detected for ${n}${t}`)}(function _t(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():We(n)}(o[t]));const a=Bu(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Di(s.injectImpl):null;Pv(n,i,ft.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function lI(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=xu(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&Di(d),Bu(a),s.resolving=!1,Pu()}}return r}function zu(n,e,t){return!!(t[e+(n>>zv)]&1<<n)}function Wv(n,e){return!(n&ft.Self||n&ft.Host&&e)}class Yn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Gv(this._tNode,this._lView,e,nc(i),t)}}function pI(){return new Yn(Pt(),q())}function An(n){return ts(()=>{const e=n.prototype.constructor,t=e[Jo]||Hu(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Jo]||Hu(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Hu(n){return aa(n)?()=>{const e=Hu(Ve(n));return e&&e()}:_a(n)}function Zv(n){const e=n[de],t=e.type;return 2===t?e.declTNode:1===t?n[Ai]:null}const So="__parameters__";function xc(n,e,t){return ts(()=>{const i=function Ym(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,d,h){const p=c.hasOwnProperty(So)?c[So]:Object.defineProperty(c,So,{value:[]})[So];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function wa(n,e){n.forEach(t=>Array.isArray(t)?wa(t,e):e(t))}function Xv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function eo(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Tc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function tn(n,e,t){let i=Ps(n,e);return i>=0?n[1|i]=t:(i=~i,function Jv(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Jl(n,e){const t=Ps(n,e);if(t>=0)return n[1|t]}function Ps(n,e){return function Ao(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const f=ha(xc("Optional"),8),u=ha(xc("SkipSelf"),4),Ea=new X("ENVIRONMENT_INITIALIZER"),ip=new X("INJECTOR",-1),nd=new X("INJECTOR_DEF_TYPES");class id{get(e,t=da){if(t===da){const i=new Error(`NullInjectorError: No provider for ${jn(e)}!`);throw i.name="NullInjectorError",i}return t}}function op(...n){return{\u0275providers:sy(0,n),\u0275fromNgModule:!0}}function sy(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return wa(e,s=>{const a=s;ay(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&XM(r,o),t}function XM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];CI(r,o=>{e(o,i)})}}function ay(n,e,t,i){if(!(n=Ve(n)))return!1;let r=null,o=Bi(n);const s=!o&&at(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Bi(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)ay(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{wa(o.imports,h=>{ay(h,e,t,i)&&(d||=[],d.push(h))})}finally{}void 0!==d&&XM(d,e)}if(!a){const d=_a(r)||(()=>new r);e({provide:r,useFactory:d,deps:Et},r),e({provide:nd,useValue:r,multi:!0},r),e({provide:Ea,useValue:()=>R(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const d=n;CI(c,h=>{e(h,d)})}}}return r!==n&&void 0!==n.providers}function CI(n,e){for(let t of n)kl(t)&&(t=t.\u0275providers),Array.isArray(t)?CI(t,e):e(t)}const v$=Vt({provide:String,useValue:Vt});function TI(n){return null!==n&&"object"==typeof n&&v$ in n}function rd(n){return"function"==typeof n}const DI=new X("Set Injector scope."),cy={},b$={};let SI;function ly(){return void 0===SI&&(SI=new id),SI}class to{}class od extends to{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kI(e,s=>this.processProvider(s)),this.records.set(ip,Gu(void 0,this)),r.has("environment")&&this.records.set(to,Gu(void 0,this));const o=this.records.get(DI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nd,Et,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ts(this),i=Di(void 0);try{return e()}finally{Ts(t),Di(i)}}get(e,t=da,i=ft.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(X_))return e[X_](this);i=nc(i);const o=Ts(this),s=Di(void 0);try{if(!(i&ft.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function C$(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&la(e);c=d&&this.injectableDefInScope(d)?Gu(AI(e),cy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&ft.Self?ly():this.parent).get(e,t=i&ft.Optional&&t===da?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ec]=a[ec]||[]).unshift(jn(e)),o)throw a;return function um(n,e,t,i){const r=n[ec];throw e[vu]&&r.unshift(e[vu]),n.message=function UE(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=jn(e);if(Array.isArray(e))r=e.map(jn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):jn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(_u,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[ec]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Di(s),Ts(o)}}resolveInjectorInitializers(){const e=Ts(this),t=Di(void 0);try{const r=this.get(Ea,Et,ft.Self);for(const o of r)o()}finally{Ts(e),Di(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(jn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=rd(e=Ve(e))?e:Ve(e&&e.provide);const i=function E$(n){return TI(n)?Gu(void 0,n.useValue):Gu(tR(n),cy)}(e);if(rd(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Gu(void 0,cy,!0),r.factory=()=>dm(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===cy&&(t.value=b$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function x$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ve(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function AI(n){const e=la(n),t=null!==e?e.factory:_a(n);if(null!==t)return t;if(n instanceof X)throw new U(204,!1);if(n instanceof Function)return function w$(n){const e=n.length;if(e>0)throw Tc(e,"?"),new U(204,!1);const t=function rm(n){return n&&(n[Fl]||n[hu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function tR(n,e,t){let i;if(rd(n)){const r=Ve(n);return _a(r)||AI(r)}if(TI(n))i=()=>Ve(n.useValue);else if(function eR(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...dm(n.deps||[]));else if(function JM(n){return!(!n||!n.useExisting)}(n))i=()=>R(Ve(n.useExisting));else{const r=Ve(n&&(n.useClass||n.provide));if(!function I$(n){return!!n.deps}(n))return _a(r)||AI(r);i=()=>new r(...dm(n.deps))}return i}function Gu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function kI(n,e){for(const t of n)Array.isArray(t)?kI(t,e):t&&kl(t)?kI(t.\u0275providers,e):e(t)}function oR(n,e=null,t=null,i){const r=sR(n,e,t,i);return r.resolveInjectorInitializers(),r}function sR(n,e=null,t=null,i,r=new Set){const o=[t||Et,op(n)];return i=i||("object"==typeof n?void 0:jn(n)),new od(o,e||ly(),i||null,r)}let PI,Hi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=da;static#t=this.NULL=new id;static create(t,i){if(Array.isArray(t))return oR({name:""},i,t,"");{const r=t.name??"";return oR({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ce({token:n,providedIn:"any",factory:()=>R(ip)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const uy=new X("AppId",{providedIn:"root",factory:()=>N$}),N$="ng",cR=new X("Platform Initializer"),ss=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wu=new X("AnimationModuleType"),OI=new X("CSP nonce",{providedIn:"root",factory:()=>function Sc(){if(void 0!==PI)return PI;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function no(n){return n instanceof Function?n():n}function py(n){return 128==(128&n.flags)}var Mc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mc||{});const q$=/^>|^->|<!--|-->|--!>|<!-$/g,G$=/(<|>)/g,W$="\u200b$1\u200b";const BI=new Map;let Z$=0;const jI="__ngContext__";function tr(n,e){Nn(e)?(n[jI]=e[ql],function Q$(n){BI.set(n[ql],n)}(e)):n[jI]=e}let zI;function HI(n,e){return zI(n,e)}function dp(n){const e=n[gn];return Fn(e)?e[gn]:e}function TR(n){return SR(n[Hl])}function DR(n){return SR(n[Xr])}function SR(n){for(;null!==n&&!Fn(n);)n=n[Xr];return n}function Ku(n,e,t,i,r){if(null!=i){let o,s=!1;Fn(i)?o=i:Nn(i)&&(s=!0,i=i[Dn]);const a=Gt(i);0===n&&null!==t?null==r?RR(e,t,a):sd(e,t,a,r||null,!0):1===n&&null!==t?sd(e,t,a,r||null,!0):2===n?function Ey(n,e,t){const i=by(n,e);i&&function g5(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function y5(n,e,t,i,r){const o=t[Io];o!==Gt(t)&&Ku(e,n,i,o,r);for(let a=Sn;a<t.length;a++){const c=t[a];fp(c[de],c,n,e,i,o)}}(e,n,o,t,r)}}function $I(n,e){return n.createComment(function vR(n){return n.replace(q$,e=>e.replace(G$,W$))}(e))}function vy(n,e,t){return n.createElement(e,t)}function kR(n,e){const t=n[ac],i=t.indexOf(e);t.splice(i,1)}function up(n,e){if(n.length<=Sn)return;const t=Sn+e,i=n[t];if(i){const r=i[Eu];null!==r&&r!==n&&kR(r,i),e>0&&(n[t-1][Xr]=i[Xr]);const o=eo(n,Sn+e);!function c5(n,e){fp(n,e,e[Ye],2,null,null),e[Dn]=null,e[Ai]=null}(i[de],i);const s=o[Eo];null!==s&&s.detachView(o[de]),i[gn]=null,i[Xr]=null,i[ze]&=-129}return i}function yy(n,e){if(!(256&e[ze])){const t=e[Ye];e[ga]&&function xi(n){if(Li(n),Lt(n))for(let e=0;e<n.producerNode.length;e++)Tt(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[ga]),t.destroyNode&&fp(n,e,t,3,null,null),function u5(n){let e=n[Hl];if(!e)return qI(n[de],n);for(;e;){let t=null;if(Nn(e))t=e[Hl];else{const i=e[Sn];i&&(t=i)}if(!t){for(;e&&!e[Xr]&&e!==n;)Nn(e)&&qI(e[de],e),e=e[gn];null===e&&(e=n),Nn(e)&&qI(e[de],e),t=e&&e[Xr]}e=t}}(e)}}function qI(n,e){if(!(256&e[ze])){e[ze]&=-129,e[ze]|=256,function p5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof _c)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Br(4,a,c);try{c.call(a)}finally{Br(5,a,c)}}else{Br(4,r,o);try{o.call(r)}finally{Br(5,r,o)}}}}}(n,e),function m5(n,e){const t=n.cleanup,i=e[Ds];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Ds]=null);const r=e[Ss];if(null!==r){e[Ss]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[de].type&&e[Ye].destroy();const t=e[Eu];if(null!==t&&Fn(e[gn])){t!==e[gn]&&kR(t,e);const i=e[Eo];null!==i&&i.detachView(n)}!function Y$(n){BI.delete(n[ql])}(e)}}function GI(n,e,t){return function MR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Dn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Yr.None||o===Yr.Emulated)return null}return ji(i,t)}}(n,e.parent,t)}function sd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function RR(n,e,t){n.appendChild(e,t)}function PR(n,e,t,i,r){null!==i?sd(n,e,t,i,r):RR(n,e,t)}function by(n,e){return n.parentNode(e)}function OR(n,e,t){return FR(n,e,t)}let WI,xy,FR=function NR(n,e,t){return 40&n.type?ji(n,t):null};function wy(n,e,t,i){const r=GI(n,i,e),o=e[Ye],a=OR(i.parent||e[Ai],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)PR(o,r,t[c],a,!1);else PR(o,r,t,a,!1);void 0!==WI&&WI(o,i,e,t,r)}function hp(n,e){if(null!==e){const t=e.type;if(3&t)return ji(e,n);if(4&t)return ZI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return hp(n,i);{const r=n[e.index];return Fn(r)?ZI(-1,r):Gt(r)}}if(32&t)return HI(e,n)()||Gt(n[e.index]);{const i=VR(n,e);return null!==i?Array.isArray(i)?i[0]:hp(dp(n[en]),i):hp(n,e.next)}}return null}function VR(n,e){return null!==e?n[en][Ai].projection[e.projection]:null}function ZI(n,e){const t=Sn+n+1;if(t<e.length){const i=e[t],r=i[de].firstChild;if(null!==r)return hp(i,r)}return e[Io]}function KI(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&tr(Gt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)KI(n,e,t.child,i,r,o,!1),Ku(e,n,r,a,o);else if(32&c){const d=HI(t,i);let h;for(;h=d();)Ku(e,n,r,h,o);Ku(e,n,r,a,o)}else 16&c?UR(n,e,i,t,r,o):Ku(e,n,r,a,o);t=s?t.projectionNext:t.next}}function fp(n,e,t,i,r,o){KI(t,i,n.firstChild,e,r,o,!1)}function UR(n,e,t,i,r,o){const s=t[en],c=s[Ai].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Ku(e,n,r,c[d],o);else{let d=c;const h=s[gn];py(i)&&(d.flags|=128),KI(n,e,d,h,r,o,!0)}}function jR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function zR(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&jl(n,e,i),null!==r&&jR(n,e,r),null!==o&&function w5(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function qR(n){return function YI(){if(void 0===xy&&(xy=null,Ut.trustedTypes))try{xy=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xy}()?.createScriptURL(n)||n}class ad{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lu})`}}function io(n){return n instanceof ad?n.changingThisBreaksApplicationSecurity:n}function Os(n,e){const t=function k5(n){return n instanceof ad&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lu})`)}return t===e}const B5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $i=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($i||{});function pp(n){const e=gp();return e?e.sanitize($i.URL,n)||"":Os(n,"URL")?io(n):function Cy(n){return(n=String(n)).match(B5)?n:"unsafe:"+n}(We(n))}function JR(n){const e=gp();if(e)return qR(e.sanitize($i.RESOURCE_URL,n)||"");if(Os(n,"ResourceURL"))return qR(io(n));throw new U(904,!1)}function gp(){const n=q();return n&&n[pa].sanitizer}let tP=(n,e,t)=>null;function cx(n,e,t=!1){return tP(n,e,t)}class o6{}class rP{}class a6{resolveComponentFactory(e){throw function s6(n){const e=Error(`No component factory found for ${jn(n)}.`);return e.ngComponent=n,e}(e)}}let yp=(()=>{class n{static#e=this.NULL=new a6}return n})();function c6(){return Ju(Pt(),q())}function Ju(n,e){return new nn(ji(n,e))}let nn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=c6}return n})();function l6(n){return n instanceof nn?n.nativeElement:n}class ux{}let xa=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function d6(){const n=q(),t=br(Pt().index,n);return(Nn(t)?t:n)[Ye]}()}return n})(),u6=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();class Rc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sP=new Rc("17.0.2"),hx={};function Ry(n){return!!fx(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function fx(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class cP{constructor(){}supports(e){return Ry(e)}create(e){return new g6(e)}}const p6=(n,e)=>e;class g6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||p6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<dP(i,r,o)?t:i,a=dP(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,h=c-r;if(d!=h){for(let g=0;g<d;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<d&&(o[g]=v+1)}o[s.previousIndex]=h-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ry(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function m6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new _6(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new lP),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class v6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class lP{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new v6,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dP(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class uP{constructor(){}supports(e){return e instanceof Map||fx(e)}create(){return new y6}}class y6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||fx(e)))throw new U(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new b6(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class b6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hP(){return new Py([new cP])}let Py=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:hP});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||hP()),deps:[[n,new u,new f]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new U(901,!1)}}return n})();function fP(){return new bp([new uP])}let bp=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:fP});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||fP()),deps:[[n,new u,new f]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new U(901,!1)}}return n})();function wp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Gt(o)),Fn(o)&&mP(o,i);const s=t.type;if(8&s)wp(n,e,t.child,i);else if(32&s){const a=HI(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=VR(e,t);if(Array.isArray(a))i.push(...a);else{const c=dp(e[en]);wp(c[de],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function mP(n,e){for(let t=Sn;t<n.length;t++){const i=n[t],r=i[de].firstChild;null!==r&&wp(i[de],i,r,e)}n[Io]!==n[Dn]&&e.push(n[Io])}let pP=[];const C6={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Su(n.lView)},consumerOnSignalRead(){this.lView[ga]=this}};function mx(n){return n.ngOriginalError}class as{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&mx(e);for(;t&&mx(t);)t=mx(t);return t||null}}const vP=new X("",{providedIn:"root",factory:()=>!1}),nt={};function _e(n){EP(mt(),q(),zi()+n,!1)}function EP(n,e,t,i){if(!i)if(3==(3&e[ze])){const o=n.preOrderCheckHooks;null!==o&&Ou(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Yl(e,o,0,t)}va(t)}function O(n,e=ft.Default){const t=q();return null===t?R(n,e):Gv(Pt(),t,Ve(n),e)}function Ny(n,e,t,i,r,o,s,a,c,d,h){const p=e.blueprint.slice();return p[Dn]=r,p[ze]=140|i,(null!==d||n&&2048&n[ze])&&(p[ze]|=2048),Du(p),p[gn]=p[$l]=n,p[Jt]=t,p[pa]=s||n&&n[pa],p[Ye]=a||n&&n[Ye],p[si]=c||n&&n[si]||null,p[Ai]=o,p[ql]=function K$(){return Z$++}(),p[Vr]=h,p[sc]=d,p[en]=2==e.type?n[en]:p,p}function eh(n,e,t,i,r){let o=n.data[e];if(null===o)o=function px(n,e,t,i,r){const o=Mu(),s=Nm(),c=n.data[e]=function V6(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return hc()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Fm(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function fc(){const n=je.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ur(o,!0),o}function Ep(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function xP(n,e,t,i,r){const o=zi(),s=2&i;try{va(-1),s&&e.length>Ue&&EP(n,e,Ue,!1),Br(s?2:0,r),t(i,r)}finally{va(o),Br(s?3:1,r)}}function gx(n,e,t){if(ym(e)){const i=et(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{et(i)}}}function _x(n,e,t){Tv()&&(function q6(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;ns(t)&&function X6(n,e,t){const i=ji(e,n),r=CP(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Fy(n,Ny(n,r,null,s,i,e,null,n[pa].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||yc(t,e),tr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],d=ya(e,n,a,t);tr(d,e),null!==s&&J6(0,a-r,d,c,0,s),vr(c)&&(br(t.index,e)[Jt]=ya(e,n,a,t))}}(n,e,t,ji(t,e)),64==(64&t.flags)&&kP(n,e,t))}function vx(n,e,t=ji){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function CP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=yx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yx(n,e,t,i,r,o,s,a,c,d,h){const p=Ue+i,g=p+r,v=function R6(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:nt);return t}(p,g),b="function"==typeof d?d():d;return v[de]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let TP=n=>null;function DP(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?SP(t,e,r,o):i.hasOwnProperty(r)&&SP(t,e,i[r],o)}return t}function SP(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function ro(n,e,t,i,r,o,s,a){const c=ji(e,t);let h,d=e.inputs;!a&&null!=d&&(h=d[i])?(xx(n,t,h,i,r),ns(e)&&function j6(n,e){const t=br(e,n);16&t[ze]||(t[ze]|=64)}(t,e.index)):3&e.type&&(i=function U6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function bx(n,e,t,i){if(Tv()){const r=null===i?null:{"":-1},o=function W6(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(mv(e,s.selectors,!1))if(i||(i=[]),vr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),wx(n,e,a.length)}else i.unshift(s),wx(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&AP(n,e,t,s,r,a),r&&function Z6(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new U(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=zl(t.mergedAttrs,t.attrs)}function AP(n,e,t,i,r,o){for(let d=0;d<i.length;d++)Gm(yc(t,e),n,i[d].type);!function Q6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const h=i[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=Ep(n,e,i.length,null);for(let d=0;d<i.length;d++){const h=i[d];t.mergedAttrs=zl(t.mergedAttrs,h.hostAttrs),Y6(n,t,e,c,h),K6(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function B6(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=DP(p.inputs,h,c,g?g.inputs:null),d=DP(p.outputs,h,d,b);const w=null===c||null===s||fv(e)?null:e8(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function kP(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Mv(){return je.lFrame.currentDirectiveIndex}();try{va(o);for(let a=i;a<r;a++){const c=n.data[a],d=e[a];Lm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&G6(c,d)}}finally{va(-1),Lm(s)}}function G6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function wx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function K6(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;vr(e)&&(t[""]=n)}}function Y6(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=_a(r.type)),s=new _c(o,vr(r),O);n.blueprint[i]=s,t[i]=s,function H6(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function $6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Ep(n,t,r.hostVars,nt),r)}function Ns(n,e,t,i,r,o){const s=ji(n,e);!function Ex(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?We(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ye],s,o,n.value,t,i,r)}function J6(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)MP(i,t,s[a++],s[a++],s[a++])}function MP(n,e,t,i,r){const o=et(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{et(o)}}function e8(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function RP(n,e,t,i){return[n,!0,!1,e,null,i,!1,t,null,null,null]}function PP(n,e){const t=n.contentQueries;if(null!==t){const i=et(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Vm(t[r]),a.contentQueries(2,e[s],s)}}}finally{et(i)}}}function Fy(n,e){return n[Hl]?n[gv][Xr]=e:n[Hl]=e,n[gv]=e,e}function Ix(n,e,t){Vm(0);const i=et(null);try{e(n,t)}finally{et(i)}}function OP(n){return n[Ds]||(n[Ds]=[])}function NP(n){return n.cleanup||(n.cleanup=[])}function FP(n,e,t){return(null===n||vr(n))&&(t=function Tm(n){for(;Array.isArray(n);){if("object"==typeof n[_m])return n;n=n[Dn]}return null}(t[e.index])),t[Ye]}function Ly(n,e){const t=n[si],i=t?t.get(as,null):null;i&&i.handleError(e)}function xx(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];MP(n.data[s],e[s],i,a,r)}}function Ca(n,e,t){const i=Kl(e,n);!function AR(n,e,t){n.setValue(e,t)}(n[Ye],i,t)}function LP(n,e,t,i){const r=e[ze];if(256==(256&r))return;e[pa].inlineEffectRunner?.flush(),Bm(e);let s=null,a=null;(function r8(n){return 2!==n.type})(n)&&(a=function E6(n){return n[ga]??function I6(n){const e=pP.pop()??Object.create(C6);return e.lView=n,e}(n)}(e),s=function it(n){return n&&(n.nextProducerIndex=0),et(n)}(a));try{Du(e),function Av(n){return je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&xP(n,e,t,2,i);const c=3==(3&r);if(c){const p=n.preOrderCheckHooks;null!==p&&Ou(e,p,null)}else{const p=n.preOrderHooks;null!==p&&Yl(e,p,0,null),zm(e,0)}if(function o8(n){for(let e=TR(n);null!==e;e=DR(e)){if(!e[Iu])continue;const t=e[ac];for(let i=0;i<t.length;i++){Mm(t[i])}}}(e),VP(e,0),null!==n.contentQueries&&PP(n,e),c){const p=n.contentCheckHooks;null!==p&&Ou(e,p)}else{const p=n.contentHooks;null!==p&&Yl(e,p,1),zm(e,1)}!function M6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)va(~r);else{const o=r,s=t[++i],a=t[++i];rI(s,o),a(2,e[o])}}}finally{va(-1)}}(n,e);const d=n.components;null!==d&&jP(e,d,0);const h=n.viewQuery;if(null!==h&&Ix(2,h,i),c){const p=n.viewCheckHooks;null!==p&&Ou(e,p)}else{const p=n.viewHooks;null!==p&&Yl(e,p,2),zm(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[_n]){for(const p of e[_n])p();e[_n]=null}e[ze]&=-73}catch(c){throw Su(e),c}finally{null!==a&&(function lt(n,e){if(et(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Lt(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Tt(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function x6(n){n.lView[ga]!==n&&(n.lView=null,pP.push(n))}(a)),Um()}}function VP(n,e){for(let t=TR(n);null!==t;t=DR(t)){t[vm]=!1;for(let i=Sn;i<t.length;i++)BP(t[i],e)}}function s8(n,e,t){BP(br(e,n),t)}function BP(n,e){Am(n)&&UP(n,e)}function UP(n,e){const i=n[de],r=n[ze],o=n[ga];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!Kn(o)),o&&(o.dirty=!1),n[ze]&=-9217,s)LP(i,n,i.template,n[Jt]);else if(8192&r){VP(n,1);const a=i.components;null!==a&&jP(n,a,1)}}function jP(n,e,t){for(let i=0;i<e.length;i++)s8(n,e[i],t)}function Ip(n){for(;n;){n[ze]|=64;const e=dp(n);if(bm(n)&&!e)return n;n=e}return null}class xp{get rootNodes(){const e=this._lView,t=e[de];return wp(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return 256==(256&this._lView[ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gn];if(Fn(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(up(e,i),eo(t,i))}this._attachedToViewContainer=!1}yy(this._lView[de],this._lView)}onDestroy(e){Au(this._lView,e)}markForCheck(){Ip(this._cdRefInjectingView||this._lView)}detach(){this._lView[ze]&=-129}reattach(){uc(this._lView),this._lView[ze]|=128}detectChanges(){!function Cx(n,e,t,i=!0){const r=e[pa],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{LP(n,e,n.template,t),function n8(n){let e=0;for(;9216&n[ze]||n[ga]?.dirty;){if(100===e)throw new U(103,!1);e++,UP(n,1)}}(e)}catch(c){throw i&&Ly(e,c),c}finally{o.end?.(),r.inlineEffectRunner?.flush(),s?.end()}}(this._lView[de],this._lView,this.context,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function d5(n,e){fp(n,e,e[Ye],2,null,null)}(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}let Fs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=a8}return n})();function a8(n){return function c8(n,e,t){if(ns(n)&&!t){const i=br(n.index,e);return new xp(i,i)}return 47&n.type?new xp(e[en],e):null}(Pt(),q(),16==(16&n))}let Vy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=h8;static#t=this.__NG_ENV_ID__=t=>t}return n})();class u8 extends Vy{constructor(e){super(),this._lView=e}onDestroy(e){return Au(this._lView,e),()=>function Ql(n,e){if(null===n[Ss])return;const t=n[Ss].indexOf(e);-1!==t&&n[Ss].splice(t,1)}(this._lView,e)}}function h8(){return new u8(q())}const zP=new Set;function cd(n){zP.has(n)||(zP.add(n),performance?.mark?.("mark_use_counter",{detail:{feature:n}}))}function Tx(n){return e=>{setTimeout(n,void 0,e)}}const Qt=class y8 extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Tx(o),r&&(r=Tx(r)),s&&(s=Tx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Mt&&e.add(a),a}};function HP(...n){}class Fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function b8(){const n="function"==typeof Ut.requestAnimationFrame;let e=Ut[n?"requestAnimationFrame":"setTimeout"],t=Ut[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function I8(n){const e=()=>{!function E8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sx(n),n.isCheckStableRunning=!0,Dx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function C8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return $P(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),qP(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return $P(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),qP(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Sx(n),Dx(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new U(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,w8,HP,HP);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const w8={};function Dx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $P(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qP(n){n._nesting--,Dx(n)}class x8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const GP=new X("",{providedIn:"root",factory:WP});function WP(){const n=ae(Fe);let e=!0;return Ya(new wt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new wt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Dl()))}var ld=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ld||{});const ZP={destroy(){}};function QP(n,e){!e&&function MI(n){if(!rv()&&!function cm(){return tc}())throw new U(-203,!1)}();const t=e?.injector??ae(Hi);if(!function Ac(n){return"browser"===(n??ae(Hi)).get(ss)}(t))return ZP;cd("NgAfterNextRender");const i=t.get(By),r=i.handler??=new XP,o=e?.phase??ld.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Vy).onDestroy(s),c=new YP(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class YP{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Fe),this.errorHandler=e.get(as,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class XP{constructor(){this.executingCallbacks=!1,this.buckets={[ld.EarlyRead]:new Set,[ld.Write]:new Set,[ld.MixedReadWrite]:new Set,[ld.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new U(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let By=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function D8(n,e){const t=br(e,n),i=t[de];!function S8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Dn];null!==r&&null===t[Vr]&&(t[Vr]=cx(r,t[si])),Ax(i,t,t[Jt])}function Ax(n,e,t){Bm(e);try{const i=n.viewQuery;null!==i&&Ix(1,i,t);const r=n.template;null!==r&&xP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&PP(n,e),n.staticViewQueries&&Ix(2,n.viewQuery,t);const o=n.components;null!==o&&function A8(n,e){for(let t=0;t<e.length;t++)D8(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ze]&=-5,Um()}}function Uy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Al(r,a):2==o&&(i=Al(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class JP extends yp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=at(e);return new Cp(t,this.ngModule)}}function e1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class M8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=nc(i);const r=this.injector.get(e,hx,i);return r!==hx||t===hx?r:this.parentInjector.get(e,t,i)}}class Cp extends rP{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=e1(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return e1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function qE(n){return n.map($E).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof to?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new M8(e,o):e,a=s.get(ux,null);if(null===a)throw new U(407,!1);const h={rendererFactory:a,sanitizer:s.get(u6,null),inlineEffectRunner:null,afterRenderEventManager:s.get(By,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function P6(n,e,t,i){const o=i.get(vP,!1)||t===Yr.ShadowDom,s=n.selectRootElement(e,o);return function O6(n){TP(n)}(s),s}(p,i,this.componentDef.encapsulation,s):vy(p,g,function k8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==v&&(A=cx(v,s,!0));const S=yx(0,null,null,1,0,null,null,null,null,null,null),M=Ny(null,S,null,E,null,null,h,p,s,null,A);let Y,ue;Bm(M);try{const xe=this.componentDef;let Qe,dn=null;xe.findHostDirectiveDefs?(Qe=[],dn=new Map,xe.findHostDirectiveDefs(xe,Qe,dn),Qe.push(xe)):Qe=[xe];const mo=function P8(n,e){const t=n[de],i=Ue;return n[i]=e,eh(t,i,2,"#host",null)}(M,v),Kr=function O8(n,e,t,i,r,o,s){const a=r[de];!function N8(n,e,t,i){for(const r of n)e.mergedAttrs=zl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Uy(e,e.mergedAttrs,!0),null!==t&&zR(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=cx(e,r[si]));const d=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=Ny(r,CP(t),null,h,r[n.index],n,o,d,null,null,c);return a.firstCreatePass&&wx(a,n,i.length-1),Fy(r,p),r[n.index]=p}(mo,v,xe,Qe,M,h,p);ue=lc(S,Ue),v&&function L8(n,e,t,i){if(i)jl(n,t,["ng-version",sP.full]);else{const{attrs:r,classes:o}=function GE(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!gr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&jl(n,t,r),o&&o.length>0&&jR(n,t,o.join(" "))}}(p,xe,v,i),void 0!==t&&function V8(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(ue,this.ngContentSelectors,t),Y=function F8(n,e,t,i,r,o){const s=Pt(),a=r[de],c=ji(s,r);AP(a,r,s,t,null,i);for(let h=0;h<t.length;h++)tr(ya(r,a,s.directiveStart+h,s),r);kP(a,r,s),c&&tr(c,r);const d=ya(r,a,s.directiveStart+s.componentOffset,s);if(n[Jt]=r[Jt]=d,null!==o)for(const h of o)h(d,e);return gx(a,s,n),d}(Kr,xe,Qe,dn,M,[B8]),Ax(S,M,null)}finally{Um()}return new R8(this.componentType,Y,Ju(ue,M),M,ue)}}class R8 extends o6{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new xp(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;xx(o[de],o,r,e,t),this.previousInputValues.set(e,t),Ip(br(this._tNode.index,o))}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function B8(){const n=Pt();gc(q()[de],n)}function gt(n){let e=function t1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(vr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=jy(n.inputs),s.inputTransforms=jy(n.inputTransforms),s.declaredInputs=jy(n.declaredInputs),s.outputs=jy(n.outputs);const a=r.hostBindings;a&&H8(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&j8(n,c),d&&z8(n,d),Xa(n.inputs,r.inputs),Xa(n.declaredInputs,r.declaredInputs),Xa(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Xa(s.inputTransforms,r.inputTransforms)),vr(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===gt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function U8(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=zl(r.hostAttrs,t=zl(t,r.hostAttrs))}}(i)}function jy(n){return n===wo?{}:n===Et?[]:n}function j8(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function z8(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function H8(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function s1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function ai(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function nr(n,e,t,i){const r=q();return ai(r,Co(),e)&&(mt(),Ns(an(),r,n,e,t,i)),nr}function nh(n,e,t,i){return ai(n,Co(),t)?e+We(t)+i:nt}function ih(n,e,t,i,r,o){const a=function dd(n,e,t,i){const r=ai(n,e,t);return ai(n,e+1,i)||r}(n,function Jr(){return je.lFrame.bindingIndex}(),t,r);return is(2),a?e+We(t)+i+We(r)+o:nt}function Hy(n,e){return n<<17|e<<2}function Pc(n){return n>>17&32767}function kx(n){return 2|n}function ud(n){return(131068&n)>>2}function Mx(n,e){return-131069&n|e<<2}function Rx(n){return 1|n}function g1(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Pc(o):ud(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];eq(n[a],e)&&(c=!0,n[a+1]=i?Rx(h):kx(h)),a=i?Pc(h):ud(h)}c&&(n[t+1]=i?kx(o):Rx(o))}function eq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ps(n,e)>=0}function He(n,e,t){const i=q();return ai(i,Co(),e)&&ro(mt(),an(),i,n,e,i[Ye],t,!1),He}function Px(n,e,t,i,r){const s=r?"class":"style";xx(n,t,e.inputs[s],s,i)}function Dp(n,e,t){return cs(n,e,t,!1),Dp}function Xn(n,e){return cs(n,e,null,!0),Xn}function cs(n,e,t,i){const r=q(),o=mt(),s=is(2);o.firstUpdatePass&&function x1(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[zi()],s=function I1(n,e){return e>=n.expandoStartIndex}(n,t);(function S1(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function lq(n,e,t,i){const r=mc(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Sp(t=Ox(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Ox(r,n,e,t,i),null===o){let c=function dq(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==ud(i))return n[Pc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Ox(null,n,e,c[1],i),c=Sp(c,e.attrs,i),function uq(n,e,t,i){n[Pc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function hq(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Sp(i,n[o].hostAttrs,t);return Sp(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function X8(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Pc(s),c=ud(s);n[i]=t;let h,d=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ps(t,h)>0)&&(d=!0)):h=t,r)if(0!==c){const g=Pc(n[a+1]);n[i+1]=Hy(g,a),0!==g&&(n[g+1]=Mx(n[g+1],i)),n[a+1]=function Q8(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Hy(a,0),0!==a&&(n[a+1]=Mx(n[a+1],i)),a=i;else n[i+1]=Hy(c,0),0===a?a=i:n[c+1]=Mx(n[c+1],i),c=i;d&&(n[i+1]=kx(n[i+1])),g1(n,h,i,!0),g1(n,h,i,!1),function J8(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ps(o,e)>=0&&(t[i+1]=Rx(t[i+1]))}(e,h,n,i,o),s=Hy(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==nt&&ai(r,s,e)&&function T1(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],h=function Y8(n){return 1==(1&n)}(d)?D1(c,e,t,r,ud(d),s):void 0;$y(h)||($y(o)||function K8(n){return 2==(2&n)}(d)&&(o=D1(c,null,t,r,a,s)),function b5(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Mc.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Mc.Important),n.setStyle(t,i,r,o))}}(i,s,Kl(zi(),t),r,o))}(o,o.data[zi()],r,r[Ye],n,r[s+1]=function gq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=jn(io(n)))),n}(e,t),i,s)}function Ox(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Sp(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Sp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tn(n,s,!!t||e[++o]))}return void 0===n?null:n}function D1(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),h=d?c[1]:c,p=null===h;let g=t[r+1];g===nt&&(g=p?Et:void 0);let v=p?Jl(g,i):h===i?g:void 0;if(d&&!$y(v)&&(v=Jl(c,i)),$y(v)&&(a=v,s))return a;const b=n[r+1];r=s?Pc(b):ud(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Jl(c,i))}return a}function $y(n){return void 0!==n}function hh(n,e){return!e||py(n)}function Pp(n,e,t,i=!0){const r=e[de];if(function h5(n,e,t,i){const r=Sn+i,o=t.length;i>0&&(t[r-1][Xr]=e),i<o-Sn?(e[Xr]=t[r],Xv(t,Sn+i,e)):(t.push(e),e[Xr]=null),e[gn]=t;const s=e[Eu];null!==s&&t!==s&&function f5(n,e){const t=n[ac];e[en]!==e[gn][gn][en]&&(n[Iu]=!0),null===t?n[ac]=[e]:t.push(e)}(s,e);const a=e[Eo];null!==a&&a.insertView(n),uc(e),e[ze]|=128}(r,e,n,t),i){const o=ZI(t,n),s=e[Ye],a=by(s,n[Io]);null!==a&&function l5(n,e,t,i,r,o){i[Dn]=r,i[Ai]=e,fp(n,i,t,1,r,o)}(r,n[Ai],s,e,a,o)}}let ds=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Qq}return n})();function Qq(){return j1(Pt(),q())}const Yq=ds,B1=class extends Yq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ju(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=bc(this._hostTNode,this._hostLView);if(Hm(e)){const t=Vu(e,this._hostLView),i=vc(e);return new Yn(t[de].data[i+8],t)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=U1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Sn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,hh(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function ba(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new Cp(at(e)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?d:this.parentInjector).get(to,null);w&&(o=w)}at(c.componentType??{});const v=c.create(d,r,null,o);return this.insertImpl(v.hostView,a,hh(this._hostTNode,null)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function km(n){return Fn(n[gn])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[gn],d=new B1(c,c[Ai],c[gn]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Pp(s,r,o,i),e.attachToViewContainerRef(),Xv(Hx(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=U1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=up(this._lContainer,t);i&&(eo(Hx(this._lContainer),t),yy(i[de],i))}detach(e){const t=this._adjustIndex(e,-1),i=up(this._lContainer,t);return i&&null!=eo(Hx(this._lContainer),t)?new xp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function U1(n){return n[8]}function Hx(n){return n[8]||(n[8]=[])}function j1(n,e){let t;const i=e[n.index];return Fn(i)?t=i:(t=RP(i,e,null,n),e[n.index]=t,Fy(e,t)),z1(t,e,n,i),new B1(t,n,e)}let z1=function $1(n,e,t,i){if(n[Io])return;let r;r=8&t.type?Gt(i):function Xq(n,e){const t=n[Ye],i=t.createComment(""),r=ji(e,n);return sd(t,by(t,r),i,function _5(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Io]=r},$x=(n,e,t)=>!1;function zt(n,e,t,i,r,o,s,a){const c=q(),d=mt(),h=n+Ue,p=d.firstCreatePass?function n9(n,e,t,i,r,o,s,a,c){const d=e.consts,h=eh(e,n,4,s||null,xo(d,a));bx(e,t,h,xo(d,c)),gc(e,h);const p=h.tView=yx(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,d,c,e,t,i,r,o,s):d.data[h];Ur(p,!1);const g=q1(d,c,p,n);pc()&&wy(d,c,g,p),tr(g,c);const v=RP(g,c,g,p);return c[h]=v,Fy(c,v),function H1(n,e,t){return $x(n,e,t)}(v,p,c),Wl(p)&&_x(d,c,p),null!=s&&vx(c,p,a),zt}let q1=function G1(n,e,t,i){return To(!0),e[Ye].createComment("")};function N(n,e,t,i){const r=q(),o=mt(),s=Ue+n,a=r[Ye],c=o.firstCreatePass?function q9(n,e,t,i,r,o){const s=e.consts,c=eh(e,n,2,i,xo(s,r));return bx(e,t,c,xo(s,o)),null!==c.attrs&&Uy(c,c.attrs,!1),null!==c.mergedAttrs&&Uy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],d=pO(o,r,c,a,e,n);r[s]=d;const h=Wl(c);return Ur(c,!0),zR(a,d,c),32!=(32&c.flags)&&pc()&&wy(o,r,d,c),0===function Rm(){return je.lFrame.elementDepthCount}()&&tr(d,r),function xv(){je.lFrame.elementDepthCount++}(),h&&(_x(o,r,c),gx(o,c,r)),null!==i&&vx(r,c),N}function z(){let n=Pt();Nm()?Ru():(n=n.parent,Ur(n,!1));const e=n;(function Pm(n){return je.skipHydrationRootTNode===n})(e)&&function nI(){je.skipHydrationRootTNode=null}(),function Cv(){je.lFrame.elementDepthCount--}();const t=mt();return t.firstCreatePass&&(gc(t,n),ym(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function dI(n){return 0!=(8&n.flags)}(e)&&Px(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uI(n){return 0!=(16&n.flags)}(e)&&Px(t,e,q(),e.stylesWithoutHost,!1),z}function $e(n,e,t,i){return N(n,e,t,i),z(),$e}let pO=(n,e,t,i,r,o)=>(To(!0),vy(i,r,function Vv(){return je.lFrame.currentNamespace}()));function yh(n,e,t){const i=q(),r=mt(),o=n+Ue,s=r.firstCreatePass?function Z9(n,e,t,i,r){const o=e.consts,s=xo(o,i),a=eh(e,n,8,"ng-container",s);return null!==s&&Uy(a,s,!0),bx(e,t,a,xo(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Ur(s,!0);const a=_O(r,i,s,n);return i[o]=a,pc()&&wy(r,i,a,s),tr(a,i),Wl(s)&&(_x(r,i,s),gx(r,s,i)),null!=t&&vx(i,s),yh}function bh(){let n=Pt();const e=mt();return Nm()?Ru():(n=n.parent,Ur(n,!1)),e.firstCreatePass&&(gc(e,n),ym(n)&&e.queries.elementEnd(n)),bh}let _O=(n,e,t,i)=>(To(!0),$I(e[Ye],""));function Po(){return q()}function tC(n,e,t){const i=q();if(ai(i,Co(),e)){const o=mt(),s=an();ro(o,s,i,n,e,FP(mc(o.data),s,i),t,!0)}return tC}const Eh="en-US";let wO=Eh;function zp(n){return!!n&&"function"==typeof n.then}function GO(n){return!!n&&"function"==typeof n.subscribe}function Ze(n,e,t,i){const r=q(),o=mt(),s=Pt();return WO(o,r,r[Ye],s,n,e,i),Ze}function rC(n,e){const t=Pt(),i=q(),r=mt();return WO(r,i,FP(mc(r.data),t,i),t,n,e),rC}function WO(n,e,t,i,r,o,s){const a=Wl(i),d=n.firstCreatePass&&NP(n),h=e[Jt],p=OP(e);let g=!0;if(3&i.type||s){const w=ji(i,e),E=s?s(w):w,A=p.length,S=s?Y=>s(Gt(Y[i.index])):i.index;let M=null;if(!s&&a&&(M=function WG(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Ds],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,g=!1;else{o=KO(i,e,h,o,!1);const Y=t.listen(E,r,o);p.push(o,Y),d&&d.push(r,S,A,A+1)}}else o=KO(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const ue=e[b[E]][b[E+1]].subscribe(o),xe=p.length;p.push(o,ue),d&&d.push(r,i.index,xe,-(xe+1))}}}function ZO(n,e,t,i){try{return Br(6,e,t),!1!==t(i)}catch(r){return Ly(n,r),!1}finally{Br(7,e,t)}}function KO(n,e,t,i,r){return function o(s){if(s===Function)return i;Ip(n.componentOffset>-1?br(n.index,e):e);let c=ZO(e,t,i,s),d=o.__ngNextListenerFn__;for(;d;)c=ZO(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function qe(n=1){return function sI(n){return(je.lFrame.contextLView=function Iv(n,e){for(;n>0;)e=e[$l],n--;return e}(n,je.lFrame.contextLView))[Jt]}(n)}function ZG(n,e){let t=null;const i=function pv(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?mv(n,o,!0):rc(i,o))return r}else t=r}return t}function us(n){const e=q()[en][Ai];if(!e.projection){const i=e.projection=Tc(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?ZG(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function li(n,e=0,t){const i=q(),r=mt(),o=eh(r,Ue+n,16,null,t||null);null===o.projection&&(o.projection=e),Ru(),(!i[Vr]||hc())&&32!=(32&o.flags)&&function v5(n,e,t){UR(e[Ye],0,e,t,GI(n,t,e),OR(t.parent||e[Ai],t,e))}(r,i,o)}function Ih(n,e,t){return oC(n,"",e,"",t),Ih}function oC(n,e,t,i,r){const o=q(),s=nh(o,e,t,i);return s!==nt&&ro(mt(),an(),o,n,s,o[Ye],r,!1),oC}function Hr(n){return function dc(n,e){return n[e]}(function Dv(){return je.lFrame.contextLView}(),Ue+n)}function he(n,e=""){const t=q(),i=mt(),r=n+Ue,o=i.firstCreatePass?eh(i,r,1,e,null):i.data[r],s=fN(i,t,o,e,n);t[r]=s,pc()&&wy(i,t,s,o),Ur(o,!1)}let fN=(n,e,t,i,r)=>(To(!0),function _y(n,e){return n.createText(e)}(e[Ye],i));function yi(n){return Us("",n,""),yi}function Us(n,e,t){const i=q(),r=nh(i,n,e,t);return r!==nt&&Ca(i,zi(),r),Us}function rb(n,e,t,i,r){const o=q(),s=ih(o,n,e,t,i,r);return s!==nt&&Ca(o,zi(),s),rb}function sC(n,e,t,i,r){if(n=Ve(n),Array.isArray(n))for(let o=0;o<n.length;o++)sC(n[o],e,t,i,r);else{const o=mt(),s=q(),a=Pt();let c=rd(n)?n:Ve(n.provide);const d=tR(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(rd(n)||!n.multi){const v=new _c(d,r,O),b=cC(c,e,r?h:h+g,p);-1===b?(Gm(yc(a,s),o,c),aC(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=cC(c,e,h+g,p),b=cC(c,e,h,h+g),E=b>=0&&t[b];if(r&&!E||!r&&!(v>=0&&t[v])){Gm(yc(a,s),o,c);const A=function dW(n,e,t,i,r){const o=new _c(n,t,O);return o.multi=[],o.index=e,o.componentProviders=0,wN(o,r,i&&!t),o}(r?lW:cW,t.length,r,i,d);!r&&E&&(t[b].providerFactory=A),aC(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(A),s.push(A)}else aC(o,n,v>-1?v:b,wN(t[r?b:v],d,!r&&i));!r&&i&&E&&t[b].componentProviders++}}}function aC(n,e,t,i){const r=rd(e),o=function y$(n){return!!n.useClass}(e);if(r||o){const c=(o?Ve(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=d.indexOf(t);-1===h?d.push(t,[i,c]):d[h+1].push(i,c)}else d.push(t,c)}}}function wN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cC(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function cW(n,e,t,i){return lC(this.multi,[])}function lW(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ya(t,t[de],this.providerFactory.index,i);o=a.slice(0,s),lC(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],lC(r,o);return o}function lC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Wt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function aW(n,e,t){const i=mt();if(i.firstCreatePass){const r=vr(n);sC(t,i.data,i.blueprint,r,!0),sC(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class md{}class EN{}class dC extends md{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new JP(this);const r=Ui(e);this._bootstrapComponents=no(r.bootstrap),this._r3Injector=sR(e,t,[{provide:md,useValue:this},{provide:yp,useValue:this.componentFactoryResolver},...i],jn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uC extends EN{constructor(e){super(),this.moduleType=e}create(e){return new dC(this.moduleType,e,[])}}class IN extends md{constructor(e){super(),this.componentFactoryResolver=new JP(this),this.instance=null;const t=new od([...e.providers,{provide:md,useValue:this},{provide:yp,useValue:this.componentFactoryResolver}],e.parent||ly(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function hC(n,e,t=null){return new IN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let fW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=sy(0,t.type),r=i.length>0?hC([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(R(to))})}return n})();function fC(n){cd("NgStandalone"),n.getStandaloneInjector=e=>e.get(fW).getOrCreateStandaloneInjector(n)}function ab(n,e,t,i){return function MN(n,e,t,i,r,o){const s=e+t;return ai(n,s,r)?function Ls(n,e,t){return n[e]=t}(n,s+1,o?i.call(o,r):i(r)):function Hp(n,e){const t=n[e];return t===nt?void 0:t}(n,s+1)}(q(),function ki(){const n=je.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function UW(){return this._results[Symbol.iterator]()}class xh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Qt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=xh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=UW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function er(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Xm(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ta=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=HW}return n})();const jW=Ta,zW=class extends jW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Rp(n,e,t,i){const r=e.tView,a=Ny(n,r,t,4096&n[ze]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Eu]=n[e.index];const d=n[Eo];return null!==d&&(a[Eo]=d.createEmbeddedView(r)),Ax(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new xp(r)}};function HW(){return cb(Pt(),q())}function cb(n,e){return 4&n.type?new zW(e,n,Ju(n,e)):null}class pC{constructor(e){this.queryList=e,this.matches=null}clone(){return new pC(this.queryList)}setDirty(){this.queryList.setDirty()}}class gC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new gC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==UN(e,t).matches&&this.queries[t].setDirty()}}class FN{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class _C{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new _C(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class vC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new vC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,$W(t,o)),this.matchTNodeWithReadOption(e,t,ju(t,e,o,!1,!1))}else i===Ta?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ju(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===nn||r===ds||r===Ta&&4&t.type)this.addMatch(t.index,-2);else{const o=ju(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $W(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function GW(n,e,t,i){return-1===t?function qW(n,e){return 11&n.type?Ju(n,e):4&n.type?cb(n,e):null}(e,n):-2===t?function WW(n,e,t){return t===nn?Ju(e,n):t===Ta?cb(e,n):t===ds?j1(e,n):void 0}(n,e,i):ya(n,n[de],t,e)}function LN(n,e,t,i){const r=e[Eo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:GW(e,o[d],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function yC(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=LN(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const d=o[a+1],h=e[-c];for(let p=Sn;p<h.length;p++){const g=h[p];g[Eu]===g[gn]&&yC(g[de],g,d,i)}if(null!==h[ac]){const p=h[ac];for(let g=0;g<p.length;g++){const v=p[g];yC(v[de],v,d,i)}}}}}return i}function Ir(n){const e=q(),t=mt(),i=Rv();Vm(i+1);const r=UN(t,i);if(n.dirty&&function Sm(n){return 4==(4&n[ze])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?yC(t,e,i,[]):LN(t,e,r,i);n.reset(o,l6),n.notifyOnChanges()}return!0}return!1}function lb(n,e,t){const i=mt();i.firstCreatePass&&(BN(i,new FN(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),VN(i,q(),e)}function Oo(n,e,t,i){const r=mt();if(r.firstCreatePass){const o=Pt();BN(r,new FN(e,t,i),o.index),function KW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}VN(r,q(),t)}function xr(){return function ZW(n,e){return n[Eo].queries[e].queryList}(q(),Rv())}function VN(n,e,t){const i=new xh(4==(4&t));(function L6(n,e,t,i){const r=OP(e);r.push(t),n.firstCreatePass&&NP(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Eo]&&(e[Eo]=new gC),e[Eo].queries.push(new pC(i))}function BN(n,e,t){null===n.queries&&(n.queries=new _C),n.queries.track(new vC(e,t))}function UN(n,e){return n.queries.getByIndex(e)}const xC=new X("Application Initializer");let CC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ae(xC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(zp(o))t.push(o);else if(GO(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nF=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const js=new X("LocaleId",{providedIn:"root",factory:()=>ae(js,ft.Optional|ft.SkipSelf)||function _7(){return typeof $localize<"u"&&$localize.locale||Eh}()});let hb=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xi(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class I7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let rF=(()=>{class n{compileModuleSync(t){return new uC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=no(Ui(t).declarations).reduce((s,a)=>{const c=at(a);return c&&s.push(new Cp(c)),s},[]);return new I7(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lF=new X(""),mb=new X("");let AC,DC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AC||(function Z7(n){AC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(R(Fe),R(SC),R(mb))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),SC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return AC?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Nc=null;const dF=new X("AllowMultipleToken"),kC=new X("PlatformDestroyListeners"),MC=new X("appBootstrapListener");function fF(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=RC();if(!s||s.injector.get(dF,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Y7(n){if(Nc&&!Nc.get(dF,!1))throw new U(400,!1);(function uF(){!function $a(n){go=n}(()=>{throw new U(600,!1)})})(),Nc=n;const e=n.get(pF);(function hF(n){n.get(cR,null)?.forEach(t=>t())})(n)}(function mF(n=[],e){return Hi.create({name:e,providers:[{provide:DI,useValue:"platform"},{provide:kC,useValue:new Set([()=>Nc=null])},...n]})}(a,i))}return function J7(n){const e=RC();if(!e)throw new U(401,!1);return e}()}}function RC(){return Nc?.get(pF)??null}let pF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function eZ(n="zone.js",e){return"noop"===n?new x8:"zone.js"===n?new Fe(e):n}(i?.ngZone,function gF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function hW(n,e,t){return new dC(n,e,t)}(t.moduleType,this.injector,function wF(n){return[{provide:Fe,useFactory:n},{provide:Ea,multi:!0,useFactory:()=>{const e=ae(nZ,{optional:!0});return()=>e.initialize()}},{provide:bF,useFactory:tZ},{provide:GP,useFactory:WP}]}(()=>r)),s=o.injector.get(as,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{pb(this._modules,o),a.unsubscribe()})}),function _F(n,e,t){try{const i=t();return zp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(CC);return a.runInitializers(),a.donePromise.then(()=>(function EO(n){Tn(n,"Expected localeId to be defined"),"string"==typeof n&&(wO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(js,Eh)||Eh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=vF({},i);return function K7(n,e,t){const i=new uC(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Fc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(kC,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(R(Hi))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function vF(n,e){return Array.isArray(e)?e.reduce(vF,n):{...n,...e}}let Fc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ae(bF),this.zoneIsStable=ae(GP),this.componentTypes=[],this.components=[],this.isStable=ae(hb).hasPendingTasks.pipe(qt(t=>t?Ie(!1):this.zoneIsStable),Sl(),Dl()),this._injector=ae(to)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof rP;if(!this._injector.get(CC).done)throw!r&&function fa(n){const e=at(n)||oi(n)||Si(n);return null!==e&&e.standalone}(t),new U(405,!1);let s;s=r?t:this._injector.get(yp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Q7(n){return n.isBoundToModule}(s)?void 0:this._injector.get(md),d=s.create(Hi.NULL,[],i||s.selector,a),h=d.location.nativeElement,p=d.injector.get(lF,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),pb(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;pb(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(MC,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const bF=new X("",{providedIn:"root",factory:()=>ae(as).handleError.bind(void 0)});function tZ(){const n=ae(Fe),e=ae(as);return t=>n.runOutsideAngular(()=>e.handleError(t))}let nZ=(()=>{class n{constructor(){this.zone=ae(Fe),this.applicationRef=ae(Fc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lZ=fF(null,"core",[]);let dZ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(R(Fc))};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({})}return n})();function Sh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let zC=null;function Lc(){return zC}class OZ{}const yt=new X("DocumentToken");let HC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>ae(FZ),providedIn:"platform"})}return n})();const NZ=new X("Location Initialized");let FZ=(()=>{class n extends HC{constructor(){super(),this._doc=ae(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lc().getBaseHref(this._doc)}onPopState(t){const i=Lc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Lc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function $C(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function qF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Da(n){return n&&"?"!==n[0]?"?"+n:n}let gd=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>ae(WF),providedIn:"root"})}return n})();const GF=new X("appBaseHref");let WF=(()=>{class n extends gd{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ae(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $C(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Da(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Da(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Da(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(HC),R(GF,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LZ=(()=>{class n extends gd{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=$C(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Da(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Da(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(HC),R(GF,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Ah=(()=>{class n{constructor(t){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function UZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(qF(ZF(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Da(i))}normalize(t){return n.stripTrailingSlash(function BZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ZF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Da(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Da(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Da;static#t=this.joinWithSlash=$C;static#n=this.stripTrailingSlash=qF;static#i=this.\u0275fac=function(i){return new(i||n)(R(gd))};static#r=this.\u0275prov=ce({token:n,factory:()=>function VZ(){return new Ah(R(gd))}(),providedIn:"root"})}return n})();function ZF(n){return n.replace(/\/index.html$/,"")}function iL(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const eT=/\s+/,rL=[];let oL=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=rL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(eT):rL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(eT):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(eT).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Py),O(bp),O(nn),O(xa))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class CK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tT=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new CK(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),aL(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{aL(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(O(ds),O(Ta),O(Py))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function aL(n,e){n.context.$implicit=e.item}let Vc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new TK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(O(ds),O(Ta))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class TK{constructor(){this.$implicit=null,this.ngIf=null}}function cL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jn(e)}'.`)}let Pb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({})}return n})();const hL="browser";function Ob(n){return"server"===n}let rQ=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new oQ(R(yt),window)})}return n})();class oQ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function sQ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fL{}class AQ extends OZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cT extends AQ{static makeCurrent(){!function PZ(n){zC||(zC=n)}(new cT)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function kQ(){return Xp=Xp||document.querySelector("base"),Xp?Xp.getAttribute("href"):null}();return null==t?null:function MQ(n){Lb=Lb||document.createElement("a"),Lb.setAttribute("href",n);const e=Lb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Xp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iL(document.cookie,e)}}let Lb,Xp=null,PQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const lT=new X("EventManagerPlugins");let _L=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(R(lT),R(Fe))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class vL{constructor(e){this._doc=e}}const dT="ng-app-id";let yL=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ob(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${dT}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(dT),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(dT,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt),R(uy),R(OI,8),R(ss))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const uT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hT=/%COMP%/g,LQ=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function wL(n,e){return e.map(t=>t.replace(hT,n))}let fT=(()=>{class n{constructor(t,i,r,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ob(a),this.defaultRenderer=new mT(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Yr.ShadowDom&&(i={...i,encapsulation:Yr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof IL?r.applyToHost(t):r instanceof pT&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Yr.Emulated:o=new IL(c,d,i,this.appId,h,s,a,p);break;case Yr.ShadowDom:return new jQ(c,d,t,i,s,a,this.nonce,p);default:o=new pT(c,d,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(R(_L),R(yL),R(uy),R(LQ),R(yt),R(ss),R(Fe),R(OI))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class mT{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(uT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(EL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(EL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new U(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=uT[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=uT[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Mc.DashCase|Mc.Important)?e.style.setProperty(t,i,r&Mc.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Mc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Lc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function EL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class jQ extends mT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=wL(r.id,r.styles);for(const h of d){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pT extends mT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?wL(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class IL extends pT{constructor(e,t,i,r,o,s,a,c){const d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=function VQ(n){return"_ngcontent-%COMP%".replace(hT,n)}(d),this.hostAttr=function BQ(n){return"_nghost-%COMP%".replace(hT,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let zQ=(()=>{class n extends vL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const xL=["alt","control","meta","shift"],HQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$Q={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qQ=(()=>{class n extends vL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),xL.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=HQ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),xL.forEach(s=>{s!==r&&(0,$Q[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const TL=[{provide:ss,useValue:hL},{provide:cR,useValue:function GQ(){cT.makeCurrent()},multi:!0},{provide:yt,useFactory:function ZQ(){return function O$(n){PI=n}(document),document},deps:[]}],KQ=fF(lZ,"browser",TL),QQ=new X(""),DL=[{provide:mb,useClass:class RQ{addToWindow(e){Ut.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new U(5103,!1);return o},Ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ut.getAllAngularRootElements=()=>e.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(i=>{const r=Ut.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Lc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:lF,useClass:DC,deps:[Fe,SC,mb]},{provide:DC,useClass:DC,deps:[Fe,SC,mb]}],SL=[{provide:DI,useValue:"root"},{provide:as,useFactory:function WQ(){return new as},deps:[]},{provide:lT,useClass:zQ,multi:!0,deps:[yt,Fe,ss]},{provide:lT,useClass:qQ,multi:!0,deps:[yt]},fT,yL,_L,{provide:ux,useExisting:fT},{provide:fL,useClass:PQ,deps:[]},[]];let AL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:uy,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(R(QQ,12))};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({providers:[...SL,...DL],imports:[Pb,dZ]})}return n})(),kL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function XQ(){return new kL(R(yt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:rY}=Array,{getPrototypeOf:oY,prototype:sY,keys:aY}=Object;function NL(n){if(1===n.length){const e=n[0];if(rY(e))return{args:e,keys:null};if(function cY(n){return n&&"object"==typeof n&&oY(n)===sY}(e)){const t=aY(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:lY}=Array;function vT(n){return ge(e=>function dY(n,e){return lY(e)?n(...e):n(e)}(n,e))}function FL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Vb(...n){const e=Cl(n),t=Zf(n),{args:i,keys:r}=NL(n);if(0===i.length)return Kt([],e);const o=new wt(function uY(n,e,t=Ti){return i=>{LL(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)LL(e,()=>{const d=Kt(n[c],e);let h=!1;d.subscribe(be(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>FL(r,s):Ti));return t?o.pipe(vT(t)):o}function LL(n,e,t){n?Xo(t,n,e):e()}const Bb=pi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ub(...n){return function hY(){return Qa(1)}()(Kt(n,Cl(n)))}function VL(n){return new wt(e=>{De(n()).subscribe(e)})}function Jp(n,e){const t=Oe(n)?n:()=>n,i=r=>r.error(t());return new wt(e?r=>e.schedule(i,0,r):i)}function yT(){return le((n,e)=>{let t=null;n._refCount++;const i=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class BL extends wt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,F(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mt;const t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mt.EMPTY)}return e}refCount(){return yT()(this)}}function so(n){return n<=0?()=>bo:le((e,t)=>{let i=0;e.subscribe(be(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function _d(...n){const e=Cl(n);return le((t,i)=>{(e?Ub(n,t,e):Ub(n,t)).subscribe(i)})}function $n(n,e){return le((t,i)=>{let r=0;t.subscribe(be(i,o=>n.call(e,o,r++)&&i.next(o)))})}function jb(n){return le((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function UL(n=fY){return le((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function fY(){return new Bb}function Uc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?$n((r,o)=>n(r,o,i)):Ti,so(1),t?jb(e):UL(()=>new Bb))}function Mh(n,e){return Oe(e)?_i(n,e,1):_i(n,1)}function ti(n,e,t){const i=Oe(n)||e||t?{next:n,error:e,complete:t}:n;return i?le((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(be(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Ti}function vd(n){return le((e,t)=>{let o,i=null,r=!1;i=e.subscribe(be(t,void 0,void 0,s=>{o=De(n(s,vd(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function zb(n,e){return le(function mY(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(be(s,h=>{const p=d++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function bT(n){return n<=0?()=>bo:le((e,t)=>{let i=[];e.subscribe(be(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function wT(n){return ge(()=>n)}function Rh(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ir(n){return le((e,t)=>{De(n).subscribe(be(t,()=>t.complete(),fr)),!t.closed&&e.subscribe(t)})}const ct="primary",eg=Symbol("RouteTitle");class gY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ph(n){return new gY(n)}function _Y(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zs(n,e){const t=n?ET(n):void 0,i=e?ET(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!jL(n[r],e[r]))return!1;return!0}function ET(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function zL(n){return n.length>0?n[n.length-1]:null}function jc(n){return function iY(n){return!!n&&(n instanceof wt||Oe(n.lift)&&Oe(n.subscribe))}(n)?n:zp(n)?Kt(Promise.resolve(n)):Ie(n)}const yY={exact:function qL(n,e,t){if(!yd(n.segments,e.segments)||!Hb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!qL(n.children[i],e.children[i],t))return!1;return!0},subset:GL},HL={exact:function bY(n,e){return zs(n,e)},subset:function wY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jL(n[t],e[t]))},ignored:()=>!0};function $L(n,e,t){return yY[t.paths](n.root,e.root,t.matrixParams)&&HL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function GL(n,e,t){return WL(n,e,e.segments,t)}function WL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!yd(r,t)||e.hasChildren()||!Hb(r,t,i))}if(n.segments.length===t.length){if(!yd(n.segments,t)||!Hb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!GL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(yd(n.segments,r)&&Hb(n.segments,r,i)&&n.children[ct])&&WL(n.children[ct],e,o,i)}}function Hb(n,e,t){return e.every((i,r)=>HL[t](n[r].parameters,i.parameters))}class Oh{constructor(e=new rn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return xY.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $b(this)}}class tg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ph(this.parameters)),this._parameterMap}toString(){return QL(this)}}function yd(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Nh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>new IT,providedIn:"root"})}return n})();class IT{parse(e){const t=new NY(e);return new Oh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ng(e.root,!0)}`,i=function DY(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${qb(t)}=${qb(r)}`).join("&"):`${qb(t)}=${qb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function CY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const xY=new IT;function $b(n){return n.segments.map(e=>QL(e)).join("/")}function ng(n,e){if(!n.hasChildren())return $b(n);if(e){const t=n.children[ct]?ng(n.children[ct],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ct&&i.push(`${r}:${ng(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function IY(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ct&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ct&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===ct?[ng(n.children[ct],!1)]:[`${r}:${ng(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ct]?`${$b(n)}/${t[0]}`:`${$b(n)}/(${t.join("//")})`}}function ZL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qb(n){return ZL(n).replace(/%3B/gi,";")}function xT(n){return ZL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gb(n){return decodeURIComponent(n)}function KL(n){return Gb(n.replace(/\+/g,"%20"))}function QL(n){return`${xT(n.path)}${function TY(n){return Object.keys(n).map(e=>`;${xT(e)}=${xT(n[e])}`).join("")}(n.parameters)}`}const SY=/^[^\/()?;#]+/;function CT(n){const e=n.match(SY);return e?e[0]:""}const AY=/^[^\/()?;=#]+/,MY=/^[^=?&#]+/,PY=/^[^&#]+/;class NY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ct]=new rn(e,t)),i}parseSegment(){const e=CT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new tg(Gb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function kY(n){const e=n.match(AY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=CT(this.remaining);r&&(i=r,this.capture(i))}e[Gb(t)]=Gb(i)}parseQueryParam(e){const t=function RY(n){const e=n.match(MY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function OY(n){const e=n.match(PY);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=KL(t),o=KL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=CT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new U(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ct);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ct]:new rn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function YL(n){return n.segments.length>0?new rn([],{[ct]:n}):n}function XL(n){const e={};for(const i of Object.keys(n.children)){const o=XL(n.children[i]);if(i===ct&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function FY(n){if(1===n.numberOfChildren&&n.children[ct]){const e=n.children[ct];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function bd(n){return n instanceof Oh}function JL(n){let e;const r=YL(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new rn(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function e2(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return TT(r,r,r,t,i);const o=function VY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new n2(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new n2(t,e,i)}(e);if(o.toRoot())return TT(r,r,new rn([],{}),t,i);const s=function BY(n,e,t){if(n.isAbsolute)return new Zb(e,!0,0);if(!t)return new Zb(e,!1,NaN);if(null===t.parent)return new Zb(t,!0,0);const i=Wb(n.commands[0])?0:1;return function UY(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new U(4005,!1);r=i.segments.length}return new Zb(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?rg(s.segmentGroup,s.index,o.commands):r2(s.segmentGroup,s.index,o.commands);return TT(r,s.segmentGroup,a,t,i)}function Wb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ig(n){return"object"==typeof n&&null!=n&&n.outlets}function TT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`}),s=n===e?t:t2(n,e,t);const a=YL(XL(s));return new Oh(a,o,r)}function t2(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:t2(o,e,t)}),new rn(n.segments,i)}class n2{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Wb(i[0]))throw new U(4003,!1);const r=i.find(ig);if(r&&r!==zL(i))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function r2(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return rg(n,e,t);const i=function zY(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(ig(a))break;const c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!s2(c,d,s))return o;i+=2}else{if(!s2(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new rn(n.segments.slice(0,i.pathIndex),{});return o.children[ct]=new rn(n.segments.slice(i.pathIndex),n.children),rg(o,0,r)}return i.match&&0===r.length?new rn(n.segments,{}):i.match&&!n.hasChildren()?DT(n,e,t):i.match?rg(n,0,r):DT(n,e,t)}function rg(n,e,t){if(0===t.length)return new rn(n.segments,{});{const i=function jY(n){return ig(n[0])?n[0].outlets:{[ct]:n}}(t),r={};if(Object.keys(i).some(o=>o!==ct)&&n.children[ct]&&1===n.numberOfChildren&&0===n.children[ct].segments.length){const o=rg(n.children[ct],e,t);return new rn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=r2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new rn(n.segments,r)}}function DT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(ig(o)){const c=HY(o.outlets);return new rn(i,c)}if(0===r&&Wb(t[0])){i.push(new tg(n.segments[e].path,o2(t[0]))),r++;continue}const s=ig(o)?o.outlets[ct]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Wb(a)?(i.push(new tg(s,o2(a))),r+=2):(i.push(new tg(s,{})),r++)}return new rn(i,{})}function HY(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=DT(new rn([],{}),0,i))}),e}function o2(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function s2(n,e,t){return n==t.path&&zs(e,t.parameters)}const og="imperative";class Hs{constructor(e,t){this.id=e,this.url=t}}class Kb extends Hs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ka extends Hs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fh extends Hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lh extends Hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Qb extends Hs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a2 extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qY extends Hs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class GY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c2{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ST{}class AT{constructor(e){this.url=e}}class eX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sg,this.attachRef=null}}let sg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new eX,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class l2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=kT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=MT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return MT(e,this._root).map(t=>t.value)}}function kT(n,e){if(n===e.value)return e;for(const t of e.children){const i=kT(n,t);if(i)return i}return null}function MT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=MT(n,t);if(i.length)return i.unshift(e),i}return[]}class ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class d2 extends l2{constructor(e,t){super(e),this.snapshot=t,OT(this,e)}toString(){return this.snapshot.toString()}}function u2(n,e){const t=function tX(n,e){const s=new PT([],{},{},"",{},ct,e,null,{});return new h2("",new ms(s,[]))}(0,e),i=new Xi([new tg("",{})]),r=new Xi({}),o=new Xi({}),s=new Xi({}),a=new Xi(""),c=new Bh(i,r,s,a,o,ct,e,t.root);return c.snapshot=t.root,new d2(new ms(c,[]),t)}class Bh{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ge(d=>d[eg]))??Ie(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>Ph(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>Ph(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:n.params,data:n.data,resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&m2(r)&&(i.resolve[eg]=r.title),i}class PT{get title(){return this.data?.[eg]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ph(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class h2 extends l2{constructor(e,t){super(t),this.url=e,OT(this,t)}toString(){return f2(this._root)}}function OT(n,e){e.value._routerState=n,e.children.forEach(t=>OT(n,t))}function f2(n){const e=n.children.length>0?` { ${n.children.map(f2).join(", ")} } `:"";return`${n.value}${e}`}function NT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zs(e.params,t.params)||n.paramsSubject.next(t.params),function vY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),zs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function FT(n,e){const t=zs(n.params,e.params)&&function EY(n,e){return yd(n,e)&&n.every((t,i)=>zs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||FT(n.parent,e.parent))}function m2(n){return"string"==typeof n.title||null===n.title}let LT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ct,this.activateEvents=new Qt,this.deactivateEvents=new Qt,this.attachEvents=new Qt,this.detachEvents=new Qt,this.parentContexts=ae(sg),this.location=ae(ds),this.changeDetector=ae(Fs),this.environmentInjector=ae(to),this.inputBinder=ae(Yb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new nX(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yr]})}return n})();class nX{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Bh?this.route:e===sg?this.childContexts:this.parent.get(e,t)}}const Yb=new X("");let p2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Vb([i.queryParams,i.params,i.data]).pipe(qt(([o,s,a],c)=>(a={...o,...s,...a},0===c?Ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function RZ(n){const e=at(n);if(!e)return null;const t=new Cp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function ag(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function rX(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ag(n,i,r);return ag(n,i)})}(n,e,t);return new ms(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ag(n,a)),s}}const i=function oX(n){return new Bh(new Xi(n.url),new Xi(n.params),new Xi(n.queryParams),new Xi(n.fragment),new Xi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>ag(n,o));return new ms(i,r)}}const VT="ngNavigationCancelingError";function g2(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=bd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=_2(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function _2(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[VT]=!0,i.cancellationCode=e,t&&(i.url=t),i}function v2(n){return n&&n[VT]}let y2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=On({type:n,selectors:[["ng-component"]],standalone:!0,features:[fC],decls:1,vars:0,template:function(i,r){1&i&&$e(0,"router-outlet")},dependencies:[LT],encapsulation:2})}return n})();function BT(n){const e=n.children&&n.children.map(BT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ct&&(t.component=y2),t}function $s(n){return n.outlet||ct}function cg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fX{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),NT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Vh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Vh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Vh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Vh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new JY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new YY(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(NT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),NT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=cg(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class b2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xb{constructor(e,t){this.component=e,this.route=t}}function mX(n,e,t){const i=n._root;return lg(i,e?e._root:null,t,[i.value])}function Uh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function iv(n){return null!==la(n)}(n)?e.get(n):n:i}function lg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Vh(e);return n.children.forEach(s=>{(function gX(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function _X(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!yd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!yd(n.url,e.url)||!zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FT(n,e)||!zs(n.queryParams,e.queryParams);default:return!FT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new b2(i)):(o.data=s.data,o._resolvedData=s._resolvedData),lg(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Xb(a.outlet.component,s))}else s&&dg(e,a,r),r.canActivateChecks.push(new b2(i)),lg(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>dg(a,t.getContext(s),r)),r}function dg(n,e,t){const i=Vh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{dg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Xb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ug(n){return"function"==typeof n}function w2(n){return n instanceof Bb||"EmptyError"===n?.name}const Jb=Symbol("INITIAL_VALUE");function jh(){return qt(n=>Vb(n.map(e=>e.pipe(so(1),_d(Jb)))).pipe(ge(e=>{for(const t of e)if(!0!==t){if(t===Jb)return Jb;if(!1===t||t instanceof Oh)return t}return!0}),$n(e=>e!==Jb),so(1)))}function E2(n){return function Es(...n){return ra(n)}(ti(e=>{if(bd(e))throw g2(0,e)}),ge(e=>!0===e))}class UT{constructor(e){this.segmentGroup=e||null}}class jT extends Error{constructor(e){super(),this.urlTree=e}}function zh(n){return Jp(new UT(n))}class LX{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ie(i);if(r.numberOfChildren>1||!r.children[ct])return Jp(new U(4e3,!1));r=r.children[ct]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new jT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Oh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new rn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const zT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VX(n,e,t,i,r){const o=HT(n,e,t);return o.matched?(i=function aX(n,e){return n.providers&&!n._injector&&(n._injector=hC(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function OX(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ie(r.map(s=>{const a=Uh(s,n);return jc(function IX(n){return n&&ug(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(jh(),E2()):Ie(!0)}(i,e,t).pipe(ge(s=>!0===s?o:{...zT}))):Ie(o)}function HT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...zT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||_Y)(t,n,e);if(!r)return{...zT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function I2(n,e,t,i){return t.length>0&&function jX(n,e,t){return t.some(i=>ew(n,e,i)&&$s(i)!==ct)}(n,t,i)?{segmentGroup:new rn(e,UX(i,new rn(t,n.children))),slicedSegments:[]}:0===t.length&&function zX(n,e,t){return t.some(i=>ew(n,e,i))}(n,t,i)?{segmentGroup:new rn(n.segments,BX(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new rn(n.segments,n.children),slicedSegments:t}}function BX(n,e,t,i,r){const o={};for(const s of i)if(ew(n,t,s)&&!r[$s(s)]){const a=new rn([],{});o[$s(s)]=a}return{...r,...o}}function UX(n,e){const t={};t[ct]=e;for(const i of n)if(""===i.path&&$s(i)!==ct){const r=new rn([],{});t[$s(i)]=r}return t}function ew(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class qX{}class ZX{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new LX(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,!1)}recognize(){const e=I2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ge(t=>{const i=new PT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,{}),r=new ms(i,t),o=new h2("",r),s=function LY(n,e,t=null,i=null){return e2(JL(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ct).pipe(vd(i=>{if(i instanceof jT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof UT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=RT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ge(o=>o instanceof ms?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Kt(r).pipe(Mh(o=>{const s=i.children[o],a=function uX(n,e){const t=n.filter(i=>$s(i)===e);return t.push(...n.filter(i=>$s(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),zb((o,s)=>(o.push(...s),o)),jb(null),function pY(n,e){const t=arguments.length>=2;return i=>i.pipe(n?$n((r,o)=>n(r,o,i)):Ti,bT(1),t?jb(e):UL(()=>new Bb))}(),_i(o=>{if(null===o)return zh(i);const s=x2(o);return function KX(n){n.sort((e,t)=>e.value.outlet===ct?-1:t.value.outlet===ct?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Ie(s)}))}processSegment(e,t,i,r,o,s){return Kt(t).pipe(Mh(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(vd(c=>{if(c instanceof UT)return Ie(null);throw c}))),Uc(a=>!!a),vd(a=>{if(w2(a))return function $X(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?Ie(new qX):zh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function HX(n,e,t,i){return!!($s(n)===i||i!==ct&&ew(e,t,n))&&("**"===n.path||HT(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):zh(r):zh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:d,remainingSegments:h}="**"===r.path?C2(o):HT(t,r,o);if(!a)return zh(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(_i(g=>this.processSegment(e,i,t,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s;return"**"===i.path?(s=Ie(C2(r)),t.children={}):s=VX(t,i,r,e),s.pipe(qt(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(qt(({routes:c})=>{const d=i._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,v=new PT(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function YX(n){return n.data||{}}(i),$s(i),i.component??i._loadedComponent??null,i,function XX(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:w}=I2(t,h,p,c);if(0===w.length&&b.hasChildren())return this.processChildren(d,c,b).pipe(ge(A=>null===A?null:new ms(v,A)));if(0===c.length&&0===w.length)return Ie(new ms(v,[]));const E=$s(i)===o;return this.processSegment(d,c,b,w,E?ct:o,!0).pipe(ge(A=>new ms(v,A instanceof ms?[A]:[])))})):zh(t)))}getChildConfig(e,t,i){return t.children?Ie({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ie({routes:t._loadedRoutes,injector:t._loadedInjector}):function PX(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ie(!0):Ie(r.map(s=>{const a=Uh(s,n);return jc(function yX(n){return n&&ug(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(jh(),E2())}(e,t,i).pipe(_i(r=>r?this.configLoader.loadChildren(e,t).pipe(ti(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function FX(n){return Jp(_2(!1,3))}())):Ie({routes:[],injector:e})}}function QX(n){const e=n.value.routeConfig;return e&&""===e.path}function x2(n){const e=[],t=new Set;for(const i of n){if(!QX(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=x2(i.children);e.push(new ms(i.value,r))}return e.filter(i=>!t.has(i))}function C2(n){return{matched:!0,parameters:n.length>0?zL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function eJ(n,e){return _i(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ie(t);const o=r.map(d=>d.route),s=new Set(o),a=T2(o[0].parent).slice(1);let c=0;return Kt(a).pipe(Mh(d=>s.has(d)?function tJ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!m2(r)&&(o[eg]=r.title),function nJ(n,e,t,i){const r=ET(n);if(0===r.length)return Ie({});const o={};return Kt(r).pipe(_i(s=>function iJ(n,e,t,i){const r=cg(e)??i,o=Uh(n,r);return jc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Uc(),ti(a=>{o[s]=a}))),bT(1),wT(o),vd(s=>w2(s)?bo:Jp(s)))}(o,n,e,i).pipe(ge(s=>(n._resolvedData=s,n.data=RT(n,n.parent,t).resolve,null)))}(d,i,n,e):(d.data=RT(d,d.parent,n).resolve,Ie(void 0))),ti(()=>c++),bT(1),_i(d=>c===a.length?Ie(t):bo))})}function T2(n){const e=n.children.map(t=>T2(t)).flat();return[n,...e]}function $T(n){return qt(e=>{const t=n(e);return t?Kt(t).pipe(ge(()=>e)):Ie(e)})}let D2=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ct);return i}getResolvedTitleForRoute(t){return t.data[eg]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>ae(rJ),providedIn:"root"})}return n})(),rJ=(()=>{class n extends D2{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(R(kL))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hh=new X("",{providedIn:"root",factory:()=>({})}),$h=new X("ROUTES");let qT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(rF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=jc(t.loadComponent()).pipe(ge(S2),ti(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Rh(()=>{this.componentLoaders.delete(t)})),r=new BL(i,()=>new T).pipe(yT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ie({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function oJ(n,e,t,i){return jc(n.loadChildren()).pipe(ge(S2),_i(r=>r instanceof EN||Array.isArray(r)?Ie(r):Kt(e.compileModuleAsync(r))),ge(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get($h,[],{optional:!0,self:!0}).flat()),{routes:s.map(BT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Rh(()=>{this.childrenLoaders.delete(i)})),s=new BL(o,()=>new T).pipe(yT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S2(n){return function sJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let GT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>ae(aJ),providedIn:"root"})}return n})(),aJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const A2=new X(""),k2=new X("");function cJ(n,e,t){const i=n.get(k2),r=n.get(yt);return n.get(Fe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),function lJ(n){return new Promise(e=>{QP(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&function T$(n,e){n instanceof od&&n.assertNotDestroyed();const i=Ts(n),r=Di(void 0);try{return e()}finally{Ts(i),Di(r)}}(n,()=>c({transition:a,from:e,to:t})),s})}let tw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new T,this.transitionAbortSubject=new T,this.configLoader=ae(qT),this.environmentInjector=ae(to),this.urlSerializer=ae(Nh),this.rootContexts=ae(sg),this.location=ae(Ah),this.inputBindingEnabled=null!==ae(Yb,{optional:!0}),this.titleStrategy=ae(D2),this.options=ae(Hh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ae(GT),this.createViewTransition=ae(A2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new KY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new ZY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Xi({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:og,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($n(o=>0!==o.id),ge(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qt(o=>{this.currentTransition=o;let s=!1,a=!1;return Ie(o).pipe(ti(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qt(c=>{const d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Lh(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),bo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ie(c).pipe(qt(p=>{const g=this.transitions?.getValue();return this.events.next(new Kb(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?bo:Promise.resolve(p)}),function JX(n,e,t,i,r,o){return _i(s=>function GX(n,e,t,i,r,o,s="emptyOnly"){return new ZX(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(ge(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ti(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new a2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:v,restoredState:b,extras:w}=c,E=new Kb(p,this.urlSerializer.serialize(g),v,b);this.events.next(E);const A=u2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:A,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Ie(o)}{const p="";return this.events.next(new Lh(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),bo}}),ti(c=>{const d=new $Y(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),ge(c=>(this.currentTransition=o={...c,guards:mX(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function CX(n,e){return _i(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Ie({...t,guardsResult:!0}):function TX(n,e,t,i){return Kt(n).pipe(_i(r=>function RX(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ie(o.map(a=>{const c=cg(e)??r,d=Uh(a,c);return jc(function EX(n){return n&&ug(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):c.runInContext(()=>d(n,e,t,i))).pipe(Uc())})).pipe(jh()):Ie(!0)}(r.component,r.route,t,e,i)),Uc(r=>!0!==r,!0))}(s,i,r,n).pipe(_i(a=>a&&function vX(n){return"boolean"==typeof n}(a)?function DX(n,e,t,i){return Kt(e).pipe(Mh(r=>Ub(function AX(n,e){return null!==n&&e&&e(new QY(n)),Ie(!0)}(r.route.parent,i),function SX(n,e){return null!==n&&e&&e(new XY(n)),Ie(!0)}(r.route,i),function MX(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function pX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>VL(()=>Ie(s.guards.map(c=>{const d=cg(s.node)??t,h=Uh(c,d);return jc(function wX(n){return n&&ug(n.canActivateChild)}(h)?h.canActivateChild(i,n):d.runInContext(()=>h(i,n))).pipe(Uc())})).pipe(jh())));return Ie(o).pipe(jh())}(n,r.path,t),function kX(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ie(!0);const r=i.map(o=>VL(()=>{const s=cg(e)??t,a=Uh(o,s);return jc(function bX(n){return n&&ug(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Uc())}));return Ie(r).pipe(jh())}(n,r.route,t))),Uc(r=>!0!==r,!0))}(i,o,n,e):Ie(a)),ge(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ti(c=>{if(o.guardsResult=c.guardsResult,bd(c.guardsResult))throw g2(0,c.guardsResult);const d=new qY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),$n(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),$T(c=>{if(c.guards.canActivateChecks.length)return Ie(c).pipe(ti(d=>{const h=new GY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),qt(d=>{let h=!1;return Ie(d).pipe(eJ(this.paramsInheritanceStrategy,this.environmentInjector),ti({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),ti(d=>{const h=new WY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),$T(c=>{const d=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ti(g=>{h.component=g}),ge(()=>{})));for(const g of h.children)p.push(...d(g));return p};return Vb(d(c.targetSnapshot.root)).pipe(jb(),so(1))}),$T(()=>this.afterPreactivation()),qt(()=>{const{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Kt(h).pipe(ge(()=>o)):Ie(o)}),ge(c=>{const d=function iX(n,e,t){const i=ag(n,e._root,t?t._root:void 0);return new d2(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),ti(()=>{this.events.next(new ST)}),((n,e,t,i)=>ge(r=>(new fX(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),so(1),ti({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ka(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ir(this.transitionAbortSubject.pipe(ti(c=>{throw c}))),Rh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),vd(c=>{if(a=!0,v2(c))this.events.next(new Fh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function sX(n){return v2(n)&&bd(n.url)}(c)?this.events.next(new AT(c.url)):o.resolve(!1);else{this.events.next(new Qb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return bo}))}))}cancelNavigationTransition(t,i,r){const o=new Fh(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dJ(n){return n!==og}let uJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>ae(fJ),providedIn:"root"})}return n})();class hJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let fJ=(()=>{class n extends hJ{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=An(n)))(r||n)}})();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>ae(mJ),providedIn:"root"})}return n})(),mJ=(()=>{class n extends M2{constructor(){super(...arguments),this.location=ae(Ah),this.urlSerializer=ae(Nh),this.options=ae(Hh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ae(GT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Oh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=u2(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Kb)this.stateMemento=this.createStateMemento();else if(t instanceof Lh)this.rawUrlTree=i.initialUrl;else if(t instanceof a2){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof ST?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Fh&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof Qb?this.restoreHistory(i,!0):t instanceof ka&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=An(n)))(r||n)}})();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(hg||{});function R2(n,e){n.events.pipe($n(t=>t instanceof ka||t instanceof Fh||t instanceof Qb||t instanceof Lh),ge(t=>t instanceof ka||t instanceof Lh?hg.COMPLETE:t instanceof Fh&&(0===t.code||1===t.code)?hg.REDIRECTING:hg.FAILED),$n(t=>t!==hg.REDIRECTING),so(1)).subscribe(()=>{e()})}function pJ(n){throw n}const gJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_J={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ae(nF),this.stateManager=ae(M2),this.options=ae(Hh,{optional:!0})||{},this.pendingTasks=ae(hb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ae(tw),this.urlSerializer=ae(Nh),this.location=ae(Ah),this.urlHandlingStrategy=ae(GT),this._events=new T,this.errorHandler=this.options.errorHandler||pJ,this.navigated=!1,this.routeReuseStrategy=ae(uJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ae($h,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ae(Yb,{optional:!0}),this.eventsSubscription=new Mt,this.isNgZoneEnabled=ae(Fe)instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Fh&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof ka)this.navigated=!0;else if(i instanceof AT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dJ(r.source)};this.scheduleNavigation(s,og,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function yJ(n){return!(n instanceof ST||n instanceof AT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),og,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(BT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=JL(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return e2(p,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=bd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,og,null,i)}navigate(t,i={skipLocationChange:!1}){return function vJ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new U(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...gJ}:!1===i?{..._J}:i,bd(t))return $L(this.currentUrlTree,t,r);const o=this.parseUrl(t);return $L(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return R2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qh=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new T,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof ka&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function eP(n,e,t){return function Q5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?JR:pp}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sr),O(Bh),function $u(n){return function mI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(uv(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Pt(),n)}("tabindex"),O(xa),O(nn),O(gd))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ze("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&nr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Sh],skipLocationChange:["skipLocationChange","skipLocationChange",Sh],replaceUrl:["replaceUrl","replaceUrl",Sh],routerLink:"routerLink"},standalone:!0,features:[s1,yr]})}return n})();class P2{}let EJ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe($n(t=>t instanceof ka),Mh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=hC(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Kt(r).pipe(Qa())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ie(null);const o=r.pipe(_i(s=>null===s?Ie(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?Kt([o,this.loader.loadComponent(i)]).pipe(Qa()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Sr),R(rF),R(to),R(P2),R(qT))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const WT=new X("");let O2=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ka?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Lh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof c2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new c2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function IP(){throw new Error("invalid")}()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function qs(n,e){return{\u0275kind:n,\u0275providers:e}}function F2(){const n=ae(Hi);return e=>{const t=n.get(Fc);if(e!==t.components[0])return;const i=n.get(Sr),r=n.get(L2);1===n.get(ZT)&&i.initialNavigation(),n.get(V2,null,ft.Optional)?.setUpPreloading(),n.get(WT,null,ft.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const L2=new X("",{factory:()=>new T}),ZT=new X("",{providedIn:"root",factory:()=>1}),V2=new X("");function TJ(n){return qs(0,[{provide:V2,useExisting:EJ},{provide:P2,useExisting:n}])}function SJ(n){return qs(9,[{provide:A2,useValue:cJ},{provide:k2,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const B2=new X("ROUTER_FORROOT_GUARD"),AJ=[Ah,{provide:Nh,useClass:IT},Sr,sg,{provide:Bh,useFactory:function N2(n){return n.routerState.root},deps:[Sr]},qT,[]];let U2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[AJ,[],{provide:$h,multi:!0,useValue:t},{provide:B2,useFactory:PJ,deps:[[Sr,new f,new u]]},{provide:Hh,useValue:i||{}},i?.useHash?{provide:gd,useClass:LZ}:{provide:gd,useClass:WF},{provide:WT,useFactory:()=>{const n=ae(rQ),e=ae(Fe),t=ae(Hh),i=ae(tw),r=ae(Nh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new O2(r,i,n,e,t)}},i?.preloadingStrategy?TJ(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?OJ(i):[],i?.bindToComponentInputs?qs(8,[p2,{provide:Yb,useExisting:p2}]).\u0275providers:[],i?.enableViewTransitions?SJ().\u0275providers:[],[{provide:j2,useFactory:F2},{provide:MC,multi:!0,useExisting:j2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:$h,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(R(B2,8))};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({})}return n})();function PJ(n){return"guarded"}function OJ(n){return["disabled"===n.initialNavigation?qs(3,[{provide:xC,multi:!0,useFactory:()=>{const e=ae(Sr);return()=>{e.setUpLocationChangeListener()}}},{provide:ZT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qs(2,[{provide:ZT,useValue:0},{provide:xC,multi:!0,deps:[Hi],useFactory:e=>{const t=e.get(NZ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Sr),o=e.get(L2);R2(r,()=>{i(!0)}),e.get(tw).afterPreactivation=()=>(i(!0),o.closed?Ie(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const j2=new X("");Je(956);var Gh=Je(534);(0,Gh.registerVersion)("firebase","10.6.0","app");class VJ extends Mt{constructor(e,t){super()}schedule(e,t=0){return this}}const nw={setInterval(n,e,...t){const{delegate:i}=nw;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=nw;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class iw extends VJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return nw.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&nw.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ri(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const KT={now:()=>(KT.delegate||Date).now(),delegate:void 0};class fg{constructor(e,t=fg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}fg.now=KT.now;class rw extends fg{constructor(e,t=fg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const jJ=new class UJ extends rw{}(class BJ extends iw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),wd=new rw(iw),zJ=wd,ow=new Rc("ANGULARFIRE2_VERSION");class z2{constructor(){return((n,e)=>{const t=(0,Gh.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})($J)}}const $J="app-check";function Wh(){}class H2{zone;delegate;constructor(e,t=jJ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class qJ{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wh,{},Wh,Wh)),t.pipe(ti({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $2=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new H2(Zone.current)),this.insideAngular=t.run(()=>new H2(Zone.current,wd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(R(Fe))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ao(n){return function WJ(n){return function(t){return(t=t.lift(new qJ(n.ngZone))).pipe(sa(n.outsideAngular),oa(n.insideAngular))}}(function Zh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Ma=Je(106);Ma.Z.registerVersion("firebase","10.6.0","app-compat");const YJ=["ngOnDestroy"];class q2{constructor(e){return e}}const sw=new X("angularfire2.app.options"),aw=new X("angularfire2.app.name");function QT(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Ma.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Ma.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;eee("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new q2(s)}const eee=(n,...e)=>{},tee={provide:q2,useFactory:QT,deps:[sw,Fe,[new f,aw]]};let nee=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:sw,useValue:t},{provide:aw,useValue:i}]}}constructor(t){Ma.Z.registerVersion("angularfire",ow.full,"core"),Ma.Z.registerVersion("angularfire",ow.full,"app-compat"),Ma.Z.registerVersion("angular",sP.full,t.toString())}static \u0275fac=function(i){return new(i||n)(R(ss))};static \u0275mod=jt({type:n});static \u0275inj=Rt({providers:[tee]})}return n})();function G2(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function iee(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(W2("error",`${e} was already initialized on the ${t} Firebase App with different settings.${ree?" You may need to reload as Firebase is not HMR aware.":""}`),W2("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const ree=typeof module<"u"&&!!module.hot,W2=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class oee extends T{constructor(e=1/0,t=1/0,i=KT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function Z2(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Dl({connector:()=>new oee(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function K2(n,e){return Oe(e)?qt(()=>n,e):qt(()=>n)}const Q2=new X("angularfire2.auth.use-emulator"),Y2=new X("angularfire2.auth.settings"),X2=new X("angularfire2.auth.tenant-id"),J2=new X("angularfire2.auth.langugage-code"),eV=new X("angularfire2.auth.use-device-language"),tV=new X("angularfire.auth.persistence"),nV=(n,e,t,i,r,o,s,a)=>G2(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[d,h]of Object.entries(s))c.settings[d]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let Kh=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,d,h,p,g,v){const b=new T,w=Ie(void 0).pipe(oa(s.outsideAngular),qt(()=>o.runOutsideAngular(()=>Promise.resolve().then(Je.bind(Je,956)))),ge(()=>QT(t,o,i)),ge(E=>nV(E,o,a,d,h,p,c,g)),Z2({bufferSize:1,refCount:!1}));if(Ob(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ie(null);else{w.pipe(Uc()).subscribe();const E=w.pipe(qt(M=>M.getRedirectResult().then(Y=>Y,()=>null)),ao,Z2({bufferSize:1,refCount:!1})),A=w.pipe(qt(M=>new wt(Y=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(ue=>Y.next(ue),ue=>Y.error(ue),()=>Y.complete()))})))),S=w.pipe(qt(M=>new wt(Y=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(ue=>Y.next(ue),ue=>Y.error(ue),()=>Y.complete()))}))));this.authState=E.pipe(K2(A),sa(s.outsideAngular),oa(s.insideAngular)),this.user=E.pipe(K2(S),sa(s.outsideAngular),oa(s.insideAngular)),this.idToken=this.user.pipe(qt(M=>M?Kt(M.getIdToken()):Ie(null))),this.idTokenResult=this.user.pipe(qt(M=>M?Kt(M.getIdTokenResult()):Ie(null))),this.credential=Ya(E,b,this.authState.pipe($n(M=>!M))).pipe(ge(M=>M?.user?M:null),sa(s.outsideAngular),oa(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(YJ.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(h=>{const p=h?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,p),p})})})}))(this,w,o,{spy:{apply:(E,A,S)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&S.then(M=>b.next(M))}}})}static \u0275fac=function(i){return new(i||n)(R(sw),R(aw,8),R(ss),R(Fe),R($2),R(Q2,8),R(Y2,8),R(X2,8),R(J2,8),R(eV,8),R(tV,8),R(z2,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),aee=(()=>{class n{constructor(){Ma.Z.registerVersion("angularfire",ow.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=jt({type:n});static \u0275inj=Rt({providers:[Kh]})}return n})();function YT(){return le((n,e)=>{let t,i=!1;n.subscribe(be(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var ve,K=Je(861),iV=Je(537),Gs=Je(879),ln=Je(58),cee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ps={},XT=XT||{},tt=cee||self;function cw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JT="closure_uid_"+(1e9*Math.random()>>>0),dee=0;function uee(n,e,t){return n.call.apply(n.bind,arguments)}function hee(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function rr(n,e,t){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uee:hee).apply(null,arguments)}function lw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function zc(){this.s=this.s,this.o=this.o}zc.prototype.s=!1,zc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lee(n){Object.prototype.hasOwnProperty.call(n,JT)&&n[JT]||(n[JT]=++dee)}(this)},zc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function eD(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function oV(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(cw(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}or.prototype.h=function(){this.defaultPrevented=!0};var mee=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tt.addEventListener("test",()=>{},e),tt.removeEventListener("test",()=>{},e)}catch{}return n}();function pg(n){return/^[\s\xa0]*$/.test(n)}function dw(){var n=tt.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=dw().indexOf(n)}function tD(n){return tD[" "](n),n}tD[" "]=function(){};var iD,n,gee=Ws("Opera"),Qh=Ws("Trident")||Ws("MSIE"),sV=Ws("Edge"),nD=sV||Qh,aV=Ws("Gecko")&&!(-1!=dw().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),_ee=-1!=dw().toLowerCase().indexOf("webkit")&&!Ws("Edge");function cV(){var n=tt.document;return n?n.documentMode:void 0}e:{var rD="",oD=(n=dw(),aV?/rv:([^\);]+)(\)|;)/.exec(n):sV?/Edge\/([\d\.]+)/.exec(n):Qh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_ee?/WebKit\/(\S+)/.exec(n):gee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(oD&&(rD=oD?oD[1]:""),Qh){var sD=cV();if(null!=sD&&sD>parseFloat(rD)){iD=String(sD);break e}}iD=rD}var vee=tt.document&&Qh&&(cV()||parseInt(iD,10))||void 0;function gg(n,e){if(or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aV){e:{try{tD(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gg.$.h.call(this)}}Mi(gg,or);var yee={2:"touch",3:"pen",4:"mouse"};gg.prototype.h=function(){gg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _g="closure_listenable_"+(1e6*Math.random()|0),bee=0;function wee(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++bee,this.fa=this.ia=!1}function uw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function cD(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function dV(n){const e={};for(const t in n)e[t]=n[t];return e}const uV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<uV.length;o++)t=uV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function hw(n){this.src=n,this.g={},this.h=0}function lD(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=rV(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(uw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dD(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}hw.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=dD(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new wee(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var uD="closure_lm_"+(1e6*Math.random()|0),hD={};function fV(n,e,t,i,r){if(i&&i.once)return pV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fV(n,e[o],t,i,r);return null}return t=gD(t),n&&n[_g]?n.O(e,t,mg(i)?!!i.capture:!!i,r):mV(n,e,t,!1,i,r)}function mV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=mg(r)?!!r.capture:!!r,a=mD(n);if(a||(n[uD]=a=new hw(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function Iee(){const e=xee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)mee||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(_V(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function pV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pV(n,e[o],t,i,r);return null}return t=gD(t),n&&n[_g]?n.P(e,t,mg(i)?!!i.capture:!!i,r):mV(n,e,t,!0,i,r)}function gV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)gV(n,e[o],t,i,r);else i=mg(i)?!!i.capture:!!i,t=gD(t),n&&n[_g]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dD(o=n.g[e],t,i,r))&&(uw(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=mD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dD(e,t,i,r)),(t=-1<n?e[n]:null)&&fD(t))}function fD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[_g])lD(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(_V(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=mD(e))?(lD(t,n),0==t.h&&(t.src=null,e[uD]=null)):uw(n)}}}function _V(n){return n in hD?hD[n]:hD[n]="on"+n}function xee(n,e){if(n.fa)n=!0;else{e=new gg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&fD(n),n=t.call(i,e)}return n}function mD(n){return(n=n[uD])instanceof hw?n:null}var pD="__closure_events_fn_"+(1e9*Math.random()>>>0);function gD(n){return"function"==typeof n?n:(n[pD]||(n[pD]=function(e){return n.handleEvent(e)}),n[pD])}function Ri(){zc.call(this),this.i=new hw(this),this.S=this,this.J=null}function qi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new or(e,n);else if(e instanceof or)e.target=e.target||n;else{var r=e;hV(e=new or(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=fw(s,i,!0,e)&&r}if(r=fw(s=e.g=n,i,!0,e)&&r,r=fw(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=fw(s=e.g=t[o],i,!1,e)&&r}function fw(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&lD(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Mi(Ri,zc),Ri.prototype[_g]=!0,Ri.prototype.removeEventListener=function(n,e,t,i){gV(this,n,e,t,i)},Ri.prototype.N=function(){if(Ri.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)uw(t[i]);delete n.g[e],n.h--}}this.J=null},Ri.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ri.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var _D=tt.JSON.stringify;function Tee(){var n=vD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vV=new class Cee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new See,n=>n.reset());class See{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Aee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function kee(n){tt.setTimeout(()=>{throw n},0)}let vg,yg=!1,vD=new class Dee{constructor(){this.h=this.g=null}add(e,t){const i=vV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},yV=()=>{const n=tt.Promise.resolve(void 0);vg=()=>{n.then(Mee)}};var Mee=()=>{for(var n;n=Tee();){try{n.h.call(n.g)}catch(t){kee(t)}var e=vV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}yg=!1};function mw(n,e){Ri.call(this),this.h=n||1,this.g=e||tt,this.j=rr(this.qb,this),this.l=Date.now()}function yD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bD(n,e,t){if("function"==typeof n)t&&(n=rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:tt.setTimeout(n,e||0)}function bV(n){n.g=bD(()=>{n.g=null,n.i&&(n.i=!1,bV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(mw,Ri),(ve=mw.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qi(this,"tick"),this.ga&&(yD(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){mw.$.N.call(this),yD(this),delete this.g};class Ree extends zc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bV(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bg(n){zc.call(this),this.h=n,this.g={}}Mi(bg,zc);var wV=[];function EV(n,e,t,i){Array.isArray(t)||(t&&(wV[0]=t.toString()),t=wV);for(var r=0;r<t.length;r++){var o=fV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function IV(n){cD(n.g,function(e,t){this.g.hasOwnProperty(t)&&fD(e)},n),n.g={}}function pw(){this.g=!0}function Yh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return _D(t)}catch{return e}}(n,t)+(i?" "+i:"")})}bg.prototype.N=function(){bg.$.N.call(this),IV(this)},bg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pw.prototype.Ea=function(){this.g=!1},pw.prototype.info=function(){};var Id={},xV=null;function gw(){return xV=xV||new Ri}function CV(n){or.call(this,Id.Ta,n)}function wg(n){const e=gw();qi(e,new CV(e))}function TV(n,e){or.call(this,Id.STAT_EVENT,n),this.stat=e}function Ar(n){const e=gw();qi(e,new TV(e,n))}function DV(n,e){or.call(this,Id.Ua,n),this.size=e}function Eg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){n()},e)}Id.Ta="serverreachability",Mi(CV,or),Id.STAT_EVENT="statevent",Mi(TV,or),Id.Ua="timingevent",Mi(DV,or);var _w={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},SV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wD(){}function kV(){}wD.prototype.h=null;var xD,Ig={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ED(){or.call(this,"d")}function ID(){or.call(this,"c")}function vw(){}function xg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new bg(this),this.P=Lee,this.V=new mw(n=nD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new MV}function MV(){this.i=null,this.g="",this.h=!1}Mi(ED,or),Mi(ID,or),Mi(vw,wD),vw.prototype.g=function(){return new XMLHttpRequest},vw.prototype.i=function(){return{}},xD=new vw;var Lee=45e3,CD={},yw={};function TD(n,e,t){n.L=1,n.v=Iw(Ra(e)),n.s=t,n.S=!0,RV(n,null)}function RV(n,e){n.G=Date.now(),Cg(n),n.A=Ra(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),zV(t.i,"t",i),n.C=0,t=n.l.J,n.h=new MV,n.g=hB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Ree(rr(n.Pa,n,n.g),n.O)),EV(n.U,n.g,"readystatechange",n.nb),e=n.I?dV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),wg(),function Pee(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");if(1<d.length){var h=d[0];d=d[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+d+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function PV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function OV(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Vee(n,t),r==yw){4==e&&(n.o=4,Ar(14),i=!1),Yh(n.j,n.m,null,"[Incomplete Response]");break}if(r==CD){n.o=4,Ar(15),Yh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Yh(n.j,n.m,r,null),DD(n,r)}PV(n)&&r!=yw&&r!=CD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ar(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),OD(e),e.M=!0,Ar(11))):(Yh(n.j,n.m,t,"[Invalid Chunked Response]"),xd(n),Tg(n))}function Vee(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?yw:(t=Number(e.substring(t,i)),isNaN(t)?CD:(i+=1)+t>e.length?yw:(e=e.slice(i,i+t),n.C=i+t,e))}function Cg(n){n.Y=Date.now()+n.P,NV(n,n.P)}function NV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Eg(rr(n.lb,n),e)}function bw(n){n.B&&(tt.clearTimeout(n.B),n.B=null)}function Tg(n){0==n.l.H||n.J||cB(n.l,n)}function xd(n){bw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,yD(n.V),IV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function DD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||SD(t.i,n)))if(!n.K&&SD(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Aw(t),Dw(t)}PD(t),Ar(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Eg(rr(t.ib,t),6e3));if(1>=qV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Td(t,11)}else if((n.K||t.g==n)&&Aw(t),!pg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const h=d[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=d[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(AD(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,yn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=uB(i,i.J?i.pa:null,i.Y),s.K){GV(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(bw(a),Cg(a)),i.g=s}else sB(i);0<t.j.length&&Sw(t)}else"stop"!=d[0]&&"close"!=d[0]||Td(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Td(t,7):RD(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}wg()}catch{}}function FV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Uee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Bee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cw(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ve=xg.prototype).setTimeout=function(n){this.P=n},ve.nb=function(n){n=n.target;const e=this.M;e&&3==Zs(n)?e.l():this.Pa(n)},ve.Pa=function(n){try{if(n==this.g)e:{const h=Zs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||nD||this.g&&(this.h.h||this.g.ja()||eB(this.g)))){this.J||4!=h||7==e||wg(),bw(this);var t=this.g.da();this.ca=t;t:if(PV(this)){var i=eB(this.g);n="";var r=i.length,o=4==Zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xd(this),Tg(this);var s="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Oee(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pg(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,Ar(12),xd(this),Tg(this);break e}Yh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DD(this,t)}this.S?(OV(this,h,s),nD&&this.i&&3==h&&(EV(this.U,this.V,"tick",this.mb),this.V.start())):(Yh(this.j,this.m,s,null),DD(this,s)),4==h&&xd(this),this.i&&!this.J&&(4==h?cB(this.l,this):(this.i=!1,Cg(this)))}else(function rte(n){const e={};n=(n.g&&2<=Zs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(pg(n[i]))continue;var t=Aee(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Eee(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),xd(this),Tg(this)}}}catch{}},ve.mb=function(){if(this.g){var n=Zs(this.g),e=this.g.ja();this.C<e.length&&(bw(this),OV(this,n,e),this.i&&4!=n&&Cg(this))}},ve.cancel=function(){this.J=!0,xd(this)},ve.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Nee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(wg(),Ar(17)),xd(this),this.o=2,Tg(this)):NV(this,this.Y-n)};var LV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cd){this.h=n.h,ww(this,n.j),this.s=n.s,this.g=n.g,Ew(this,n.m),this.l=n.l;var e=n.i,t=new Ag;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),VV(this,t),this.o=n.o}else n&&(e=String(n).match(LV))?(this.h=!1,ww(this,e[1]||"",!0),this.s=Dg(e[2]||""),this.g=Dg(e[3]||"",!0),Ew(this,e[4]),this.l=Dg(e[5]||"",!0),VV(this,e[6]||"",!0),this.o=Dg(e[7]||"")):(this.h=!1,this.i=new Ag(null,this.h))}function Ra(n){return new Cd(n)}function ww(n,e,t){n.j=t?Dg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ew(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function VV(n,e,t){e instanceof Ag?(n.i=e,function Wee(n,e){e&&!n.j&&(Hc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(UV(this,i),zV(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sg(e,qee)),n.i=new Ag(e,n.h))}function yn(n,e,t){n.i.set(e,t)}function Iw(n){return yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sg(e,BV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sg(e,BV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sg(t,"/"==t.charAt(0)?$ee:Hee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sg(t,Gee)),n.join("")};var BV=/[#\/\?@]/g,Hee=/[#\?:]/g,$ee=/[#\?]/g,qee=/[#\?@]/g,Gee=/#/g;function Ag(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hc(n){n.g||(n.g=new Map,n.h=0,n.i&&function jee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function UV(n,e){Hc(n),e=Xh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function jV(n,e){return Hc(n),e=Xh(n,e),n.g.has(e)}function zV(n,e,t){UV(n,e),0<t.length&&(n.i=null,n.g.set(Xh(n,e),eD(t)),n.h+=t.length)}function Xh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ve=Ag.prototype).add=function(n,e){Hc(this),this.i=null,n=Xh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(n,e){Hc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ve.ta=function(){Hc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ve.Z=function(n){Hc(this);let e=[];if("string"==typeof n)jV(this,n)&&(e=e.concat(this.g.get(Xh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ve.set=function(n,e){return Hc(this),this.i=null,jV(this,n=Xh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Zee=class{constructor(n,e){this.g=n,this.map=e}};function HV(n){this.l=n||Kee,n=tt.PerformanceNavigationTiming?0<(n=tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kee=10;function $V(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qV(n){return n.h?1:n.g?n.g.size:0}function SD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function AD(n,e){n.g?n.g.add(e):n.h=e}function GV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function WV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return eD(n.i)}HV.prototype.cancel=function(){if(this.i=WV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Qee=class{stringify(n){return tt.JSON.stringify(n,void 0)}parse(n){return tt.JSON.parse(n,void 0)}};function Yee(){this.g=new Qee}function Xee(n,e,t){const i=t||"";try{FV(n,function(r,o){let s=r;mg(r)&&(s=_D(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function xw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function kg(n){this.l=n.ec||null,this.j=n.ob||!1}function Cw(n,e){Ri.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=kD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mi(kg,wD),kg.prototype.g=function(){return new Cw(this.l,this.j)},kg.prototype.i=function(n){return function(){return n}}({}),Mi(Cw,Ri);var kD=0;function ZV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Mg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Rg(n)}function Rg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ve=Cw.prototype).open=function(n,e){if(this.readyState!=kD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Rg(this)},ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mg(this)),this.readyState=kD},ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Rg(this)),this.g&&(this.readyState=3,Rg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Mg(this):Rg(this),3==this.readyState&&ZV(this)}},ve.Za=function(n){this.g&&(this.response=this.responseText=n,Mg(this))},ve.Ya=function(n){this.g&&(this.response=n,Mg(this))},ve.ka=function(){this.g&&Mg(this)},ve.setRequestHeader=function(n,e){this.v.append(n,e)},ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Cw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ete=tt.JSON.parse;function qn(n){Ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=KV,this.L=this.M=!1}Mi(qn,Ri);var KV="",tte=/^https?$/i,nte=["POST","PUT"];function QV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,YV(n),Tw(n)}function YV(n){n.F||(n.F=!0,qi(n,"complete"),qi(n,"error"))}function XV(n){if(n.h&&typeof XT<"u"&&(!n.C[1]||4!=Zs(n)||2!=n.da()))if(n.v&&4==Zs(n))bD(n.La,0,n);else if(qi(n,"readystatechange"),4==Zs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(LV)[1]||null;!r&&tt.self&&tt.self.location&&(r=tt.self.location.protocol.slice(0,-1)),i=!tte.test(r?r.toLowerCase():"")}t=i}if(t)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var o=2<Zs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",YV(n)}}finally{Tw(n)}}}function Tw(n,e){if(n.g){JV(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qi(n,"ready");try{t.onreadystatechange=i}catch{}}}function JV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tt.clearTimeout(n.A),n.A=null)}function Zs(n){return n.g?n.g.readyState:0}function eB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case KV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tB(n){let e="";return cD(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function MD(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=tB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yn(n,e,t))}function Pg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function nB(n){this.Ga=0,this.j=[],this.l=new pw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pg("baseRetryDelayMs",5e3,n),this.hb=Pg("retryDelaySeedMs",1e4,n),this.eb=Pg("forwardChannelMaxRetries",2,n),this.xa=Pg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new HV(n&&n.concurrentRequestLimit),this.Ja=new Yee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function RD(n){if(iB(n),3==n.H){var e=n.W++,t=Ra(n.I);if(yn(t,"SID",n.K),yn(t,"RID",e),yn(t,"TYPE","terminate"),Og(n,t),(e=new xg(n,n.l,e)).L=2,e.v=Iw(Ra(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon)try{t=tt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Cg(e)}dB(n)}function Dw(n){n.g&&(OD(n),n.g.cancel(),n.g=null)}function iB(n){Dw(n),n.u&&(tt.clearTimeout(n.u),n.u=null),Aw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tt.clearTimeout(n.m),n.m=null)}function Sw(n){if(!$V(n.i)&&!n.m){n.m=!0;var e=n.Na;vg||yV(),yg||(vg(),yg=!0),vD.add(e,n),n.C=0}}function rB(n,e){var t;t=e?e.m:n.W++;const i=Ra(n.I);yn(i,"SID",n.K),yn(i,"RID",t),yn(i,"AID",n.V),Og(n,i),n.o&&n.s&&MD(i,n.o,n.s),t=new xg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=oB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),AD(n.i,t),TD(t,i,e)}function Og(n,e){n.na&&cD(n.na,function(t,i){yn(e,i,t)}),n.h&&FV({},function(t,i){yn(e,i,t)})}function oB(n,e,t){t=Math.min(n.j.length,t);var i=n.h?rr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let d=r[c].g;const h=r[c].map;if(d-=o,0>d)o=Math.max(0,r[c].g-100),a=!1;else try{Xee(h,s,"req"+d+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function sB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;vg||yV(),yg||(vg(),yg=!0),vD.add(e,n),n.A=0}}function PD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Eg(rr(n.Ma,n),lB(n,n.A)),n.A++,0))}function OD(n){null!=n.B&&(tt.clearTimeout(n.B),n.B=null)}function aB(n){n.g=new xg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ra(n.wa);yn(e,"RID","rpc"),yn(e,"SID",n.K),yn(e,"AID",n.V),yn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&yn(e,"TO",n.qa),yn(e,"TYPE","xmlhttp"),Og(n,e),n.o&&n.s&&MD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Iw(Ra(e)),t.s=null,t.S=!0,RV(t,n)}function Aw(n){null!=n.v&&(tt.clearTimeout(n.v),n.v=null)}function cB(n,e){var t=null;if(n.g==e){Aw(n),OD(n),n.g=null;var i=2}else{if(!SD(n.i,e))return;t=e.F,GV(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;qi(i=gw(),new DV(i,t)),Sw(n)}else sB(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function ote(n,e){return!(qV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Eg(rr(n.Na,n,e),lB(n,n.C)),n.C++,0)))}(n,e)||2==i&&PD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Td(n,5);break;case 4:Td(n,10);break;case 3:Td(n,6);break;default:Td(n,2)}}function lB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Td(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=rr(n.pb,n);t||(t=new Cd("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||ww(t,"https"),Iw(t)),function Jee(n,e){const t=new pw;if(tt.Image){const i=new Image;i.onload=lw(xw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lw(xw,t,i,"TestLoadImage: error",!1,e),i.onabort=lw(xw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lw(xw,t,i,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ar(2);n.H=0,n.h&&n.h.za(e),dB(n),iB(n)}function dB(n){if(n.H=0,n.ma=[],n.h){const e=WV(n.i);(0!=e.length||0!=n.j.length)&&(oV(n.ma,e),oV(n.ma,n.j),n.i.i.length=0,eD(n.j),n.j.length=0),n.h.ya()}}function uB(n,e,t){var i=t instanceof Cd?Ra(t):new Cd(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Ew(i,i.m);else{var r=tt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Cd(null);i&&ww(o,i),e&&(o.g=e),r&&Ew(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&yn(i,t,e),yn(i,"VER",n.ra),Og(n,i),i}function hB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qn(t&&n.Ha&&!n.va?new kg({ob:!0}):n.va)).Oa(n.J),e}function fB(){}function kw(){if(Qh&&!(10<=Number(vee)))throw Error("Environmental error: no available transport.")}function co(n,e){Ri.call(this),this.g=new nB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!pg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Jh(this)}function mB(n){ED.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function pB(){ID.call(this),this.status=1}function Jh(n){this.g=n}function gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ND(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Yt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ve=qn.prototype).Oa=function(n){this.M=n},ve.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xD.g(),this.C=function AV(n){return n.h||(n.h=n.i())}(this.u?this.u:xD),this.g.onreadystatechange=rr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void QV(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=tt.FormData&&n instanceof tt.FormData,!(0<=rV(nte,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JV(this),0<this.B&&((this.L=function ite(n){return Qh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.ua,this)):this.A=bD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){QV(this,o)}},ve.ua=function(){typeof XT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),Tw(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tw(this,!0)),qn.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?XV(this):this.kb())},ve.kb=function(){XV(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Zs(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ete(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=nB.prototype).ra=8,ve.H=1,ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new xg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=dV(o),hV(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oB(this,r,e),yn(t=Ra(this.I),"RID",n),yn(t,"CVER",22),this.F&&yn(t,"X-HTTP-Session-Id",this.F),Og(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(tB(o)))+"&"+e:this.o&&MD(t,this.o,o)),AD(this.i,r),this.bb&&yn(t,"TYPE","init"),this.P?(yn(t,"$req",e),yn(t,"SID","null"),r.aa=!0,TD(r,t,null)):TD(r,t,e),this.H=2}}else 3==this.H&&(n?rB(this,n):0==this.j.length||$V(this.i)||rB(this))},ve.Ma=function(){if(this.u=null,aB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Eg(rr(this.jb,this),n)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ar(10),Dw(this),aB(this))},ve.ib=function(){null!=this.v&&(this.v=null,Dw(this),PD(this),Ar(19))},ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ar(2)):(this.l.info("Failed to ping google.com"),Ar(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=fB.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},kw.prototype.g=function(n,e){return new co(n,e)},Mi(co,Ri),co.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ar(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=uB(n,null,n.Y),Sw(n)},co.prototype.close=function(){RD(this.g)},co.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_D(n),n=t);e.j.push(new Zee(e.fb++,n)),3==e.H&&Sw(e)},co.prototype.N=function(){this.g.h=null,delete this.j,RD(this.g),delete this.g,co.$.N.call(this)},Mi(mB,ED),Mi(pB,ID),Mi(Jh,fB),Jh.prototype.Ba=function(){qi(this.g,"a")},Jh.prototype.Aa=function(n){qi(this.g,new mB(n))},Jh.prototype.za=function(n){qi(this.g,new pB)},Jh.prototype.ya=function(){qi(this.g,"b")},Mi(gs,function ste(){this.blockSize=-1}),gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)ND(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){ND(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){ND(this,i),r=0;break}}this.h=r,this.i+=e},gs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var ate={};function FD(n){return-128<=n&&128>n?function pee(n,e){var t=ate;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Yt([0|e],0>e?-1:0)}):new Yt([0|n],0>n?-1:0)}function Ks(n){if(isNaN(n)||!isFinite(n))return ef;if(0>n)return Gi(Ks(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=LD;return new Yt(e,0)}var LD=4294967296,ef=FD(0),VD=FD(1),_B=FD(16777216);function Pa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Lo(n){return-1==n.h}function Gi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Yt(t,~n.h).add(VD)}function Mw(n,e){return n.add(Gi(e))}function Rw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ng(n,e){this.g=n,this.h=e}function Pw(n,e){if(Pa(e))throw Error("division by zero");if(Pa(n))return new Ng(ef,ef);if(Lo(n))return e=Pw(Gi(n),e),new Ng(Gi(e.g),Gi(e.h));if(Lo(e))return e=Pw(n,Gi(e)),new Ng(Gi(e.g),e.h);if(30<n.g.length){if(Lo(n)||Lo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=VD,i=e;0>=i.X(n);)t=vB(t),i=vB(i);var r=tf(t,1),o=tf(i,1);for(i=tf(i,2),t=tf(t,2);!Pa(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=tf(i,1),t=tf(t,1)}return e=Mw(n,r.R(e)),new Ng(r,e)}for(r=ef;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Ks(t)).R(e);Lo(s)||0<s.X(n);)s=(o=Ks(t-=i)).R(e);Pa(o)&&(o=VD),r=r.add(o),n=Mw(n,s)}return new Ng(r,n)}function vB(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Yt(t,n.h)}function tf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Yt(r,n.h)}(ve=Yt.prototype).ea=function(){if(Lo(this))return-Gi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:LD+i)*e,e*=LD}return n},ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pa(this))return"0";if(Lo(this))return"-"+Gi(this).toString(n);for(var e=Ks(Math.pow(n,6)),t=this,i="";;){var r=Pw(t,e).g,o=((0<(t=Mw(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pa(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ve.X=function(n){return Lo(n=Mw(this,n))?-1:Pa(n)?0:1},ve.abs=function(){return Lo(this)?Gi(this):this},ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Yt(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(n){if(Pa(this)||Pa(n))return ef;if(Lo(this))return Lo(n)?Gi(this).R(Gi(n)):Gi(Gi(this).R(n));if(Lo(n))return Gi(this.R(Gi(n)));if(0>this.X(_B)&&0>n.X(_B))return Ks(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Rw(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Rw(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Rw(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Rw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Yt(t,0)},ve.gb=function(n){return Pw(this,n).h},ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Yt(t,this.h&n.h)},ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Yt(t,this.h|n.h)},ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Yt(t,this.h^n.h)},kw.prototype.createWebChannel=kw.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,_w.NO_ERROR=0,_w.TIMEOUT=8,_w.HTTP_ERROR=6,SV.COMPLETE="complete",kV.EventType=Ig,Ig.OPEN="a",Ig.CLOSE="b",Ig.ERROR="c",Ig.MESSAGE="d",Ri.prototype.listen=Ri.prototype.O,qn.prototype.listenOnce=qn.prototype.P,qn.prototype.getLastError=qn.prototype.Sa,qn.prototype.getLastErrorCode=qn.prototype.Ia,qn.prototype.getStatus=qn.prototype.da,qn.prototype.getResponseJson=qn.prototype.Wa,qn.prototype.getResponseText=qn.prototype.ja,qn.prototype.send=qn.prototype.ha,qn.prototype.setWithCredentials=qn.prototype.Oa,gs.prototype.digest=gs.prototype.l,gs.prototype.reset=gs.prototype.reset,gs.prototype.update=gs.prototype.j,Yt.prototype.add=Yt.prototype.add,Yt.prototype.multiply=Yt.prototype.R,Yt.prototype.modulo=Yt.prototype.gb,Yt.prototype.compare=Yt.prototype.X,Yt.prototype.toNumber=Yt.prototype.ea,Yt.prototype.toString=Yt.prototype.toString,Yt.prototype.getBits=Yt.prototype.D,Yt.fromNumber=Ks,Yt.fromString=function gB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gi(gB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ks(Math.pow(e,8)),i=ef,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Ks(Math.pow(e,o)),i=i.R(o).add(Ks(s))):i=(i=i.R(t)).add(Ks(s))}return i};var cte=ps.createWebChannelTransport=function(){return new kw},lte=ps.getStatEventTarget=function(){return gw()},BD=ps.ErrorCode=_w,dte=ps.EventType=SV,ute=ps.Event=Id,yB=ps.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hte=ps.FetchXmlHttpFactory=kg,Ow=ps.WebChannel=kV,fte=ps.XhrIo=qn,mte=ps.Md5=gs,nf=ps.Integer=Yt;const bB="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let rf="10.5.2";const $c=new Gs.Yd("@firebase/firestore");function sf(){return $c.logLevel}function oe(n,...e){if($c.logLevel<=Gs.in.DEBUG){const t=e.map(UD);$c.debug(`Firestore (${rf}): ${n}`,...t)}}function ni(n,...e){if($c.logLevel<=Gs.in.ERROR){const t=e.map(UD);$c.error(`Firestore (${rf}): ${n}`,...t)}}function $r(n,...e){if($c.logLevel<=Gs.in.WARN){const t=e.map(UD);$c.warn(`Firestore (${rf}): ${n}`,...t)}}function UD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ee(n="Unexpected state"){const e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+n;throw ni(e),new Error(e)}function Me(n,e){n||Ee()}function me(n,e){return n}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _te{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class vte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yte{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,K.Z)(function*(){yield d.promise,yield o(i.currentUser)}))},c=d=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me("string"==typeof i.accessToken),new wB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Pi(e)}}class bte{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wte{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new bte(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ete{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me("string"==typeof t.token),this.R=t.token,new EB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ite(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class IB{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Ite(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function af(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function xB(n){return n+"\0"}class kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new kn(0,0))}static max(){return new Re(new kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fg{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ee(),void 0===i?i=e.length-t:i>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Fg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class At extends Fg{construct(e,t,i){return new At(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new At(t)}static emptyPath(){return new At([])}}const xte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Fg{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return xte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ie(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ie(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ie(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ie(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(At.fromString(e))}static fromName(e){return new pe(At.fromString(e).popFirst(5))}static empty(){return new pe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===At.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new At(e.slice()))}}class cf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function jD(n){return n.fields.find(e=>2===e.kind)}function Dd(n){return n.fields.filter(e=>2!==e.kind)}cf.UNKNOWN_ID=-1;class Sd{constructor(e,t){this.fieldPath=e,this.kind=t}}class lf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new lf(0,lo.min())}}function CB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(1e9===i?new kn(t+1,0):new kn(t,i));return new lo(r,pe.empty(),e)}function TB(n){return new lo(n.readTime,n.key,-1)}class lo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new lo(Re.min(),pe.empty(),-1)}static max(){return new lo(Re.max(),pe.empty(),-1)}}function zD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Xe(n.largestBatchId,e.largestBatchId))}const DB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qc(n){return HD.apply(this,arguments)}function HD(){return HD=(0,K.Z)(function*(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==DB)throw n;oe("LocalStore","Unexpectedly lost primary lease")}),HD.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new P((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof P?t:P.resolve(t)}catch(t){return P.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):P.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):P.reject(t)}static resolve(e){return new P((t,i)=>{t(e)})}static reject(e){return new P((t,i)=>{i(e)})}static waitFor(e){return new P((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=P.resolve(!1);for(const i of e)t=t.next(r=>r?P.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new P((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new P((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Nw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Lg(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=$D(i.target.error);this.V.reject(new Lg(e,r))}}static open(e,t,i,r){try{return new Nw(t,e.transaction(r,i))}catch(o){throw new Lg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ste(t)}}class _s{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===_s.S((0,ln.z$)())&&ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),Ad(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ln.hl)())return!1;if(_s.C())return!0;const e=(0,ln.z$)(),t=_s.S(e),i=0<t&&t<10,r=_s.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,K.Z)(function*(){return t.db||(oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Lg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ie(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ie(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Lg(e,a))},o.onupgradeneeded=s=>{oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,K.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=Nw.open(o.db,e,s?"readonly":"readwrite",i),d=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),P.reject(h))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,h="FirebaseError"!==d.name&&a<3;if(oe("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),o.close(),!h)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dte{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ad(this.k.delete())}}class Lg extends ie{constructor(e,t){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gc(n){return"IndexedDbTransactionError"===n.name}class Ste{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(oe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ad(i)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),Ad(this.store.add(e))}get(e){return Ad(this.store.get(e)).next(t=>(void 0===t&&(t=null),oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),Ad(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),Ad(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new P((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new P((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new P((i,r)=>{t.onerror=o=>{const s=$D(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new P((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new Dte(a),d=t(a.primaryKey,a.value,c);if(d instanceof P){const h=d.catch(p=>(c.done(),P.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>P.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ad(n){return new P((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=$D(i.target.error);t(r)}})}let AB=!1;function $D(n){const e=_s.S((0,ln.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AB||(AB=!0,setTimeout(()=>{throw i},0)),i}}return n}class Ate{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,K.Z)(function*(){t.task=null;try{oe("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){Gc(i)?oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qc(i)}yield t.ee(6e4)}))}}class kte{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,K.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return P.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return oe("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(oe("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=TB(o);zD(s,i)>0&&(i=s)}),new lo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let uo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Vg(n){return null==n}function Bg(n){return 0===n&&1/n==-1/0}function kB(n){return"number"==typeof n&&Number.isInteger(n)&&!Bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function sr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=MB(e)),e=Mte(n.get(t),e);return MB(e)}function Mte(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function MB(n){return n+"\x01\x01"}function Qs(n){const e=n.length;if(Me(e>=2),2===e)return Me("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),At.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&Ee(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Ee()}o=s+2}return new At(i)}const RB=["userId","batchId"];function Fw(n,e){return[n,sr(e)]}function PB(n,e,t){return[n,sr(e),t]}const Rte={},Pte=["prefixPath","collectionGroup","readTime","documentId"],Ote=["prefixPath","collectionGroup","documentId"],Nte=["collectionGroup","readTime","prefixPath","documentId"],Fte=["canonicalId","targetId"],Lte=["targetId","path"],Vte=["path","targetId"],Bte=["collectionId","parent"],Ute=["indexId","uid"],jte=["uid","sequenceNumber"],zte=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hte=["indexId","uid","orderedDocumentKey"],$te=["userId","collectionPath","documentId"],qte=["userId","collectionPath","largestBatchId"],Gte=["userId","collectionGroup","largestBatchId"],OB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wte=[...OB,"documentOverlays"],NB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FB=NB,Zte=[...FB,"indexConfiguration","indexState","indexEntries"];class qD extends SB{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Oi(n,e){const t=me(n);return _s.M(t.ae,e)}function LB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mn{constructor(e,t){this.comparator=e,this.root=t||Wi.EMPTY}insert(e,t){return new mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lw(this.root,e,this.comparator,!0)}}class Lw{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Wi.RED,this.left=r??Wi.EMPTY,this.right=o??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Wi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Wi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BB(this.data.getIterator())}getIteratorFrom(e){return new BB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new on(this.comparator);return t.data=e,t}}class BB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function df(n){return n.hasNext()?n.getNext():void 0}class qr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new qr([])}unionWith(e){let t=new on(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return af(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class UB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UB("Invalid base64 string: "+o):o}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const Qte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(n){if(Me(!!n),"string"==typeof n){let e=0;const t=Qte.exec(n);if(Me(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oa(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function Vw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bw(n){const e=n.mapValue.fields.__previous_value__;return Vw(e)?Bw(e):e}function Ug(n){const e=Zc(n.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}class Yte{constructor(e,t,i,r,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uw={nullValue:"NULL_VALUE"};function Yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vw(n)?4:$B(n)?9007199254740991:10:Ee()}function Ys(n,e){if(n===e)return!0;const t=Yc(n);if(t!==Yc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ug(n).isEqual(Ug(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Zc(r.timestampValue),a=Zc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Oa(n.bytesValue).isEqual(Oa(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Gn(r.geoPointValue.latitude)===Gn(o.geoPointValue.latitude)&&Gn(r.geoPointValue.longitude)===Gn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Gn(r.integerValue)===Gn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Gn(r.doubleValue),a=Gn(o.doubleValue);return s===a?Bg(s)===Bg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return af(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(LB(s)!==LB(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ys(s[c],a[c])))return!1;return!0}(n,e);default:return Ee()}var o}function jg(n,e){return void 0!==(n.values||[]).find(t=>Ys(t,e))}function Xc(n,e){if(n===e)return 0;const t=Yc(n),i=Yc(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Gn(o.integerValue||o.doubleValue),c=Gn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return jB(n.timestampValue,e.timestampValue);case 4:return jB(Ug(n),Ug(e));case 5:return Xe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Oa(o),c=Oa(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Xe(a[d],c[d]);if(0!==h)return h}return Xe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Xe(Gn(o.latitude),Gn(s.latitude));return 0!==a?a:Xe(Gn(o.longitude),Gn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=Xc(a[d],c[d]);if(h)return h}return Xe(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qc.mapValue&&s===Qc.mapValue)return 0;if(o===Qc.mapValue)return 1;if(s===Qc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Xe(c[p],h[p]);if(0!==g)return g;const v=Xc(a[c[p]],d[h[p]]);if(0!==v)return v}return Xe(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function jB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xe(n,e);const t=Zc(n),i=Zc(e),r=Xe(t.seconds,i.seconds);return 0!==r?r:Xe(t.nanos,i.nanos)}function uf(n){return GD(n)}function GD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Zc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oa(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=GD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${GD(t.fields[s])}`;return r+"}"}(n.mapValue):Ee()}function kd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function WD(n){return!!n&&"integerValue"in n}function zg(n){return!!n&&"arrayValue"in n}function zB(n){return!!n&&"nullValue"in n}function HB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zw(n){return!!n&&"mapValue"in n}function Hg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Hg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $B(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xte(n){return"nullValue"in n?Uw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kd(Kc.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ee()}function Jte(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kd(Kc.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qc:Ee()}function qB(n,e){const t=Xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function GB(n,e){const t=Xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hg(t)}setAll(e){let t=bn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Hg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());zw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];zw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Wc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Zi(Hg(this.value))}}function WB(n){const e=[];return Wc(n.fields,(t,i)=>{const r=new bn([t]);if(zw(i)){const o=WB(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new qr(e)}class wn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Re.min(),Re.min(),Re.min(),Zi.empty(),0)}static newFoundDocument(e,t,i,r){return new wn(e,1,t,Re.min(),i,r,0)}static newNoDocument(e,t){return new wn(e,2,t,Re.min(),Re.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Re.min(),Re.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function ZB(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?pe.comparator(pe.fromName(s.referenceValue),t.key):Xc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function KB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}class $g{constructor(e,t="asc"){this.field=e,this.dir=t}}function ene(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class QB{}class It extends QB{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new tne(e,t,i):"array-contains"===t?new rne(e,i):"in"===t?new nU(e,i):"not-in"===t?new one(e,i):"array-contains-any"===t?new sne(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new nne(e,i):new ine(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xc(t,this.value)):null!==t&&Yc(this.value)===Yc(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xt extends QB{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Xt(e,t)}matches(e){return hf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function hf(n){return"and"===n.op}function ZD(n){return"or"===n.op}function KD(n){return YB(n)&&hf(n)}function YB(n){for(const e of n.filters)if(e instanceof Xt)return!1;return!0}function QD(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+uf(n.value);if(KD(n))return n.filters.map(e=>QD(e)).join(",");{const e=n.filters.map(t=>QD(t)).join(",");return`${n.op}(${e})`}}function XB(n,e){return n instanceof It?(i=n,(r=e)instanceof It&&i.op===r.op&&i.field.isEqual(r.field)&&Ys(i.value,r.value)):n instanceof Xt?function(i,r){return r instanceof Xt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&XB(s,r.filters[a]),!0)}(n,e):void Ee();var i,r}function JB(n,e){const t=n.filters.concat(e);return Xt.create(t,n.op)}function eU(n){return n instanceof It?`${(t=n).field.canonicalString()} ${t.op} ${uf(t.value)}`:n instanceof Xt?function(t){return t.op.toString()+" {"+t.getFilters().map(eU).join(" ,")+"}"}(n):"Filter";var t}class tne extends It{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class nne extends It{constructor(e,t){super(e,"in",t),this.keys=tU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ine extends It{constructor(e,t){super(e,"not-in",t),this.keys=tU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}class rne extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&jg(t.arrayValue,this.value)}}class nU extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jg(this.value.arrayValue,t)}}class one extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jg(this.value.arrayValue,t)}}class sne extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jg(this.value.arrayValue,i))}}class ane{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function YD(n,e=null,t=[],i=[],r=null,o=null,s=null){return new ane(n,e,t,i,r,o,s)}function Md(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>QD(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Vg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>uf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>uf(i)).join(",")),e.ce=t}return e.ce}function qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ene(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KB(n.startAt,e.startAt)&&KB(n.endAt,e.endAt)}function Hw(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $w(n,e){return n.filters.filter(t=>t instanceof It&&t.field.isEqual(e))}function iU(n,e,t){let i=Uw,r=!0;for(const o of $w(n,e)){let s=Uw,a=!0;switch(o.op){case"<":case"<=":s=Xte(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Uw}qB({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];qB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function rU(n,e,t){let i=Qc,r=!0;for(const o of $w(n,e)){let s=Qc,a=!0;switch(o.op){case">=":case">":s=Jte(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Qc}GB({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];GB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Na{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function oU(n,e,t,i,r,o,s,a){return new Na(n,e,t,i,r,o,s,a)}function ff(n){return new Na(n)}function sU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function XD(n){return null!==n.collectionGroup}function mf(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new on(bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new $g(o,i))}),t.has(bn.keyField().canonicalString())||e.le.push(new $g(bn.keyField(),i))}return e.le}function kr(n){const e=me(n);return e.he||(e.he=function aU(n,e){if("F"===n.limitType)return YD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new $g(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return YD(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,mf(n))),e.he}function JD(n,e){const t=n.filters.concat([e]);return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qw(n,e,t){return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gg(n,e){return qg(kr(n),kr(e))&&n.limitType===e.limitType}function cU(n){return`${Md(kr(n))}|lt:${n.limitType}`}function pf(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>eU(r)).join(", ")}]`),Vg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>uf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>uf(r)).join(",")),`Target(${i})`}(kr(n))}; limitType=${n.limitType})`}function Wg(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of mf(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const d=ZB(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,mf(i),r)||i.endAt&&!function(s,a,c){const d=ZB(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,mf(i),r)));var i,r}function lU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dU(n){return(e,t)=>{let i=!1;for(const r of mf(n)){const o=cne(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function cne(n,e,t){const i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?Xc(c,d):Ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return VB(this.inner)}size(){return this.innerSize}}const lne=new mn(pe.comparator);function Gr(){return lne}const uU=new mn(pe.comparator);function Zg(...n){let e=uU;for(const t of n)e=e.insert(t.key,t);return e}function hU(n){let e=uU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Xs(){return Kg()}function fU(){return Kg()}function Kg(){return new Fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const dne=new mn(pe.comparator),une=new on(pe.comparator);function rt(...n){let e=une;for(const t of n)e=e.add(t);return e}const hne=new on(Xe);function eS(){return hne}function mU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bg(e)?"-0":e}}function pU(n){return{integerValue:""+n}}function gU(n,e){return kB(e)?pU(e):mU(n,e)}class Gw{constructor(){this._=void 0}}function fne(n,e,t){return n instanceof gf?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Vw(o)&&(o=Bw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Rd?vU(n,e):n instanceof Pd?yU(n,e):function(r,o){const s=_U(r,o),a=bU(s)+bU(r.Ie);return WD(s)&&WD(r.Ie)?pU(a):mU(r.serializer,a)}(n,e)}function mne(n,e,t){return n instanceof Rd?vU(n,e):n instanceof Pd?yU(n,e):t}function _U(n,e){return n instanceof _f?WD(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class gf extends Gw{}class Rd extends Gw{constructor(e){super(),this.elements=e}}function vU(n,e){const t=wU(e);for(const i of n.elements)t.some(r=>Ys(r,i))||t.push(i);return{arrayValue:{values:t}}}class Pd extends Gw{constructor(e){super(),this.elements=e}}function yU(n,e){let t=wU(e);for(const i of n.elements)t=t.filter(r=>!Ys(r,i));return{arrayValue:{values:t}}}class _f extends Gw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bU(n){return Gn(n.integerValue||n.doubleValue)}function wU(n){return zg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qg{constructor(e,t){this.field=e,this.transform=t}}class gne{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ww(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Zw{}function EU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new yf(n.key,Mn.none()):new vf(n.key,n.data,Mn.none());{const t=n.data,i=Zi.empty();let r=new on(bn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new La(n.key,i,new qr(r.toArray()),Mn.none())}}function _ne(n,e,t){n instanceof vf?function(r,o,s){const a=r.value.clone(),c=CU(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof La?function(r,o,s){if(!Ww(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=CU(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(xU(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Yg(n,e,t,i){return n instanceof vf?function(o,s,a,c){if(!Ww(o.precondition,s))return a;const d=o.value.clone(),h=TU(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof La?function(o,s,a,c){if(!Ww(o.precondition,s))return a;const d=TU(o.fieldTransforms,c,s),h=s.data;return h.setAll(xU(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,Ww(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function vne(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=_U(i.transform,r||null);null!=o&&(null===t&&(t=Zi.empty()),t.set(i.field,o))}return t||null}function IU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&af(i,r,(o,s)=>function pne(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Rd&&r instanceof Rd||i instanceof Pd&&r instanceof Pd?af(i.elements,r.elements,Ys):i instanceof _f&&r instanceof _f?Ys(i.Ie,r.Ie):i instanceof gf&&r instanceof gf);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class vf extends Zw{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class La extends Zw{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function CU(n,e,t){const i=new Map;Me(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,mne(s,a,t[r]))}return i}function TU(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,fne(o,s,e))}return i}class yf extends Zw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tS extends Zw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nS{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&_ne(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Yg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Yg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=fU();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=EU(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,(t,i)=>IU(t,i))&&af(this.baseMutations,e.baseMutations,(t,i)=>IU(t,i))}}class iS{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Me(e.mutations.length===i.length);let r=dne;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new iS(e,t,i,r)}}class rS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bne{constructor(e,t){this.count=e,this.unchangedNames=t}}var ui,kt;function DU(n){switch(n){default:return Ee();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function SU(n){if(void 0===n)return ni("GRPC error has no .code"),B.UNKNOWN;switch(n){case ui.OK:return B.OK;case ui.CANCELLED:return B.CANCELLED;case ui.UNKNOWN:return B.UNKNOWN;case ui.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ui.INTERNAL:return B.INTERNAL;case ui.UNAVAILABLE:return B.UNAVAILABLE;case ui.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ui.NOT_FOUND:return B.NOT_FOUND;case ui.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ui.ABORTED:return B.ABORTED;case ui.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ui.DATA_LOSS:return B.DATA_LOSS;default:return Ee()}}(kt=ui||(ui={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function AU(){return new TextEncoder}const wne=new nf([4294967295,4294967295],0);function kU(n){const e=AU().encode(n),t=new mte;return t.update(e),new Uint8Array(t.digest())}function MU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nf([t,i],0),new nf([r,o],0)]}class oS{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Xg(`Invalid padding: ${t}`);if(i<0)throw new Xg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Xg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Xg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=nf.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(nf.fromNumber(i)));return 1===r.compare(wne)&&(r=new nf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=kU(e),[i,r]=MU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new oS(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=kU(e),[i,r]=MU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Xg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,e_.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Jg(Re.min(),r,new mn(Xe),Gr(),rt())}}class e_{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new e_(i,t,rt(),rt(),rt())}}class Qw{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class RU{constructor(e,t){this.targetId=e,this.fe=t}}class PU{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class OU{constructor(){this.ge=0,this.pe=FU(),this.ye=Ei.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rt(),t=rt(),i=rt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ee()}}),new e_(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=FU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Ene{constructor(e){this.Le=e,this.ke=new Map,this.qe=Gr(),this.Qe=NU(),this.Ke=new mn(Xe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(Hw(o))if(0===i){const s=new pe(o.path);this.We(t,s,wn.newNoDocument(s,Re.min()))}else Me(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Oa(i).toUint8Array()}catch(c){if(c instanceof UB)return $r("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new oS(s,r,o)}catch(c){return $r(c instanceof Xg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Hw(a.target)){const c=new pe(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,wn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=rt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Ye(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Jg(e,t,this.Ke,this.qe,i);return this.qe=Gr(),this.Qe=NU(),this.Ke=new mn(Xe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new OU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new on(Xe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new OU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function NU(){return new mn(pe.comparator)}function FU(){return new mn(pe.comparator)}const Ine={asc:"ASCENDING",desc:"DESCENDING"},xne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cne={and:"AND",or:"OR"};class Tne{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sS(n,e){return n.useProto3Json||Vg(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dne(n,e){return bf(n,e.toTimestamp())}function ii(n){return Me(!!n),Re.fromTimestamp(function(t){const i=Zc(t);return new kn(i.seconds,i.nanos)}(n))}function aS(n,e){return(i=n,new At(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function VU(n){const e=At.fromString(n);return Me(WU(e)),e}function t_(n,e){return aS(n.databaseId,e.path)}function Js(n,e){const t=VU(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(UU(t))}function cS(n,e){return aS(n.databaseId,e)}function BU(n){const e=VU(n);return 4===e.length?At.emptyPath():UU(e)}function n_(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UU(n){return Me(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jU(n,e,t){return{name:t_(n,e),fields:t.value.mapValue.fields}}function zU(n,e,t){const i=Js(n,e.name),r=ii(e.updateTime),o=e.createTime?ii(e.createTime):Re.min(),s=new Zi({mapValue:{fields:e.fields}}),a=wn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function i_(n,e){let t;if(e instanceof vf)t={update:jU(n,e.key,e.value)};else if(e instanceof yf)t={delete:t_(n,e.key)};else if(e instanceof La)t={update:jU(n,e.key,e.data),updateMask:Nne(e.fieldMask)};else{if(!(e instanceof tS))return Ee();t={verify:t_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof gf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _f)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ee()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Dne(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ee()),t;var o}function lS(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Mn.updateTime(ii(o.updateTime)):void 0!==o.exists?Mn.exists(o.exists):Mn.none():Mn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Me("REQUEST_TIME"===a.setToServerValue),c=new gf):"appendMissingElements"in a?c=new Rd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Pd(a.removeAllFromArray.values||[]):"increment"in a?c=new _f(s,a.increment):Ee();const d=bn.fromServerFormat(a.fieldPath);return new Qg(d,c)}(n,r)):[];var o;if(e.update){const r=Js(n,e.update.name),o=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new qr((e.updateMask.fieldPaths||[]).map(h=>bn.fromServerFormat(h)));return new La(r,o,s,t,i)}return new vf(r,o,t,i)}if(e.delete){const r=Js(n,e.delete);return new yf(r,t)}if(e.verify){const r=Js(n,e.verify);return new tS(r,t)}return Ee()}function HU(n,e){return{documents:[cS(n,e.path)]}}function dS(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=cS(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cS(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return GU(Xt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:el((p=d).field),direction:Rne(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=sS(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function $U(n){let e=BU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Me(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=qU(p);return g instanceof Xt&&KD(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new $g(wf((b=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Vg(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new Jc((p=t.startAt).values||[],!!p.before));let d=null;return t.endAt&&(d=function(p){return new Jc(p.values||[],!p.before)}(t.endAt)),oU(e,r,s,o,a,"F",c,d)}function qU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=wf(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=wf(t.unaryFilter.field);return It.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wf(t.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wf(t.unaryFilter.field);return It.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):void 0!==n.fieldFilter?It.create(wf((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Xt.create(t.compositeFilter.filters.map(i=>qU(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee();var t}function Rne(n){return Ine[n]}function Pne(n){return xne[n]}function One(n){return Cne[n]}function el(n){return{fieldPath:n.canonicalString()}}function wf(n){return bn.fromServerFormat(n.fieldPath)}function GU(n){return n instanceof It?function(t){if("=="===t.op){if(HB(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(zB(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(HB(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(zB(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:Pne(t.op),value:t.value}}}(n):n instanceof Xt?function(t){const i=t.getFilters().map(r=>GU(r));return 1===i.length?i[0]:{compositeFilter:{op:One(t.op),filters:i}}}(n):Ee()}function Nne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Va{constructor(e,t,i,r,o=Re.min(),s=Re.min(),a=Ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZU{constructor(e){this.ut=e}}function KU(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Yw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:t_(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:bf(o,s.version.toTimestamp()),createTime:bf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Od(e.version)};else{if(!e.isUnknownDocument())return Ee();i.unknownDocument={path:t.path.toArray(),version:Od(e.version)}}var o,s;return i}function Yw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Od(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nd(n){const e=new kn(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function Fd(n,e){const t=(e.baseMutations||[]).map(o=>lS(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>lS(n.ut,o)),r=kn.fromMillis(e.localWriteTimeMs);return new nS(e.batchId,r,t,i)}function r_(n){const e=Nd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nd(n.lastLimboFreeSnapshotVersion):Re.min();let i;return i=void 0!==n.query.documents?(Me(1===(o=n.query).documents.length),kr(ff(BU(o.documents[0])))):function(o){return kr($U(o))}(n.query),new Va(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken));var o}function QU(n,e){const t=Od(e.snapshotVersion),i=Od(e.lastLimboFreeSnapshotVersion);let r;r=Hw(e.target)?HU(n.ut,e.target):dS(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Md(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function uS(n){const e=$U({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qw(e,e.limit,"L"):e}function hS(n,e){return new rS(e.largestBatchId,lS(n.ut,e.overlayMutation))}function YU(n,e){const t=e.path.lastSegment();return[n,sr(e.path.popLast()),t]}function XU(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Od(i.readTime),documentKey:sr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Lne{getBundleMetadata(e,t){return JU(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Nd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return JU(e).put({bundleId:(r=t).id,createTime:Od(ii(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ej(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:uS(o.bundledQuery),readTime:Nd(o.readTime)};var o})}saveNamedQuery(e,t){return ej(e).put({name:(r=t).name,readTime:Od(ii(r.readTime)),bundledQuery:r.bundledQuery});var r}}function JU(n){return Oi(n,"bundles")}function ej(n){return Oi(n,"namedQueries")}class Xw{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Xw(e,t.uid||"")}getOverlay(e,t){return o_(e).get(YU(this.userId,t)).next(i=>i?hS(this.serializer,i):null)}getOverlays(e,t){const i=Xs();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new rS(t,s);r.push(this.lt(e,a))}),P.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(sr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(o_(e).H("collectionPathOverlayIndex",a))}),P.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Xs(),o=sr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return o_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=hS(this.serializer,c);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Xs();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return o_(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,d,h)=>{const p=hS(this.serializer,d);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return o_(e).put(function(r,o,s){const[a,c,d]=YU(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:i_(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function o_(n){return Oi(n,"documentOverlays")}class Ld{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Gn(e.integerValue));else if("doubleValue"in e){const i=Gn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Bg(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Oa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?$B(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ee()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Vne(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function tj(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Vne(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Ld.St=new Ld;class Bne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=tj(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=tj(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Une{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class jne{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class s_{constructor(){this.Wt=new Bne,this.Gt=new Une(this.Wt),this.zt=new jne(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Vd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Vd(this.indexId,this.documentKey,this.arrayValue,i)}}function tl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nj(n.arrayValue,e.arrayValue),0!==t?t:(t=nj(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function nj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class ij{constructor(e){this.Jt=new on((t,i)=>bn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Me(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=jD(e);if(void 0!==t&&!this.tn(t))return!1;const i=Dd(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new on(bn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Sd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Sd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Sd(i.field,"asc"===i.dir?0:1)));return new cf(cf.UNKNOWN_ID,this.collectionId,t,lf.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function rj(n){var e,t;if(Me(n instanceof It||n instanceof Xt),n instanceof It){if(n instanceof nU){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>It.create(n.field,"==",o)))||[];return Xt.create(r,"or")}return n}const i=n.filters.map(r=>rj(r));return Xt.create(i,n.op)}function zne(n){if(0===n.getFilters().length)return[];const e=pS(rj(n));return Me(oj(e)),fS(e)||mS(e)?[e]:e.getFilters()}function fS(n){return n instanceof It}function mS(n){return n instanceof Xt&&KD(n)}function oj(n){return fS(n)||mS(n)||function(t){if(t instanceof Xt&&ZD(t)){for(const i of t.getFilters())if(!fS(i)&&!mS(i))return!1;return!0}return!1}(n)}function pS(n){if(Me(n instanceof It||n instanceof Xt),n instanceof It)return n;if(1===n.filters.length)return pS(n.filters[0]);const e=n.filters.map(i=>pS(i));let t=Xt.create(e,n.op);return t=Jw(t),oj(t)?t:(Me(t instanceof Xt),Me(hf(t)),Me(t.filters.length>1),t.filters.reduce((i,r)=>gS(i,r)))}function gS(n,e){let t;return Me(n instanceof It||n instanceof Xt),Me(e instanceof It||e instanceof Xt),t=n instanceof It?e instanceof It?Xt.create([n,e],"and"):sj(n,e):e instanceof It?sj(e,n):function(r,o){if(Me(r.filters.length>0&&o.filters.length>0),hf(r)&&hf(o))return JB(r,o.getFilters());const s=ZD(r)?r:o,a=ZD(r)?o:r,c=s.filters.map(d=>gS(d,a));return Xt.create(c,"or")}(n,e),Jw(t)}function sj(n,e){if(hf(e))return JB(e,n.getFilters());{const t=e.filters.map(i=>gS(n,i));return Xt.create(t,"or")}}function Jw(n){if(Me(n instanceof It||n instanceof Xt),n instanceof It)return n;const e=n.getFilters();if(1===e.length)return Jw(e[0]);if(YB(n))return n;const t=e.map(r=>Jw(r)),i=[];return t.forEach(r=>{r instanceof It?i.push(r):r instanceof Xt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Xt.create(i,n.op)}class Hne{constructor(){this.on=new _S}addToCollectionParentIndex(e,t){return this.on.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(lo.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}}class _S{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new on(At.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new on(At.comparator)).toArray()}}const e0=new Uint8Array(0);class $ne{constructor(e,t){this.user=e,this.databaseId=t,this._n=new _S,this.an=new Fa(i=>Md(i),(i,r)=>qg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:sr(r)};return aj(e).put(o)}return P.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[xB(t),""],!1,!0);return aj(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Qs(s.parent))}return i})}addFieldIndex(e,t){const i=a_(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=If(e);return o.next(a=>{s.put(XU(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=a_(e),r=If(e),o=Ef(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=a_(e),i=Ef(e),r=If(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return P.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new ij(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=Ef(e);let r=!0;const o=new Map;return P.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=rt();const a=[];return P.forEach(o,(c,d)=>{var M;oe("IndexedDbIndexManager",`Using index ${M=c,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${Md(t)}`);const h=function(M,Y){const ue=jD(Y);if(void 0===ue)return null;for(const xe of $w(M,ue.fieldPath))switch(xe.op){case"array-contains-any":return xe.value.arrayValue.values||[];case"array-contains":return[xe.value]}return null}(d,c),p=function(M,Y){const ue=new Map;for(const xe of Dd(Y))for(const Qe of $w(M,xe.fieldPath))switch(Qe.op){case"==":case"in":ue.set(xe.fieldPath.canonicalString(),Qe.value);break;case"not-in":case"!=":return ue.set(xe.fieldPath.canonicalString(),Qe.value),Array.from(ue.values())}return null}(d,c),g=function(M,Y){const ue=[];let xe=!0;for(const Qe of Dd(Y)){const dn=0===Qe.kind?iU(M,Qe.fieldPath,M.startAt):rU(M,Qe.fieldPath,M.startAt);ue.push(dn.value),xe&&(xe=dn.inclusive)}return new Jc(ue,xe)}(d,c),v=function(M,Y){const ue=[];let xe=!0;for(const Qe of Dd(Y)){const dn=0===Qe.kind?rU(M,Qe.fieldPath,M.endAt):iU(M,Qe.fieldPath,M.endAt);ue.push(dn.value),xe&&(xe=dn.inclusive)}return new Jc(ue,xe)}(d,c),b=this.ln(c,d,g),w=this.ln(c,d,v),E=this.hn(c,d,p),A=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,E);return P.forEach(A,S=>i.j(S,t.limit).next(M=>{M.forEach(Y=>{const ue=pe.fromSegments(Y.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return P.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:zne(Xt.create(e.filters,"and")).map(i=>YD(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),d=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/d]):e0,v=this.Tn(e,g,i[p%d],r),b=this.En(e,g,o[p%d],s),w=a.map(E=>this.Tn(e,g,E,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new Vd(e,pe.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new Vd(e,pe.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new ij(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return P.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new on(bn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new s_;for(const r of Dd(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Ld.St.ht(o,s)}return i.Ut()}In(e){const t=new s_;return Ld.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new s_;return Ld.St.ht(kd(this.databaseId,t),i.jt(function(o){const s=Dd(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new s_);let o=0;for(const s of Dd(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&zg(a))r=this.Vn(r,s,a);else{const d=c.jt(s.kind);Ld.St.ht(a,d)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new s_;c.seed(a.Ut()),Ld.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof It&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=a_(e),r=If(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return P.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new lf(p.sequenceNumber,new lo(Nd(p.readTime),new pe(Qs(p.documentKey)),p.largestBatchId)):lf.empty(),v=h.fields.map(([b,w])=>new Sd(bn.fromServerFormat(b),w));return new cf(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Xe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=a_(e),o=If(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>P.forEach(a,c=>o.put(XU(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return P.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?P.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),P.forEach(a,c=>this.gn(e,r,c).next(d=>{const h=this.pn(o,c);return d.isEqual(h)?P.resolve():this.yn(e,o,c,d,h)}))))})}wn(e,t,i,r){return Ef(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return Ef(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=Ef(e);let o=new on(tl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new Vd(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new on(tl);const r=this.dn(t,e);if(null==r)return i;const o=jD(t);if(null!=o){const s=e.data.field(o.fieldPath);if(zg(s))for(const a of s.arrayValue.values||[])i=i.add(new Vd(t.indexId,e.key,this.In(a),r))}else i=i.add(new Vd(t.indexId,e.key,e0,r));return i}yn(e,t,i,r,o){oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,h,p,g){const v=c.getIterator(),b=d.getIterator();let w=df(v),E=df(b);for(;w||E;){let A=!1,S=!1;if(w&&E){const M=h(w,E);M<0?S=!0:M>0&&(A=!0)}else null!=w?S=!0:A=!0;A?(p(E),E=df(b)):S?(g(w),w=df(v)):(w=df(v),E=df(b))}}(r,o,tl,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),P.waitFor(s)}fn(e){let t=1;return If(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>tl(s,a)).filter((s,a,c)=>!a||0!==tl(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=tl(s,e),c=tl(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,e0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,e0,[]]))}return o}bn(e,t){return tl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cj)}getMinOffset(e,t){return P.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||Ee())).next(cj)}}function aj(n){return Oi(n,"collectionParents")}function Ef(n){return Oi(n,"indexEntries")}function a_(n){return Oi(n,"indexConfiguration")}function If(n){return Oi(n,"indexState")}function cj(n){Me(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;zD(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new lo(e.readTime,e.documentKey,t)}const lj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ar{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dj(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{Me(1===a)}));const d=[];for(const h of t.mutations){const p=PB(e,h.key.path,t.batchId);o.push(r.delete(p)),d.push(h.key)}return P.waitFor(o).next(()=>d)}function t0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class n0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Me(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new n0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=xf(e),s=nl(e);return s.add({}).next(a=>{Me("number"==typeof a);const c=new nS(a,t,i,r),d=function(v,b,w){const E=w.baseMutations.map(S=>i_(v.ut,S)),A=w.mutations.map(S=>i_(v.ut,S));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:E,mutations:A}}(this.serializer,this.userId,c),h=[];let p=new on((g,v)=>Xe(g.canonicalString(),v.canonicalString()));for(const g of r){const v=PB(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(v,Rte))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),P.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return nl(e).get(t).next(i=>i?(Me(i.userId===this.userId),Fd(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?P.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return nl(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Me(a.batchId>=i),o=Fd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return nl(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).W("userMutationsIndex",t).next(i=>i.map(r=>Fd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Fw(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return xf(e).Y({range:r},(s,a,c)=>{const[d,h,p]=s,g=Qs(h);if(d===this.userId&&t.path.isEqual(g))return nl(e).get(p).next(v=>{if(!v)throw Ee();Me(v.userId===this.userId),o.push(Fd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new on(Xe);const r=[];return t.forEach(o=>{const s=Fw(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=xf(e).Y({range:a},(d,h,p)=>{const[g,v,b]=d,w=Qs(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),P.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Fw(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new on(Xe);return xf(e).Y({range:s},(c,d,h)=>{const[p,g,v]=c,b=Qs(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(nl(e).get(o).next(s=>{if(null===s)throw Ee();Me(s.userId===this.userId),i.push(Fd(this.serializer,s))}))}),P.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return dj(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),P.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return P.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return xf(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Qs(o[1]);r.push(c)}else a.done()}).next(()=>{Me(0===r.length)})})}containsKey(e,t){return uj(e,this.userId,t)}Mn(e){return hj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uj(n,e,t){const i=Fw(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return xf(n).Y({range:o,J:!0},(a,c,d)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),d.done()}).next(()=>s)}function nl(n){return Oi(n,"mutations")}function xf(n){return Oi(n,"documentMutations")}function hj(n){return Oi(n,"mutationQueues")}class Bd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Bd(0)}static Nn(){return new Bd(-1)}}class qne{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Bd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Re.fromTimestamp(new kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cf(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Me(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Cf(e).Y((s,a)=>{const c=r_(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>P.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Cf(e).Y((i,r)=>{const o=r_(r);t(o)})}Bn(e){return fj(e).get("targetGlobalKey").next(t=>(Me(null!==t),t))}Ln(e,t){return fj(e).put("targetGlobalKey",t)}kn(e,t){return Cf(e).put(QU(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Md(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Cf(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const d=r_(a);qg(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=il(e);return t.forEach(s=>{const a=sr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),P.waitFor(r)}removeMatchingKeys(e,t,i){const r=il(e);return P.forEach(t,o=>{const s=sr(o.path);return P.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=il(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=il(e);let o=rt();return r.Y({range:i,J:!0},(s,a,c)=>{const d=Qs(s[1]),h=new pe(d);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=sr(t.path),r=IDBKeyRange.bound([i],[xB(i)],!1,!0);let o=0;return il(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}_t(e,t){return Cf(e).get(t).next(i=>i?r_(i):null)}}function Cf(n){return Oi(n,"targets")}function fj(n){return Oi(n,"targetGlobal")}function il(n){return Oi(n,"targetDocuments")}function mj([n,e],[t,i]){const r=Xe(n,t);return 0===r?Xe(e,i):r}class Gne{constructor(e){this.Qn=e,this.buffer=new on(mj),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();mj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,K.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Gc(i)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qc(i)}yield t.Gn(3e5)}))}}class Wne{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return P.resolve(uo._e);const i=new Gne(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(lj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lj):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(d=Date.now(),sf()<=Gs.in.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(d-c)+`ms\nTotal Duration: ${d-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class Zne{constructor(e,t){this.db=e,this.garbageCollector=function gj(n,e){return new Wne(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return r0(e,i)}removeReference(e,t,i){return r0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return r0(e,t)}Xn(e,t){return function(r,o){let s=!1;return hj(r).Z(a=>uj(r,a,o).next(c=>(c&&(s=!0),P.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Re.min()),il(e).delete([0,sr(s.path)])))});r.push(c)}}).next(()=>P.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return r0(e,t)}Zn(e,t){const i=il(e);let r,o=uo._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==uo._e&&t(new pe(Qs(r)),o),o=d,r=c):o=uo._e}).next(()=>{o!==uo._e&&t(new pe(Qs(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function r0(n,e){return il(n).put((r=n.currentSequenceNumber,{targetId:0,path:sr(e.path),sequenceNumber:r}));var r}class _j{constructor(){this.changes=new Fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ud(e).put(i)}removeEntry(e,t,i){return Ud(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Yw(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=wn.newInvalidDocument(t);return Ud(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(c_(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:wn.newInvalidDocument(t)};return Ud(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(c_(t))},(r,o)=>{i={document:this.tr(t,o),size:t0(o)}}).next(()=>i)}getEntries(e,t){let i=Gr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Gr(),r=new mn(pe.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,t0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return P.resolve();let r=new on(wj);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(c_(r.first()),c_(r.last())),s=r.getIterator();let a=s.getNext();return Ud(e).Y({index:"documentKeyIndex",range:o},(c,d,h)=>{const p=pe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&wj(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?h.U(c_(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Yw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ud(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=Gr();for(const p of d){const g=this.tr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(Wg(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Gr();const s=bj(t,i),a=bj(t,lo.max());return Ud(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,h)=>{const p=this.tr(pe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Qne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yj(e).get("remoteDocumentGlobalKey").next(t=>(Me(!!t),t))}er(e,t){return yj(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function Fne(n,e){let t;if(e.document)t=zU(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=pe.fromSegments(e.noDocument.path),r=Nd(e.noDocument.readTime);t=wn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const i=pe.fromSegments(e.unknownDocument.path),r=Nd(e.unknownDocument.version);t=wn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new kn(r[0],r[1]);return Re.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Re.min()))return i}return wn.newInvalidDocument(e)}}function vj(n){return new Kne(n)}class Qne extends _j{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Fa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new on((o,s)=>Xe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=KU(this._r.serializer,s);r=r.add(o.path.popLast());const d=t0(c);i+=d-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=KU(this._r.serializer,s.convertToNoDocument(Re.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),P.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function yj(n){return Oi(n,"remoteDocumentGlobal")}function Ud(n){return Oi(n,"remoteDocumentsV14")}function c_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bj(n,e){const t=e.documentKey.path.toArray();return[n,Yw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wj(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Xe(t[o],i[o]),r)return r;return r=Xe(t.length,i.length),r||(r=Xe(t[t.length-2],i[i.length-2]),r||Xe(t[t.length-1],i[i.length-1]))}class Yne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ej{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Yg(i.mutation,r,qr.empty(),kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rt()){const r=Xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Zg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Gr();const s=Kg(),a=Kg();return t.forEach((c,d)=>{const h=i.get(d.key);r.has(d.key)&&(void 0===h||h.mutation instanceof La)?o=o.insert(d.key,d):void 0!==h?(s.set(d.key,h.mutation.getFieldMask()),Yg(h.mutation,d,h.mutation.getFieldMask(),kn.now())):s.set(d.key,qr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var p;return a.set(d,new Yne(h,null!==(p=s.get(d))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Kg();let r=new mn((s,a)=>s-a),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let h=i.get(c)||qr.empty();h=a.applyToLocalView(d,h),i.set(c,h);const p=(r.get(a.batchId)||rt()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=fU();h.forEach(g=>{if(!o.has(g)){const v=EU(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return P.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return pe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):XD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):P.resolve(Xs());let a=-1,c=o;return s.next(d=>P.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,rt())).next(h=>({batchId:a,changes:hU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let r=Zg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Zg();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{const d=(p=t,g=c.child(o),new Na(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{const h=d.getKey();null===s.get(h)&&(s=s.insert(h,wn.newInvalidDocument(h)))});let a=Zg();return s.forEach((c,d)=>{const h=o.get(c);void 0!==h&&Yg(h.mutation,d,qr.empty(),kn.now()),Wg(t,d)&&(a=a.insert(c,d))}),a})}}class Xne{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return P.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:ii(r.createTime)}),P.resolve();var r}getNamedQuery(e,t){return P.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:uS(r.bundledQuery),readTime:ii(r.readTime)}),P.resolve();var r}}class Jne{constructor(){this.overlays=new mn(pe.comparator),this.lr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xs();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){const r=Xs(),o=t.length+1,s=new pe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new mn((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let h=o.get(d.largestBatchId);null===h&&(h=Xs(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Xs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return P.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new rS(t,i));let o=this.lr.get(t);void 0===o&&(o=rt(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class vS{constructor(){this.hr=new on(Ni.Pr),this.Ir=new on(Ni.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Ni(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ni(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new pe(new At([])),i=new Ni(t,e),r=new Ni(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new At([])),i=new Ni(t,e),r=new Ni(t,e+1);let o=rt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ni(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ni{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||Xe(e.gr,t.gr)}static Tr(e,t){return Xe(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class eie{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new on(Ni.Pr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new nS(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Ni(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ni(t,0),r=new Ni(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new on(Xe);return t.forEach(r=>{const o=new Ni(r,0),s=new Ni(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),P.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;pe.isDocumentKey(o)||(o=o.child(""));const s=new Ni(new pe(o),0);let a=new on(Xe);return this.yr.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Me(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return P.forEach(t.mutations,r=>{const o=new Ni(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Ni(t,0),r=this.yr.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return P.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tie{constructor(e){this.Cr=e,this.docs=new mn(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=Gr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():wn.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Gr();const s=t.path,a=new pe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||zD(TB(h),i)<=0||(r.has(h.key)||Wg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Ee()}vr(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new nie(this)}getSize(e){return P.resolve(this.size)}}class nie extends _j{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class iie{constructor(e){this.persistence=e,this.Fr=new Fa(t=>Md(t),qg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Mr=0,this.Or=new vS,this.targetCount=0,this.Nr=Bd.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),P.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Bd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.kn(t),P.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),P.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.Or.containsKey(t))}}class yS{constructor(e,t){this.Br={},this.overlays={},this.Lr=new uo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new iie(this),this.indexManager=new Hne,this.remoteDocumentCache=new tie(i=>this.referenceDelegate.Qr(i)),this.serializer=new ZU(t),this.Kr=new Xne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new eie(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const r=new rie(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return P.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class rie extends SB{constructor(e){super(),this.currentSequenceNumber=e}}class o0{constructor(e){this.persistence=e,this.Gr=new vS,this.zr=null}static jr(e){return new o0(e)}get Hr(){if(this.zr)return this.zr;throw Ee()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,i=>{const r=pe.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Re.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return P.or([()=>P.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class oie{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Nw("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RB,{unique:!0}),c.createObjectStore("documentMutations"),Ij(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=P.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),Ij(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,d){return d.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RB,{unique:!0});const p=d.store("mutations"),g=h.map(v=>p.put(v));return P.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:$te});d.createIndex("collectionPathOverlayIndex",qte,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",Gte,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:Pte});d.createIndex("documentKeyIndex",Ote),d.createIndex("collectionGroupIndex",Nte)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Ute}).createIndex("sequenceNumberIndex",jte,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:zte}).createIndex("documentKeyIndex",Hte,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=t0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>P.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>P.forEach(a,c=>{Me(c.userId===o.userId);const d=Fd(this.serializer,c);return dj(e,o.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new At(s),d=[0,sr(c)];o.push(t.get(d).next(h=>h?P.resolve():t.put({targetId:0,path:sr(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>P.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Bte});const i=t.store("collectionParents"),r=new _S,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:sr(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new At(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],d)=>{const h=Qs(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=r_(r),s=QU(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new pe(At.fromString(p.document.name).popFirst(5)):p.noDocument?pe.fromSegments(p.noDocument.path):p.unknownDocument?pe.fromSegments(p.unknownDocument.path):Ee()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(d))}).next(()=>P.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=vj(this.serializer),o=new yS(o0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var d;let h=null!==(d=a.get(c.userId))&&void 0!==d?d:rt();Fd(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),P.forEach(a,(c,d)=>{const h=new Pi(d),p=Xw.ct(this.serializer,h),g=o.getIndexManager(h),v=n0.ct(h,this.serializer,g,o.referenceDelegate);return new Ej(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new qD(t,uo._e),c).next()})})}}function Ij(n){n.createObjectStore("targetDocuments",{keyPath:Lte}).createIndex("documentTargetsIndex",Vte,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fte,{unique:!0}),n.createObjectStore("targetGlobal")}const bS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wS{constructor(e,t,i,r,o,s,a,c,d,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=d,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!wS.D())throw new ie(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zne(this,r),this.Ii=t+"main",this.serializer=new ZU(c),this.Ti=new _s(this.Ii,this.ai,new oie(this.serializer)),this.qr=new qne(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vj(this.serializer),this.Kr=new Lne,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(B.FAILED_PRECONDITION,bS);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new uo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,K.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,K.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,K.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>a0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Gc(e))return oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return l_(e).get("owner").next(t=>P.resolve(this.wi(t)))}Si(e){return a0(e).delete(this.clientId)}bi(){var e=this;return(0,K.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Oi(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return P.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?P.resolve(!0):l_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ie(B.FAILED_PRECONDITION,bS);return!1}}return!(!this.networkEnabled||!this.inForeground)||a0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,K.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new qD(t,uo._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>a0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return n0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $ne(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Xw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){oe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?Zte:14===c?FB:13===c?NB:12===c?Wte:11===c?OB:void Ee();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new qD(a,this.Lr?this.Lr.next():uo._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw ni(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ie(B.FAILED_PRECONDITION,DB);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return l_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(B.FAILED_PRECONDITION,bS)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return l_(e).put("owner",t)}static D(){return _s.D()}pi(e){const t=l_(e);return t.get("owner").next(i=>this.wi(i)?(oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):P.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(ni(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,ln.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return oe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ni("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ni("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function l_(n){return Oi(n,"owner")}function a0(n){return Oi(n,"clientMetadata")}function ES(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class IS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=rt(),r=rt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new IS(e,t.fromCache,i,r)}}class sie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xj{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new sie;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(sf()<=Gs.in.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",pf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(sf()<=Gs.in.DEBUG&&oe("QueryEngine","Query:",pf(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(sf()<=Gs.in.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",pf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):P.resolve())}zi(e,t){if(sU(t))return P.resolve(null);let i=kr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qw(t,null,"F"),i=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=rt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.Yi(t,a);return this.Zi(t,d,s,c.readTime)?this.zi(e,qw(t,null,"F")):this.Xi(e,d,t,c)}))})))}ji(e,t,i,r){return sU(t)||r.isEqual(Re.min())?P.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?P.resolve(null):(sf()<=Gs.in.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pf(t)),this.Xi(e,s,t,CB(r,-1)).next(a=>a))})}Yi(e,t){let i=new on(dU(e));return t.forEach((r,o)=>{Wg(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return sf()<=Gs.in.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",pf(t)),this.Gi.getDocumentsMatchingQuery(e,t,lo.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class aie{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new mn(Xe),this.ns=new Fa(o=>Md(o),qg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ej(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function Cj(n,e,t,i){return new aie(n,e,t,i)}function Tj(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,K.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=rt();for(const d of r){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(d=>({_s:d,removedBatchIds:s,addedBatchIds:a}))})})}),xS.apply(this,arguments)}function Dj(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Sj(n,e,t){let i=rt(),r=rt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Gr();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{us:s,cs:r}})}function die(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Tf(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Va(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Df(n,e,t){return CS.apply(this,arguments)}function CS(){return CS=(0,K.Z)(function*(n,e,t){const i=me(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Gc(s))throw s;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),CS.apply(this,arguments)}function c0(n,e,t){const i=me(n);let r=Re.min(),o=rt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){const p=me(c),g=p.ns.get(h);return void 0!==g?P.resolve(p.ts.get(g)):p.qr.getTargetData(d,h)}(i,s,kr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Re.min(),t?o:rt())).next(a=>(Mj(i,lU(e),a),{documents:a,ls:o})))}function Aj(n,e){const t=me(n),i=me(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function kj(n,e){const t=me(n),i=t.rs.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,CB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Mj(t,e,r),r))}function Mj(n,e,t){let i=n.rs.get(e)||Re.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function TS(){return TS=(0,K.Z)(function*(n,e,t,i){const r=me(n);let o=rt(),s=Gr();for(const d of t){const h=e.hs(d.metadata.name);d.document&&(o=o.add(h));const p=e.Ps(d);p.setReadTime(e.Is(d.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield Tf(r,(h=i,kr(ff(At.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>Sj(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.qr.removeMatchingKeysForTargetId(d,c.targetId).next(()=>r.qr.addMatchingKeys(d,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.us,h.cs)).next(()=>h.us)))}),TS.apply(this,arguments)}function hie(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,K.Z)(function*(n,e,t=rt()){const i=yield Tf(n,kr(uS(e.bundledQuery))),r=me(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ii(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ei.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),DS.apply(this,arguments)}function Rj(n,e){return`firestore_clients_${n}_${e}`}function Pj(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function SS(n,e){return`firestore_targets_${n}_${e}`}class l0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ie(r.error.code,r.error.message))),s?new l0(e,t,r.state,o):(ni("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class d_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ie(i.error.code,i.error.message))),o?new d_(e,i.state,r):(ni("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class d0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=eS();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=kB(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new d0(e,o):(ni("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AS(t.clientId,t.onlineState):(ni("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kS{constructor(){this.activeTargetIds=eS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MS{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new mn(Xe),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=Rj(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new kS),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,K.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(Rj(e.persistenceKey,r));if(o){const s=d0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(SS(this.persistenceKey,e));if(i){const r=d_.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(SS(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return oe("SharedClientState","READ",e,t),t}setItem(e,t){oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,K.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=uo._e;if(null!=s)try{const c=JSON.parse(s);Me("number"==typeof c),a=c}catch(c){ni("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==uo._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new l0(this.currentUser,e,t,i),o=Pj(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=Pj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=SS(this.persistenceKey,e),o=new d_(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return d0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return l0.Ts(new Pi(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return d_.Ts(r,t)}Ms(e){return AS.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,K.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=eS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Oj{constructor(){this.eo=new kS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new kS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fie{ro(e){}shutdown(){}}class Nj{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let u0=null;function RS(){return null===u0?u0=268435456+Math.round(2147483648*Math.random()):u0++,"0x"+u0.toString(16)}const mie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pie{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const cr="WebChannelConnection";class gie extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=RS(),c=this.So(t,i);oe("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,o,s),this.Do(t,c,d,r).then(h=>(oe("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw $r("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+rf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${mie[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=RS();return new Promise((s,a)=>{const c=new fte;c.setWithCredentials(!0),c.listenOnce(dte.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case BD.NO_ERROR:const h=c.getResponseJson();oe(cr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case BD.TIMEOUT:oe(cr,`RPC '${e}' ${o} timed out`),a(new ie(B.DEADLINE_EXCEEDED,"Request time out"));break;case BD.HTTP_ERROR:const p=c.getStatus();if(oe(cr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(A)>=0?A:B.UNKNOWN}(v.status);a(new ie(b,v.message))}else a(new ie(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ie(B.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{oe(cr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);oe(cr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",d,i,15)})}vo(e,t,i){const r=RS(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cte(),a=lte(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new hte({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");oe(cr,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new pie({co:E=>{v?oe(cr,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(g||(oe(cr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),oe(cr,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},lo:()=>p.close()}),w=(E,A,S)=>{E.listen(A,M=>{try{S(M)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Ow.EventType.OPEN,()=>{v||oe(cr,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Ow.EventType.CLOSE,()=>{v||(v=!0,oe(cr,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Ow.EventType.ERROR,E=>{v||(v=!0,$r(cr,`RPC '${e}' stream ${r} transport errored:`,E),b.Ro(new ie(B.UNAVAILABLE,"The operation could not be completed")))}),w(p,Ow.EventType.MESSAGE,E=>{var A;if(!v){const S=E.data[0];Me(!!S);const Y=S.error||(null===(A=S[0])||void 0===A?void 0:A.error);if(Y){oe(cr,`RPC '${e}' stream ${r} received error:`,Y);const ue=Y.status;let xe=function(mo){const Kr=ui[mo];if(void 0!==Kr)return SU(Kr)}(ue),Qe=Y.message;void 0===xe&&(xe=B.INTERNAL,Qe="Unknown error status: "+ue+" with message "+Y.message),v=!0,b.Ro(new ie(xe,Qe)),p.close()}else oe(cr,`RPC '${e}' stream ${r} received:`,S),b.Vo(S)}}),w(a,ute.STAT_EVENT,E=>{E.stat===yB.PROXY?oe(cr,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===yB.NOPROXY&&oe(cr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function Fj(){return typeof window<"u"?window:null}function h0(){return typeof document<"u"?document:null}function u_(n){return new Tne(n,!0)}class PS{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Lj{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new PS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,K.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,K.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,K.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(ni(t.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===B.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ie(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,K.Z)(function*(){e.state=0,e.start()}))}o_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _ie extends Lj{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Ane(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ee(),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(Me(void 0===h||"string"==typeof h),Ei.fromBase64String(h||"")):(Me(void 0===h||h instanceof Uint8Array),Ei.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const h=void 0===d.code?B.UNKNOWN:SU(d.code);return new ie(h,d.message||"")}(s);t=new PU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Js(n,i.document.name),o=ii(i.document.updateTime),s=i.document.createTime?ii(i.document.createTime):Re.min(),a=new Zi({mapValue:{fields:i.document.fields}}),c=wn.newFoundDocument(r,o,s,a);t=new Qw(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Js(n,i.document),o=i.readTime?ii(i.readTime):Re.min(),s=wn.newNoDocument(r,o);t=new Qw([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Js(n,i.document);t=new Qw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ee();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new bne(r,o);t=new RU(i.targetId,s)}}var d;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Re.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Re.min():s.readTime?ii(s.readTime):Re.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=n_(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=Hw(c)?{documents:HU(o,c)}:{query:dS(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LU(o,s.resumeToken);const d=sS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Re.min())>0){a.readTime=bf(o,s.snapshotVersion.toTimestamp());const d=sS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function Mne(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=n_(this.serializer),t.removeTarget=e,this.e_(t)}}class vie extends Lj{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function kne(n,e){return n&&n.length>0?(Me(void 0!==e),n.map(t=>function(r,o){let s=ii(r.updateTime?r.updateTime:o);return s.isEqual(Re.min())&&(s=ii(o)),new gne(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ii(e.commitTime);return this.listener.I_(i,t)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=n_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>i_(this.serializer,i))};this.e_(t)}}class yie extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ie(B.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(B.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class wie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ni(t),this.f_=!1):oe("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Eie{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,K.Z)(function*(){var c;rl(s)&&(oe("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,K.Z)(function*(h){const p=me(h);p.C_.add(4),yield Sf(p),p.M_.set("Unknown"),p.C_.delete(4),yield h_(p)}),function d(h){return c.apply(this,arguments)})(s))}))}),this.M_=new wie(i,r)}}function h_(n){return NS.apply(this,arguments)}function NS(){return NS=(0,K.Z)(function*(n){if(rl(n))for(const e of n.v_)yield e(!0)}),NS.apply(this,arguments)}function Sf(n){return FS.apply(this,arguments)}function FS(){return FS=(0,K.Z)(function*(n){for(const e of n.v_)yield e(!1)}),FS.apply(this,arguments)}function f0(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),BS(t)?VS(t):kf(t).Ho()&&LS(t,e))}function f_(n,e){const t=me(n),i=kf(t);t.D_.delete(e),i.Ho()&&Vj(t,e),0===t.D_.size&&(i.Ho()?i.Zo():rl(t)&&t.M_.set("Unknown"))}function LS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kf(n).u_(e)}function Vj(n,e){n.x_.Oe(e),kf(n).c_(e)}function VS(n){n.x_=new Ene({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),kf(n).start(),n.M_.g_()}function BS(n){return rl(n)&&!kf(n).jo()&&n.D_.size>0}function rl(n){return 0===me(n).C_.size}function Bj(n){n.x_=void 0}function Iie(n){return US.apply(this,arguments)}function US(){return US=(0,K.Z)(function*(n){n.D_.forEach((e,t)=>{LS(n,e)})}),US.apply(this,arguments)}function xie(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,K.Z)(function*(n,e){Bj(n),BS(n)?(n.M_.w_(e),VS(n)):n.M_.set("Unknown")}),jS.apply(this,arguments)}function Cie(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,K.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof PU&&2===e.state&&e.cause)try{yield(i=(0,K.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield m0(n,i)}else if(e instanceof Qw?n.x_.$e(e):e instanceof RU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Re.min()))try{const i=yield Dj(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(d);h&&o.D_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ei.EMPTY_BYTE_STRING,h.snapshotVersion)),Vj(o,c);const p=new Va(h.target,c,d,h.sequenceNumber);LS(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),yield m0(n,i)}var i}),zS.apply(this,arguments)}function m0(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,K.Z)(function*(n,e,t){if(!Gc(e))throw e;n.C_.add(1),yield Sf(n),n.M_.set("Offline"),t||(t=()=>Dj(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield h_(n)}))}),HS.apply(this,arguments)}function Uj(n,e){return e().catch(t=>m0(n,t,e))}function Af(n){return $S.apply(this,arguments)}function $S(){return $S=(0,K.Z)(function*(n){const e=me(n),t=ol(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Tie(e);)try{const r=yield die(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Die(e,r)}catch(r){yield m0(e,r)}jj(e)&&zj(e)}),$S.apply(this,arguments)}function Tie(n){return rl(n)&&n.b_.length<10}function Die(n,e){n.b_.push(e);const t=ol(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function jj(n){return rl(n)&&!ol(n).jo()&&n.b_.length>0}function zj(n){ol(n).start()}function Sie(n){return qS.apply(this,arguments)}function qS(){return qS=(0,K.Z)(function*(n){ol(n).E_()}),qS.apply(this,arguments)}function Aie(n){return GS.apply(this,arguments)}function GS(){return GS=(0,K.Z)(function*(n){const e=ol(n);for(const t of n.b_)e.P_(t.mutations)}),GS.apply(this,arguments)}function kie(n,e,t){return WS.apply(this,arguments)}function WS(){return WS=(0,K.Z)(function*(n,e,t){const i=n.b_.shift(),r=iS.from(i,e,t);yield Uj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Af(n)}),WS.apply(this,arguments)}function Mie(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,K.Z)(function*(n,e){var t;e&&ol(n).h_&&(yield(t=(0,K.Z)(function*(r,o){if(DU(a=o.code)&&a!==B.ABORTED){const s=r.b_.shift();ol(r).Yo(),yield Uj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Af(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),jj(n)&&zj(n)}),ZS.apply(this,arguments)}function Hj(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,K.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=rl(t);t.C_.add(3),yield Sf(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield h_(t)}),KS.apply(this,arguments)}function QS(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,K.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield h_(t)):e||(t.C_.add(2),yield Sf(t),t.M_.set("Unknown"))}),YS.apply(this,arguments)}function kf(n){return n.O_||(n.O_=function(t,i,r){const o=me(t);return o.A_(),new _ie(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Iie.bind(null,n),Io:xie.bind(null,n),a_:Cie.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.O_.Yo(),BS(n)?VS(n):n.M_.set("Unknown")):(yield n.O_.stop(),Bj(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function ol(n){return n.N_||(n.N_=function(t,i,r){const o=me(t);return o.A_(),new vie(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Sie.bind(null,n),Io:Mie.bind(null,n),T_:Aie.bind(null,n),I_:kie.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.N_.Yo(),yield Af(n)):(yield n.N_.stop(),n.b_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class XS{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new XS(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(n,e){if(ni("AsyncQueue",`${e}: ${n}`),Gc(n))return new ie(B.UNAVAILABLE,`${e}: ${n}`);throw n}class Rf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=Zg(),this.sortedSet=new mn(this.comparator)}static emptySet(e){return new Rf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Rf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class $j{constructor(){this.B_=new mn(pe.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ee():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Pf{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Pf(e,t,Rf.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Rie{constructor(){this.k_=void 0,this.listeners=[]}}class Pie{constructor(){this.queries=new Fa(e=>cU(e),Gg),this.onlineState="Unknown",this.q_=new Set}}function JS(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,K.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Rie),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Mf(s,`Initialization of query '${pf(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&iA(t)}),eA.apply(this,arguments)}function tA(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,K.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),nA.apply(this,arguments)}function Oie(n,e){const t=me(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&iA(t)}function Nie(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function iA(n){n.q_.forEach(e=>{e.next()})}class rA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Pf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Fie{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class qj{constructor(e){this.serializer=e}hs(e){return Js(this.serializer,e)}Ps(e){return e.metadata.exists?zU(this.serializer,e.document,!1):wn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ii(e)}}class Lie{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gj(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=At.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new qj(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||rt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,K.Z)(function*(){const t=yield function uie(n,e,t,i){return TS.apply(this,arguments)}(e.localStore,new qj(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield hie(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function Gj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Wj{constructor(e){this.key=e}}class Zj{constructor(e){this.key=e}}class Kj{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=dU(e),this.aa=new Rf(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new $j,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=Wg(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),E=!0):this.ha(g,v)||(i.track({type:2,doc:v}),E=!0,(c&&this._a(v,c)>0||d&&this._a(v,d)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),E=!0):g&&!v&&(i.track({type:1,doc:g}),E=!0,(c||d)&&(a=!0)),E&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(g)-b(v)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Pf(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new $j,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new Zj(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new Wj(i))}),t}da(e){this.ia=e.ls,this.oa=rt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Pf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Vie{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Bie{constructor(e){this.key=e,this.Ra=!1}}class Uie{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Fa(a=>cU(a),Gg),this.fa=new Map,this.ga=new Set,this.pa=new mn(pe.comparator),this.ya=new Map,this.wa=new vS,this.Sa={},this.ba=new Map,this.Da=Bd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function jie(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,K.Z)(function*(n,e){const t=SA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Tf(t.localStore,kr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield sA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&f0(t.remoteStore,s)}return r}),oA.apply(this,arguments)}function sA(n,e,t,i,r){return aA.apply(this,arguments)}function aA(){return aA=(0,K.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,K.Z)(function*(E,A,S,M){let Y=A.view.ca(S);Y.Zi&&(Y=yield c0(E.localStore,A.query,!1).then(({documents:Qe})=>A.view.ca(Qe,Y)));const ue=M&&M.targetChanges.get(A.targetId),xe=A.view.applyChanges(Y,E.isPrimaryClient,ue);return _A(E,A.targetId,xe.Ta),xe.snapshot}),function w(E,A,S,M){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield c0(n.localStore,e,!0),s=new Kj(e,o.ls),a=s.ca(o.documents),c=e_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=s.applyChanges(a,n.isPrimaryClient,c);_A(n,t,d.Ta);const h=new Vie(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),aA.apply(this,arguments)}function zie(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,K.Z)(function*(n,e){const t=me(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Gg(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Df(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),f_(t.remoteStore,i.targetId),Of(t,i.targetId)}).catch(qc))):(Of(t,i.targetId),yield Df(t.localStore,i.targetId,!0))}),cA.apply(this,arguments)}function lA(){return lA=(0,K.Z)(function*(n,e,t){const i=AA(n);try{const r=yield function(s,a){const c=me(s),d=kn.now(),h=a.reduce((v,b)=>v.add(b.key),rt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Gr(),w=rt();return c.ss.getEntries(v,h).next(E=>{b=E,b.forEach((A,S)=>{S.isValidDocument()||(w=w.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(E=>{p=E;const A=[];for(const S of a){const M=vne(S,p.get(S.key).overlayedDocument);null!=M&&A.push(new La(S.key,M,WB(M.value.mapValue),Mn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,A,a)}).next(E=>{g=E;const A=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,E.batchId,A)})}).then(()=>({batchId:g.batchId,changes:hU(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Sa[s.currentUser.toKey()];d||(d=new mn(Xe)),d=d.insert(a,c),s.Sa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield Ba(i,r.changes),yield Af(i.remoteStore)}catch(r){const o=Mf(r,"Failed to persist write");t.reject(o)}}),lA.apply(this,arguments)}function Qj(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,K.Z)(function*(n,e){const t=me(n);try{const i=yield function lie(n,e){const t=me(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,E,A;null!==e.targetMismatches.get(p)?v=v.withResumeToken(Ei.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),E=v,A=h,(0===(w=g).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Gr(),d=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Sj(o,s,e.documentUpdates).next(h=>{c=h.us,d=h.cs})),!i.isEqual(Re.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Me(s.Ra):r.removedDocuments.size>0&&(Me(s.Ra),s.Ra=!1))}),yield Ba(t,i,e)}catch(i){yield qc(i)}}),dA.apply(this,arguments)}function Yj(n,e,t){const i=me(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=me(s);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(d=!0)}),d&&iA(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function $ie(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,K.Z)(function*(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new mn(pe.comparator);s=s.insert(o,wn.newNoDocument(o,Re.min()));const a=rt().add(o),c=new Jg(Re.min(),new Map,new mn(Xe),s,a);yield Qj(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),vA(i)}else yield Df(i.localStore,e,!1).then(()=>Of(i,e,t)).catch(qc)}),uA.apply(this,arguments)}function qie(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,K.Z)(function*(n,e){const t=me(n),i=e.batch.batchId;try{const r=yield function cie(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,g=p.keys();let v=P.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const E=d.docVersions.get(b);Me(null!==E),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=rt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);gA(t,i,null),pA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ba(t,r)}catch(r){yield qc(r)}}),hA.apply(this,arguments)}function Gie(n,e,t){return fA.apply(this,arguments)}function fA(){return fA=(0,K.Z)(function*(n,e,t){const i=me(n);try{const r=yield function(s,a){const c=me(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Me(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);gA(i,e,t),pA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ba(i,r)}catch(r){yield qc(r)}}),fA.apply(this,arguments)}function mA(){return mA=(0,K.Z)(function*(n,e){const t=me(n);rl(t.remoteStore)||oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=me(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Mf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),mA.apply(this,arguments)}function pA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function gA(n,e,t){const i=me(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Of(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||Xj(n,i)})}function Xj(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(f_(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),vA(n))}function _A(n,e,t){for(const i of t)i instanceof Wj?(n.wa.addReference(i.key,e),Zie(n,i)):i instanceof Zj?(oe("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||Xj(n,i.key)):Ee()}function Zie(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(oe("SyncEngine","New document in limbo: "+t),n.ga.add(i),vA(n))}function vA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(At.fromString(e)),i=n.Da.next();n.ya.set(i,new Bie(t)),n.pa=n.pa.insert(t,i),f0(n.remoteStore,new Va(kr(ff(t.path)),i,"TargetPurposeLimboResolution",uo._e))}}function Ba(n,e,t){return yA.apply(this,arguments)}function yA(){return yA=(0,K.Z)(function*(n,e,t){const i=me(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(d=>{if((d||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);const h=IS.Qi(c.targetId,d);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,K.Z)(function*(d,h){const p=me(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(h,v=>P.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>P.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!Gc(g))throw g;oe("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,E)}}}),function c(d,h){return a.apply(this,arguments)})(i.localStore,o))}),yA.apply(this,arguments)}function Kie(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,K.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=yield Tj(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new ie(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ba(t,i._s)}var o}),bA.apply(this,arguments)}function Qie(n,e){const t=me(n),i=t.ya.get(e);if(i&&i.Ra)return rt().add(i.key);{let r=rt();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function Yie(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,K.Z)(function*(n,e){const t=me(n),i=yield c0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&_A(t,e.targetId,r.Ta),r}),wA.apply(this,arguments)}function Xie(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,K.Z)(function*(n,e){const t=me(n);return kj(t.localStore,e).then(i=>Ba(t,i))}),EA.apply(this,arguments)}function Jie(n,e,t,i){return IA.apply(this,arguments)}function IA(){return IA=(0,K.Z)(function*(n,e,t,i){const r=me(n),o=yield function(a,c){const d=me(a),h=me(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?d.localDocuments.getDocuments(p,g):P.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Af(r.remoteStore):"acknowledged"===t||"rejected"===t?(gA(r,e,i||null),pA(r,e),c=e,me(me(r.localStore).mutationQueue).Fn(c)):Ee(),yield Ba(r,o)):oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),IA.apply(this,arguments)}function xA(){return xA=(0,K.Z)(function*(n,e){const t=me(n);if(SA(t),AA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Jj(t,i.toArray());t.Ca=!0,yield QS(t.remoteStore,!0);for(const o of r)f0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Of(t,s),Df(t.localStore,s,!0))),f_(t.remoteStore,s)}),yield r,yield Jj(t,i),function(s){const a=me(s);a.ya.forEach((c,d)=>{f_(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new mn(pe.comparator)}(t),t.Ca=!1,yield QS(t.remoteStore,!1)}}),xA.apply(this,arguments)}function Jj(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,K.Z)(function*(n,e,t){const i=me(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield Tf(i.localStore,kr(c[0]));for(const d of c){const h=i.ma.get(d),p=yield Yie(i,h);p.snapshot&&o.push(p.snapshot)}}else{const d=yield Aj(i.localStore,s);a=yield Tf(i.localStore,d),yield sA(i,e4(d),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),CA.apply(this,arguments)}function e4(n){return oU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tre(n){return t=me(n).localStore,me(me(t).persistence).Bi();var t}function nre(n,e,t,i){return TA.apply(this,arguments)}function TA(){return TA=(0,K.Z)(function*(n,e,t,i){const r=me(n);if(r.Ca)return void oe("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield kj(r.localStore,lU(o[0])),a=Jg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield Ba(r,s,a);break}case"rejected":yield Df(r.localStore,e,!0),Of(r,e,i);break;default:Ee()}}),TA.apply(this,arguments)}function ire(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,K.Z)(function*(n,e,t){const i=SA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){oe("SyncEngine","Adding an already active target "+r);continue}const o=yield Aj(i.localStore,r),s=yield Tf(i.localStore,o);yield sA(i,e4(o),s.targetId,!1,s.resumeToken),f0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield Df(i.localStore,r,!1).then(()=>{f_(i.remoteStore,r),Of(i,r)}).catch(qc))}}),DA.apply(this,arguments)}function SA(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$ie.bind(null,e),e.Va.a_=Oie.bind(null,e.eventManager),e.Va.Fa=Nie.bind(null,e.eventManager),e}function AA(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gie.bind(null,e),e}class m_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.serializer=u_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Cj(this.persistence,new xj,e.initialUser,this.serializer)}createPersistence(e){return new yS(o0.jr,this.serializer)}createSharedClientState(e){return new Oj}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kA extends m_{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield AA(i.xa.syncEngine),yield Af(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Cj(this.persistence,new xj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new pj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new kte(t,this.persistence);return new Ate(e.asyncQueue,i)}createPersistence(e){const t=ES(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new wS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Fj(),h0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Oj}}class t4 extends kA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof MS&&(i.sharedClientState.syncEngine={Ys:Jie.bind(null,r),Zs:nre.bind(null,r),Xs:ire.bind(null,r),Bi:tre.bind(null,r),Js:Xie.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,K.Z)(function*(s){yield function ere(n,e){return xA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Fj();if(!MS.D(t))throw new ie(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ES(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new MS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Nf{initialize(e,t){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Yj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Kie.bind(null,i.syncEngine),yield QS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pie}createDatastore(e){const t=u_(e.databaseInfo.databaseId),i=new gie(e.databaseInfo);return new yie(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>Yj(this.syncEngine,t,0),a=Nj.D()?new Nj:new fie,new Eie(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,d,h){const p=new Uie(r,o,s,a,c,d);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(i){const r=me(i);oe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Sf(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function n4(n,e=10240){let t=0;return{read:()=>(0,K.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class p0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sre{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,K.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,K.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,K.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new Fie(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,K.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,K.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,K.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class are{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ie(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,a){const c=me(s),d=n_(c.serializer)+"/documents",h={documents:a.map(b=>t_(c.serializer,b))},p=yield c.Co("BatchGetDocuments",d,h,a.length),g=new Map;p.forEach(b=>{const w=function Sne(n,e){return"found"in e?function(i,r){Me(!!r.found);const o=Js(i,r.found.name),s=ii(r.found.updateTime),a=r.found.createTime?ii(r.found.createTime):Re.min(),c=new Zi({mapValue:{fields:r.found.fields}});return wn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){Me(!!r.missing),Me(!!r.readTime);const o=Js(i,r.missing),s=ii(r.readTime);return wn.newNoDocument(o,s)}(n,e):Ee()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());Me(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new yf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=pe.fromPath(r);e.mutations.push(new tS(o,e.precondition(o)))}),yield(i=(0,K.Z)(function*(o,s){const a=me(o),c=n_(a.serializer)+"/documents",d={writes:s.map(h=>i_(a.serializer,h))};yield a.wo("Commit",c,d)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Re.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?Mn.exists(!1):Mn.updateTime(t):Mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new ie(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(t)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cre{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new PS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,K.Z)(function*(){const t=new are(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Vg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!DU(t)}return!1}}class lre{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Pi.UNAUTHENTICATED,this.clientId=IB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,K.Z)(function*(a){oe("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Mf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function g0(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(o){i.isEqual(o)||(yield Tj(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),MA.apply(this,arguments)}function RA(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield OA(n);oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Hj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Hj(e.remoteStore,o)),n._onlineComponents=e}),PA.apply(this,arguments)}function i4(n){return"FirebaseError"===n.name?n.code===B.FAILED_PRECONDITION||n.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function OA(n){return NA.apply(this,arguments)}function NA(){return NA=(0,K.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield g0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!i4(t))throw t;$r("Error using user provided cache. Falling back to memory cache: "+t),yield g0(n,new m_)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),yield g0(n,new m_);return n._offlineComponents}),NA.apply(this,arguments)}function _0(n){return FA.apply(this,arguments)}function FA(){return FA=(0,K.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield RA(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),yield RA(n,new Nf))),n._onlineComponents}),FA.apply(this,arguments)}function r4(n){return OA(n).then(e=>e.persistence)}function Ff(n){return OA(n).then(e=>e.localStore)}function o4(n){return _0(n).then(e=>e.remoteStore)}function LA(n){return _0(n).then(e=>e.syncEngine)}function Lf(n){return VA.apply(this,arguments)}function VA(){return VA=(0,K.Z)(function*(n){const e=yield _0(n),t=e.eventManager;return t.onListen=jie.bind(null,e.syncEngine),t.onUnlisten=zie.bind(null,e.syncEngine),t}),VA.apply(this,arguments)}function a4(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new p0({next:g=>{s.enqueueAndForget(()=>tA(o,p));const v=g.docs.has(a);!v&&g.fromCache?d.reject(new ie(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?d.reject(new ie(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new rA(ff(a.path),h,{includeMetadataChanges:!0,J_:!0});return JS(o,p)}(yield Lf(n),n.asyncQueue,e,t,i)})),i.promise}function c4(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new p0({next:g=>{s.enqueueAndForget(()=>tA(o,p)),g.fromCache&&"server"===c.source?d.reject(new ie(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new rA(a,h,{includeMetadataChanges:!0,J_:!0});return JS(o,p)}(yield Lf(n),n.asyncQueue,e,t,i)})),i.promise}function l4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const d4=new Map;function BA(n,e,t){if(!t)throw new ie(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function u4(n,e,t,i){if(!0===e&&!0===i)throw new ie(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function h4(n){if(!pe.isDocumentKey(n))throw new ie(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function f4(n){if(pe.isDocumentKey(n))throw new ie(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function v0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ee()}function bt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=v0(n);throw new ie(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function m4(n,e){if(e<=0)throw new ie(B.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class p4{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=l4(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p_{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p4(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new _te;switch(i.type){case"firstParty":return new wte(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=d4.get(t);i&&(oe("ComponentProvider","Removing Datastore"),d4.delete(t),i.terminate())}(this),Promise.resolve()}}class Ki{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class ea extends Ki{constructor(e,t,i){super(e,t,ff(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new pe(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function _4(n,e,...t){if(n=(0,ln.m9)(n),BA("collection","path",e),n instanceof p_){const i=At.fromString(e,...t);return f4(i),new ea(n,null,i)}{if(!(n instanceof En||n instanceof ea))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return f4(i),new ea(n.firestore,null,i)}}function y0(n,e,...t){if(n=(0,ln.m9)(n),1===arguments.length&&(e=IB.newId()),BA("doc","path",e),n instanceof p_){const i=At.fromString(e,...t);return h4(i),new En(n,null,new pe(i))}{if(!(n instanceof En||n instanceof ea))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return h4(i),new En(n.firestore,n instanceof ea?n.converter:null,new pe(i))}}function v4(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),(n instanceof En||n instanceof ea)&&(e instanceof En||e instanceof ea)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function UA(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&Gg(n._query,e._query)&&n.converter===e.converter}class wre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new PS(this,"async_queue_retry"),this.iu=()=>{const t=h0();t&&oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=h0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=h0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,K.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Gc(t))throw t;oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,ni("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=XS.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Ee()}verifyOperationInProgress(){}uu(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function jA(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Ere{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pn extends p_{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new wre,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||y4(this),this._firestoreClient.terminate()}}function Wn(n){return n._firestoreClient||y4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function y4(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Yte(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,l4(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new lre(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function b4(n,e,t){const i=new wi;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield g0(n,t),yield RA(n,e),i.resolve()}catch(r){const o=r;if(!i4(o))throw o;$r("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function w4(n){if(n._initialized||n._terminated)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Ei.fromBase64String(e))}catch(t){throw new ie(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ua{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ie(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jd{constructor(e){this._methodName=e}}class b0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}const Pre=/^__.*__$/;class Ore{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new vf(e,this.data,t,this.fieldTransforms)}}class E4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class w0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new w0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return x0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(I4(this.Iu)&&Pre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Nre{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||u_(e)}pu(e,t,i,r=!1){return new w0({Iu:e,methodName:t,gu:i,path:bn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(n){const e=n._freezeSettings(),t=u_(n._databaseId);return new Nre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function E0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);qA("Data must be an object, but it was:",s,i);const a=T4(i,s);let c,d;if(o.merge)c=new qr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=v_(e,p,t);if(!s.contains(g))throw new ie(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);S4(h,g)||h.push(g)}c=new qr(h),d=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=s.fieldTransforms;return new Ore(new Zi(a),c,d)}class __ extends jd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __}}function x4(n,e,t){return new w0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zA extends jd{_toFieldTransform(e){return new Qg(e.path,new gf)}isEqual(e){return e instanceof zA}}class Fre extends jd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=x4(this,e,!0),i=this.yu.map(o=>Hd(o,t)),r=new Rd(i);return new Qg(e.path,r)}isEqual(e){return this===e}}class Lre extends jd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=x4(this,e,!0),i=this.yu.map(o=>Hd(o,t)),r=new Pd(i);return new Qg(e.path,r)}isEqual(e){return this===e}}class Vre extends jd{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new _f(e.serializer,gU(e.serializer,this.wu));return new Qg(e.path,t)}isEqual(e){return this===e}}function HA(n,e,t,i){const r=n.pu(1,e,t);qA("Data must be an object, but it was:",r,i);const o=[],s=Zi.empty();Wc(i,(c,d)=>{const h=I0(e,c,t);d=(0,ln.m9)(d);const p=r.Ru(h);if(d instanceof __)o.push(h);else{const g=Hd(d,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new qr(o);return new E4(s,a,r.fieldTransforms)}function $A(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[v_(e,i,t)],c=[r];if(o.length%2!=0)throw new ie(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(v_(e,o[g])),c.push(o[g+1]);const d=[],h=Zi.empty();for(let g=a.length-1;g>=0;--g)if(!S4(d,a[g])){const v=a[g];let b=c[g];b=(0,ln.m9)(b);const w=s.Ru(v);if(b instanceof __)d.push(v);else{const E=Hd(b,w);null!=E&&(d.push(v),h.set(v,E))}}const p=new qr(d);return new E4(h,p,s.fieldTransforms)}function C4(n,e,t,i=!1){return Hd(t,n.pu(i?4:3,e))}function Hd(n,e){if(D4(n=(0,ln.m9)(n)))return qA("Unsupported field value:",e,n),T4(n,e);if(n instanceof jd)return function(i,r){if(!I4(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Hd(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,ln.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return gU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=kn.fromDate(i);return{timestampValue:bf(r.serializer,o)}}if(i instanceof kn){const o=new kn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bf(r.serializer,o)}}if(i instanceof b0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ta)return{bytesValue:LU(r.serializer,i._byteString)};if(i instanceof En){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:aS(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${v0(i)}`)}(n,e)}function T4(n,e){const t={};return VB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wc(n,(i,r)=>{const o=Hd(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function D4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kn||n instanceof b0||n instanceof ta||n instanceof En||n instanceof jd)}function qA(n,e,t){if(!D4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=v0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function v_(n,e,t){if((e=(0,ln.m9)(e))instanceof Ua)return e._internalPath;if("string"==typeof e)return I0(n,e);throw x0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bre=new RegExp("[~\\*/\\[\\]]");function I0(n,e,t){if(e.search(Bre)>=0)throw x0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ua(...e.split("."))._internalPath}catch{throw x0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function x0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new ie(B.INVALID_ARGUMENT,a+n+c)}function S4(n,e){return n.some(t=>t.isEqual(e))}class y_{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ure(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(C0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ure extends y_{data(){return super.data()}}function C0(n,e){return"string"==typeof e?I0(n,e):e instanceof Ua?e._internalPath:e._delegate._internalPath}function A4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ie(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GA{}class b_ extends GA{}function sl(n,e,...t){let i=[];e instanceof GA&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof Vf).length,a=o.filter(c=>c instanceof w_).length;if(s>1||s>0&&a>0)throw new ie(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class w_ extends b_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new w_(e,t,i)}_apply(e){const t=this._parse(e);return P4(e._query,t),new Ki(e.firestore,e.converter,JD(e._query,t))}_parse(e){const t=zd(e.firestore);return function(o,s,a,c,d,h,p){let g;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ie(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){R4(p,h);const v=[];for(const b of p)v.push(M4(c,o,b));g={arrayValue:{values:v}}}else g=M4(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||R4(p,h),g=C4(a,"where",p,"in"===h||"not-in"===h);return It.create(d,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vf extends GA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Xt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)P4(s,c),s=JD(s,c)}(e._query,t),new Ki(e.firestore,e.converter,JD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class WA extends b_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WA(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $g(o,s)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Na(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class T0 extends b_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new T0(e,t,i)}_apply(e){return new Ki(e.firestore,e.converter,qw(e._query,this._limit,this._limitType))}}class D0 extends b_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new D0(e,t,i)}_apply(e){const t=k4(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new Na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class S0 extends b_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new S0(e,t,i)}_apply(e){const t=k4(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new Na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function k4(n,e,t,i){if(t[0]=(0,ln.m9)(t[0]),t[0]instanceof y_)return function(o,s,a,c,d){if(!c)throw new ie(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of mf(o))if(p.field.isKeyField())h.push(kd(s,c.key));else{const g=c.data.field(p.field);if(Vw(g))throw new ie(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new ie(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new Jc(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=zd(n.firestore);return function(s,a,c,d,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new ie(B.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new ie(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!XD(s)&&-1!==w.indexOf("/"))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const E=s.path.child(At.fromString(w));if(!pe.isDocumentKey(E))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const A=new pe(E);v.push(kd(a,A))}else{const E=C4(c,d,w);v.push(E)}}return new Jc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function M4(n,e,t){if("string"==typeof(t=(0,ln.m9)(t))){if(""===t)throw new ie(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XD(e)&&-1!==t.indexOf("/"))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(At.fromString(t));if(!pe.isDocumentKey(i))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kd(n,new pe(i))}if(t instanceof En)return kd(n,t._key);throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v0(t)}.`)}function R4(n,e){if(!Array.isArray(n)||0===n.length)throw new ie(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P4(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ie(B.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZA{convertValue(e,t="none"){switch(Yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new b0(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Bw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ug(e));default:return null}}convertTimestamp(e){const t=Zc(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=At.fromString(e);Me(WU(i));const r=new Kc(i.get(1),i.get(3)),o=new pe(i.popFirst(5));return r.isEqual(t)||ni(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function A0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Kre extends ZA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}class $d{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends y_{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new E_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(C0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class E_ extends ja{data(e={}){return super.data(e)}}class al{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $d(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new E_(this._firestore,this._userDataWriter,i.key,i,new $d(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new E_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $d(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new E_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $d(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Yre(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function N4(n,e){return n instanceof ja&&e instanceof ja?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof al&&e instanceof al&&n._firestore===e._firestore&&UA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class cl extends ZA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function F4(n,e,t){n=bt(n,En);const i=bt(n.firestore,pn),r=A0(n.converter,e,t);return Bf(i,[E0(zd(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Mn.none())])}function L4(n,e,t,...i){n=bt(n,En);const r=bt(n.firestore,pn),o=zd(r);let s;return s="string"==typeof(e=(0,ln.m9)(e))||e instanceof Ua?$A(o,"updateDoc",n._key,e,t,i):HA(o,"updateDoc",n._key,e),Bf(r,[s.toMutation(n._key,Mn.exists(!0))])}function V4(n,...e){var t,i,r;n=(0,ln.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||jA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(jA(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,d,h;if(n instanceof En)d=bt(n.firestore,pn),h=ff(n._key.path),c={next:p=>{e[s]&&e[s](KA(d,n,p))},error:e[s+1],complete:e[s+2]};else{const p=bt(n,Ki);d=bt(p.firestore,pn),h=p._query;const g=new cl(d);c={next:v=>{e[s]&&e[s](new al(d,g,p,v))},error:e[s+1],complete:e[s+2]},A4(n._query)}return function(g,v,b,w){const E=new p0(w),A=new rA(v,E,b);return g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return JS(yield Lf(g),A)})),()=>{E.Na(),g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return tA(yield Lf(g),A)}))}}(Wn(d),h,a,c)}function Bf(n,e){return function(i,r){const o=new wi;return i.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function Hie(n,e,t){return lA.apply(this,arguments)}(yield LA(i),r,o)})),o.promise}(Wn(n),e)}function KA(n,e,t){const i=t.docs.get(e._key),r=new cl(n);return new ja(n,r,e._key,i,new $d(t.hasPendingWrites,t.fromCache),e.converter)}const poe={maxAttempts:5};class B4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zd(e)}set(e,t,i){this._verifyNotCommitted();const r=ll(e,this._firestore),o=A0(r.converter,t,i),s=E0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Mn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=ll(e,this._firestore);let s;return s="string"==typeof(t=(0,ln.m9)(t))||t instanceof Ua?$A(this._dataReader,"WriteBatch.update",o._key,t,i,r):HA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ll(e,this._firestore);return this._mutations=this._mutations.concat(new yf(t._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ll(n,e){if((n=(0,ln.m9)(n)).firestore!==e)throw new ie(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class goe extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=zd(t)}get(t){const i=ll(t,this._firestore),r=new Kre(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Ee();const s=o[0];if(s.isFoundDocument())return new y_(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new y_(this._firestore,r,i._key,null,i.converter);throw Ee()})}set(t,i,r){const o=ll(t,this._firestore),s=A0(o.converter,i,r),a=E0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=ll(t,this._firestore);let a;return a="string"==typeof(i=(0,ln.m9)(i))||i instanceof Ua?$A(this._dataReader,"Transaction.update",s._key,i,r,o):HA(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=ll(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ll(e,this._firestore),i=new cl(this._firestore);return super.get(e).then(r=>new ja(this._firestore,i,t._key,r._document,new $d(!1,!1),t.converter))}}function YA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function H4(){if(typeof Uint8Array>"u")throw new ie("unimplemented","Uint8Arrays are not available in this environment.")}function $4(){if(!function Kte(){return typeof atob<"u"}())throw new ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){rf=Gh.SDK_VERSION,(0,Gh._registerComponent)(new iV.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new pn(new yte(i.getProvider("auth-internal")),new Ete(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Gh.registerVersion)(bB,"4.3.2",e),(0,Gh.registerVersion)(bB,"4.3.2","esm2017")}();class I_{constructor(e){this._delegate=e}static fromBase64String(e){return $4(),new I_(ta.fromBase64String(e))}static fromUint8Array(e){return H4(),new I_(ta.fromUint8Array(e))}toBase64(){return $4(),this._delegate.toBase64()}toUint8Array(){return H4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function XA(n){return function Toe(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Doe{enableIndexedDbPersistence(e,t){return function xre(n,e){w4(n=bt(n,pn));const t=Wn(n);if(t._uninitializedComponentsProvider)throw new ie(B.FAILED_PRECONDITION,"SDK cache is already specified.");$r("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Nf;return b4(t,r,new kA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cre(n){w4(n=bt(n,pn));const e=Wn(n);if(e._uninitializedComponentsProvider)throw new ie(B.FAILED_PRECONDITION,"SDK cache is already specified.");$r("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Nf;return b4(e,i,new t4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Tre(n){if(n._initialized&&!n._terminated)throw new ie(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(t=(0,K.Z)(function*(r){if(!_s.D())return Promise.resolve();const o=r+"main";yield _s.delete(o)}),function i(r){return t.apply(this,arguments)})(ES(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class q4{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Kc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$r("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function g4(n,e,t,i={}){var r;const o=(n=bt(n,p_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Pi.MOCK_USER;else{a=(0,ln.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ie(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pi(d)}n._authCredentials=new vte(new wB(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function Sre(n){return function dre(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield r4(n),t=yield o4(n);return e.setNetworkEnabled(!0),function(r){const o=me(r);return o.C_.delete(0),h_(o)}(t)}))}(Wn(n=bt(n,pn)))}(this._delegate)}disableNetwork(){return function Are(n){return function ure(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield r4(n),t=yield o4(n);return e.setNetworkEnabled(!1),(i=(0,K.Z)(function*(o){const s=me(o);s.C_.add(0),yield Sf(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Wn(n=bt(n,pn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,u4("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Dre(n){return function(t){const i=new wi;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function Wie(n,e){return mA.apply(this,arguments)}(yield LA(t),i)})),i.promise}(Wn(n=bt(n,pn)))}(this._delegate)}onSnapshotsInSync(e){return function soe(n,e){return function mre(n,e){const t=new p0(e);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Lf(n),o=t,me(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Lf(n),o=t,void me(r).q_.delete(o);var r,o}))}}(Wn(n=bt(n,pn)),jA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uf(this,_4(this._delegate,e))}catch(t){throw Mr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Vo(this,y0(this._delegate,e))}catch(t){throw Mr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rr(this,function bre(n,e){if(n=bt(n,p_),BA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(i=e,new Na(At.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Mr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _oe(n,e,t){n=bt(n,pn);const i=Object.assign(Object.assign({},poe),t);return function(o){if(o.maxAttempts<1)throw new ie(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new wi;return o.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const d=yield function s4(n){return _0(n).then(e=>e.datastore)}(o);new cre(o.asyncQueue,d,a,s,c).run()})),c.promise}(Wn(n),r=>e(new goe(n,r)),i)}(this._delegate,t=>e(new G4(this,t)))}batch(){return Wn(this._delegate),new W4(new B4(this._delegate,e=>Bf(this._delegate,e)))}loadBundle(e){return function kre(n,e){const t=Wn(n=bt(n,pn)),i=new Ere;return function pre(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?AU().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return n4(h,p);if(h instanceof ArrayBuffer)return n4(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new sre(h,a);var h}(t,u_(e));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function rre(n,e,t){const i=me(n);var r;(r=(0,K.Z)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(b,w){const E=me(b),A=ii(w.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",S=>E.Kr.getBundleMetadata(S,w.id)).then(S=>!!S&&S.createTime.compareTo(A)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=d).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(Gj(d));const h=new Lie(d,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield Ba(s,g.ra,void 0),yield function(b,w){const E=me(b);return E.persistence.runTransaction("Save bundle","readwrite",A=>E.Kr.saveBundleMetadata(A,w))}(s.localStore,d),c._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return $r("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield LA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Mre(n,e){return function gre(n,e){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(i,r){const o=me(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Ff(n),e)}))}(Wn(n=bt(n,pn)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rr(this,t):null)}}class M0 extends ZA{constructor(e){super(),this.firestore=e}convertBytes(e){return new I_(new ta(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Vo.forKey(t,this.firestore,null)}}class G4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new M0(e)}get(e){const t=Gd(e);return this._delegate.get(t).then(i=>new x_(this._firestore,new ja(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Gd(e);return i?(YA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Gd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Gd(e);return this._delegate.delete(t),this}}class W4{constructor(e){this._delegate=e}set(e,t,i){const r=Gd(e);return i?(YA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Gd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Gd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qd{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new E_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new C_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=qd.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new qd(e,new M0(e),t),r.set(t,o)),o}}qd.INSTANCES=new WeakMap;class Vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new M0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vo(t,new En(t._delegate,i,new pe(e)))}static forKey(e,t,i){return new Vo(t,new En(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Uf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uf(this.firestore,_4(this._delegate,e))}catch(t){throw Mr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ln.m9)(e))instanceof En&&v4(this._delegate,e)}set(e,t){t=YA("DocumentReference.set",t);try{return t?F4(this._delegate,e,t):F4(this._delegate,e)}catch(i){throw Mr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?L4(this._delegate,e):L4(this._delegate,e,t,...i)}catch(r){throw Mr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function roe(n){return Bf(bt(n.firestore,pn),[new yf(n._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const t=Z4(e),i=K4(e,r=>new x_(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return V4(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Jre(n){n=bt(n,En);const e=bt(n.firestore,pn),t=Wn(e),i=new cl(e);return function hre(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=me(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ie(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=Mf(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Ff(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ja(e,i,n._key,r,new $d(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function eoe(n){n=bt(n,En);const e=bt(n.firestore,pn);return a4(Wn(e),n._key,{source:"server"}).then(t=>KA(e,n,t))}(this._delegate):function Xre(n){n=bt(n,En);const e=bt(n.firestore,pn);return a4(Wn(e),n._key).then(t=>KA(e,n,t))}(this._delegate),t.then(i=>new x_(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Vo(this.firestore,this._delegate.withConverter(e?qd.getInstance(this.firestore,e):null))}}function Mr(n,e,t){return n.message=n.message.replace(e,t),n}function Z4(n){for(const e of n)if("object"==typeof e&&!XA(e))return e;return{}}function K4(n,e){var t,i;let r;return r=XA(n[0])?n[0]:XA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class x_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return N4(this._delegate,e._delegate)}}class C_ extends x_{data(e){const t=this._delegate.data(e);return this._delegate._converter||function gte(n,e){n||Ee()}(void 0!==t),t}}class Rr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new M0(e)}where(e,t,i){try{return new Rr(this.firestore,sl(this._delegate,function jre(n,e,t){const i=e,r=C0("where",n);return w_._create(r,i,t)}(e,t,i)))}catch(r){throw Mr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rr(this.firestore,sl(this._delegate,function zre(n,e="asc"){const t=e,i=C0("orderBy",n);return WA._create(i,t)}(e,t)))}catch(i){throw Mr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rr(this.firestore,sl(this._delegate,function Hre(n){return m4("limit",n),T0._create("limit",n,"F")}(e)))}catch(t){throw Mr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rr(this.firestore,sl(this._delegate,function $re(n){return m4("limitToLast",n),T0._create("limitToLast",n,"L")}(e)))}catch(t){throw Mr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rr(this.firestore,sl(this._delegate,function qre(...n){return D0._create("startAt",n,!0)}(...e)))}catch(t){throw Mr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rr(this.firestore,sl(this._delegate,function Gre(...n){return D0._create("startAfter",n,!1)}(...e)))}catch(t){throw Mr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rr(this.firestore,sl(this._delegate,function Wre(...n){return S0._create("endBefore",n,!1)}(...e)))}catch(t){throw Mr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rr(this.firestore,sl(this._delegate,function Zre(...n){return S0._create("endAt",n,!0)}(...e)))}catch(t){throw Mr(t,"endAt()","Query.endAt()")}}isEqual(e){return UA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function noe(n){n=bt(n,Ki);const e=bt(n.firestore,pn),t=Wn(e),i=new cl(e);return function fre(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield c0(o,s,!0),d=new Kj(s,c.ls),h=d.ca(c.documents),p=d.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const d=Mf(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Ff(n),e,t);var i})),t.promise}(t,n._query).then(r=>new al(e,i,n,r))}(this._delegate):"server"===e?.source?function ioe(n){n=bt(n,Ki);const e=bt(n.firestore,pn),t=Wn(e),i=new cl(e);return c4(t,n._query,{source:"server"}).then(r=>new al(e,i,n,r))}(this._delegate):function toe(n){n=bt(n,Ki);const e=bt(n.firestore,pn),t=Wn(e),i=new cl(e);return A4(n._query),c4(t,n._query).then(r=>new al(e,i,n,r))}(this._delegate),t.then(i=>new JA(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Z4(e),i=K4(e,r=>new JA(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return V4(this._delegate,t,i)}withConverter(e){return new Rr(this.firestore,this._delegate.withConverter(e?qd.getInstance(this.firestore,e):null))}}class Aoe{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new C_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class JA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new C_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Aoe(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new C_(this._firestore,i))})}isEqual(e){return N4(this._delegate,e._delegate)}}class Uf extends Rr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vo(this.firestore,e):null}doc(e){try{return new Vo(this.firestore,void 0===e?y0(this._delegate):y0(this._delegate,e))}catch(t){throw Mr(t,"doc()","CollectionReference.doc()")}}add(e){return function ooe(n,e){const t=bt(n.firestore,pn),i=y0(n),r=A0(n.converter,e);return Bf(t,[E0(zd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Mn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Vo(this.firestore,t))}isEqual(e){return v4(this._delegate,e._delegate)}withConverter(e){return new Uf(this.firestore,this._delegate.withConverter(e?qd.getInstance(this.firestore,e):null))}}function Gd(n){return bt(n,En)}class ek{constructor(...e){this._delegate=new Ua(...e)}static documentId(){return new ek(bn.keyField().canonicalString())}isEqual(e){return(e=(0,ln.m9)(e))instanceof Ua&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function yoe(){return new zA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wd(e)}static delete(){const e=function voe(){return new __("deleteField")}();return e._methodName="FieldValue.delete",new Wd(e)}static arrayUnion(...e){const t=function boe(...n){return new Fre("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wd(t)}static arrayRemove(...e){const t=function woe(...n){return new Lre("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wd(t)}static increment(e){const t=function Eoe(n){return new Vre("increment",n)}(e);return t._methodName="FieldValue.increment",new Wd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const koe={Firestore:q4,GeoPoint:b0,Timestamp:kn,Blob:I_,Transaction:G4,WriteBatch:W4,DocumentReference:Vo,DocumentSnapshot:x_,Query:Rr,QueryDocumentSnapshot:C_,QuerySnapshot:JA,CollectionReference:Uf,FieldPath:ek,FieldValue:Wd,setLogLevel:function Soe(n){!function pte(n){$c.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Q4(n,e){return function Poe(n,e=wd){return new wt(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function tk(n,e){return Q4(n,e).pipe(ge(t=>({payload:t,type:"query"})))}!function Roe(n){(function Moe(n,e){n.INTERNAL.registerComponent(new iV.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},koe)))})(n,(e,t)=>new q4(e,t,new Doe)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Ma.Z);class Y4{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=r3(i,t);return new e3(r,o,this.afs)}snapshotChanges(){return function Ooe(n,e){return Q4(n,e).pipe(_d(void 0),YT(),ge(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ao)}valueChanges(e={}){return this.snapshotChanges().pipe(ge(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return Kt(this.ref.get(e)).pipe(ao)}}function R0(n,e){return tk(n,e).pipe(_d(void 0),YT(),ge(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const d=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function X4(n,e,t){return R0(n,t).pipe(zb((i,r)=>function Noe(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Foe(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Sl(),ge(i=>i.map(r=>({type:r.type,payload:r}))))}function nk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function J4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class e3{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=R0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ge(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(_d(void 0),YT(),$n(([i,r])=>r.length>0||!i),ge(([,i])=>i),ao)}auditTrail(e){return this.stateChanges(e).pipe(zb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=J4(e);return X4(this.query,t,this.afs.schedulers.outsideAngular).pipe(ao)}valueChanges(e={}){return tk(this.query,this.afs.schedulers.outsideAngular).pipe(ge(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),ao)}get(e){return Kt(this.query.get(e)).pipe(ao)}add(e){return this.ref.add(e)}doc(e){return new Y4(this.ref.doc(e),this.afs)}}class Loe{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?R0(this.query,this.afs.schedulers.outsideAngular).pipe(ge(t=>t.filter(i=>e.indexOf(i.type)>-1)),$n(t=>t.length>0),ao):R0(this.query,this.afs.schedulers.outsideAngular).pipe(ao)}auditTrail(e){return this.stateChanges(e).pipe(zb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=J4(e);return X4(this.query,t,this.afs.schedulers.outsideAngular).pipe(ao)}valueChanges(e={}){return tk(this.query,this.afs.schedulers.outsideAngular).pipe(ge(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),ao)}get(e){return Kt(this.query.get(e)).pipe(ao)}}const t3=new X("angularfire2.enableFirestorePersistence"),n3=new X("angularfire2.firestore.persistenceSettings"),Voe=new X("angularfire2.firestore.settings"),Boe=new X("angularfire2.firestore.use-emulator");function r3(n,e=(t=>t)){return{query:e(n),ref:n}}let P0=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,d,h,p,g,v,b,w,E,A,S){this.schedulers=c;const M=QT(t,a,i),Y=h;p&&nV(M,a,g,b,w,E,v,A),[this.firestore,this.persistenceEnabled$]=G2(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{const ue=a.runOutsideAngular(()=>M.firestore());if(o&&ue.settings(o),Y&&ue.useEmulator(...Y),r&&!Ob(s)){const xe=()=>{try{return Kt(ue.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(Qe){return typeof console<"u"&&console.warn(Qe),Ie(!1)}};return[ue,a.runOutsideAngular(xe)]}return[ue,Ie(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=r3(r,i),a=this.schedulers.ngZone.run(()=>o);return new e3(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new Loe(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Y4(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(R(sw),R(aw,8),R(t3,8),R(Voe,8),R(ss),R(Fe),R($2),R(n3,8),R(Boe,8),R(Kh,8),R(Q2,8),R(Y2,8),R(X2,8),R(J2,8),R(eV,8),R(tV,8),R(z2,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Uoe=(()=>{class n{constructor(){Ma.Z.registerVersion("angularfire",ow.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:t3,useValue:!0},{provide:n3,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=jt({type:n});static \u0275inj=Rt({providers:[P0]})}return n})(),T_=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new T,this.loginFailed$=this.loginFailedSubject.asObservable(),this.user$=this.afAuth.authState}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i,r){this.afAuth.signInWithEmailAndPassword(t,i).then(o=>{o.user?o.user.emailVerified?(console.log(r),r||this.afAuth.setPersistence("none").then(()=>{console.log("Remembering account is turned off")}),this.router.navigate(["/home"])):alert("Please verify your email before logging in."):(console.error("User is null"),alert("An error occurred during login. Please try again."))}).catch(o=>{console.error("Login error:",o),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{console.log("Logged out"),this.router.navigate(["/login"])}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){this.afAuth.authState.subscribe(t=>{t&&this.router.navigate(["/home"])})}isLoggedIn(){return this.user$.pipe(ge(t=>!!t))}static#e=this.\u0275fac=function(i){return new(i||n)(R(Kh),R(Sr),R(P0))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ik{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class o3 extends ik{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class joe extends ik{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zoe extends ik{constructor(e){super(),this.element=e instanceof nn?e.nativeElement:e}}class Hoe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof o3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof joe?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zoe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $oe extends Hoe{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Hi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let qoe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({})}return n})();const rk=n=>({"selected-box":n});let Goe=(()=>{class n{constructor(t){this.overlayService=t,this.selectedBox="Default",this.content={Default:{title:"Settings page",description:"Customize everything to your liking!"},Appearence:{title:"Appearence Settings",description:"Customize the visual appearence of your application."},Privacy:{title:"Privacy Settings",description:"Manage your privacy preferences and settings."},Status:{title:"Status Settings",description:"Configure your status and online/offline preferences."}}}closeOverlay(){this.overlayService.closeOverlay()}changeContent(t){this.selectedBox=t}isBoxSelected(t){return this.selectedBox===t}static#e=this.\u0275fac=function(i){return new(i||n)(O(w3))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-settings"]],standalone:!0,features:[fC],decls:25,vars:11,consts:[[1,"settings-overlay"],[1,"top-bar"],[1,"title"],["src","assets\\img\\settings.svg","alt",""],[1,"close"],[3,"click"],[1,"container"],[1,"side-bar"],[1,"box1",3,"ngClass","click"],[1,"box",3,"ngClass","click"],[1,"content"]],template:function(i,r){1&i&&(N(0,"div",0)(1,"div",1)(2,"div",2),$e(3,"img",3),N(4,"h1"),he(5,"Settings"),z()(),N(6,"div",4)(7,"button",5),Ze("click",function(){return r.closeOverlay()}),he(8,"X"),z()()(),N(9,"div",6)(10,"div",7)(11,"div",8),Ze("click",function(){return r.changeContent("Appearence")}),N(12,"h1"),he(13,"Appearence"),z()(),N(14,"div",9),Ze("click",function(){return r.changeContent("Privacy")}),N(15,"h1"),he(16,"Privacy"),z()(),N(17,"div",9),Ze("click",function(){return r.changeContent("Status")}),N(18,"h1"),he(19,"Status"),z()()(),N(20,"div",10)(21,"h1"),he(22),z(),N(23,"p"),he(24),z()()()()),2&i&&(_e(11),He("ngClass",ab(5,rk,r.isBoxSelected("Appearence"))),_e(3),He("ngClass",ab(7,rk,r.isBoxSelected("Privacy"))),_e(3),He("ngClass",ab(9,rk,r.isBoxSelected("Status"))),_e(5),yi(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].title),_e(2),yi(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].description))},dependencies:[Pb,oL],styles:[".settings-overlay[_ngcontent-%COMP%]{width:50vw;height:90vh;display:flex;flex-direction:column;align-items:center;color:#e0e1e1;border-radius:40px}.top-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#212121;border-top-right-radius:40px;border-top-left-radius:40px}.title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;margin-right:20px;margin-left:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#e0e1e1;font-weight:bolder;background:transparent;font-size:40px;border:none;margin-right:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e37a70}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{color:#e37a70;transform:scale(.9)}.container[_ngcontent-%COMP%]{width:100%;height:800px;display:flex}.side-bar[_ngcontent-%COMP%]{width:25%;min-width:156px;display:flex;flex-direction:column;align-items:center;background-color:#212121;border-bottom-left-radius:40px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{width:100%;text-align:center;border-bottom:thin solid #E37A70;font-size:13px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box1[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]:hover, .box1[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#2d2d2d}.selected-box[_ngcontent-%COMP%]{background-color:#313131}.content[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#313131;border-bottom-right-radius:40px}@media screen and (max-width: 768px){.settings-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh}.side-bar[_ngcontent-%COMP%]{min-width:110px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{font-size:9px}}"]})}return n})();function Pr(n){return null!=n&&"false"!=`${n}`}function O0(n,e=0){return function Woe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function N0(n){return Array.isArray(n)?n:[n]}function hi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Zd(n){return n instanceof nn?n.nativeElement:n}const Zoe=["addListener","removeListener"],Koe=["addEventListener","removeEventListener"],Qoe=["on","off"];function D_(n,e,t,i){if(Oe(t)&&(i=t,t=void 0),i)return D_(n,e,t).pipe(vT(i));const[r,o]=function Joe(n){return Oe(n.addEventListener)&&Oe(n.removeEventListener)}(n)?Koe.map(s=>a=>n[s](e,a,t)):function Yoe(n){return Oe(n.addListener)&&Oe(n.removeListener)}(n)?Zoe.map(s3(n,e)):function Xoe(n){return Oe(n.on)&&Oe(n.off)}(n)?Qoe.map(s3(n,e)):[];if(!r&&Un(n))return _i(s=>D_(s,e,t))(De(n));if(!r)throw new TypeError("Invalid event target");return new wt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function s3(n,e){return t=>i=>n[t](e,i)}const S_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=S_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Mt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=S_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=S_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class tse extends rw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ese extends iw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=S_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(S_.cancelAnimationFrame(t),e._scheduled=void 0)}});let ok,ise=1;const F0={};function a3(n){return n in F0&&(delete F0[n],!0)}const rse={setImmediate(n){const e=ise++;return F0[e]=!0,ok||(ok=Promise.resolve()),ok.then(()=>a3(e)&&n()),e},clearImmediate(n){a3(n)}},{setImmediate:ose,clearImmediate:sse}=rse,L0={setImmediate(...n){const{delegate:e}=L0;return(e?.setImmediate||ose)(...n)},clearImmediate(n){const{delegate:e}=L0;return(e?.clearImmediate||sse)(n)},delegate:void 0};new class cse extends rw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ase extends iw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=L0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(L0.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function V0(n=0,e,t=zJ){let i=-1;return null!=e&&(K_(e)?t=e:i=e),new wt(r=>{let o=function use(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function c3(n,e=wd){return function dse(n){return le((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,t.next(d)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(be(t,d=>{i=!0,r=d,o||De(n(d)).subscribe(o=be(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>V0(n,e))}let sk;try{sk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sk=!1}let A_,U0,Kd,ak,Wr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function iQ(n){return n===hL}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(R(ss))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B0(n){return function hse(){if(null==A_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>A_=!0}))}finally{A_=A_||!1}return A_}()?n:!!n.capture}function d3(){if(null==Kd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Kd=!1,Kd;if("scrollBehavior"in document.documentElement.style)Kd=!0;else{const n=Element.prototype.scrollTo;Kd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Kd}function k_(){if("object"!=typeof document||!document)return 0;if(null==U0){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),U0=0,0===n.scrollLeft&&(n.scrollLeft=1,U0=0===n.scrollLeft?1:2),n.remove()}return U0}function dl(n){return n.composedPath?n.composedPath()[0]:n.target}function ck(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const gse=new X("cdk-dir-doc",{providedIn:"root",factory:function _se(){return ae(yt)}}),vse=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let lk=(()=>{class n{constructor(t){this.value="ltr",this.change=new Qt,t&&(this.value=function yse(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?vse.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(R(gse,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({})}return n})(),j0=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new wt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(c3(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe($n(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Zd(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>D_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Fe),R(Wr),R(yt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R_=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new T,this._elementScrolled=new wt(s=>this.ngZone.runOutsideAngular(()=>D_(this.elementRef.nativeElement,"scroll").pipe(ir(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=k_()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==k_()?t.left=t.right:1==k_()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;d3()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==k_()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==k_()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(O(nn),O(j0),O(Fe),O(lk,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),dk=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new T,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(c3(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(R(Wr),R(Fe),R(yt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),z0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({})}return n})(),u3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[M_,z0,M_,z0]})}return n})();const h3=d3();class Ese{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=hi(-this._previousScrollPosition.left),e.style.top=hi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),h3&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),h3&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Ise{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe($n(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class f3{enable(){}disable(){}attach(){}}function uk(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function m3(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xse{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();uk(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Cse=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new f3,this.close=s=>new Ise(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Ese(this._viewportRuler,this._document),this.reposition=s=>new xse(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(R(j0),R(dk),R(Fe),R(yt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Tse{constructor(e){if(this.scrollStrategy=new f3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Dse{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let p3=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sse=(()=>{class n extends p3{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt),R(Fe,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ase=(()=>{class n extends p3{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=dl(o)},this._clickListener=o=>{const s=dl(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){const h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt),R(Wr),R(Fe,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g3=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ck()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),ck()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt),R(Wr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class kse{constructor(e,t,i,r,o,s,a,c,d,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new T,this._attachments=new T,this._detachments=new T,this._locationChanges=Mt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new T,this._outsidePointerEvents=new T,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(so(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=hi(this._config.width),e.height=hi(this._config.height),e.minWidth=hi(this._config.minWidth),e.minHeight=hi(this._config.minHeight),e.maxWidth=hi(this._config.maxWidth),e.maxHeight=hi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=N0(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ir(Ya(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const _3="cdk-overlay-connected-position-bounding-box",Mse=/([A-Za-z%]+)$/;class Rse{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new T,this._resizeSubscription=Mt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(_3),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(d,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,d,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const d of o){const h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,a=d)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=y3(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(s+=c),d&&(a+=d);let g=0-a,v=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,g,v),E=b*w;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=v3(this._overlayRef.getConfig().minHeight),a=v3(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=y3(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?d||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Dse(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=2*v,s=e.y-v,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const v=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;h=2*v,p=e.x-v,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-b/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=hi(i.height),r.top=hi(i.top),r.bottom=hi(i.bottom),r.width=hi(i.width),r.left=hi(i.left),r.right=hi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=hi(o)),s&&(r.maxWidth=hi(s))}this._lastBoundingBoxSize=i,Qd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Qd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();Qd(i,this._getExactOverlayY(t,e,h)),Qd(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=hi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=hi(s.maxWidth):o&&(i.maxWidth="")),Qd(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=hi(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=hi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:m3(e,i),isOriginOutsideView:uk(e,i),isOverlayClipped:m3(t,i),isOverlayOutsideView:uk(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&N0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof nn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Qd(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function v3(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Mse);return t&&"px"!==t?null:parseFloat(e)}return n||null}function y3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const b3="cdk-global-overlay-wrapper";class Pse{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(b3),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),d=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let v="",b="",w="";c?w="flex-start":"center"===h?(w="center",g?b=p:v=p):g?"left"===h||"end"===h?(w="flex-end",v=p):("right"===h||"start"===h)&&(w="flex-start",b=p):"left"===h||"start"===h?(w="flex-start",v=p):("right"===h||"end"===h)&&(w="flex-end",b=p),e.position=this._cssPosition,e.marginLeft=c?"0":v,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=w,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(b3),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Ose=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Pse}flexibleConnectedTo(t){return new Rse(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(R(dk),R(yt),R(Wr),R(g3))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nse=0,hk=(()=>{class n{constructor(t,i,r,o,s,a,c,d,h,p,g,v){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=d,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Tse(t);return s.direction=s.direction||this._directionality.value,new kse(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Nse++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Fc)),new $oe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Cse),R(g3),R(yp),R(Ose),R(Sse),R(Hi),R(Fe),R(yt),R(lk),R(Ah),R(Ase),R(Wu,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Vse={provide:new X("cdk-connected-overlay-scroll-strategy"),deps:[hk],useFactory:function Lse(n){return()=>n.scrollStrategies.reposition()}};let Bse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({providers:[hk,Vse],imports:[M_,qoe,u3,u3]})}return n})(),w3=(()=>{class n{constructor(t){this.overlay=t,this.overlayRef=null}openOverlay(){const t={hasBackdrop:!0,positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()};this.overlayRef=this.overlay.create(t);const i=new o3(Goe);this.overlayRef.attach(i)}closeOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}static#e=this.\u0275fac=function(i){return new(i||n)(R(hk))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function H0(n,e=wd){return le((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function c(){const d=s+n,h=e.now();if(h<d)return r=this.schedule(void 0,d-h),void i.add(r);a()}t.subscribe(be(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function I3(n){return $n((e,t)=>n<=t)}const x3=new Set;let Yd,sae=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cae}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function aae(n,e){if(!x3.has(n))try{Yd||(Yd=document.createElement("style"),e&&(Yd.nonce=e),Yd.setAttribute("type","text/css"),document.head.appendChild(Yd)),Yd.sheet&&(Yd.sheet.insertRule(`@media ${n} {body{ }}`,0),x3.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Wr),R(OI,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cae(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let lae=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new T}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return C3(N0(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Vb(C3(N0(t)).map(s=>this._registerQuery(s).observable));return o=Ub(o.pipe(so(1)),o.pipe(I3(1),H0(0))),o.pipe(ge(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new wt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(_d(i),ge(({matches:s})=>({query:t,matches:s})),ir(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(R(sae),R(Fe))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let S3=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function pae(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function mae(n){try{return n.frameElement}catch{return null}}(function Iae(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===k3(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=k3(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function wae(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Eae(n){return!function _ae(n){return function yae(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function gae(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function vae(n){return function bae(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||A3(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(R(Wr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function k3(n){if(!A3(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class xae{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(so(1)).subscribe(e)}}let Cae=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new xae(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(R(S3),R(Fe),R(yt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function R3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Tae=new X("cdk-input-modality-detector-options"),Dae={ignoreKeys:[18,17,224,91,16]},zf=B0({passive:!0,capture:!0});let Sae=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Xi(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=dl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(M3(s)?"keyboard":"mouse"),this._mostRecentTarget=dl(s))},this._onTouchstart=s=>{R3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dl(s))},this._options={...Dae,...o},this.modalityDetected=this._modality.pipe(I3(1)),this.modalityChanged=this.modalityDetected.pipe(Sl()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,zf),r.addEventListener("mousedown",this._onMousedown,zf),r.addEventListener("touchstart",this._onTouchstart,zf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zf),document.removeEventListener("mousedown",this._onMousedown,zf),document.removeEventListener("touchstart",this._onTouchstart,zf))}static#e=this.\u0275fac=function(i){return new(i||n)(R(Wr),R(Fe),R(yt),R(Tae,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kae=new X("cdk-focus-monitor-default-options"),$0=B0({passive:!0,capture:!0});let Mae=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new T,this._rootNodeFocusAndBlurListener=a=>{for(let d=dl(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Zd(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ie();const o=function mse(n){if(function fse(){if(null==ak){const n=typeof document<"u"?document.head:null;ak=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ak}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new T,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Zd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Zd(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=dl(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,$0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,$0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ir(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(R(Fe),R(Wr),R(Sae),R(yt,8),R(kae,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const O3="cdk-high-contrast-black-on-white",N3="cdk-high-contrast-white-on-black",mk="cdk-high-contrast-active";let Rae=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ae(lae).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(mk,O3,N3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(mk,O3):2===i&&t.add(mk,N3)}}static#e=this.\u0275fac=function(i){return new(i||n)(R(Wr),R(yt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Oae=new X("mat-sanity-checks",{providedIn:"root",factory:function Pae(){return!0}});let Zr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ck()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(R(Rae),R(Oae,8),R(yt))};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[M_,M_]})}return n})();function Nae(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}const V3=B0({passive:!0,capture:!0});class Vae{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=dl(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,V3)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,V3)))}}class q0{static#e=this._eventManager=new Vae;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Zd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...B3,...i.animation},s=i.radius||function Uae(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new Lae(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const A=()=>this._finishRippleTransition(w),S=()=>this._destroyRipple(w);h.addEventListener("transitionend",A),h.addEventListener("transitioncancel",S)}),this._activeRipples.set(w,null),(b||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...B3,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Zd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,j3.forEach(i=>{q0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{z3.forEach(t=>{this._triggerElement.addEventListener(t,this,U3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=M3(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!R3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(j3.forEach(t=>q0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&z3.forEach(t=>e.removeEventListener(t,this,U3)))}}let $3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Zr,Zr]})}return n})(),jae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Zr]})}return n})();const za="*";function zae(n,e){return{type:7,name:n,definitions:e,options:{}}}function q3(n,e=null){return{type:4,styles:e,timings:n}}function G0(n){return{type:6,styles:n,offset:null}}function G3(n,e,t){return{type:0,name:n,styles:e,options:t}}function W3(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class O_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Z3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const W0=["*"],Wae=["content"];function Zae(n,e){if(1&n){const t=Po();N(0,"div",2),Ze("click",function(){return Ct(t),vt(qe()._onBackdropClicked())}),z()}2&n&&Xn("mat-drawer-shown",qe()._isShowingBackdrop())}function Kae(n,e){1&n&&(N(0,"mat-drawer-content"),li(1,2),z())}const Qae=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Yae=["mat-drawer","mat-drawer-content","*"];function Xae(n,e){if(1&n){const t=Po();N(0,"div",2),Ze("click",function(){return Ct(t),vt(qe()._onBackdropClicked())}),z()}2&n&&Xn("mat-drawer-shown",qe()._isShowingBackdrop())}function Jae(n,e){1&n&&(N(0,"mat-sidenav-content"),li(1,2),z())}const ece=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],tce=["mat-sidenav","mat-sidenav-content","*"],K3={transformDrawer:zae("transform",[G3("open, open-instant",G0({transform:"none",visibility:"visible"})),G3("void",G0({"box-shadow":"none",visibility:"hidden"})),W3("void => open-instant",q3("0ms")),W3("void <=> open, open-instant => void",q3("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ice=new X("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function rce(){return!1}}),gk=new X("MAT_DRAWER_CONTAINER");let Z0=(()=>{class n extends R_{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fs),O(Bt(()=>Y3)),O(nn),O(j0),O(Fe))};static#t=this.\u0275cmp=On({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&Dp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Wt([{provide:R_,useExisting:n}]),gt],ngContentSelectors:W0,decls:1,vars:0,template:function(i,r){1&i&&(us(),li(0))},encapsulation:2,changeDetection:0})}return n})(),Q3=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Pr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Pr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Pr(t))}constructor(t,i,r,o,s,a,c,d){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=d,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new T,this._animationEnd=new T,this._animationState="void",this.openedChange=new Qt(!0),this._openedStream=this.openedChange.pipe($n(h=>h),ge(()=>{})),this.openedStart=this._animationStarted.pipe($n(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),wT(void 0)),this._closedStream=this.openedChange.pipe($n(h=>!h),ge(()=>{})),this.closedStart=this._animationStarted.pipe($n(h=>h.fromState!==h.toState&&"void"===h.toState),wT(void 0)),this._destroyed=new T,this.onPositionChanged=new Qt,this._modeChanged=new T,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{D_(this._elementRef.nativeElement,"keydown").pipe($n(h=>27===h.keyCode&&!this.disableClose&&!function fk(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),ir(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(Sl((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(so(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(O(nn),O(Cae),O(Mae),O(Wr),O(Fe),O(S3),O(yt,8),O(gk,8))};static#t=this.\u0275cmp=On({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&lb(Wae,5),2&i){let o;Ir(o=xr())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&rC("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(nr("align",null),tC("@transform",r._animationState),Xn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:W0,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(us(),N(0,"div",0,1),li(2),z())},dependencies:[R_],encapsulation:2,data:{animation:[K3.transformDrawer]},changeDetection:0})}return n})(),Y3=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Pr(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Pr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new xh,this.backdropClick=new Qt,this._destroyed=new T,this._doCheckSubject=new T,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T,t&&t.change.pipe(ir(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(ir(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(_d(this._allDrawers),ir(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(_d(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(H0(10),ir(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe($n(i=>i.fromState!==i.toState),ir(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ir(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(ir(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(so(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ir(Ya(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(O(lk,8),O(nn),O(Fe),O(Fs),O(dk),O(ice),O(Wu,8))};static#t=this.\u0275cmp=On({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(Oo(o,Z0,5),Oo(o,Q3,5)),2&i){let s;Ir(s=xr())&&(r._content=s.first),Ir(s=xr())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&lb(Z0,5),2&i){let o;Ir(o=xr())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Wt([{provide:gk,useExisting:n}])],ngContentSelectors:Yae,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(us(Qae),zt(0,Zae,1,2,"div",0),li(1),li(2,1),zt(3,Kae,2,0,"mat-drawer-content",1)),2&i&&(He("ngIf",r.hasBackdrop),_e(3),He("ngIf",!r._content))},dependencies:[Vc,Z0],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),_k=(()=>{class n extends Z0{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fs),O(Bt(()=>J3)),O(nn),O(j0),O(Fe))};static#t=this.\u0275cmp=On({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&Dp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Wt([{provide:R_,useExisting:n}]),gt],ngContentSelectors:W0,decls:1,vars:0,template:function(i,r){1&i&&(us(),li(0))},encapsulation:2,changeDetection:0})}return n})(),X3=(()=>{class n extends Q3{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Pr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=O0(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=O0(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=An(n)))(r||n)}})();static#t=this.\u0275cmp=On({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(nr("align",null),Dp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Xn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[gt],ngContentSelectors:W0,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(us(),N(0,"div",0,1),li(2),z())},dependencies:[R_],encapsulation:2,data:{animation:[K3.transformDrawer]},changeDetection:0})}return n})(),J3=(()=>{class n extends Y3{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=An(n)))(r||n)}})();static#t=this.\u0275cmp=On({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(Oo(o,_k,5),Oo(o,X3,5)),2&i){let s;Ir(s=xr())&&(r._content=s.first),Ir(s=xr())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Wt([{provide:gk,useExisting:n}]),gt],ngContentSelectors:tce,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(us(ece),zt(0,Xae,1,2,"div",0),li(1),li(2,1),zt(3,Jae,2,0,"mat-sidenav-content",1)),2&i&&(He("ngIf",r.hasBackdrop),_e(3),He("ngIf",!r._content))},dependencies:[Vc,_k],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),oce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Pb,Zr,z0,z0,Zr]})}return n})();const sce=["*",[["mat-toolbar-row"]]],ace=["*","mat-toolbar-row"],cce=Nae(class{constructor(n){this._elementRef=n}});let lce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),dce=(()=>{class n extends cce{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(O(nn),O(Wr),O(yt))};static#t=this.\u0275cmp=On({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Oo(o,lce,5),2&i){let s;Ir(s=xr())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Xn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[gt],ngContentSelectors:ace,decls:2,vars:0,template:function(i,r){1&i&&(us(sce),li(0),li(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),uce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Zr,Zr]})}return n})();function hce(n,e){if(1&n){const t=Po();N(0,"mat-toolbar")(1,"span")(2,"a",23),$e(3,"img",24),z()(),$e(4,"span",25),N(5,"span",26),he(6,' "Post with Purpose, Earn with Pride | Join Earn2Post" '),z(),$e(7,"span",25),N(8,"div",27),$e(9,"button",28)(10,"input",29),z(),N(11,"div",30)(12,"button",31),Ze("click",function(){return Ct(t),vt(qe().toggleSearch())}),z(),$e(13,"input",29),z(),N(14,"button",32),Ze("click",function(){return Ct(t),qe(),vt(Hr(3).toggle())}),z()()}}const fce=["*"];let vk=(()=>{class n{constructor(t,i){this.authService=t,this.overlayService=i,this.opened=!1,this.visible=!0}toggleSearch(){const t=document.getElementById("search-bar"),i=document.getElementById("header-moto"),r=document.getElementById("header-logo"),o=document.getElementById("header-menu");t&&i&&r&&o&&(t.classList.toggle("active"),i.classList.toggle("inactive"),r.classList.toggle("inactive"),o.classList.toggle("inactive"))}logOut(){this.authService.logout()}openOverlay(){this.overlayService.openOverlay()}static#e=this.\u0275fac=function(i){return new(i||n)(O(T_),O(w3))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:fce,decls:42,vars:5,consts:[[4,"ngIf"],["autosize","","hasBackdrop","false"],["position","end",3,"click"],["sidenav",""],[1,"container"],[1,"top-nav"],["routerLink","/profile",1,"box"],["src","assets\\img\\menu_profile.svg","alt",""],[1,"box"],["src","assets\\img\\menu_message.svg","alt",""],["routerLink","/clicker",1,"box"],["src","assets\\img\\menu_clicker.svg","alt",""],["src","assets\\img\\menu_debux.svg","alt",""],[1,"bottom-nav"],[1,"box-no-border",3,"click"],["src","assets\\img\\menu_settings.svg","alt",""],["src","assets\\img\\menu_bug.svg","alt",""],[1,"seperator"],[1,"box-no-border"],["src","assets\\img\\menu_switch.svg","alt",""],["routerLink","/",1,"box",3,"click"],["src","assets\\img\\menu_logout.svg","alt",""],[3,"click"],["routerLink","/home"],["id","header-logo","src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],["id","header-moto",1,"moto"],[1,"search"],[1,"search_button"],["type","search","placeholder","Search...",1,"search_input"],["id","search-bar",1,"search_compact"],[1,"search_button",3,"click"],["id","header-menu",1,"menu_button",3,"click"]],template:function(i,r){if(1&i){const o=Po();us(),zt(0,hce,15,0,"mat-toolbar",0),N(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),Ze("click",function(){return Ct(o),vt(Hr(3).close())}),N(4,"div",4)(5,"div",5)(6,"div",6),$e(7,"img",7),N(8,"h4"),he(9,"Profile"),z()(),N(10,"div",8),$e(11,"img",9),N(12,"h4"),he(13,"Messages"),z()(),N(14,"div",10),$e(15,"img",11),N(16,"h4"),he(17,"Clicker"),z()(),N(18,"div",8),$e(19,"img",12),N(20,"h4"),he(21," Buy DeBux"),z()()(),N(22,"div",13)(23,"div",14),Ze("click",function(){return r.openOverlay()}),$e(24,"img",15),N(25,"h4"),he(26,"Settings"),z()(),N(27,"div",8),$e(28,"img",16),N(29,"h4"),he(30,"Bug Report"),z()(),$e(31,"div",17),N(32,"div",18),$e(33,"img",19),N(34,"h4"),he(35,"Switch Acc"),z()(),N(36,"div",20),Ze("click",function(){return r.logOut()}),$e(37,"img",21),N(38,"h4"),he(39,"Log Out"),z()()()()(),N(40,"mat-sidenav-content",22),Ze("click",function(){return Ct(o),vt(Hr(3).close())}),li(41),z()()}2&i&&(He("ngIf",r.visible),_e(1),Xn("login-page",!r.visible)("other-page",r.visible))},dependencies:[Vc,qh,X3,J3,_k,dce],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px;overflow:hidden}.logo[_ngcontent-%COMP%]{height:auto;width:90%;margin-bottom:4%;margin-left:8%}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:1.7vw}.search[_ngcontent-%COMP%]{display:flex;align-items:center;width:16%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background-color:#212121}.search_button[_ngcontent-%COMP%]{height:61px;width:61px;border:none;border-radius:40px;background:transparent url(/assets/img/search.svg) no-repeat;background-size:78%;background-position:6px 11px}.search_input[_ngcontent-%COMP%]{margin-left:2%;width:80%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background:transparent;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 0}.search_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.search_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.search_compact[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{background-color:#212121;border-radius:40px;width:100%}.active[_ngcontent-%COMP%]   .search_button[_ngcontent-%COMP%]{height:61px;width:61px;background-position:6px 11px}.active[_ngcontent-%COMP%]   .search_input[_ngcontent-%COMP%]{display:flex}.inactive[_ngcontent-%COMP%]{display:none}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:110%;background-position:-5px 2px;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.menu_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}@media (min-width: 1921px){.moto[_ngcontent-%COMP%]{font-size:200%}}@media (max-width: 1560px){.search[_ngcontent-%COMP%]{display:none}.search_compact[_ngcontent-%COMP%]{display:flex}.search_input[_ngcontent-%COMP%]{display:none}}@media (max-width: 1100px){.moto[_ngcontent-%COMP%]{display:none}}@media (max-width: 510px){.search_button[_ngcontent-%COMP%]{width:40px;height:40px;background-position:4px 6px}.menu_button[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:15px;background-position:-3px 3px}}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#212121;width:100%}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.box[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;color:#e0e1e1;background-color:transparent}.box[_ngcontent-%COMP%]:hover, .box-no-border[_ngcontent-%COMP%]:hover{background-color:#505050;cursor:pointer}.box[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:15px}.box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:lighter;padding:0;margin:10px 0 10px 22px}.seperator[_ngcontent-%COMP%]{padding-top:2.5%;padding-bottom:2.5%;background-color:#464646}"]})}return n})();function mce(n,e){if(1&n){const t=Po();N(0,"div",4),$e(1,"img",5),N(2,"p",1),he(3),z(),N(4,"p",2),he(5),z(),$e(6,"hr"),N(7,"p",1),he(8),z(),$e(9,"img",6),N(10,"p",7),he(11),z(),N(12,"p",8),he(13),z(),$e(14,"br")(15,"br")(16,"hr"),N(17,"img",9),Ze("click",function(){const o=Ct(t).index;return vt(qe().toggleLike(o))}),z(),$e(18,"img",10)(19,"textarea",11,12),N(21,"img",13),Ze("click",function(){const o=Ct(t).index,s=Hr(20);return qe().postComment(o),vt(s.value=" ")}),z()()}if(2&n){const t=e.$implicit;_e(1),Ih("src",t[6],pp),_e(2),yi(t[0]),_e(2),yi(t[1]),_e(3),yi(t[4]),_e(1),Ih("src",t[5],pp),Ih("alt",t[5]),_e(2),rb("",t[2]," ",1==t[2]?"like":"likes",""),_e(2),rb("",t[3]," ",1==t[3]?"comment":"comments",""),_e(4),Ih("src",1==t[7]?"assets/img/like_active.svg":"assets/img/like_inactive.svg",pp)}}let pce=(()=>{class n{constructor(){this.username="Silver",this.totalPosts=2,this.allPosts=[["Silver","11. Oktoober kell 19:46",128,95,"pange saun sooja, Silver tuleb rekordeid purustama","https://media.discordapp.net/attachments/1146094400666091524/1161706521235832994/IMG_2645.jpg","https://media.discordapp.net/attachments/1149290454819553420/1164864763105390592/b61f156cac360ab208b71ce5102ee9c5_400x400.png",!1],["Rasmus","11. Oktoober kell 21:25",84,52,"Uued keycapsid!","https://ptpimg.me/y8v9a5.png","https://ptpimg.me/8n699g.jpg",!0]]}toggleLike(t){!0===this.allPosts[t][7]?(this.allPosts[t][7]=!1,this.allPosts[t][2]-=1):(this.allPosts[t][7]=!0,this.allPosts[t][2]+=1)}postComment(t){this.allPosts[t][3]+=1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=On({type:n,selectors:[["app-post"]],decls:7,vars:3,consts:[["src",""],[1,"mainText"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],[1,"icons",2,"float","left",3,"src","click"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&($e(0,"img",0),N(1,"h1",1),he(2),z(),N(3,"h3",2),he(4),z(),N(5,"ul"),zt(6,mce,22,11,"div",3),z()),2&i&&(_e(2),Us("Currently logged in as: ",r.username,""),_e(2),Us("Total posts on the backend: ",r.totalPosts,""),_e(2),He("ngForOf",r.allPosts))},dependencies:[tT],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),gce=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(O(vk),O(T_))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"center-container"],[1,"center-element"]],template:function(i,r){1&i&&(N(0,"div",0)(1,"div",1),$e(2,"app-post"),z()())},dependencies:[pce],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();let tz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(xa),O(nn))};static#t=this.\u0275dir=Ae({type:n})}return n})(),Xd=(()=>{class n extends tz{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=An(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,features:[gt]})}return n})();const vs=new X("NgValueAccessor"),_ce={provide:vs,useExisting:Bt(()=>yk),multi:!0};let yk=(()=>{class n extends Xd{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=An(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Ze("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Wt([_ce]),gt]})}return n})();const vce={provide:vs,useExisting:Bt(()=>K0),multi:!0},bce=new X("CompositionEventMode");let K0=(()=>{class n extends tz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yce(){const n=Lc()?Lc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(xa),O(nn),O(bce,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ze("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Wt([vce]),gt]})}return n})();const lr=new X("NgValidators"),hl=new X("NgAsyncValidators");function uz(n){return null!=n}function hz(n){return zp(n)?Kt(n):n}function fz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function mz(n,e){return e.map(t=>t(n))}function pz(n){return n.map(e=>function Ece(n){return!n.validate}(e)?e:t=>e.validate(t))}function bk(n){return null!=n?function gz(n){if(!n)return null;const e=n.filter(uz);return 0==e.length?null:function(t){return fz(mz(t,e))}}(pz(n)):null}function _z(n){if(!n)return null;const e=n.filter(uz);return 0==e.length?null:function(t){return function ez(...n){const e=Zf(n),{args:t,keys:i}=NL(n),r=new wt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,d=s;for(let h=0;h<s;h++){let p=!1;De(t[h]).subscribe(be(o,g=>{p||(p=!0,d--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(d||o.next(i?FL(i,a):a),o.complete())}))}});return e?r.pipe(vT(e)):r}(mz(t,e).map(hz)).pipe(ge(fz))}}function wk(n){return null!=n?_z(pz(n)):null}function vz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ek(n){return n?Array.isArray(n)?n:[n]:[]}function Y0(n,e){return Array.isArray(n)?n.includes(e):n===e}function wz(n,e){const t=Ek(e);return Ek(n).forEach(r=>{Y0(t,r)||t.push(r)}),t}function Ez(n,e){return Ek(e).filter(t=>!Y0(n,t))}class Iz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Or extends Iz{get formDirective(){return null}get path(){return null}}class fl extends Iz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cz=(()=>{class n extends xz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(fl,2))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[gt]})}return n})();const N_="VALID",J0="INVALID",Hf="PENDING",F_="DISABLED";function eE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Az{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===N_}get invalid(){return this.status===J0}get pending(){return this.status==Hf}get disabled(){return this.status===F_}get enabled(){return this.status!==F_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ez(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ez(e,this._rawAsyncValidators))}hasValidator(e){return Y0(this._rawValidators,e)}hasAsyncValidator(e){return Y0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=F_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=N_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===N_||this.status===Hf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F_:N_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hf,this._hasOwnPendingAsyncValidator=!0;const t=hz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qt,this.statusChanges=new Qt}_calculateStatus(){return this._allControlsDisabled()?F_:this.errors?J0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hf)?Hf:this._anyControlsHaveStatus(J0)?J0:N_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){eE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Dce(n){return Array.isArray(n)?bk(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Sce(n){return Array.isArray(n)?wk(n):n||null}(this._rawAsyncValidators)}}const $f=new X("CallSetDisabledState",{providedIn:"root",factory:()=>tE}),tE="always";function L_(n,e,t=tE){(function Sk(n,e){const t=function yz(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(vz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function bz(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(vz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();rE(e._rawValidators,r),rE(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Mce(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kz(n,e)})}(n,e),function Pce(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rce(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function kce(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function rE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Pz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Oz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Nz=class extends Az{constructor(e=null,t,i){super(function Ck(n){return(eE(n)?n.validators:n)||null}(t),function Tk(n,e){return(eE(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),eE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Oz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Oz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},jce={provide:fl,useExisting:Bt(()=>Pk)},Vz=(()=>Promise.resolve())();let Pk=(()=>{class n extends fl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Nz,this._registered=!1,this.name="",this.update=new Qt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Mk(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===K0?t=o:function Fce(n){return Object.getPrototypeOf(n.constructor)===Xd}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){L_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Vz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Sh(i);Vz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function nE(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(O(Or,9),O(lr,10),O(hl,10),O(vs,10),O(Fs,8),O($f,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([jce]),gt,yr]})}return n})(),Uz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({})}return n})(),hle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Uz]})}return n})(),mle=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$f,useValue:t.callSetDisabledState??tE}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[hle]})}return n})();function ple(n,e){1&n&&(N(0,"p",21),he(1,"Check your email"),z())}function gle(n,e){1&n&&(N(0,"p",21),he(1,"Check your password"),z())}function _le(n,e){if(1&n){const t=Po();N(0,"div",8)(1,"div",9)(2,"h1"),he(3,"Log in"),z(),N(4,"input",10),Ze("ngModelChange",function(r){return Ct(t),vt(qe().email=r)})("keyup.enter",function(){return Ct(t),vt(Hr(9).focus())}),z(),zt(5,ple,2,0,"p",11),N(6,"h1"),he(7,"Enter password"),z(),N(8,"input",12,13),Ze("ngModelChange",function(r){return Ct(t),vt(qe().password=r)})("keyup.enter",function(){return Ct(t),vt(qe().login())}),z(),zt(10,gle,2,0,"p",11),N(11,"div",14)(12,"div")(13,"div",15)(14,"input",16),Ze("ngModelChange",function(r){return Ct(t),vt(qe().rememberMe=r)}),z(),N(15,"label",17),$e(16,"span"),z(),N(17,"p"),he(18,"Remember me"),z()(),N(19,"a",18),Ze("click",function(){return Ct(t),vt(qe().isPage="forgot")}),he(20,"Forgot password?"),z()(),N(21,"span",19),he(22,"Don't have an account? "),N(23,"a",18),Ze("click",function(){return Ct(t),vt(qe().isPage="register")}),he(24,"Sign up here"),z()()(),N(25,"button",20),Ze("click",function(){return Ct(t),vt(qe().login())}),N(26,"span"),he(27,"Sign in"),z(),$e(28,"i"),z()()()}if(2&n){const t=qe();_e(4),He("ngModel",t.email),_e(1),He("ngIf",t.loginFailed),_e(3),He("ngModel",t.password),_e(2),He("ngIf",t.loginFailed),_e(4),He("ngModel",t.rememberMe)}}function vle(n,e){if(1&n){const t=Po();N(0,"div",8)(1,"div",9)(2,"h1"),he(3,"Register"),z(),N(4,"input",22),Ze("ngModelChange",function(r){return Ct(t),vt(qe().displayName=r)})("keyup.enter",function(){return Ct(t),vt(Hr(8).focus())}),z(),N(5,"h1"),he(6,"Email"),z(),N(7,"input",23,24),Ze("ngModelChange",function(r){return Ct(t),vt(qe().email=r)})("keyup.enter",function(){return Ct(t),vt(Hr(12).focus())}),z(),N(9,"h1"),he(10,"Enter password"),z(),N(11,"input",25,13),Ze("ngModelChange",function(r){return Ct(t),vt(qe().password=r)})("keyup.enter",function(){return Ct(t),vt(qe().register())}),z(),N(13,"div",14)(14,"div")(15,"a",18),Ze("click",function(){return Ct(t),vt(qe().isPage="forgot")}),he(16,"Forgot password?"),z()(),N(17,"span",26),he(18,"Have an account? "),N(19,"a",18),Ze("click",function(){return Ct(t),vt(qe().isPage="login")}),he(20,"Sign in here"),z()()(),N(21,"button",27),Ze("click",function(){return Ct(t),vt(qe().register())}),N(22,"span"),he(23,"Sign up"),z(),$e(24,"i"),z()()()}if(2&n){const t=qe();_e(4),He("ngModel",t.displayName),_e(3),He("ngModel",t.email),_e(4),He("ngModel",t.password)}}function yle(n,e){if(1&n){const t=Po();N(0,"div",8)(1,"div",9)(2,"h1"),he(3,"Enter email"),z(),N(4,"input",28,13),Ze("ngModelChange",function(r){return Ct(t),vt(qe().email=r)})("keyup.enter",function(){return Ct(t),vt(qe().register())}),z(),N(6,"div",14)(7,"span",26),he(8,"Oops still remember? "),N(9,"a",18),Ze("click",function(){return Ct(t),vt(qe().isPage="login")}),he(10,"Sign in here"),z()()(),N(11,"button",29),Ze("click",function(){return Ct(t),vt(qe().forgot())}),N(12,"span"),he(13,"Send verification"),z(),$e(14,"i"),z()()()}if(2&n){const t=qe();_e(4),He("ngModel",t.email)}}let ble=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.rememberMe=!0,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password,this.rememberMe),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(O(T_),O(Sr),O(vk))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"containerfull"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[1,"checkbox-wrapper-3"],["type","checkbox","id","cbx-3",3,"ngModel","ngModelChange"],["for","cbx-3",1,"toggle"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace","cursor","default"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(N(0,"html")(1,"head"),$e(2,"meta",0),z(),N(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),he(8,"Earn2Post"),z()(),N(9,"div",5),$e(10,"img",6),z()(),zt(11,_le,29,5,"div",7)(12,vle,25,3,"div",7)(13,yle,15,1,"div",7),z()()()),2&i&&(_e(11),He("ngIf","login"===r.isPage),_e(1),He("ngIf","register"===r.isPage),_e(1),He("ngIf","forgot"===r.isPage))},dependencies:[Vc,K0,yk,Cz,Pk],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.containerfull[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%], a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400;cursor:default}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text;cursor:pointer}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.926dafe5cf3fb7c6.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}.checkbox-wrapper-3[_ngcontent-%COMP%]{display:flex;margin:10px 10px 15px}.checkbox-wrapper-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 10px;font-size:inherit;color:#707070}.checkbox-wrapper-3[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{visibility:hidden;display:none}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:relative;display:block;width:40px;height:20px;cursor:pointer;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:before{content:"";position:relative;top:3px;left:3px;width:34px;height:14px;display:block;background:#9A9999;border-radius:8px;transition:background .2s ease}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:20px;height:20px;display:block;background:#707070;border-radius:10px;box-shadow:0 3px 8px #9a999980;transition:all .2s ease}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;margin:-18px;width:56px;height:56px;background:rgba(79,46,220,.5);border-radius:50%;transform:scale(0);opacity:1;pointer-events:none}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]:before{background:#947ADA}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#6A5988;transform:translate(20px);transition:all .2s cubic-bezier(.8,.4,.3,1.25),background .15s ease;box-shadow:0 3px 8px #4f2edc33}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{transform:scale(1);opacity:0;transition:all .4s ease}']})}return n})(),wle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=On({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(N(0,"h1"),he(1,"You're logged in as an admin"),z(),N(2,"button",0),he(3," Sign out"),z()),2&i&&(_e(2),He("routerLink",""))},dependencies:[qh]})}return n})();let Uk=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.autosaveDate=new Date,this.upgradesDefault=[{name:"Multithreading",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase processing power by utilizing multiple threads."},{name:"Optimization Algorithms",cost:100,debuxPerSec:10,affordable:!1,purchased:0,description:"Enhance efficiency through advanced code optimization techniques."},{name:"Parallel Processing",cost:1e3,debuxPerSec:100,affordable:!1,purchased:0,description:"Enable simultaneous execution for faster processing."},{name:"Overclocking",cost:1e4,debuxPerSec:1e3,affordable:!1,purchased:0,description:"Push the CPU to run faster, boosting processing power."},{name:"Hardware Upgrades",cost:1e5,debuxPerSec:1e4,affordable:!1,purchased:0,description:"Install better processors or RAM to increase overall performance."},{name:"Cooling Systems",cost:1e6,debuxPerSec:1e5,affordable:!1,purchased:0,description:"Optimize cooling mechanisms to sustain higher processing speeds."},{name:"Syntax Highlighting",cost:1,debuxPerClick:1,affordable:!1,purchased:0,description:"Boost click effectiveness with highlighted code segments."},{name:"Code Formatting",cost:10,debuxPerClick:10,affordable:!1,purchased:0,description:"Improve the appearance of code to enhance click impact."},{name:"Auto-Completion",cost:100,debuxPerClick:100,affordable:!1,purchased:0,description:"Increase code suggestion accuracy to amplify your clicks."},{name:"GUI Enhancements",cost:1e3,debuxPerClick:1e3,affordable:!1,purchased:0,description:"Upgrade the interface for a more responsive and impactful clicking experience."},{name:"Mouse Acceleration",cost:1e4,debuxPerClick:1e4,affordable:!1,purchased:0,description:"Improve click effectiveness by enhancing mouse sensitivity."},{name:"ChatGPT Evolution",cost:1e3,affordable:!1,purchased:0,description:"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."},{name:"Automated Testing",cost:1e4,affordable:!1,purchased:0,description:"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."},{name:"Code Refactoring AI",cost:1e5,affordable:!1,purchased:0,description:"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."},{name:"Codebase Analysis",cost:1e6,affordable:!1,purchased:0,description:"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."},{name:"Tabnine",cost:1e7,affordable:!1,purchased:0,description:"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."}],this.debuxValue=0,this.saveInterval=60,this.purchasedUpgradesPerSec=[],this.purchasedUpgradesPerClick=[],this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}buyUpgrade(t,i,r){typeof i<"u"&&0!==i?(console.log("DebuxPerSec purchased"),this.purchasedUpgradesPerSec.push({name:t,debuxPerSec:i})):typeof r<"u"&&0!==r&&(console.log("DebuxPerClick purchased"),this.purchasedUpgradesPerClick.push({name:t,debuxPerClick:r}))}calculateTotalDebuxPerClick(){return this.purchasedUpgradesPerClick.reduce((t,i)=>t+i.debuxPerClick,1)}calculateTotalDebuxPerSec(){return this.purchasedUpgradesPerSec.reduce((t,i)=>t+i.debuxPerSec,0)}firstCalc(t){let i=0,r=0;for(const o in t){const s=t[o];null!=s.debuxPerSec&&(r=s.debuxPerSec*s.purchased),null!=s.debuxPerClick&&(i=s.debuxPerClick*s.purchased),this.buyUpgrade(s.name,r,i)}}addDebux(t){this.debuxValue=t}addUpgrades(t){this.upgradesUpdated=t}startAutosave(){V0(0,1e3*this.saveInterval).pipe(qt(()=>this.autosave()),function xle(n,e=wd,t){const i=V0(n,e);return function Ile(n,e){return le((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,d=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),d&&i.complete())},p=()=>{c=null,d&&i.complete()},g=b=>c=De(n(b)).subscribe(be(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!d&&g(b)}};t.subscribe(be(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{d=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){if(this.user&&0!=this.debuxValue){const t={Debux:this.debuxValue};return this.upgradesUpdated&&(t.upgrades=this.upgradesUpdated),this.autosaveDate=new Date,Kt(this.db.doc(`User/${this.user?.uid}`).update(t)).pipe(ge(()=>{this.debuxValue=0,console.log("cleared")}))}return Ie(void 0)}getDebux(){return this.authState$.pipe(qt(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(ge(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),Ie(void 0))))}sendUpgrades(t){this.db.collection("User").doc(this.user?.uid).set({upgrades:t},{merge:!0})}getUpgrades(){return this.authState$.pipe(qt(t=>t?this.db.collection("User").doc(t.uid).valueChanges().pipe(ge(r=>r?r.upgrades||this.upgradesDefault:[])):(console.warn("User not authenticated."),Ie([]))))}static#e=this.\u0275fac=function(i){return new(i||n)(R(P0),R(Kh))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cle(n,e){if(1&n&&(N(0,"p",22),he(1),z()),2&n){const t=qe();_e(1),Us("DeBux: ",t.debux,"")}}function Tle(n,e){1&n&&(N(0,"p",23),he(1,"Loading Debuxes"),z())}function Dle(n,e){if(1&n&&(N(0,"div",24)(1,"p"),he(2," Logged in as: "),N(3,"span",25),he(4),z()()()),2&n){const t=qe();_e(4),yi(t.service.user.displayName)}}function Sle(n,e){1&n&&(N(0,"div",24)(1,"p",26),he(2,"Loading"),z()())}function Ale(n,e){if(1&n){const t=Po();N(0,"div",28),Ze("click",function(){Ct(t);const r=qe().$implicit;return vt(qe().buyUpgrade(r))}),N(1,"div",29)(2,"p"),he(3),z(),N(4,"h4"),he(5),z(),N(6,"div",30)(7,"h4"),he(8),z()()(),N(9,"div",31)(10,"h4"),he(11),z()()()}if(2&n){const t=qe().$implicit;Xn("box-disabled",!t.affordable),_e(3),yi(t.name),_e(2),yi(t.description),_e(3),Us("Cost: ",t.cost,"DB"),_e(3),yi(t.purchased)}}function kle(n,e){if(1&n&&(yh(0),zt(1,Ale,12,6,"div",27),bh()),2&n){const t=e.index;_e(1),He("ngIf",t<6)}}function Mle(n,e){if(1&n){const t=Po();N(0,"div",28),Ze("click",function(){Ct(t);const r=qe().$implicit;return vt(qe().buyUpgrade(r))}),N(1,"div",29)(2,"p"),he(3),z(),N(4,"h4"),he(5),z(),N(6,"div",30)(7,"h4"),he(8),z()()(),N(9,"div",31)(10,"h4"),he(11),z()()()}if(2&n){const t=qe().$implicit;Xn("box-disabled",!t.affordable),_e(3),yi(t.name),_e(2),yi(t.description),_e(3),Us("Cost: ",t.cost,"DB"),_e(3),yi(t.purchased)}}function Rle(n,e){if(1&n&&(yh(0),zt(1,Mle,12,6,"div",27),bh()),2&n){const t=e.index;_e(1),He("ngIf",6<=t&&t<11)}}function Ple(n,e){if(1&n){const t=Po();N(0,"div",28),Ze("click",function(){Ct(t);const r=qe().$implicit;return vt(qe().buyUpgrade(r))}),N(1,"div",29)(2,"p"),he(3),z(),N(4,"h4"),he(5),z(),N(6,"div",30)(7,"h4"),he(8),z()()(),N(9,"div",31)(10,"h4"),he(11),z()()()}if(2&n){const t=qe().$implicit;Xn("box-disabled",!t.affordable),_e(3),yi(t.name),_e(2),yi(t.description),_e(3),Us("Cost: ",t.cost,"DB"),_e(3),yi(t.purchased)}}function Ole(n,e){if(1&n&&(yh(0),zt(1,Ple,12,6,"div",27),bh()),2&n){const t=e.index;_e(1),He("ngIf",11<=t)}}let Nle=(()=>{class n{constructor(t,i,r){this.service=t,this.zone=i,this.cdr=r,this.timeDifferenceInSeconds=0,this.maxClicks=2,this.clickCount=0,this.debux=0,this.loading=!1,this.upgrades=this.service.upgradesDefault,this.upgradesObs$=this.service.getUpgrades()}ngOnInit(){this.upgradesObs$.pipe(so(1)).subscribe(t=>{this.upgrades=t,this.service.firstCalc(this.upgrades)}),this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().pipe(so(1)).subscribe(i=>{this.debux=i||0,this.loading=!1,function Ele(n=0,e=wd){return n<0&&(n=0),V0(n,n,e)}(1e3).subscribe(()=>{this.zone.run(()=>{this.debux+=this.service.calculateTotalDebuxPerSec(),this.updateAffordability(),this.service.addDebux(this.debux),this.cdr.detectChanges();const o=(new Date).getTime()-this.service.autosaveDate.getTime();this.timeDifferenceInSeconds=Math.floor(o/1e3),30==this.timeDifferenceInSeconds&&(this.clickCount=0)})})}))})}addDebux(){this.debux+=this.service.calculateTotalDebuxPerClick(),this.updateAffordability(),this.service.addDebux(this.debux)}updateAffordability(){this.upgrades.forEach(t=>{t.affordable=t.cost<=this.debux})}buyUpgrade(t){t.affordable&&this.debux-t.cost<t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick),t.affordable=!1):t.affordable&&this.debux-t.cost>=t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick)):console.log("Not enough DeBux for this upgrade."),this.service.addDebux(this.debux),this.service.addUpgrades(this.upgrades),this.updateAffordability()}manualAutosave(){this.clickCount<this.maxClicks&&(this.service.autosave(),this.clickCount++)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Uk),O(Fe),O(Fs))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-clicker"]],decls:48,vars:10,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],[3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[4,"ngFor","ngForOf"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"],[1,"loading-text"],["class","box",3,"box-disabled","click",4,"ngIf"],[1,"box",3,"click"],[1,"box-text"],[1,"cost"],[1,"bought"]],template:function(i,r){1&i&&(N(0,"div",0)(1,"div",1),zt(2,Cle,2,1,"p",2)(3,Tle,2,0,"p",3),z(),N(4,"div",4)(5,"button",5),Ze("click",function(){return r.addDebux()}),z(),N(6,"div")(7,"p"),he(8),z(),N(9,"a",6),Ze("click",function(){return r.manualAutosave()}),he(10,"Save now"),z()()(),zt(11,Dle,5,1,"div",7)(12,Sle,3,0,"div",7),z(),N(13,"div",8)(14,"div",9)(15,"H1"),he(16,"Upgrades"),z()(),N(17,"div",10)(18,"div",11)(19,"div",12),$e(20,"img",13),N(21,"div")(22,"p"),he(23,"Processing Power"),z(),N(24,"h4"),he(25,"Per/Sec"),z()()(),N(26,"div",14),zt(27,kle,2,1,"ng-container",15),z()(),N(28,"div",16)(29,"div",17),$e(30,"img",18),N(31,"div")(32,"p"),he(33,"Click Impact"),z(),N(34,"h4"),he(35,"Per/Click"),z()()(),N(36,"div",19),zt(37,Rle,2,1,"ng-container",15),z()(),N(38,"div",20)(39,"div",12),$e(40,"img",21),N(41,"div")(42,"p"),he(43,"Advanced Algorithms"),z(),N(44,"h4"),he(45,"Specials"),z()()(),N(46,"div",14),zt(47,Ole,2,1,"ng-container",15),z()()()()),2&i&&(_e(2),He("ngIf",!r.loading),_e(1),He("ngIf",r.loading),_e(5),Us("Last autosave: ",r.timeDifferenceInSeconds," seconds ago"),_e(1),Xn("disabled",r.clickCount>=r.maxClicks),_e(2),He("ngIf",r.service.user),_e(1),He("ngIf",!r.service.user),_e(15),He("ngForOf",r.upgrades),_e(10),He("ngForOf",r.upgrades),_e(10),He("ngForOf",r.upgrades))},dependencies:[tT,Vc],styles:[".top[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:20%;background:#313131;border-radius:40px}.loading-text[_ngcontent-%COMP%]{color:#b7514c}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:30%;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}#debug[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6a5988;cursor:pointer;transition:transfrom .3s ease}.clicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{font-size:90%}.clicker[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.clicker[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3% 0 0;font-size:100%}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:20%;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:20px;margin-top:30px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-disabled[_ngcontent-%COMP%]{filter:blur(4px)}.box-disabled[_ngcontent-%COMP%]:hover{cursor:auto;box-shadow:none}.box-disabled[_ngcontent-%COMP%]:active{transform:none}.box-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-top-left-radius:20px;border-bottom-left-radius:20px;width:480px;padding-left:20px}.box-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.cost[_ngcontent-%COMP%]{text-align:center}.cost[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:lighter}.bought[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background:#6A5988;border-top-right-radius:20px;border-bottom-right-radius:20px;width:70px}.bought[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;margin:0;font-size:25px}"]})}return n})();function Fle(n,e){1&n&&(N(0,"h3"),he(1,"<"),N(2,"span",9),he(3,"Loading"),z(),he(4,"> DB"),z())}function Lle(n,e){if(1&n&&(N(0,"h3"),he(1,"<"),N(2,"span",10),he(3),z(),he(4,"> DB"),z()),2&n){const t=qe();_e(3),yi(t.debux)}}let Vle=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Uk))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(N(0,"div",0)(1,"div",1),$e(2,"img",2),N(3,"h2"),he(4,"Your credit"),z()(),N(5,"div",3)(6,"p"),he(7,"Current"),z(),N(8,"div",4),zt(9,Fle,5,0,"h3",5)(10,Lle,5,1,"h3",5),z()(),N(11,"div",3)(12,"p"),he(13,"Per second:"),z(),N(14,"div",6)(15,"h3"),he(16,"+40 DB/s"),z()()(),N(17,"div",7),$e(18,"img",8),z()()),2&i&&(_e(9),He("ngIf",r.loading),_e(1),He("ngIf",!r.loading))},dependencies:[Vc],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})(),Ble=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(O(P0),O(Kh))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(N(0,"html")(1,"head"),$e(2,"meta",0),z(),N(3,"body")(4,"div",1)(5,"div",2),$e(6,"app-credit-box"),N(7,"a",3),$e(8,"img",4),z()(),N(9,"div",5)(10,"div",6)(11,"div",7),$e(12,"img",8),z(),N(13,"div",9)(14,"h2"),he(15),z(),N(16,"p",10),he(17,"50 Followers"),z(),N(18,"div",11)(19,"p"),he(20,"30 Following"),z(),N(21,"p"),he(22,"13 Friends"),z()()(),N(23,"div",12),$e(24,"img",13),z()(),N(25,"div",14),$e(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),z()(),N(34,"div",23)(35,"h2"),he(36,"Here is friends list"),z(),N(37,"div",24),$e(38,"img",25),N(39,"h2"),he(40,"Add friends"),z()()()()()()),2&i&&(_e(15),yi(null==r.user?null:r.user.displayName))},dependencies:[qh,Vle],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})(),jk=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn().pipe(ge(r=>(r||this.router.navigate([""]),r)))}static#e=this.\u0275fac=function(i){return new(i||n)(R(T_),R(Sr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ule=[{path:"",component:ble},{path:"home",component:gce,canActivate:[jk]},{path:"admin",component:wle},{path:"clicker",component:Nle,canActivate:[jk]},{path:"profile",component:Ble,canActivate:[jk]}];let jle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[U2.forRoot(Ule,{useHash:!0}),U2]})}return n})(),zle=(()=>{class n{constructor(t){this.router=t,this.visible=!0,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sr))};static#t=this.\u0275cmp=On({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(N(0,"app-header"),$e(1,"router-outlet"),z())},dependencies:[LT,vk],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"],changeDetection:0})}return n})();function rH(n){return new U(3e3,!1)}function ml(n){switch(n.length){case 0:return new O_;case 1:return n[0];default:return new Z3(n)}}function oH(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const d=c.get("offset"),h=d==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case za:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=d}),r.length)throw function ude(n){return new U(3502,!1)}();return o}function zk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Hk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Hk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Hk(t,"destroy",n)))}}function Hk(n,e,t){const o=$k(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function $k(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ho(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function sH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Ide=(()=>typeof document>"u"?null:document.documentElement)();function qk(n){const e=n.parentNode||n.host||null;return e===Ide?null:e}let eu=null,aH=!1;function cH(n,e){for(;e;){if(e===n)return!0;e=qk(e)}return!1}function lH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Gk=(()=>{class n{validateStyleProperty(t){return function Cde(n){eu||(eu=function Tde(){return typeof document<"u"?document.body:null}()||{},aH=!!eu.style&&"WebkitAppearance"in eu.style);let e=!0;return eu.style&&!function xde(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in eu.style,!e&&aH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in eu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return cH(t,i)}getParentElement(t){return qk(t)}query(t,i,r){return lH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new O_(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Wk=(()=>{class n{static#e=this.NOOP=new Gk}return n})();class Zk{}const Sde=1e3,Kk="ng-enter",sE="ng-leave",aE="ng-trigger",cE=".ng-trigger",uH="ng-animating",Qk=".ng-animating";function Ha(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yk(parseFloat(e[1]),e[2])}function Yk(n,e){return"s"===e?n*Sde:n}function lE(n,e,t){return n.hasOwnProperty("duration")?n:function kde(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(rH()),{duration:0,delay:0,easing:""};r=Yk(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Yk(parseFloat(c),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Hle(){return new U(3100,!1)}()),a=!0),o<0&&(e.push(function $le(){return new U(3101,!1)}()),a=!0),a&&e.splice(c,0,rH())}return{duration:r,delay:o,easing:s}}(n,e,t)}function B_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function hH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function pl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function na(n,e,t){e.forEach((i,r)=>{const o=Jk(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function tu(n,e){e.forEach((t,i)=>{const r=Jk(i);n.style[r]=""})}function U_(n){return Array.isArray(n)?1==n.length?n[0]:function Hae(n,e=null){return{type:2,steps:n,options:e}}(n):n}const Xk=new RegExp("{{\\s*(.+?)\\s*}}","g");function mH(n){let e=[];if("string"==typeof n){let t;for(;t=Xk.exec(n);)e.push(t[1]);Xk.lastIndex=0}return e}function j_(n,e,t){const i=n.toString(),r=i.replace(Xk,(o,s)=>{let a=e[s];return null==a&&(t.push(function Gle(n){return new U(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function dE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Pde=/-+([a-z0-9])/g;function Jk(n){return n.replace(Pde,(...e)=>e[1].toUpperCase())}function fo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Wle(n){return new U(3004,!1)}()}}function pH(n,e){return window.getComputedStyle(n)[e]}const Fde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gH extends Zk{normalizePropertyName(e,t){return Jk(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Fde.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Zle(n,e){return new U(3005,!1)}())}return s+o}}const uE="*";function Lde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Vde(n,e,t){if(":"==n[0]){const c=function Bde(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function ade(n){return new U(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function sde(n){return new U(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(_H(r,s));"<"==o[0]&&!(r==uE&&s==uE)&&e.push(_H(s,r))}(i,t,e)):t.push(n),t}const hE=new Set(["true","1"]),fE=new Set(["false","0"]);function _H(n,e){const t=hE.has(n)||fE.has(n),i=hE.has(e)||fE.has(e);return(r,o)=>{let s=n==uE||n==r,a=e==uE||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?hE.has(n):fE.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?hE.has(e):fE.has(e)),s&&a}}const Ude=new RegExp("s*:selfs*,?","g");function eM(n,e,t,i){return new jde(n).build(e,t,i)}class jde{constructor(e){this._driver=e}build(e,t,i){const r=new $de(t);return this._resetContextStyleTimingState(r),fo(this,U_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Kle(){return new U(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function Qle(){return new U(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{mH(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(dE(o.values()),t.errors.push(function Yle(n,e){return new U(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=fo(this,U_(e.animation),t);return{type:1,matchers:Lde(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:nu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>fo(this,i,t)),options:nu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=fo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:nu(e.options)}}visitAnimate(e,t){const i=function Gde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return tM(lE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=tM(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=lE(t,e);return tM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:G0({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=G0(d)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===za?i.push(a):t.errors.push(new U(3002,!1)):i.push(hH(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function Jle(n,e,t,i,r){return new U(3010,!1)}()),p=!1),o=h.startTime),p&&d.set(c,{startTime:o,endTime:r}),t.options&&function Rde(n,e,t){const i=e.params||{},r=mH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function qle(n){return new U(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ede(){return new U(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,d=0;const h=e.steps.map(A=>{const S=this._makeStyleAst(A,t);let M=null!=S.offset?S.offset:function qde(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(S.styles),Y=0;return null!=M&&(o++,Y=S.offset=M),c=c||Y<0||Y>1,a=a||Y<d,d=Y,s.push(Y),S});c&&t.errors.push(function tde(){return new U(3012,!1)}()),a&&t.errors.push(function nde(){return new U(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function ide(){return new U(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,E=w.duration;return h.forEach((A,S)=>{const M=g>0?S==v?1:g*S:s[S],Y=M*E;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(A,t),A.offset=M,i.styles.push(A)}),i}visitReference(e,t){return{type:8,animation:fo(this,U_(e.animation),t),options:nu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:nu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:nu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function zde(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ude,"")),n=n.replace(/@\*/g,cE).replace(/@\w+/g,t=>cE+"-"+t.slice(1)).replace(/:animating/g,Qk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ho(t.collectedStyles,t.currentQuerySelector,new Map);const a=fo(this,U_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:nu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function rde(){return new U(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:lE(e.timings,t.errors,!0);return{type:12,animation:fo(this,U_(e.animation),t),timings:i,options:null}}}class $de{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nu(n){return n?(n=B_(n)).params&&(n.params=function Hde(n){return n?B_(n):null}(n.params)):n={},n}function tM(n,e,t){return{duration:n,delay:e,easing:t}}function nM(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class mE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Kde=new RegExp(":enter","g"),Yde=new RegExp(":leave","g");function iM(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return(new Xde).buildKeyframes(n,e,t,i,r,o,s,a,c,d)}class Xde{buildKeyframes(e,t,i,r,o,s,a,c,d,h=[]){d=d||new mE;const p=new rM(e,t,d,r,o,h,[]);p.options=c;const g=c.delay?Ha(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),fo(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const E=v[w];if(E.element===t){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[nM(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ha(j_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ha(i.duration):null,a=null!=i.delay?Ha(i.delay):null;return 0!==s&&e.forEach(c=>{const d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),fo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pE);const s=Ha(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>fo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ha(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),fo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return lE(t.params?j_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ha(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pE);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,d);o&&p.delayNextStep(o),d===t.element&&(c=p.currentTimeline),fo(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;fo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const pE={};class rM{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new gE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ha(i.duration)),null!=i.delay&&(r.delay=Ha(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=j_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new rM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=pE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Jde(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Kde,"."+this._enterClassName)).replace(Yde,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function ode(n){return new U(3014,!1)}()),a}}class gE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||za),this._currentKeyframe.set(t,za);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function eue(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,za)}else pl(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const d=j_(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??za),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=pl(a,new Map,this._backFill);d.forEach((h,p)=>{"!"===h?e.add(p):h===za&&t.add(p)}),i||d.set("offset",c/this.duration),r.push(d)});const o=e.size?dE(e.values()):[],s=t.size?dE(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return nM(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Jde extends gE{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=pl(e[0]);c.set("offset",0),o.push(c);const d=pl(e[0]);d.set("offset",bH(a)),o.push(d);const h=e.length-1;for(let p=1;p<=h;p++){let g=pl(e[p]);const v=g.get("offset");g.set("offset",bH((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return nM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function bH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function wH(n,e,t,i,r,o,s,a,c,d,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:h,totalTime:p,errors:g}}const oM={};class EH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function tue(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,h){const p=[],g=this.ast.options&&this.ast.options.params||oM,b=this.buildStyles(i,a&&a.params||oM,p),w=c&&c.params||oM,E=this.buildStyles(r,w,p),A=new Set,S=new Map,M=new Map,Y="void"===r,ue={params:nue(w,g),delay:this.ast.options?.delay},xe=h?[]:iM(e,t,this.ast.animation,o,s,b,E,ue,d,p);let Qe=0;if(xe.forEach(mo=>{Qe=Math.max(mo.duration+mo.delay,Qe)}),p.length)return wH(t,this._triggerName,i,r,Y,b,E,[],[],S,M,Qe,p);xe.forEach(mo=>{const Kr=mo.element,m$=ho(S,Kr,new Set);mo.preStyleProps.forEach(su=>m$.add(su));const W_=ho(M,Kr,new Set);mo.postStyleProps.forEach(su=>W_.add(su)),Kr!==t&&A.add(Kr)});const dn=dE(A.values());return wH(t,this._triggerName,i,r,Y,b,E,xe,dn,S,M,Qe)}}function nue(n,e){const t=B_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class iue{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=B_(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=j_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class oue{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new iue(r.style,r.options&&r.options.params||{},i))}),IH(this.states,"true","1"),IH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new EH(e,r,this.states))}),this.fallbackTransition=function sue(n,e,t){return new EH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function IH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const aue=new mE;class cue{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=eM(this._driver,t,i,[]);if(i.length)throw function hde(n){return new U(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=oH(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=iM(this._driver,t,o,Kk,sE,new Map,new Map,i,aue,r),s.forEach(h=>{const p=ho(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function fde(){return new U(3300,!1)}()),s=[]),r.length)throw function mde(n){return new U(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,za))})});const d=ml(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function pde(n){return new U(3301,!1)}();return t}listen(e,t,i,r){const o=$k(t,"","","");return zk(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const xH="ng-animate-queued",sM="ng-animate-disabled",fue=[],CH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ys="__ng_removed";class aM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function vue(n){return n??null}(i?e.value:e),i){const o=B_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const z_="void",cM=new aM(z_);class pue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function gde(n,e){return new U(3302,!1)}();if(null==i||0==i.length)throw function _de(n){return new U(3303,!1)}();if(!function yue(n){return"start"==n||"done"==n}(i))throw function vde(n,e){return new U(3400,!1)}();const o=ho(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ho(this._engine.statesByElement,e,new Map);return a.has(t)||(Bo(e,aE),Bo(e,aE+"-"+t),a.set(t,cM)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function yde(n){return new U(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new lM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Bo(e,aE),Bo(e,aE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const d=new aM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=cM),d.value!==z_&&c.value===d.value){if(!function Eue(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,d.params)){const w=[],E=o.matchStyles(c.value,c.params,w),A=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{tu(e,E),na(e,A)})}return}const g=ho(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,d.value,e,d.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:d,player:s,isFallbackTransition:b}),b||(Bo(e,xH),s.onStart(()=>{qf(e,xH)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const E=this._engine.playersByElement.get(e);if(E){let A=E.indexOf(s);A>=0&&E.splice(A,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,cE,!0);i.forEach(r=>{if(r[ys])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){const h=this.trigger(e,d,z_,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&ml(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,d=i.get(s)||cM,h=new aM(z_),p=new lM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ys];(!o||o===CH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Bo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=$k(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,zk(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class gue{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new pue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(_E(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!_E(t))return;const o=t[ys];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bo(e,sM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qf(e,sM))}removeNode(e,t,i){if(_E(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ys]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return _E(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,cE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Qk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ml(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ys];if(t&&t.setForRemoval){if(e[ys]=CH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(sM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Bo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ml(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function bde(n){return new U(3402,!1)}()}_flushAnimations(e,t){const i=new mE,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(Se=>{h.add(Se);const Be=this.driver.query(Se,".ng-animate-queued",!0);for(let Ke=0;Ke<Be.length;Ke++)h.add(Be[Ke])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=SH(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((Se,Be)=>{const Ke=Kk+w++;b.set(Be,Ke),Se.forEach(Ot=>Bo(Ot,Ke))});const E=[],A=new Set,S=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){const Be=this.collectedLeaveElements[Se],Ke=Be[ys];Ke&&Ke.setForRemoval&&(E.push(Be),A.add(Be),Ke.hasAnimation?this.driver.query(Be,".ng-star-inserted",!0).forEach(Ot=>A.add(Ot)):S.add(Be))}const M=new Map,Y=SH(g,Array.from(A));Y.forEach((Se,Be)=>{const Ke=sE+w++;M.set(Be,Ke),Se.forEach(Ot=>Bo(Ot,Ke))}),e.push(()=>{v.forEach((Se,Be)=>{const Ke=b.get(Be);Se.forEach(Ot=>qf(Ot,Ke))}),Y.forEach((Se,Be)=>{const Ke=M.get(Be);Se.forEach(Ot=>qf(Ot,Ke))}),E.forEach(Se=>{this.processLeaveNode(Se)})});const ue=[],xe=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(t).forEach(Ke=>{const Ot=Ke.player,Fi=Ke.element;if(ue.push(Ot),this.collectedEnterElements.length){const dr=Fi[ys];if(dr&&dr.setForMove){if(dr.previousTriggersValues&&dr.previousTriggersValues.has(Ke.triggerName)){const au=dr.previousTriggersValues.get(Ke.triggerName),jo=this.statesByElement.get(Ke.element);if(jo&&jo.has(Ke.triggerName)){const TE=jo.get(Ke.triggerName);TE.value=au,jo.set(Ke.triggerName,TE)}}return void Ot.destroy()}}const ia=!p||!this.driver.containsElement(p,Fi),po=M.get(Fi),yl=b.get(Fi),Ln=this._buildInstruction(Ke,i,yl,po,ia);if(Ln.errors&&Ln.errors.length)return void xe.push(Ln);if(ia)return Ot.onStart(()=>tu(Fi,Ln.fromStyles)),Ot.onDestroy(()=>na(Fi,Ln.toStyles)),void r.push(Ot);if(Ke.isFallbackTransition)return Ot.onStart(()=>tu(Fi,Ln.fromStyles)),Ot.onDestroy(()=>na(Fi,Ln.toStyles)),void r.push(Ot);const _$=[];Ln.timelines.forEach(dr=>{dr.stretchStartingKeyframe=!0,this.disabledNodes.has(dr.element)||_$.push(dr)}),Ln.timelines=_$,i.append(Fi,Ln.timelines),s.push({instruction:Ln,player:Ot,element:Fi}),Ln.queriedElements.forEach(dr=>ho(a,dr,[]).push(Ot)),Ln.preStyleProps.forEach((dr,au)=>{if(dr.size){let jo=c.get(au);jo||c.set(au,jo=new Set),dr.forEach((TE,bM)=>jo.add(bM))}}),Ln.postStyleProps.forEach((dr,au)=>{let jo=d.get(au);jo||d.set(au,jo=new Set),dr.forEach((TE,bM)=>jo.add(bM))})});if(xe.length){const Se=[];xe.forEach(Be=>{Se.push(function wde(n,e){return new U(3505,!1)}())}),ue.forEach(Be=>Be.destroy()),this.reportError(Se)}const Qe=new Map,dn=new Map;s.forEach(Se=>{const Be=Se.element;i.has(Be)&&(dn.set(Be,Be),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,Qe))}),r.forEach(Se=>{const Be=Se.element;this._getPreviousPlayers(Be,!1,Se.namespaceId,Se.triggerName,null).forEach(Ot=>{ho(Qe,Be,[]).push(Ot),Ot.destroy()})});const mo=E.filter(Se=>kH(Se,c,d)),Kr=new Map;DH(Kr,this.driver,S,d,za).forEach(Se=>{kH(Se,c,d)&&mo.push(Se)});const W_=new Map;v.forEach((Se,Be)=>{DH(W_,this.driver,new Set(Se),c,"!")}),mo.forEach(Se=>{const Be=Kr.get(Se),Ke=W_.get(Se);Kr.set(Se,new Map([...Be?.entries()??[],...Ke?.entries()??[]]))});const su=[],p$=[],g$={};s.forEach(Se=>{const{element:Be,player:Ke,instruction:Ot}=Se;if(i.has(Be)){if(h.has(Be))return Ke.onDestroy(()=>na(Be,Ot.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(Ot.totalTime),void r.push(Ke);let Fi=g$;if(dn.size>1){let po=Be;const yl=[];for(;po=po.parentNode;){const Ln=dn.get(po);if(Ln){Fi=Ln;break}yl.push(po)}yl.forEach(Ln=>dn.set(Ln,Fi))}const ia=this._buildAnimation(Ke.namespaceId,Ot,Qe,o,W_,Kr);if(Ke.setRealPlayer(ia),Fi===g$)su.push(Ke);else{const po=this.playersByElement.get(Fi);po&&po.length&&(Ke.parentPlayer=ml(po)),r.push(Ke)}}else tu(Be,Ot.fromStyles),Ke.onDestroy(()=>na(Be,Ot.toStyles)),p$.push(Ke),h.has(Be)&&r.push(Ke)}),p$.forEach(Se=>{const Be=o.get(Se.element);if(Be&&Be.length){const Ke=ml(Be);Se.setRealPlayer(Ke)}}),r.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<E.length;Se++){const Be=E[Se],Ke=Be[ys];if(qf(Be,sE),Ke&&Ke.hasAnimation)continue;let Ot=[];if(a.size){let ia=a.get(Be);ia&&ia.length&&Ot.push(...ia);let po=this.driver.query(Be,Qk,!0);for(let yl=0;yl<po.length;yl++){let Ln=a.get(po[yl]);Ln&&Ln.length&&Ot.push(...Ln)}}const Fi=Ot.filter(ia=>!ia.destroyed);Fi.length?bue(this,Be,Fi):this.processLeaveNode(Be)}return E.length=0,su.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();const Be=this.players.indexOf(Se);this.players.splice(Be,1)}),Se.play()}),su}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==z_;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const d=c.element,h=d!==o,p=ho(i,d,[]);this._getPreviousPlayers(d,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}tu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,d=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const E=w[ys];if(E&&E.removedBeforeQueried)return new O_(b.duration,b.delay);const A=w!==c,S=function wue(n){const e=[];return AH(n,e),e}((i.get(w)||fue).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===w),M=o.get(w),Y=s.get(w),ue=oH(this._normalizer,b.keyframes,M,Y),xe=this._buildPlayer(b,ue,S);if(b.subTimeline&&r&&p.add(w),A){const Qe=new lM(e,a,w);Qe.setRealPlayer(xe),d.push(Qe)}return xe});d.forEach(b=>{ho(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function _ue(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Bo(b,uH));const v=ml(g);return v.onDestroy(()=>{h.forEach(b=>qf(b,uH)),na(c,t.toStyles)}),p.forEach(b=>{ho(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new O_(e.duration,e.delay)}}class lM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new O_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>zk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ho(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _E(n){return n&&1===n.nodeType}function TH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function DH(n,e,t,i,r){const o=[];t.forEach(c=>o.push(TH(c)));const s=[];i.forEach((c,d)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(d,p,r);h.set(p,g),(!g||0==g.length)&&(d[ys]=mue,s.push(d))}),n.set(d,h)});let a=0;return t.forEach(c=>TH(c,o[a++])),s}function SH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const d=a.parentNode;return c=t.has(d)?d:r.has(d)?1:s(d),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Bo(n,e){n.classList?.add(e)}function qf(n,e){n.classList?.remove(e)}function bue(n,e,t){ml(t).onDone(()=>n.processLeaveNode(e))}function AH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Z3?AH(i.players,e):e.push(i)}}function kH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class H_{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new gue(e.body,t,i),this._timelineEngine=new cue(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=eM(this._driver,o,c,[]);if(c.length)throw function dde(n,e){return new U(3404,!1)}();a=function rue(n,e,t){return new oue(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=sH(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=sH(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let xue=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&na(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(na(this._element,this._initialStyles),this._endStyles&&(na(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tu(this._element,this._endStyles),this._endStyles=null),na(this._element,this._initialStyles),this._state=3)}}return n})();function dM(n){let e=null;return n.forEach((t,i)=>{(function Cue(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class MH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:pH(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RH{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return cH(e,t)}getParentElement(e){return qk(e)}query(e,t,i){return lH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d=new Map,h=s.filter(v=>v instanceof MH);(function Ode(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=function Mde(n){return n.length?n[0]instanceof Map?n:n.map(e=>hH(e)):[]}(t).map(v=>pl(v));p=function Nde(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,pH(n,a)))}}return e}(e,p,d);const g=function Iue(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=dM(e[0]),e.length>1&&(i=dM(e[e.length-1]))):e instanceof Map&&(t=dM(e)),t||i?new xue(n,t,i):null}(e,p);return new MH(e,p,c,g)}}const PH="@.disabled";class OH{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==PH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Tue extends OH{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==PH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Due(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Sue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Aue{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const d=this._rendererCache;let h=d.get(r);return h||(h=new OH("",r,this.engine,()=>d.delete(r)),d.set(r,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new Tue(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let kue=(()=>{class n extends H_{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt),R(Wk),R(Zk),R(Fc))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const NH=[{provide:Zk,useFactory:function Mue(){return new gH}},{provide:H_,useClass:kue},{provide:ux,useFactory:function Rue(n,e,t){return new Aue(n,e,t)},deps:[fT,H_,Fe]}],uM=[{provide:Wk,useFactory:()=>new RH},{provide:Wu,useValue:"BrowserAnimations"},...NH],FH=[{provide:Wk,useClass:Gk},{provide:Wu,useValue:"NoopAnimations"},...NH];let Pue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?FH:uM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({providers:uM,imports:[AL]})}return n})(),LH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({providers:[LH]})}return n})(),Lue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Zr,Zr]})}return n})(),fhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Fue,Pb,Zr,$3,jae,Lue]})}return n})(),ghe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Zr,$3,Zr]})}return n})();class yE{}class bE{}class Uo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Uo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Uo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Uo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _he{encodeKey(e){return HH(e)}encodeValue(e){return HH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yhe=/%(\d[a-f0-9])/gi,bhe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HH(n){return encodeURIComponent(n).replace(yhe,(e,t)=>bhe[t]??e)}function wE(n){return`${n}`}class gl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _he,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vhe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(wE):[wE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(wE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(wE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class whe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $H(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qH(n){return typeof Blob<"u"&&n instanceof Blob}function GH(n){return typeof FormData<"u"&&n instanceof FormData}class $_{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ehe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Uo),this.context||(this.context=new whe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new gl,this.urlWithParams=t}serializeBody(){return null===this.body?null:$H(this.body)||qH(this.body)||GH(this.body)||function Ihe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GH(this.body)?null:qH(this.body)?this.body.type||null:$H(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new $_(t,i,o,{params:d,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var _l=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_l||{});class fM{constructor(e,t=200,i="OK"){this.headers=e.headers||new Uo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class EE extends fM{constructor(e={}){super(e),this.type=_l.ResponseHeader}clone(e={}){return new EE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class iu extends fM{constructor(e={}){super(e),this.type=_l.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new iu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Gf extends fM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let pM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof $_)o=t;else{let c,d;c=r.headers instanceof Uo?r.headers:new Uo(r.headers),r.params&&(d=r.params instanceof gl?r.params:new gl({fromObject:r.params})),o=new $_(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Ie(o).pipe(Mh(c=>this.handler.handle(c)));if(t instanceof $_||"events"===r.observe)return s;const a=s.pipe($n(c=>c instanceof iu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ge(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ge(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ge(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ge(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new gl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,mM(r,i))}post(t,i,r={}){return this.request("POST",t,mM(r,i))}put(t,i,r={}){return this.request("PUT",t,mM(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(R(yE))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function ZH(n,e){return e(n)}function She(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const khe=new X(""),q_=new X(""),KH=new X(""),QH=new X("");function Mhe(){let n=null;return(e,t)=>{null===n&&(n=(ae(khe,{optional:!0})??[]).reduceRight(She,ZH));const i=ae(hb),r=i.add();return n(e,t).pipe(Rh(()=>i.remove(r)))}}let YH=(()=>{class n extends yE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ae(hb);const r=ae(QH,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(q_),...this.injector.get(KH,[])]));this.chain=r.reduceRight((o,s)=>function Ahe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),ZH)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Rh(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(R(bE),R(to))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const Fhe=/^\)\]\}',?\n/;let JH=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new U(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Kt(i.\u0275loadImpl()):Ie(null)).pipe(qt(()=>new wt(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,E)=>s.setRequestHeader(w,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const w=s.statusText||"OK",E=new Uo(s.getAllResponseHeaders()),A=function Lhe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new EE({headers:E,status:s.status,statusText:w,url:A}),c},h=()=>{let{headers:w,status:E,statusText:A,url:S}=d(),M=null;204!==E&&(M=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=M?200:0);let Y=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof M){const ue=M;M=M.replace(Fhe,"");try{M=""!==M?JSON.parse(M):null}catch(xe){M=ue,Y&&(Y=!1,M={error:xe,text:M})}}Y?(o.next(new iu({body:M,headers:w,status:E,statusText:A,url:S||void 0})),o.complete()):o.error(new Gf({error:M,headers:w,status:E,statusText:A,url:S||void 0}))},p=w=>{const{url:E}=d(),A=new Gf({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(A)};let g=!1;const v=w=>{g||(o.next(d()),g=!0);let E={type:_l.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=w=>{let E={type:_l.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:_l.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(R(fL))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const vM=new X("XSRF_ENABLED"),e$=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),t$=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class n${}let Uhe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=iL(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(R(yt),R(ss),R(e$))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function jhe(n,e){const t=n.url.toLowerCase();if(!ae(vM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ae(n$).getToken(),r=ae(t$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var vl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(vl||{});function zhe(...n){const e=[pM,JH,YH,{provide:yE,useExisting:YH},{provide:bE,useExisting:JH},{provide:q_,useValue:jhe,multi:!0},{provide:vM,useValue:!0},{provide:n$,useClass:Uhe}];for(const t of n)e.push(...t.\u0275providers);return function rp(n){return{\u0275providers:n}}(e)}const i$=new X("LEGACY_INTERCEPTOR_FN");function Hhe(){return function ru(n,e){return{\u0275kind:n,\u0275providers:e}}(vl.LegacyInterceptors,[{provide:i$,useFactory:Mhe},{provide:q_,useExisting:i$,multi:!0}])}let $he=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({providers:[zhe(Hhe())]})}return n})(),tfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Rt({imports:[Zr,Zr]})}return n})(),nfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=jt({type:n,bootstrap:[zle]});static#n=this.\u0275inj=Rt({providers:[T_,Uk],imports:[AL,jle,mle,Pue,oce,fhe,ghe,tfe,uce,$he,nee.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),aee,Uoe,Bse]})}return n})();KQ().bootstrapModule(nfe).catch(n=>console.error(n))},106:(zo,fi,Je)=>{Je.d(fi,{Z:()=>Zn});var I=Je(58),Ce=Je(537),H=Je(534),Ge=Je(879);class In{constructor(it,lt){this._delegate=it,this.firebase=lt,(0,H._addComponent)(it,new Ce.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(it,lt=H._DEFAULT_ENTRY_NAME){var Kn;this._delegate.checkDestroyed();const xi=this._delegate.container.getProvider(it);return!xi.isInitialized()&&"EXPLICIT"===(null===(Kn=xi.getComponent())||void 0===Kn?void 0:Kn.instantiationMode)&&xi.initialize(),xi.getImmediate({identifier:lt})}_removeServiceInstance(it,lt=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(lt)}_addComponent(it){(0,H._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,H._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Vn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Nt(){const Ft=function Ii(Ft){const it={},lt={__esModule:!0,initializeApp:function sn(dt,mi={}){const ee=H.initializeApp(dt,mi);if((0,I.r3)(it,ee.name))return it[ee.name];const xn=new Ft(ee,lt);return it[ee.name]=xn,xn},app:xi,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Lt(dt){const mi=dt.name,ee=mi.replace("-compat","");if(H._registerComponent(dt)&&"PUBLIC"===dt.type){const xn=(Cn=xi())=>{if("function"!=typeof Cn[ee])throw Vn.create("invalid-app-argument",{appName:mi});return Cn[ee]()};void 0!==dt.serviceProps&&(0,I.ZB)(xn,dt.serviceProps),lt[ee]=xn,Ft.prototype[ee]=function(...Cn){return this._getService.bind(this,mi).apply(this,dt.multipleInstances?Cn:[])}}return"PUBLIC"===dt.type?lt[ee]:null},removeApp:function Kn(dt){delete it[dt]},useAsService:function Li(dt,mi){return"serverAuth"===mi?null:mi},modularAPIs:H}};function xi(dt){if(!(0,I.r3)(it,dt=dt||H._DEFAULT_ENTRY_NAME))throw Vn.create("no-app",{appName:dt});return it[dt]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function Tt(){return Object.keys(it).map(dt=>it[dt])}}),xi.App=Ft,lt}(In);return Ft.INTERNAL=Object.assign(Object.assign({},Ft.INTERNAL),{createFirebaseNamespace:Nt,extendNamespace:function it(lt){(0,I.ZB)(Ft,lt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Ft}(),se=new Ge.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ft=self.firebase.SDK_VERSION;Ft&&Ft.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Zn=te;!function xt(Ft){(0,H.registerVersion)("@firebase/app-compat","0.2.23",Ft)}()},534:(zo,fi,Je)=>{Je.r(fi),Je.d(fi,{FirebaseError:()=>Ge.ZR,SDK_VERSION:()=>Ko,_DEFAULT_ENTRY_NAME:()=>fr,_addComponent:()=>_o,_addOrOverwriteComponent:()=>Yi,_apps:()=>mr,_clearComponents:()=>Wo,_components:()=>Go,_getProvider:()=>bs,_registerComponent:()=>vo,_removeServiceInstance:()=>ws,deleteApp:()=>Qr,getApp:()=>Ga,getApps:()=>Wa,initializeApp:()=>El,onLog:()=>ra,registerVersion:()=>Es,setLogLevel:()=>wt});var I=Je(861),Ce=Je(537),H=Je(879),Ge=Je(58);const In=($,L)=>L.some(re=>$ instanceof re);let et,Vn;const te=new WeakMap,se=new WeakMap,Te=new WeakMap,ot=new WeakMap,xt=new WeakMap;let it={get($,L,re){if($ instanceof IDBTransaction){if("done"===L)return se.get($);if("objectStoreNames"===L)return $.objectStoreNames||Te.get($);if("store"===L)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return sn($[L])},set:($,L,re)=>($[L]=re,!0),has:($,L)=>$ instanceof IDBTransaction&&("done"===L||"store"===L)||L in $};function xi($){return"function"==typeof $?function Kn($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nt(){return Vn||(Vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...L){return $.apply(Tt(this),L),sn(te.get(this))}:function(...L){return sn($.apply(Tt(this),L))}:function(L,...re){const ke=$.call(Tt(this),L,...re);return Te.set(ke,L.sort?L.sort():[L]),sn(ke)}}($):($ instanceof IDBTransaction&&function Ft($){if(se.has($))return;const L=new Promise((re,ke)=>{const De=()=>{$.removeEventListener("complete",ht),$.removeEventListener("error",St),$.removeEventListener("abort",St)},ht=()=>{re(),De()},St=()=>{ke($.error||new DOMException("AbortError","AbortError")),De()};$.addEventListener("complete",ht),$.addEventListener("error",St),$.addEventListener("abort",St)});se.set($,L)}($),In($,function Ii(){return et||(et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,it):$)}function sn($){if($ instanceof IDBRequest)return function Zn($){const L=new Promise((re,ke)=>{const De=()=>{$.removeEventListener("success",ht),$.removeEventListener("error",St)},ht=()=>{re(sn($.result)),De()},St=()=>{ke($.error),De()};$.addEventListener("success",ht),$.addEventListener("error",St)});return L.then(re=>{re instanceof IDBCursor&&te.set(re,$)}).catch(()=>{}),xt.set(L,$),L}($);if(ot.has($))return ot.get($);const L=xi($);return L!==$&&(ot.set($,L),xt.set(L,$)),L}const Tt=$=>xt.get($),dt=["get","getKey","getAll","getAllKeys","count"],mi=["put","add","delete","clear"],ee=new Map;function xn($,L){if(!($ instanceof IDBDatabase)||L in $||"string"!=typeof L)return;if(ee.get(L))return ee.get(L);const re=L.replace(/FromIndex$/,""),ke=L!==re,De=mi.includes(re);if(!(re in(ke?IDBIndex:IDBObjectStore).prototype)||!De&&!dt.includes(re))return;const ht=function(){var St=(0,I.Z)(function*(gi,...Pn){const Yo=this.transaction(gi,De?"readwrite":"readonly");let Ka=Yo.store;return ke&&(Ka=Ka.index(Pn.shift())),(yield Promise.all([Ka[re](...Pn),De&&Yo.done]))[0]});return function(Pn){return St.apply(this,arguments)}}();return ee.set(L,ht),ht}!function lt($){it=$(it)}($=>({...$,get:(L,re,ke)=>xn(L,re)||$.get(L,re,ke),has:(L,re)=>!!xn(L,re)||$.has(L,re)}));class Cn{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Nr($){const L=$.getComponent();return"VERSION"===L?.type}(re)){const ke=re.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(re=>re).join(" ")}}const Ho="@firebase/app",Qi=new H.Yd("@firebase/app"),fr="[DEFAULT]",wl={[Ho]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mr=new Map,Go=new Map;function _o($,L){try{$.container.addComponent(L)}catch(re){Qi.debug(`Component ${L.name} failed to register with FirebaseApp ${$.name}`,re)}}function Yi($,L){$.container.addOrOverwriteComponent(L)}function vo($){const L=$.name;if(Go.has(L))return Qi.debug(`There were multiple attempts to register component ${L}.`),!1;Go.set(L,$);for(const re of mr.values())_o(re,$);return!0}function bs($,L){const re=$.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),$.container.getProvider(L)}function ws($,L,re=fr){bs($,L).clearInstance(re)}function Wo(){Go.clear()}const Lr=new Ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(L,re,ke){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const Ko="10.6.0";function El($,L={}){let re=$;"object"!=typeof L&&(L={name:L});const ke=Object.assign({name:fr,automaticDataCollectionEnabled:!1},L),De=ke.name;if("string"!=typeof De||!De)throw Lr.create("bad-app-name",{appName:String(De)});if(re||(re=(0,Ge.aH)()),!re)throw Lr.create("no-options");const ht=mr.get(De);if(ht){if((0,Ge.vZ)(re,ht.options)&&(0,Ge.vZ)(ke,ht.config))return ht;throw Lr.create("duplicate-app",{appName:De})}const St=new Ce.H0(De);for(const Pn of Go.values())St.addComponent(Pn);const gi=new Ci(re,ke,St);return mr.set(De,gi),gi}function Ga($=fr){const L=mr.get($);if(!L&&$===fr&&(0,Ge.aH)())return El();if(!L)throw Lr.create("no-app",{appName:$});return L}function Wa(){return Array.from(mr.values())}function Qr($){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,I.Z)(function*($){const L=$.name;mr.has(L)&&(mr.delete(L),yield Promise.all($.container.getProviders().map(re=>re.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Es($,L,re){var ke;let De=null!==(ke=wl[$])&&void 0!==ke?ke:$;re&&(De+=`-${re}`);const ht=De.match(/\s|\//),St=L.match(/\s|\//);if(ht||St){const gi=[`Unable to register library "${De}" with version "${L}":`];return ht&&gi.push(`library name "${De}" contains illegal characters (whitespace or "/")`),ht&&St&&gi.push("and"),St&&gi.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void Qi.warn(gi.join(" "))}vo(new Ce.wA(`${De}-version`,()=>({library:De,version:L}),"VERSION"))}function ra($,L){if(null!==$&&"function"!=typeof $)throw Lr.create("invalid-log-argument");(0,H.Am)($,L)}function wt($){(0,H.Ub)($)}const Za="firebase-heartbeat-database",Il=1,D="firebase-heartbeat-store";let C=null;function T(){return C||(C=function Lt($,L,{blocked:re,upgrade:ke,blocking:De,terminated:ht}={}){const St=indexedDB.open($,L),gi=sn(St);return ke&&St.addEventListener("upgradeneeded",Pn=>{ke(sn(St.result),Pn.oldVersion,Pn.newVersion,sn(St.transaction),Pn)}),re&&St.addEventListener("blocked",Pn=>re(Pn.oldVersion,Pn.newVersion,Pn)),gi.then(Pn=>{ht&&Pn.addEventListener("close",()=>ht()),De&&Pn.addEventListener("versionchange",Yo=>De(Yo.oldVersion,Yo.newVersion,Yo))}).catch(()=>{}),gi}(Za,Il,{upgrade:($,L)=>{0===L&&$.createObjectStore(D)}}).catch($=>{throw Lr.create("idb-open",{originalErrorMessage:$.message})})),C}function F(){return(F=(0,I.Z)(function*($){try{return yield(yield T()).transaction(D).objectStore(D).get(ut($))}catch(L){if(L instanceof Ge.ZR)Qi.warn(L.message);else{const re=Lr.create("idb-get",{originalErrorMessage:L?.message});Qi.warn(re.message)}}})).apply(this,arguments)}function le($,L){return be.apply(this,arguments)}function be(){return(be=(0,I.Z)(function*($,L){try{const ke=(yield T()).transaction(D,"readwrite");yield ke.objectStore(D).put(L,ut($)),yield ke.done}catch(re){if(re instanceof Ge.ZR)Qi.warn(re.message);else{const ke=Lr.create("idb-set",{originalErrorMessage:re?.message});Qi.warn(ke.message)}}})).apply(this,arguments)}function ut($){return`${$.name}!${$.options.appId}`}class Un{constructor(L){this.container=L,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new yo(re),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var L=this;return(0,I.Z)(function*(){var re;const De=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=st();if(null==(null===(re=L._heartbeatsCache)||void 0===re?void 0:re.heartbeats)&&(L._heartbeatsCache=yield L._heartbeatsCachePromise),L._heartbeatsCache.lastSentHeartbeatDate!==ht&&!L._heartbeatsCache.heartbeats.some(St=>St.date===ht))return L._heartbeatsCache.heartbeats.push({date:ht,agent:De}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(St=>{const gi=new Date(St.date).valueOf();return Date.now()-gi<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,I.Z)(function*(){var re;if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null==(null===(re=L._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||0===L._heartbeatsCache.heartbeats.length)return"";const ke=st(),{heartbeatsToSend:De,unsentEntries:ht}=function Vi($,L=1024){const re=[];let ke=$.slice();for(const De of $){const ht=re.find(St=>St.agent===De.agent);if(ht){if(ht.dates.push(De.date),Qo(re)>L){ht.dates.pop();break}}else if(re.push({agent:De.agent,dates:[De.date]}),Qo(re)>L){re.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:re,unsentEntries:ke}}(L._heartbeatsCache.heartbeats),St=(0,Ge.L)(JSON.stringify({version:2,heartbeats:De}));return L._heartbeatsCache.lastSentHeartbeatDate=ke,ht.length>0?(L._heartbeatsCache.heartbeats=ht,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),St})()}}function st(){return(new Date).toISOString().substring(0,10)}class yo{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,Ge.hl)()&&(0,Ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,I.Z)(function*(){return(yield L._canUseIndexedDBPromise)&&(yield function Z($){return F.apply(this,arguments)}(L.app))||{heartbeats:[]}})()}overwrite(L){var re=this;return(0,I.Z)(function*(){var ke;if(yield re._canUseIndexedDBPromise){const ht=yield re.read();return le(re.app,{lastSentHeartbeatDate:null!==(ke=L.lastSentHeartbeatDate)&&void 0!==ke?ke:ht.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var re=this;return(0,I.Z)(function*(){var ke;if(yield re._canUseIndexedDBPromise){const ht=yield re.read();return le(re.app,{lastSentHeartbeatDate:null!==(ke=L.lastSentHeartbeatDate)&&void 0!==ke?ke:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...L.heartbeats]})}})()}}function Qo($){return(0,Ge.L)(JSON.stringify({version:2,heartbeats:$})).length}!function cu($){vo(new Ce.wA("platform-logger",L=>new Cn(L),"PRIVATE")),vo(new Ce.wA("heartbeat",L=>new Un(L),"PRIVATE")),Es(Ho,"0.9.23",$),Es(Ho,"0.9.23","esm2017"),Es("fire-js","")}("")},537:(zo,fi,Je)=>{Je.d(fi,{H0:()=>Ii,wA:()=>H});var I=Je(861),Ce=Je(58);class H{constructor(te,se,Te){this.name=te,this.instanceFactory=se,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Ge="[DEFAULT]";class In{constructor(te,se){this.name=te,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const se=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(se)){const Te=new Ce.BH;if(this.instancesDeferred.set(se,Te),this.isInitialized(se)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:se});ot&&Te.resolve(ot)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(te){var se;const Te=this.normalizeInstanceIdentifier(te?.identifier),ot=null!==(se=te?.optional)&&void 0!==se&&se;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(xt){if(ot)return null;throw xt}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Vn(Nt){return"EAGER"===Nt.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ge})}catch{}for(const[se,Te]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(se);try{const xt=this.getOrInitializeService({instanceIdentifier:ot});Te.resolve(xt)}catch{}}}}clearInstance(te=Ge){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,I.Z)(function*(){const se=Array.from(te.instances.values());yield Promise.all([...se.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...se.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Ge){return this.instances.has(te)}getOptions(te=Ge){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:se={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:Te,options:se});for(const[xt,Zn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(xt)&&Zn.resolve(ot);return ot}onInit(te,se){var Te;const ot=this.normalizeInstanceIdentifier(se),xt=null!==(Te=this.onInitCallbacks.get(ot))&&void 0!==Te?Te:new Set;xt.add(te),this.onInitCallbacks.set(ot,xt);const Zn=this.instances.get(ot);return Zn&&te(Zn,ot),()=>{xt.delete(te)}}invokeOnInitCallbacks(te,se){const Te=this.onInitCallbacks.get(se);if(Te)for(const ot of Te)try{ot(te,se)}catch{}}getOrInitializeService({instanceIdentifier:te,options:se={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Nt=te,Nt===Ge?void 0:Nt),options:se}),this.instances.set(te,Te),this.instancesOptions.set(te,se),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch{}var Nt;return Te||null}normalizeInstanceIdentifier(te=Ge){return this.component?this.component.multipleInstances?te:Ge:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ii{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const se=this.getProvider(te.name);if(se.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);se.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const se=new In(te,this);return this.providers.set(te,se),se}getProviders(){return Array.from(this.providers.values())}}},879:(zo,fi,Je)=>{Je.d(fi,{Am:()=>Nt,Ub:()=>Ii,Yd:()=>Vn,in:()=>Ce});const I=[];var Ce=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(Ce||{});const H={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Ge=Ce.INFO,In={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},et=(te,se,...Te)=>{if(se<te.logLevel)return;const ot=(new Date).toISOString(),xt=In[se];if(!xt)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[xt](`[${ot}]  ${te.name}:`,...Te)};class Vn{constructor(se){this.name=se,this._logLevel=Ge,this._logHandler=et,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in Ce))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?H[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...se),this._logHandler(this,Ce.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...se),this._logHandler(this,Ce.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...se),this._logHandler(this,Ce.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...se),this._logHandler(this,Ce.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...se),this._logHandler(this,Ce.ERROR,...se)}}function Ii(te){I.forEach(se=>{se.setLogLevel(te)})}function Nt(te,se){for(const Te of I){let ot=null;se&&se.level&&(ot=H[se.level]),Te.userLogHandler=null===te?null:(xt,Zn,...Ft)=>{const it=Ft.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");Zn>=(ot??xt.logLevel)&&te({level:Ce[Zn].toLowerCase(),message:it,args:Ft,type:xt.name})}}}},956:(zo,fi,Je)=>{Je.r(fi);var I=Je(861),Ce=Je(106),H=Je(58),Ge=Je(534),In=Je(879),et=Je(582),Vn=Je(537);const Nt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Zn=function ot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ft=function xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kn=new In.Yd("@firebase/auth");function sn(f,...l){Kn.logLevel<=In.in.ERROR&&Kn.error(`Auth (${Ge.SDK_VERSION}): ${f}`,...l)}function Tt(f,...l){throw mi(f,...l)}function Lt(f,...l){return mi(f,...l)}function Li(f,l,u){const m=Object.assign(Object.assign({},Ft()),{[l]:u});return new H.LL("auth","Firebase",m).create(l,{appName:f.name})}function dt(f,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&Tt(f,"argument-error"),Li(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mi(f,...l){if("string"!=typeof f){const u=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(u,...m)}return it.create(f,...l)}function ee(f,l,...u){if(!f)throw mi(l,...u)}function xn(f){const l="INTERNAL ASSERTION FAILED: "+f;throw sn(l),new Error(l)}function Cn(f,l){f||xn(l)}function Nr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Ho(){return"http:"===go()||"https:"===go()}function go(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Fr{constructor(l,u){this.shortDelay=l,this.longDelay=u,Cn(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Qi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ho()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(f,l){Cn(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class j{static initialize(l,u,m){this.fetchImpl=l,u&&(this.headersImpl=u),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},W=new Fr(3e4,6e4);function ne(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function J(f,l,u,m){return Le.apply(this,arguments)}function Le(){return(Le=(0,I.Z)(function*(f,l,u,m,_={}){return pt(f,_,(0,I.Z)(function*(){let y={},x={};m&&("GET"===l?x=m:y={body:JSON.stringify(m)});const k=(0,H.xO)(Object.assign({key:f.config.apiKey},x)).slice(1),G=yield f._getAdditionalHeaders();return G["Content-Type"]="application/json",f.languageCode&&(G["X-Firebase-Locale"]=f.languageCode),j.fetch()(Rn(f,f.config.apiHost,u,k),Object.assign({method:l,headers:G,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function pt(f,l,u){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,I.Z)(function*(f,l,u){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},Q),l);try{const _=new pi(f),y=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const x=yield y.json();if("needConfirmation"in x)throw Qn(f,"account-exists-with-different-credential",x);if(y.ok&&!("errorMessage"in x))return x;{const k=y.ok?x.errorMessage:x.error.message,[G,fe]=k.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===G)throw Qn(f,"credential-already-in-use",x);if("EMAIL_EXISTS"===G)throw Qn(f,"email-already-in-use",x);if("USER_DISABLED"===G)throw Qn(f,"user-disabled",x);const ye=m[G]||G.toLowerCase().replace(/[_\s]+/g,"-");if(fe)throw Li(f,ye,fe);Tt(f,ye)}}catch(_){if(_ instanceof H.ZR)throw _;Tt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Pe(f,l,u,m){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,I.Z)(function*(f,l,u,m,_={}){const y=yield J(f,l,u,m,_);return"mfaPendingCredential"in y&&Tt(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function Rn(f,l,u,m){const _=`${l}${u}?${m}`;return f.config.emulator?V(f.config,_):`${f.config.apiScheme}://${_}`}function Oe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,m)=>{this.timer=setTimeout(()=>m(Lt(this.auth,"network-request-failed")),W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(f,l,u){const m={appName:f.name};u.email&&(m.email=u.email),u.phoneNumber&&(m.phoneNumber=u.phoneNumber);const _=Lt(f,l,m);return _.customData._tokenResponse=u,_}function ri(f){return void 0!==f&&void 0!==f.getResponse}function Mt(f){return void 0!==f&&void 0!==f.enterprise}class ur{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Oe(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function $o(){return($o=(0,I.Z)(function*(f){return(yield J(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hr(f,l){return qo.apply(this,arguments)}function qo(){return(qo=(0,I.Z)(function*(f,l){return J(f,"GET","/v2/recaptchaConfig",ne(f,l))})).apply(this,arguments)}function fr(){return(fr=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function mr(){return(mr=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function _o(){return(_o=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Yi(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function ws(){return(ws=(0,I.Z)(function*(f,l=!1){const u=(0,H.m9)(f),m=yield u.getIdToken(l),_=Zo(m);ee(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,x=y?.sign_in_provider;return{claims:_,token:m,authTime:Yi(Wo(_.auth_time)),issuedAtTime:Yi(Wo(_.iat)),expirationTime:Yi(Wo(_.exp)),signInProvider:x||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Wo(f){return 1e3*Number(f)}function Zo(f){const[l,u,m]=f.split(".");if(void 0===l||void 0===u||void 0===m)return sn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,H.tV)(u);return _?JSON.parse(_):(sn("Failed to decode base64 JWT payload"),null)}catch(_){return sn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ci(f,l){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,I.Z)(function*(f,l,u=!1){if(u)return l;try{return yield l}catch(m){throw m instanceof H.ZR&&function El({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class Ga{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,I.Z)(function*(){yield u.iteration()}),m)}iteration(){var l=this;return(0,I.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Wa{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qr(f){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,I.Z)(function*(f){var l;const u=f.auth,m=yield f.getIdToken(),_=yield Ci(f,function Go(f,l){return _o.apply(this,arguments)}(u,{idToken:m}));ee(_?.users.length,u,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const x=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Za(f){return f.map(l=>{var{providerId:u}=l,m=(0,et._T)(l,["providerId"]);return{providerId:u,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],k=function wt(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,x),ye=!!f.isAnonymous&&!(f.email&&y.passwordHash||k?.length),we={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:k,metadata:new Wa(y.createdAt,y.lastLoginAt),isAnonymous:ye};Object.assign(f,we)}),Ti.apply(this,arguments)}function ra(){return(ra=(0,I.Z)(function*(f){const l=(0,H.m9)(f);yield Qr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,I.Z)(function*(f,l){const u=yield pt(f,{},(0,I.Z)(function*(){const m=(0,H.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,x=Rn(f,_,"/v1/token",`key=${y}`),k=yield f._getAdditionalHeaders();return k["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(x,{method:"POST",headers:k,body:m})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function T(){return(T=(0,I.Z)(function*(f,l){return J(f,"POST","/v2/accounts:revokeToken",ne(f,l))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ee(l.idToken,"internal-error"),ee(typeof l.idToken<"u","internal-error"),ee(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Lr(f){const l=Zo(f);return ee(l,"internal-error"),ee(typeof l.exp<"u","internal-error"),ee(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var m=this;return(0,I.Z)(function*(){return ee(!m.accessToken||m.refreshToken,l,"user-token-expired"),u||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var m=this;return(0,I.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:x}=yield function Il(f,l){return D.apply(this,arguments)}(l,u);m.updateTokensAndExpiration(_,y,Number(x))})()}updateTokensAndExpiration(l,u,m){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,u){const{refreshToken:m,accessToken:_,expirationTime:y}=u,x=new Z;return m&&(ee("string"==typeof m,"internal-error",{appName:l}),x.refreshToken=m),_&&(ee("string"==typeof _,"internal-error",{appName:l}),x.accessToken=_),y&&(ee("number"==typeof y,"internal-error",{appName:l}),x.expirationTime=y),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return xn("not implemented")}}function F(f,l){ee("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class le{constructor(l){var{uid:u,auth:m,stsTokenManager:_}=l,y=(0,et._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ga(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Wa(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,I.Z)(function*(){const m=yield Ci(u,u.stsTokenManager.getToken(u.auth,l));return ee(m,u.auth,"internal-error"),u.accessToken!==m&&(u.accessToken=m,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),m})()}getIdTokenResult(l){return function bs(f){return ws.apply(this,arguments)}(this,l)}reload(){return function Es(f){return ra.apply(this,arguments)}(this)}_assign(l){this!==l&&(ee(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new le(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var m=this;return(0,I.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),u&&(yield Qr(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,I.Z)(function*(){const u=yield l.getIdToken();return yield Ci(l,function qa(f,l){return fr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var m,_,y,x,k,G,fe,ye;const we=null!==(m=u.displayName)&&void 0!==m?m:void 0,vn=null!==(_=u.email)&&void 0!==_?_:void 0,ko=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,td=null!==(x=u.photoURL)&&void 0!==x?x:void 0,ny=null!==(k=u.tenantId)&&void 0!==k?k:void 0,iy=null!==(G=u._redirectEventId)&&void 0!==G?G:void 0,ry=null!==(fe=u.createdAt)&&void 0!==fe?fe:void 0,oy=null!==(ye=u.lastLoginAt)&&void 0!==ye?ye:void 0,{uid:np,emailVerified:Ea,isAnonymous:ip,providerData:nd,stsTokenManager:id}=u;ee(np&&id,l,"internal-error");const rp=Z.fromJSON(this.name,id);ee("string"==typeof np,l,"internal-error"),F(we,l.name),F(vn,l.name),ee("boolean"==typeof Ea,l,"internal-error"),ee("boolean"==typeof ip,l,"internal-error"),F(ko,l.name),F(td,l.name),F(ny,l.name),F(iy,l.name),F(ry,l.name),F(oy,l.name);const op=new le({uid:np,auth:l,email:vn,emailVerified:Ea,displayName:we,isAnonymous:ip,photoURL:td,phoneNumber:ko,tenantId:ny,stsTokenManager:rp,createdAt:ry,lastLoginAt:oy});return nd&&Array.isArray(nd)&&(op.providerData=nd.map(sy=>Object.assign({},sy))),iy&&(op._redirectEventId=iy),op}static _fromIdTokenResponse(l,u,m=!1){return(0,I.Z)(function*(){const _=new Z;_.updateFromServerResponse(u);const y=new le({uid:u.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield Qr(y),y})()}}const be=new Map;function ut(f){Cn(f instanceof Function,"Expected a class definition");let l=be.get(f);return l?(Cn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,be.set(f,l),l)}const Zt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(u,m){var _=this;return(0,I.Z)(function*(){_.storage[u]=m})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=m.storage[u];return void 0===_?null:_})()}_remove(u){var m=this;return(0,I.Z)(function*(){delete m.storage[u]})()}_addListener(u,m){}_removeListener(u,m){}}return f.type="NONE",f})();function Un(f,l,u){return`firebase:${f}:${l}:${u}`}class st{constructor(l,u,m){this.persistence=l,this.auth=u,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=Un(this.userKey,_.apiKey,y),this.fullPersistenceKey=Un("persistence",_.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,I.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?le._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,I.Z)(function*(){if(u.persistence===l)return;const m=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,m?u.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,m="authUser"){return(0,I.Z)(function*(){if(!u.length)return new st(ut(Zt),l,m);const _=(yield Promise.all(u.map(function(){var fe=(0,I.Z)(function*(ye){if(yield ye._isAvailable())return ye});return function(ye){return fe.apply(this,arguments)}}()))).filter(fe=>fe);let y=_[0]||ut(Zt);const x=Un(m,l.config.apiKey,l.name);let k=null;for(const fe of u)try{const ye=yield fe._get(x);if(ye){const we=le._fromJSON(l,ye);fe!==y&&(k=we),y=fe;break}}catch{}const G=_.filter(fe=>fe._shouldAllowMigration);return y._shouldAllowMigration&&G.length?(y=G[0],k&&(yield y._set(x,k.toJSON())),yield Promise.all(u.map(function(){var fe=(0,I.Z)(function*(ye){if(ye!==y)try{yield ye._remove(x)}catch{}});return function(ye){return fe.apply(this,arguments)}}())),new st(y,l,m)):new st(y,l,m)})()}}function Vi(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if($(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(yo(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(re(l))return"Blackberry";if(ke(l))return"Webos";if(Qo(l))return"Safari";if((l.includes("chrome/")||cu(l))&&!l.includes("edge/"))return"Chrome";if(L(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function yo(f=(0,H.z$)()){return/firefox\//i.test(f)}function Qo(f=(0,H.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function cu(f=(0,H.z$)()){return/crios\//i.test(f)}function $(f=(0,H.z$)()){return/iemobile/i.test(f)}function L(f=(0,H.z$)()){return/android/i.test(f)}function re(f=(0,H.z$)()){return/blackberry/i.test(f)}function ke(f=(0,H.z$)()){return/webos/i.test(f)}function De(f=(0,H.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Pn(f=(0,H.z$)()){return De(f)||L(f)||ke(f)||re(f)||/windows phone/i.test(f)||$(f)}function Ka(f,l=[]){let u;switch(f){case"Browser":u=Vi((0,H.z$)());break;case"Worker":u=`${Vi((0,H.z$)())}-${f}`;break;default:u=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${Ge.SDK_VERSION}/${m}`}class DE{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const m=y=>new Promise((x,k)=>{try{x(l(y))}catch(G){k(G)}});m.onAbort=u,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,I.Z)(function*(){if(u.auth.currentUser===l)return;const m=[];try{for(const _ of u.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Wf(){return(Wf=(0,I.Z)(function*(f,l={}){return J(f,"GET","/v2/passwordPolicy",ne(f,l))})).apply(this,arguments)}class Qa{constructor(l){var u,m,_,y;const x=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=x.minPasswordLength)&&void 0!==u?u:6,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),void 0!==x.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),void 0!==x.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),void 0!==x.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),void 0!==x.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,m,_,y,x,k;const G={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,G),this.validatePasswordCharacterOptions(l,G),G.isValid&&(G.isValid=null===(u=G.meetsMinPasswordLength)||void 0===u||u),G.isValid&&(G.isValid=null===(m=G.meetsMaxPasswordLength)||void 0===m||m),G.isValid&&(G.isValid=null===(_=G.containsLowercaseLetter)||void 0===_||_),G.isValid&&(G.isValid=null===(y=G.containsUppercaseLetter)||void 0===y||y),G.isValid&&(G.isValid=null===(x=G.containsNumericCharacter)||void 0===x||x),G.isValid&&(G.isValid=null===(k=G.containsNonAlphanumericCharacter)||void 0===k||k),G}validatePasswordLengthOptions(l,u){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(u.meetsMinPasswordLength=l.length>=m),_&&(u.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,u){let m;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,u,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class bo{constructor(l,u,m,_){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new DE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,u){var m=this;return u&&(this._popupRedirectResolver=ut(u)),this._initializationPromise=this.queue((0,I.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield st.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(u),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,I.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,I.Z)(function*(){var m;const _=yield u.assertedPersistence.getCurrentUser();let y=_,x=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const k=null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId,G=y?._redirectEventId,fe=yield u.tryRedirectSignIn(l);(!k||k===G)&&fe?.user&&(y=fe.user,x=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(x)try{yield u.beforeStateQueue.runMiddleware(y)}catch(k){y=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(k))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return ee(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var u=this;return(0,I.Z)(function*(){let m=null;try{m=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,I.Z)(function*(){try{yield Qr(l)}catch(m){if("auth/network-request-failed"!==m?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function $a(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,I.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,I.Z)(function*(){const m=l?(0,H.m9)(l):null;return m&&ee(m.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(m&&m._clone(u))})()}_updateCurrentUser(l,u=!1){var m=this;return(0,I.Z)(function*(){if(!m._deleted)return l&&ee(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),u||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,I.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,I.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,I.Z)(function*(){yield u.assertedPersistence.setPersistence(ut(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,I.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const m=u._getPasswordPolicyInternal();return m.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,I.Z)(function*(){const u=yield function Xo(f){return Wf.apply(this,arguments)}(l),m=new Qa(u);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new H.LL("auth","Firebase",l())}onAuthStateChanged(l,u,m){return this.registerStateListener(this.authStateSubscription,l,u,m)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,m){return this.registerStateListener(this.idTokenSubscription,l,u,m)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,I.Z)(function*(){if(u.currentUser){const m=yield u.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:m};null!=u.tenantId&&(_.tenantId=u.tenantId),yield function C(f,l){return T.apply(this,arguments)}(u,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var m=this;return(0,I.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(u);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,I.Z)(function*(){if(!u.redirectPersistenceManager){const m=l&&ut(l)||u._popupRedirectResolver;ee(m,u,"argument-error"),u.redirectPersistenceManager=yield st.create(u,[ut(m._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,I.Z)(function*(){var m,_;return u._isInitialized&&(yield u.queue((0,I.Z)(function*(){}))),(null===(m=u._currentUser)||void 0===m?void 0:m._redirectEventId)===l?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,I.Z)(function*(){if(l===u.currentUser)return u.queue((0,I.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,m,_){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let x=!1;const k=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(k,this,"internal-error"),k.then(()=>{x||y(this.currentUser)}),"function"==typeof u){const G=l.addObserver(u,m,_);return()=>{x=!0,G()}}{const G=l.addObserver(u);return()=>{x=!0,G()}}}directlySetCurrentUser(l){var u=this;return(0,I.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ka(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,I.Z)(function*(){var u;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,I.Z)(function*(){var u;const m=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return m?.error&&function xi(f,...l){Kn.logLevel<=In.in.WARN&&Kn.warn(`Auth (${Ge.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function un(f){return(0,H.m9)(f)}class Z_{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,H.ne)(u=>this.observer=u)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xl(f){return new Promise((l,u)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=Lt("internal-error");y.customData=_,u(y)},m.type="text/javascript",m.charset="UTF-8",function K_(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function Zf(f){return`__${f}${Math.floor(1e6*Math.random())}`}class sa{constructor(l){this.type="recaptcha-enterprise",this.auth=un(l)}verify(l="verify",u=!1){var m=this;return(0,I.Z)(function*(){function y(){return y=(0,I.Z)(function*(k){if(!u){if(null==k.tenantId&&null!=k._agentRecaptchaConfig)return k._agentRecaptchaConfig.siteKey;if(null!=k.tenantId&&void 0!==k._tenantRecaptchaConfigs[k.tenantId])return k._tenantRecaptchaConfigs[k.tenantId].siteKey}return new Promise(function(){var G=(0,I.Z)(function*(fe,ye){hr(k,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(we=>{if(void 0!==we.recaptchaKey){const vn=new ur(we);return null==k.tenantId?k._agentRecaptchaConfig=vn:k._tenantRecaptchaConfigs[k.tenantId]=vn,fe(vn.siteKey)}ye(new Error("recaptcha Enterprise site key undefined"))}).catch(we=>{ye(we)})});return function(fe,ye){return G.apply(this,arguments)}}())}),y.apply(this,arguments)}function x(k,G,fe){const ye=window.grecaptcha;Mt(ye)?ye.enterprise.ready(()=>{ye.enterprise.execute(k,{action:l}).then(we=>{G(we)}).catch(()=>{G("NO_RECAPTCHA")})}):fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((k,G)=>{(function _(k){return y.apply(this,arguments)})(m.auth).then(fe=>{if(!u&&Mt(window.grecaptcha))x(fe,k,G);else{if(typeof window>"u")return void G(new Error("RecaptchaVerifier is only supported in browser"));xl("https://www.google.com/recaptcha/enterprise.js?render="+fe).then(()=>{x(fe,k,G)}).catch(ye=>{G(ye)})}}).catch(fe=>{G(fe)})})})()}}function Q_(f,l,u){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,I.Z)(function*(f,l,u,m=!1){const _=new sa(f);let y;try{y=yield _.verify(u)}catch{y=yield _.verify(u,!0)}const x=Object.assign({},l);return Object.assign(x,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}function Tl(f,l,u,m){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,I.Z)(function*(f,l,u,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield Q_(f,l,u,"getOobCode"===u);return m(f,y)}return m(f,l).catch(function(){var y=(0,I.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const k=yield Q_(f,l,u,"getOobCode"===u);return m(f,k)}return Promise.reject(x)});return function(x){return y.apply(this,arguments)}}())}),Qf.apply(this,arguments)}function Xi(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function Dl(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class qt{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return xn("not implemented")}_getIdTokenResponse(l){return xn("not implemented")}_linkToIdToken(l,u){return xn("not implemented")}_getReauthenticationResolver(l){return xn("not implemented")}}function Sl(f,l){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:resetPassword",ne(f,l))})).apply(this,arguments)}function Xa(){return(Xa=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function jn(f,l){return Al.apply(this,arguments)}function Al(){return(Al=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function em(){return(em=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",ne(f,l))})).apply(this,arguments)}function Bt(f,l){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithPassword",ne(f,l))})).apply(this,arguments)}function aa(f,l){return kl.apply(this,arguments)}function kl(){return(kl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendOobCode",ne(f,l))})).apply(this,arguments)}function lu(){return(lu=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function U(f,l){return Is.apply(this,arguments)}function Is(){return(Is=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function Ml(f,l){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function du(){return(du=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function ca(){return(ca=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}function We(){return(We=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}class _t extends qt{constructor(l,u,m,_=null){super("password",m),this._email=l,this._password=u,this._tenantId=_}static _fromEmailAndPassword(l,u){return new _t(l,u,"password")}static _fromEmailAndCode(l,u,m=null){return new _t(l,u,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,I.Z)(function*(){switch(u.signInMethod){case"password":return Tl(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Bt);case"emailLink":return function Jo(f,l){return ca.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:Tt(l,"internal-error")}})()}_linkToIdToken(l,u){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return Tl(l,{idToken:u,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jn);case"emailLink":return function X_(f,l){return We.apply(this,arguments)}(l,{idToken:u,email:m._email,oobCode:m._password});default:Tt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function xs(f,l){return nm.apply(this,arguments)}function nm(){return(nm=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithIdp",ne(f,l))})).apply(this,arguments)}class es extends qt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new es(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):Tt("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=u,y=(0,et._T)(u,["providerId","signInMethod"]);if(!m||!_)return null;const x=new es(m,_);return x.idToken=y.idToken||void 0,x.accessToken=y.accessToken||void 0,x.secret=y.secret,x.nonce=y.nonce,x.pendingToken=y.pendingToken||null,x}_getIdTokenResponse(l){return xs(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,xs(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,xs(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,H.xO)(u)}return l}}function Pl(){return(Pl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendVerificationCode",ne(f,l))})).apply(this,arguments)}function J_(){return(J_=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l))})).apply(this,arguments)}function ev(){return(ev=(0,I.Z)(function*(f,l){const u=yield Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l));if(u.temporaryProof)throw Qn(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Cs={USER_NOT_FOUND:"user-not-found"};function tv(){return(tv=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Cs)})).apply(this,arguments)}class Ja extends qt{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new Ja({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new Ja({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function pr(f,l){return J_.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function RE(f,l){return ev.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function IM(f,l){return tv.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:m,verificationCode:_}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||u||_||y?new Ja({verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class uu{constructor(l){var u,m,_,y,x,k;const G=(0,H.zd)((0,H.pd)(l)),fe=null!==(u=G.apiKey)&&void 0!==u?u:null,ye=null!==(m=G.oobCode)&&void 0!==m?m:null,we=function xM(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=G.mode)&&void 0!==_?_:null);ee(fe&&ye&&we,"argument-error"),this.apiKey=fe,this.operation=we,this.code=ye,this.continueUrl=null!==(y=G.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(x=G.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(k=G.tenantId)&&void 0!==k?k:null}static parseLink(l){const u=function PE(f){const l=(0,H.zd)((0,H.pd)(f)).link,u=l?(0,H.zd)((0,H.pd)(l)).deep_link_id:null,m=(0,H.zd)((0,H.pd)(f)).deep_link_id;return(m?(0,H.zd)((0,H.pd)(m)).link:null)||m||u||l||f}(l);try{return new uu(u)}catch{return null}}}let nv=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,m){return _t._fromEmailAndPassword(u,m)}static credentialWithLink(u,m){const _=uu.parseLink(m);return ee(_,"argument-error"),_t._fromEmailAndCode(u,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Tn{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Ne extends Tn{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Ol extends Ne{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return ee("providerId"in u&&"signInMethod"in u,"argument-error"),es._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ee(l.idToken||l.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Ol.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Ol.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:x,providerId:k}=l;if(!m&&!_&&!u&&!y||!k)return null;try{return new Ol(k)._credential({idToken:u,accessToken:m,nonce:x,pendingToken:y})}catch{return null}}}let OE=(()=>{class f extends Ne{constructor(){super("facebook.com")}static credential(u){return es._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),NE=(()=>{class f extends Ne{constructor(){super("google.com"),this.addScope("profile")}static credential(u,m){return es._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_}=u;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),FE=(()=>{class f extends Ne{constructor(){super("github.com")}static credential(u){return es._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Nl extends qt{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return xs(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,xs(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,xs(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=u;return m&&_&&y&&m===_?new Nl(m,y):null}static _create(l,u){return new Nl(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class la extends Tn{constructor(l){ee(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return la.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return la.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Nl.fromJSON(l);return ee(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:m}=l;if(!u||!m)return null;try{return Nl._create(m,u)}catch{return null}}}let iv=(()=>{class f extends Ne{constructor(){super("twitter.com")}static credential(u,m){return es._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=u;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function im(f,l){return rm.apply(this,arguments)}function rm(){return(rm=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signUp",ne(f,l))})).apply(this,arguments)}class Bi{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,m,_=!1){return(0,I.Z)(function*(){const y=yield le._fromIdTokenResponse(l,m,_),x=Fl(m);return new Bi({user:y,providerId:x,_tokenResponse:m,operationType:u})})()}static _forOperation(l,u,m){return(0,I.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=Fl(m);return new Bi({user:l,providerId:_,_tokenResponse:m,operationType:u})})()}}function Fl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function hu(){return(hu=(0,I.Z)(function*(f){var l;const u=un(f);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new Bi({user:u.currentUser,providerId:null,operationType:"signIn"});const m=yield im(u,{returnSecureToken:!0}),_=yield Bi._fromIdTokenResponse(u,"signIn",m,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class fu extends H.ZR{constructor(l,u,m,_){var y;super(u.code,u.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,fu.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,u,m,_){return new fu(l,u,m,_)}}function ft(f,l,u,m){return("reauthenticate"===l?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?fu._fromErrorAndOperation(f,y,l,m):y})}function mu(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Di(){return Di=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f);yield Ut(!0,u,l);const{providerUserInfo:m}=yield function wl(f,l){return mr.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),_=mu(m||[]);return u.providerData=u.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Di.apply(this,arguments)}function pu(f,l){return ov.apply(this,arguments)}function ov(){return(ov=(0,I.Z)(function*(f,l,u=!1){const m=yield Ci(f,l._linkToIdToken(f.auth,yield f.getIdToken()),u);return Bi._forOperation(f,"link",m)})).apply(this,arguments)}function Ut(f,l,u){return sv.apply(this,arguments)}function sv(){return(sv=(0,I.Z)(function*(f,l,u){yield Qr(l);const _=!1===f?"provider-already-linked":"no-such-provider";ee(mu(l.providerData).has(u)===f,l.auth,_)})).apply(this,arguments)}function LE(f,l){return X.apply(this,arguments)}function X(){return(X=(0,I.Z)(function*(f,l,u=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield Ci(f,ft(m,_,l,f),u);ee(y.idToken,m,"internal-error");const x=Zo(y.idToken);ee(x,m,"internal-error");const{sub:k}=x;return ee(f.uid===k,m,"user-mismatch"),Bi._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&Tt(m,"user-mismatch"),y}})).apply(this,arguments)}function gu(f,l){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,I.Z)(function*(f,l,u=!1){const m="signIn",_=yield ft(f,m,l),y=yield Bi._fromIdTokenResponse(f,m,_);return u||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function Vl(f,l){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,I.Z)(function*(f,l){return gu(un(f),l)})).apply(this,arguments)}function av(f,l){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f);return yield Ut(!1,u,l.providerId),pu(u,l)})).apply(this,arguments)}function VE(f,l){return cv.apply(this,arguments)}function cv(){return(cv=(0,I.Z)(function*(f,l){return LE((0,H.m9)(f),l)})).apply(this,arguments)}function lv(){return(lv=(0,I.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithCustomToken",ne(f,l))})).apply(this,arguments)}function da(){return da=(0,I.Z)(function*(f,l){const u=un(f),m=yield function TM(f,l){return lv.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),_=yield Bi._fromIdTokenResponse(u,"signIn",m);return yield u._updateCurrentUser(_.user),_}),da.apply(this,arguments)}class ua{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?ec._fromServerResponse(l,u):"totpInfo"in u?sm._fromServerResponse(l,u):Tt(l,"internal-error")}}class ec extends ua{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new ec(u)}}class sm extends ua{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new sm(u)}}function _u(f,l,u){var m;ee((null===(m=u.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),ee(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ee(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(ee(u.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function am(f){return vu.apply(this,arguments)}function vu(){return(vu=(0,I.Z)(function*(f){const l=un(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function cm(){return(cm=(0,I.Z)(function*(f,l,u){const m=un(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&_u(m,_,u),yield Tl(m,_,"getOobCode",U)})).apply(this,arguments)}function lm(){return lm=(0,I.Z)(function*(f,l,u){yield Sl((0,H.m9)(f),{oobCode:l,newPassword:u}).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&am(f),_});return function(_){return m.apply(this,arguments)}}())}),lm.apply(this,arguments)}function yu(){return yu=(0,I.Z)(function*(f,l){yield function wM(f,l){return em.apply(this,arguments)}((0,H.m9)(f),{oobCode:l})}),yu.apply(this,arguments)}function ae(f,l){return nc.apply(this,arguments)}function nc(){return(nc=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f),m=yield Sl(u,{oobCode:l}),_=m.requestType;switch(ee(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(m.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(m.mfaInfo,u,"internal-error");default:ee(m.email,u,"internal-error")}let y=null;return m.mfaInfo&&(y=ua._fromServerResponse(un(u),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function ha(){return(ha=(0,I.Z)(function*(f,l){const{data:u}=yield ae((0,H.m9)(f),l);return u.email})).apply(this,arguments)}function um(){return(um=(0,I.Z)(function*(f,l,u){const m=un(f),x=yield Tl(m,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",im).catch(G=>{throw"auth/password-does-not-meet-requirements"===G.code&&am(f),G}),k=yield Bi._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}function ic(){return(ic=(0,I.Z)(function*(f,l,u){const m=un(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(x,k){ee(k.handleCodeInApp,m,"argument-error"),k&&_u(m,x,k)})(_,u),yield Tl(m,_,"getOobCode",Ml)})).apply(this,arguments)}function Et(){return(Et=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),_=nv.credentialWithLink(l,u||Nr());return ee(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Vl(m,_)})).apply(this,arguments)}function jl(){return(jl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:createAuthUri",ne(f,l))})).apply(this,arguments)}function bu(){return bu=(0,I.Z)(function*(f,l){const m={identifier:l,continueUri:Ho()?Nr():"http://localhost"},{signinMethods:_}=yield function dv(f,l){return jl.apply(this,arguments)}((0,H.m9)(f),m);return _||[]}),bu.apply(this,arguments)}function wu(){return wu=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&_u(u.auth,_,l);const{email:y}=yield function EM(f,l){return lu.apply(this,arguments)}(u.auth,_);y!==f.email&&(yield f.reload())}),wu.apply(this,arguments)}function hm(){return hm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};u&&_u(m.auth,y,u);const{email:x}=yield function tm(f,l){return du.apply(this,arguments)}(m.auth,y);x!==f.email&&(yield f.reload())}),hm.apply(this,arguments)}function fm(){return(fm=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function gr(){return gr=(0,I.Z)(function*(f,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const m=(0,H.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},x=yield Ci(m,function fv(f,l){return fm.apply(this,arguments)}(m.auth,y));m.displayName=x.displayName||null,m.photoURL=x.photoUrl||null;const k=m.providerData.find(({providerId:G})=>"password"===G);k&&(k.displayName=m.displayName,k.photoURL=m.photoURL),yield m._updateTokensIfNecessary(x)}),gr.apply(this,arguments)}function pv(f,l,u){return mm.apply(this,arguments)}function mm(){return mm=(0,I.Z)(function*(f,l,u){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),u&&(y.password=u);const x=yield Ci(f,function Vt(f,l){return Xa.apply(this,arguments)}(m,y));yield f._updateTokensIfNecessary(x,!0)}),mm.apply(this,arguments)}class rc{constructor(l,u,m={}){this.isNewUser=l,this.providerId=u,this.profile=m}}class pm extends rc{constructor(l,u,m,_){super(l,u,m),this.username=_}}class $E extends rc{constructor(l,u){super(l,"facebook.com",u)}}class qE extends pm{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class GE extends rc{constructor(l,u){super(l,"google.com",u)}}class On extends pm{constructor(l,u,m){super(l,"twitter.com",u,m)}}function WE(f){const{user:l,_tokenResponse:u}=f;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function HE(f){var l,u;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const x=null===(u=null===(l=Zo(f.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(x)return new rc(y,"anonymous"!==x&&"custom"!==x?x:null)}if(!m)return null;switch(m){case"facebook.com":return new $E(y,_);case"github.com":return new qE(y,_);case"google.com":return new GE(y,_);case"twitter.com":return new On(y,_,f.screenName||null);case"custom":case"anonymous":return new rc(y,null);default:return new rc(y,m,_)}}(u)}class ma{constructor(l,u,m){this.type=l,this.credential=u,this.user=m}static _fromIdtoken(l,u){return new ma("enroll",l,u)}static _fromMfaPendingCredential(l){return new ma("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,m;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return ma._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return ma._fromIdtoken(l.multiFactorSession.idToken)}return null}}class gm{constructor(l,u,m){this.session=l,this.hints=u,this.signInResolver=m}static _fromError(l,u){const m=un(l),_=u.customData._serverResponse,y=(_.mfaInfo||[]).map(k=>ua._fromServerResponse(m,k));ee(_.mfaPendingCredential,m,"internal-error");const x=ma._fromMfaPendingCredential(_.mfaPendingCredential);return new gm(x,y,function(){var k=(0,I.Z)(function*(G){const fe=yield G._process(m,x);delete _.mfaInfo,delete _.mfaPendingCredential;const ye=Object.assign(Object.assign({},_),{idToken:fe.idToken,refreshToken:fe.refreshToken});switch(u.operationType){case"signIn":const we=yield Bi._fromIdTokenResponse(m,u.operationType,ye);return yield m._updateCurrentUser(we.user),we;case"reauthenticate":return ee(u.user,m,"internal-error"),Bi._forOperation(u.user,u.operationType,ye);default:Tt(m,"internal-error")}});return function(G){return k.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,I.Z)(function*(){return u.signInResolver(l)})()}}class Vr{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(m=>ua._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new Vr(l)}getSession(){var l=this;return(0,I.Z)(function*(){return ma._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var m=this;return(0,I.Z)(function*(){const _=l,y=yield m.getSession(),x=yield Ci(m.user,_._process(m.user.auth,y,u));return yield m.user._updateTokensIfNecessary(x),m.user.reload()})()}unenroll(l){var u=this;return(0,I.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield u.user.getIdToken();try{const y=yield Ci(u.user,function Ai(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(f,l))}(u.user.auth,{idToken:_,mfaEnrollmentId:m}));u.enrolledFactors=u.enrolledFactors.filter(({uid:x})=>x!==m),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Ds=new WeakMap,si="__sak";class pa{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(si,"1"),this.storage.removeItem(si),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const en=(()=>{class f extends pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,m)=>this.onStorageEvent(u,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ye(){const f=(0,H.z$)();return Qo(f)||De(f)}()&&function Yo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&u(m,y,_)}}onStorageEvent(u,m=!1){if(!u.key)return void this.forAllChangedKeys((k,G,fe)=>{this.notifyListeners(k,fe)});const _=u.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const k=this.storage.getItem(_);if(u.newValue!==k)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!m)return}const y=()=>{const k=this.storage.getItem(_);!m&&this.localCache[_]===k||this.notifyListeners(_,k)},x=this.storage.getItem(_);!function gi(){return(0,H.w1)()&&10===document.documentMode}()||x===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,m){var _=()=>super._set,y=this;return(0,I.Z)(function*(){yield _().call(y,u,m),y.localCache[u]=JSON.stringify(m)})()}_get(u){var m=()=>super._get,_=this;return(0,I.Z)(function*(){const y=yield m().call(_,u);return _.localCache[u]=JSON.stringify(y),y})()}_remove(u){var m=()=>super._remove,_=this;return(0,I.Z)(function*(){yield m().call(_,u),delete _.localCache[u]})()}}return f.type="LOCAL",f})(),_r=(()=>{class f extends pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,m){}_removeListener(u,m){}}return f.type="SESSION",f})();let ql=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const m=this.receivers.find(y=>y.isListeningto(u));if(m)return m;const _=new f(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var m=this;return(0,I.Z)(function*(){const _=u,{eventId:y,eventType:x,data:k}=_.data,G=m.handlersMap[x];if(!G?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:x});const fe=Array.from(G).map(function(){var we=(0,I.Z)(function*(vn){return vn(_.origin,k)});return function(vn){return we.apply(this,arguments)}}()),ye=yield function Eo(f){return Promise.all(f.map(function(){var l=(0,I.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(m){return{fulfilled:!1,reason:m}}});return function(u){return l.apply(this,arguments)}}()))}(fe);_.ports[0].postMessage({status:"done",eventId:y,eventType:x,response:ye})})()}_subscribe(u,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(m)}_unsubscribe(u,m){this.handlersMap[u]&&m&&this.handlersMap[u].delete(m),(!m||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function sc(f="",l=10){let u="";for(let m=0;m<l;m++)u+=Math.floor(10*Math.random());return f+u}class Ss{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,m=50){var _=this;return(0,I.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let x,k;return new Promise((G,fe)=>{const ye=sc("",20);y.port1.start();const we=setTimeout(()=>{fe(new Error("unsupported_event"))},m);k={messageChannel:y,onMessage(vn){const ko=vn;if(ko.data.eventId===ye)switch(ko.data.status){case"ack":clearTimeout(we),x=setTimeout(()=>{fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),G(ko.data.response);break;default:clearTimeout(we),clearTimeout(x),fe(new Error("invalid_response"))}}},_.handlers.add(k),y.port1.addEventListener("message",k.onMessage),_.target.postMessage({eventType:l,eventId:ye,data:u},[y.port2])}).finally(()=>{k&&_.removeMessageHandler(k)})})()}}function _n(){return window}function Ue(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function Iu(){return(Iu=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gl="firebaseLocalStorageDb",As="firebaseLocalStorage",Sn="fbase_key";class Nn{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function Fn(f,l){return f.transaction([As],l?"readwrite":"readonly").objectStore(As)}function ns(){const f=indexedDB.open(Gl,1);return new Promise((l,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(As,{keyPath:Sn})}catch(_){u(_)}}),f.addEventListener("success",(0,I.Z)(function*(){const m=f.result;m.objectStoreNames.contains(As)?l(m):(m.close(),yield function ym(){const f=indexedDB.deleteDatabase(Gl);return new Nn(f).toPromise()}(),l(yield ns()))}))})}function Wl(f,l,u){return vr.apply(this,arguments)}function vr(){return(vr=(0,I.Z)(function*(f,l,u){const m=Fn(f,!0).put({[Sn]:l,value:u});return new Nn(m).toPromise()})).apply(this,arguments)}function wm(){return(wm=(0,I.Z)(function*(f,l){const u=Fn(f,!1).get(l),m=yield new Nn(u).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function _v(f,l){const u=Fn(f,!0).delete(l);return new Nn(u).toPromise()}const ks=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,I.Z)(function*(){return u.db||(u.db=yield ns()),u.db})()}_withRetries(u){var m=this;return(0,I.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield u(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,I.Z)(function*(){return Ue()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,I.Z)(function*(){u.receiver=ql._getInstance(function Io(){return Ue()?self:null}()),u.receiver._subscribe("keyChanged",function(){var m=(0,I.Z)(function*(_,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var m=(0,I.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,I.Z)(function*(){var m,_;if(u.activeServiceWorker=yield function _m(){return Iu.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Ss(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var m=this;return(0,I.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function vm(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:u},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const u=yield ns();return yield Wl(u,si,"1"),yield _v(u,si),!0}catch{}return!1})()}_withPendingWrite(u){var m=this;return(0,I.Z)(function*(){m.pendingWrites++;try{yield u()}finally{m.pendingWrites--}})()}_set(u,m){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(y=>Wl(y,u,m)),_.localCache[u]=m,_.notifyServiceWorker(u)}))})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=yield m._withRetries(y=>function bm(f,l){return wm.apply(this,arguments)}(y,u));return m.localCache[u]=_,_})()}_remove(u){var m=this;return(0,I.Z)(function*(){return m._withPendingWrite((0,I.Z)(function*(){return yield m._withRetries(_=>_v(_,u)),delete m.localCache[u],m.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,I.Z)(function*(){const m=yield u._withRetries(x=>{const k=Fn(x,!1).getAll();return new Nn(k).toPromise()});if(!m)return[];if(0!==u.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:x,value:k}of m)y.add(x),JSON.stringify(u.localCache[x])!==JSON.stringify(k)&&(u.notifyListeners(x,k),_.push(x));for(const x of Object.keys(u.localCache))u.localCache[x]&&!y.has(x)&&(u.notifyListeners(x,null),_.push(x));return _})()}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Im=1e12;class NM{constructor(l){this.auth=l,this.counter=Im,this._widgets=new Map}render(l,u){const m=this.counter;return this._widgets.set(m,new FM(l,this.auth.name,u||{})),this.counter++,m}reset(l){var u;const m=l||Im;null===(u=this._widgets.get(m))||void 0===u||u.delete(),this._widgets.delete(m)}getResponse(l){var u;return(null===(u=this._widgets.get(l||Im))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,I.Z)(function*(){var m;return null===(m=u._widgets.get(l||Im))||void 0===m||m.execute(),""})()}}class FM{constructor(l,u,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;ee(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function LM(f){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yv=Zf("rcb"),VM=new Fr(3e4,6e4);class bv{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=_n().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return ee(function wv(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&ri(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((m,_)=>{const y=_n().setTimeout(()=>{_(Lt(l,"network-request-failed"))},VM.get());_n()[yv]=()=>{_n().clearTimeout(y),delete _n()[yv];const k=_n().grecaptcha;if(!k||!ri(k))return void _(Lt(l,"internal-error"));const G=k.render;k.render=(fe,ye)=>{const we=G(fe,ye);return this.counter++,we},this.hostLanguage=u,m(k)},xl(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:yv,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),_(Lt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=_n().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class UM{load(l){return(0,I.Z)(function*(){return new NM(l)})()}clearedOneInstance(){}}const YE="recaptcha",jM={theme:"light",type:"image"};class zM{constructor(l,u,m=Object.assign({},jM)){this.parameters=m,this.type=YE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(l),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;ee(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new UM:new bv,this.validateStartingState()}verify(){var l=this;return(0,I.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(u)||new Promise(y=>{const x=k=>{k&&(l.tokenChangeListeners.delete(x),y(k))};l.tokenChangeListeners.add(x),l.isInvisible&&m.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(m=>m(u)),"function"==typeof l)l(u);else if("string"==typeof l){const m=_n()[l];"function"==typeof m&&m(u)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,I.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const m=document.createElement("div");u.appendChild(m),u=m}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,I.Z)(function*(){ee(Ho()&&!Ue(),l.auth,"internal-error"),yield function _a(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function bl(f){return $o.apply(this,arguments)}(l.auth);ee(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xm{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=Ja._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function xu(){return(xu=(0,I.Z)(function*(f,l,u){const m=un(f),_=yield Tu(m,l,(0,H.m9)(u));return new xm(_,y=>Vl(m,y))})).apply(this,arguments)}function Cm(){return(Cm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);yield Ut(!1,m,"phone");const _=yield Tu(m.auth,l,(0,H.m9)(u));return new xm(_,y=>av(m,y))})).apply(this,arguments)}function Cu(){return(Cu=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),_=yield Tu(m.auth,l,(0,H.m9)(u));return new xm(_,y=>VE(m,y))})).apply(this,arguments)}function Tu(f,l,u){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,I.Z)(function*(f,l,u){var m;const _=yield u.verify();try{let y;if(ee("string"==typeof _,f,"argument-error"),ee(u.type===YE,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const x=y.session;if("phoneNumber"in y)return ee("enroll"===x.type,f,"internal-error"),(yield function de(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:start",ne(f,l))}(f,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ee("signin"===x.type,f,"internal-error");const k=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return ee(k,f,"missing-multi-factor-info"),(yield function kM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:start",ne(f,l))}(f,{mfaPendingCredential:x.credential,mfaEnrollmentId:k,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function ME(f,l){return Pl.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return x}}finally{u._reset()}}),Zl.apply(this,arguments)}function Br(){return(Br=(0,I.Z)(function*(f,l){yield pu((0,H.m9)(f),l)})).apply(this,arguments)}let cc=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=un(u)}verifyPhoneNumber(u,m){return Tu(this.auth,u,(0,H.m9)(m))}static credential(u,m){return Ja._fromVerification(u,m)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:m,temporaryProof:_}=u;return m&&_?Ja._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Ms(f,l){return l?ut(l):(ee(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Gt extends qt{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return xs(l,this._buildIdpRequest())}_linkToIdToken(l,u){return xs(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return xs(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Tm(f){return gu(f.auth,new Gt(f),f.bypassAuthState)}function Kl(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),LE(u,new Gt(f),f.bypassAuthState)}function ji(f){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,I.Z)(function*(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),pu(u,new Gt(f),f.bypassAuthState)})).apply(this,arguments)}class lc{constructor(l,u,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,I.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,I.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:x,error:k,type:G}=l;if(k)return void u.reject(k);const fe={auth:u.auth,requestUri:m,sessionId:_,tenantId:x||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(G)(fe))}catch(ye){u.reject(ye)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Tm;case"linkViaPopup":case"linkViaRedirect":return ji;case"reauthViaPopup":case"reauthViaRedirect":return Kl;default:Tt(this.auth,"internal-error")}}resolve(l){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dc=new Fr(2e3,1e4);function Sm(){return(Sm=(0,I.Z)(function*(f,l,u){const m=un(f);dt(f,l,Tn);const _=Ms(m,u);return new Mm(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function km(){return(km=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);dt(m.auth,l,Tn);const _=Ms(m.auth,u);return new Mm(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function Du(){return(Du=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);dt(m.auth,l,Tn);const _=Ms(m.auth,u);return new Mm(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let Mm=(()=>{class f extends lc{constructor(u,m,_,y,x){super(u,m,y,x),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,I.Z)(function*(){const m=yield u.execute();return ee(m,u.auth,"internal-error"),m})()}onExecution(){var u=this;return(0,I.Z)(function*(){Cn(1===u.filter.length,"Popup operations only handle one event");const m=sc();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],m),u.authWindow.associatedEvent=m,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(Lt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,dc.get())};u()}}return f.currentPopupAction=null,f})();const Iv="pendingRedirect",uc=new Map;class Su extends lc{constructor(l,u,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,I.Z)(function*(){let m=uc.get(u.auth._key());if(!m){try{const y=(yield function Au(f,l){return Ql.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}uc.set(u.auth._key(),m)}return u.bypassAuthState||uc.set(u.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,m=this;return(0,I.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,u().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Ql(){return(Ql=(0,I.Z)(function*(f,l){const u=Cv(l),m=xv(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(u));return yield m._remove(u),_})).apply(this,arguments)}function je(f,l){return ku.apply(this,arguments)}function ku(){return(ku=(0,I.Z)(function*(f,l){return xv(f)._set(Cv(l),"true")})).apply(this,arguments)}function Rm(f,l){uc.set(f._key(),l)}function xv(f){return ut(f._redirectPersistence)}function Cv(f){return Un(Iv,f.config.apiKey,f.name)}function Tv(f,l,u){return function hc(f,l,u){return Pm.apply(this,arguments)}(f,l,u)}function Pm(){return(Pm=(0,I.Z)(function*(f,l,u){const m=un(f);dt(f,l,Tn),yield m._initializationPromise;const _=Ms(m,u);return yield je(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function eI(f,l,u){return function tI(f,l,u){return Om.apply(this,arguments)}(f,l,u)}function Om(){return(Om=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);dt(m.auth,l,Tn),yield m.auth._initializationPromise;const _=Ms(m.auth,u);yield je(_,m.auth);const y=yield fc(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function nI(f,l,u){return function q(f,l,u){return mt.apply(this,arguments)}(f,l,u)}function mt(){return(mt=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);dt(m.auth,l,Tn),yield m.auth._initializationPromise;const _=Ms(m.auth,u);yield Ut(!1,m,l.providerId),yield je(_,m.auth);const y=yield fc(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function vt(){return(vt=(0,I.Z)(function*(f,l){return yield un(f)._initializationPromise,Pt(f,l,!1)})).apply(this,arguments)}function Pt(f,l){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,I.Z)(function*(f,l,u=!1){const m=un(f),_=Ms(m,l),x=yield new Su(m,_,u).execute();return x&&!u&&(delete x.user._redirectEventId,yield m._persistUserIfCurrent(x.user),yield m._setRedirectUser(null,l)),x})).apply(this,arguments)}function fc(f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,I.Z)(function*(f){const l=sc(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Ru{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(u=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Sv(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iI(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var m;if(l.error&&!iI(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";u.onError(Lt(this.auth,_))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const m=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(l))}saveEventToCache(l){this.cachedEventUids.add(Dv(l)),this.lastProcessedEventTime=Date.now()}}function Dv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function iI({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function ki(f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,I.Z)(function*(f,l={}){return J(f,"GET","/v1/projects",l)})).apply(this,arguments)}const Av=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Co=/^https?/;function Fm(){return(Fm=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield ki(f);for(const u of l)try{if(kv(u))return}catch{}Tt(f,"unauthorized-domain")})).apply(this,arguments)}function kv(f){const l=Nr(),{protocol:u,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const x=new URL(f);return""===x.hostname&&""===m?"chrome-extension:"===u&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&x.hostname===m}if(!Co.test(u))return!1;if(Av.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const rI=new Fr(3e4,6e4);function Mv(){const f=_n().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let mc=null;const Vm=new Fr(5e3,15e3),oI="__/auth/iframe",Pv="emulator/auth/iframe",Bm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ov=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nv(f){const l=f.config;ee(l.authDomain,f,"auth-domain-config-required");const u=l.emulator?V(l,Pv):`https://${f.config.authDomain}/${oI}`,m={apiKey:l.apiKey,appName:f.name,v:Ge.SDK_VERSION},_=Ov.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${u}?${(0,H.xO)(m).slice(1)}`}function Pu(){return Pu=(0,I.Z)(function*(f){const l=yield function Rv(f){return mc=mc||function Lm(f){return new Promise((l,u)=>{var m,_,y;function x(){Mv(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Mv(),u(Lt(f,"network-request-failed"))},timeout:rI.get()})}if(null!==(_=null===(m=_n().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=_n().gapi)||void 0===y||!y.load){const k=Zf("iframefcb");return _n()[k]=()=>{gapi.load?x():u(Lt(f,"network-request-failed"))},xl(`https://apis.google.com/js/api.js?onload=${k}`).catch(G=>u(G))}x()}}).catch(l=>{throw mc=null,l})}(f),mc}(f),u=_n().gapi;return ee(u,f,"internal-error"),l.open({where:document.body,url:Nv(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bm,dontclear:!0},m=>new Promise(function(){var _=(0,I.Z)(function*(y,x){yield m.restyle({setHideOnLeave:!1});const k=Lt(f,"network-request-failed"),G=_n().setTimeout(()=>{x(k)},Vm.get());function fe(){_n().clearTimeout(G),y(m)}m.ping(fe).then(fe,()=>{x(k)})});return function(y,x){return _.apply(this,arguments)}}()))}),Pu.apply(this,arguments)}const Um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jm{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cI="__/auth/handler",Vv="emulator/auth/handler",Bv=encodeURIComponent("fac");function pc(f,l,u,m,_,y){return To.apply(this,arguments)}function To(){return(To=(0,I.Z)(function*(f,l,u,m,_,y){ee(f.config.authDomain,f,"auth-domain-config-required"),ee(f.config.apiKey,f,"invalid-api-key");const x={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:m,v:Ge.SDK_VERSION,eventId:_};if(l instanceof Tn){l.setDefaultLanguage(f.languageCode),x.providerId=l.providerId||"",(0,H.xb)(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[ye,we]of Object.entries(y||{}))x[ye]=we}if(l instanceof Ne){const ye=l.getScopes().filter(we=>""!==we);ye.length>0&&(x.scopes=ye.join(","))}f.tenantId&&(x.tid=f.tenantId);const k=x;for(const ye of Object.keys(k))void 0===k[ye]&&delete k[ye];const G=yield f._getAppCheckToken(),fe=G?`#${Bv}=${encodeURIComponent(G)}`:"";return`${function lI({config:f}){return f.emulator?V(f,Vv):`https://${f.authDomain}/${cI}`}(f)}?${(0,H.xO)(k).slice(1)}${fe}`})).apply(this,arguments)}const gc="webStorageSupport",Yl=class Ou{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_r,this._completeRedirectFn=Pt,this._overrideRedirectResult=Rm}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){var x;Cn(null===(x=y.eventManagers[l._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const k=yield pc(l,u,m,Nr(),_);return function aI(f,l,u,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),x=Math.max((window.screen.availWidth-m)/2,0).toString();let k="";const G=Object.assign(Object.assign({},Um),{width:m.toString(),height:_.toString(),top:y,left:x}),fe=(0,H.z$)().toLowerCase();u&&(k=cu(fe)?"_blank":u),yo(fe)&&(l=l||"http://localhost",G.scrollbars="yes");const ye=Object.entries(G).reduce((vn,[ko,td])=>`${vn}${ko}=${td},`,"");if(function St(f=(0,H.z$)()){var l;return De(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(fe)&&"_self"!==k)return function Lv(f,l){const u=document.createElement("a");u.href=f,u.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(m)}(l||"",k),new jm(null);const we=window.open(l||"",k,ye);ee(we,f,"popup-blocked");try{we.focus()}catch{}return new jm(we)}(l,k,sc())})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y._originValidation(l),function ga(f){_n().location.href=f}(yield pc(l,u,m,Nr(),_)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:_,promise:y}=this.eventManagers[u];return _?Promise.resolve(_):(Cn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[u]={promise:m},m.catch(()=>{delete this.eventManagers[u]}),m}initAndGetManager(l){var u=this;return(0,I.Z)(function*(){const m=yield function Fv(f){return Pu.apply(this,arguments)}(l),_=new Ru(l);return m.register("authEvent",y=>(ee(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:_},u.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(gc,{type:gc},_=>{var y;const x=null===(y=_?.[0])||void 0===y?void 0:y[gc];void 0!==x&&u(!!x),Tt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function is(f){return Fm.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return Pn()||Qo()||De()}};class zm{constructor(l){this.factorId=l}_process(l,u,m){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,m);case"signin":return this._finalizeSignIn(l,u.credential);default:return xn("unexpected MultiFactorSessionType")}}}class Nu extends zm{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Nu(l)}_finalizeEnroll(l,u,m){return function ze(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:finalize",ne(f,l))}(l,{idToken:u,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function MM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:finalize",ne(f,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uv=(()=>{class f{constructor(){}static assertion(u){return Nu._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var Lu="@firebase/auth";class dI{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,I.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rs(){return window}(0,H.Pz)("authIdTokenMaxAge"),function qM(f){(0,Ge._registerComponent)(new Vn.wA("auth",(l,{options:u})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:x,authDomain:k}=m.options;ee(x&&!x.includes(":"),"invalid-api-key",{appName:m.name});const G={apiKey:x,authDomain:k,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ka(f)},fe=new bo(m,_,y,G);return function Kt(f,l){const u=l?.persistence||[],m=(Array.isArray(u)?u:[u]).map(ut);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(fe,u),fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,m)=>{l.getProvider("auth-internal").initialize()})),(0,Ge._registerComponent)(new Vn.wA("auth-internal",l=>{const u=un(l.getProvider("auth").getImmediate());return new dI(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ge.registerVersion)(Lu,"1.4.0",function uI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Ge.registerVersion)(Lu,"1.4.0","esm2017")}("Browser");function Uu(){return Uu=(0,I.Z)(function*(f,l,u){var m;const{BuildInfo:_}=rs();Cn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function Hv(f){return bc.apply(this,arguments)}(l.sessionId),x={};return De()?x.ibi=_.packageName:L()?x.apn=_.packageName:Tt(f,"operation-not-supported-in-this-environment"),_.displayName&&(x.appDisplayName=_.displayName),x.sessionId=y,pc(f,u,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,x)}),Uu.apply(this,arguments)}function $m(){return($m=(0,I.Z)(function*(f){const{BuildInfo:l}=rs(),u={};De()?u.iosBundleId=l.packageName:L()?u.androidPackageName=l.packageName:Tt(f,"operation-not-supported-in-this-environment"),yield ki(f,u)})).apply(this,arguments)}function yc(){return(yc=(0,I.Z)(function*(f,l,u){const{cordova:m}=rs();let _=()=>{};try{yield new Promise((y,x)=>{let k=null;function G(){var we;y();const vn=null===(we=m.plugins.browsertab)||void 0===we?void 0:we.close;"function"==typeof vn&&vn(),"function"==typeof u?.close&&u.close()}function fe(){k||(k=window.setTimeout(()=>{x(Lt(f,"redirect-cancelled-by-user"))},2e3))}function ye(){"visible"===document?.visibilityState&&fe()}l.addPassiveListener(G),document.addEventListener("resume",fe,!1),L()&&document.addEventListener("visibilitychange",ye,!1),_=()=>{l.removePassiveListener(G),document.removeEventListener("resume",fe,!1),document.removeEventListener("visibilitychange",ye,!1),k&&window.clearTimeout(k)}})}finally{_()}})).apply(this,arguments)}function bc(){return(bc=(0,I.Z)(function*(f){const l=function Gm(f){if(Cn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),u=new Uint8Array(l);for(let m=0;m<f.length;m++)u[m]=f.charCodeAt(m);return u}(f),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $v extends Ru{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,I.Z)(function*(){yield l.initPromise})()}}function Wm(f){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,I.Z)(function*(f){const l=yield Km()._get(zu(f));return l&&(yield Km()._remove(zu(f))),l})).apply(this,arguments)}function ya(){const f=[];for(let u=0;u<20;u++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function Km(){return ut(en)}function zu(f){return Un("authEvent",f.config.apiKey,f.name)}function os(f){if(!f?.includes("?"))return{};const[l,...u]=f.split("?");return(0,H.zd)(u.join("?"))}const An=class pI{constructor(){this._redirectPersistence=_r,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pt,this._overrideRedirectResult=Rm}_initialize(l){var u=this;return(0,I.Z)(function*(){const m=l._key();let _=u.eventManagers.get(m);return _||(_=new $v(l),u.eventManagers.set(m,_),u.attachCallbackListeners(l,_)),_})()}_openPopup(l){Tt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){!function qm(f){var l,u,m,_,y,x,k,G,fe,ye;const we=rs();ee("function"==typeof(null===(l=we?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(u=we?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(y=null===(_=null===(m=we?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(G=null===(k=null===(x=we?.cordova)||void 0===x?void 0:x.plugins)||void 0===k?void 0:k.browsertab)||void 0===G?void 0:G.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(ye=null===(fe=we?.cordova)||void 0===fe?void 0:fe.InAppBrowser)||void 0===ye?void 0:ye.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const x=yield y._initialize(l);yield x.initialized(),x.resetRedirect(),function HM(){uc.clear()}(),yield y._originValidation(l);const k=function qv(f,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:ya(),postBody:null,tenantId:f.tenantId,error:Lt(f,"no-auth-event")}}(l,m,_);yield function Gv(f,l){return Km()._set(zu(f),l)}(l,k);const G=yield function WM(f,l,u){return Uu.apply(this,arguments)}(l,k,u),fe=yield function Do(f){const{cordova:l}=rs();return new Promise(u=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function ht(f=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),u(_)})})}(G);return function fI(f,l,u){return yc.apply(this,arguments)}(l,x,fe)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function zv(f){return $m.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=rs(),x=setTimeout((0,I.Z)(function*(){yield Wm(l),u.onEvent(Hu())}),500),k=function(){var ye=(0,I.Z)(function*(we){clearTimeout(x);const vn=yield Wm(l);let ko=null;vn&&we?.url&&(ko=function ju(f,l){var u,m;const _=function wc(f){const l=os(f),u=l.link?decodeURIComponent(l.link):void 0,m=os(u).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return os(_).link||_||m||u||f}(l);if(_.includes("/__/auth/callback")){const y=os(_),x=y.firebaseError?function Wv(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,k=null===(m=null===(u=x?.code)||void 0===u?void 0:u.split("auth/"))||void 0===m?void 0:m[1],G=k?Lt(k):null;return G?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:G,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(vn,we.url)),u.onEvent(ko||Hu())});return function(vn){return ye.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,k);const G=_,fe=`${y.packageName.toLowerCase()}://`;rs().handleOpenURL=function(){var ye=(0,I.Z)(function*(we){if(we.toLowerCase().startsWith(fe)&&k({url:we}),"function"==typeof G)try{G(we)}catch(vn){console.error(vn)}});return function(we){return ye.apply(this,arguments)}}()}};function Hu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lt("no-auth-event")}}function So(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Qm(f=(0,H.z$)()){return!("file:"!==So()&&"ionic:"!==So()&&"capacitor:"!==So()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function vI(){try{const f=self.localStorage,l=sc();if(f)return f.setItem(l,"1"),f.removeItem(l),!function _I(f=(0,H.z$)()){return function xc(){return(0,H.w1)()&&11===document?.documentMode}()||function ZM(f=(0,H.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,H.hl)()}catch{return Kv()&&(0,H.hl)()}return!1}function Kv(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qv(){return(function Ic(){return"http:"===So()||"https:"===So()}()||(0,H.ru)()||Qm())&&!function Ym(){return(0,H.b$)()||(0,H.UG)()}()&&vI()&&!Kv()}function yI(){return Qm()&&typeof document<"u"}function Yv(){return(Yv=(0,I.Z)(function*(){return!!yI()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const wr={LOCAL:"local",NONE:"none",SESSION:"session"},Xl=ee,zn="persistence";function ba(f){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,I.Z)(function*(f){yield f._initializationPromise;const l=wa(),u=Un(zn,f.config.apiKey,f.name);l&&l.setItem(u,f._getPersistence())})).apply(this,arguments)}function wa(){var f;try{return(null===(f=function Cc(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Xv=ee;class eo{constructor(){this.browserResolver=ut(Yl),this.cordovaResolver=ut(An),this.underlyingResolver=null,this._redirectPersistence=_r,this._completeRedirectFn=Pt,this._overrideRedirectResult=Rm}_initialize(l){var u=this;return(0,I.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,u,m,_)})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,u,m,_)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return yI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,I.Z)(function*(){if(l.underlyingResolver)return;const u=yield function KM(){return Yv.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function Tc(f){return f.unwrap()}function QM(f){return wI(f)}function wI(f){const{_tokenResponse:l}=f instanceof H.ZR?f.customData:f;if(!l)return null;if(!(f instanceof H.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return cc.credentialFromResult(f);const u=l.providerId;if(!u||u===Nt.PASSWORD)return null;let m;switch(u){case Nt.GOOGLE:m=NE;break;case Nt.FACEBOOK:m=OE;break;case Nt.GITHUB:m=FE;break;case Nt.TWITTER:m=iv;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:x,pendingToken:k,nonce:G}=l;return y||x||_||k?k?u.startsWith("saml.")?Nl._create(u,k):es._fromParams({providerId:u,signInMethod:u,pendingToken:k,idToken:_,accessToken:y}):new Ol(u).credential({idToken:_,accessToken:y,rawNonce:G}):null}return f instanceof H.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function tn(f,l){return l.catch(u=>{throw u instanceof H.ZR&&function Jv(f,l){var u;const m=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new YM(f,function Dn(f,l){var u;const m=(0,H.m9)(f),_=l;return ee(l.customData.operationType,m,"argument-error"),ee(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,m,"argument-error"),gm._fromError(m,_)}(f,l));else if(m){const _=wI(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:QM(u),additionalUserInfo:WE(u),user:Ao.getOrCreate(_)}})}function Jl(f,l){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,I.Z)(function*(f,l){const u=yield l;return{verificationId:u.verificationId,confirm:m=>tn(f,u.confirm(m))}})).apply(this,arguments)}class YM{constructor(l,u){this.resolver=u,this.auth=function Jm(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return tn(Tc(this.auth),this.resolver.resolveSignIn(l))}}class Ao{constructor(l){this._delegate=l,this.multiFactor=function Jt(f){const l=(0,H.m9)(f);return Ds.has(l)||Ds.set(l,Vr._fromUser(l)),Ds.get(l)}(l)}static getOrCreate(l){return Ao.USER_MAP.has(l)||Ao.USER_MAP.set(l,new Ao(l)),Ao.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,I.Z)(function*(){return tn(u.auth,av(u._delegate,l))})()}linkWithPhoneNumber(l,u){var m=this;return(0,I.Z)(function*(){return Jl(m.auth,function XE(f,l,u){return Cm.apply(this,arguments)}(m._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,I.Z)(function*(){return tn(u.auth,function xo(f,l,u){return Du.apply(this,arguments)}(u._delegate,l,eo))})()}linkWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield ba(un(u.auth)),nI(u._delegate,l,eo)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,I.Z)(function*(){return tn(u.auth,VE(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Jl(this.auth,function Ev(f,l,u){return Cu.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return tn(this.auth,function Am(f,l,u){return km.apply(this,arguments)}(this._delegate,l,eo))}reauthenticateWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield ba(un(u.auth)),eI(u._delegate,l,eo)})()}sendEmailVerification(l){return function zl(f,l){return wu.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,I.Z)(function*(){return yield function rv(f,l){return Di.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function zE(f,l){return pv((0,H.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function mv(f,l){return pv((0,H.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function JE(f,l){return Br.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function jE(f,l){return gr.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function hv(f,l,u){return hm.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ao.USER_MAP=new WeakMap;const ed=ee;let ey=(()=>{class f{constructor(u,m){if(this.app=u,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;ed(_,"invalid-api-key",{appName:u.name}),ed(_,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?eo:void 0;this._delegate=m.initialize({options:{persistence:EI(_,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(Zn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,m){!function Ya(f,l,u){const m=un(f);ee(m._canInitEmulator,m,"emulator-config-failed"),ee(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!u?.disableWarnings,y=Xi(l),{host:x,port:k}=function Ie(f){const l=Xi(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!u)return{host:"",port:null};const m=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:Dl(m.substr(y.length+1))}}{const[y,x]=m.split(":");return{host:y,port:Dl(x)}}}(l);m.config.emulator={url:`${y}//${x}${null===k?"":`:${k}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:x,port:k,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Xf(){function f(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,u,m)}applyActionCode(u){return function R(f,l){return yu.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return ae(this._delegate,u)}confirmPasswordReset(u,m){return function Ts(f,l,u){return lm.apply(this,arguments)}(this._delegate,u,m)}createUserWithEmailAndPassword(u,m){var _=this;return(0,I.Z)(function*(){return tn(_._delegate,function BE(f,l,u){return um.apply(this,arguments)}(_._delegate,u,m))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function uv(f,l){return bu.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function Yr(f,l){const u=uu.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,I.Z)(function*(){ed(Qv(),u._delegate,"operation-not-supported-in-this-environment");const m=yield function Ct(f,l){return vt.apply(this,arguments)}(u._delegate,eo);return m?tn(u._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function gI(f,l){un(f)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,m,_){const{next:y,error:x,complete:k}=ty(u,m,_);return this._delegate.onAuthStateChanged(y,x,k)}onIdTokenChanged(u,m,_){const{next:y,error:x,complete:k}=ty(u,m,_);return this._delegate.onIdTokenChanged(y,x,k)}sendSignInLinkToEmail(u,m){return function ts(f,l,u){return ic.apply(this,arguments)}(this._delegate,u,m)}sendPasswordResetEmail(u,m){return function tc(f,l,u){return cm.apply(this,arguments)}(this._delegate,u,m||void 0)}setPersistence(u){var m=this;return(0,I.Z)(function*(){let _;switch(function bI(f,l){Xl(Object.values(wr).includes(l),f,"invalid-persistence-type"),(0,H.b$)()?Xl(l!==wr.SESSION,f,"unsupported-persistence-type"):(0,H.UG)()?Xl(l===wr.NONE,f,"unsupported-persistence-type"):Kv()?Xl(l===wr.NONE||l===wr.LOCAL&&(0,H.hl)(),f,"unsupported-persistence-type"):Xl(l===wr.NONE||vI(),f,"unsupported-persistence-type")}(m._delegate,u),u){case wr.SESSION:_=_r;break;case wr.LOCAL:_=(yield ut(ks)._isAvailable())?ks:en;break;case wr.NONE:_=Zt;break;default:return Tt("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return tn(this._delegate,function om(f){return hu.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return tn(this._delegate,Vl(this._delegate,u))}signInWithCustomToken(u){return tn(this._delegate,function DM(f,l){return da.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,m){return tn(this._delegate,function UE(f,l,u){return Vl((0,H.m9)(f),nv.credential(l,u)).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&am(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,u,m))}signInWithEmailLink(u,m){return tn(this._delegate,function wo(f,l,u){return Et.apply(this,arguments)}(this._delegate,u,m))}signInWithPhoneNumber(u,m){return Jl(this._delegate,function yr(f,l,u){return xu.apply(this,arguments)}(this._delegate,u,m))}signInWithPopup(u){var m=this;return(0,I.Z)(function*(){return ed(Qv(),m._delegate,"operation-not-supported-in-this-environment"),tn(m._delegate,function br(f,l,u){return Sm.apply(this,arguments)}(m._delegate,u,eo))})()}signInWithRedirect(u){var m=this;return(0,I.Z)(function*(){return ed(Qv(),m._delegate,"operation-not-supported-in-this-environment"),yield ba(m._delegate),Tv(m._delegate,u,eo)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function dm(f,l){return ha.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=wr,f})();function ty(f,l,u){let m=f;"function"!=typeof f&&({next:m,error:l,complete:u}=f);const _=m;return{next:x=>_(x&&Ao.getOrCreate(x)),error:l,complete:u}}function EI(f,l){const u=function er(f,l){const u=wa();if(!u)return[];const m=Un(zn,f,l);switch(u.getItem(m)){case wr.NONE:return[Zt];case wr.LOCAL:return[ks,_r];case wr.SESSION:return[_r];default:return[]}}(f,l);if(typeof self<"u"&&!u.includes(ks)&&u.push(ks),typeof window<"u")for(const m of[en,_r])u.includes(m)||u.push(m);return u.includes(Zt)||u.push(Zt),u}class ep{constructor(){this.providerId="phone",this._delegate=new cc(Tc(Ce.Z.auth()))}static credential(l,u){return cc.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}ep.PHONE_SIGN_IN_METHOD=cc.PHONE_SIGN_IN_METHOD,ep.PROVIDER_ID=cc.PROVIDER_ID;const II=ee;class tp{constructor(l,u,m=Ce.Z.app()){var _;II(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new zM(m.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xI(f){f.INTERNAL.registerComponent(new Vn.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new ey(u,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:nv,FacebookAuthProvider:OE,GithubAuthProvider:FE,GoogleAuthProvider:NE,OAuthProvider:Ol,SAMLAuthProvider:la,PhoneAuthProvider:ep,PhoneMultiFactorGenerator:Uv,RecaptchaVerifier:tp,TwitterAuthProvider:iv,Auth:ey,AuthCredential:qt,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(Ce.Z)},861:(zo,fi,Je)=>{function I(H,Ge,In,et,Vn,Ii,Nt){try{var te=H[Ii](Nt),se=te.value}catch(Te){return void In(Te)}te.done?Ge(se):Promise.resolve(se).then(et,Vn)}function Ce(H){return function(){var Ge=this,In=arguments;return new Promise(function(et,Vn){var Ii=H.apply(Ge,In);function Nt(se){I(Ii,et,Vn,Nt,te,"next",se)}function te(se){I(Ii,et,Vn,Nt,te,"throw",se)}Nt(void 0)})}}Je.d(fi,{Z:()=>Ce})},582:(zo,fi,Je)=>{function Ge(V,j){var Q={};for(var W in V)Object.prototype.hasOwnProperty.call(V,W)&&j.indexOf(W)<0&&(Q[W]=V[W]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(W=Object.getOwnPropertySymbols(V);ne<W.length;ne++)j.indexOf(W[ne])<0&&Object.prototype.propertyIsEnumerable.call(V,W[ne])&&(Q[W[ne]]=V[W[ne]])}return Q}function Te(V,j,Q,W){return new(Q||(Q=Promise))(function(J,Le){function pt(Dt){try{Pe(W.next(Dt))}catch(Rn){Le(Rn)}}function Bn(Dt){try{Pe(W.throw(Dt))}catch(Rn){Le(Rn)}}function Pe(Dt){Dt.done?J(Dt.value):function ne(J){return J instanceof Q?J:new Q(function(Le){Le(J)})}(Dt.value).then(pt,Bn)}Pe((W=W.apply(V,j||[])).next())})}function sn(V){return this instanceof sn?(this.v=V,this):new sn(V)}function Tt(V,j,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,W=Q.apply(V,j||[]),J=[];return ne={},Le("next"),Le("throw"),Le("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function Le(Oe){W[Oe]&&(ne[Oe]=function(pi){return new Promise(function(Qn,ri){J.push([Oe,pi,Qn,ri])>1||pt(Oe,pi)})})}function pt(Oe,pi){try{!function Bn(Oe){Oe.value instanceof sn?Promise.resolve(Oe.value.v).then(Pe,Dt):Rn(J[0][2],Oe)}(W[Oe](pi))}catch(Qn){Rn(J[0][3],Qn)}}function Pe(Oe){pt("next",Oe)}function Dt(Oe){pt("throw",Oe)}function Rn(Oe,pi){Oe(pi),J.shift(),J.length&&pt(J[0][0],J[0][1])}}function Li(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,j=V[Symbol.asyncIterator];return j?j.call(V):(V=function Ft(V){var j="function"==typeof Symbol&&Symbol.iterator,Q=j&&V[j],W=0;if(Q)return Q.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&W>=V.length&&(V=void 0),{value:V&&V[W++],done:!V}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(J){Q[J]=V[J]&&function(Le){return new Promise(function(pt,Bn){!function ne(J,Le,pt,Bn){Promise.resolve(Bn).then(function(Pe){J({value:Pe,done:pt})},Le)}(pt,Bn,(Le=V[J](Le)).done,Le.value)})}}}Je.d(fi,{FC:()=>Tt,KL:()=>Li,_T:()=>Ge,mG:()=>Te,qq:()=>sn}),"function"==typeof SuppressedError&&SuppressedError}},zo=>{zo(zo.s=331)}]);
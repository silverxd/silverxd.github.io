"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:(Co,Jn,Ge)=>{Ge.d(Jn,{BH:()=>zt,G6:()=>to,L:()=>at,LL:()=>q,Pz:()=>Tt,Sg:()=>Fi,UG:()=>J,ZB:()=>xe,ZR:()=>te,aH:()=>nn,b$:()=>On,eu:()=>H,hl:()=>U,jU:()=>hn,m9:()=>xa,ne:()=>Do,pd:()=>Vc,r3:()=>xi,ru:()=>rn,tV:()=>ee,uI:()=>$n,vZ:()=>To,w1:()=>eo,xO:()=>Lc,xb:()=>tr,z$:()=>Xe,zd:()=>Fr});const Ve=function(T){const C=[];let D=0;for(let Z=0;Z<T.length;Z++){let R=T.charCodeAt(Z);R<128?C[D++]=R:R<2048?(C[D++]=R>>6|192,C[D++]=63&R|128):55296==(64512&R)&&Z+1<T.length&&56320==(64512&T.charCodeAt(Z+1))?(R=65536+((1023&R)<<10)+(1023&T.charCodeAt(++Z)),C[D++]=R>>18|240,C[D++]=R>>12&63|128,C[D++]=R>>6&63|128,C[D++]=63&R|128):(C[D++]=R>>12|224,C[D++]=R>>6&63|128,C[D++]=63&R|128)}return C},dn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(T,C){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const D=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let R=0;R<T.length;R+=3){const W=T[R],Fe=R+1<T.length,Je=Fe?T[R+1]:0,yt=R+2<T.length,Qt=yt?T[R+2]:0;let ri=(15&Je)<<2|Qt>>6,Lt=63&Qt;yt||(Lt=64,Fe||(ri=64)),Z.push(D[W>>2],D[(3&W)<<4|Je>>4],D[ri],D[Lt])}return Z.join("")},encodeString(T,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(T):this.encodeByteArray(Ve(T),C)},decodeString(T,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(T):function(T){const C=[];let D=0,Z=0;for(;D<T.length;){const R=T[D++];if(R<128)C[Z++]=String.fromCharCode(R);else if(R>191&&R<224){const W=T[D++];C[Z++]=String.fromCharCode((31&R)<<6|63&W)}else if(R>239&&R<365){const yt=((7&R)<<18|(63&T[D++])<<12|(63&T[D++])<<6|63&T[D++])-65536;C[Z++]=String.fromCharCode(55296+(yt>>10)),C[Z++]=String.fromCharCode(56320+(1023&yt))}else{const W=T[D++],Fe=T[D++];C[Z++]=String.fromCharCode((15&R)<<12|(63&W)<<6|63&Fe)}}return C.join("")}(this.decodeStringToByteArray(T,C))},decodeStringToByteArray(T,C){this.init_();const D=C?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let R=0;R<T.length;){const W=D[T.charAt(R++)],Je=R<T.length?D[T.charAt(R)]:0;++R;const Qt=R<T.length?D[T.charAt(R)]:64;++R;const we=R<T.length?D[T.charAt(R)]:64;if(++R,null==W||null==Je||null==Qt||null==we)throw new yn;Z.push(W<<2|Je>>4),64!==Qt&&(Z.push(Je<<4&240|Qt>>2),64!==we&&Z.push(Qt<<6&192|we))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class yn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const at=function(T){return function(T){const C=Ve(T);return dn.encodeByteArray(C,!0)}(T).replace(/\./g,"")},ee=function(T){try{return dn.decodeString(T,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function xe(T,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===T&&(T={});break;case Array:T=[];break;default:return C}for(const D in C)!C.hasOwnProperty(D)||!ot(D)||(T[D]=xe(T[D],C[D]));return T}function ot(T){return"__proto__"!==T}const Ye=()=>{try{return function Et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const T=process.env.__FIREBASE_DEFAULTS__;return T?JSON.parse(T):void 0})()||(()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=T&&ee(T[1]);return C&&JSON.parse(C)})()}catch(T){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`)}},nn=()=>{var T;return null===(T=Ye())||void 0===T?void 0:T.config},Tt=T=>{var C;return null===(C=Ye())||void 0===C?void 0:C[`_${T}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,D)=>{this.resolve=C,this.reject=D})}wrapCallback(C){return(D,Z)=>{D?this.reject(D):this.resolve(Z),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(D):C(D,Z))}}}function Fi(T,C){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=C||"demo-project",R=T.iat||0,W=T.sub||T.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:R,exp:R+3600,auth_time:R,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},T);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(Fe)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $n(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function J(){var T;const C=null===(T=Ye())||void 0===T?void 0:T.forceEnvironment;if("node"===C)return!0;if("browser"===C)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hn(){return"object"==typeof self&&self.self===self}function rn(){const T="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof T&&void 0!==T.id}function On(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function eo(){const T=Xe();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function to(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((T,C)=>{try{let D=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(Z);R.onsuccess=()=>{R.result.close(),D||self.indexedDB.deleteDatabase(Z),T(!0)},R.onupgradeneeded=()=>{D=!1},R.onerror=()=>{var W;C((null===(W=R.error)||void 0===W?void 0:W.message)||"")}}catch(D){C(D)}})}class te extends Error{constructor(C,D,Z){super(D),this.code=C,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(C,D,Z){this.service=C,this.serviceName=D,this.errors=Z}create(C,...D){const Z=D[0]||{},R=`${this.service}/${C}`,W=this.errors[C],Fe=W?function fe(T,C){return T.replace(gt,(D,Z)=>{const R=C[Z];return null!=R?String(R):`<${Z}?>`})}(W,Z):"Error";return new te(R,`${this.serviceName}: ${Fe} (${R}).`,Z)}}const gt=/\{\$([^}]+)}/g;function xi(T,C){return Object.prototype.hasOwnProperty.call(T,C)}function tr(T){for(const C in T)if(Object.prototype.hasOwnProperty.call(T,C))return!1;return!0}function To(T,C){if(T===C)return!0;const D=Object.keys(T),Z=Object.keys(C);for(const R of D){if(!Z.includes(R))return!1;const W=T[R],Fe=C[R];if(bn(W)&&bn(Fe)){if(!To(W,Fe))return!1}else if(W!==Fe)return!1}for(const R of Z)if(!D.includes(R))return!1;return!0}function bn(T){return null!==T&&"object"==typeof T}function Lc(T){const C=[];for(const[D,Z]of Object.entries(T))Array.isArray(Z)?Z.forEach(R=>{C.push(encodeURIComponent(D)+"="+encodeURIComponent(R))}):C.push(encodeURIComponent(D)+"="+encodeURIComponent(Z));return C.length?"&"+C.join("&"):""}function Fr(T){const C={};return T.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[R,W]=Z.split("=");C[decodeURIComponent(R)]=decodeURIComponent(W)}}),C}function Vc(T){const C=T.indexOf("?");if(!C)return"";const D=T.indexOf("#",C);return T.substring(C,D>0?D:void 0)}function Do(T,C){const D=new Ko(T,C);return D.subscribe.bind(D)}class Ko{constructor(C,D){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=D,this.task.then(()=>{C(this)}).catch(Z=>{this.error(Z)})}next(C){this.forEachObserver(D=>{D.next(C)})}error(C){this.forEachObserver(D=>{D.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,D,Z){let R;if(void 0===C&&void 0===D&&void 0===Z)throw new Error("Missing Observer.");R=function Bs(T,C){if("object"!=typeof T||null===T)return!1;for(const D of C)if(D in T&&"function"==typeof T[D])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:D,complete:Z},void 0===R.next&&(R.next=Kt),void 0===R.error&&(R.error=Kt),void 0===R.complete&&(R.complete=Kt);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),W}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let D=0;D<this.observers.length;D++)this.sendOne(D,C)}sendOne(C,D){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{D(this.observers[C])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}function xa(T){return T&&T._delegate?T._delegate:T}},910:(Co,Jn,Ge)=>{function E(n){return"function"==typeof n}function Oe(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const G=Oe(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ve(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(E(i))try{i()}catch(o){e=o instanceof G?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{ei(o)}catch(s){e=e??[],s instanceof G?e=[...e,...s.errors]:e.push(s)}}if(e)throw new G(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ei(e);else{if(e instanceof pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ve(t,e)}remove(e){const{_finalizers:t}=this;t&&Ve(t,e),e instanceof pt&&e._removeParent(this)}}pt.EMPTY=(()=>{const n=new pt;return n.closed=!0,n})();const dn=pt.EMPTY;function yn(n){return n instanceof pt||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function ei(n){E(n)?n():n.unsubscribe()}const at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(n,e,...t){const{delegate:i}=ee;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ee;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ce(n){ee.setTimeout(()=>{const{onUnhandledError:e}=at;if(!e)throw n;e(n)})}function xe(){}const ot=Ct("C",void 0,void 0);function Ct(n,e,t){return{kind:n,value:e,error:t}}let je=null;function Ye(n){if(at.useDeprecatedSynchronousErrorHandling){const e=!je;if(e&&(je={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=je;if(je=null,t)throw i}}else n()}class ii extends pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yn(e)&&e.add(this)):this.destination=hn}static create(e,t,i){return new Fi(e,t,i)}next(e){this.isStopped?J(function ti(n){return Ct("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?J(function Et(n){return Ct("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?J(ot,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nn=Function.prototype.bind;function Tt(n,e){return nn.call(n,e)}class zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Xe(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Xe(i)}else Xe(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xe(t)}}}class Fi extends ii{constructor(e,t,i){let r;if(super(),E(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&at.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Tt(e.next,o),error:e.error&&Tt(e.error,o),complete:e.complete&&Tt(e.complete,o)}):r=e}this.destination=new zt(r)}}function Xe(n){at.useDeprecatedSynchronousErrorHandling?function ni(n){at.useDeprecatedSynchronousErrorHandling&&je&&(je.errorThrown=!0,je.error=n)}(n):ce(n)}function J(n,e){const{onStoppedNotification:t}=at;t&&ee.setTimeout(()=>t(n,e))}const hn={closed:!0,next:xe,error:function $n(n){throw n},complete:xe},rn="function"==typeof Symbol&&Symbol.observable||"@@observable";function On(n){return n}function eo(n){return 0===n.length?On:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function U(n){return n&&n instanceof ii||function to(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&yn(n)}(t)?t:new Fi(t,i,r);return Ye(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Vs(i))((r,o)=>{const s=new Fi({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[rn](){return this}pipe(...t){return eo(t)(this)}toPromise(t){return new(t=Vs(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Vs(n){var e;return null!==(e=n??at.Promise)&&void 0!==e?e:Promise}const H=Oe(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let B=(()=>{class n extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new K(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new H}next(t){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?dn:(this.currentObservers=null,o.push(t),new pt(()=>{this.currentObservers=null,Ve(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Qe;return t.source=this,t}}return n.create=(e,t)=>new K(e,t),n})();class K extends B{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:dn}}function te(n){return E(n?.lift)}function q(n){return e=>{if(te(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,i,r){return new gt(n,e,t,i,r)}class gt extends ii{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(n,e){return q((t,i)=>{let r=0;t.subscribe(fe(i,o=>{i.next(n.call(e,o,r++))}))})}var Ce=Ge(582);const vt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fn(n){return E(n?.then)}function Zt(n){return E(n[rn])}function mi(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function Hn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Li=function xi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tr(n){return E(n?.[Li])}function Fc(n){return(0,Ce.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ce.qq)(t.read());if(r)return yield(0,Ce.qq)(void 0);yield yield(0,Ce.qq)(i)}}finally{t.releaseLock()}})}function To(n){return E(n?.getReader)}function bn(n){if(n instanceof Qe)return n;if(null!=n){if(Zt(n))return function ya(n){return new Qe(e=>{const t=n[rn]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(vt(n))return function Lc(n){return new Qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(fn(n))return function Fr(n){return new Qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ce)})}(n);if(mi(n))return Vi(n);if(tr(n))return function Vc(n){return new Qe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(To(n))return function Do(n){return Vi(Fc(n))}(n)}throw Hn(n)}function Vi(n){return new Qe(e=>{(function Ko(n,e){var t,i,r,o;return(0,Ce.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ce.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function pi(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Kt(n,e,t=1/0){return E(e)?Kt((i,r)=>ge((o,s)=>e(i,o,r,s))(bn(n(i,r))),t):("number"==typeof e&&(t=e),q((i,r)=>function Bs(n,e,t,i,r,o,s,a){const c=[];let u=0,h=0,p=!1;const g=()=>{p&&!c.length&&!u&&e.complete()},v=w=>u<i?b(w):c.push(w),b=w=>{o&&e.next(w),u++;let I=!1;bn(t(w,h++)).subscribe(fe(e,M=>{r?.(M),o?v(M):e.next(M)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<i;){const M=c.shift();s?pi(e,s,()=>b(M)):b(M)}g()}catch(M){e.error(M)}}))};return n.subscribe(fe(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Lr(n=1/0){return Kt(On,n)}const qn=new Qe(n=>n.complete());function nr(n){return n&&E(n.schedule)}function Qo(n){return n[n.length-1]}function wa(n){return E(Qo(n))?n.pop():void 0}function Yo(n){return nr(Qo(n))?n.pop():void 0}function Ci(n,e=0){return q((t,i)=>{t.subscribe(fe(i,r=>pi(i,n,()=>i.next(r),e),()=>pi(i,n,()=>i.complete(),e),r=>pi(i,n,()=>i.error(r),e)))})}function Bi(n,e=0){return q((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function xa(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qe(t=>{pi(t,e,()=>{const i=n[Symbol.asyncIterator]();pi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function D(n,e){return e?function C(n,e){if(null!=n){if(Zt(n))return function Xo(n,e){return bn(n).pipe(Bi(e),Ci(e))}(n,e);if(vt(n))return function wu(n,e){return new Qe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(fn(n))return function Ia(n,e){return bn(n).pipe(Bi(e),Ci(e))}(n,e);if(mi(n))return xa(n,e);if(tr(n))return function Bc(n,e){return new Qe(t=>{let i;return pi(t,e,()=>{i=n[Li](),pi(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>E(i?.return)&&i.return()})}(n,e);if(To(n))return function T(n,e){return xa(Fc(n),e)}(n,e)}throw Hn(n)}(n,e):bn(n)}function Z(...n){const e=Yo(n),t=function Ea(n,e){return"number"==typeof Qo(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?bn(i[0]):Lr(t)(D(i,e)):qn}class R extends B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function W(...n){return D(n,Yo(n))}function Fe(n={}){const{connector:e=(()=>new B),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,u=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return q((w,I)=>{u++,!p&&!h&&g();const M=c=c??e();I.add(()=>{u--,0===u&&!p&&!h&&(a=Je(b,r))}),M.subscribe(I),!s&&u>0&&(s=new Fi({next:A=>M.next(A),error:A=>{p=!0,g(),a=Je(v,t,A),M.error(A)},complete:()=>{h=!0,g(),a=Je(v,i),M.complete()}}),bn(w).subscribe(s))})(o)}}function Je(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Fi({next:()=>{i.unsubscribe(),n()}});return bn(e(...t)).subscribe(i)}function yt(n,e){return q((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(fe(i,c=>{r?.unsubscribe();let u=0;const h=o++;bn(n(c,h)).subscribe(r=fe(i,p=>i.next(e?e(c,p,h,u++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Qt(n,e=On){return n=n??Gn,q((t,i)=>{let r,o=!0;t.subscribe(fe(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Gn(n,e){return n===e}function we(n){for(let e in n)if(n[e]===we)return e;throw Error("Could not find renamed property on target object.")}function ri(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Lt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Lt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function no(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Eu=we({__forward_ref__:we});function F(n){return n.__forward_ref__=F,n.toString=function(){return Lt(this())},n}function S(n){return oe(n)?n():n}function oe(n){return"function"==typeof n&&n.hasOwnProperty(Eu)&&n.__forward_ref__===F}function Se(n){return n&&!!n.\u0275providers}const nt="https://g.co/ng/security#xss";class P extends Error{constructor(e,t){super(function kn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Uc(n,e){throw new P(-201,!1)}function Ui(n,e){null==n&&function Re(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function de(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function jc(n){return lf(n,zc)||lf(n,Zg)}function lf(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ao(n){return n&&(n.hasOwnProperty($c)||n.hasOwnProperty(uf))?n[$c]:null}const zc=we({\u0275prov:we}),$c=we({\u0275inj:we}),Zg=we({ngInjectableDef:we}),uf=we({ngInjectorDef:we});var lt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(lt||{});let Hc;function gi(n){const e=Hc;return Hc=n,e}function Qg(n,e,t){const i=jc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&lt.Optional?null:void 0!==e?e:void Uc(Lt(n))}const kt=globalThis;class ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=de({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rr={},Zc="__NG_DI_FLAG__",xu="ngTempTokenPath",E0=/\n/gm,n_="__source";let es;function ro(n){const e=es;return es=n,e}function x0(n,e=lt.Default){if(void 0===es)throw new P(-203,!1);return null===es?Qg(n,void 0,e):es.get(n,e&lt.Optional?null:void 0,e)}function z(n,e=lt.Default){return(function Kg(){return Hc}()||x0)(S(n),e)}function ue(n,e=lt.Default){return z(n,Tu(e))}function Tu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ff(n){const e=[];for(let t=0;t<n.length;t++){const i=S(n[t]);if(Array.isArray(i)){if(0===i.length)throw new P(900,!1);let r,o=lt.Default;for(let s=0;s<i.length;s++){const a=i[s],c=GS(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(z(r,o))}else e.push(z(i))}return e}function So(n,e){return n[Zc]=e,n.prototype[Zc]=e,n}function GS(n){return n[Zc]}function ji(n){return{toString:n}.toString()}var Mo=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Mo||{}),or=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(or||{});const Vr={},wt=[],Du=we({\u0275cmp:we}),ts=we({\u0275dir:we}),pf=we({\u0275pipe:we}),Kc=we({\u0275mod:we}),oo=we({\u0275fac:we}),Ta=we({__NG_ELEMENT_ID__:we}),Au=we({__NG_ENV_ID__:we});function sr(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Su(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];ku(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function i_(n){return 3===n||4===n||6===n}function ku(n){return 64===n.charCodeAt(0)}function ns(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||gf(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function gf(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const _f="ng-template";function C0(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==sr(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Mu(n){return 4===n.type&&n.value!==_f}function vf(n,e,t){return e===(4!==n.type||t?n.value:_f)}function yf(n,e,t){let i=4;const r=n.attrs||[],o=function r_(n){for(let e=0;e<n.length;e++)if(i_(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!vf(n,c,t)||""===c&&1===e.length){if(zi(i))return!1;s=!0}}else{const u=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!C0(n.attrs,u,t)){if(zi(i))return!1;s=!0}continue}const p=bf(8&i?"class":c,r,Mu(n),t);if(-1===p){if(zi(i))return!1;s=!0;continue}if(""!==u){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==sr(v,u,0)||2&i&&u!==g){if(zi(i))return!1;s=!0}}}}else{if(!s&&!zi(i)&&!zi(c))return!1;if(s&&zi(c))continue;s=!1,i=c|1&i}}return zi(i)||s}function zi(n){return 0==(1&n)}function bf(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function If(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function wf(n,e,t=!1){for(let i=0;i<e.length;i++)if(yf(n,e[i],t))return!0;return!1}function Ru(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Pu(n,e){return n?":not("+e.trim()+")":e}function o_(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!zi(s)&&(e+=Pu(o,r),r=""),i=s,o=o||!zi(i);t++}return""!==r&&(e+=Pu(o,r)),e}function sn(n){return ji(()=>{const e=Ou(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Mo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,styles:n.styles||wt,_:null,schemas:n.schemas||null,tView:null,id:""};a_(t);const i=n.dependencies;return t.directiveDefs=Da(i,!1),t.pipeDefs=Da(i,!0),t.id=function Tf(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Cf(n){return ht(n)||Fn(n)}function D0(n){return null!==n}function Mt(n){return ji(()=>({type:n.type,bootstrap:n.bootstrap||wt,declarations:n.declarations||wt,imports:n.imports||wt,exports:n.exports||wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Nu(n,e){if(null==n)return Vr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Te(n){return ji(()=>{const e=Ou(n);return a_(e),e})}function ht(n){return n[Du]||null}function Fn(n){return n[ts]||null}function Ti(n){return n[pf]||null}function ar(n,e){const t=n[Kc]||null;if(!t&&!0===e)throw new Error(`Type ${Lt(n)} does not have '\u0275mod' property.`);return t}function Ou(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Vr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Nu(n.inputs,e),outputs:Nu(n.outputs)}}function a_(n){n.features?.forEach(e=>e(n))}function Da(n,e){if(!n)return null;const t=e?Ti:Cf;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(D0)}const wn=0,_e=1,We=2,$t=3,Br=4,Yc=5,Wn=6,Aa=7,Tn=8,so=9,Sa=10,Be=11,Xc=12,Fu=13,ka=14,mn=15,Jc=16,rs=17,ao=18,Us=19,l_=20,co=21,Ro=22,el=23,Ma=24,it=25,os=1,Df=2,lo=7,Ra=9,si=11;function cr(n){return Array.isArray(n)&&"object"==typeof n[os]}function $i(n){return Array.isArray(n)&&!0===n[os]}function nl(n){return 0!=(4&n.flags)}function js(n){return n.componentOffset>-1}function Vu(n){return 1==(1&n.flags)}function uo(n){return!!n.template}function u_(n){return 0!=(512&n[We])}function ho(n,e){return n.hasOwnProperty(oo)?n[oo]:null}let ai=null,ss=!1;function Cr(n){const e=ai;return ai=n,e}const Dn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Bu(n){if(!cs(n)||n.dirty){if(!n.producerMustRecompute(n)&&!v_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function __(n){n.dirty=!0,function g_(n){if(void 0===n.liveConsumerNode)return;const e=ss;ss=!0;try{for(const t of n.liveConsumerNode)t.dirty||__(t)}finally{ss=e}}(n),n.consumerMarkedDirty?.(n)}function Mf(n){return n&&(n.nextProducerIndex=0),Cr(n)}function Uu(n,e){if(Cr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(cs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)as(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function v_(n){Na(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Bu(t),i!==t.version))return!0}return!1}function rl(n){if(Na(n),cs(n))for(let e=0;e<n.producerNode.length;e++)as(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function as(n,e){if(function ju(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Na(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)as(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Na(r),r.producerIndexOfThis[i]=e}}function cs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Na(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let w_=null;const x_=()=>{},N0=(()=>({...Dn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:x_}))();class O0{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Hi(){return C_}function C_(n){return n.type.prototype.ngOnChanges&&(n.setInput=L0),F0}function F0(){const n=T_(this),e=n?.current;if(e){const t=n.previous;if(t===Vr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function L0(n,e,t,i){const r=this.declaredInputs[t],o=T_(n)||function Of(n,e){return n[$u]=e}(n,{previous:Vr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new O0(c&&c.currentValue,e,a===Vr),n[i]=e}Hi.ngInherit=!0;const $u="__ngSimpleChanges__";function T_(n){return n[$u]||null}const fo=function(n,e,t){};function Ot(n){for(;Array.isArray(n);)n=n[wn];return n}function Fa(n,e){return Ot(e[n])}function Zn(n,e){return Ot(e[n.index])}function qu(n,e){return n.data[e]}function lr(n,e){const t=e[n];return cr(t)?t:t[wn]}function ls(n,e){return null==e?null:n[e]}function A_(n){n[rs]=0}function Uf(n){1024&n[We]||(n[We]|=1024,Gu(n,1))}function S_(n){1024&n[We]&&(n[We]&=-1025,Gu(n,-1))}function Gu(n,e){let t=n[$t];if(null===t)return;t[Yc]+=e;let i=t;for(t=t[$t];null!==t&&(1===e&&1===i[Yc]||-1===e&&0===i[Yc]);)t[Yc]+=e,i=t,t=t[$t]}const Ne={lFrame:F_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zu(){return Ne.bindingsEnabled}function us(){return null!==Ne.skipHydrationRootTNode}function ie(){return Ne.lFrame.lView}function ft(){return Ne.lFrame.tView}function Ht(n){return Ne.lFrame.contextLView=n,n[Tn]}function qt(n){return Ne.lFrame.contextLView=null,n}function Ln(){let n=N_();for(;null!==n&&64===n.type;)n=n.parent;return n}function N_(){return Ne.lFrame.currentTNode}function Tr(n,e){const t=Ne.lFrame;t.currentTNode=n,t.isParent=e}function Hf(){return Ne.lFrame.isParent}function cl(){Ne.lFrame.isParent=!1}function qs(){return Ne.lFrame.bindingIndex++}function mo(n){const e=Ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Zf(n,e){const t=Ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Kf(e)}function Kf(n){Ne.lFrame.currentDirectiveIndex=n}function Qf(n){const e=Ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Qu(){return Ne.lFrame.currentQueryIndex}function Yf(n){Ne.lFrame.currentQueryIndex=n}function q0(n){const e=n[_e];return 2===e.type?e.declTNode:1===e.type?n[Wn]:null}function Xf(n,e,t){if(t&lt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&lt.Host||(r=q0(o),null===r||(o=o[ka],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Ne.lFrame=ll();return i.currentTNode=e,i.lView=n,!0}function Jf(n){const e=ll(),t=n[_e];Ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ll(){const n=Ne.lFrame,e=null===n?null:n.child;return null===e?F_(n):e}function F_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function L_(){const n=Ne.lFrame;return Ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const V_=L_;function em(){const n=L_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Di(){return Ne.lFrame.selectedIndex}function Gs(n){Ne.lFrame.selectedIndex=n}function Yt(){const n=Ne.lFrame;return qu(n.tView,n.selectedIndex)}let tm=!0;function Yu(){return tm}function ds(n){tm=n}function Xu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Ju(n,e,t){z_(n,e,3,t)}function Va(n,e,t,i){(3&n[We])===t&&z_(n,e,t,i)}function ul(n,e){let t=n[We];(3&t)===e&&(t&=8191,t+=1,n[We]=t)}function z_(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[rs]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[rs]+=65536),(a<o||-1==o)&&(Y0(n,t,e,c),n[rs]=(4294901760&n[rs])+c+2),c++}function ed(n,e){fo(4,n,e);const t=Cr(null);try{e.call(n)}finally{Cr(t),fo(5,n,e)}}function Y0(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[We]>>13<n[rs]>>16&&(3&n[We])===e&&(n[We]+=8192,ed(a,o)):ed(a,o)}const Ws=-1;class dl{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function im(n){return n!==Ws}function hl(n){return 32767&n}function fl(n,e){let t=function eE(n){return n>>16}(n),i=e;for(;t>0;)i=i[ka],t--;return i}let rm=!0;function ml(n){const e=rm;return rm=n,e}const tE=255,hs=5;let nE=0;const po={};function nd(n,e){const t=G_(n,e);if(-1!==t)return t;const i=e[_e];i.firstCreatePass&&(n.injectorIndex=e.length,pl(i.data,n),pl(e,null),pl(i.blueprint,null));const r=id(n,e),o=n.injectorIndex;if(im(r)){const s=hl(r),a=fl(r,e),c=a[_e].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=r,o}function pl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function G_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function id(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=X_(r),null===i)return Ws;if(t++,r=r[ka],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ws}function gl(n,e,t){!function om(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ta)&&(i=t[Ta]),null==i&&(i=t[Ta]=nE++);const r=i&tE;e.data[n+(r>>hs)]|=1<<r}(n,e,t)}function W_(n,e,t){if(t&lt.Optional||void 0!==n)return n;Uc()}function rd(n,e,t,i){if(t&lt.Optional&&void 0===i&&(i=null),!(t&(lt.Self|lt.Host))){const r=n[so],o=gi(void 0);try{return r?r.get(e,i,t&lt.Optional):Qg(e,i,t&lt.Optional)}finally{gi(o)}}return W_(i,0,t)}function Z_(n,e,t,i=lt.Default,r){if(null!==n){if(2048&e[We]&&!(i&lt.Self)){const s=function sE(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[We]&&!(512&s[We]);){const a=K_(o,s,t,i|lt.Self,po);if(a!==po)return a;let c=o.parent;if(!c){const u=s[l_];if(u){const h=u.get(t,po,i);if(h!==po)return h}c=X_(s),s=s[ka]}o=c}return r}(n,e,t,i,po);if(s!==po)return s}const o=K_(n,e,t,i,po);if(o!==po)return o}return rd(e,t,i,r)}function K_(n,e,t,i,r){const o=function Q_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ta)?n[Ta]:void 0;return"number"==typeof e?e>=0?e&tE:oE:e}(t);if("function"==typeof o){if(!Xf(e,n,i))return i&lt.Host?W_(r,0,i):rd(e,t,i,r);try{let s;if(s=o(i),null!=s||i&lt.Optional)return s;Uc()}finally{V_()}}else if("number"==typeof o){let s=null,a=G_(n,e),c=Ws,u=i&lt.Host?e[mn][Wn]:null;for((-1===a||i&lt.SkipSelf)&&(c=-1===a?id(n,e):e[a+8],c!==Ws&&Y_(i,!1)?(s=e[_e],a=hl(c),e=fl(c,e)):a=-1);-1!==a;){const h=e[_e];if(sd(o,a,h.data)){const p=rE(a,e,t,s,i,u);if(p!==po)return p}c=e[a+8],c!==Ws&&Y_(i,e[_e].data[a+8]===u)&&sd(o,a,e)?(s=h,a=hl(c),e=fl(c,e)):a=-1}}return r}function rE(n,e,t,i,r,o){const s=e[_e],a=s.data[n+8],h=od(a,s,t,null==i?js(a)&&rm:i!=s&&0!=(3&a.type),r&lt.Host&&o===a);return null!==h?Zs(e,s,h,a):po}function od(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&uo(v)&&v.type===t)return c}return null}function Zs(n,e,t,i){let r=n[t];const o=e.data;if(function nm(n){return n instanceof dl}(r)){const s=r;s.resolving&&function Ca(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ie(n)}(o[t]));const a=ml(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?gi(s.injectImpl):null;Xf(n,i,lt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Q0(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=C_(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&gi(u),ml(a),s.resolving=!1,V_()}}return r}function sd(n,e,t){return!!(t[e+(n>>hs)]&1<<n)}function Y_(n,e){return!(n&lt.Self||n&lt.Host&&e)}class li{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Z_(this._tNode,this._lView,e,Tu(i),t)}}function oE(){return new li(Ln(),ie())}function En(n){return ji(()=>{const e=n.prototype.constructor,t=e[oo]||Ba(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[oo]||Ba(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ba(n){return oe(n)?()=>{const e=Ba(S(n));return e&&e()}:ho(n)}function X_(n){const e=n[_e],t=e.type;return 2===t?e.declTNode:1===t?n[Wn]:null}const Ua="__parameters__";function go(n,e,t){return ji(()=>{const i=function am(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,u,h){const p=c.hasOwnProperty(Ua)?c[Ua]:Object.defineProperty(c,Ua,{value:[]})[Ua];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function za(n,e){n.forEach(t=>Array.isArray(t)?za(t,e):e(t))}function cd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function $a(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function yl(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function dr(n,e,t){let i=Ha(n,e);return i>=0?n[1|i]=t:(i=~i,function ms(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function cm(n,e){const t=Ha(n,e);if(t>=0)return n[1|t]}function Ha(n,e){return function Ai(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const ps=So(go("Optional"),8),wl=So(go("SkipSelf"),4);function dv(n){return 128==(128&n.flags)}var Ga=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ga||{});const vE=new Map;let cz=0;const bE="__ngContext__";function qi(n,e){cr(e)?(n[bE]=e[Us],function uz(n){vE.set(n[Us],n)}(e)):n[bE]=e}let wE;function EE(n,e){return wE(n,e)}function pm(n){const e=n[$t];return $i(e)?e[$t]:e}function Pk(n){return Ok(n[Xc])}function Nk(n){return Ok(n[Br])}function Ok(n){for(;null!==n&&!$i(n);)n=n[Br];return n}function md(n,e,t,i,r){if(null!=i){let o,s=!1;$i(i)?o=i:cr(i)&&(s=!0,i=i[wn]);const a=Ot(i);0===n&&null!==t?null==r?Bk(e,t,a):Il(e,t,a,r||null,!0):1===n&&null!==t?Il(e,t,a,r||null,!0):2===n?function vv(n,e,t){const i=gv(n,e);i&&function Sz(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Rz(n,e,t,i,r){const o=t[lo];o!==Ot(t)&&md(e,n,i,o,r);for(let a=si;a<t.length;a++){const c=t[a];_m(c[_e],c,n,e,i,o)}}(e,n,o,t,r)}}function mv(n,e,t){return n.createElement(e,t)}function Lk(n,e){const t=n[Ra],i=t.indexOf(e);S_(e),t.splice(i,1)}function pv(n,e){if(n.length<=si)return;const t=si+e,i=n[t];if(i){const r=i[Jc];null!==r&&r!==n&&Lk(r,i),e>0&&(n[t-1][Br]=i[Br]);const o=$a(n,si+e);!function wz(n,e){_m(n,e,e[Be],2,null,null),e[wn]=null,e[Wn]=null}(i[_e],i);const s=o[ao];null!==s&&s.detachView(o[_e]),i[$t]=null,i[Br]=null,i[We]&=-129}return i}function xE(n,e){if(!(256&e[We])){const t=e[Be];e[el]&&rl(e[el]),e[Ma]&&rl(e[Ma]),t.destroyNode&&_m(n,e,t,3,null,null),function xz(n){let e=n[Xc];if(!e)return CE(n[_e],n);for(;e;){let t=null;if(cr(e))t=e[Xc];else{const i=e[si];i&&(t=i)}if(!t){for(;e&&!e[Br]&&e!==n;)cr(e)&&CE(e[_e],e),e=e[$t];null===e&&(e=n),cr(e)&&CE(e[_e],e),t=e&&e[Br]}e=t}}(e)}}function CE(n,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function Az(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof dl)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];fo(4,a,c);try{c.call(a)}finally{fo(5,a,c)}}else{fo(4,r,o);try{o.call(r)}finally{fo(5,r,o)}}}}}(n,e),function Dz(n,e){const t=n.cleanup,i=e[Aa];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Aa]=null);const r=e[co];if(null!==r){e[co]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[_e].type&&e[Be].destroy();const t=e[Jc];if(null!==t&&$i(e[$t])){t!==e[$t]&&Lk(t,e);const i=e[ao];null!==i&&i.detachView(n)}!function dz(n){vE.delete(n[Us])}(e)}}function TE(n,e,t){return function Vk(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[wn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===or.None||o===or.Emulated)return null}return Zn(i,t)}}(n,e.parent,t)}function Il(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Bk(n,e,t){n.appendChild(e,t)}function Uk(n,e,t,i,r){null!==i?Il(n,e,t,i,r):Bk(n,e,t)}function gv(n,e){return n.parentNode(e)}function jk(n,e,t){return $k(n,e,t)}let DE,ME,bv,$k=function zk(n,e,t){return 40&n.type?Zn(n,t):null};function _v(n,e,t,i){const r=TE(n,i,e),o=e[Be],a=jk(i.parent||e[Wn],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)Uk(o,r,t[c],a,!1);else Uk(o,r,t,a,!1);void 0!==DE&&DE(o,i,e,t,r)}function gm(n,e){if(null!==e){const t=e.type;if(3&t)return Zn(e,n);if(4&t)return AE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return gm(n,i);{const r=n[e.index];return $i(r)?AE(-1,r):Ot(r)}}if(32&t)return EE(e,n)()||Ot(n[e.index]);{const i=qk(n,e);return null!==i?Array.isArray(i)?i[0]:gm(pm(n[mn]),i):gm(n,e.next)}}return null}function qk(n,e){return null!==e?n[mn][Wn].projection[e.projection]:null}function AE(n,e){const t=si+n+1;if(t<e.length){const i=e[t],r=i[_e].firstChild;if(null!==r)return gm(i,r)}return e[lo]}function SE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&qi(Ot(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)SE(n,e,t.child,i,r,o,!1),md(e,n,r,a,o);else if(32&c){const u=EE(t,i);let h;for(;h=u();)md(e,n,r,h,o);md(e,n,r,a,o)}else 16&c?Wk(n,e,i,t,r,o):md(e,n,r,a,o);t=s?t.projectionNext:t.next}}function _m(n,e,t,i,r,o){SE(t,i,n.firstChild,e,r,o,!1)}function Wk(n,e,t,i,r,o){const s=t[mn],c=s[Wn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)md(e,n,r,c[u],o);else{let u=c;const h=s[$t];dv(i)&&(u.flags|=128),SE(n,e,u,h,r,o,!0)}}function Zk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Kk(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Su(n,e,i),null!==r&&Zk(n,e,r),null!==o&&function Nz(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Xk(n){return function RE(){if(void 0===bv&&(bv=null,kt.trustedTypes))try{bv=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bv}()?.createScriptURL(n)||n}class xl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}function jr(n){return n instanceof xl?n.changingThisBreaksApplicationSecurity:n}function gs(n,e){const t=function Hz(n){return n instanceof xl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${nt})`)}return t===e}const Jz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Si=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Si||{});function ym(n){const e=bm();return e?e.sanitize(Si.URL,n)||"":gs(n,"URL")?jr(n):function wv(n){return(n=String(n)).match(Jz)?n:"unsafe:"+n}(Ie(n))}function sM(n){const e=bm();if(e)return Xk(e.sanitize(Si.RESOURCE_URL,n)||"");if(gs(n,"ResourceURL"))return Xk(jr(n));throw new P(904,!1)}function bm(){const n=ie();return n&&n[Sa].sanitizer}const wm=new ne("ENVIRONMENT_INITIALIZER"),cM=new ne("INJECTOR",-1),lM=new ne("INJECTOR_DEF_TYPES");class FE{get(e,t=rr){if(t===rr){const i=new Error(`NullInjectorError: No provider for ${Lt(e)}!`);throw i.name="NullInjectorError",i}return t}}function d$(...n){return{\u0275providers:uM(0,n),\u0275fromNgModule:!0}}function uM(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return za(e,s=>{const a=s;Iv(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&dM(r,o),t}function dM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];VE(r,o=>{e(o,i)})}}function Iv(n,e,t,i){if(!(n=S(n)))return!1;let r=null,o=Ao(n);const s=!o&&ht(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Ao(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Iv(u,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{za(o.imports,h=>{Iv(h,e,t,i)&&(u||=[],u.push(h))})}finally{}void 0!==u&&dM(u,e)}if(!a){const u=ho(r)||(()=>new r);e({provide:r,useFactory:u,deps:wt},r),e({provide:lM,useValue:r,multi:!0},r),e({provide:wm,useValue:()=>z(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const u=n;VE(c,h=>{e(h,u)})}}}return r!==n&&void 0!==n.providers}function VE(n,e){for(let t of n)Se(t)&&(t=t.\u0275providers),Array.isArray(t)?VE(t,e):e(t)}const h$=we({provide:String,useValue:we});function BE(n){return null!==n&&"object"==typeof n&&h$ in n}function Cl(n){return"function"==typeof n}const UE=new ne("Set Injector scope."),xv={},m$={};let jE;function Cv(){return void 0===jE&&(jE=new FE),jE}class zr{}class _d extends zr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$E(e,s=>this.processProvider(s)),this.records.set(cM,vd(void 0,this)),r.has("environment")&&this.records.set(zr,vd(void 0,this));const o=this.records.get(UE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lM.multi,wt,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ro(this),i=gi(void 0);try{return e()}finally{ro(t),gi(i)}}get(e,t=rr,i=lt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Au))return e[Au](this);i=Tu(i);const o=ro(this),s=gi(void 0);try{if(!(i&lt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function y$(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(e)&&jc(e);c=u&&this.injectableDefInScope(u)?vd(zE(e),xv):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&lt.Self?Cv():this.parent).get(e,t=i&lt.Optional&&t===rr?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[xu]=a[xu]||[]).unshift(Lt(e)),o)throw a;return function mf(n,e,t,i){const r=n[xu];throw e[n_]&&r.unshift(e[n_]),n.message=function ko(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Lt(e);if(Array.isArray(e))r=e.map(Lt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Lt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(E0,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[xu]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{gi(s),ro(o)}}resolveInjectorInitializers(){const e=ro(this),t=gi(void 0);try{const r=this.get(wm.multi,wt,lt.Self);for(const o of r)o()}finally{ro(e),gi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Lt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let t=Cl(e=S(e))?e:S(e&&e.provide);const i=function g$(n){return BE(n)?vd(void 0,n.useValue):vd(mM(n),xv)}(e);if(Cl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=vd(void 0,xv,!0),r.factory=()=>ff(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===xv&&(t.value=m$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function v$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=S(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function zE(n){const e=jc(n),t=null!==e?e.factory:ho(n);if(null!==t)return t;if(n instanceof ne)throw new P(204,!1);if(n instanceof Function)return function p$(n){const e=n.length;if(e>0)throw yl(e,"?"),new P(204,!1);const t=function b0(n){return n&&(n[zc]||n[Zg])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new P(204,!1)}function mM(n,e,t){let i;if(Cl(n)){const r=S(n);return ho(r)||zE(r)}if(BE(n))i=()=>S(n.useValue);else if(function fM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ff(n.deps||[]));else if(function hM(n){return!(!n||!n.useExisting)}(n))i=()=>z(S(n.useExisting));else{const r=S(n&&(n.useClass||n.provide));if(!function _$(n){return!!n.deps}(n))return ho(r)||zE(r);i=()=>new r(...ff(n.deps))}return i}function vd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $E(n,e){for(const t of n)Array.isArray(t)?$E(t,e):t&&Se(t)?$E(t.\u0275providers,e):e(t)}const Tv=new ne("AppId",{providedIn:"root",factory:()=>b$}),b$="ng",pM=new ne("Platform Initializer"),Oo=new ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yd=new ne("AnimationModuleType"),HE=new ne("CSP nonce",{providedIn:"root",factory:()=>function gd(){if(void 0!==ME)return ME;if(typeof document<"u")return document;throw new P(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gM=(n,e,t)=>null;function XE(n,e,t=!1){return gM(n,e,t)}class k${}class yM{}class R${resolveComponentFactory(e){throw function M$(n){const e=Error(`No component factory found for ${Lt(n)}.`);return e.ngComponent=n,e}(e)}}let Rv=(()=>{class n{static#e=this.NULL=new R$}return n})();function P$(){return Ed(Ln(),ie())}function Ed(n,e){return new Xt(Zn(n,e))}let Xt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=P$}return n})();function N$(n){return n instanceof Xt?n.nativeElement:n}class xm{}let Ys=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function O$(){const n=ie(),t=lr(Ln().index,n);return(cr(t)?t:n)[Be]}()}return n})(),F$=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>null})}return n})();class Wa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wM=new Wa("16.2.11"),tI={};function CM(n,e=null,t=null,i){const r=TM(n,e,t,i);return r.resolveInjectorInitializers(),r}function TM(n,e=null,t=null,i,r=new Set){const o=[t||wt,d$(n)];return i=i||("object"==typeof n?void 0:Lt(n)),new _d(o,e||Cv(),i||null,r)}let Ar=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=rr;static#t=this.NULL=new FE;static create(t,i){if(Array.isArray(t))return CM({name:""},i,t,"");{const r=t.name??"";return CM({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=de({token:n,providedIn:"any",factory:()=>z(cM)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function iI(n){return n.ngOriginalError}class Fo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&iI(e);for(;t&&iI(t);)t=iI(t);return t||null}}function oI(n){return e=>{setTimeout(n,void 0,e)}}const Vt=class $$ extends B{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=oI(o),r&&(r=oI(r)),s&&(s=oI(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof pt&&e.add(a),a}};function AM(...n){}class ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vt(!1),this.onMicrotaskEmpty=new Vt(!1),this.onStable=new Vt(!1),this.onError=new Vt(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function H$(){const n="function"==typeof kt.requestAnimationFrame;let e=kt[n?"requestAnimationFrame":"setTimeout"],t=kt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function W$(n){const e=()=>{!function G$(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(kt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,aI(n),n.isCheckStableRunning=!0,sI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),aI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function K$(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return SM(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),kM(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return SM(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),kM(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,aI(n),sI(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new P(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,q$,AM,AM);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const q$={};function sI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function SM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kM(n){n._nesting--,sI(n)}class Z${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vt,this.onMicrotaskEmpty=new Vt,this.onStable=new Vt,this.onError=new Vt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const MM=new ne("",{providedIn:"root",factory:RM});function RM(){const n=ue(ze);let e=!0;return Z(new Qe(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Qe(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{ze.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Fe()))}function Xs(n){return n instanceof Function?n():n}let cI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function Cm(n){for(;n;){n[We]|=64;const e=pm(n);if(u_(n)&&!e)return n;n=e}return null}const LM=new ne("",{providedIn:"root",factory:()=>!1});let Nv=null;function jM(n,e){return n[e]??HM()}function zM(n,e){const t=HM();t.producerNode?.length&&(n[e]=Nv,t.lView=n,Nv=$M())}const oH={...Dn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Cm(n.lView)},lView:null};function $M(){return Object.create(oH)}function HM(){return Nv??=$M(),Nv}const Ke={};function Le(n){qM(ft(),ie(),Di()+n,!1)}function qM(n,e,t,i){if(!i)if(3==(3&e[We])){const o=n.preOrderCheckHooks;null!==o&&Ju(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Va(e,o,0,t)}Gs(t)}function N(n,e=lt.Default){const t=ie();return null===t?z(n,e):Z_(Ln(),t,S(n),e)}function Ov(n,e,t,i,r,o,s,a,c,u,h){const p=e.blueprint.slice();return p[wn]=r,p[We]=140|i,(null!==u||n&&2048&n[We])&&(p[We]|=2048),A_(p),p[$t]=p[ka]=n,p[Tn]=t,p[Sa]=s||n&&n[Sa],p[Be]=a||n&&n[Be],p[so]=c||n&&n[so]||null,p[Wn]=o,p[Us]=function lz(){return cz++}(),p[Ro]=h,p[l_]=u,p[mn]=2==e.type?n[mn]:p,p}function Cd(n,e,t,i,r){let o=n.data[e];if(null===o)o=function lI(n,e,t,i,r){const o=N_(),s=Hf(),c=n.data[e]=function fH(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return us()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function $0(){return Ne.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function al(){const n=Ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Tr(o,!0),o}function Tm(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function WM(n,e,t,i,r){const o=jM(e,el),s=Di(),a=2&i;try{Gs(-1),a&&e.length>it&&qM(n,e,it,!1),fo(a?2:0,r);const u=a?o:null,h=Mf(u);try{null!==u&&(u.dirty=!1),t(i,r)}finally{Uu(u,h)}}finally{a&&null===e[el]&&zM(e,el),Gs(s),fo(a?3:1,r)}}function uI(n,e,t){if(nl(e)){const i=Cr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Cr(i)}}}function dI(n,e,t){Zu()&&(function bH(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;js(t)&&function DH(n,e,t){const i=Zn(e,n),r=ZM(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Fv(n,Ov(n,r,null,s,i,e,null,n[Sa].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||nd(t,e),qi(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],u=Zs(e,n,a,t);qi(u,e),null!==s&&AH(0,a-r,u,c,0,s),uo(c)&&(lr(t.index,e)[Tn]=Zs(e,n,a,t))}}(n,e,t,Zn(t,e)),64==(64&t.flags)&&JM(n,e,t))}function hI(n,e,t=Zn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function ZM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=fI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function fI(n,e,t,i,r,o,s,a,c,u,h){const p=it+i,g=p+r,v=function aH(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ke);return t}(p,g),b="function"==typeof u?u():u;return v[_e]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let KM=n=>null;function QM(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?YM(t,e,r,o):i.hasOwnProperty(r)&&YM(t,e,i[r],o)}return t}function YM(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function $r(n,e,t,i,r,o,s,a){const c=Zn(e,t);let h,u=e.inputs;!a&&null!=u&&(h=u[i])?(vI(n,t,h,i,r),js(e)&&function gH(n,e){const t=lr(e,n);16&t[We]||(t[We]|=64)}(t,e.index)):3&e.type&&(i=function pH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function mI(n,e,t,i){if(Zu()){const r=null===i?null:{"":-1},o=function EH(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(wf(e,s.selectors,!1))if(i||(i=[]),uo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),pI(n,e,a.length)}else i.unshift(s),pI(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&XM(n,e,t,s,r,a),r&&function IH(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new P(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ns(t.mergedAttrs,t.attrs)}function XM(n,e,t,i,r,o){for(let u=0;u<i.length;u++)gl(nd(t,e),n,i[u].type);!function CH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let u=0;u<i.length;u++){const h=i[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=Tm(n,e,i.length,null);for(let u=0;u<i.length;u++){const h=i[u];t.mergedAttrs=ns(t.mergedAttrs,h.hostAttrs),TH(n,t,e,c,h),xH(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function mH(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,u=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=QM(p.inputs,h,c,g?g.inputs:null),u=QM(p.outputs,h,u,b);const w=null===c||null===s||Mu(e)?null:SH(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,o)}function JM(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function H0(){return Ne.lFrame.currentDirectiveIndex}();try{Gs(o);for(let a=i;a<r;a++){const c=n.data[a],u=e[a];Kf(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&wH(c,u)}}finally{Gs(-1),Kf(s)}}function wH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function pI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function xH(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;uo(e)&&(t[""]=n)}}function TH(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ho(r.type)),s=new dl(o,uo(r),N);n.blueprint[i]=s,t[i]=s,function vH(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function yH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Tm(n,t,r.hostVars,Ke),r)}function _s(n,e,t,i,r,o){const s=Zn(n,e);!function gI(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ie(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Be],s,o,n.value,t,i,r)}function AH(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)eR(i,t,s[a++],s[a++],s[a++])}function eR(n,e,t,i,r){const o=Cr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Cr(o)}}function SH(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function tR(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function nR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];Yf(t[i]),s.contentQueries(2,e[o],o)}}}function Fv(n,e){return n[Xc]?n[Fu][Br]=e:n[Xc]=e,n[Fu]=e,e}function _I(n,e,t){Yf(0);const i=Cr(null);try{e(n,t)}finally{Cr(i)}}function iR(n){return n[Aa]||(n[Aa]=[])}function rR(n){return n.cleanup||(n.cleanup=[])}function oR(n,e,t){return(null===n||uo(n))&&(t=function Vf(n){for(;Array.isArray(n);){if("object"==typeof n[os])return n;n=n[wn]}return null}(t[e.index])),t[Be]}function sR(n,e){const t=n[so],i=t?t.get(Fo,null):null;i&&i.handleError(e)}function vI(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];eR(n.data[s],e[s],i,a,r)}}function Js(n,e,t){const i=Fa(e,n);!function Fk(n,e,t){n.setValue(e,t)}(n[Be],i,t)}function kH(n,e){const t=lr(e,n),i=t[_e];!function MH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[wn];null!==r&&null===t[Ro]&&(t[Ro]=XE(r,t[so])),yI(i,t,t[Tn])}function yI(n,e,t){Jf(e);try{const i=n.viewQuery;null!==i&&_I(1,i,t);const r=n.template;null!==r&&WM(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&nR(n,e),n.staticViewQueries&&_I(2,n.viewQuery,t);const o=n.components;null!==o&&function RH(n,e){for(let t=0;t<e.length;t++)kH(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[We]&=-5,em()}}let aR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function P0(n,e,t){const i=Object.create(N0);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>__(i),run:()=>{if(i.dirty=!1,i.hasRun&&!v_(i))return;i.hasRun=!0;const s=Mf(i);try{i.cleanupFn(),i.cleanupFn=x_,i.fn(r)}finally{Uu(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function Lv(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=no(r,a):2==o&&(i=no(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Dm(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Ot(o)),$i(o)&&cR(o,i);const s=t.type;if(8&s)Dm(n,e,t.child,i);else if(32&s){const a=EE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=qk(e,t);if(Array.isArray(a))i.push(...a);else{const c=pm(e[mn]);Dm(c[_e],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function cR(n,e){for(let t=si;t<n.length;t++){const i=n[t],r=i[_e].firstChild;null!==r&&Dm(i[_e],i,r,e)}n[lo]!==n[wn]&&e.push(n[lo])}function Vv(n,e,t,i=!0){const r=e[Sa],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{lR(n,e,n.template,t)}catch(c){throw i&&sR(e,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function lR(n,e,t,i){const r=e[We];if(256!=(256&r)){e[Sa].effectManager?.flush(),Jf(e);try{A_(e),function Gf(n){return Ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&WM(n,e,t,2,i);const s=3==(3&r);if(s){const u=n.preOrderCheckHooks;null!==u&&Ju(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Va(e,u,0,null),ul(e,0)}if(function OH(n){for(let e=Pk(n);null!==e;e=Nk(e)){if(!e[Df])continue;const t=e[Ra];for(let i=0;i<t.length;i++){Uf(t[i])}}}(e),uR(e,2),null!==n.contentQueries&&nR(n,e),s){const u=n.contentCheckHooks;null!==u&&Ju(e,u)}else{const u=n.contentHooks;null!==u&&Va(e,u,1),ul(e,1)}!function sH(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=jM(e,Ma);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Gs(~o);else{const s=o,a=t[++r],c=t[++r];Zf(a,s),i.dirty=!1;const u=Mf(i);try{c(2,e[s])}finally{Uu(i,u)}}}}finally{null===e[Ma]&&zM(e,Ma),Gs(-1)}}(n,e);const a=n.components;null!==a&&hR(e,a,0);const c=n.viewQuery;if(null!==c&&_I(2,c,i),s){const u=n.viewCheckHooks;null!==u&&Ju(e,u)}else{const u=n.viewHooks;null!==u&&Va(e,u,2),ul(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[We]&=-73,S_(e)}finally{em()}}}function uR(n,e){for(let t=Pk(n);null!==t;t=Nk(t))for(let i=si;i<t.length;i++)dR(t[i],e)}function FH(n,e,t){dR(lr(e,n),t)}function dR(n,e){if(!function Bf(n){return 128==(128&n[We])}(n))return;const t=n[_e],i=n[We];if(80&i&&0===e||1024&i||2===e)lR(t,n,t.template,n[Tn]);else if(n[Yc]>0){uR(n,1);const r=t.components;null!==r&&hR(n,r,1)}}function hR(n,e,t){for(let i=0;i<e.length;i++)FH(n,e[i],t)}class Am{get rootNodes(){const e=this._lView,t=e[_e];return Dm(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(e){this._lView[Tn]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$t];if($i(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(pv(e,i),$a(t,i))}this._attachedToViewContainer=!1}xE(this._lView[_e],this._lView)}onDestroy(e){!function k_(n,e){if(256==(256&n[We]))throw new P(911,!1);null===n[co]&&(n[co]=[]),n[co].push(e)}(this._lView,e)}markForCheck(){Cm(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){Vv(this._lView[_e],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iz(n,e){_m(n,e,e[Be],2,null,null)}(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class LH extends Am{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Vv(e[_e],e,e[Tn],!1)}checkNoChanges(){}get context(){return null}}class fR extends Rv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ht(e);return new Sm(t,this.ngModule)}}function mR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class BH{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Tu(i);const r=this.injector.get(e,tI,i);return r!==tI||t===tI?r:this.parentInjector.get(e,t,i)}}class Sm extends yM{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=mR(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return mR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xf(n){return n.map(o_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof zr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new BH(e,o):e,a=s.get(xm,null);if(null===a)throw new P(407,!1);const p={rendererFactory:a,sanitizer:s.get(F$,null),effectManager:s.get(aR,null),afterRenderEventManager:s.get(cI,null)},g=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=i?function cH(n,e,t,i){const o=i.get(LM,!1)||t===or.ShadowDom,s=n.selectRootElement(e,o);return function lH(n){KM(n)}(s),s}(g,i,this.componentDef.encapsulation,s):mv(g,v,function VH(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==b&&(A=XE(b,s,!0));const L=fI(0,null,null,1,0,null,null,null,null,null,null),Y=Ov(null,L,null,M,null,null,p,g,s,null,A);let le,De;Jf(Y);try{const He=this.componentDef;let Wt,Ir=null;He.findHostDirectiveDefs?(Wt=[],Ir=new Map,He.findHostDirectiveDefs(He,Wt,Ir),Wt.push(He)):Wt=[He];const Or=function jH(n,e){const t=n[_e],i=it;return n[i]=e,Cd(t,i,2,"#host",null)}(Y,b),h0=function zH(n,e,t,i,r,o,s){const a=r[_e];!function $H(n,e,t,i){for(const r of n)e.mergedAttrs=ns(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Lv(e,e.mergedAttrs,!0),null!==t&&Kk(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=XE(e,r[so]));const u=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=Ov(r,ZM(t),null,h,r[n.index],n,o,u,null,null,c);return a.firstCreatePass&&pI(a,n,i.length-1),Fv(r,p),r[n.index]=p}(Or,b,He,Wt,Y,p,g);De=qu(L,it),b&&function qH(n,e,t,i){if(i)Su(n,t,["ng-version",wM.full]);else{const{attrs:r,classes:o}=function s_(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!zi(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Su(n,t,r),o&&o.length>0&&Zk(n,t,o.join(" "))}}(g,He,b,i),void 0!==t&&function GH(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(De,this.ngContentSelectors,t),le=function HH(n,e,t,i,r,o){const s=Ln(),a=r[_e],c=Zn(s,r);XM(a,r,s,t,null,i);for(let h=0;h<t.length;h++)qi(Zs(r,a,s.directiveStart+h,s),r);JM(a,r,s),c&&qi(c,r);const u=Zs(r,a,s.directiveStart+s.componentOffset,s);if(n[Tn]=r[Tn]=u,null!==o)for(const h of o)h(u,e);return uI(a,s,n),u}(h0,He,Wt,Ir,Y,[WH]),yI(L,Y,null)}finally{em()}return new UH(this.componentType,le,Ed(De,Y),Y,De)}}class UH extends k${constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new LH(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;vI(o[_e],o,r,e,t),this.previousInputValues.set(e,t),Cm(lr(this._tNode.index,o))}}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function WH(){const n=Ln();Xu(ie()[_e],n)}function st(n){let e=function pR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(uo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Bv(n.inputs),s.inputTransforms=Bv(n.inputTransforms),s.declaredInputs=Bv(n.declaredInputs),s.outputs=Bv(n.outputs);const a=r.hostBindings;a&&YH(n,a);const c=r.viewQuery,u=r.contentQueries;if(c&&KH(n,c),u&&QH(n,u),ri(n.inputs,r.inputs),ri(n.declaredInputs,r.declaredInputs),ri(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ri(s.inputTransforms,r.inputTransforms)),uo(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===st&&(t=!1)}}e=Object.getPrototypeOf(e)}!function ZH(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ns(r.hostAttrs,t=ns(t,r.hostAttrs))}}(i)}function Bv(n){return n===Vr?{}:n===wt?[]:n}function KH(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function QH(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function YH(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function yR(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function Uv(n){return!!function bI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Gi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ki(n,e,t,i){const r=ie();return Gi(r,qs(),e)&&(ft(),_s(Yt(),r,n,e,t,i)),ki}function Dd(n,e,t,i){return Gi(n,qs(),t)?e+Ie(t)+i:Ke}function Ad(n,e,t,i,r,o){const a=function Tl(n,e,t,i){const r=Gi(n,e,t);return Gi(n,e+1,i)||r}(n,function Po(){return Ne.lFrame.bindingIndex}(),t,r);return mo(2),a?e+Ie(t)+i+Ie(r)+o:Ke}function At(n,e,t,i,r,o,s,a){const c=ie(),u=ft(),h=n+it,p=u.firstCreatePass?function E5(n,e,t,i,r,o,s,a,c){const u=e.consts,h=Cd(e,n,4,s||null,ls(u,a));mI(e,t,h,ls(u,c)),Xu(e,h);const p=h.tView=fI(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,u,c,e,t,i,r,o,s):u.data[h];Tr(p,!1);const g=RR(u,c,p,n);Yu()&&_v(u,c,g,p),qi(g,c),Fv(c,c[h]=tR(g,c,g,p)),Vu(p)&&dI(u,c,p),null!=s&&hI(c,p,a)}let RR=function PR(n,e,t,i){return ds(!0),e[Be].createComment("")};function Lo(n){return function La(n,e){return n[e]}(function Ku(){return Ne.lFrame.contextLView}(),it+n)}function rt(n,e,t){const i=ie();return Gi(i,qs(),e)&&$r(ft(),Yt(),i,n,e,i[Be],t,!1),rt}function TI(n,e,t,i,r){const s=r?"class":"style";vI(n,t,e.inputs[s],s,i)}function V(n,e,t,i){const r=ie(),o=ft(),s=it+n,a=r[Be],c=o.firstCreatePass?function T5(n,e,t,i,r,o){const s=e.consts,c=Cd(e,n,2,i,ls(s,r));return mI(e,t,c,ls(s,o)),null!==c.attrs&&Lv(c,c.attrs,!1),null!==c.mergedAttrs&&Lv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],u=NR(o,r,c,a,e,n);r[s]=u;const h=Vu(c);return Tr(c,!0),Kk(a,u,c),32!=(32&c.flags)&&Yu()&&_v(o,r,u,c),0===function B0(){return Ne.lFrame.elementDepthCount}()&&qi(u,r),function U0(){Ne.lFrame.elementDepthCount++}(),h&&(dI(o,r,c),uI(o,c,r)),null!==i&&hI(r,c),V}function $(){let n=Ln();Hf()?cl():(n=n.parent,Tr(n,!1));const e=n;(function j0(n){return Ne.skipHydrationRootTNode===n})(e)&&function z0(){Ne.skipHydrationRootTNode=null}(),function zf(){Ne.lFrame.elementDepthCount--}();const t=ft();return t.firstCreatePass&&(Xu(t,n),nl(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function q_(n){return 0!=(8&n.flags)}(e)&&TI(t,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function td(n){return 0!=(16&n.flags)}(e)&&TI(t,e,ie(),e.stylesWithoutHost,!1),$}function ut(n,e,t,i){return V(n,e,t,i),$(),ut}let NR=(n,e,t,i,r,o)=>(ds(!0),mv(i,r,function j_(){return Ne.lFrame.currentNamespace}()));function Za(){return ie()}function Nm(n){return!!n&&"function"==typeof n.then}function LR(n){return!!n&&"function"==typeof n.subscribe}function mt(n,e,t,i){const r=ie(),o=ft(),s=Ln();return VR(o,r,r[Be],s,n,e,i),mt}function SI(n,e){const t=Ln(),i=ie(),r=ft();return VR(r,i,oR(Qf(r.data),t,i),t,n,e),SI}function VR(n,e,t,i,r,o,s){const a=Vu(i),u=n.firstCreatePass&&rR(n),h=e[Tn],p=iR(e);let g=!0;if(3&i.type||s){const w=Zn(i,e),I=s?s(w):w,M=p.length,A=s?Y=>s(Ot(Y[i.index])):i.index;let L=null;if(!s&&a&&(L=function R5(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Aa],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,g=!1;else{o=UR(i,e,h,o,!1);const Y=t.listen(I,r,o);p.push(o,Y),u&&u.push(r,A,M,M+1)}}else o=UR(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let I=0;I<w;I+=2){const le=e[b[I]][b[I+1]].subscribe(o),De=p.length;p.push(o,le),u&&u.push(r,i.index,De,-(De+1))}}}function BR(n,e,t,i){try{return fo(6,e,t),!1!==t(i)}catch(r){return sR(n,r),!1}finally{fo(7,e,t)}}function UR(n,e,t,i,r){return function o(s){if(s===Function)return i;Cm(n.componentOffset>-1?lr(n.index,e):e);let c=BR(e,t,i,s),u=o.__ngNextListenerFn__;for(;u;)c=BR(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function dt(n=1){return function G0(n){return(Ne.lFrame.contextLView=function W0(n,e){for(;n>0;)e=e[ka],n--;return e}(n,Ne.lFrame.contextLView))[Tn]}(n)}function P5(n,e){let t=null;const i=function Ef(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?wf(n,o,!0):Ru(i,o))return r}else t=r}return t}function Hr(n){const e=ie()[mn][Wn];if(!e.projection){const i=e.projection=yl(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?P5(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Jt(n,e=0,t){const i=ie(),r=ft(),o=Cd(r,it+n,16,null,t||null);null===o.projection&&(o.projection=e),cl(),(!i[Ro]||us())&&32!=(32&o.flags)&&function Mz(n,e,t){Wk(e[Be],0,e,t,TE(n,t,e),jk(t.parent||e[Wn],t,e))}(r,i,o)}function Od(n,e,t){return kI(n,"",e,"",t),Od}function kI(n,e,t,i,r){const o=ie(),s=Dd(o,e,t,i);return s!==Ke&&$r(ft(),Yt(),o,n,s,o[Be],r,!1),kI}function qv(n,e){return n<<17|e<<2}function Ka(n){return n>>17&32767}function MI(n){return 2|n}function Dl(n){return(131068&n)>>2}function RI(n,e){return-131069&n|e<<2}function PI(n){return 1|n}function KR(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Ka(o):Dl(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];B5(n[a],e)&&(c=!0,n[a+1]=i?PI(h):MI(h)),a=i?Ka(h):Dl(h)}c&&(n[t+1]=i?MI(o):PI(o))}function B5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ha(n,e)>=0}function Om(n,e,t){return Vo(n,e,t,!1),Om}function _i(n,e){return Vo(n,e,null,!0),_i}function Vo(n,e,t,i){const r=ie(),o=ft(),s=mo(2);o.firstUpdatePass&&function r1(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Di()],s=function n1(n,e){return e>=n.expandoStartIndex}(n,t);(function c1(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function Z5(n,e,t,i){const r=Qf(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Fm(t=NI(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=NI(r,n,e,t,i),null===o){let c=function K5(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Dl(i))return n[Ka(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=NI(null,n,e,c[1],i),c=Fm(c,e.attrs,i),function Q5(n,e,t,i){n[Ka(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function Y5(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Fm(i,n[o].hostAttrs,t);return Fm(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function L5(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ka(s),c=Dl(s);n[i]=t;let h,u=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ha(t,h)>0)&&(u=!0)):h=t,r)if(0!==c){const g=Ka(n[a+1]);n[i+1]=qv(g,a),0!==g&&(n[g+1]=RI(n[g+1],i)),n[a+1]=function O5(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=qv(a,0),0!==a&&(n[a+1]=RI(n[a+1],i)),a=i;else n[i+1]=qv(c,0),0===a?a=i:n[c+1]=RI(n[c+1],i),c=i;u&&(n[i+1]=MI(n[i+1])),KR(n,h,i,!0),KR(n,h,i,!1),function V5(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ha(o,e)>=0&&(t[i+1]=PI(t[i+1]))}(e,h,n,i,o),s=qv(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==Ke&&Gi(r,s,e)&&function s1(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],h=function F5(n){return 1==(1&n)}(u)?a1(c,e,t,r,Dl(u),s):void 0;Gv(h)||(Gv(o)||function N5(n){return 2==(2&n)}(u)&&(o=a1(c,null,t,r,a,s)),function Pz(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ga.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ga.Important),n.setStyle(t,i,r,o))}}(i,s,Fa(Di(),t),r,o))}(o,o.data[Di()],r,r[Be],n,r[s+1]=function t6(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Lt(jr(n)))),n}(e,t),i,s)}function NI(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Fm(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Fm(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),dr(n,s,!!t||e[++o]))}return void 0===n?null:n}function a1(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],u=Array.isArray(c),h=u?c[1]:c,p=null===h;let g=t[r+1];g===Ke&&(g=p?wt:void 0);let v=p?cm(g,i):h===i?g:void 0;if(u&&!Gv(v)&&(v=cm(c,i)),Gv(v)&&(a=v,s))return a;const b=n[r+1];r=s?Ka(b):Dl(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=cm(c,i))}return a}function Gv(n){return void 0!==n}function ae(n,e=""){const t=ie(),i=ft(),r=n+it,o=i.firstCreatePass?Cd(i,r,1,e,null):i.data[r],s=l1(i,t,o,e,n);t[r]=s,Yu()&&_v(i,t,s,o),Tr(o,!1)}let l1=(n,e,t,i,r)=>(ds(!0),function fv(n,e){return n.createText(e)}(e[Be],i));function Qa(n){return Ld("",n,""),Qa}function Ld(n,e,t){const i=ie(),r=Dd(i,n,e,t);return r!==Ke&&Js(i,Di(),r),Ld}function Wv(n,e,t,i,r){const o=ie(),s=Ad(o,n,e,t,i,r);return s!==Ke&&Js(o,Di(),s),Wv}function OI(n,e,t){const i=ie();if(Gi(i,qs(),e)){const o=ft(),s=Yt();$r(o,s,i,n,e,oR(Qf(o.data),s,i),t,!0)}return OI}const Bd="en-US";let S1=Bd;function VI(n,e,t,i,r){if(n=S(n),Array.isArray(n))for(let o=0;o<n.length;o++)VI(n[o],e,t,i,r);else{const o=ft(),s=ie(),a=Ln();let c=Cl(n)?n:S(n.provide);const u=mM(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(Cl(n)||!n.multi){const v=new dl(u,r,N),b=UI(c,e,r?h:h+g,p);-1===b?(gl(nd(a,s),o,c),BI(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=UI(c,e,h+g,p),b=UI(c,e,h,h+g),I=b>=0&&t[b];if(r&&!I||!r&&!(v>=0&&t[v])){gl(nd(a,s),o,c);const M=function E8(n,e,t,i,r){const o=new dl(n,t,N);return o.multi=[],o.index=e,o.componentProviders=0,eP(o,r,i&&!t),o}(r?w8:b8,t.length,r,i,u);!r&&I&&(t[b].providerFactory=M),BI(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else BI(o,n,v>-1?v:b,eP(t[r?b:v],u,!r&&i));!r&&i&&I&&t[b].componentProviders++}}}function BI(n,e,t,i){const r=Cl(e),o=function f$(n){return!!n.useClass}(e);if(r||o){const c=(o?S(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=u.indexOf(t);-1===h?u.push(t,[i,c]):u[h+1].push(i,c)}else u.push(t,c)}}}function eP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function UI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function b8(n,e,t,i){return jI(this.multi,[])}function w8(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Zs(t,t[_e],this.providerFactory.index,i);o=a.slice(0,s),jI(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],jI(r,o);return o}function jI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Rt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function y8(n,e,t){const i=ft();if(i.firstCreatePass){const r=uo(n);VI(t,i.data,i.blueprint,r,!0),VI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Sl{}class tP{}class zI extends Sl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fR(this);const r=ar(e);this._bootstrapComponents=Xs(r.bootstrap),this._r3Injector=TM(e,t,[{provide:Sl,useValue:this},{provide:Rv,useValue:this.componentFactoryResolver},...i],Lt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $I extends tP{constructor(e){super(),this.moduleType=e}create(e){return new zI(this.moduleType,e,[])}}class nP extends Sl{constructor(e){super(),this.componentFactoryResolver=new fR(this),this.instance=null;const t=new _d([...e.providers,{provide:Sl,useValue:this},{provide:Rv,useValue:this.componentFactoryResolver}],e.parent||Cv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function HI(n,e,t=null){return new nP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let C8=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=uM(0,t.type),r=i.length>0?HI([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=de({token:n,providedIn:"environment",factory:()=>new n(z(zr))})}return n})();function iP(n){n.getStandaloneInjector=e=>e.get(C8).getOrCreateStandaloneInjector(n)}function Y8(){return this._results[Symbol.iterator]()}class Ud{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Vt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ud.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Y8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function ur(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function vl(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function J8(n,e,t,i=!0){const r=e[_e];if(function Cz(n,e,t,i){const r=si+i,o=t.length;i>0&&(t[r-1][Br]=e),i<o-si?(e[Br]=t[r],cd(t,si+i,e)):(t.push(e),e[Br]=null),e[$t]=t;const s=e[Jc];null!==s&&t!==s&&function Tz(n,e){const t=n[Ra];e[mn]!==e[$t][$t][mn]&&(n[Df]=!0),null===t?n[Ra]=[e]:t.push(e)}(s,e);const a=e[ao];null!==a&&a.insertView(n),e[We]|=128}(r,e,n,t),i){const o=AE(t,n),s=e[Be],a=gv(s,n[lo]);null!==a&&function Ez(n,e,t,i,r,o){i[wn]=r,i[Wn]=e,_m(n,i,t,1,r,o)}(r,n[Wn],s,e,a,o)}}let ea=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=nq}return n})();const eq=ea,tq=class extends eq{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function X8(n,e,t,i){const r=e.tView,a=Ov(n,r,t,4096&n[We]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Jc]=n[e.index];const u=n[ao];return null!==u&&(a[ao]=u.createEmbeddedView(r)),yI(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Am(r)}};function nq(){return Xv(Ln(),ie())}function Xv(n,e){return 4&n.type?new tq(e,n,Ed(n,e)):null}let Uo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=cq}return n})();function cq(){return wP(Ln(),ie())}const lq=Uo,yP=class extends lq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ed(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){const e=id(this._hostTNode,this._hostLView);if(im(e)){const t=fl(e,this._hostLView),i=hl(e);return new li(t[_e].data[i+8],t)}return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=bP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-si}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function ui(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const c=s?e:new Sm(ht(e)),u=i||this.parentInjector;if(!o&&null==c.ngModule){const I=(s?u:this.parentInjector).get(zr,null);I&&(o=I)}ht(c.componentType??{});const v=c.create(u,r,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function D_(n){return $i(n[$t])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=r[$t],h=new yP(u,u[Wn],u[$t]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return J8(a,r,s,!i),e.attachToViewContainerRef(),cd(GI(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=bP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=pv(this._lContainer,t);i&&($a(GI(this._lContainer),t),xE(i[_e],i))}detach(e){const t=this._adjustIndex(e,-1),i=pv(this._lContainer,t);return i&&null!=$a(GI(this._lContainer),t)?new Am(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function bP(n){return n[8]}function GI(n){return n[8]||(n[8]=[])}function wP(n,e){let t;const i=e[n.index];return $i(i)?t=i:(t=tR(i,e,null,n),e[n.index]=t,Fv(e,t)),EP(t,e,n,i),new yP(t,n,e)}let EP=function IP(n,e,t,i){if(n[lo])return;let r;r=8&t.type?Ot(i):function uq(n,e){const t=n[Be],i=t.createComment(""),r=Zn(e,n);return Il(t,gv(t,r),i,function kz(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[lo]=r};class WI{constructor(e){this.queryList=e,this.matches=null}clone(){return new WI(this.queryList)}setDirty(){this.queryList.setDirty()}}class ZI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new ZI(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==AP(e,t).matches&&this.queries[t].setDirty()}}class xP{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class KI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new KI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class QI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new QI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,fq(t,o)),this.matchTNodeWithReadOption(e,t,od(t,e,o,!1,!1))}else i===ea?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,od(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xt||r===Uo||r===ea&&4&t.type)this.addMatch(t.index,-2);else{const o=od(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function fq(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function pq(n,e,t,i){return-1===t?function mq(n,e){return 11&n.type?Ed(n,e):4&n.type?Xv(n,e):null}(e,n):-2===t?function gq(n,e,t){return t===Xt?Ed(e,n):t===ea?Xv(e,n):t===Uo?wP(e,n):void 0}(n,e,i):Zs(n,n[_e],t,e)}function CP(n,e,t,i){const r=e[ao].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:pq(e,o[u],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function YI(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=CP(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const u=o[a+1],h=e[-c];for(let p=si;p<h.length;p++){const g=h[p];g[Jc]===g[$t]&&YI(g[_e],g,u,i)}if(null!==h[Ra]){const p=h[Ra];for(let g=0;g<p.length;g++){const v=p[g];YI(v[_e],v,u,i)}}}}}return i}function Kn(n){const e=ie(),t=ft(),i=Qu();Yf(i+1);const r=AP(t,i);if(n.dirty&&function V0(n){return 4==(4&n[We])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?YI(t,e,i,[]):CP(t,e,r,i);n.reset(o,N$),n.notifyOnChanges()}return!0}return!1}function jd(n,e,t){const i=ft();i.firstCreatePass&&(DP(i,new xP(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),TP(i,ie(),e)}function fr(n,e,t,i){const r=ft();if(r.firstCreatePass){const o=Ln();DP(r,new xP(e,t,i),o.index),function vq(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}TP(r,ie(),t)}function Qn(){return function _q(n,e){return n[ao].queries[e].queryList}(ie(),Qu())}function TP(n,e,t){const i=new Ud(4==(4&t));(function hH(n,e,t,i){const r=iR(e);r.push(t),n.firstCreatePass&&rR(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[ao]&&(e[ao]=new ZI),e[ao].queries.push(new WI(i))}function DP(n,e,t){null===n.queries&&(n.queries=new KI),n.queries.track(new QI(e,t))}function AP(n,e){return n.queries.getByIndex(e)}const ix=new ne("Application Initializer");let rx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ue(ix,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Nm(o))t.push(o);else if(LR(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qP=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ws=new ne("LocaleId",{providedIn:"root",factory:()=>ue(ws,lt.Optional|lt.SkipSelf)||function Bq(){return typeof $localize<"u"&&$localize.locale||Bd}()});let ny=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zq{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let GP=(()=>{class n{compileModuleSync(t){return new $I(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Xs(ar(t).declarations).reduce((s,a)=>{const c=ht(a);return c&&s.push(new Sm(c)),s},[]);return new zq(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QP=new ne(""),ry=new ne("");let lx,ax=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lx||(function u9(n){lx=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(z(ze),z(cx),z(ry))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),cx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return lx?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ya=null;const YP=new ne("AllowMultipleToken"),ux=new ne("PlatformDestroyListeners"),dx=new ne("appBootstrapListener");class JP{constructor(e,t){this.name=e,this.token=t}}function tN(n,e,t=[]){const i=`Platform: ${e}`,r=new ne(i);return(o=[])=>{let s=hx();if(!s||s.injector.get(YP,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function f9(n){if(Ya&&!Ya.get(YP,!1))throw new P(400,!1);(function XP(){!function Oa(n){w_=n}(()=>{throw new P(600,!1)})})(),Ya=n;const e=n.get(iN);(function eN(n){n.get(pM,null)?.forEach(t=>t())})(n)}(function nN(n=[],e){return Ar.create({name:e,providers:[{provide:UE,useValue:"platform"},{provide:ux,useValue:new Set([()=>Ya=null])},...n]})}(a,i))}return function p9(n){const e=hx();if(!e)throw new P(401,!1);return e}()}}function hx(){return Ya?.get(iN)??null}let iN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function g9(n="zone.js",e){return"noop"===n?new Z$:"zone.js"===n?new ze(e):n}(i?.ngZone,function rN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function x8(n,e,t){return new zI(n,e,t)}(t.moduleType,this.injector,function lN(n){return[{provide:ze,useFactory:n},{provide:wm,multi:!0,useFactory:()=>{const e=ue(v9,{optional:!0});return()=>e.initialize()}},{provide:cN,useFactory:_9},{provide:MM,useFactory:RM}]}(()=>r)),s=o.injector.get(Fo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{oy(this._modules,o),a.unsubscribe()})}),function oN(n,e,t){try{const i=t();return Nm(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(rx);return a.runInitializers(),a.donePromise.then(()=>(function k1(n){Ui(n,"Expected localeId to be defined"),"string"==typeof n&&(S1=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ws,Bd)||Bd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=sN({},i);return function d9(n,e,t){const i=new $I(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(kl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new P(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(ux,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ar))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function sN(n,e){return Array.isArray(e)?e.reduce(sN,n):{...n,...e}}let kl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ue(cN),this.zoneIsStable=ue(MM),this.componentTypes=[],this.components=[],this.isStable=ue(ny).hasPendingTasks.pipe(yt(t=>t?W(!1):this.zoneIsStable),Qt(),Fe()),this._injector=ue(zr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof yM;if(!this._injector.get(rx).done)throw!r&&function is(n){const e=ht(n)||Fn(n)||Ti(n);return null!==e&&e.standalone}(t),new P(405,!1);let s;s=r?t:this._injector.get(Rv).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function h9(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Sl),u=s.create(Ar.NULL,[],i||s.selector,a),h=u.location.nativeElement,p=u.injector.get(QP,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),oy(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;oy(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(dx,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>oy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const cN=new ne("",{providedIn:"root",factory:()=>ue(Fo).handleError.bind(void 0)});function _9(){const n=ue(ze),e=ue(Fo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let v9=(()=>{class n{constructor(){this.zone=ue(ze),this.applicationRef=ue(kl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Xa=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=b9}return n})();function b9(n){return function w9(n,e,t){if(js(n)&&!t){const i=lr(n.index,e);return new Am(i,i)}return 47&n.type?new Am(e[mn],e):null}(Ln(),ie(),16==(16&n))}class mN{constructor(){}supports(e){return Uv(e)}create(e){return new D9(e)}}const T9=(n,e)=>e;class D9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<gN(i,r,o)?t:i,a=gN(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,h=c-r;if(u!=h){for(let g=0;g<u;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<u&&(o[g]=v+1)}o[s.previousIndex]=h-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Uv(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function r5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new A9(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new pN),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class A9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class pN{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new S9,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gN(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function vN(){return new cy([new mN])}let cy=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:vN});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||vN()),deps:[[n,new wl,new ps]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new P(901,!1)}}return n})();const N9=tN(null,"core",[]);let O9=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(z(kl))};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({})}return n})();function Hd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let vx=null;function Ja(){return vx}class K9{}const Ft=new ne("DocumentToken");let yx=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ue(Y9)},providedIn:"platform"})}return n})();const Q9=new ne("Location Initialized");let Y9=(()=>{class n extends yx{constructor(){super(),this._doc=ue(Ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ja().getBaseHref(this._doc)}onPopState(t){const i=Ja().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ja().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function bx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function AN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ta(n){return n&&"?"!==n[0]?"?"+n:n}let Rl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ue(kN)},providedIn:"root"})}return n})();const SN=new ne("appBaseHref");let kN=(()=>{class n extends Rl{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ue(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bx(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ta(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ta(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ta(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(z(yx),z(SN,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X9=(()=>{class n extends Rl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=bx(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(z(yx),z(SN,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),wx=(()=>{class n{constructor(t){this._subject=new Vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function tG(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(AN(MN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ta(i))}normalize(t){return n.stripTrailingSlash(function eG(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,MN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ta(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ta(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=ta;static#t=this.joinWithSlash=bx;static#n=this.stripTrailingSlash=AN;static#i=this.\u0275fac=function(i){return new(i||n)(z(Rl))};static#r=this.\u0275prov=de({token:n,factory:function(){return function J9(){return new wx(z(Rl))}()},providedIn:"root"})}return n})();function MN(n){return n.replace(/\/index.html$/,"")}function UN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}class jG{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $N=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new jG(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),HN(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{HN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(N(Uo),N(ea),N(cy))};static#t=this.\u0275dir=Te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function HN(n,e){n.context.$implicit=e.item}let ec=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new zG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(N(Uo),N(ea))};static#t=this.\u0275dir=Te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class zG{constructor(){this.$implicit=null,this.ngIf=null}}function qN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Lt(e)}'.`)}let Fx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({})}return n})();const KN="browser";function by(n){return"server"===n}let yW=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new bW(z(Ft),window)})}return n})();class bW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class QN{}class HW extends K9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bx extends HW{static makeCurrent(){!function Z9(n){vx||(vx=n)}(new Bx)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function qW(){return Qm=Qm||document.querySelector("base"),Qm?Qm.getAttribute("href"):null}();return null==t?null:function GW(n){Iy=Iy||document.createElement("a"),Iy.setAttribute("href",n);const e=Iy.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UN(document.cookie,e)}}let Iy,Qm=null,ZW=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const Ux=new ne("EventManagerPlugins");let tO=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ux),z(ze))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class nO{constructor(e){this._doc=e}}const jx="ng-app-id";let iO=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=by(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${jx}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(jx),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(jx,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ft),z(Tv),z(HE,8),z(Oo))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const zx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$x=/%COMP%/g,XW=new ne("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function oO(n,e){return e.map(t=>t.replace($x,n))}let Hx=(()=>{class n{constructor(t,i,r,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=by(a),this.defaultRenderer=new qx(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===or.ShadowDom&&(i={...i,encapsulation:or.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof aO?r.applyToHost(t):r instanceof Gx&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case or.Emulated:o=new aO(c,u,i,this.appId,h,s,a,p);break;case or.ShadowDom:return new n7(c,u,t,i,s,a,this.nonce,p);default:o=new Gx(c,u,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(z(tO),z(iO),z(Tv),z(XW),z(Ft),z(Oo),z(ze),z(HE))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class qx{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(zx[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sO(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(sO(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new P(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=zx[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=zx[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ga.DashCase|Ga.Important)?e.style.setProperty(t,i,r&Ga.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ga.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ja().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function sO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class n7 extends qx{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=oO(r.id,r.styles);for(const h of u){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gx extends qx{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?oO(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class aO extends Gx{constructor(e,t,i,r,o,s,a,c){const u=r+"-"+i.id;super(e,t,i,o,s,a,c,u),this.contentAttr=function JW(n){return"_ngcontent-%COMP%".replace($x,n)}(u),this.hostAttr=function e7(n){return"_nghost-%COMP%".replace($x,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let i7=(()=>{class n extends nO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ft))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const cO=["alt","control","meta","shift"],r7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},o7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let s7=(()=>{class n extends nO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ja().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),cO.forEach(u=>{const h=i.indexOf(u);h>-1&&(i.splice(h,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=r7[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cO.forEach(s=>{s!==r&&(0,o7[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ft))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const uO=[{provide:Oo,useValue:KN},{provide:pM,useValue:function a7(){Bx.makeCurrent()},multi:!0},{provide:Ft,useFactory:function l7(){return function Vz(n){ME=n}(document),document},deps:[]}],u7=tN(N9,"browser",uO),d7=new ne(""),dO=[{provide:ry,useClass:class WW{addToWindow(e){kt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new P(5103,!1);return o},kt.getAllAngularTestabilities=()=>e.getAllTestabilities(),kt.getAllAngularRootElements=()=>e.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(i=>{const r=kt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ja().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:QP,useClass:ax,deps:[ze,cx,ry]},{provide:ax,useClass:ax,deps:[ze,cx,ry]}],hO=[{provide:UE,useValue:"root"},{provide:Fo,useFactory:function c7(){return new Fo},deps:[]},{provide:Ux,useClass:i7,multi:!0,deps:[Ft,ze,Oo]},{provide:Ux,useClass:s7,multi:!0,deps:[Ft]},Hx,iO,tO,{provide:xm,useExisting:Hx},{provide:QN,useClass:ZW,deps:[]},[]];let fO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Tv,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(z(d7,12))};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({providers:[...hO,...dO],imports:[Fx,O9]})}return n})(),mO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ft))};static#t=this.\u0275prov=de({token:n,factory:function(i){let r=null;return r=i?new i:function f7(){return new mO(z(Ft))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:y7}=Array,{getPrototypeOf:b7,prototype:w7,keys:E7}=Object;function yO(n){if(1===n.length){const e=n[0];if(y7(e))return{args:e,keys:null};if(function I7(n){return n&&"object"==typeof n&&b7(n)===w7}(e)){const t=E7(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:x7}=Array;function Kx(n){return ge(e=>function C7(n,e){return x7(e)?n(...e):n(e)}(n,e))}function bO(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function xy(...n){const e=Yo(n),t=wa(n),{args:i,keys:r}=yO(n);if(0===i.length)return D([],e);const o=new Qe(function T7(n,e,t=On){return i=>{wO(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)wO(e,()=>{const u=D(n[c],e);let h=!1;u.subscribe(fe(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>bO(r,s):On));return t?o.pipe(Kx(t)):o}function wO(n,e,t){n?pi(t,n,e):e()}const Cy=Oe(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ty(...n){return function D7(){return Lr(1)}()(D(n,Yo(n)))}function EO(n){return new Qe(e=>{bn(n()).subscribe(e)})}function Gd(n,e){const t=E(n)?n:()=>n,i=r=>r.error(t());return new Qe(e?r=>e.schedule(i,0,r):i)}function Qx(){return q((n,e)=>{let t=null;n._refCount++;const i=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class IO extends Qe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,te(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pt;const t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pt.EMPTY)}return e}refCount(){return Qx()(this)}}function Es(n){return n<=0?()=>qn:q((e,t)=>{let i=0;e.subscribe(fe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Pl(...n){const e=Yo(n);return q((t,i)=>{(e?Ty(n,t,e):Ty(n,t)).subscribe(i)})}function Bn(n,e){return q((t,i)=>{let r=0;t.subscribe(fe(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Dy(n){return q((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function xO(n=A7){return q((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function A7(){return new Cy}function nc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):On,Es(1),t?Dy(e):xO(()=>new Cy))}function Wd(n,e){return E(e)?Kt(n,e,1):Kt(n,1)}function Un(n,e,t){const i=E(n)||e||t?{next:n,error:e,complete:t}:n;return i?q((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(fe(o,c=>{var u;null===(u=i.next)||void 0===u||u.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,c),o.error(c)},()=>{var c,u;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):On}function ic(n){return q((e,t)=>{let o,i=null,r=!1;i=e.subscribe(fe(t,void 0,void 0,s=>{o=bn(n(s,ic(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Ay(n,e){return q(function S7(n,e,t,i,r){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(fe(s,h=>{const p=u++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function Yx(n){return n<=0?()=>qn:q((e,t)=>{let i=[];e.subscribe(fe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Xx(n){return ge(()=>n)}function Zd(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function gr(n){return q((e,t)=>{bn(n).subscribe(fe(t,()=>t.complete(),xe)),!t.closed&&e.subscribe(t)})}const et="primary",Ym=Symbol("RouteTitle");class M7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kd(n){return new M7(n)}function R7(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Is(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!CO(n[r],e[r]))return!1;return!0}function CO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function TO(n){return n.length>0?n[n.length-1]:null}function rc(n){return function v7(n){return!!n&&(n instanceof Qe||E(n.lift)&&E(n.subscribe))}(n)?n:Nm(n)?D(Promise.resolve(n)):W(n)}const N7={exact:function SO(n,e,t){if(!Nl(n.segments,e.segments)||!Sy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!SO(n.children[i],e.children[i],t))return!1;return!0},subset:kO},DO={exact:function O7(n,e){return Is(n,e)},subset:function F7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CO(n[t],e[t]))},ignored:()=>!0};function AO(n,e,t){return N7[t.paths](n.root,e.root,t.matrixParams)&&DO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kO(n,e,t){return MO(n,e,e.segments,t)}function MO(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Nl(r,t)||e.hasChildren()||!Sy(r,t,i))}if(n.segments.length===t.length){if(!Nl(n.segments,t)||!Sy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!kO(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Nl(n.segments,r)&&Sy(n.segments,r,i)&&n.children[et])&&MO(n.children[et],e,o,i)}}function Sy(n,e,t){return e.every((i,r)=>DO[t](n[r].parameters,i.parameters))}class Qd{constructor(e=new Bt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kd(this.queryParams)),this._queryParamMap}toString(){return B7.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ky(this)}}class Xm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kd(this.parameters)),this._parameterMap}toString(){return NO(this)}}function Nl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Jm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new Jx},providedIn:"root"})}return n})();class Jx{parse(e){const t=new Q7(e);return new Qd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ep(e.root,!0)}`,i=function z7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${My(t)}=${My(r)}`).join("&"):`${My(t)}=${My(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function U7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const B7=new Jx;function ky(n){return n.segments.map(e=>NO(e)).join("/")}function ep(n,e){if(!n.hasChildren())return ky(n);if(e){const t=n.children[et]?ep(n.children[et],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==et&&i.push(`${r}:${ep(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function V7(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===et&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==et&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===et?[ep(n.children[et],!1)]:[`${r}:${ep(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[et]?`${ky(n)}/${t[0]}`:`${ky(n)}/(${t.join("//")})`}}function RO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function My(n){return RO(n).replace(/%3B/gi,";")}function eC(n){return RO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ry(n){return decodeURIComponent(n)}function PO(n){return Ry(n.replace(/\+/g,"%20"))}function NO(n){return`${eC(n.path)}${function j7(n){return Object.keys(n).map(e=>`;${eC(e)}=${eC(n[e])}`).join("")}(n.parameters)}`}const $7=/^[^\/()?;#]+/;function tC(n){const e=n.match($7);return e?e[0]:""}const H7=/^[^\/()?;=#]+/,G7=/^[^=?&#]+/,Z7=/^[^&#]+/;class Q7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[et]=new Bt(e,t)),i}parseSegment(){const e=tC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Xm(Ry(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function q7(n){const e=n.match(H7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=tC(this.remaining);r&&(i=r,this.capture(i))}e[Ry(t)]=Ry(i)}parseQueryParam(e){const t=function W7(n){const e=n.match(G7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function K7(n){const e=n.match(Z7);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=PO(t),o=PO(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=tC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new P(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=et);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[et]:new Bt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}}function OO(n){return n.segments.length>0?new Bt([],{[et]:n}):n}function FO(n){const e={};for(const i of Object.keys(n.children)){const o=FO(n.children[i]);if(i===et&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Y7(n){if(1===n.numberOfChildren&&n.children[et]){const e=n.children[et];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}function Ol(n){return n instanceof Qd}function LO(n){let e;const r=OO(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new Bt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function VO(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return nC(r,r,r,t,i);const o=function J7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new UO(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new UO(t,e,i)}(e);if(o.toRoot())return nC(r,r,new Bt([],{}),t,i);const s=function eZ(n,e,t){if(n.isAbsolute)return new Ny(e,!0,0);if(!t)return new Ny(e,!1,NaN);if(null===t.parent)return new Ny(t,!0,0);const i=Py(n.commands[0])?0:1;return function tZ(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new P(4005,!1);r=i.segments.length}return new Ny(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?np(s.segmentGroup,s.index,o.commands):jO(s.segmentGroup,s.index,o.commands);return nC(r,s.segmentGroup,a,t,i)}function Py(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tp(n){return"object"==typeof n&&null!=n&&n.outlets}function nC(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=n===e?t:BO(n,e,t);const a=OO(FO(s));return new Qd(a,o,r)}function BO(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:BO(o,e,t)}),new Bt(n.segments,i)}class UO{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Py(i[0]))throw new P(4003,!1);const r=i.find(tp);if(r&&r!==TO(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ny{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function jO(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return np(n,e,t);const i=function iZ(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(tp(a))break;const c=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!$O(c,u,s))return o;i+=2}else{if(!$O(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Bt(n.segments.slice(0,i.pathIndex),{});return o.children[et]=new Bt(n.segments.slice(i.pathIndex),n.children),np(o,0,r)}return i.match&&0===r.length?new Bt(n.segments,{}):i.match&&!n.hasChildren()?iC(n,e,t):i.match?np(n,0,r):iC(n,e,t)}function np(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const i=function nZ(n){return tp(n[0])?n[0].outlets:{[et]:n}}(t),r={};if(Object.keys(i).some(o=>o!==et)&&n.children[et]&&1===n.numberOfChildren&&0===n.children[et].segments.length){const o=np(n.children[et],e,t);return new Bt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=jO(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Bt(n.segments,r)}}function iC(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(tp(o)){const c=rZ(o.outlets);return new Bt(i,c)}if(0===r&&Py(t[0])){i.push(new Xm(n.segments[e].path,zO(t[0]))),r++;continue}const s=tp(o)?o.outlets[et]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Py(a)?(i.push(new Xm(s,zO(a))),r+=2):(i.push(new Xm(s,{})),r++)}return new Bt(i,{})}function rZ(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=iC(new Bt([],{}),0,i))}),e}function zO(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function $O(n,e,t){return n==t.path&&Is(e,t.parameters)}const ip="imperative";class xs{constructor(e,t){this.id=e,this.url=t}}class Oy extends xs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oc extends xs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rp extends xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yd extends xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Fy extends xs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HO extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oZ extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sZ extends xs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aZ extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cZ extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qO{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rC{}class oC{constructor(e){this.url=e}}class pZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new op,this.attachRef=null}}let op=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new pZ,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class GO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sC(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=sC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=aC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return aC(e,this._root).map(t=>t.value)}}function sC(n,e){if(n===e.value)return e;for(const t of e.children){const i=sC(n,t);if(i)return i}return null}function aC(n,e){if(n===e.value)return[e];for(const t of e.children){const i=aC(n,t);if(i.length)return i.unshift(e),i}return[]}class ra{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class WO extends GO{constructor(e,t){super(e),this.snapshot=t,cC(this,e)}toString(){return this.snapshot.toString()}}function ZO(n,e){const t=function gZ(n,e){const s=new Ly([],{},{},"",{},et,e,null,{});return new QO("",new ra(s,[]))}(0,e),i=new R([new Xm("",{})]),r=new R({}),o=new R({}),s=new R({}),a=new R(""),c=new Jd(i,r,s,a,o,et,e,t.root);return c.snapshot=t.root,new WO(new ra(c,[]),t)}class Jd{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ge(u=>u[Ym]))??W(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>Kd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>Kd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KO(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function _Z(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Ly{get title(){return this.data?.[Ym]}constructor(e,t,i,r,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QO extends GO{constructor(e,t){super(t),this.url=e,cC(this,t)}toString(){return YO(this._root)}}function cC(n,e){e.value._routerState=n,e.children.forEach(t=>cC(n,t))}function YO(n){const e=n.children.length>0?` { ${n.children.map(YO).join(", ")} } `:"";return`${n.value}${e}`}function lC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Is(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Is(e.params,t.params)||n.paramsSubject.next(t.params),function P7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Is(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Is(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function uC(n,e){const t=Is(n.params,e.params)&&function L7(n,e){return Nl(n,e)&&n.every((t,i)=>Is(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||uC(n.parent,e.parent))}let dC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new Vt,this.deactivateEvents=new Vt,this.attachEvents=new Vt,this.detachEvents=new Vt,this.parentContexts=ue(op),this.location=ue(Uo),this.changeDetector=ue(Xa),this.environmentInjector=ue(zr),this.inputBinder=ue(Vy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new vZ(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Te({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hi]})}return n})();class vZ{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Jd?this.route:e===op?this.childContexts:this.parent.get(e,t)}}const Vy=new ne("");let XO=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=xy([i.queryParams,i.params,i.data]).pipe(yt(([o,s,a],c)=>(a={...o,...s,...a},0===c?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function W9(n){const e=ht(n);if(!e)return null;const t=new Sm(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function sp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function bZ(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sp(n,i,r);return sp(n,i)})}(n,e,t);return new ra(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sp(n,a)),s}}const i=function wZ(n){return new Jd(new R(n.url),new R(n.params),new R(n.queryParams),new R(n.fragment),new R(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>sp(n,o));return new ra(i,r)}}const hC="ngNavigationCancelingError";function JO(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ol(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=eF(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function eF(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[hC]=!0,i.cancellationCode=e,t&&(i.url=t),i}function tF(n){return n&&n[hC]}let nF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=sn({type:n,selectors:[["ng-component"]],standalone:!0,features:[iP],decls:1,vars:0,template:function(i,r){1&i&&ut(0,"router-outlet")},dependencies:[dC],encapsulation:2})}return n})();function fC(n){const e=n.children&&n.children.map(fC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==et&&(t.component=nF),t}function $o(n){return n.outlet||et}function ap(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class SZ{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Xd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Xd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Xd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Xd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new mZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hZ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(lC(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ap(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class iF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class By{constructor(e,t){this.component=e,this.route=t}}function kZ(n,e,t){const i=n._root;return cp(i,e?e._root:null,t,[i.value])}function eh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function y0(n){return null!==jc(n)}(n)?e.get(n):n:i}function cp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xd(e);return n.children.forEach(s=>{(function RZ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function PZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Nl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Nl(n.url,e.url)||!Is(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uC(n,e)||!Is(n.queryParams,e.queryParams);default:return!uC(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new iF(i)):(o.data=s.data,o._resolvedData=s._resolvedData),cp(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new By(a.outlet.component,s))}else s&&lp(e,a,r),r.canActivateChecks.push(new iF(i)),cp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>lp(a,t.getContext(s),r)),r}function lp(n,e,t){const i=Xd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{lp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new By(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function up(n){return"function"==typeof n}function rF(n){return n instanceof Cy||"EmptyError"===n?.name}const Uy=Symbol("INITIAL_VALUE");function th(){return yt(n=>xy(n.map(e=>e.pipe(Es(1),Pl(Uy)))).pipe(ge(e=>{for(const t of e)if(!0!==t){if(t===Uy)return Uy;if(!1===t||t instanceof Qd)return t}return!0}),Bn(e=>e!==Uy),Es(1)))}function oF(n){return function Jr(...n){return eo(n)}(Un(e=>{if(Ol(e))throw JO(0,e)}),ge(e=>!0===e))}class jy{constructor(e){this.segmentGroup=e||null}}class sF{constructor(e){this.urlTree=e}}function nh(n){return Gd(new jy(n))}function aF(n){return Gd(new sF(n))}class JZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new P(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return W(i);if(r.numberOfChildren>1||!r.children[et])return Gd(new P(4e3,!1));r=r.children[et]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Qd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Bt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const mC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eK(n,e,t,i,r){const o=pC(n,e,t);return o.matched?(i=function IZ(n,e){return n.providers&&!n._injector&&(n._injector=HI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function QZ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?W(r.map(s=>{const a=eh(s,n);return rc(function BZ(n){return n&&up(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(th(),oF()):W(!0)}(i,e,t).pipe(ge(s=>!0===s?o:{...mC}))):W(o)}function pC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||R7)(t,n,e);if(!r)return{...mC};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function cF(n,e,t,i){return t.length>0&&function iK(n,e,t){return t.some(i=>zy(n,e,i)&&$o(i)!==et)}(n,t,i)?{segmentGroup:new Bt(e,nK(i,new Bt(t,n.children))),slicedSegments:[]}:0===t.length&&function rK(n,e,t){return t.some(i=>zy(n,e,i))}(n,t,i)?{segmentGroup:new Bt(n.segments,tK(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Bt(n.segments,n.children),slicedSegments:t}}function tK(n,e,t,i,r){const o={};for(const s of i)if(zy(n,t,s)&&!r[$o(s)]){const a=new Bt([],{});o[$o(s)]=a}return{...r,...o}}function nK(n,e){const t={};t[et]=e;for(const i of n)if(""===i.path&&$o(i)!==et){const r=new Bt([],{});t[$o(i)]=r}return t}function zy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class cK{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new JZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,!1)}recognize(){const e=cF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,et).pipe(ic(t=>{if(t instanceof sF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof jy?this.noMatchError(t):t}),ge(t=>{const i=new Ly([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),r=new ra(i,t),o=new QO("",r),s=function X7(n,e,t=null,i=null){return VO(LO(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,et).pipe(ic(i=>{throw i instanceof jy?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=KO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return D(r).pipe(Wd(o=>{const s=i.children[o],a=function DZ(n,e){const t=n.filter(i=>$o(i)===e);return t.push(...n.filter(i=>$o(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),Ay((o,s)=>(o.push(...s),o)),Dy(null),function k7(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):On,Yx(1),t?Dy(e):xO(()=>new Cy))}(),Kt(o=>{if(null===o)return nh(i);const s=lF(o);return function lK(n){n.sort((e,t)=>e.value.outlet===et?-1:t.value.outlet===et?1:e.value.outlet.localeCompare(t.value.outlet))}(s),W(s)}))}processSegment(e,t,i,r,o,s){return D(t).pipe(Wd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(ic(c=>{if(c instanceof jy)return W(null);throw c}))),nc(a=>!!a),ic(a=>{if(rF(a))return function sK(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?W([]):nh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function oK(n,e,t,i){return!!($o(n)===i||i!==et&&zy(e,t,n))&&("**"===n.path||pC(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):nh(r):nh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?aF(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Kt(s=>{const a=new Bt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:h}=pC(t,r,o);if(!a)return nh(t);const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?aF(p):this.applyRedirects.lineralizeSegments(r,p).pipe(Kt(g=>this.processSegment(e,i,t,g.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const c=r.length>0?TO(r).parameters:{};a=W({snapshot:new Ly(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uF(i),$o(i),i.component??i._loadedComponent??null,i,dF(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=eK(t,i,r,e).pipe(ge(({matched:c,consumedSegments:u,remainingSegments:h,parameters:p})=>c?{snapshot:new Ly(u,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uF(i),$o(i),i.component??i._loadedComponent??null,i,dF(i)),consumedSegments:u,remainingSegments:h}:null));return a.pipe(yt(c=>null===c?nh(t):this.getChildConfig(e=i._injector??e,i,r).pipe(yt(({routes:u})=>{const h=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:v}=c,{segmentGroup:b,slicedSegments:w}=cF(t,g,v,u);if(0===w.length&&b.hasChildren())return this.processChildren(h,u,b).pipe(ge(M=>null===M?null:[new ra(p,M)]));if(0===u.length&&0===w.length)return W([new ra(p,[])]);const I=$o(i)===o;return this.processSegment(h,u,b,w,I?et:o,!0).pipe(ge(M=>[new ra(p,M)]))}))))}getChildConfig(e,t,i){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function KZ(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?W(!0):W(r.map(s=>{const a=eh(s,n);return rc(function OZ(n){return n&&up(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(th(),oF())}(e,t,i).pipe(Kt(r=>r?this.configLoader.loadChildren(e,t).pipe(Un(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function XZ(n){return Gd(eF(!1,3))}())):W({routes:[],injector:e})}}function uK(n){const e=n.value.routeConfig;return e&&""===e.path}function lF(n){const e=[],t=new Set;for(const i of n){if(!uK(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=lF(i.children);e.push(new ra(i.value,r))}return e.filter(i=>!t.has(i))}function uF(n){return n.data||{}}function dF(n){return n.resolve||{}}function hF(n){return"string"==typeof n.title||null===n.title}function gC(n){return yt(e=>{const t=n(e);return t?D(t).pipe(ge(()=>e)):W(e)})}const ih=new ne("ROUTES");let _C=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ue(GP)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=rc(t.loadComponent()).pipe(ge(fF),Un(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Zd(()=>{this.componentLoaders.delete(t)})),r=new IO(i,()=>new B).pipe(Qx());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function _K(n,e,t,i){return rc(n.loadChildren()).pipe(ge(fF),Kt(r=>r instanceof tP||Array.isArray(r)?W(r):D(e.compileModuleAsync(r))),ge(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(ih,[],{optional:!0,self:!0}).flat()),{routes:s.map(fC),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Zd(()=>{this.childrenLoaders.delete(i)})),s=new IO(o,()=>new B).pipe(Qx());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fF(n){return function vK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let $y=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B,this.transitionAbortSubject=new B,this.configLoader=ue(_C),this.environmentInjector=ue(zr),this.urlSerializer=ue(Jm),this.rootContexts=ue(op),this.inputBindingEnabled=null!==ue(Vy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new uZ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new lZ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new R({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ip,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bn(o=>0!==o.id),ge(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{this.currentTransition=o;let s=!1,a=!1;return W(o).pipe(Un(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yt(c=>{const u=c.currentBrowserUrl.toString(),h=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!h&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Yd(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),qn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return W(c).pipe(yt(g=>{const v=this.transitions?.getValue();return this.events.next(new Oy(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions?.getValue()?qn:Promise.resolve(g)}),function dK(n,e,t,i,r,o){return Kt(s=>function aK(n,e,t,i,r,o,s="emptyOnly"){return new cK(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(ge(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Un(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const v=new HO(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:v,source:b,restoredState:w,extras:I}=c,M=new Oy(g,this.urlSerializer.serialize(v),b,w);this.events.next(M);const A=ZO(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:A,urlAfterRedirects:v,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},W(o)}{const g="";return this.events.next(new Yd(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),qn}}),Un(c=>{const u=new oZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ge(c=>(this.currentTransition=o={...c,guards:kZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function jZ(n,e){return Kt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?W({...t,guardsResult:!0}):function zZ(n,e,t,i){return D(n).pipe(Kt(r=>function ZZ(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const c=ap(e)??r,u=eh(a,c);return rc(function VZ(n){return n&&up(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,i):c.runInContext(()=>u(n,e,t,i))).pipe(nc())})).pipe(th()):W(!0)}(r.component,r.route,t,e,i)),nc(r=>!0!==r,!0))}(s,i,r,n).pipe(Kt(a=>a&&function NZ(n){return"boolean"==typeof n}(a)?function $Z(n,e,t,i){return D(e).pipe(Wd(r=>Ty(function qZ(n,e){return null!==n&&e&&e(new dZ(n)),W(!0)}(r.route.parent,i),function HZ(n,e){return null!==n&&e&&e(new fZ(n)),W(!0)}(r.route,i),function WZ(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function MZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>EO(()=>W(s.guards.map(c=>{const u=ap(s.node)??t,h=eh(c,u);return rc(function LZ(n){return n&&up(n.canActivateChild)}(h)?h.canActivateChild(i,n):u.runInContext(()=>h(i,n))).pipe(nc())})).pipe(th())));return W(o).pipe(th())}(n,r.path,t),function GZ(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return W(!0);const r=i.map(o=>EO(()=>{const s=ap(e)??t,a=eh(o,s);return rc(function FZ(n){return n&&up(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(nc())}));return W(r).pipe(th())}(n,r.route,t))),nc(r=>!0!==r,!0))}(i,o,n,e):W(a)),ge(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Un(c=>{if(o.guardsResult=c.guardsResult,Ol(c.guardsResult))throw JO(0,c.guardsResult);const u=new sZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Bn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),gC(c=>{if(c.guards.canActivateChecks.length)return W(c).pipe(Un(u=>{const h=new aZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),yt(u=>{let h=!1;return W(u).pipe(function hK(n,e){return Kt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return W(t);let o=0;return D(r).pipe(Wd(s=>function fK(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!hF(r)&&(o[Ym]=r.title),function mK(n,e,t,i){const r=function pK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return W({});const o={};return D(r).pipe(Kt(s=>function gK(n,e,t,i){const r=ap(e)??i,o=eh(n,r);return rc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(nc(),Un(a=>{o[s]=a}))),Yx(1),Xx(o),ic(s=>rF(s)?qn:Gd(s)))}(o,n,e,i).pipe(ge(s=>(n._resolvedData=s,n.data=KO(n,t).resolve,r&&hF(r)&&(n.data[Ym]=r.title),null)))}(s.route,i,n,e)),Un(()=>o++),Yx(1),Kt(s=>o===r.length?W(t):qn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",2)}}))}),Un(u=>{const h=new cZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),gC(c=>{const u=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Un(g=>{h.component=g}),ge(()=>{})));for(const g of h.children)p.push(...u(g));return p};return xy(u(c.targetSnapshot.root)).pipe(Dy(),Es(1))}),gC(()=>this.afterPreactivation()),ge(c=>{const u=function yZ(n,e,t){const i=sp(n,e._root,t?t._root:void 0);return new WO(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),Un(()=>{this.events.next(new rC)}),((n,e,t,i)=>ge(r=>(new SZ(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Es(1),Un({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),gr(this.transitionAbortSubject.pipe(Un(c=>{throw c}))),Zd(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ic(c=>{if(a=!0,tF(c))this.events.next(new rp(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function EZ(n){return tF(n)&&Ol(n.url)}(c)?this.events.next(new oC(c.url)):o.resolve(!1);else{this.events.next(new Fy(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return qn}))}))}cancelNavigationTransition(t,i,r){const o=new rp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mF(n){return n!==ip}let pF=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===et);return i}getResolvedTitleForRoute(t){return t.data[Ym]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ue(yK)},providedIn:"root"})}return n})(),yK=(()=>{class n extends pF{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(z(mO))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ue(EK)},providedIn:"root"})}return n})();class wK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let EK=(()=>{class n extends wK{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=En(n)))(r||n)}}();static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hy=new ne("",{providedIn:"root",factory:()=>({})});let IK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ue(xK)},providedIn:"root"})}return n})(),xK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(dp||{});function gF(n,e){n.events.pipe(Bn(t=>t instanceof oc||t instanceof rp||t instanceof Fy||t instanceof Yd),ge(t=>t instanceof oc||t instanceof Yd?dp.COMPLETE:t instanceof rp&&(0===t.code||1===t.code)?dp.REDIRECTING:dp.FAILED),Bn(t=>t!==dp.REDIRECTING),Es(1)).subscribe(()=>{e()})}function CK(n){throw n}function TK(n,e,t){return e.parse("/")}const DK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _r=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ue(qP),this.isNgZoneEnabled=!1,this._events=new B,this.options=ue(Hy,{optional:!0})||{},this.pendingTasks=ue(ny),this.errorHandler=this.options.errorHandler||CK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||TK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ue(IK),this.routeReuseStrategy=ue(bK),this.titleStrategy=ue(pF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ue(ih,{optional:!0})?.flat()??[],this.navigationTransitions=ue($y),this.urlSerializer=ue(Jm),this.location=ue(wx),this.componentInputBindingEnabled=!!ue(Vy,{optional:!0}),this.eventsSubscription=new pt,this.isNgZoneEnabled=ue(ze)instanceof ze&&ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(_F(i)&&this._events.next(i));if(i instanceof Oy)mF(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Yd)this.rawUrlTree=r.rawUrl;else if(i instanceof HO){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof rC)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof rp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof oC){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mF(r.source)};this.scheduleNavigation(o,ip,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Fy&&this.restoreHistory(r,!0),i instanceof oc&&(this.navigated=!0),_F(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ip,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(fC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=LO(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return VO(p,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ol(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ip,null,i)}navigate(t,i={skipLocationChange:!1}){return function SK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new P(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...DK}:!1===i?{...AK}:i,Ol(t))return AO(this.currentUrlTree,t,r);const o=this.parseUrl(t);return AO(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return gF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _F(n){return!(n instanceof rC||n instanceof oC)}let Fl=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof oc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function aM(n,e,t){return function u$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?sM:ym}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(N(_r),N(Jd),function ad(n){return function iE(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(i_(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Ln(),n)}("tabindex"),N(Ys),N(Xt),N(Rl))};static#t=this.\u0275dir=Te({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&mt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&ki("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Hd],skipLocationChange:["skipLocationChange","skipLocationChange",Hd],replaceUrl:["replaceUrl","replaceUrl",Hd],routerLink:"routerLink"},standalone:!0,features:[yR,Hi]})}return n})();class vF{}let RK=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(t=>t instanceof oc),Wd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=HI(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return D(r).pipe(Lr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):W(null);const o=r.pipe(Kt(s=>null===s?W(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?D([o,this.loader.loadComponent(i)]).pipe(Lr()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(z(_r),z(GP),z(zr),z(vF),z(_C))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vC=new ne("");let yF=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Oy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Yd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function GM(){throw new Error("invalid")}()};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function oa(n,e){return{\u0275kind:n,\u0275providers:e}}function wF(){const n=ue(Ar);return e=>{const t=n.get(kl);if(e!==t.components[0])return;const i=n.get(_r),r=n.get(EF);1===n.get(yC)&&i.initialNavigation(),n.get(IF,null,lt.Optional)?.setUpPreloading(),n.get(vC,null,lt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const EF=new ne("",{factory:()=>new B}),yC=new ne("",{providedIn:"root",factory:()=>1}),IF=new ne("");function FK(n){return oa(0,[{provide:IF,useExisting:RK},{provide:vF,useExisting:n}])}const xF=new ne("ROUTER_FORROOT_GUARD"),VK=[wx,{provide:Jm,useClass:Jx},_r,op,{provide:Jd,useFactory:function bF(n){return n.routerState.root},deps:[_r]},_C,[]];function BK(){return new JP("Router",_r)}let CF=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[VK,[],{provide:ih,multi:!0,useValue:t},{provide:xF,useFactory:$K,deps:[[_r,new ps,new wl]]},{provide:Hy,useValue:i||{}},i?.useHash?{provide:Rl,useClass:X9}:{provide:Rl,useClass:kN},{provide:vC,useFactory:()=>{const n=ue(yW),e=ue(ze),t=ue(Hy),i=ue($y),r=ue(Jm);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yF(r,i,n,e,t)}},i?.preloadingStrategy?FK(i.preloadingStrategy).\u0275providers:[],{provide:JP,multi:!0,useFactory:BK},i?.initialNavigation?HK(i):[],i?.bindToComponentInputs?oa(8,[XO,{provide:Vy,useExisting:XO}]).\u0275providers:[],[{provide:TF,useFactory:wF},{provide:dx,multi:!0,useExisting:TF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ih,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(z(xF,8))};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({})}return n})();function $K(n){return"guarded"}function HK(n){return["disabled"===n.initialNavigation?oa(3,[{provide:ix,multi:!0,useFactory:()=>{const e=ue(_r);return()=>{e.setUpLocationChangeListener()}}},{provide:yC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?oa(2,[{provide:yC,useValue:0},{provide:ix,multi:!0,deps:[Ar],useFactory:e=>{const t=e.get(Q9,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(_r),o=e.get(EF);gF(r,()=>{i(!0)}),e.get($y).afterPreactivation=()=>(i(!0),o.closed?W(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const TF=new ne("");let AF=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ys),N(Xt))};static#t=this.\u0275dir=Te({type:n})}return n})(),Ll=(()=>{class n extends AF{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=En(n)))(r||n)}}();static#t=this.\u0275dir=Te({type:n,features:[st]})}return n})();const Ho=new ne("NgValueAccessor"),WK={provide:Ho,useExisting:F(()=>qy),multi:!0},KK=new ne("CompositionEventMode");let qy=(()=>{class n extends AF{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZK(){const n=Ja()?Ja().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ys),N(Xt),N(KK,8))};static#t=this.\u0275dir=Te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&mt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Rt([WK]),st]})}return n})();const Wi=new ne("NgValidators"),ac=new ne("NgAsyncValidators");function BF(n){return null!=n}function UF(n){return Nm(n)?D(n):n}function jF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function zF(n,e){return e.map(t=>t(n))}function $F(n){return n.map(e=>function YK(n){return!n.validate}(e)?e:t=>e.validate(t))}function bC(n){return null!=n?function HF(n){if(!n)return null;const e=n.filter(BF);return 0==e.length?null:function(t){return jF(zF(t,e))}}($F(n)):null}function qF(n){if(!n)return null;const e=n.filter(BF);return 0==e.length?null:function(t){return function DF(...n){const e=wa(n),{args:t,keys:i}=yO(n),r=new Qe(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let h=0;h<s;h++){let p=!1;bn(t[h]).subscribe(fe(o,g=>{p||(p=!0,u--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(i?bO(i,a):a),o.complete())}))}});return e?r.pipe(Kx(e)):r}(zF(t,e).map(UF)).pipe(ge(jF))}}function wC(n){return null!=n?qF($F(n)):null}function GF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function EC(n){return n?Array.isArray(n)?n:[n]:[]}function Wy(n,e){return Array.isArray(n)?n.includes(e):n===e}function KF(n,e){const t=EC(e);return EC(n).forEach(r=>{Wy(t,r)||t.push(r)}),t}function QF(n,e){return EC(e).filter(t=>!Wy(n,t))}class YF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vr extends YF{get formDirective(){return null}get path(){return null}}class cc extends YF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JF=(()=>{class n extends XF{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(cc,2))};static#t=this.\u0275dir=Te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&_i("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[st]})}return n})(),eL=(()=>{class n extends XF{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(vr,10))};static#t=this.\u0275dir=Te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&_i("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[st]})}return n})();const hp="VALID",Ky="INVALID",rh="PENDING",fp="DISABLED";function CC(n){return(Qy(n)?n.validators:n)||null}function TC(n,e){return(Qy(e)?e.asyncValidators:n)||null}function Qy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hp}get invalid(){return this.status===Ky}get pending(){return this.status==rh}get disabled(){return this.status===fp}get enabled(){return this.status!==fp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QF(e,this._rawAsyncValidators))}hasValidator(e){return Wy(this._rawValidators,e)}hasAsyncValidator(e){return Wy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hp||this.status===rh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fp:hp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rh,this._hasOwnPendingAsyncValidator=!0;const t=UF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?fp:this.errors?Ky:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rh)?rh:this._anyControlsHaveStatus(Ky)?Ky:hp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tQ(n){return Array.isArray(n)?bC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function nQ(n){return Array.isArray(n)?wC(n):n||null}(this._rawAsyncValidators)}}class DC extends rL{constructor(e,t,i){super(CC(t),TC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function iL(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new P(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function nL(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new P(1e3,"");if(!i[t])throw new P(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const oh=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>Yy}),Yy="always";function mp(n,e,t=Yy){AC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function oQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oL(n,e)})}(n,e),function aQ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function sQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rQ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function eb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AC(n,e){const t=function WF(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(GF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function ZF(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(GF(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();eb(e._rawValidators,r),eb(e._rawAsyncValidators,r)}function oL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const hQ={provide:vr,useExisting:F(()=>nb)},pp=(()=>Promise.resolve())();let nb=(()=>{class n extends vr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Vt,this.form=new DC({},bC(t),wC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),mp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){pp.then(()=>{const i=this._findContainer(t.path),r=new DC({});(function sL(n,e){AC(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){pp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function aL(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(N(Wi,10),N(ac,10),N(oh,8))};static#t=this.\u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&mt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rt([hQ]),st]})}return n})();function cL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function lL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const uL=class extends rL{constructor(e=null,t,i){super(CC(t),TC(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pQ={provide:cc,useExisting:F(()=>RC)},fL=(()=>Promise.resolve())();let RC=(()=>{class n extends cc{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new uL,this._registered=!1,this.name="",this.update=new Vt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function MC(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===qy?t=o:function uQ(n){return Object.getPrototypeOf(n.constructor)===Ll}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Hd(i);fL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Xy(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(N(vr,9),N(Wi,10),N(ac,10),N(Ho,10),N(Xa,8),N(oh,8))};static#t=this.\u0275dir=Te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rt([pQ]),st,Hi]})}return n})(),mL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),gL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({})}return n})(),BQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[gL]})}return n})(),jQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oh,useValue:t.callSetDisabledState??Yy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[BQ]})}return n})();function Zi(n){return null!=n&&"false"!=`${n}`}function ib(n,e=0){return function zQ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function NL(n){return Array.isArray(n)?n:[n]}function Bl(n){return n instanceof Xt?n.nativeElement:n}const $Q=["addListener","removeListener"],HQ=["addEventListener","removeEventListener"],qQ=["on","off"];function gp(n,e,t,i){if(E(t)&&(i=t,t=void 0),i)return gp(n,e,t).pipe(Kx(i));const[r,o]=function ZQ(n){return E(n.addEventListener)&&E(n.removeEventListener)}(n)?HQ.map(s=>a=>n[s](e,a,t)):function GQ(n){return E(n.addListener)&&E(n.removeListener)}(n)?$Q.map(OL(n,e)):function WQ(n){return E(n.on)&&E(n.off)}(n)?qQ.map(OL(n,e)):[];if(!r&&vt(n))return Kt(s=>gp(s,e,t))(bn(n));if(!r)throw new TypeError("Invalid event target");return new Qe(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function OL(n,e){return t=>i=>n[t](e,i)}class KQ extends pt{constructor(e,t){super()}schedule(e,t=0){return this}}const rb={setInterval(n,e,...t){const{delegate:i}=rb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=rb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class ob extends KQ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return rb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&rb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ve(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const _p={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=_p;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new pt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=_p;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=_p;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},BC={now:()=>(BC.delegate||Date).now(),delegate:void 0};class vp{constructor(e,t=vp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}vp.now=BC.now;class sb extends vp{constructor(e,t=vp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class YQ extends sb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class QQ extends ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=_p.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(_p.cancelAnimationFrame(t),e._scheduled=void 0)}});let UC,JQ=1;const ab={};function FL(n){return n in ab&&(delete ab[n],!0)}const eY={setImmediate(n){const e=JQ++;return ab[e]=!0,UC||(UC=Promise.resolve()),UC.then(()=>FL(e)&&n()),e},clearImmediate(n){FL(n)}},{setImmediate:tY,clearImmediate:nY}=eY,cb={setImmediate(...n){const{delegate:e}=cb;return(e?.setImmediate||tY)(...n)},clearImmediate(n){const{delegate:e}=cb;return(e?.clearImmediate||nY)(n)},delegate:void 0},sh=(new class rY extends sb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class iY extends ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=cb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(cb.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new sb(ob)),sY=sh;function jC(n=0,e,t=sY){let i=-1;return null!=e&&(nr(e)?t=e:i=e),new Qe(r=>{let o=function cY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function LL(n,e=sh){return function aY(n){return q((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const u=r;r=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(fe(t,u=>{i=!0,r=u,o||bn(n(u)).subscribe(o=fe(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>jC(n,e))}let zC;try{zC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zC=!1}let yp,ub,Ul,$C,bo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function vW(n){return n===KN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(z(Oo))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lb(n){return function lY(){if(null==yp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yp=!0}))}finally{yp=yp||!1}return yp}()?n:!!n.capture}function bp(){if("object"!=typeof document||!document)return 0;if(null==ub){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),ub=0,0===n.scrollLeft&&(n.scrollLeft=1,ub=0===n.scrollLeft?1:2),n.remove()}return ub}function ch(n){return n.composedPath?n.composedPath()[0]:n.target}const pY=new ne("cdk-dir-doc",{providedIn:"root",factory:function gY(){return ue(Ft)}}),_Y=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let BL=(()=>{class n{constructor(t){this.value="ltr",this.change=new Vt,t&&(this.value=function vY(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?_Y.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(z(pY,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({})}return n})(),HC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Qe(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(LL(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Bn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Bl(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>gp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(z(ze),z(bo),z(Ft,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wp=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new B,this._elementScrolled=new Qe(s=>this.ngZone.runOutsideAngular(()=>gp(this.elementRef.nativeElement,"scroll").pipe(gr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=bp()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==bp()?t.left=t.right:1==bp()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function uY(){if(null==Ul){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ul=!1,Ul;if("scrollBehavior"in document.documentElement.style)Ul=!0;else{const n=Element.prototype.scrollTo;Ul=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ul}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==bp()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==bp()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xt),N(HC),N(ze),N(BL,8))};static#t=this.\u0275dir=Te({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),wY=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new B,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(LL(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(z(bo),z(ze),z(Ft,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({})}return n})();function db(n,e=sh){return q((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=o;o=null,i.next(u)}};function c(){const u=s+n,h=e.now();if(h<u)return r=this.schedule(void 0,u-h),void i.add(r);a()}t.subscribe(fe(i,u=>{o=u,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function $L(n){return Bn((e,t)=>n<=t)}const HL=new Set;let jl,zY=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HY}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $Y(n,e){if(!HL.has(n))try{jl||(jl=document.createElement("style"),e&&(jl.nonce=e),jl.setAttribute("type","text/css"),document.head.appendChild(jl)),jl.sheet&&(jl.sheet.insertRule(`@media ${n} {body{ }}`,0),HL.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(z(bo),z(HE,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qY=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return qL(NL(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=xy(qL(NL(t)).map(s=>this._registerQuery(s).observable));return o=Ty(o.pipe(Es(1)),o.pipe($L(1),db(0))),o.pipe(ge(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Qe(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Pl(i),ge(({matches:s})=>({query:t,matches:s})),gr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(z(zY),z(ze))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let ZL=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function YY(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function QY(n){try{return n.frameElement}catch{return null}}(function oX(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===QL(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=QL(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function iX(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function rX(n){return!function JY(n){return function tX(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function XY(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function eX(n){return function nX(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||KL(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(z(bo))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function QL(n){if(!KL(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class sX{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Es(1)).subscribe(e)}}let aX=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new sX(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(z(ZL),z(ze),z(Ft))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function XL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const cX=new ne("cdk-input-modality-detector-options"),lX={ignoreKeys:[18,17,224,91,16]},lh=lb({passive:!0,capture:!0});let uX=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new R(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ch(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(YL(s)?"keyboard":"mouse"),this._mostRecentTarget=ch(s))},this._onTouchstart=s=>{XL(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ch(s))},this._options={...lX,...o},this.modalityDetected=this._modality.pipe($L(1)),this.modalityChanged=this.modalityDetected.pipe(Qt()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,lh),r.addEventListener("mousedown",this._onMousedown,lh),r.addEventListener("touchstart",this._onTouchstart,lh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lh),document.removeEventListener("mousedown",this._onMousedown,lh),document.removeEventListener("touchstart",this._onTouchstart,lh))}static#e=this.\u0275fac=function(i){return new(i||n)(z(bo),z(ze),z(Ft),z(cX,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hX=new ne("cdk-focus-monitor-default-options"),hb=lb({passive:!0,capture:!0});let fX=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B,this._rootNodeFocusAndBlurListener=a=>{for(let u=ch(a);u;u=u.parentElement)"focus"===a.type?this._onFocus(a,u):this._onBlur(a,u)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Bl(t);if(!this._platform.isBrowser||1!==r.nodeType)return W();const o=function hY(n){if(function dY(){if(null==$C){const n=typeof document<"u"?document.head:null;$C=!(!n||!n.createShadowRoot&&!n.attachShadow)}return $C}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new B,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Bl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Bl(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=ch(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,hb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,hb)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(z(ze),z(bo),z(uX),z(Ft,8),z(hX,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const e2="cdk-high-contrast-black-on-white",t2="cdk-high-contrast-white-on-black",GC="cdk-high-contrast-active";let mX=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ue(qY).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(GC,e2,t2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(GC,e2):2===i&&t.add(GC,t2)}}static#e=this.\u0275fac=function(i){return new(i||n)(z(bo),z(Ft))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gX=new ne("mat-sanity-checks",{providedIn:"root",factory:function pX(){return!0}});let Mr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function mY(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(z(mX),z(gX,8),z(Ft))};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[UL,UL]})}return n})();function _X(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}class yX{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const o2=lb({passive:!0,capture:!0});class bX{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ch(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,o2)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,o2)))}}const s2={enterDuration:225,exitDuration:150},a2=lb({passive:!0,capture:!0}),c2=["mousedown","touchstart"],l2=["mouseup","mouseleave","touchend","touchcancel"];class fb{static#e=this._eventManager=new bX;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...s2,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function EX(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,u=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new yX(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let I=null;return!b&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(w),A=()=>this._destroyRipple(w);h.addEventListener("transitionend",M),h.addEventListener("transitioncancel",A),I={onTransitionEnd:M,onTransitionCancel:A}}),this._activeRipples.set(w,I),(b||!u)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...s2,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Bl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,c2.forEach(i=>{fb._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{l2.forEach(t=>{this._triggerElement.addEventListener(t,this,a2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=YL(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!XL(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(c2.forEach(t=>fb._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&l2.forEach(t=>e.removeEventListener(t,this,a2)))}}const WC=new ne("mat-ripple-global-options");let u2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[Mr,Mr]})}return n})(),IX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[Mr]})}return n})();class d2{}class xX{}const sa="*";function CX(n,e){return{type:7,name:n,definitions:e,options:{}}}function h2(n,e=null){return{type:4,styles:e,timings:n}}function f2(n,e=null){return{type:2,steps:n,options:e}}function mb(n){return{type:6,styles:n,offset:null}}function m2(n,e,t){return{type:0,name:n,styles:e,options:t}}function p2(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Ip{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class g2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const pb=["*"],TX=["content"];function DX(n,e){if(1&n){const t=Za();V(0,"div",2),mt("click",function(){return Ht(t),qt(dt()._onBackdropClicked())}),$()}2&n&&_i("mat-drawer-shown",dt()._isShowingBackdrop())}function AX(n,e){1&n&&(V(0,"mat-drawer-content"),Jt(1,2),$())}const SX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],kX=["mat-drawer","mat-drawer-content","*"];function MX(n,e){if(1&n){const t=Za();V(0,"div",2),mt("click",function(){return Ht(t),qt(dt()._onBackdropClicked())}),$()}2&n&&_i("mat-drawer-shown",dt()._isShowingBackdrop())}function RX(n,e){1&n&&(V(0,"mat-sidenav-content"),Jt(1,2),$())}const PX=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],NX=["mat-sidenav","mat-sidenav-content","*"],_2={transformDrawer:CX("transform",[m2("open, open-instant",mb({transform:"none",visibility:"visible"})),m2("void",mb({"box-shadow":"none",visibility:"hidden"})),p2("void => open-instant",h2("0ms")),p2("void <=> open, open-instant => void",h2("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},FX=new ne("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function LX(){return!1}}),KC=new ne("MAT_DRAWER_CONTAINER");let gb=(()=>{class n extends wp{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xa),N(F(()=>y2)),N(Xt),N(HC),N(ze))};static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&Om("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Rt([{provide:wp,useExisting:n}]),st],ngContentSelectors:pb,decls:1,vars:0,template:function(i,r){1&i&&(Hr(),Jt(0))},encapsulation:2,changeDetection:0})}return n})(),v2=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Zi(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Zi(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Zi(t))}constructor(t,i,r,o,s,a,c,u){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=u,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new B,this._animationEnd=new B,this._animationState="void",this.openedChange=new Vt(!0),this._openedStream=this.openedChange.pipe(Bn(h=>h),ge(()=>{})),this.openedStart=this._animationStarted.pipe(Bn(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),Xx(void 0)),this._closedStream=this.openedChange.pipe(Bn(h=>!h),ge(()=>{})),this.closedStart=this._animationStarted.pipe(Bn(h=>h.fromState!==h.toState&&"void"===h.toState),Xx(void 0)),this._destroyed=new B,this.onPositionChanged=new Vt,this._modeChanged=new B,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{gp(this._elementRef.nativeElement,"keydown").pipe(Bn(h=>27===h.keyCode&&!this.disableClose&&!function qC(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),gr(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(Qt((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Es(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xt),N(aX),N(fX),N(bo),N(ze),N(ZL),N(Ft,8),N(KC,8))};static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&jd(TX,5),2&i){let o;Kn(o=Qn())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&SI("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(ki("align",null),OI("@transform",r._animationState),_i("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:pb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(Hr(),V(0,"div",0,1),Jt(2),$())},dependencies:[wp],encapsulation:2,data:{animation:[_2.transformDrawer]},changeDetection:0})}return n})(),y2=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Zi(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Zi(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new Ud,this.backdropClick=new Vt,this._destroyed=new B,this._doCheckSubject=new B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new B,t&&t.change.pipe(gr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(gr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(Pl(this._allDrawers),gr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Pl(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(db(10),gr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Bn(i=>i.fromState!==i.toState),gr(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(gr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(gr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Es(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(gr(Z(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(N(BL,8),N(Xt),N(ze),N(Xa),N(wY),N(FX),N(yd,8))};static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(fr(o,gb,5),fr(o,v2,5)),2&i){let s;Kn(s=Qn())&&(r._content=s.first),Kn(s=Qn())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&jd(gb,5),2&i){let o;Kn(o=Qn())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&_i("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Rt([{provide:KC,useExisting:n}])],ngContentSelectors:kX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Hr(SX),At(0,DX,1,2,"div",0),Jt(1),Jt(2,1),At(3,AX,2,0,"mat-drawer-content",1)),2&i&&(rt("ngIf",r.hasBackdrop),Le(3),rt("ngIf",!r._content))},dependencies:[ec,gb],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),QC=(()=>{class n extends gb{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xa),N(F(()=>w2)),N(Xt),N(HC),N(ze))};static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&Om("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Rt([{provide:wp,useExisting:n}]),st],ngContentSelectors:pb,decls:1,vars:0,template:function(i,r){1&i&&(Hr(),Jt(0))},encapsulation:2,changeDetection:0})}return n})(),b2=(()=>{class n extends v2{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Zi(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ib(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ib(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=En(n)))(r||n)}}();static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(ki("align",null),Om("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),_i("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[st],ngContentSelectors:pb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(Hr(),V(0,"div",0,1),Jt(2),$())},dependencies:[wp],encapsulation:2,data:{animation:[_2.transformDrawer]},changeDetection:0})}return n})(),w2=(()=>{class n extends y2{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=En(n)))(r||n)}}();static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(fr(o,QC,5),fr(o,b2,5)),2&i){let s;Kn(s=Qn())&&(r._content=s.first),Kn(s=Qn())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&_i("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Rt([{provide:KC,useExisting:n}]),st],ngContentSelectors:NX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Hr(PX),At(0,MX,1,2,"div",0),Jt(1),Jt(2,1),At(3,RX,2,0,"mat-sidenav-content",1)),2&i&&(rt("ngIf",r.hasBackdrop),Le(3),rt("ngIf",!r._content))},dependencies:[ec,QC],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),VX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[Fx,Mr,jL,jL,Mr]})}return n})(),E2=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BX=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Bl(t);return new Qe(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new B,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(i){return new(i||n)(z(E2))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I2=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Zi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ib(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Vt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(db(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(N(BX),N(Xt),N(ze))};static#t=this.\u0275dir=Te({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),UX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({providers:[E2]})}return n})(),jX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[Mr,Mr]})}return n})();const C2=["*"],D2=["unscopedContent"],zX=["text"],$X=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],HX=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],A2=new ne("ListOption");let S2=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xt))};static#t=this.\u0275dir=Te({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),k2=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xt))};static#t=this.\u0275dir=Te({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),cJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Te({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),M2=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(N(A2,8))};static#t=this.\u0275dir=Te({type:n,hostVars:4,hostBindings:function(i,r){2&i&&_i("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),lJ=(()=>{class n extends M2{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=En(n)))(r||n)}}();static#t=this.\u0275dir=Te({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[st]})}return n})(),uJ=(()=>{class n extends M2{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=En(n)))(r||n)}}();static#t=this.\u0275dir=Te({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[st]})}return n})();const dJ=new ne("MAT_LIST_CONFIG");let uh=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=ue(dJ,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Zi(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Zi(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Te({type:n,hostVars:1,hostBindings:function(i,r){2&i&&ki("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),YC=(()=>{class n{set lines(t){this._explicitLines=ib(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=Zi(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=Zi(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,s,a){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new pt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new fb(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Z(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xt),N(ze),N(uh,8),N(bo),N(WC,8),N(yd,8))};static#t=this.\u0275dir=Te({type:n,contentQueries:function(i,r,o){if(1&i&&(fr(o,lJ,4),fr(o,uJ,4)),2&i){let s;Kn(s=Qn())&&(r._avatars=s),Kn(s=Qn())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(ki("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),_i("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),hJ=(()=>{class n extends uh{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=En(n)))(r||n)}}();static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[Rt([{provide:uh,useExisting:n}]),st],ngContentSelectors:C2,decls:1,vars:0,template:function(i,r){1&i&&(Hr(),Jt(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return n})(),fJ=(()=>{class n extends YC{get activated(){return this._activated}set activated(t){this._activated=Zi(t)}constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xt),N(ze),N(uh,8),N(bo),N(WC,8),N(yd,8))};static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(fr(o,k2,5),fr(o,S2,5),fr(o,cJ,5)),2&i){let s;Kn(s=Qn())&&(r._lines=s),Kn(s=Qn())&&(r._titles=s),Kn(s=Qn())&&(r._meta=s)}},viewQuery:function(i,r){if(1&i&&(jd(D2,5),jd(zX,5)),2&i){let o;Kn(o=Qn())&&(r._unscopedContent=o.first),Kn(o=Qn())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(ki("aria-current",r._getAriaCurrent()),_i("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[st],ngContentSelectors:HX,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(Hr($X),Jt(0),V(1,"span",0),Jt(2,1),Jt(3,2),V(4,"span",1,2),mt("cdkObserveContent",function(){return r._updateItemLines(!0)}),Jt(6,3),$()(),Jt(7,4),Jt(8,5),ut(9,"div",3))},dependencies:[I2],encapsulation:2,changeDetection:0})}return n})(),vJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[UX,Fx,Mr,u2,IX,jX]})}return n})();const yJ=["*",[["mat-toolbar-row"]]],bJ=["*","mat-toolbar-row"],wJ=_X(class{constructor(n){this._elementRef=n}});let EJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Te({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),IJ=(()=>{class n extends wJ{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(N(Xt),N(bo),N(Ft))};static#t=this.\u0275cmp=sn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&fr(o,EJ,5),2&i){let s;Kn(s=Qn())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&_i("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[st],ngContentSelectors:bJ,decls:2,vars:0,template:function(i,r){1&i&&(Hr(yJ),Jt(0),Jt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),xJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[Mr,Mr]})}return n})();function CJ(n,e){if(1&n){const t=Za();V(0,"mat-toolbar")(1,"span")(2,"a",5),ut(3,"img",6),$()(),ut(4,"span",7),V(5,"span",8),ae(6,' "Post with Purpose, Earn with Pride | Join Earn2Post" '),$(),ut(7,"span",7),V(8,"span")(9,"form"),ut(10,"input",9),$()(),V(11,"span")(12,"button",10),mt("click",function(){Ht(t);const r=dt();return qt(r.opened=!r.opened)}),$()()()}}const TJ=["*"];let XC=(()=>{class n{constructor(){this.opened=!1,this.visible=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:TJ,decls:30,vars:6,consts:[[4,"ngIf"],["autosize",""],["mode","over","position","end",3,"opened","openedChange"],["routerLink","/profile"],["routerLink","/clicker"],["routerLink","/home"],["src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],[1,"moto"],["type","search","placeholder","Search...","maxlength","13",1,"search"],[1,"menu_button",3,"click"]],template:function(i,r){1&i&&(Hr(),At(0,CJ,13,0,"mat-toolbar",0),V(1,"mat-sidenav-container",1)(2,"mat-sidenav",2),mt("openedChange",function(s){return r.opened=s}),V(3,"mat-list")(4,"mat-list-item")(5,"a",3),ae(6,"Profile"),$()(),V(7,"mat-list-item")(8,"a"),ae(9,"Messages"),$()(),V(10,"mat-list-item")(11,"a",4),ae(12,"Clicker"),$()(),V(13,"mat-list-item")(14,"a"),ae(15,"Buy DeBux"),$()(),V(16,"mat-list-item")(17,"a"),ae(18,"Settings"),$()(),V(19,"mat-list-item")(20,"a"),ae(21,"Bug Reposrt"),$()(),V(22,"mat-list-item")(23,"a"),ae(24,"Switch Account"),$()(),V(25,"mat-list-item")(26,"a"),ae(27,"Log out"),$()()()(),V(28,"mat-sidenav-content"),Jt(29),$()()),2&i&&(rt("ngIf",r.visible),Le(1),_i("login-page",!r.visible)("other-page",r.visible),Le(1),rt("opened",r.opened))},dependencies:[ec,Fl,mL,eL,nb,b2,w2,QC,hJ,fJ,IJ],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px}.logo[_ngcontent-%COMP%]{display:flex;width:90%;margin-bottom:15px;margin-left:24px}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:200%;position:relative}.search[_ngcontent-%COMP%]{width:300px;height:auto;border:none;border-radius:40px;outline:none;color:#e0e1e1;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 70px;background:#212121 url(search.ea107fff5de7e57b.svg) no-repeat;background-size:45px;background-position:4% 70%}.search[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;height:10px}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:65px;background-position:95% -160%;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}mat-sidenav-container[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}a[_ngcontent-%COMP%]{color:#e0e1e1}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return n})();Ge(956);var dh=Ge(534);(0,dh.registerVersion)("firebase","10.6.0","app");const MJ=new class kJ extends sb{}(class SJ extends ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),_b=new Wa("ANGULARFIRE2_VERSION");class P2{constructor(){return((n,e)=>{const t=(0,dh.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(PJ)}}const PJ="app-check";function hh(){}class N2{zone;delegate;constructor(e,t=MJ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class NJ{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hh,{},hh,hh)),t.pipe(Un({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let O2=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new N2(Zone.current)),this.insideAngular=t.run(()=>new N2(Zone.current,sh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(z(ze))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gr(n){return function FJ(n){return function(t){return(t=t.lift(new NJ(n.ngZone))).pipe(Bi(n.outsideAngular),Ci(n.insideAngular))}}(function fh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var aa=Ge(106);aa.Z.registerVersion("firebase","10.6.0","app-compat");const UJ=["ngOnDestroy"];class F2{constructor(e){return e}}const vb=new ne("angularfire2.app.options"),yb=new ne("angularfire2.app.name");function JC(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=aa.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>aa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;$J("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new F2(s)}const $J=(n,...e)=>{},HJ={provide:F2,useFactory:JC,deps:[vb,ze,[new ps,yb]]};let qJ=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:vb,useValue:t},{provide:yb,useValue:i}]}}constructor(t){aa.Z.registerVersion("angularfire",_b.full,"core"),aa.Z.registerVersion("angularfire",_b.full,"app-compat"),aa.Z.registerVersion("angular",wM.full,t.toString())}static \u0275fac=function(i){return new(i||n)(z(Oo))};static \u0275mod=Mt({type:n});static \u0275inj=St({providers:[HJ]})}return n})();function L2(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function GJ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(V2("error",`${e} was already initialized on the ${t} Firebase App with different settings.${WJ?" You may need to reload as Firebase is not HMR aware.":""}`),V2("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const WJ=typeof module<"u"&&!!module.hot,V2=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class ZJ extends B{constructor(e=1/0,t=1/0,i=BC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function B2(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Fe({connector:()=>new ZJ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function U2(n,e){return E(e)?yt(()=>n,e):yt(()=>n)}const j2=new ne("angularfire2.auth.use-emulator"),z2=new ne("angularfire2.auth.settings"),$2=new ne("angularfire2.auth.tenant-id"),H2=new ne("angularfire2.auth.langugage-code"),q2=new ne("angularfire2.auth.use-device-language"),G2=new ne("angularfire.auth.persistence"),W2=(n,e,t,i,r,o,s,a)=>L2(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[u,h]of Object.entries(s))c.settings[u]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let mh=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,u,h,p,g,v){const b=new B,w=W(void 0).pipe(Ci(s.outsideAngular),yt(()=>o.runOutsideAngular(()=>Promise.resolve().then(Ge.bind(Ge,956)))),ge(()=>JC(t,o,i)),ge(I=>W2(I,o,a,u,h,p,c,g)),B2({bufferSize:1,refCount:!1}));if(by(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=W(null);else{w.pipe(nc()).subscribe();const I=w.pipe(yt(L=>L.getRedirectResult().then(Y=>Y,()=>null)),Gr,B2({bufferSize:1,refCount:!1})),M=w.pipe(yt(L=>new Qe(Y=>({unsubscribe:o.runOutsideAngular(()=>L.onAuthStateChanged(le=>Y.next(le),le=>Y.error(le),()=>Y.complete()))})))),A=w.pipe(yt(L=>new Qe(Y=>({unsubscribe:o.runOutsideAngular(()=>L.onIdTokenChanged(le=>Y.next(le),le=>Y.error(le),()=>Y.complete()))}))));this.authState=I.pipe(U2(M),Bi(s.outsideAngular),Ci(s.insideAngular)),this.user=I.pipe(U2(A),Bi(s.outsideAngular),Ci(s.insideAngular)),this.idToken=this.user.pipe(yt(L=>L?D(L.getIdToken()):W(null))),this.idTokenResult=this.user.pipe(yt(L=>L?D(L.getIdTokenResult()):W(null))),this.credential=Z(I,b,this.authState.pipe(Bn(L=>!L))).pipe(ge(L=>L?.user?L:null),Bi(s.outsideAngular),Ci(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(UJ.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(h=>{const p=h?.(...u);return i?.spy?.apply&&i.spy.apply(o,u,p),p})})})}))(this,w,o,{spy:{apply:(I,M,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(L=>b.next(L))}}})}static \u0275fac=function(i){return new(i||n)(z(vb),z(yb,8),z(Oo),z(ze),z(O2),z(j2,8),z(z2,8),z($2,8),z(H2,8),z(q2,8),z(G2,8),z(P2,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),QJ=(()=>{class n{constructor(){aa.Z.registerVersion("angularfire",_b.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Mt({type:n});static \u0275inj=St({providers:[mh]})}return n})();function eT(){return q((n,e)=>{let t,i=!1;n.subscribe(fe(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var ve,X=Ge(861),Z2=Ge(537),Cs=Ge(879),tn=Ge(58),YJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qo={},tT=tT||{},Ze=YJ||self;function bb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function xp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nT="closure_uid_"+(1e9*Math.random()>>>0),JJ=0;function eee(n,e,t){return n.call.apply(n.bind,arguments)}function tee(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ki(n,e,t){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eee:tee).apply(null,arguments)}function wb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function lc(){this.s=this.s,this.o=this.o}lc.prototype.s=!1,lc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XJ(n){Object.prototype.hasOwnProperty.call(n,nT)&&n[nT]||(n[nT]=++JJ)}(this)},lc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iT(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Q2(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(bb(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function Qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Qi.prototype.h=function(){this.defaultPrevented=!0};var iee=function(){if(!Ze.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ze.addEventListener("test",()=>{},e),Ze.removeEventListener("test",()=>{},e)}catch{}return n}();function Cp(n){return/^[\s\xa0]*$/.test(n)}function Eb(){var n=Ze.navigator;return n&&(n=n.userAgent)?n:""}function Ts(n){return-1!=Eb().indexOf(n)}function rT(n){return rT[" "](n),n}rT[" "]=function(){};var sT,n,oee=Ts("Opera"),ph=Ts("Trident")||Ts("MSIE"),Y2=Ts("Edge"),oT=Y2||ph,X2=Ts("Gecko")&&!(-1!=Eb().toLowerCase().indexOf("webkit")&&!Ts("Edge"))&&!(Ts("Trident")||Ts("MSIE"))&&!Ts("Edge"),see=-1!=Eb().toLowerCase().indexOf("webkit")&&!Ts("Edge");function J2(){var n=Ze.document;return n?n.documentMode:void 0}e:{var aT="",cT=(n=Eb(),X2?/rv:([^\);]+)(\)|;)/.exec(n):Y2?/Edge\/([\d\.]+)/.exec(n):ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):see?/WebKit\/(\S+)/.exec(n):oee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cT&&(aT=cT?cT[1]:""),ph){var lT=J2();if(null!=lT&&lT>parseFloat(aT)){sT=String(lT);break e}}sT=aT}var aee=Ze.document&&ph&&(J2()||parseInt(sT,10))||void 0;function Tp(n,e){if(Qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(X2){e:{try{rT(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tp.$.h.call(this)}}vi(Tp,Qi);var cee={2:"touch",3:"pen",4:"mouse"};Tp.prototype.h=function(){Tp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dp="closure_listenable_"+(1e6*Math.random()|0),lee=0;function uee(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++lee,this.fa=this.ia=!1}function Ib(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function dT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function tV(n){const e={};for(const t in n)e[t]=n[t];return e}const nV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<nV.length;o++)t=nV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function xb(n){this.src=n,this.g={},this.h=0}function hT(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=K2(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Ib(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fT(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}xb.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=fT(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new uee(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var mT="closure_lm_"+(1e6*Math.random()|0),pT={};function rV(n,e,t,i,r){if(i&&i.once)return sV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rV(n,e[o],t,i,r);return null}return t=yT(t),n&&n[Dp]?n.O(e,t,xp(i)?!!i.capture:!!i,r):oV(n,e,t,!1,i,r)}function oV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=xp(r)?!!r.capture:!!r,a=_T(n);if(a||(n[mT]=a=new xb(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function hee(){const e=fee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)iee||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(cV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function sV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sV(n,e[o],t,i,r);return null}return t=yT(t),n&&n[Dp]?n.P(e,t,xp(i)?!!i.capture:!!i,r):oV(n,e,t,!0,i,r)}function aV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)aV(n,e[o],t,i,r);else i=xp(i)?!!i.capture:!!i,t=yT(t),n&&n[Dp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fT(o=n.g[e],t,i,r))&&(Ib(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=_T(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fT(e,t,i,r)),(t=-1<n?e[n]:null)&&gT(t))}function gT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Dp])hT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(cV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=_T(e))?(hT(t,n),0==t.h&&(t.src=null,e[mT]=null)):Ib(n)}}}function cV(n){return n in pT?pT[n]:pT[n]="on"+n}function fee(n,e){if(n.fa)n=!0;else{e=new Tp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&gT(n),n=t.call(i,e)}return n}function _T(n){return(n=n[mT])instanceof xb?n:null}var vT="__closure_events_fn_"+(1e9*Math.random()>>>0);function yT(n){return"function"==typeof n?n:(n[vT]||(n[vT]=function(e){return n.handleEvent(e)}),n[vT])}function yi(){lc.call(this),this.i=new xb(this),this.S=this,this.J=null}function Mi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Qi(e,n);else if(e instanceof Qi)e.target=e.target||n;else{var r=e;iV(e=new Qi(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Cb(s,i,!0,e)&&r}if(r=Cb(s=e.g=n,i,!0,e)&&r,r=Cb(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Cb(s=e.g=t[o],i,!1,e)&&r}function Cb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&hT(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}vi(yi,lc),yi.prototype[Dp]=!0,yi.prototype.removeEventListener=function(n,e,t,i){aV(this,n,e,t,i)},yi.prototype.N=function(){if(yi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Ib(t[i]);delete n.g[e],n.h--}}this.J=null},yi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},yi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var bT=Ze.JSON.stringify;function pee(){var n=wT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var lV=new class mee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _ee,n=>n.reset());class _ee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function yee(n){Ze.setTimeout(()=>{throw n},0)}let Ap,Sp=!1,wT=new class gee{constructor(){this.h=this.g=null}add(e,t){const i=lV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},uV=()=>{const n=Ze.Promise.resolve(void 0);Ap=()=>{n.then(bee)}};var bee=()=>{for(var n;n=pee();){try{n.h.call(n.g)}catch(t){yee(t)}var e=lV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sp=!1};function Tb(n,e){yi.call(this),this.h=n||1,this.g=e||Ze,this.j=Ki(this.qb,this),this.l=Date.now()}function ET(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function IT(n,e,t){if("function"==typeof n)t&&(n=Ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ze.setTimeout(n,e||0)}function dV(n){n.g=IT(()=>{n.g=null,n.i&&(n.i=!1,dV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vi(Tb,yi),(ve=Tb.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mi(this,"tick"),this.ga&&(ET(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){Tb.$.N.call(this),ET(this),delete this.g};class wee extends lc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dV(this)}N(){super.N(),this.g&&(Ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kp(n){lc.call(this),this.h=n,this.g={}}vi(kp,lc);var hV=[];function fV(n,e,t,i){Array.isArray(t)||(t&&(hV[0]=t.toString()),t=hV);for(var r=0;r<t.length;r++){var o=rV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function mV(n){dT(n.g,function(e,t){this.g.hasOwnProperty(t)&&gT(e)},n),n.g={}}function Db(){this.g=!0}function gh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Cee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return bT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}kp.prototype.N=function(){kp.$.N.call(this),mV(this)},kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Db.prototype.Ea=function(){this.g=!1},Db.prototype.info=function(){};var $l={},pV=null;function Ab(){return pV=pV||new yi}function gV(n){Qi.call(this,$l.Ta,n)}function Mp(n){const e=Ab();Mi(e,new gV(e))}function _V(n,e){Qi.call(this,$l.STAT_EVENT,n),this.stat=e}function yr(n){const e=Ab();Mi(e,new _V(e,n))}function vV(n,e){Qi.call(this,$l.Ua,n),this.size=e}function Rp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ze.setTimeout(function(){n()},e)}$l.Ta="serverreachability",vi(gV,Qi),$l.STAT_EVENT="statevent",vi(_V,Qi),$l.Ua="timingevent",vi(vV,Qi);var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xT(){}function wV(){}xT.prototype.h=null;var DT,Pp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CT(){Qi.call(this,"d")}function TT(){Qi.call(this,"c")}function kb(){}function Np(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new kp(this),this.P=Tee,this.V=new Tb(n=oT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EV}function EV(){this.i=null,this.g="",this.h=!1}vi(CT,Qi),vi(TT,Qi),vi(kb,xT),kb.prototype.g=function(){return new XMLHttpRequest},kb.prototype.i=function(){return{}},DT=new kb;var Tee=45e3,AT={},Mb={};function ST(n,e,t){n.L=1,n.v=Ob(ca(e)),n.s=t,n.S=!0,IV(n,null)}function IV(n,e){n.G=Date.now(),Op(n),n.A=ca(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),PV(t.i,"t",i),n.C=0,t=n.l.J,n.h=new EV,n.g=iB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new wee(Ki(n.Pa,n,n.g),n.O)),fV(n.U,n.g,"readystatechange",n.nb),e=n.I?tV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Mp(),function Eee(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var h=u[0];u=u[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+u+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function xV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function CV(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Dee(n,t),r==Mb){4==e&&(n.o=4,yr(14),i=!1),gh(n.j,n.m,null,"[Incomplete Response]");break}if(r==AT){n.o=4,yr(15),gh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}gh(n.j,n.m,r,null),kT(n,r)}xV(n)&&r!=Mb&&r!=AT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),LT(e),e.M=!0,yr(11))):(gh(n.j,n.m,t,"[Invalid Chunked Response]"),Hl(n),Fp(n))}function Dee(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Mb:(t=Number(e.substring(t,i)),isNaN(t)?AT:(i+=1)+t>e.length?Mb:(e=e.slice(i,i+t),n.C=i+t,e))}function Op(n){n.Y=Date.now()+n.P,TV(n,n.P)}function TV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rp(Ki(n.lb,n),e)}function Rb(n){n.B&&(Ze.clearTimeout(n.B),n.B=null)}function Fp(n){0==n.l.H||n.J||JV(n.l,n)}function Hl(n){Rb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ET(n.V),mV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function kT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||MT(t.i,n)))if(!n.K&&MT(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;jb(t),Bb(t)}FT(t),yr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Rp(Ki(t.ib,t),6e3));if(1>=FV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Gl(t,11)}else if((n.K||t.g==n)&&jb(t),!Cp(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const h=u[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=u[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=u[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(RT(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,pn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=nB(i,i.J?i.pa:null,i.Y),s.K){LV(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Rb(a),Op(a)),i.g=s}else YV(i);0<t.j.length&&Ub(t)}else"stop"!=u[0]&&"close"!=u[0]||Gl(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Gl(t,7):OT(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}Mp()}catch{}}function DV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(bb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function See(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(bb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Aee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(bb(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ve=Np.prototype).setTimeout=function(n){this.P=n},ve.nb=function(n){n=n.target;const e=this.M;e&&3==Ds(n)?e.l():this.Pa(n)},ve.Pa=function(n){try{if(n==this.g)e:{const h=Ds(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||oT||this.g&&(this.h.h||this.g.ja()||qV(this.g)))){this.J||4!=h||7==e||Mp(),Rb(this);var t=this.g.da();this.ca=t;t:if(xV(this)){var i=qV(this.g);n="";var r=i.length,o=4==Ds(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hl(this),Fp(this);var s="";break t}this.h.i=new Ze.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Iee(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cp(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,yr(12),Hl(this),Fp(this);break e}gh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kT(this,t)}this.S?(CV(this,h,s),oT&&this.i&&3==h&&(fV(this.U,this.V,"tick",this.mb),this.V.start())):(gh(this.j,this.m,s,null),kT(this,s)),4==h&&Hl(this),this.i&&!this.J&&(4==h?JV(this.l,this):(this.i=!1,Op(this)))}else(function Wee(n){const e={};n=(n.g&&2<=Ds(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Cp(n[i]))continue;var t=vee(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function dee(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),Hl(this),Fp(this)}}}catch{}},ve.mb=function(){if(this.g){var n=Ds(this.g),e=this.g.ja();this.C<e.length&&(Rb(this),CV(this,n,e),this.i&&4!=n&&Op(this))}},ve.cancel=function(){this.J=!0,Hl(this)},ve.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Mp(),yr(17)),Hl(this),this.o=2,Fp(this)):TV(this,this.Y-n)};var AV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ql(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ql){this.h=n.h,Pb(this,n.j),this.s=n.s,this.g=n.g,Nb(this,n.m),this.l=n.l;var e=n.i,t=new Bp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),SV(this,t),this.o=n.o}else n&&(e=String(n).match(AV))?(this.h=!1,Pb(this,e[1]||"",!0),this.s=Lp(e[2]||""),this.g=Lp(e[3]||"",!0),Nb(this,e[4]),this.l=Lp(e[5]||"",!0),SV(this,e[6]||"",!0),this.o=Lp(e[7]||"")):(this.h=!1,this.i=new Bp(null,this.h))}function ca(n){return new ql(n)}function Pb(n,e,t){n.j=t?Lp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Nb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SV(n,e,t){e instanceof Bp?(n.i=e,function Fee(n,e){e&&!n.j&&(uc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(MV(this,i),PV(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vp(e,Nee)),n.i=new Bp(e,n.h))}function pn(n,e,t){n.i.set(e,t)}function Ob(n){return pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Mee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Mee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ql.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vp(e,kV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vp(e,kV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vp(t,"/"==t.charAt(0)?Pee:Ree,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vp(t,Oee)),n.join("")};var kV=/[#\/\?@]/g,Ree=/[#\?:]/g,Pee=/[#\?]/g,Nee=/[#\?@]/g,Oee=/#/g;function Bp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uc(n){n.g||(n.g=new Map,n.h=0,n.i&&function kee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MV(n,e){uc(n),e=_h(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function RV(n,e){return uc(n),e=_h(n,e),n.g.has(e)}function PV(n,e,t){MV(n,e),0<t.length&&(n.i=null,n.g.set(_h(n,e),iT(t)),n.h+=t.length)}function _h(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NV(n){this.l=n||Vee,n=Ze.PerformanceNavigationTiming?0<(n=Ze.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ze.g&&Ze.g.Ka&&Ze.g.Ka()&&Ze.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=Bp.prototype).add=function(n,e){uc(this),this.i=null,n=_h(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(n,e){uc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ve.ta=function(){uc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ve.Z=function(n){uc(this);let e=[];if("string"==typeof n)RV(this,n)&&(e=e.concat(this.g.get(_h(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ve.set=function(n,e){return uc(this),this.i=null,RV(this,n=_h(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Vee=10;function OV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FV(n){return n.h?1:n.g?n.g.size:0}function MT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RT(n,e){n.g?n.g.add(e):n.h=e}function LV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function VV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return iT(n.i)}NV.prototype.cancel=function(){if(this.i=VV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Bee=class{stringify(n){return Ze.JSON.stringify(n,void 0)}parse(n){return Ze.JSON.parse(n,void 0)}};function Uee(){this.g=new Bee}function jee(n,e,t){const i=t||"";try{DV(n,function(r,o){let s=r;xp(r)&&(s=bT(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Fb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Up(n){this.l=n.ec||null,this.j=n.ob||!1}function Lb(n,e){yi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=PT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vi(Up,xT),Up.prototype.g=function(){return new Lb(this.l,this.j)},Up.prototype.i=function(n){return function(){return n}}({}),vi(Lb,yi);var PT=0;function BV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zp(n)}function zp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ve=Lb.prototype).open=function(n,e){if(this.readyState!=PT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zp(this)},ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jp(this)),this.readyState=PT},ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zp(this)),this.g&&(this.readyState=3,zp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ze.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jp(this):zp(this),3==this.readyState&&BV(this)}},ve.Za=function(n){this.g&&(this.response=this.responseText=n,jp(this))},ve.Ya=function(n){this.g&&(this.response=n,jp(this))},ve.ka=function(){this.g&&jp(this)},ve.setRequestHeader=function(n,e){this.v.append(n,e)},ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $ee=Ze.JSON.parse;function Rn(n){yi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UV,this.L=this.M=!1}vi(Rn,yi);var UV="",Hee=/^https?$/i,qee=["POST","PUT"];function jV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zV(n),Vb(n)}function zV(n){n.F||(n.F=!0,Mi(n,"complete"),Mi(n,"error"))}function $V(n){if(n.h&&typeof tT<"u"&&(!n.C[1]||4!=Ds(n)||2!=n.da()))if(n.v&&4==Ds(n))IT(n.La,0,n);else if(Mi(n,"readystatechange"),4==Ds(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(AV)[1]||null;!r&&Ze.self&&Ze.self.location&&(r=Ze.self.location.protocol.slice(0,-1)),i=!Hee.test(r?r.toLowerCase():"")}t=i}if(t)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var o=2<Ds(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",zV(n)}}finally{Vb(n)}}}function Vb(n,e){if(n.g){HV(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Mi(n,"ready");try{t.onreadystatechange=i}catch{}}}function HV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ze.clearTimeout(n.A),n.A=null)}function Ds(n){return n.g?n.g.readyState:0}function qV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case UV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function GV(n){let e="";return dT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function NT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=GV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pn(n,e,t))}function $p(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WV(n){this.Ga=0,this.j=[],this.l=new Db,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$p("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$p("baseRetryDelayMs",5e3,n),this.hb=$p("retryDelaySeedMs",1e4,n),this.eb=$p("forwardChannelMaxRetries",2,n),this.xa=$p("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new NV(n&&n.concurrentRequestLimit),this.Ja=new Uee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OT(n){if(ZV(n),3==n.H){var e=n.W++,t=ca(n.I);if(pn(t,"SID",n.K),pn(t,"RID",e),pn(t,"TYPE","terminate"),Hp(n,t),(e=new Np(n,n.l,e)).L=2,e.v=Ob(ca(t)),t=!1,Ze.navigator&&Ze.navigator.sendBeacon)try{t=Ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ze.Image&&((new Image).src=e.v,t=!0),t||(e.g=iB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Op(e)}tB(n)}function Bb(n){n.g&&(LT(n),n.g.cancel(),n.g=null)}function ZV(n){Bb(n),n.u&&(Ze.clearTimeout(n.u),n.u=null),jb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ze.clearTimeout(n.m),n.m=null)}function Ub(n){if(!OV(n.i)&&!n.m){n.m=!0;var e=n.Na;Ap||uV(),Sp||(Ap(),Sp=!0),wT.add(e,n),n.C=0}}function KV(n,e){var t;t=e?e.m:n.W++;const i=ca(n.I);pn(i,"SID",n.K),pn(i,"RID",t),pn(i,"AID",n.V),Hp(n,i),n.o&&n.s&&NT(i,n.o,n.s),t=new Np(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=QV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),RT(n.i,t),ST(t,i,e)}function Hp(n,e){n.na&&dT(n.na,function(t,i){pn(e,i,t)}),n.h&&DV({},function(t,i){pn(e,i,t)})}function QV(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ki(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let u=r[c].g;const h=r[c].map;if(u-=o,0>u)o=Math.max(0,r[c].g-100),a=!1;else try{jee(h,s,"req"+u+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function YV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ap||uV(),Sp||(Ap(),Sp=!0),wT.add(e,n),n.A=0}}function FT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Rp(Ki(n.Ma,n),eB(n,n.A)),n.A++,0))}function LT(n){null!=n.B&&(Ze.clearTimeout(n.B),n.B=null)}function XV(n){n.g=new Np(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ca(n.wa);pn(e,"RID","rpc"),pn(e,"SID",n.K),pn(e,"AID",n.V),pn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&pn(e,"TO",n.qa),pn(e,"TYPE","xmlhttp"),Hp(n,e),n.o&&n.s&&NT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ob(ca(e)),t.s=null,t.S=!0,IV(t,n)}function jb(n){null!=n.v&&(Ze.clearTimeout(n.v),n.v=null)}function JV(n,e){var t=null;if(n.g==e){jb(n),LT(n),n.g=null;var i=2}else{if(!MT(n.i,e))return;t=e.F,LV(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Mi(i=Ab(),new vV(i,t)),Ub(n)}else YV(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Zee(n,e){return!(FV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Rp(Ki(n.Na,n,e),eB(n,n.C)),n.C++,0)))}(n,e)||2==i&&FT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Gl(n,5);break;case 4:Gl(n,10);break;case 3:Gl(n,6);break;default:Gl(n,2)}}function eB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Gl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ki(n.pb,n);t||(t=new ql("//www.google.com/images/cleardot.gif"),Ze.location&&"http"==Ze.location.protocol||Pb(t,"https"),Ob(t)),function zee(n,e){const t=new Db;if(Ze.Image){const i=new Image;i.onload=wb(Fb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=wb(Fb,t,i,"TestLoadImage: error",!1,e),i.onabort=wb(Fb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=wb(Fb,t,i,"TestLoadImage: timeout",!1,e),Ze.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else yr(2);n.H=0,n.h&&n.h.za(e),tB(n),ZV(n)}function tB(n){if(n.H=0,n.ma=[],n.h){const e=VV(n.i);(0!=e.length||0!=n.j.length)&&(Q2(n.ma,e),Q2(n.ma,n.j),n.i.i.length=0,iT(n.j),n.j.length=0),n.h.ya()}}function nB(n,e,t){var i=t instanceof ql?ca(t):new ql(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Nb(i,i.m);else{var r=Ze.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ql(null);i&&Pb(o,i),e&&(o.g=e),r&&Nb(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&pn(i,t,e),pn(i,"VER",n.ra),Hp(n,i),i}function iB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t&&n.Ha&&!n.va?new Up({ob:!0}):n.va)).Oa(n.J),e}function rB(){}function zb(){if(ph&&!(10<=Number(aee)))throw Error("Environmental error: no available transport.")}function Wr(n,e){yi.call(this),this.g=new WV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Cp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vh(this)}function oB(n){CT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function sB(){TT.call(this),this.status=1}function vh(n){this.g=n}function Go(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function VT(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ut(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ve=Rn.prototype).Oa=function(n){this.M=n},ve.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():DT.g(),this.C=function bV(n){return n.h||(n.h=n.i())}(this.u?this.u:DT),this.g.onreadystatechange=Ki(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void jV(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Ze.FormData&&n instanceof Ze.FormData,!(0<=K2(qee,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HV(this),0<this.B&&((this.L=function Gee(n){return ph&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ki(this.ua,this)):this.A=IT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){jV(this,o)}},ve.ua=function(){typeof tT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),Vb(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vb(this,!0)),Rn.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?$V(this):this.kb())},ve.kb=function(){$V(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Ds(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$ee(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=WV.prototype).ra=8,ve.H=1,ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Np(this,this.l,n);let o=this.s;if(this.U&&(o?(o=tV(o),iV(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QV(this,r,e),pn(t=ca(this.I),"RID",n),pn(t,"CVER",22),this.F&&pn(t,"X-HTTP-Session-Id",this.F),Hp(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(GV(o)))+"&"+e:this.o&&NT(t,this.o,o)),RT(this.i,r),this.bb&&pn(t,"TYPE","init"),this.P?(pn(t,"$req",e),pn(t,"SID","null"),r.aa=!0,ST(r,t,null)):ST(r,t,e),this.H=2}}else 3==this.H&&(n?KV(this,n):0==this.j.length||OV(this.i)||KV(this))},ve.Ma=function(){if(this.u=null,XV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Rp(Ki(this.jb,this),n)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yr(10),Bb(this),XV(this))},ve.ib=function(){null!=this.v&&(this.v=null,Bb(this),FT(this),yr(19))},ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yr(2)):(this.l.info("Failed to ping google.com"),yr(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=rB.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},zb.prototype.g=function(n,e){return new Wr(n,e)},vi(Wr,yi),Wr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=nB(n,null,n.Y),Ub(n)},Wr.prototype.close=function(){OT(this.g)},Wr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ub(e)},Wr.prototype.N=function(){this.g.h=null,delete this.j,OT(this.g),delete this.g,Wr.$.N.call(this)},vi(oB,CT),vi(sB,TT),vi(vh,rB),vh.prototype.Ba=function(){Mi(this.g,"a")},vh.prototype.Aa=function(n){Mi(this.g,new oB(n))},vh.prototype.za=function(n){Mi(this.g,new sB)},vh.prototype.ya=function(){Mi(this.g,"b")},vi(Go,function Kee(){this.blockSize=-1}),Go.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Go.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)VT(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){VT(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){VT(this,i),r=0;break}}this.h=r,this.i+=e},Go.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Qee={};function BT(n){return-128<=n&&128>n?function ree(n,e){var t=Qee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ut([0|e],0>e?-1:0)}):new Ut([0|n],0>n?-1:0)}function As(n){if(isNaN(n)||!isFinite(n))return yh;if(0>n)return Ri(As(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=UT;return new Ut(e,0)}var UT=4294967296,yh=BT(0),jT=BT(1),cB=BT(16777216);function la(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function wo(n){return-1==n.h}function Ri(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ut(t,~n.h).add(jT)}function $b(n,e){return n.add(Ri(e))}function Hb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function qp(n,e){this.g=n,this.h=e}function qb(n,e){if(la(e))throw Error("division by zero");if(la(n))return new qp(yh,yh);if(wo(n))return e=qb(Ri(n),e),new qp(Ri(e.g),Ri(e.h));if(wo(e))return e=qb(n,Ri(e)),new qp(Ri(e.g),e.h);if(30<n.g.length){if(wo(n)||wo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=jT,i=e;0>=i.X(n);)t=lB(t),i=lB(i);var r=bh(t,1),o=bh(i,1);for(i=bh(i,2),t=bh(t,2);!la(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=bh(i,1),t=bh(t,1)}return e=$b(n,r.R(e)),new qp(r,e)}for(r=yh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=As(t)).R(e);wo(s)||0<s.X(n);)s=(o=As(t-=i)).R(e);la(o)&&(o=jT),r=r.add(o),n=$b(n,s)}return new qp(r,n)}function lB(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ut(t,n.h)}function bh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ut(r,n.h)}(ve=Ut.prototype).ea=function(){if(wo(this))return-Ri(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:UT+i)*e,e*=UT}return n},ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(la(this))return"0";if(wo(this))return"-"+Ri(this).toString(n);for(var e=As(Math.pow(n,6)),t=this,i="";;){var r=qb(t,e).g,o=((0<(t=$b(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(la(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ve.X=function(n){return wo(n=$b(this,n))?-1:la(n)?0:1},ve.abs=function(){return wo(this)?Ri(this):this},ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Ut(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(n){if(la(this)||la(n))return yh;if(wo(this))return wo(n)?Ri(this).R(Ri(n)):Ri(Ri(this).R(n));if(wo(n))return Ri(this.R(Ri(n)));if(0>this.X(cB)&&0>n.X(cB))return As(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Hb(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Hb(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Hb(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Hb(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ut(t,0)},ve.gb=function(n){return qb(this,n).h},ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ut(t,this.h&n.h)},ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ut(t,this.h|n.h)},ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ut(t,this.h^n.h)},zb.prototype.createWebChannel=zb.prototype.g,Wr.prototype.send=Wr.prototype.u,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,Sb.NO_ERROR=0,Sb.TIMEOUT=8,Sb.HTTP_ERROR=6,yV.COMPLETE="complete",wV.EventType=Pp,Pp.OPEN="a",Pp.CLOSE="b",Pp.ERROR="c",Pp.MESSAGE="d",yi.prototype.listen=yi.prototype.O,Rn.prototype.listenOnce=Rn.prototype.P,Rn.prototype.getLastError=Rn.prototype.Sa,Rn.prototype.getLastErrorCode=Rn.prototype.Ia,Rn.prototype.getStatus=Rn.prototype.da,Rn.prototype.getResponseJson=Rn.prototype.Wa,Rn.prototype.getResponseText=Rn.prototype.ja,Rn.prototype.send=Rn.prototype.ha,Rn.prototype.setWithCredentials=Rn.prototype.Oa,Go.prototype.digest=Go.prototype.l,Go.prototype.reset=Go.prototype.reset,Go.prototype.update=Go.prototype.j,Ut.prototype.add=Ut.prototype.add,Ut.prototype.multiply=Ut.prototype.R,Ut.prototype.modulo=Ut.prototype.gb,Ut.prototype.compare=Ut.prototype.X,Ut.prototype.toNumber=Ut.prototype.ea,Ut.prototype.toString=Ut.prototype.toString,Ut.prototype.getBits=Ut.prototype.D,Ut.fromNumber=As,Ut.fromString=function aB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ri(aB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=As(Math.pow(e,8)),i=yh,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=As(Math.pow(e,o)),i=i.R(o).add(As(s))):i=(i=i.R(t)).add(As(s))}return i};var Yee=qo.createWebChannelTransport=function(){return new zb},Xee=qo.getStatEventTarget=function(){return Ab()},zT=qo.ErrorCode=Sb,Jee=qo.EventType=yV,ete=qo.Event=$l,uB=qo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tte=qo.FetchXmlHttpFactory=Up,Gb=qo.WebChannel=wV,nte=qo.XhrIo=Rn,ite=qo.Md5=Go,wh=qo.Integer=Ut;const dB="@firebase/firestore";class bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");let Eh="10.5.2";const dc=new Cs.Yd("@firebase/firestore");function Ih(){return dc.logLevel}function se(n,...e){if(dc.logLevel<=Cs.in.DEBUG){const t=e.map($T);dc.debug(`Firestore (${Eh}): ${n}`,...t)}}function jn(n,...e){if(dc.logLevel<=Cs.in.ERROR){const t=e.map($T);dc.error(`Firestore (${Eh}): ${n}`,...t)}}function Rr(n,...e){if(dc.logLevel<=Cs.in.WARN){const t=e.map($T);dc.warn(`Firestore (${Eh}): ${n}`,...t)}}function $T(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function be(n="Unexpected state"){const e=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+n;throw jn(e),new Error(e)}function ke(n,e){n||be()}function he(n,e){return n}const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ste{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bi.UNAUTHENTICATED))}shutdown(){}}class ate{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cte{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,X.Z)(function*(){yield u.promise,yield o(i.currentUser)}))},c=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke("string"==typeof i.accessToken),new hB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new bi(e)}}class lte{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ute{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new lte(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke("string"==typeof t.token),this.R=t.token,new fB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hte(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class mB{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=hte(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function xh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function pB(n){return n+"\0"}class xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new xn(0,0))}static max(){return new Me(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gp{constructor(e,t,i){void 0===t?t=0:t>e.length&&be(),void 0===i?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Gp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class It extends Gp{construct(e,t,i){return new It(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new re(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new It(t)}static emptyPath(){return new It([])}}const fte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Gp{construct(e,t,i){return new gn(e,t,i)}static isValidIdentifier(e){return fte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new re(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new re(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new re(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new re(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(It.fromString(e))}static fromName(e){return new pe(It.fromString(e).popFirst(5))}static empty(){return new pe(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===It.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new It(e.slice()))}}class Ch{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function HT(n){return n.fields.find(e=>2===e.kind)}function Wl(n){return n.fields.filter(e=>2!==e.kind)}Ch.UNKNOWN_ID=-1;class Zl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Th{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Th(0,Zr.min())}}function gB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Me.fromTimestamp(1e9===i?new xn(t+1,0):new xn(t,i));return new Zr(r,pe.empty(),e)}function _B(n){return new Zr(n.readTime,n.key,-1)}class Zr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Zr(Me.min(),pe.empty(),-1)}static max(){return new Zr(Me.max(),pe.empty(),-1)}}function qT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:qe(n.largestBatchId,e.largestBatchId))}const vB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hc(n){return GT.apply(this,arguments)}function GT(){return GT=(0,X.Z)(function*(n){if(n.code!==j.FAILED_PRECONDITION||n.message!==vB)throw n;se("LocalStore","Unexpectedly lost primary lease")}),GT.apply(this,arguments)}class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new O((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof O?t:O.resolve(t)}catch(t){return O.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):O.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):O.reject(t)}static resolve(e){return new O((t,i)=>{t(e)})}static reject(e){return new O((t,i)=>{i(e)})}static waitFor(e){return new O((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=O.resolve(!1);for(const i of e)t=t.next(r=>r?O.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new O((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;t(e[u]).next(h=>{s[u]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new O((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Wb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new hi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wp(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=WT(i.target.error);this.V.reject(new Wp(e,r))}}static open(e,t,i,r){try{return new Wb(t,e.transaction(r,i))}catch(o){throw new Wp(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _te(t)}}class Wo{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Wo.S((0,tn.z$)())&&jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Kl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,tn.hl)())return!1;if(Wo.C())return!0;const e=(0,tn.z$)(),t=Wo.S(e),i=0<t&&t<10,r=Wo.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,X.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Wp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new re(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new re(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Wp(e,a))},o.onupgradeneeded=s=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,X.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=Wb.open(o.db,e,s?"readonly":"readwrite",i),u=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),O.reject(h))).toPromise();return u.catch(()=>{}),yield c.m,u}catch(c){const u=c,h="FirebaseError"!==u.name&&a<3;if(se("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),o.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gte{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Kl(this.k.delete())}}class Wp extends re{constructor(e,t){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fc(n){return"IndexedDbTransactionError"===n.name}class _te{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Kl(i)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Kl(this.store.add(e))}get(e){return Kl(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Kl(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Kl(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new O((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new O((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){se("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new O((i,r)=>{t.onerror=o=>{const s=WT(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new O((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new gte(a),u=t(a.primaryKey,a.value,c);if(u instanceof O){const h=u.catch(p=>(c.done(),O.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>O.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Kl(n){return new O((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=WT(i.target.error);t(r)}})}let bB=!1;function WT(n){const e=Wo.S((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bB||(bB=!0,setTimeout(()=>{throw i},0)),i}}return n}class vte{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){fc(i)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield hc(i)}yield t.ee(6e4)}))}}class yte{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return O.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return se("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(se("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=_B(o);qT(s,i)>0&&(i=s)}),new Zr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Kr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Zp(n){return null==n}function Kp(n){return 0===n&&1/n==-1/0}function wB(n){return"number"==typeof n&&Number.isInteger(n)&&!Kp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EB(e)),e=bte(n.get(t),e);return EB(e)}function bte(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function EB(n){return n+"\x01\x01"}function Ss(n){const e=n.length;if(ke(e>=2),2===e)return ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),It.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&be(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:be()}o=s+2}return new It(i)}const IB=["userId","batchId"];function Zb(n,e){return[n,Yi(e)]}function xB(n,e,t){return[n,Yi(e),t]}const wte={},Ete=["prefixPath","collectionGroup","readTime","documentId"],Ite=["prefixPath","collectionGroup","documentId"],xte=["collectionGroup","readTime","prefixPath","documentId"],Cte=["canonicalId","targetId"],Tte=["targetId","path"],Dte=["path","targetId"],Ate=["collectionId","parent"],Ste=["indexId","uid"],kte=["uid","sequenceNumber"],Mte=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rte=["indexId","uid","orderedDocumentKey"],Pte=["userId","collectionPath","documentId"],Nte=["userId","collectionPath","largestBatchId"],Ote=["userId","collectionGroup","largestBatchId"],CB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fte=[...CB,"documentOverlays"],TB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DB=TB,Lte=[...DB,"indexConfiguration","indexState","indexEntries"];class ZT extends yB{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function wi(n,e){const t=he(n);return Wo.M(t.ae,e)}function AB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ln{constructor(e,t){this.comparator=e,this.root=t||Pi.EMPTY}insert(e,t){return new ln(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kb(this.root,e,this.comparator,!0)}}class Kb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Pi.RED,this.left=r??Pi.EMPTY,this.right=o??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Pi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Pi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kB(this.data.getIterator())}getIteratorFrom(e){return new kB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class kB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dh(n){return n.hasNext()?n.getNext():void 0}class Pr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new Gt(gn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class MB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MB("Invalid base64 string: "+o):o}}(e);return new fi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const Bte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(n){if(ke(!!n),"string"==typeof n){let e=0;const t=Bte.exec(n);if(ke(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pn(n.seconds),nanos:Pn(n.nanos)}}function Pn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ua(n){return"string"==typeof n?fi.fromBase64String(n):fi.fromUint8Array(n)}function Qb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Yb(n){const e=n.mapValue.fields.__previous_value__;return Qb(e)?Yb(e):e}function Qp(n){const e=pc(n.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}class Ute{constructor(e,t,i,r,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xb={nullValue:"NULL_VALUE"};function vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qb(n)?4:OB(n)?9007199254740991:10:be()}function ks(n,e){if(n===e)return!0;const t=vc(n);if(t!==vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qp(n).isEqual(Qp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=pc(r.timestampValue),a=pc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ua(n.bytesValue).isEqual(ua(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Pn(r.geoPointValue.latitude)===Pn(o.geoPointValue.latitude)&&Pn(r.geoPointValue.longitude)===Pn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Pn(r.integerValue)===Pn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Pn(r.doubleValue),a=Pn(o.doubleValue);return s===a?Kp(s)===Kp(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return xh(n.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(AB(s)!==AB(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!ks(s[c],a[c])))return!1;return!0}(n,e);default:return be()}var o}function Yp(n,e){return void 0!==(n.values||[]).find(t=>ks(t,e))}function yc(n,e){if(n===e)return 0;const t=vc(n),i=vc(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pn(o.integerValue||o.doubleValue),c=Pn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return RB(n.timestampValue,e.timestampValue);case 4:return RB(Qp(n),Qp(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ua(o),c=ua(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=qe(a[u],c[u]);if(0!==h)return h}return qe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=qe(Pn(o.latitude),Pn(s.latitude));return 0!==a?a:qe(Pn(o.longitude),Pn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){const h=yc(a[u],c[u]);if(h)return h}return qe(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===_c.mapValue&&s===_c.mapValue)return 0;if(o===_c.mapValue)return 1;if(s===_c.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=qe(c[p],h[p]);if(0!==g)return g;const v=yc(a[c[p]],u[h[p]]);if(0!==v)return v}return qe(c.length,h.length)}(n.mapValue,e.mapValue);default:throw be()}}function RB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qe(n,e);const t=pc(n),i=pc(e),r=qe(t.seconds,i.seconds);return 0!==r?r:qe(t.nanos,i.nanos)}function Ah(n){return KT(n)}function KT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=pc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ua(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=KT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${KT(t.fields[s])}`;return r+"}"}(n.mapValue):be()}function Ql(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function QT(n){return!!n&&"integerValue"in n}function Xp(n){return!!n&&"arrayValue"in n}function PB(n){return!!n&&"nullValue"in n}function NB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ew(n){return!!n&&"mapValue"in n}function Jp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function jte(n){return"nullValue"in n?Xb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ql(gc.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:be()}function zte(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ql(gc.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?_c:be()}function FB(n,e){const t=yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function LB(n,e){const t=yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ew(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jp(t)}setAll(e){let t=gn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Jp(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());ew(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ew(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){mc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Ni(Jp(this.value))}}function VB(n){const e=[];return mc(n.fields,(t,i)=>{const r=new gn([t]);if(ew(i)){const o=VB(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Pr(e)}class _n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new _n(e,0,Me.min(),Me.min(),Me.min(),Ni.empty(),0)}static newFoundDocument(e,t,i,r){return new _n(e,1,t,Me.min(),i,r,0)}static newNoDocument(e,t){return new _n(e,2,t,Me.min(),Me.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Me.min(),Me.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bc{constructor(e,t){this.position=e,this.inclusive=t}}function BB(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?pe.comparator(pe.fromName(s.referenceValue),t.key):yc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function UB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ks(n.position[t],e.position[t]))return!1;return!0}class eg{constructor(e,t="asc"){this.field=e,this.dir=t}}function $te(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class jB{}class bt extends jB{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Hte(e,t,i):"array-contains"===t?new Wte(e,i):"in"===t?new WB(e,i):"not-in"===t?new Zte(e,i):"array-contains-any"===t?new Kte(e,i):new bt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new qte(e,i):new Gte(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yc(t,this.value)):null!==t&&vc(this.value)===vc(t)&&this.matchesComparison(yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jt extends jB{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new jt(e,t)}matches(e){return Sh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sh(n){return"and"===n.op}function YT(n){return"or"===n.op}function XT(n){return zB(n)&&Sh(n)}function zB(n){for(const e of n.filters)if(e instanceof jt)return!1;return!0}function JT(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+Ah(n.value);if(XT(n))return n.filters.map(e=>JT(e)).join(",");{const e=n.filters.map(t=>JT(t)).join(",");return`${n.op}(${e})`}}function $B(n,e){return n instanceof bt?(i=n,(r=e)instanceof bt&&i.op===r.op&&i.field.isEqual(r.field)&&ks(i.value,r.value)):n instanceof jt?function(i,r){return r instanceof jt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&$B(s,r.filters[a]),!0)}(n,e):void be();var i,r}function HB(n,e){const t=n.filters.concat(e);return jt.create(t,n.op)}function qB(n){return n instanceof bt?`${(t=n).field.canonicalString()} ${t.op} ${Ah(t.value)}`:n instanceof jt?function(t){return t.op.toString()+" {"+t.getFilters().map(qB).join(" ,")+"}"}(n):"Filter";var t}class Hte extends bt{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class qte extends bt{constructor(e,t){super(e,"in",t),this.keys=GB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gte extends bt{constructor(e,t){super(e,"not-in",t),this.keys=GB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}class Wte extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xp(t)&&Yp(t.arrayValue,this.value)}}class WB extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yp(this.value.arrayValue,t)}}class Zte extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yp(this.value.arrayValue,t)}}class Kte extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Yp(this.value.arrayValue,i))}}class Qte{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function eD(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Qte(n,e,t,i,r,o,s)}function Yl(n){const e=he(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>JT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Zp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ah(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ah(i)).join(",")),e.ce=t}return e.ce}function tg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$te(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$B(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UB(n.startAt,e.startAt)&&UB(n.endAt,e.endAt)}function tw(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nw(n,e){return n.filters.filter(t=>t instanceof bt&&t.field.isEqual(e))}function ZB(n,e,t){let i=Xb,r=!0;for(const o of nw(n,e)){let s=Xb,a=!0;switch(o.op){case"<":case"<=":s=jte(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Xb}FB({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];FB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function KB(n,e,t){let i=_c,r=!0;for(const o of nw(n,e)){let s=_c,a=!0;switch(o.op){case">=":case">":s=zte(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=_c}LB({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];LB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class da{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function QB(n,e,t,i,r,o,s,a){return new da(n,e,t,i,r,o,s,a)}function kh(n){return new da(n)}function YB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tD(n){return null!==n.collectionGroup}function Mh(n){const e=he(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Gt(gn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new eg(o,i))}),t.has(gn.keyField().canonicalString())||e.le.push(new eg(gn.keyField(),i))}return e.le}function br(n){const e=he(n);return e.he||(e.he=function XB(n,e){if("F"===n.limitType)return eD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new eg(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new bc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bc(n.startAt.position,n.startAt.inclusive):null;return eD(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Mh(n))),e.he}function nD(n,e){const t=n.filters.concat([e]);return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iw(n,e,t){return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ng(n,e){return tg(br(n),br(e))&&n.limitType===e.limitType}function JB(n){return`${Yl(br(n))}|lt:${n.limitType}`}function Rh(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>qB(r)).join(", ")}]`),Zp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ah(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ah(r)).join(",")),`Target(${i})`}(br(n))}; limitType=${n.limitType})`}function ig(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Mh(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const u=BB(s,a,c);return s.inclusive?u<=0:u<0}(i.startAt,Mh(i),r)||i.endAt&&!function(s,a,c){const u=BB(s,a,c);return s.inclusive?u>=0:u>0}(i.endAt,Mh(i),r)));var i,r}function eU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tU(n){return(e,t)=>{let i=!1;for(const r of Mh(n)){const o=Yte(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Yte(n,e,t){const i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),u=a.data.field(o);return null!==c&&null!==u?yc(c,u):be()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){mc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return SB(this.inner)}size(){return this.innerSize}}const Xte=new ln(pe.comparator);function Nr(){return Xte}const nU=new ln(pe.comparator);function rg(...n){let e=nU;for(const t of n)e=e.insert(t.key,t);return e}function iU(n){let e=nU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ms(){return og()}function rU(){return og()}function og(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const Jte=new ln(pe.comparator),ene=new Gt(pe.comparator);function tt(...n){let e=ene;for(const t of n)e=e.add(t);return e}const tne=new Gt(qe);function iD(){return tne}function oU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(e)?"-0":e}}function sU(n){return{integerValue:""+n}}function aU(n,e){return wB(e)?sU(e):oU(n,e)}class rw{constructor(){this._=void 0}}function nne(n,e,t){return n instanceof Ph?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Qb(o)&&(o=Yb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Xl?lU(n,e):n instanceof Jl?uU(n,e):function(r,o){const s=cU(r,o),a=dU(s)+dU(r.Ie);return QT(s)&&QT(r.Ie)?sU(a):oU(r.serializer,a)}(n,e)}function ine(n,e,t){return n instanceof Xl?lU(n,e):n instanceof Jl?uU(n,e):t}function cU(n,e){return n instanceof Nh?QT(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Ph extends rw{}class Xl extends rw{constructor(e){super(),this.elements=e}}function lU(n,e){const t=hU(e);for(const i of n.elements)t.some(r=>ks(r,i))||t.push(i);return{arrayValue:{values:t}}}class Jl extends rw{constructor(e){super(),this.elements=e}}function uU(n,e){let t=hU(e);for(const i of n.elements)t=t.filter(r=>!ks(r,i));return{arrayValue:{values:t}}}class Nh extends rw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function dU(n){return Pn(n.integerValue||n.doubleValue)}function hU(n){return Xp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sg{constructor(e,t){this.field=e,this.transform=t}}class one{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ow(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sw{}function fU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fh(n.key,Cn.none()):new Oh(n.key,n.data,Cn.none());{const t=n.data,i=Ni.empty();let r=new Gt(gn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new fa(n.key,i,new Pr(r.toArray()),Cn.none())}}function sne(n,e,t){n instanceof Oh?function(r,o,s){const a=r.value.clone(),c=gU(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(r,o,s){if(!ow(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=gU(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(pU(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ag(n,e,t,i){return n instanceof Oh?function(o,s,a,c){if(!ow(o.precondition,s))return a;const u=o.value.clone(),h=_U(o.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof fa?function(o,s,a,c){if(!ow(o.precondition,s))return a;const u=_U(o.fieldTransforms,c,s),h=s.data;return h.setAll(pU(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,ow(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function ane(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=cU(i.transform,r||null);null!=o&&(null===t&&(t=Ni.empty()),t.set(i.field,o))}return t||null}function mU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&xh(i,r,(o,s)=>function rne(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Xl&&r instanceof Xl||i instanceof Jl&&r instanceof Jl?xh(i.elements,r.elements,ks):i instanceof Nh&&r instanceof Nh?ks(i.Ie,r.Ie):i instanceof Ph&&r instanceof Ph);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Oh extends sw{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fa extends sw{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gU(n,e,t){const i=new Map;ke(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,ine(s,a,t[r]))}return i}function _U(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,nne(o,s,e))}return i}class Fh extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&sne(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ag(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ag(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rU();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=fU(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&xh(this.mutations,e.mutations,(t,i)=>mU(t,i))&&xh(this.baseMutations,e.baseMutations,(t,i)=>mU(t,i))}}class sD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ke(e.mutations.length===i.length);let r=Jte;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new sD(e,t,i,r)}}class aD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lne{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xn,xt;function vU(n){switch(n){default:return be();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function yU(n){if(void 0===n)return jn("GRPC error has no .code"),j.UNKNOWN;switch(n){case Xn.OK:return j.OK;case Xn.CANCELLED:return j.CANCELLED;case Xn.UNKNOWN:return j.UNKNOWN;case Xn.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Xn.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Xn.INTERNAL:return j.INTERNAL;case Xn.UNAVAILABLE:return j.UNAVAILABLE;case Xn.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Xn.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Xn.NOT_FOUND:return j.NOT_FOUND;case Xn.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Xn.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Xn.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Xn.ABORTED:return j.ABORTED;case Xn.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Xn.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Xn.DATA_LOSS:return j.DATA_LOSS;default:return be()}}(xt=Xn||(Xn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function bU(){return new TextEncoder}const une=new wh([4294967295,4294967295],0);function wU(n){const e=bU().encode(n),t=new ite;return t.update(e),new Uint8Array(t.digest())}function EU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wh([t,i],0),new wh([r,o],0)]}class cD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new cg(`Invalid padding: ${t}`);if(i<0)throw new cg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new cg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new cg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=wh.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(wh.fromNumber(i)));return 1===r.compare(une)&&(r=new wh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=wU(e),[i,r]=EU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new cD(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=wU(e),[i,r]=EU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class cg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,ug.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new lg(Me.min(),r,new ln(qe),Nr(),tt())}}class ug{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ug(i,t,tt(),tt(),tt())}}class cw{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class IU{constructor(e,t){this.targetId=e,this.fe=t}}class xU{constructor(e,t,i=fi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class CU{constructor(){this.ge=0,this.pe=DU(),this.ye=fi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=tt(),t=tt(),i=tt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:be()}}),new ug(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=DU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class dne{constructor(e){this.Le=e,this.ke=new Map,this.qe=Nr(),this.Qe=TU(),this.Ke=new ln(qe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(tw(o))if(0===i){const s=new pe(o.path);this.We(t,s,_n.newNoDocument(s,Me.min()))}else ke(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=ua(i).toUint8Array()}catch(c){if(c instanceof MB)return Rr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new cD(s,r,o)}catch(c){return Rr(c instanceof cg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&tw(a.target)){const c=new pe(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,_n.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=tt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Ye(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new lg(e,t,this.Ke,this.qe,i);return this.qe=Nr(),this.Qe=TU(),this.Ke=new ln(qe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new CU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Gt(qe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new CU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function TU(){return new ln(pe.comparator)}function DU(){return new ln(pe.comparator)}const hne={asc:"ASCENDING",desc:"DESCENDING"},fne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mne={and:"AND",or:"OR"};class pne{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lD(n,e){return n.useProto3Json||Zp(e)?e:{value:e}}function Lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gne(n,e){return Lh(n,e.toTimestamp())}function zn(n){return ke(!!n),Me.fromTimestamp(function(t){const i=pc(t);return new xn(i.seconds,i.nanos)}(n))}function uD(n,e){return(i=n,new It(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function SU(n){const e=It.fromString(n);return ke(VU(e)),e}function dg(n,e){return uD(n.databaseId,e.path)}function Rs(n,e){const t=SU(e);if(t.get(1)!==n.databaseId.projectId)throw new re(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(MU(t))}function dD(n,e){return uD(n.databaseId,e)}function kU(n){const e=SU(n);return 4===e.length?It.emptyPath():MU(e)}function hg(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MU(n){return ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RU(n,e,t){return{name:dg(n,e),fields:t.value.mapValue.fields}}function PU(n,e,t){const i=Rs(n,e.name),r=zn(e.updateTime),o=e.createTime?zn(e.createTime):Me.min(),s=new Ni({mapValue:{fields:e.fields}}),a=_n.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function fg(n,e){let t;if(e instanceof Oh)t={update:RU(n,e.key,e.value)};else if(e instanceof Fh)t={delete:dg(n,e.key)};else if(e instanceof fa)t={update:RU(n,e.key,e.data),updateMask:xne(e.fieldMask)};else{if(!(e instanceof rD))return be();t={verify:dg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Ph)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nh)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw be()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:gne(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:be()),t;var o}function hD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Cn.updateTime(zn(o.updateTime)):void 0!==o.exists?Cn.exists(o.exists):Cn.none():Cn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),c=new Ph):"appendMissingElements"in a?c=new Xl(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Jl(a.removeAllFromArray.values||[]):"increment"in a?c=new Nh(s,a.increment):be();const u=gn.fromServerFormat(a.fieldPath);return new sg(u,c)}(n,r)):[];var o;if(e.update){const r=Rs(n,e.update.name),o=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Pr((e.updateMask.fieldPaths||[]).map(h=>gn.fromServerFormat(h)));return new fa(r,o,s,t,i)}return new Oh(r,o,t,i)}if(e.delete){const r=Rs(n,e.delete);return new Fh(r,t)}if(e.verify){const r=Rs(n,e.verify);return new rD(r,t)}return be()}function NU(n,e){return{documents:[dD(n,e.path)]}}function fD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=dD(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=dD(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return LU(jt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:wc((p=u).field),direction:wne(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=lD(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function OU(n){let e=kU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ke(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=FU(p);return g instanceof jt&&XT(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new eg(Vh((b=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Zp(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new bc((p=t.startAt).values||[],!!p.before));let u=null;return t.endAt&&(u=function(p){return new bc(p.values||[],!p.before)}(t.endAt)),QB(e,r,s,o,a,"F",c,u)}function FU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vh(t.unaryFilter.field);return bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Vh(t.unaryFilter.field);return bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vh(t.unaryFilter.field);return bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vh(t.unaryFilter.field);return bt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):void 0!==n.fieldFilter?bt.create(Vh((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return jt.create(t.compositeFilter.filters.map(i=>FU(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be();var t}function wne(n){return hne[n]}function Ene(n){return fne[n]}function Ine(n){return mne[n]}function wc(n){return{fieldPath:n.canonicalString()}}function Vh(n){return gn.fromServerFormat(n.fieldPath)}function LU(n){return n instanceof bt?function(t){if("=="===t.op){if(NB(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NAN"}};if(PB(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(NB(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NAN"}};if(PB(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(t.field),op:Ene(t.op),value:t.value}}}(n):n instanceof jt?function(t){const i=t.getFilters().map(r=>LU(r));return 1===i.length?i[0]:{compositeFilter:{op:Ine(t.op),filters:i}}}(n):be()}function xne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ma{constructor(e,t,i,r,o=Me.min(),s=Me.min(),a=fi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BU{constructor(e){this.ut=e}}function UU(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:dg(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Lh(o,s.version.toTimestamp()),createTime:Lh(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:eu(e.version)};else{if(!e.isUnknownDocument())return be();i.unknownDocument={path:t.path.toArray(),version:eu(e.version)}}var o,s;return i}function lw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function eu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tu(n){const e=new xn(n.seconds,n.nanoseconds);return Me.fromTimestamp(e)}function nu(n,e){const t=(e.baseMutations||[]).map(o=>hD(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>hD(n.ut,o)),r=xn.fromMillis(e.localWriteTimeMs);return new oD(e.batchId,r,t,i)}function mg(n){const e=tu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tu(n.lastLimboFreeSnapshotVersion):Me.min();let i;return i=void 0!==n.query.documents?(ke(1===(o=n.query).documents.length),br(kh(kU(o.documents[0])))):function(o){return br(OU(o))}(n.query),new ma(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,fi.fromBase64String(n.resumeToken));var o}function jU(n,e){const t=eu(e.snapshotVersion),i=eu(e.lastLimboFreeSnapshotVersion);let r;r=tw(e.target)?NU(n.ut,e.target):fD(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function mD(n){const e=OU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iw(e,e.limit,"L"):e}function pD(n,e){return new aD(e.largestBatchId,hD(n.ut,e.overlayMutation))}function zU(n,e){const t=e.path.lastSegment();return[n,Yi(e.path.popLast()),t]}function $U(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:eu(i.readTime),documentKey:Yi(i.documentKey.path),largestBatchId:i.largestBatchId}}class Tne{getBundleMetadata(e,t){return HU(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:tu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return HU(e).put({bundleId:(r=t).id,createTime:eu(zn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return qU(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:mD(o.bundledQuery),readTime:tu(o.readTime)};var o})}saveNamedQuery(e,t){return qU(e).put({name:(r=t).name,readTime:eu(zn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function HU(n){return wi(n,"bundles")}function qU(n){return wi(n,"namedQueries")}class uw{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new uw(e,t.uid||"")}getOverlay(e,t){return pg(e).get(zU(this.userId,t)).next(i=>i?pD(this.serializer,i):null)}getOverlays(e,t){const i=Ms();return O.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new aD(t,s);r.push(this.lt(e,a))}),O.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(Yi(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(pg(e).H("collectionPathOverlayIndex",a))}),O.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ms(),o=Yi(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return pg(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const u=pD(this.serializer,c);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ms();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pg(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,u,h)=>{const p=pD(this.serializer,u);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return pg(e).put(function(r,o,s){const[a,c,u]=zU(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:fg(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function pg(n){return wi(n,"documentOverlays")}class iu{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Pn(e.integerValue));else if("doubleValue"in e){const i=Pn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Kp(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ua(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?OB(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):be()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Dne(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function GU(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Dne(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}iu.St=new iu;class Ane{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=GU(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=GU(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Sne{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class kne{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class gg{constructor(){this.Wt=new Ane,this.Gt=new Sne(this.Wt),this.zt=new kne(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class ru{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ru(this.indexId,this.documentKey,this.arrayValue,i)}}function Ec(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=WU(n.arrayValue,e.arrayValue),0!==t?t:(t=WU(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function WU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class ZU{constructor(e){this.Jt=new Gt((t,i)=>gn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=HT(e);if(void 0!==t&&!this.tn(t))return!1;const i=Wl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Gt(gn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Zl(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Zl(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Zl(i.field,"asc"===i.dir?0:1)));return new Ch(Ch.UNKNOWN_ID,this.collectionId,t,Th.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function KU(n){var e,t;if(ke(n instanceof bt||n instanceof jt),n instanceof bt){if(n instanceof WB){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>bt.create(n.field,"==",o)))||[];return jt.create(r,"or")}return n}const i=n.filters.map(r=>KU(r));return jt.create(i,n.op)}function Mne(n){if(0===n.getFilters().length)return[];const e=vD(KU(n));return ke(QU(e)),gD(e)||_D(e)?[e]:e.getFilters()}function gD(n){return n instanceof bt}function _D(n){return n instanceof jt&&XT(n)}function QU(n){return gD(n)||_D(n)||function(t){if(t instanceof jt&&YT(t)){for(const i of t.getFilters())if(!gD(i)&&!_D(i))return!1;return!0}return!1}(n)}function vD(n){if(ke(n instanceof bt||n instanceof jt),n instanceof bt)return n;if(1===n.filters.length)return vD(n.filters[0]);const e=n.filters.map(i=>vD(i));let t=jt.create(e,n.op);return t=dw(t),QU(t)?t:(ke(t instanceof jt),ke(Sh(t)),ke(t.filters.length>1),t.filters.reduce((i,r)=>yD(i,r)))}function yD(n,e){let t;return ke(n instanceof bt||n instanceof jt),ke(e instanceof bt||e instanceof jt),t=n instanceof bt?e instanceof bt?jt.create([n,e],"and"):YU(n,e):e instanceof bt?YU(e,n):function(r,o){if(ke(r.filters.length>0&&o.filters.length>0),Sh(r)&&Sh(o))return HB(r,o.getFilters());const s=YT(r)?r:o,a=YT(r)?o:r,c=s.filters.map(u=>yD(u,a));return jt.create(c,"or")}(n,e),dw(t)}function YU(n,e){if(Sh(e))return HB(e,n.getFilters());{const t=e.filters.map(i=>yD(n,i));return jt.create(t,"or")}}function dw(n){if(ke(n instanceof bt||n instanceof jt),n instanceof bt)return n;const e=n.getFilters();if(1===e.length)return dw(e[0]);if(zB(n))return n;const t=e.map(r=>dw(r)),i=[];return t.forEach(r=>{r instanceof bt?i.push(r):r instanceof jt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:jt.create(i,n.op)}class Rne{constructor(){this.on=new bD}addToCollectionParentIndex(e,t){return this.on.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Zr.min())}updateCollectionGroup(e,t,i){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}}class bD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Gt(It.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Gt(It.comparator)).toArray()}}const hw=new Uint8Array(0);class Pne{constructor(e,t){this.user=e,this.databaseId=t,this._n=new bD,this.an=new ha(i=>Yl(i),(i,r)=>tg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:Yi(r)};return XU(e).put(o)}return O.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[pB(t),""],!1,!0);return XU(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ss(s.parent))}return i})}addFieldIndex(e,t){const i=_g(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Uh(e);return o.next(a=>{s.put($U(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=_g(e),r=Uh(e),o=Bh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=_g(e),i=Bh(e),r=Uh(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return O.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new ZU(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=Bh(e);let r=!0;const o=new Map;return O.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=tt();const a=[];return O.forEach(o,(c,u)=>{var L;se("IndexedDbIndexManager",`Using index ${L=c,`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${Yl(t)}`);const h=function(L,Y){const le=HT(Y);if(void 0===le)return null;for(const De of nw(L,le.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(u,c),p=function(L,Y){const le=new Map;for(const De of Wl(Y))for(const He of nw(L,De.fieldPath))switch(He.op){case"==":case"in":le.set(De.fieldPath.canonicalString(),He.value);break;case"not-in":case"!=":return le.set(De.fieldPath.canonicalString(),He.value),Array.from(le.values())}return null}(u,c),g=function(L,Y){const le=[];let De=!0;for(const He of Wl(Y)){const Wt=0===He.kind?ZB(L,He.fieldPath,L.startAt):KB(L,He.fieldPath,L.startAt);le.push(Wt.value),De&&(De=Wt.inclusive)}return new bc(le,De)}(u,c),v=function(L,Y){const le=[];let De=!0;for(const He of Wl(Y)){const Wt=0===He.kind?KB(L,He.fieldPath,L.endAt):ZB(L,He.fieldPath,L.endAt);le.push(Wt.value),De&&(De=Wt.inclusive)}return new bc(le,De)}(u,c),b=this.ln(c,u,g),w=this.ln(c,u,v),I=this.hn(c,u,p),M=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,I);return O.forEach(M,A=>i.j(A,t.limit).next(L=>{L.forEach(Y=>{const le=pe.fromSegments(Y.documentKey);s.has(le)||(s=s.add(le),a.push(le))})}))}).next(()=>a)}return O.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Mne(jt.create(e.filters,"and")).map(i=>eD(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),u=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/u]):hw,v=this.Tn(e,g,i[p%u],r),b=this.En(e,g,o[p%u],s),w=a.map(I=>this.Tn(e,g,I,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new ru(e,pe.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new ru(e,pe.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new ZU(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return O.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let u=new Gt(gn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:u=u.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new gg;for(const r of Wl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);iu.St.ht(o,s)}return i.Ut()}In(e){const t=new gg;return iu.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new gg;return iu.St.ht(Ql(this.databaseId,t),i.jt(function(o){const s=Wl(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new gg);let o=0;for(const s of Wl(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&Xp(a))r=this.Vn(r,s,a);else{const u=c.jt(s.kind);iu.St.ht(a,u)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new gg;c.seed(a.Ut()),iu.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof bt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=_g(e),r=Uh(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return O.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new Th(p.sequenceNumber,new Zr(tu(p.readTime),new pe(Ss(p.documentKey)),p.largestBatchId)):Th.empty(),v=h.fields.map(([b,w])=>new Zl(gn.fromServerFormat(b),w));return new Ch(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:qe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=_g(e),o=Uh(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>O.forEach(a,c=>o.put($U(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return O.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?O.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),O.forEach(a,c=>this.gn(e,r,c).next(u=>{const h=this.pn(o,c);return u.isEqual(h)?O.resolve():this.yn(e,o,c,u,h)}))))})}wn(e,t,i,r){return Bh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return Bh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=Bh(e);let o=new Gt(Ec);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new ru(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new Gt(Ec);const r=this.dn(t,e);if(null==r)return i;const o=HT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Xp(s))for(const a of s.arrayValue.values||[])i=i.add(new ru(t.indexId,e.key,this.In(a),r))}else i=i.add(new ru(t.indexId,e.key,hw,r));return i}yn(e,t,i,r,o){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,u,h,p,g){const v=c.getIterator(),b=u.getIterator();let w=Dh(v),I=Dh(b);for(;w||I;){let M=!1,A=!1;if(w&&I){const L=h(w,I);L<0?A=!0:L>0&&(M=!0)}else null!=w?A=!0:M=!0;M?(p(I),I=Dh(b)):A?(g(w),w=Dh(v)):(w=Dh(v),I=Dh(b))}}(r,o,Ec,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),O.waitFor(s)}fn(e){let t=1;return Uh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Ec(s,a)).filter((s,a,c)=>!a||0!==Ec(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=Ec(s,e),c=Ec(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,hw,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,hw,[]]))}return o}bn(e,t){return Ec(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(JU)}getMinOffset(e,t){return O.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||be())).next(JU)}}function XU(n){return wi(n,"collectionParents")}function Bh(n){return wi(n,"indexEntries")}function _g(n){return wi(n,"indexConfiguration")}function Uh(n){return wi(n,"indexState")}function JU(n){ke(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;qT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Zr(e.readTime,e.documentKey,t)}const e4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xi{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function t4(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{ke(1===a)}));const u=[];for(const h of t.mutations){const p=xB(e,h.key.path,t.batchId);o.push(r.delete(p)),u.push(h.key)}return O.waitFor(o).next(()=>u)}function fw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw be();e=n.noDocument}return JSON.stringify(e).length}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class mw{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){ke(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new mw(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=jh(e),s=Ic(e);return s.add({}).next(a=>{ke("number"==typeof a);const c=new oD(a,t,i,r),u=function(v,b,w){const I=w.baseMutations.map(A=>fg(v.ut,A)),M=w.mutations.map(A=>fg(v.ut,A));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:I,mutations:M}}(this.serializer,this.userId,c),h=[];let p=new Gt((g,v)=>qe(g.canonicalString(),v.canonicalString()));for(const g of r){const v=xB(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(u)),h.push(o.put(v,wte))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),O.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return Ic(e).get(t).next(i=>i?(ke(i.userId===this.userId),nu(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?O.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ic(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ke(a.batchId>=i),o=nu(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ic(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).W("userMutationsIndex",t).next(i=>i.map(r=>nu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Zb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return jh(e).Y({range:r},(s,a,c)=>{const[u,h,p]=s,g=Ss(h);if(u===this.userId&&t.path.isEqual(g))return Ic(e).get(p).next(v=>{if(!v)throw be();ke(v.userId===this.userId),o.push(nu(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(qe);const r=[];return t.forEach(o=>{const s=Zb(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=jh(e).Y({range:a},(u,h,p)=>{const[g,v,b]=u,w=Ss(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),O.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Zb(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Gt(qe);return jh(e).Y({range:s},(c,u,h)=>{const[p,g,v]=c,b=Ss(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Ic(e).get(o).next(s=>{if(null===s)throw be();ke(s.userId===this.userId),i.push(nu(this.serializer,s))}))}),O.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return t4(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),O.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return O.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return jh(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Ss(o[1]);r.push(c)}else a.done()}).next(()=>{ke(0===r.length)})})}containsKey(e,t){return n4(e,this.userId,t)}Mn(e){return i4(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n4(n,e,t){const i=Zb(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return jh(n).Y({range:o,J:!0},(a,c,u)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),u.done()}).next(()=>s)}function Ic(n){return wi(n,"mutations")}function jh(n){return wi(n,"documentMutations")}function i4(n){return wi(n,"mutationQueues")}class ou{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ou(0)}static Nn(){return new ou(-1)}}class Nne{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new ou(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Me.fromTimestamp(new xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(ke(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return zh(e).Y((s,a)=>{const c=mg(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>O.waitFor(o)).next(()=>r)}forEachTarget(e,t){return zh(e).Y((i,r)=>{const o=mg(r);t(o)})}Bn(e){return r4(e).get("targetGlobalKey").next(t=>(ke(null!==t),t))}Ln(e,t){return r4(e).put("targetGlobalKey",t)}kn(e,t){return zh(e).put(jU(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Yl(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return zh(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const u=mg(a);tg(t,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=xc(e);return t.forEach(s=>{const a=Yi(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),O.waitFor(r)}removeMatchingKeys(e,t,i){const r=xc(e);return O.forEach(t,o=>{const s=Yi(o.path);return O.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=xc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=xc(e);let o=tt();return r.Y({range:i,J:!0},(s,a,c)=>{const u=Ss(s[1]),h=new pe(u);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=Yi(t.path),r=IDBKeyRange.bound([i],[pB(i)],!1,!0);let o=0;return xc(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,t){return zh(e).get(t).next(i=>i?mg(i):null)}}function zh(n){return wi(n,"targets")}function r4(n){return wi(n,"targetGlobal")}function xc(n){return wi(n,"targetDocuments")}function o4([n,e],[t,i]){const r=qe(n,t);return 0===r?qe(e,i):r}class One{constructor(e){this.Qn=e,this.buffer=new Gt(o4),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();o4(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class s4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){fc(i)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield hc(i)}yield t.Gn(3e5)}))}}class Fne{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return O.resolve(Kr._e);const i=new One(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(e4)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e4):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(u=Date.now(),Ih()<=Cs.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(u-c)+`ms\nTotal Duration: ${u-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class Lne{constructor(e,t){this.db=e,this.garbageCollector=function a4(n,e){return new Fne(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return pw(e,i)}removeReference(e,t,i){return pw(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return pw(e,t)}Xn(e,t){return function(r,o){let s=!1;return i4(r).Z(a=>n4(r,a,o).next(c=>(c&&(s=!0),O.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(u=>{if(!u)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Me.min()),xc(e).delete([0,Yi(s.path)])))});r.push(c)}}).next(()=>O.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return pw(e,t)}Zn(e,t){const i=xc(e);let r,o=Kr._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{0===s?(o!==Kr._e&&t(new pe(Ss(r)),o),o=u,r=c):o=Kr._e}).next(()=>{o!==Kr._e&&t(new pe(Ss(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pw(n,e){return xc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Yi(e.path),sequenceNumber:r}));var r}class c4{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?O.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return su(e).put(i)}removeEntry(e,t,i){return su(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],lw(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=_n.newInvalidDocument(t);return su(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vg(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:_n.newInvalidDocument(t)};return su(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vg(t))},(r,o)=>{i={document:this.tr(t,o),size:fw(o)}}).next(()=>i)}getEntries(e,t){let i=Nr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Nr(),r=new ln(pe.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,fw(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return O.resolve();let r=new Gt(h4);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(vg(r.first()),vg(r.last())),s=r.getIterator();let a=s.getNext();return su(e).Y({index:"documentKeyIndex",range:o},(c,u,h)=>{const p=pe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&h4(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,u),a=s.hasNext()?s.getNext():null),a?h.U(vg(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),lw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return su(e).W(IDBKeyRange.bound(a,c,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let h=Nr();for(const p of u){const g=this.tr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(ig(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Nr();const s=d4(t,i),a=d4(t,Zr.max());return su(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,h)=>{const p=this.tr(pe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Bne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return u4(e).get("remoteDocumentGlobalKey").next(t=>(ke(!!t),t))}er(e,t){return u4(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function Cne(n,e){let t;if(e.document)t=PU(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=pe.fromSegments(e.noDocument.path),r=tu(e.noDocument.readTime);t=_n.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return be();{const i=pe.fromSegments(e.unknownDocument.path),r=tu(e.unknownDocument.version);t=_n.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new xn(r[0],r[1]);return Me.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Me.min()))return i}return _n.newInvalidDocument(e)}}function l4(n){return new Vne(n)}class Bne extends c4{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ha(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Gt((o,s)=>qe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=UU(this._r.serializer,s);r=r.add(o.path.popLast());const u=fw(c);i+=u-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=UU(this._r.serializer,s.convertToNoDocument(Me.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),O.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function u4(n){return wi(n,"remoteDocumentGlobal")}function su(n){return wi(n,"remoteDocumentsV14")}function vg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d4(n,e){const t=e.documentKey.path.toArray();return[n,lw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function h4(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=qe(t[o],i[o]),r)return r;return r=qe(t.length,i.length),r||(r=qe(t[t.length-2],i[i.length-2]),r||qe(t[t.length-1],i[i.length-1]))}class Une{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class f4{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&ag(i.mutation,r,Pr.empty(),xn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,tt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=tt()){const r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=rg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,tt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Nr();const s=og(),a=og();return t.forEach((c,u)=>{const h=i.get(u.key);r.has(u.key)&&(void 0===h||h.mutation instanceof fa)?o=o.insert(u.key,u):void 0!==h?(s.set(u.key,h.mutation.getFieldMask()),ag(h.mutation,u,h.mutation.getFieldMask(),xn.now())):s.set(u.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new Une(h,null!==(p=s.get(u))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=og();let r=new ln((s,a)=>s-a),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let h=i.get(c)||Pr.empty();h=a.applyToLocalView(u,h),i.set(c,h);const p=(r.get(a.batchId)||tt()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,p=rU();h.forEach(g=>{if(!o.has(g)){const v=fU(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return O.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return pe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):tD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):O.resolve(Ms());let a=-1,c=o;return s.next(u=>O.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,tt())).next(h=>({batchId:a,changes:iU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let r=rg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=rg();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{const u=(p=t,g=c.child(o),new da(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,_n.newInvalidDocument(h)))});let a=rg();return s.forEach((c,u)=>{const h=o.get(c);void 0!==h&&ag(h.mutation,u,Pr.empty(),xn.now()),ig(t,u)&&(a=a.insert(c,u))}),a})}}class jne{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return O.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:zn(r.createTime)}),O.resolve();var r}getNamedQuery(e,t){return O.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:mD(r.bundledQuery),readTime:zn(r.readTime)}),O.resolve();var r}}class zne{constructor(){this.overlays=new ln(pe.comparator),this.lr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ms();return O.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),O.resolve()}getOverlaysForCollection(e,t,i){const r=Ms(),o=t.length+1,s=new pe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return O.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ln((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=o.get(u.largestBatchId);null===h&&(h=Ms(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ms(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return O.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new aD(t,i));let o=this.lr.get(t);void 0===o&&(o=tt(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class wD{constructor(){this.hr=new Gt(Ei.Pr),this.Ir=new Gt(Ei.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Ei(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ei(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new pe(new It([])),i=new Ei(t,e),r=new Ei(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new It([])),i=new Ei(t,e),r=new Ei(t,e+1);let o=tt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ei(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ei{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||qe(e.gr,t.gr)}static Tr(e,t){return qe(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class $ne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Gt(Ei.Pr)}checkEmpty(e){return O.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new oD(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Ei(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ei(t,0),r=new Ei(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(qe);return t.forEach(r=>{const o=new Ei(r,0),s=new Ei(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),O.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;pe.isDocumentKey(o)||(o=o.child(""));const s=new Ei(new pe(o),0);let a=new Gt(qe);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.gr)),!0)},s),O.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return O.forEach(t.mutations,r=>{const o=new Ei(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Ei(t,0),r=this.yr.firstAfterOrEqual(i);return O.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return O.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hne{constructor(e){this.Cr=e,this.docs=new ln(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return O.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Nr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_n.newInvalidDocument(r))}),O.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Nr();const s=t.path,a=new pe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||qT(_B(h),i)<=0||(r.has(h.key)||ig(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,i,r){be()}vr(e,t){return O.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new qne(this)}getSize(e){return O.resolve(this.size)}}class qne extends c4{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),O.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Gne{constructor(e){this.persistence=e,this.Fr=new ha(t=>Yl(t),tg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new wD,this.targetCount=0,this.Nr=ou.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),O.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new ou(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.kn(t),O.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),O.waitFor(o).next(()=>r)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return O.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),O.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),O.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return O.resolve(i)}containsKey(e,t){return O.resolve(this.Or.containsKey(t))}}class ED{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Kr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Gne(this),this.indexManager=new Rne,this.remoteDocumentCache=new Hne(i=>this.referenceDelegate.Qr(i)),this.serializer=new BU(t),this.Kr=new jne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new $ne(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const r=new Wne(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return O.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class Wne extends yB{constructor(e){super(),this.currentSequenceNumber=e}}class gw{constructor(e){this.persistence=e,this.Gr=new wD,this.zr=null}static jr(e){return new gw(e)}get Hr(){if(this.zr)return this.zr;throw be()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),O.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),O.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,i=>{const r=pe.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Me.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return O.or([()=>O.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Zne{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Wb("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IB,{unique:!0}),c.createObjectStore("documentMutations"),m4(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=O.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),m4(e)),s=s.next(()=>function(c){const u=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,u){return u.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IB,{unique:!0});const p=u.store("mutations"),g=h.map(v=>p.put(v));return O.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const u=c.createObjectStore("documentOverlays",{keyPath:Pte});u.createIndex("collectionPathOverlayIndex",Nte,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Ote,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:Ete});u.createIndex("documentKeyIndex",Ite),u.createIndex("collectionGroupIndex",xte)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Ste}).createIndex("sequenceNumberIndex",kte,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Mte}).createIndex("documentKeyIndex",Rte,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=fw(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>O.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>O.forEach(a,c=>{ke(c.userId===o.userId);const u=nu(this.serializer,c);return t4(e,o.userId,u).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new It(s),u=[0,Yi(c)];o.push(t.get(u).next(h=>h?O.resolve():t.put({targetId:0,path:Yi(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>O.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Ate});const i=t.store("collectionParents"),r=new bD,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:Yi(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new It(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],u)=>{const h=Ss(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=mg(r),s=jU(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new pe(It.fromString(p.document.name).popFirst(5)):p.noDocument?pe.fromSegments(p.noDocument.path):p.unknownDocument?pe.fromSegments(p.unknownDocument.path):be()).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(u))}).next(()=>O.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=l4(this.serializer),o=new ED(gw.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var u;let h=null!==(u=a.get(c.userId))&&void 0!==u?u:tt();nu(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),O.forEach(a,(c,u)=>{const h=new bi(u),p=uw.ct(this.serializer,h),g=o.getIndexManager(h),v=mw.ct(h,this.serializer,g,o.referenceDelegate);return new f4(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new ZT(t,Kr._e),c).next()})})}}function m4(n){n.createObjectStore("targetDocuments",{keyPath:Tte}).createIndex("documentTargetsIndex",Dte,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Cte,{unique:!0}),n.createObjectStore("targetGlobal")}const ID="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xD{constructor(e,t,i,r,o,s,a,c,u,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=u,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!xD.D())throw new re(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lne(this,r),this.Ii=t+"main",this.serializer=new BU(c),this.Ti=new Wo(this.Ii,this.ai,new Zne(this.serializer)),this.qr=new Nne(this.referenceDelegate,this.serializer),this.remoteDocumentCache=l4(this.serializer),this.Kr=new Tne,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(j.FAILED_PRECONDITION,ID);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Kr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,X.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,X.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(fc(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return yg(e).get("owner").next(t=>O.resolve(this.wi(t)))}Si(e){return vw(e).delete(this.clientId)}bi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=wi(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return O.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?O.resolve(!0):yg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new re(j.FAILED_PRECONDITION,ID);return!1}}return!(!this.networkEnabled||!this.inForeground)||vw(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new ZT(t,Kr._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>vw(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return mw.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pne(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return uw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?Lte:14===c?DB:13===c?TB:12===c?Fte:11===c?CB:void be();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new ZT(a,this.Lr?this.Lr.next():Kr._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new re(j.FAILED_PRECONDITION,vB);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return yg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(j.FAILED_PRECONDITION,ID)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yg(e).put("owner",t)}static D(){return Wo.D()}pi(e){const t=yg(e);return t.get("owner").next(i=>this.wi(i)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):O.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(jn(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,tn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return se("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return jn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){jn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yg(n){return wi(n,"owner")}function vw(n){return wi(n,"clientMetadata")}function CD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=tt(),r=tt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new TD(e,t.fromCache,i,r)}}class Kne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class p4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Kne;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(Ih()<=Cs.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Rh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(Ih()<=Cs.in.DEBUG&&se("QueryEngine","Query:",Rh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Ih()<=Cs.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Rh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(t))):O.resolve())}zi(e,t){if(YB(t))return O.resolve(null);let i=br(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=iw(t,null,"F"),i=br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=tt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const u=this.Yi(t,a);return this.Zi(t,u,s,c.readTime)?this.zi(e,iw(t,null,"F")):this.Xi(e,u,t,c)}))})))}ji(e,t,i,r){return YB(t)||r.isEqual(Me.min())?O.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?O.resolve(null):(Ih()<=Cs.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rh(t)),this.Xi(e,s,t,gB(r,-1)).next(a=>a))})}Yi(e,t){let i=new Gt(tU(e));return t.forEach((r,o)=>{ig(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return Ih()<=Cs.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Rh(t)),this.Gi.getDocumentsMatchingQuery(e,t,Zr.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Qne{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new ln(qe),this.ns=new ha(o=>Yl(o),tg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function g4(n,e,t,i){return new Qne(n,e,t,i)}function _4(n,e){return DD.apply(this,arguments)}function DD(){return DD=(0,X.Z)(function*(n,e){const t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=tt();for(const u of r){s.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}),DD.apply(this,arguments)}function v4(n){const e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function y4(n,e,t){let i=tt(),r=tt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Nr();return t.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:r}})}function Jne(n,e){const t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $h(n,e){const t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,O.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new ma(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Hh(n,e,t){return AD.apply(this,arguments)}function AD(){return AD=(0,X.Z)(function*(n,e,t){const i=he(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!fc(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),AD.apply(this,arguments)}function yw(n,e,t){const i=he(n);let r=Me.min(),o=tt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,h){const p=he(c),g=p.ns.get(h);return void 0!==g?O.resolve(p.ts.get(g)):p.qr.getTargetData(u,h)}(i,s,br(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Me.min(),t?o:tt())).next(a=>(E4(i,eU(e),a),{documents:a,ls:o})))}function b4(n,e){const t=he(n),i=he(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function w4(n,e){const t=he(n),i=t.rs.get(e)||Me.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,gB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(E4(t,e,r),r))}function E4(n,e,t){let i=n.rs.get(e)||Me.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function SD(){return SD=(0,X.Z)(function*(n,e,t,i){const r=he(n);let o=tt(),s=Nr();for(const u of t){const h=e.hs(u.metadata.name);u.document&&(o=o.add(h));const p=e.Ps(u);p.setReadTime(e.Is(u.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield $h(r,(h=i,br(kh(It.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>y4(u,a,s).next(h=>(a.apply(u),h)).next(h=>r.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>r.qr.addMatchingKeys(u,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,h.us,h.cs)).next(()=>h.us)))}),SD.apply(this,arguments)}function tie(n,e){return kD.apply(this,arguments)}function kD(){return kD=(0,X.Z)(function*(n,e,t=tt()){const i=yield $h(n,br(mD(e.bundledQuery))),r=he(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=zn(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(fi.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),kD.apply(this,arguments)}function I4(n,e){return`firestore_clients_${n}_${e}`}function x4(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function MD(n,e){return`firestore_targets_${n}_${e}`}class bw{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new re(r.error.code,r.error.message))),s?new bw(e,t,r.state,o):(jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new re(i.error.code,i.error.message))),o?new bg(e,i.state,r):(jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ww{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=iD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=wB(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new ww(e,o):(jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class RD{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new RD(t.clientId,t.onlineState):(jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class PD{constructor(){this.activeTargetIds=iD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ND{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ln(qe),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=I4(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new PD),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(I4(e.persistenceKey,r));if(o){const s=ww.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(MD(this.persistenceKey,e));if(i){const r=bg.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(MD(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(se("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=Kr._e;if(null!=s)try{const c=JSON.parse(s);ke("number"==typeof c),a=c}catch(c){jn("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==Kr._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new bw(this.currentUser,e,t,i),o=x4(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=x4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=MD(this.persistenceKey,e),o=new bg(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return ww.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return bw.Ts(new bi(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return bg.Ts(r,t)}Ms(e){return RD.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=iD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class C4{constructor(){this.eo=new PD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new PD,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nie{ro(e){}shutdown(){}}class T4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ew=null;function OD(){return null===Ew?Ew=268435456+Math.round(2147483648*Math.random()):Ew++,"0x"+Ew.toString(16)}const iie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rie{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ji="WebChannelConnection";class oie extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=OD(),c=this.So(t,i);se("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(t,c,u,r).then(h=>(se("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Rr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${iie[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=OD();return new Promise((s,a)=>{const c=new nte;c.setWithCredentials(!0),c.listenOnce(Jee.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case zT.NO_ERROR:const h=c.getResponseJson();se(Ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case zT.TIMEOUT:se(Ji,`RPC '${e}' ${o} timed out`),a(new re(j.DEADLINE_EXCEEDED,"Request time out"));break;case zT.HTTP_ERROR:const p=c.getStatus();if(se(Ji,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(M)>=0?M:j.UNKNOWN}(v.status);a(new re(b,v.message))}else a(new re(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new re(j.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{se(Ji,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(r);se(Ji,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",u,i,15)})}vo(e,t,i){const r=OD(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yee(),a=Xee(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new tte({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");se(Ji,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new rie({co:I=>{v?se(Ji,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(g||(se(Ji,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),se(Ji,`RPC '${e}' stream ${r} sending:`,I),p.send(I))},lo:()=>p.close()}),w=(I,M,A)=>{I.listen(M,L=>{try{A(L)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Gb.EventType.OPEN,()=>{v||se(Ji,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Gb.EventType.CLOSE,()=>{v||(v=!0,se(Ji,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Gb.EventType.ERROR,I=>{v||(v=!0,Rr(Ji,`RPC '${e}' stream ${r} transport errored:`,I),b.Ro(new re(j.UNAVAILABLE,"The operation could not be completed")))}),w(p,Gb.EventType.MESSAGE,I=>{var M;if(!v){const A=I.data[0];ke(!!A);const Y=A.error||(null===(M=A[0])||void 0===M?void 0:M.error);if(Y){se(Ji,`RPC '${e}' stream ${r} received error:`,Y);const le=Y.status;let De=function(Ir){const Or=Xn[Ir];if(void 0!==Or)return yU(Or)}(le),He=Y.message;void 0===De&&(De=j.INTERNAL,He="Unknown error status: "+le+" with message "+Y.message),v=!0,b.Ro(new re(De,He)),p.close()}else se(Ji,`RPC '${e}' stream ${r} received:`,A),b.Vo(A)}}),w(a,ete.STAT_EVENT,I=>{I.stat===uB.PROXY?se(Ji,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===uB.NOPROXY&&se(Ji,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function D4(){return typeof window<"u"?window:null}function Iw(){return typeof document<"u"?document:null}function wg(n){return new pne(n,!0)}class FD{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class A4{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new FD(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,X.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,X.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,X.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(jn(t.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===j.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new re(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,X.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sie extends A4{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function vne(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:be(),r=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(ke(void 0===h||"string"==typeof h),fi.fromBase64String(h||"")):(ke(void 0===h||h instanceof Uint8Array),fi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=void 0===u.code?j.UNKNOWN:yU(u.code);return new re(h,u.message||"")}(s);t=new xU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Rs(n,i.document.name),o=zn(i.document.updateTime),s=i.document.createTime?zn(i.document.createTime):Me.min(),a=new Ni({mapValue:{fields:i.document.fields}}),c=_n.newFoundDocument(r,o,s,a);t=new cw(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Rs(n,i.document),o=i.readTime?zn(i.readTime):Me.min(),s=_n.newNoDocument(r,o);t=new cw([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Rs(n,i.document);t=new cw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return be();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new lne(r,o);t=new IU(i.targetId,s)}}var u;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Me.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Me.min():s.readTime?zn(s.readTime):Me.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=hg(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=tw(c)?{documents:NU(o,c)}:{query:fD(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=AU(o,s.resumeToken);const u=lD(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Me.min())>0){a.readTime=Lh(o,s.snapshotVersion.toTimestamp());const u=lD(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const i=function bne(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=hg(this.serializer),t.removeTarget=e,this.e_(t)}}class aie extends A4{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function yne(n,e){return n&&n.length>0?(ke(void 0!==e),n.map(t=>function(r,o){let s=zn(r.updateTime?r.updateTime:o);return s.isEqual(Me.min())&&(s=zn(o)),new one(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=zn(e.commitTime);return this.listener.I_(i,t)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=hg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>fg(this.serializer,i))};this.e_(t)}}class cie extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new re(j.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new re(j.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(j.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class uie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(jn(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class die{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,X.Z)(function*(){var c;Cc(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,X.Z)(function*(h){const p=he(h);p.C_.add(4),yield qh(p),p.M_.set("Unknown"),p.C_.delete(4),yield Eg(p)}),function u(h){return c.apply(this,arguments)})(s))}))}),this.M_=new uie(i,r)}}function Eg(n){return VD.apply(this,arguments)}function VD(){return VD=(0,X.Z)(function*(n){if(Cc(n))for(const e of n.v_)yield e(!0)}),VD.apply(this,arguments)}function qh(n){return BD.apply(this,arguments)}function BD(){return BD=(0,X.Z)(function*(n){for(const e of n.v_)yield e(!1)}),BD.apply(this,arguments)}function xw(n,e){const t=he(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),zD(t)?jD(t):Wh(t).Ho()&&UD(t,e))}function Ig(n,e){const t=he(n),i=Wh(t);t.D_.delete(e),i.Ho()&&S4(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Cc(t)&&t.M_.set("Unknown"))}function UD(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wh(n).u_(e)}function S4(n,e){n.x_.Oe(e),Wh(n).c_(e)}function jD(n){n.x_=new dne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Wh(n).start(),n.M_.g_()}function zD(n){return Cc(n)&&!Wh(n).jo()&&n.D_.size>0}function Cc(n){return 0===he(n).C_.size}function k4(n){n.x_=void 0}function hie(n){return $D.apply(this,arguments)}function $D(){return $D=(0,X.Z)(function*(n){n.D_.forEach((e,t)=>{UD(n,e)})}),$D.apply(this,arguments)}function fie(n,e){return HD.apply(this,arguments)}function HD(){return HD=(0,X.Z)(function*(n,e){k4(n),zD(n)?(n.M_.w_(e),jD(n)):n.M_.set("Unknown")}),HD.apply(this,arguments)}function mie(n,e,t){return qD.apply(this,arguments)}function qD(){return qD=(0,X.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof xU&&2===e.state&&e.cause)try{yield(i=(0,X.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Cw(n,i)}else if(e instanceof cw?n.x_.$e(e):e instanceof IU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Me.min()))try{const i=yield v4(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(u);h&&o.D_.set(u,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(fi.EMPTY_BYTE_STRING,h.snapshotVersion)),S4(o,c);const p=new ma(h.target,c,u,h.sequenceNumber);UD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){se("RemoteStore","Failed to raise snapshot:",i),yield Cw(n,i)}var i}),qD.apply(this,arguments)}function Cw(n,e,t){return GD.apply(this,arguments)}function GD(){return GD=(0,X.Z)(function*(n,e,t){if(!fc(e))throw e;n.C_.add(1),yield qh(n),n.M_.set("Offline"),t||(t=()=>v4(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Eg(n)}))}),GD.apply(this,arguments)}function M4(n,e){return e().catch(t=>Cw(n,t,e))}function Gh(n){return WD.apply(this,arguments)}function WD(){return WD=(0,X.Z)(function*(n){const e=he(n),t=Tc(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;pie(e);)try{const r=yield Jne(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,gie(e,r)}catch(r){yield Cw(e,r)}R4(e)&&P4(e)}),WD.apply(this,arguments)}function pie(n){return Cc(n)&&n.b_.length<10}function gie(n,e){n.b_.push(e);const t=Tc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function R4(n){return Cc(n)&&!Tc(n).jo()&&n.b_.length>0}function P4(n){Tc(n).start()}function _ie(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,X.Z)(function*(n){Tc(n).E_()}),ZD.apply(this,arguments)}function vie(n){return KD.apply(this,arguments)}function KD(){return KD=(0,X.Z)(function*(n){const e=Tc(n);for(const t of n.b_)e.P_(t.mutations)}),KD.apply(this,arguments)}function yie(n,e,t){return QD.apply(this,arguments)}function QD(){return QD=(0,X.Z)(function*(n,e,t){const i=n.b_.shift(),r=sD.from(i,e,t);yield M4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gh(n)}),QD.apply(this,arguments)}function bie(n,e){return YD.apply(this,arguments)}function YD(){return YD=(0,X.Z)(function*(n,e){var t;e&&Tc(n).h_&&(yield(t=(0,X.Z)(function*(r,o){if(vU(a=o.code)&&a!==j.ABORTED){const s=r.b_.shift();Tc(r).Yo(),yield M4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Gh(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),R4(n)&&P4(n)}),YD.apply(this,arguments)}function N4(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,X.Z)(function*(n,e){const t=he(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=Cc(t);t.C_.add(3),yield qh(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Eg(t)}),XD.apply(this,arguments)}function JD(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,X.Z)(function*(n,e){const t=he(n);e?(t.C_.delete(2),yield Eg(t)):e||(t.C_.add(2),yield qh(t),t.M_.set("Unknown"))}),eA.apply(this,arguments)}function Wh(n){return n.O_||(n.O_=function(t,i,r){const o=he(t);return o.A_(),new sie(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:hie.bind(null,n),Io:fie.bind(null,n),a_:mie.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.O_.Yo(),zD(n)?jD(n):n.M_.set("Unknown")):(yield n.O_.stop(),k4(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Tc(n){return n.N_||(n.N_=function(t,i,r){const o=he(t);return o.A_(),new aie(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:_ie.bind(null,n),Io:bie.bind(null,n),T_:vie.bind(null,n),I_:yie.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.N_.Yo(),yield Gh(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class tA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new tA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zh(n,e){if(jn("AsyncQueue",`${e}: ${n}`),fc(n))return new re(j.UNAVAILABLE,`${e}: ${n}`);throw n}class Kh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=rg(),this.sortedSet=new ln(this.comparator)}static emptySet(e){return new Kh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Kh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class O4{constructor(){this.B_=new ln(pe.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qh{constructor(e,t,i,r,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Qh(e,t,Kh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class wie{constructor(){this.k_=void 0,this.listeners=[]}}class Eie{constructor(){this.queries=new ha(e=>JB(e),ng),this.onlineState="Unknown",this.q_=new Set}}function nA(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,X.Z)(function*(n,e){const t=he(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new wie),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Zh(s,`Initialization of query '${Rh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&sA(t)}),iA.apply(this,arguments)}function rA(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,X.Z)(function*(n,e){const t=he(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),oA.apply(this,arguments)}function Iie(n,e){const t=he(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&sA(t)}function xie(n,e,t){const i=he(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function sA(n){n.q_.forEach(e=>{e.next()})}class aA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Qh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Cie{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class F4{constructor(e){this.serializer=e}hs(e){return Rs(this.serializer,e)}Ps(e){return e.metadata.exists?PU(this.serializer,e.document,!1):_n.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return zn(e)}}class Tie{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=L4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=It.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new F4(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||tt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function eie(n,e,t,i){return SD.apply(this,arguments)}(e.localStore,new F4(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield tie(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function L4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class V4{constructor(e){this.key=e}}class B4{constructor(e){this.key=e}}class U4{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=tt(),this.mutatedKeys=tt(),this._a=tU(e),this.aa=new Kh(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new O4,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=ig(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),I=!0):this.ha(g,v)||(i.track({type:2,doc:v}),I=!0,(c&&this._a(v,c)>0||u&&this._a(v,u)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),I=!0):g&&!v&&(i.track({type:1,doc:g}),I=!0,(c||u)&&(a=!0)),I&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return b(g)-b(v)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Qh(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new O4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=tt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new B4(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new V4(i))}),t}da(e){this.ia=e.ls,this.oa=tt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Qh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Die{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Aie{constructor(e){this.key=e,this.Ra=!1}}class Sie{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ha(a=>JB(a),ng),this.fa=new Map,this.ga=new Set,this.pa=new ln(pe.comparator),this.ya=new Map,this.wa=new wD,this.Sa={},this.ba=new Map,this.Da=ou.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function kie(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,X.Z)(function*(n,e){const t=MA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield $h(t.localStore,br(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield lA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&xw(t.remoteStore,s)}return r}),cA.apply(this,arguments)}function lA(n,e,t,i,r){return uA.apply(this,arguments)}function uA(){return uA=(0,X.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,X.Z)(function*(I,M,A,L){let Y=M.view.ca(A);Y.Zi&&(Y=yield yw(I.localStore,M.query,!1).then(({documents:He})=>M.view.ca(He,Y)));const le=L&&L.targetChanges.get(M.targetId),De=M.view.applyChanges(Y,I.isPrimaryClient,le);return bA(I,M.targetId,De.Ta),De.snapshot}),function w(I,M,A,L){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield yw(n.localStore,e,!0),s=new U4(e,o.ls),a=s.ca(o.documents),c=ug.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),u=s.applyChanges(a,n.isPrimaryClient,c);bA(n,t,u.Ta);const h=new Die(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),uA.apply(this,arguments)}function Mie(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,X.Z)(function*(n,e){const t=he(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!ng(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Ig(t.remoteStore,i.targetId),Yh(t,i.targetId)}).catch(hc))):(Yh(t,i.targetId),yield Hh(t.localStore,i.targetId,!0))}),dA.apply(this,arguments)}function hA(){return hA=(0,X.Z)(function*(n,e,t){const i=RA(n);try{const r=yield function(s,a){const c=he(s),u=xn.now(),h=a.reduce((v,b)=>v.add(b.key),tt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Nr(),w=tt();return c.ss.getEntries(v,h).next(I=>{b=I,b.forEach((M,A)=>{A.isValidDocument()||(w=w.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(I=>{p=I;const M=[];for(const A of a){const L=ane(A,p.get(A.key).overlayedDocument);null!=L&&M.push(new fa(A.key,L,VB(L.value.mapValue),Cn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,M,a)}).next(I=>{g=I;const M=I.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,I.batchId,M)})}).then(()=>({batchId:g.batchId,changes:iU(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let u=s.Sa[s.currentUser.toKey()];u||(u=new ln(qe)),u=u.insert(a,c),s.Sa[s.currentUser.toKey()]=u}(i,r.batchId,t),yield pa(i,r.changes),yield Gh(i.remoteStore)}catch(r){const o=Zh(r,"Failed to persist write");t.reject(o)}}),hA.apply(this,arguments)}function j4(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,X.Z)(function*(n,e){const t=he(n);try{const i=yield function Xne(n,e){const t=he(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,I,M;null!==e.targetMismatches.get(p)?v=v.withResumeToken(fi.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),I=v,M=h,(0===(w=g).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Nr(),u=tt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(y4(o,s,e.documentUpdates).next(h=>{c=h.us,u=h.cs})),!i.isEqual(Me.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?ke(s.Ra):r.removedDocuments.size>0&&(ke(s.Ra),s.Ra=!1))}),yield pa(t,i,e)}catch(i){yield hc(i)}}),fA.apply(this,arguments)}function z4(n,e,t){const i=he(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=he(s);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(u=!0)}),u&&sA(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Pie(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,X.Z)(function*(n,e,t){const i=he(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new ln(pe.comparator);s=s.insert(o,_n.newNoDocument(o,Me.min()));const a=tt().add(o),c=new lg(Me.min(),new Map,new ln(qe),s,a);yield j4(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),wA(i)}else yield Hh(i.localStore,e,!1).then(()=>Yh(i,e,t)).catch(hc)}),mA.apply(this,arguments)}function Nie(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,X.Z)(function*(n,e){const t=he(n),i=e.batch.batchId;try{const r=yield function Yne(n,e){const t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const p=u.batch,g=p.keys();let v=O.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const I=u.docVersions.get(b);ke(null!==I),w.version.compareTo(I)<0&&(p.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=tt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);yA(t,i,null),vA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield pa(t,r)}catch(r){yield hc(r)}}),pA.apply(this,arguments)}function Oie(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=(0,X.Z)(function*(n,e,t){const i=he(n);try{const r=yield function(s,a){const c=he(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(ke(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(i.localStore,e);yA(i,e,t),vA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield pa(i,r)}catch(r){yield hc(r)}}),gA.apply(this,arguments)}function _A(){return _A=(0,X.Z)(function*(n,e){const t=he(n);Cc(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=he(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Zh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),_A.apply(this,arguments)}function vA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function yA(n,e,t){const i=he(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Yh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||$4(n,i)})}function $4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Ig(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),wA(n))}function bA(n,e,t){for(const i of t)i instanceof V4?(n.wa.addReference(i.key,e),Lie(n,i)):i instanceof B4?(se("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||$4(n,i.key)):be()}function Lie(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(i),wA(n))}function wA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(It.fromString(e)),i=n.Da.next();n.ya.set(i,new Aie(t)),n.pa=n.pa.insert(t,i),xw(n.remoteStore,new ma(br(kh(t.path)),i,"TargetPurposeLimboResolution",Kr._e))}}function pa(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,X.Z)(function*(n,e,t){const i=he(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(u=>{if((u||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){r.push(u);const h=TD.Qi(c.targetId,u);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,X.Z)(function*(u,h){const p=he(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>O.forEach(h,v=>O.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>O.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!fc(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),I=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,I)}}}),function c(u,h){return a.apply(this,arguments)})(i.localStore,o))}),EA.apply(this,arguments)}function Vie(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,X.Z)(function*(n,e){const t=he(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=yield _4(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new re(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield pa(t,i._s)}var o}),IA.apply(this,arguments)}function Bie(n,e){const t=he(n),i=t.ya.get(e);if(i&&i.Ra)return tt().add(i.key);{let r=tt();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function Uie(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,X.Z)(function*(n,e){const t=he(n),i=yield yw(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&bA(t,e.targetId,r.Ta),r}),xA.apply(this,arguments)}function jie(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,X.Z)(function*(n,e){const t=he(n);return w4(t.localStore,e).then(i=>pa(t,i))}),CA.apply(this,arguments)}function zie(n,e,t,i){return TA.apply(this,arguments)}function TA(){return TA=(0,X.Z)(function*(n,e,t,i){const r=he(n),o=yield function(a,c){const u=he(a),h=he(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?u.localDocuments.getDocuments(p,g):O.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Gh(r.remoteStore):"acknowledged"===t||"rejected"===t?(yA(r,e,i||null),vA(r,e),c=e,he(he(r.localStore).mutationQueue).Fn(c)):be(),yield pa(r,o)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),TA.apply(this,arguments)}function DA(){return DA=(0,X.Z)(function*(n,e){const t=he(n);if(MA(t),RA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield H4(t,i.toArray());t.Ca=!0,yield JD(t.remoteStore,!0);for(const o of r)xw(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Yh(t,s),Hh(t.localStore,s,!0))),Ig(t.remoteStore,s)}),yield r,yield H4(t,i),function(s){const a=he(s);a.ya.forEach((c,u)=>{Ig(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new ln(pe.comparator)}(t),t.Ca=!1,yield JD(t.remoteStore,!1)}}),DA.apply(this,arguments)}function H4(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,X.Z)(function*(n,e,t){const i=he(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield $h(i.localStore,br(c[0]));for(const u of c){const h=i.ma.get(u),p=yield Uie(i,h);p.snapshot&&o.push(p.snapshot)}}else{const u=yield b4(i.localStore,s);a=yield $h(i.localStore,u),yield lA(i,q4(u),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),AA.apply(this,arguments)}function q4(n){return QB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Hie(n){return t=he(n).localStore,he(he(t).persistence).Bi();var t}function qie(n,e,t,i){return SA.apply(this,arguments)}function SA(){return SA=(0,X.Z)(function*(n,e,t,i){const r=he(n);if(r.Ca)return void se("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield w4(r.localStore,eU(o[0])),a=lg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fi.EMPTY_BYTE_STRING);yield pa(r,s,a);break}case"rejected":yield Hh(r.localStore,e,!0),Yh(r,e,i);break;default:be()}}),SA.apply(this,arguments)}function Gie(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,X.Z)(function*(n,e,t){const i=MA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){se("SyncEngine","Adding an already active target "+r);continue}const o=yield b4(i.localStore,r),s=yield $h(i.localStore,o);yield lA(i,q4(o),s.targetId,!1,s.resumeToken),xw(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield Hh(i.localStore,r,!1).then(()=>{Ig(i.remoteStore,r),Yh(i,r)}).catch(hc))}}),kA.apply(this,arguments)}function MA(n){const e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pie.bind(null,e),e.Va.a_=Iie.bind(null,e.eventManager),e.Va.Fa=xie.bind(null,e.eventManager),e}function RA(n){const e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oie.bind(null,e),e}class xg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=wg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return g4(this.persistence,new p4,e.initialUser,this.serializer)}createPersistence(e){return new ED(gw.jr,this.serializer)}createSharedClientState(e){return new C4}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PA extends xg{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield RA(i.xa.syncEngine),yield Gh(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return g4(this.persistence,new p4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new s4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new yte(t,this.persistence);return new vte(e.asyncQueue,i)}createPersistence(e){const t=CD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new xD(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,D4(),Iw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new C4}}class G4 extends PA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof ND&&(i.sharedClientState.syncEngine={Ys:zie.bind(null,r),Zs:qie.bind(null,r),Xs:Gie.bind(null,r),Bi:Hie.bind(null,r),Js:jie.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,X.Z)(function*(s){yield function $ie(n,e){return DA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=D4();if(!ND.D(t))throw new re(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=CD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ND(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Xh{initialize(e,t){var i=this;return(0,X.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>z4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Vie.bind(null,i.syncEngine),yield JD(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Eie}createDatastore(e){const t=wg(e.databaseInfo.databaseId),i=new oie(e.databaseInfo);return new cie(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>z4(this.syncEngine,t,0),a=T4.D()?new T4:new nie,new die(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,u,h){const p=new Sie(r,o,s,a,c,u);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(i){const r=he(i);se("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield qh(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function W4(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kie{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new hi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,X.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new Cie(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,X.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,X.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Qie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,X.Z)(function*(s,a){const c=he(s),u=hg(c.serializer)+"/documents",h={documents:a.map(b=>dg(c.serializer,b))},p=yield c.Co("BatchGetDocuments",u,h,a.length),g=new Map;p.forEach(b=>{const w=function _ne(n,e){return"found"in e?function(i,r){ke(!!r.found);const o=Rs(i,r.found.name),s=zn(r.found.updateTime),a=r.found.createTime?zn(r.found.createTime):Me.min(),c=new Ni({mapValue:{fields:r.found.fields}});return _n.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){ke(!!r.missing),ke(!!r.readTime);const o=Rs(i,r.missing),s=zn(r.readTime);return _n.newNoDocument(o,s)}(n,e):be()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());ke(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=pe.fromPath(r);e.mutations.push(new rD(o,e.precondition(o)))}),yield(i=(0,X.Z)(function*(o,s){const a=he(o),c=hg(a.serializer)+"/documents",u={writes:s.map(h=>fg(a.serializer,h))};yield a.wo("Commit",c,u)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be();t=Me.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new re(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?Cn.exists(!1):Cn.updateTime(t):Cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new re(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(t)}return Cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yie{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new FD(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,X.Z)(function*(){const t=new Qie(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Zp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vU(t)}return!1}}class Xie{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=bi.UNAUTHENTICATED,this.clientId=mB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,X.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Zh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Dw(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,X.Z)(function*(o){i.isEqual(o)||(yield _4(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),NA.apply(this,arguments)}function OA(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield LA(n);se("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>N4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>N4(e.remoteStore,o)),n._onlineComponents=e}),FA.apply(this,arguments)}function Z4(n){return"FirebaseError"===n.name?n.code===j.FAILED_PRECONDITION||n.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function LA(n){return VA.apply(this,arguments)}function VA(){return VA=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Z4(t))throw t;Rr("Error using user provided cache. Falling back to memory cache: "+t),yield Dw(n,new xg)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield Dw(n,new xg);return n._offlineComponents}),VA.apply(this,arguments)}function Aw(n){return BA.apply(this,arguments)}function BA(){return BA=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield OA(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield OA(n,new Xh))),n._onlineComponents}),BA.apply(this,arguments)}function K4(n){return LA(n).then(e=>e.persistence)}function Jh(n){return LA(n).then(e=>e.localStore)}function Q4(n){return Aw(n).then(e=>e.remoteStore)}function UA(n){return Aw(n).then(e=>e.syncEngine)}function ef(n){return jA.apply(this,arguments)}function jA(){return jA=(0,X.Z)(function*(n){const e=yield Aw(n),t=e.eventManager;return t.onListen=kie.bind(null,e.syncEngine),t.onUnlisten=Mie.bind(null,e.syncEngine),t}),jA.apply(this,arguments)}function X4(n,e,t={}){const i=new hi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,s,a,c,u){const h=new Tw({next:g=>{s.enqueueAndForget(()=>rA(o,p));const v=g.docs.has(a);!v&&g.fromCache?u.reject(new re(j.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?u.reject(new re(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new aA(kh(a.path),h,{includeMetadataChanges:!0,J_:!0});return nA(o,p)}(yield ef(n),n.asyncQueue,e,t,i)})),i.promise}function J4(n,e,t={}){const i=new hi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,s,a,c,u){const h=new Tw({next:g=>{s.enqueueAndForget(()=>rA(o,p)),g.fromCache&&"server"===c.source?u.reject(new re(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new aA(a,h,{includeMetadataChanges:!0,J_:!0});return nA(o,p)}(yield ef(n),n.asyncQueue,e,t,i)})),i.promise}function ej(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const tj=new Map;function zA(n,e,t){if(!t)throw new re(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nj(n,e,t,i){if(!0===e&&!0===i)throw new re(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ij(n){if(!pe.isDocumentKey(n))throw new re(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rj(n){if(pe.isDocumentKey(n))throw new re(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":be()}function _t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sw(n);throw new re(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oj(n,e){if(e<=0)throw new re(j.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class sj{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new re(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ej(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sj(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new ste;switch(i.type){case"firstParty":return new ute(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new re(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=tj.get(t);i&&(se("ComponentProvider","Removing Datastore"),tj.delete(t),i.terminate())}(this),Promise.resolve()}}class Oi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ps extends Oi{constructor(e,t,i){super(e,t,kh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new pe(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function cj(n,e,...t){if(n=(0,tn.m9)(n),zA("collection","path",e),n instanceof Cg){const i=It.fromString(e,...t);return rj(i),new Ps(n,null,i)}{if(!(n instanceof vn||n instanceof Ps))throw new re(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(It.fromString(e,...t));return rj(i),new Ps(n.firestore,null,i)}}function kw(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=mB.newId()),zA("doc","path",e),n instanceof Cg){const i=It.fromString(e,...t);return ij(i),new vn(n,null,new pe(i))}{if(!(n instanceof vn||n instanceof Ps))throw new re(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(It.fromString(e,...t));return ij(i),new vn(n.firestore,n instanceof Ps?n.converter:null,new pe(i))}}function lj(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof vn||n instanceof Ps)&&(e instanceof vn||e instanceof Ps)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $A(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&ng(n._query,e._query)&&n.converter===e.converter}class ure{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new FD(this,"async_queue_retry"),this.iu=()=>{const t=Iw();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Iw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Iw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new hi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,X.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!fc(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,jn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=tA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&be()}verifyOperationInProgress(){}uu(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function HA(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class dre{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class un extends Cg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ure,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uj(this),this._firestoreClient.terminate()}}function Nn(n){return n._firestoreClient||uj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uj(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ute(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ej(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new Xie(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function dj(n,e,t){const i=new hi;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield Dw(n,t),yield OA(n,e),i.resolve()}catch(r){const o=r;if(!Z4(o))throw o;Rr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function hj(n){if(n._initialized||n._terminated)throw new re(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(fi.fromBase64String(e))}catch(t){throw new re(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ns(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ga{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class au{constructor(e){this._methodName=e}}class Mw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}const Ere=/^__.*__$/;class Ire{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oh(e,this.data,t,this.fieldTransforms)}}class fj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Rw{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Rw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Ow(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(mj(this.Iu)&&Ere.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class xre{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||wg(e)}pu(e,t,i,r=!1){return new Rw({Iu:e,methodName:t,gu:i,path:gn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cu(n){const e=n._freezeSettings(),t=wg(n._databaseId);return new xre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pw(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);ZA("Data must be an object, but it was:",s,i);const a=_j(i,s);let c,u;if(o.merge)c=new Pr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=Ag(e,p,t);if(!s.contains(g))throw new re(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yj(h,g)||h.push(g)}c=new Pr(h),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new Ire(new Ni(a),c,u)}class Dg extends au{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dg}}function pj(n,e,t){return new Rw({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qA extends au{_toFieldTransform(e){return new sg(e.path,new Ph)}isEqual(e){return e instanceof qA}}class Cre extends au{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=pj(this,e,!0),i=this.yu.map(o=>lu(o,t)),r=new Xl(i);return new sg(e.path,r)}isEqual(e){return this===e}}class Tre extends au{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=pj(this,e,!0),i=this.yu.map(o=>lu(o,t)),r=new Jl(i);return new sg(e.path,r)}isEqual(e){return this===e}}class Dre extends au{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Nh(e.serializer,aU(e.serializer,this.wu));return new sg(e.path,t)}isEqual(e){return this===e}}function GA(n,e,t,i){const r=n.pu(1,e,t);ZA("Data must be an object, but it was:",r,i);const o=[],s=Ni.empty();mc(i,(c,u)=>{const h=Nw(e,c,t);u=(0,tn.m9)(u);const p=r.Ru(h);if(u instanceof Dg)o.push(h);else{const g=lu(u,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Pr(o);return new fj(s,a,r.fieldTransforms)}function WA(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[Ag(e,i,t)],c=[r];if(o.length%2!=0)throw new re(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Ag(e,o[g])),c.push(o[g+1]);const u=[],h=Ni.empty();for(let g=a.length-1;g>=0;--g)if(!yj(u,a[g])){const v=a[g];let b=c[g];b=(0,tn.m9)(b);const w=s.Ru(v);if(b instanceof Dg)u.push(v);else{const I=lu(b,w);null!=I&&(u.push(v),h.set(v,I))}}const p=new Pr(u);return new fj(h,p,s.fieldTransforms)}function gj(n,e,t,i=!1){return lu(t,n.pu(i?4:3,e))}function lu(n,e){if(vj(n=(0,tn.m9)(n)))return ZA("Unsupported field value:",e,n),_j(n,e);if(n instanceof au)return function(i,r){if(!mj(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=lu(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,tn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return aU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=xn.fromDate(i);return{timestampValue:Lh(r.serializer,o)}}if(i instanceof xn){const o=new xn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lh(r.serializer,o)}}if(i instanceof Mw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ns)return{bytesValue:AU(r.serializer,i._byteString)};if(i instanceof vn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Sw(i)}`)}(n,e)}function _j(n,e){const t={};return SB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mc(n,(i,r)=>{const o=lu(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function vj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof Mw||n instanceof Ns||n instanceof vn||n instanceof au)}function ZA(n,e,t){if(!vj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=Sw(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Ag(n,e,t){if((e=(0,tn.m9)(e))instanceof ga)return e._internalPath;if("string"==typeof e)return Nw(n,e);throw Ow("Field path arguments must be of type string or ",n,!1,void 0,t)}const Are=new RegExp("[~\\*/\\[\\]]");function Nw(n,e,t){if(e.search(Are)>=0)throw Ow(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ga(...e.split("."))._internalPath}catch{throw Ow(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ow(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new re(j.INVALID_ARGUMENT,a+n+c)}function yj(n,e){return n.some(t=>t.isEqual(e))}class Sg{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sre extends Sg{data(){return super.data()}}function Fw(n,e){return"string"==typeof e?Nw(n,e):e instanceof ga?e._internalPath:e._delegate._internalPath}function bj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new re(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KA{}class kg extends KA{}function Dc(n,e,...t){let i=[];e instanceof KA&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof tf).length,a=o.filter(c=>c instanceof Mg).length;if(s>1||s>0&&a>0)throw new re(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Mg extends kg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Mg(e,t,i)}_apply(e){const t=this._parse(e);return xj(e._query,t),new Oi(e.firestore,e.converter,nD(e._query,t))}_parse(e){const t=cu(e.firestore);return function(o,s,a,c,u,h,p){let g;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new re(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){Ij(p,h);const v=[];for(const b of p)v.push(Ej(c,o,b));g={arrayValue:{values:v}}}else g=Ej(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||Ij(p,h),g=gj(a,"where",p,"in"===h||"not-in"===h);return bt.create(u,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class tf extends KA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:jt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)xj(s,c),s=nD(s,c)}(e._query,t),new Oi(e.firestore,e.converter,nD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QA extends kg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QA(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new re(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new re(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eg(o,s)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new da(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Lw extends kg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Lw(e,t,i)}_apply(e){return new Oi(e.firestore,e.converter,iw(e._query,this._limit,this._limitType))}}class Vw extends kg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Vw(e,t,i)}_apply(e){const t=wj(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,(o=t,new da((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Bw extends kg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Bw(e,t,i)}_apply(e){const t=wj(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,(o=t,new da((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function wj(n,e,t,i){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof Sg)return function(o,s,a,c,u){if(!c)throw new re(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of Mh(o))if(p.field.isKeyField())h.push(Ql(s,c.key));else{const g=c.data.field(p.field);if(Qb(g))throw new re(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new re(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new bc(h,u)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=cu(n.firestore);return function(s,a,c,u,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new re(j.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new re(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!tD(s)&&-1!==w.indexOf("/"))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const I=s.path.child(It.fromString(w));if(!pe.isDocumentKey(I))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const M=new pe(I);v.push(Ql(a,M))}else{const I=gj(c,u,w);v.push(I)}}return new bc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Ej(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new re(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tD(e)&&-1!==t.indexOf("/"))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(It.fromString(t));if(!pe.isDocumentKey(i))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ql(n,new pe(i))}if(t instanceof vn)return Ql(n,t._key);throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sw(t)}.`)}function Ij(n,e){if(!Array.isArray(n)||0===n.length)throw new re(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xj(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re(j.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YA{convertValue(e,t="none"){switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return mc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Mw(Pn(e.latitude),Pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Yb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qp(e));default:return null}}convertTimestamp(e){const t=pc(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=It.fromString(e);ke(VU(i));const r=new gc(i.get(1),i.get(3)),o=new pe(i.popFirst(5));return r.isEqual(t)||jn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Uw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Vre extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}class uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends Sg{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Fw("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Rg extends _a{data(e={}){return super.data(e)}}class Ac{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new uu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Rg(this._firestore,this._userDataWriter,i.key,i,new uu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Rg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new uu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new Rg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new uu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Ure(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ure(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function Tj(n,e){return n instanceof _a&&e instanceof _a?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ac&&e instanceof Ac&&n._firestore===e._firestore&&$A(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Sc extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function Dj(n,e,t){n=_t(n,vn);const i=_t(n.firestore,un),r=Uw(n.converter,e,t);return nf(i,[Pw(cu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Cn.none())])}function Aj(n,e,t,...i){n=_t(n,vn);const r=_t(n.firestore,un),o=cu(r);let s;return s="string"==typeof(e=(0,tn.m9)(e))||e instanceof ga?WA(o,"updateDoc",n._key,e,t,i):GA(o,"updateDoc",n._key,e),nf(r,[s.toMutation(n._key,Cn.exists(!0))])}function Sj(n,...e){var t,i,r;n=(0,tn.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||HA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(HA(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,u,h;if(n instanceof vn)u=_t(n.firestore,un),h=kh(n._key.path),c={next:p=>{e[s]&&e[s](XA(u,n,p))},error:e[s+1],complete:e[s+2]};else{const p=_t(n,Oi);u=_t(p.firestore,un),h=p._query;const g=new Sc(u);c={next:v=>{e[s]&&e[s](new Ac(u,g,p,v))},error:e[s+1],complete:e[s+2]},bj(n._query)}return function(g,v,b,w){const I=new Tw(w),M=new aA(v,I,b);return g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return nA(yield ef(g),M)})),()=>{I.Na(),g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return rA(yield ef(g),M)}))}}(Nn(u),h,a,c)}function nf(n,e){return function(i,r){const o=new hi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Rie(n,e,t){return hA.apply(this,arguments)}(yield UA(i),r,o)})),o.promise}(Nn(n),e)}function XA(n,e,t){const i=t.docs.get(e._key),r=new Sc(n);return new _a(n,r,e._key,i,new uu(t.hasPendingWrites,t.fromCache),e.converter)}const roe={maxAttempts:5};class kj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cu(e)}set(e,t,i){this._verifyNotCommitted();const r=kc(e,this._firestore),o=Uw(r.converter,t,i),s=Pw(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Cn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=kc(e,this._firestore);let s;return s="string"==typeof(t=(0,tn.m9)(t))||t instanceof ga?WA(this._dataReader,"WriteBatch.update",o._key,t,i,r):GA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kc(e,this._firestore);return this._mutations=this._mutations.concat(new Fh(t._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kc(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new re(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ooe extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=cu(t)}get(t){const i=kc(t,this._firestore),r=new Vre(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return be();const s=o[0];if(s.isFoundDocument())return new Sg(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Sg(this._firestore,r,i._key,null,i.converter);throw be()})}set(t,i,r){const o=kc(t,this._firestore),s=Uw(o.converter,i,r),a=Pw(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=kc(t,this._firestore);let a;return a="string"==typeof(i=(0,tn.m9)(i))||i instanceof ga?WA(this._dataReader,"Transaction.update",s._key,i,r,o):GA(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=kc(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kc(e,this._firestore),i=new Sc(this._firestore);return super.get(e).then(r=>new _a(this._firestore,i,t._key,r._document,new uu(!1,!1),t.converter))}}function eS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Nj(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function Oj(){if(!function Vte(){return typeof atob<"u"}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Eh=dh.SDK_VERSION,(0,dh._registerComponent)(new Z2.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new un(new cte(i.getProvider("auth-internal")),new dte(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(u.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,dh.registerVersion)(dB,"4.3.2",e),(0,dh.registerVersion)(dB,"4.3.2","esm2017")}();class Pg{constructor(e){this._delegate=e}static fromBase64String(e){return Oj(),new Pg(Ns.fromBase64String(e))}static fromUint8Array(e){return Nj(),new Pg(Ns.fromUint8Array(e))}toBase64(){return Oj(),this._delegate.toBase64()}toUint8Array(){return Nj(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tS(n){return function poe(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class goe{enableIndexedDbPersistence(e,t){return function fre(n,e){hj(n=_t(n,un));const t=Nn(n);if(t._uninitializedComponentsProvider)throw new re(j.FAILED_PRECONDITION,"SDK cache is already specified.");Rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Xh;return dj(t,r,new PA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function mre(n){hj(n=_t(n,un));const e=Nn(n);if(e._uninitializedComponentsProvider)throw new re(j.FAILED_PRECONDITION,"SDK cache is already specified.");Rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Xh;return dj(e,i,new G4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pre(n){if(n._initialized&&!n._terminated)throw new re(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(r){if(!Wo.D())return Promise.resolve();const o=r+"main";yield Wo.delete(o)}),function i(r){return t.apply(this,arguments)})(CD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fj{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof gc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function aj(n,e,t,i={}){var r;const o=(n=_t(n,Cg))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=bi.MOCK_USER;else{a=(0,tn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new re(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new bi(u)}n._authCredentials=new ate(new hB(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function _re(n){return function Jie(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield K4(n),t=yield Q4(n);return e.setNetworkEnabled(!0),function(r){const o=he(r);return o.C_.delete(0),Eg(o)}(t)}))}(Nn(n=_t(n,un)))}(this._delegate)}disableNetwork(){return function vre(n){return function ere(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield K4(n),t=yield Q4(n);return e.setNetworkEnabled(!1),(i=(0,X.Z)(function*(o){const s=he(o);s.C_.add(0),yield qh(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Nn(n=_t(n,un)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,nj("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gre(n){return function(t){const i=new hi;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Fie(n,e){return _A.apply(this,arguments)}(yield UA(t),i)})),i.promise}(Nn(n=_t(n,un)))}(this._delegate)}onSnapshotsInSync(e){return function Kre(n,e){return function ire(n,e){const t=new Tw(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield ef(n),o=t,he(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield ef(n),o=t,void he(r).q_.delete(o);var r,o}))}}(Nn(n=_t(n,un)),HA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rf(this,cj(this._delegate,e))}catch(t){throw wr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Eo(this,kw(this._delegate,e))}catch(t){throw wr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Er(this,function lre(n,e){if(n=_t(n,Cg),zA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(j.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(i=e,new da(It.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw wr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function soe(n,e,t){n=_t(n,un);const i=Object.assign(Object.assign({},roe),t);return function(o){if(o.maxAttempts<1)throw new re(j.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new hi;return o.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const u=yield function Y4(n){return Aw(n).then(e=>e.datastore)}(o);new Yie(o.asyncQueue,u,a,s,c).run()})),c.promise}(Nn(n),r=>e(new ooe(n,r)),i)}(this._delegate,t=>e(new Lj(this,t)))}batch(){return Nn(this._delegate),new Vj(new kj(this._delegate,e=>nf(this._delegate,e)))}loadBundle(e){return function yre(n,e){const t=Nn(n=_t(n,un)),i=new dre;return function rre(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?bU().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return W4(h,p);if(h instanceof ArrayBuffer)return W4(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Kie(h,a);var h}(t,wg(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function Wie(n,e,t){const i=he(n);var r;(r=(0,X.Z)(function*(s,a,c){try{const u=yield a.getMetadata();if(yield function(b,w){const I=he(b),M=zn(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(M)>=0)}(s.localStore,u))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(L4(u));const h=new Tie(u,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield pa(s,g.ra,void 0),yield function(b,w){const I=he(b);return I.persistence.runTransaction("Save bundle","readwrite",M=>I.Kr.saveBundleMetadata(M,w))}(s.localStore,u),c._completeWith(g.progress),Promise.resolve(g.na)}catch(u){return Rr("SyncEngine",`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield UA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function bre(n,e){return function ore(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(i,r){const o=he(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Jh(n),e)}))}(Nn(n=_t(n,un)),e).then(t=>t?new Oi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Er(this,t):null)}}class zw extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pg(new Ns(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Eo.forKey(t,this.firestore,null)}}class Lj{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zw(e)}get(e){const t=hu(e);return this._delegate.get(t).then(i=>new Ng(this._firestore,new _a(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=hu(e);return i?(eS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=hu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=hu(e);return this._delegate.delete(t),this}}class Vj{constructor(e){this._delegate=e}set(e,t,i){const r=hu(e);return i?(eS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=hu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=hu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class du{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Rg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Og(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=du.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new du(e,new zw(e),t),r.set(t,o)),o}}du.INSTANCES=new WeakMap;class Eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zw(e)}static forPath(e,t,i){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Eo(t,new vn(t._delegate,i,new pe(e)))}static forKey(e,t,i){return new Eo(t,new vn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new rf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rf(this.firestore,cj(this._delegate,e))}catch(t){throw wr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof vn&&lj(this._delegate,e)}set(e,t){t=eS("DocumentReference.set",t);try{return t?Dj(this._delegate,e,t):Dj(this._delegate,e)}catch(i){throw wr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Aj(this._delegate,e):Aj(this._delegate,e,t,...i)}catch(r){throw wr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Wre(n){return nf(_t(n.firestore,un),[new Fh(n._key,Cn.none())])}(this._delegate)}onSnapshot(...e){const t=Bj(e),i=Uj(e,r=>new Ng(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Sj(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function zre(n){n=_t(n,vn);const e=_t(n.firestore,un),t=Nn(e),i=new Sc(e);return function tre(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=he(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new re(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=Zh(c,`Failed to get document '${s} from cache`);a.reject(u)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Jh(n),e,t);var i})),t.promise}(t,n._key).then(r=>new _a(e,i,n._key,r,new uu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $re(n){n=_t(n,vn);const e=_t(n.firestore,un);return X4(Nn(e),n._key,{source:"server"}).then(t=>XA(e,n,t))}(this._delegate):function jre(n){n=_t(n,vn);const e=_t(n.firestore,un);return X4(Nn(e),n._key).then(t=>XA(e,n,t))}(this._delegate),t.then(i=>new Ng(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Eo(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}function wr(n,e,t){return n.message=n.message.replace(e,t),n}function Bj(n){for(const e of n)if("object"==typeof e&&!tS(e))return e;return{}}function Uj(n,e){var t,i;let r;return r=tS(n[0])?n[0]:tS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ng{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Eo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Tj(this._delegate,e._delegate)}}class Og extends Ng{data(e){const t=this._delegate.data(e);return this._delegate._converter||function ote(n,e){n||be()}(void 0!==t),t}}class Er{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zw(e)}where(e,t,i){try{return new Er(this.firestore,Dc(this._delegate,function kre(n,e,t){const i=e,r=Fw("where",n);return Mg._create(r,i,t)}(e,t,i)))}catch(r){throw wr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Er(this.firestore,Dc(this._delegate,function Mre(n,e="asc"){const t=e,i=Fw("orderBy",n);return QA._create(i,t)}(e,t)))}catch(i){throw wr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Er(this.firestore,Dc(this._delegate,function Rre(n){return oj("limit",n),Lw._create("limit",n,"F")}(e)))}catch(t){throw wr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Er(this.firestore,Dc(this._delegate,function Pre(n){return oj("limitToLast",n),Lw._create("limitToLast",n,"L")}(e)))}catch(t){throw wr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Er(this.firestore,Dc(this._delegate,function Nre(...n){return Vw._create("startAt",n,!0)}(...e)))}catch(t){throw wr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Er(this.firestore,Dc(this._delegate,function Ore(...n){return Vw._create("startAfter",n,!1)}(...e)))}catch(t){throw wr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Er(this.firestore,Dc(this._delegate,function Fre(...n){return Bw._create("endBefore",n,!1)}(...e)))}catch(t){throw wr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Er(this.firestore,Dc(this._delegate,function Lre(...n){return Bw._create("endAt",n,!0)}(...e)))}catch(t){throw wr(t,"endAt()","Query.endAt()")}}isEqual(e){return $A(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function qre(n){n=_t(n,Oi);const e=_t(n.firestore,un),t=Nn(e),i=new Sc(e);return function nre(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(o,s,a){try{const c=yield yw(o,s,!0),u=new U4(s,c.ls),h=u.ca(c.documents),p=u.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const u=Zh(c,`Failed to execute query '${s} against cache`);a.reject(u)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Jh(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Ac(e,i,n,r))}(this._delegate):"server"===e?.source?function Gre(n){n=_t(n,Oi);const e=_t(n.firestore,un),t=Nn(e),i=new Sc(e);return J4(t,n._query,{source:"server"}).then(r=>new Ac(e,i,n,r))}(this._delegate):function Hre(n){n=_t(n,Oi);const e=_t(n.firestore,un),t=Nn(e),i=new Sc(e);return bj(n._query),J4(t,n._query).then(r=>new Ac(e,i,n,r))}(this._delegate),t.then(i=>new nS(this.firestore,new Ac(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Bj(e),i=Uj(e,r=>new nS(this.firestore,new Ac(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Sj(this._delegate,t,i)}withConverter(e){return new Er(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}class voe{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Og(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Og(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new voe(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Og(this._firestore,i))})}isEqual(e){return Tj(this._delegate,e._delegate)}}class rf extends Er{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Eo(this.firestore,e):null}doc(e){try{return new Eo(this.firestore,void 0===e?kw(this._delegate):kw(this._delegate,e))}catch(t){throw wr(t,"doc()","CollectionReference.doc()")}}add(e){return function Zre(n,e){const t=_t(n.firestore,un),i=kw(n),r=Uw(n.converter,e);return nf(t,[Pw(cu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Cn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Eo(this.firestore,t))}isEqual(e){return lj(this._delegate,e._delegate)}withConverter(e){return new rf(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}function hu(n){return _t(n,vn)}class iS{constructor(...e){this._delegate=new ga(...e)}static documentId(){return new iS(gn.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof ga&&this._delegate._internalPath.isEqual(e._internalPath)}}class fu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function coe(){return new qA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fu(e)}static delete(){const e=function aoe(){return new Dg("deleteField")}();return e._methodName="FieldValue.delete",new fu(e)}static arrayUnion(...e){const t=function loe(...n){return new Cre("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fu(t)}static arrayRemove(...e){const t=function uoe(...n){return new Tre("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fu(t)}static increment(e){const t=function doe(n){return new Dre("increment",n)}(e);return t._methodName="FieldValue.increment",new fu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yoe={Firestore:Fj,GeoPoint:Mw,Timestamp:xn,Blob:Pg,Transaction:Lj,WriteBatch:Vj,DocumentReference:Eo,DocumentSnapshot:Ng,Query:Er,QueryDocumentSnapshot:Og,QuerySnapshot:nS,CollectionReference:rf,FieldPath:iS,FieldValue:fu,setLogLevel:function _oe(n){!function rte(n){dc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function jj(n,e){return function Eoe(n,e=sh){return new Qe(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function rS(n,e){return jj(n,e).pipe(ge(t=>({payload:t,type:"query"})))}!function woe(n){(function boe(n,e){n.INTERNAL.registerComponent(new Z2.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},yoe)))})(n,(e,t)=>new Fj(e,t,new goe)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(aa.Z);class zj{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=Zj(i,t);return new qj(r,o,this.afs)}snapshotChanges(){return function Ioe(n,e){return jj(n,e).pipe(Pl(void 0),eT(),ge(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gr)}valueChanges(e={}){return this.snapshotChanges().pipe(ge(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return D(this.ref.get(e)).pipe(Gr)}}function $w(n,e){return rS(n,e).pipe(Pl(void 0),eT(),ge(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const u=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function $j(n,e,t){return $w(n,t).pipe(Ay((i,r)=>function xoe(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Coe(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return oS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return oS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return oS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Qt(),ge(i=>i.map(r=>({type:r.type,payload:r}))))}function oS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Hj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qj{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=$w(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ge(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Pl(void 0),eT(),Bn(([i,r])=>r.length>0||!i),ge(([,i])=>i),Gr)}auditTrail(e){return this.stateChanges(e).pipe(Ay((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Hj(e);return $j(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr)}valueChanges(e={}){return rS(this.query,this.afs.schedulers.outsideAngular).pipe(ge(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Gr)}get(e){return D(this.query.get(e)).pipe(Gr)}add(e){return this.ref.add(e)}doc(e){return new zj(this.ref.doc(e),this.afs)}}class Toe{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$w(this.query,this.afs.schedulers.outsideAngular).pipe(ge(t=>t.filter(i=>e.indexOf(i.type)>-1)),Bn(t=>t.length>0),Gr):$w(this.query,this.afs.schedulers.outsideAngular).pipe(Gr)}auditTrail(e){return this.stateChanges(e).pipe(Ay((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Hj(e);return $j(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr)}valueChanges(e={}){return rS(this.query,this.afs.schedulers.outsideAngular).pipe(ge(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),Gr)}get(e){return D(this.query.get(e)).pipe(Gr)}}const Gj=new ne("angularfire2.enableFirestorePersistence"),Wj=new ne("angularfire2.firestore.persistenceSettings"),Doe=new ne("angularfire2.firestore.settings"),Aoe=new ne("angularfire2.firestore.use-emulator");function Zj(n,e=(t=>t)){return{query:e(n),ref:n}}let Hw=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,u,h,p,g,v,b,w,I,M,A){this.schedulers=c;const L=JC(t,a,i),Y=h;p&&W2(L,a,g,b,w,I,v,M),[this.firestore,this.persistenceEnabled$]=L2(`${L.name}.firestore`,"AngularFirestore",L.name,()=>{const le=a.runOutsideAngular(()=>L.firestore());if(o&&le.settings(o),Y&&le.useEmulator(...Y),r&&!by(s)){const De=()=>{try{return D(le.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(He){return typeof console<"u"&&console.warn(He),W(!1)}};return[le,a.runOutsideAngular(De)]}return[le,W(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=Zj(r,i),a=this.schedulers.ngZone.run(()=>o);return new qj(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new Toe(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new zj(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(z(vb),z(yb,8),z(Gj,8),z(Doe,8),z(Oo),z(ze),z(O2),z(Wj,8),z(Aoe,8),z(mh,8),z(j2,8),z(z2,8),z($2,8),z(H2,8),z(q2,8),z(G2,8),z(P2,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Soe=(()=>{class n{constructor(){aa.Z.registerVersion("angularfire",_b.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Gj,useValue:!0},{provide:Wj,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Mt({type:n});static \u0275inj=St({providers:[Hw]})}return n})(),Kj=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new B,this.loginFailed$=this.loginFailedSubject.asObservable()}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i){this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{if(r.user){r.user.emailVerified?(alert(r.user.displayName),this.router.navigate(["/home"])):alert("Please verify your email before logging in.")}else console.error("User is null"),alert("An error occurred during login. Please try again.")}).catch(r=>{console.error("Login error:",r),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("rememberedToken")}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){localStorage.getItem("rememberedToken")&&this.router.navigate(["/home"])}static#e=this.\u0275fac=function(i){return new(i||n)(z(mh),z(_r),z(Hw))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function koe(n,e){if(1&n){const t=Za();V(0,"div",4),ut(1,"img",5),V(2,"p",1),ae(3),$(),V(4,"p",2),ae(5),$(),ut(6,"hr"),V(7,"p",1),ae(8),$(),ut(9,"img",6),V(10,"p",7),ae(11),$(),V(12,"p",8),ae(13),$(),ut(14,"br")(15,"br")(16,"hr"),V(17,"img",9),mt("click",function(){const o=Ht(t).index;return qt(dt().toggleLike(o))}),$(),ut(18,"img",10)(19,"textarea",11,12),V(21,"img",13),mt("click",function(){const o=Ht(t).index,s=Lo(20);return dt().postComment(o),qt(s.value=" ")}),$()()}if(2&n){const t=e.$implicit;Le(1),Od("src",t[6],ym),Le(2),Qa(t[0]),Le(2),Qa(t[1]),Le(3),Qa(t[4]),Le(1),Od("src",t[5],ym),Od("alt",t[5]),Le(2),Wv("",t[2]," ",1==t[2]?"like":"likes",""),Le(2),Wv("",t[3]," ",1==t[3]?"comment":"comments",""),Le(4),Od("src",1==t[7]?"assets/img/like_active.svg":"assets/img/like_inactive.svg",ym)}}let Moe=(()=>{class n{constructor(){this.username="Silver",this.totalPosts=2,this.allPosts=[["Silver","11. Oktoober kell 19:46",128,95,"pange saun sooja, Silver tuleb rekordeid purustama","https://media.discordapp.net/attachments/1146094400666091524/1161706521235832994/IMG_2645.jpg","https://media.discordapp.net/attachments/1149290454819553420/1164864763105390592/b61f156cac360ab208b71ce5102ee9c5_400x400.png",!1],["Rasmus","11. Oktoober kell 21:25",84,52,"Uued keycapsid!","https://ptpimg.me/y8v9a5.png","https://ptpimg.me/8n699g.jpg",!0]]}toggleLike(t){!0===this.allPosts[t][7]?(this.allPosts[t][7]=!1,this.allPosts[t][2]-=1):(this.allPosts[t][7]=!0,this.allPosts[t][2]+=1)}postComment(t){this.allPosts[t][3]+=1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-post"]],decls:7,vars:3,consts:[["src",""],[1,"mainText"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],[1,"icons",2,"float","left",3,"src","click"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&(ut(0,"img",0),V(1,"h1",1),ae(2),$(),V(3,"h3",2),ae(4),$(),V(5,"ul"),At(6,koe,22,11,"div",3),$()),2&i&&(Le(2),Ld("Currently logged in as: ",r.username,""),Le(2),Ld("Total posts on the backend: ",r.totalPosts,""),Le(2),rt("ngForOf",r.allPosts))},dependencies:[$N],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),Roe=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(N(XC),N(Kj))};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-home"]],decls:5,vars:1,consts:[[1,"center-container"],[1,"center-element"],[3,"routerLink","click"]],template:function(i,r){1&i&&(V(0,"div",0)(1,"div",1)(2,"button",2),mt("click",function(){return r.logout()}),ae(3," PREMIUM Sign out Button!"),$(),ut(4,"app-post"),$()()),2&i&&(Le(2),rt("routerLink",""))},dependencies:[Fl,Moe],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();function Poe(n,e){1&n&&(V(0,"p",18),ae(1,"Check your email"),$())}function Noe(n,e){1&n&&(V(0,"p",18),ae(1,"Check your password"),$())}function Ooe(n,e){if(1&n){const t=Za();V(0,"div",8)(1,"div",9)(2,"h1"),ae(3,"Log in"),$(),V(4,"input",10),mt("ngModelChange",function(r){return Ht(t),qt(dt().email=r)})("keyup.enter",function(){return Ht(t),qt(Lo(9).focus())}),$(),At(5,Poe,2,0,"p",11),V(6,"h1"),ae(7,"Enter password"),$(),V(8,"input",12,13),mt("ngModelChange",function(r){return Ht(t),qt(dt().password=r)})("keyup.enter",function(){return Ht(t),qt(dt().login())}),$(),At(10,Noe,2,0,"p",11),V(11,"div",14)(12,"div")(13,"a",15),mt("click",function(){return Ht(t),qt(dt().isPage="forgot")}),ae(14,"Forgot password?"),$()(),V(15,"span",16),ae(16,"Don't have an account? "),V(17,"a",15),mt("click",function(){return Ht(t),qt(dt().isPage="register")}),ae(18,"Sign up here"),$()()(),V(19,"button",17),mt("click",function(){return Ht(t),qt(dt().login())}),V(20,"span"),ae(21,"Sign in"),$(),ut(22,"i"),$()()()}if(2&n){const t=dt();Le(4),rt("ngModel",t.email),Le(1),rt("ngIf",t.loginFailed),Le(3),rt("ngModel",t.password),Le(2),rt("ngIf",t.loginFailed)}}function Foe(n,e){if(1&n){const t=Za();V(0,"div",8)(1,"div",9)(2,"h1"),ae(3,"Register"),$(),V(4,"input",19),mt("ngModelChange",function(r){return Ht(t),qt(dt().displayName=r)})("keyup.enter",function(){return Ht(t),qt(Lo(8).focus())}),$(),V(5,"h1"),ae(6,"Email"),$(),V(7,"input",20,21),mt("ngModelChange",function(r){return Ht(t),qt(dt().email=r)})("keyup.enter",function(){return Ht(t),qt(Lo(12).focus())}),$(),V(9,"h1"),ae(10,"Enter password"),$(),V(11,"input",22,13),mt("ngModelChange",function(r){return Ht(t),qt(dt().password=r)})("keyup.enter",function(){return Ht(t),qt(dt().register())}),$(),V(13,"div",14)(14,"div")(15,"a",15),mt("click",function(){return Ht(t),qt(dt().isPage="forgot")}),ae(16,"Forgot password?"),$()(),V(17,"span",16),ae(18,"Have an account? "),V(19,"a",15),mt("click",function(){return Ht(t),qt(dt().isPage="login")}),ae(20,"Sign in here"),$()()(),V(21,"button",23),mt("click",function(){return Ht(t),qt(dt().register())}),V(22,"span"),ae(23,"Sign up"),$(),ut(24,"i"),$()()()}if(2&n){const t=dt();Le(4),rt("ngModel",t.displayName),Le(3),rt("ngModel",t.email),Le(4),rt("ngModel",t.password)}}function Loe(n,e){if(1&n){const t=Za();V(0,"div",8)(1,"div",9)(2,"h1"),ae(3,"Enter email"),$(),V(4,"input",24,13),mt("ngModelChange",function(r){return Ht(t),qt(dt().email=r)})("keyup.enter",function(){return Ht(t),qt(dt().register())}),$(),V(6,"div",14)(7,"span",16),ae(8,"Oops still remember? "),V(9,"a",15),mt("click",function(){return Ht(t),qt(dt().isPage="login")}),ae(10,"Sign in here"),$()()(),V(11,"button",25),mt("click",function(){return Ht(t),qt(dt().forgot())}),V(12,"span"),ae(13,"Send verification"),$(),ut(14,"i"),$()()()}if(2&n){const t=dt();Le(4),rt("ngModel",t.email)}}let Voe=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(N(Kj),N(_r),N(XC))};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"container"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(V(0,"html")(1,"head"),ut(2,"meta",0),$(),V(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),ae(8,"Earn2Post"),$()(),V(9,"div",5),ut(10,"img",6),$()(),At(11,Ooe,23,4,"div",7),At(12,Foe,25,3,"div",7),At(13,Loe,15,1,"div",7),$()()()),2&i&&(Le(11),rt("ngIf","login"===r.isPage),Le(1),rt("ngIf","register"===r.isPage),Le(1),rt("ngIf","forgot"===r.isPage))},dependencies:[ec,qy,JF,RC],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.926dafe5cf3fb7c6.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}']})}return n})(),Boe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(V(0,"h1"),ae(1,"You're logged in as an admin"),$(),V(2,"button",0),ae(3," Sign out"),$()),2&i&&(Le(2),rt("routerLink",""))},dependencies:[Fl]})}return n})();let Qj=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.debuxValue=0,this.debuxChangesQueue=[],this.saveInterval=6e4,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}addDebux(t){this.debuxChangesQueue=[t],this.debuxValue=t}startAutosave(){jC(0,this.saveInterval).pipe(yt(()=>this.autosave()),function joe(n,e=sh,t){const i=jC(n,e);return function Uoe(n,e){return q((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,u=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),u&&i.complete())},p=()=>{c=null,u&&i.complete()},g=b=>c=bn(n(b)).subscribe(fe(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!u&&g(b)}};t.subscribe(fe(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{u=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){if(this.user&&this.debuxChangesQueue.length>0){const t=this.debuxChangesQueue.reduce((i,r)=>i+r,0);return console.log("this is the changed amount"+t),D(this.db.doc(`User/${this.user.uid}`).update({Debux:t})).pipe(ge(()=>{this.debuxChangesQueue=[]}))}return W(void 0)}getDebux(){return this.authState$.pipe(yt(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(ge(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),W(void 0))))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Hw),z(mh))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zoe(n,e){if(1&n&&(V(0,"p",22),ae(1),$()),2&n){const t=dt();Le(1),Ld("DeBux: ",t.debux,"")}}function $oe(n,e){1&n&&(V(0,"p",23),ae(1,"Loading Debuxes"),$())}function Hoe(n,e){if(1&n&&(V(0,"div",24)(1,"p"),ae(2," Logged in as: "),V(3,"span",25),ae(4),$()()()),2&n){const t=dt();Le(4),Qa(t.service.user.displayName)}}let qoe=(()=>{class n{constructor(t){this.service=t,this.debux=0,this.loading=!1}ngOnInit(){this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().subscribe(i=>{this.debux=i||0,this.loading=!1}))})}addDebux(){this.debux=this.debux+1,this.service.addDebux(this.debux)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Qj))};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-clicker"]],outputs:{debux:"debux"},decls:119,vars:3,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[1,"box"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],[1,"box3"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"]],template:function(i,r){1&i&&(V(0,"div",0)(1,"div",1),At(2,zoe,2,1,"p",2),At(3,$oe,2,0,"p",3),$(),V(4,"div",4)(5,"button",5),mt("click",function(){return r.addDebux()}),$()(),At(6,Hoe,5,1,"div",6),$(),V(7,"div",7)(8,"div",8)(9,"H1"),ae(10,"Upgrades"),$()(),V(11,"div",9)(12,"div",10)(13,"div",11),ut(14,"img",12),V(15,"div")(16,"p"),ae(17,"Processing Power"),$(),V(18,"h4"),ae(19,"Per/Sec"),$()()(),V(20,"div",13)(21,"div",14)(22,"p"),ae(23,"Multithreading"),$(),V(24,"h4"),ae(25,"Increase processing power by utilizing multiple threads."),$()(),V(26,"div",14)(27,"p"),ae(28,"Optimization Algorithms"),$(),V(29,"h4"),ae(30,"Enhance efficiency through advanced code optimization techniques."),$()(),V(31,"div",14)(32,"p"),ae(33,"Parallel Processing"),$(),V(34,"h4"),ae(35,"Enable simultaneous execution for faster processing."),$()(),V(36,"div",14)(37,"p"),ae(38,"Overclocking"),$(),V(39,"h4"),ae(40,"Push the CPU to run faster, boosting processing power."),$()(),V(41,"div",14)(42,"p"),ae(43,"Hardware Upgrades"),$(),V(44,"h4"),ae(45,"Install better processors or RAM to increase overall performance."),$()(),V(46,"div",14)(47,"p"),ae(48,"Cooling Systems"),$(),V(49,"h4"),ae(50,"Optimize cooling mechanisms to sustain higher processing speeds."),$()()()(),V(51,"div",15)(52,"div",16),ut(53,"img",17),V(54,"div")(55,"p"),ae(56,"Click Impact"),$(),V(57,"h4"),ae(58,"Per/Click"),$()()(),V(59,"div",18)(60,"div",14)(61,"p"),ae(62,"Syntax Highlighting"),$(),V(63,"h4"),ae(64,"Boost click effectiveness with highlighted code segments."),$()(),V(65,"div",14)(66,"p"),ae(67,"Code Formatting"),$(),V(68,"h4"),ae(69,"Improve the appearance of code to enhance click impact."),$()(),V(70,"div",14)(71,"p"),ae(72,"Auto-Completion"),$(),V(73,"h4"),ae(74,"Increase code suggestion accuracy to amplify your clicks."),$()(),V(75,"div",14)(76,"p"),ae(77,"GUI Enhancements"),$(),V(78,"h4"),ae(79,"Upgrade the interface for a more responsive and impactful clicking experience."),$()(),V(80,"div",14)(81,"p"),ae(82,"Mouse Acceleration"),$(),V(83,"h4"),ae(84,"Improve click effectiveness by enhancing mouse sensitivity."),$()()()(),V(85,"div",19)(86,"div",11),ut(87,"img",20),V(88,"div")(89,"p"),ae(90,"Advanced Algorithms"),$(),V(91,"h4"),ae(92,"Specials"),$()()(),V(93,"div",13)(94,"div",21)(95,"p"),ae(96,"ChatGPT Evolution"),$(),V(97,"h4"),ae(98,"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."),$()(),V(99,"div",21)(100,"p"),ae(101,"Automated Testing"),$(),V(102,"h4"),ae(103,"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."),$()(),V(104,"div",21)(105,"p"),ae(106,"Code Refactoring AI"),$(),V(107,"h4"),ae(108,"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."),$()(),V(109,"div",21)(110,"p"),ae(111,"Codebase Analysis"),$(),V(112,"h4"),ae(113,"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."),$()(),V(114,"div",21)(115,"p"),ae(116,"Tabnine"),$(),V(117,"h4"),ae(118,"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."),$()()()()()()),2&i&&(Le(2),rt("ngIf",!r.loading),Le(1),rt("ngIf",r.loading),Le(3),rt("ngIf",r.service.user))},dependencies:[ec],styles:[".top[_ngcontent-%COMP%]{margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:600px;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%], .box3[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-radius:30px;width:480px;margin-top:30px;padding-left:20px;cursor:pointer}.box[_ngcontent-%COMP%]{height:10%}.box3[_ngcontent-%COMP%]{height:15%}.box[_ngcontent-%COMP%]:hover, .box3[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .box3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.loading-text[_ngcontent-%COMP%]{color:#b7514c}"]})}return n})();function Goe(n,e){1&n&&(V(0,"h3"),ae(1,"<"),V(2,"span",9),ae(3,"Loading"),$(),ae(4,"> DB"),$())}function Woe(n,e){if(1&n&&(V(0,"h3"),ae(1,"<"),V(2,"span",10),ae(3),$(),ae(4,"> DB"),$()),2&n){const t=dt();Le(3),Qa(t.debux)}}let Zoe=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(N(Qj))};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(V(0,"div",0)(1,"div",1),ut(2,"img",2),V(3,"h2"),ae(4,"Your credit"),$()(),V(5,"div",3)(6,"p"),ae(7,"Current"),$(),V(8,"div",4),At(9,Goe,5,0,"h3",5),At(10,Woe,5,1,"h3",5),$()(),V(11,"div",3)(12,"p"),ae(13,"Per second:"),$(),V(14,"div",6)(15,"h3"),ae(16,"+40 DB/s"),$()()(),V(17,"div",7),ut(18,"img",8),$()()),2&i&&(Le(9),rt("ngIf",r.loading),Le(1),rt("ngIf",!r.loading))},dependencies:[ec],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})();const Koe=[{path:"",component:Voe},{path:"home",component:Roe},{path:"admin",component:Boe},{path:"clicker",component:qoe},{path:"profile",component:(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(N(Hw),N(mh))};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(V(0,"html")(1,"head"),ut(2,"meta",0),$(),V(3,"body")(4,"div",1)(5,"div",2),ut(6,"app-credit-box"),V(7,"a",3),ut(8,"img",4),$()(),V(9,"div",5)(10,"div",6)(11,"div",7),ut(12,"img",8),$(),V(13,"div",9)(14,"h2"),ae(15),$(),V(16,"p",10),ae(17,"50 Followers"),$(),V(18,"div",11)(19,"p"),ae(20,"30 Following"),$(),V(21,"p"),ae(22,"13 Friends"),$()()(),V(23,"div",12),ut(24,"img",13),$()(),V(25,"div",14),ut(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),$()(),V(34,"div",23)(35,"h2"),ae(36,"Here is friends list"),$(),V(37,"div",24),ut(38,"img",25),V(39,"h2"),ae(40,"Add friends"),$()()()()()()),2&i&&(Le(15),Qa(null==r.user?null:r.user.displayName))},dependencies:[Fl,Zoe],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})()}];let Qoe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[CF.forRoot(Koe),CF]})}return n})(),Yoe=(()=>{class n{constructor(t){this.router=t,this.visible=!1,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(N(_r))};static#t=this.\u0275cmp=sn({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(V(0,"app-header"),ut(1,"router-outlet"),$())},dependencies:[dC,XC],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"]})}return n})();function Yj(n){return new P(3e3,!1)}function Mc(n){switch(n.length){case 0:return new Ip;case 1:return n[0];default:return new g2(n)}}function Xj(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const u=c.get("offset"),h=u==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case sa:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=u}),r.length)throw function bse(n){return new P(3502,!1)}();return o}function sS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&aS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&aS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&aS(t,"destroy",n)))}}function aS(n,e,t){const o=cS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function cS(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Qr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Jj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Rse=(()=>typeof document>"u"?null:document.documentElement)();function lS(n){const e=n.parentNode||n.host||null;return e===Rse?null:e}let mu=null,e3=!1;function t3(n,e){for(;e;){if(e===n)return!0;e=lS(e)}return!1}function n3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let r3=(()=>{class n{validateStyleProperty(t){return function Nse(n){mu||(mu=function Ose(){return typeof document<"u"?document.body:null}()||{},e3=!!mu.style&&"WebkitAppearance"in mu.style);let e=!0;return mu.style&&!function Pse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in mu.style,!e&&e3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return t3(t,i)}getParentElement(t){return lS(t)}query(t,i,r){return n3(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Ip(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),uS=(()=>{class n{static#e=this.NOOP=new r3}return n})();const Fse=1e3,dS="ng-enter",qw="ng-leave",Gw="ng-trigger",Ww=".ng-trigger",s3="ng-animating",hS=".ng-animating";function va(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fS(parseFloat(e[1]),e[2])}function fS(n,e){return"s"===e?n*Fse:n}function Zw(n,e,t){return n.hasOwnProperty("duration")?n:function Vse(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Yj()),{duration:0,delay:0,easing:""};r=fS(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=fS(parseFloat(c),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Xoe(){return new P(3100,!1)}()),a=!0),o<0&&(e.push(function Joe(){return new P(3101,!1)}()),a=!0),a&&e.splice(c,0,Yj())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Fg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function a3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Rc(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Os(n,e,t){e.forEach((i,r)=>{const o=pS(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function pu(n,e){e.forEach((t,i)=>{const r=pS(i);n.style[r]=""})}function Lg(n){return Array.isArray(n)?1==n.length?n[0]:f2(n):n}const mS=new RegExp("{{\\s*(.+?)\\s*}}","g");function l3(n){let e=[];if("string"==typeof n){let t;for(;t=mS.exec(n);)e.push(t[1]);mS.lastIndex=0}return e}function Vg(n,e,t){const i=n.toString(),r=i.replace(mS,(o,s)=>{let a=e[s];return null==a&&(t.push(function tse(n){return new P(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Kw(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const jse=/-+([a-z0-9])/g;function pS(n){return n.replace(jse,(...e)=>e[1].toUpperCase())}function Yr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function nse(n){return new P(3004,!1)}()}}function u3(n,e){return window.getComputedStyle(n)[e]}const Qw="*";function Hse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function qse(n,e,t){if(":"==n[0]){const c=function Gse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function gse(n){return new P(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function pse(n){return new P(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(d3(r,s));"<"==o[0]&&!(r==Qw&&s==Qw)&&e.push(d3(s,r))}(i,t,e)):t.push(n),t}const Yw=new Set(["true","1"]),Xw=new Set(["false","0"]);function d3(n,e){const t=Yw.has(n)||Xw.has(n),i=Yw.has(e)||Xw.has(e);return(r,o)=>{let s=n==Qw||n==r,a=e==Qw||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Yw.has(n):Xw.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Yw.has(e):Xw.has(e)),s&&a}}const Wse=new RegExp("s*:selfs*,?","g");function gS(n,e,t,i){return new Zse(n).build(e,t,i)}class Zse{constructor(e){this._driver=e}build(e,t,i){const r=new Yse(t);return this._resetContextStyleTimingState(r),Yr(this,Lg(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function rse(){return new P(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function ose(){return new P(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{l3(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&(Kw(o.values()),t.errors.push(function sse(n,e){return new P(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Yr(this,Lg(e.animation),t);return{type:1,matchers:Hse(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:gu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Yr(this,i,t)),options:gu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Yr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:gu(e.options)}}visitAnimate(e,t){const i=function Jse(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return _S(Zw(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=_S(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Zw(t,e);return _S(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:mb({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=mb(u)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===sa?i.push(a):t.errors.push(new P(3002,!1)):i.push(a3(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function cse(n,e,t,i,r){return new P(3010,!1)}()),p=!1),o=h.startTime),p&&u.set(c,{startTime:o,endTime:r}),t.options&&function Use(n,e,t){const i=e.params||{},r=l3(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function ese(n){return new P(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function lse(){return new P(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,u=0;const h=e.steps.map(M=>{const A=this._makeStyleAst(M,t);let L=null!=A.offset?A.offset:function Xse(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(A.styles),Y=0;return null!=L&&(o++,Y=A.offset=L),c=c||Y<0||Y>1,a=a||Y<u,u=Y,s.push(Y),A});c&&t.errors.push(function use(){return new P(3012,!1)}()),a&&t.errors.push(function dse(){return new P(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function hse(){return new P(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,I=w.duration;return h.forEach((M,A)=>{const L=g>0?A==v?1:g*A:s[A],Y=L*I;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(M,t),M.offset=L,i.styles.push(M)}),i}visitReference(e,t){return{type:8,animation:Yr(this,Lg(e.animation),t),options:gu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:gu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:gu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Kse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Wse,"")),n=n.replace(/@\*/g,Ww).replace(/@\w+/g,t=>Ww+"-"+t.slice(1)).replace(/:animating/g,hS),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Qr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Yr(this,Lg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:gu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function fse(){return new P(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Zw(e.timings,t.errors,!0);return{type:12,animation:Yr(this,Lg(e.animation),t),timings:i,options:null}}}class Yse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gu(n){return n?(n=Fg(n)).params&&(n.params=function Qse(n){return n?Fg(n):null}(n.params)):n={},n}function _S(n,e,t){return{duration:n,delay:e,easing:t}}function vS(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Jw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const nae=new RegExp(":enter","g"),rae=new RegExp(":leave","g");function yS(n,e,t,i,r,o=new Map,s=new Map,a,c,u=[]){return(new oae).buildKeyframes(n,e,t,i,r,o,s,a,c,u)}class oae{buildKeyframes(e,t,i,r,o,s,a,c,u,h=[]){u=u||new Jw;const p=new bS(e,t,u,r,o,h,[]);p.options=c;const g=c.delay?va(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),Yr(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const I=v[w];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[vS(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:va(Vg(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?va(i.duration):null,a=null!=i.delay?va(i.delay):null;return 0!==s&&e.forEach(c=>{const u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Yr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=e0);const s=va(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Yr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?va(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Yr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Zw(t.params?Vg(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?va(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=e0);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,u);o&&p.delayNextStep(o),u===t.element&&(c=p.currentTimeline),Yr(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;Yr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const e0={};class bS{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=e0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new t0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=va(i.duration)),null!=i.delay&&(r.delay=va(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Vg(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new bS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=e0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new sae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(nae,"."+this._enterClassName)).replace(rae,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function mse(n){return new P(3014,!1)}()),a}}class t0{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new t0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||sa),this._currentKeyframe.set(t,sa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function aae(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,sa)}else Rc(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const u=Vg(c,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??sa),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const u=Rc(a,new Map,this._backFill);u.forEach((h,p)=>{"!"===h?e.add(p):h===sa&&t.add(p)}),i||u.set("offset",c/this.duration),r.push(u)});const o=e.size?Kw(e.values()):[],s=t.size?Kw(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return vS(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class sae extends t0{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=Rc(e[0]);c.set("offset",0),o.push(c);const u=Rc(e[0]);u.set("offset",m3(a)),o.push(u);const h=e.length-1;for(let p=1;p<=h;p++){let g=Rc(e[p]);const v=g.get("offset");g.set("offset",m3((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return vS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function m3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wS{}const cae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class lae extends wS{normalizePropertyName(e,t){return pS(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(cae.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function ise(n,e){return new P(3005,!1)}())}return s+o}}function p3(n,e,t,i,r,o,s,a,c,u,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:h,totalTime:p,errors:g}}const ES={};class g3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function uae(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,u,h){const p=[],g=this.ast.options&&this.ast.options.params||ES,b=this.buildStyles(i,a&&a.params||ES,p),w=c&&c.params||ES,I=this.buildStyles(r,w,p),M=new Set,A=new Map,L=new Map,Y="void"===r,le={params:dae(w,g),delay:this.ast.options?.delay},De=h?[]:yS(e,t,this.ast.animation,o,s,b,I,le,u,p);let He=0;if(De.forEach(Ir=>{He=Math.max(Ir.duration+Ir.delay,He)}),p.length)return p3(t,this._triggerName,i,r,Y,b,I,[],[],A,L,He,p);De.forEach(Ir=>{const Or=Ir.element,h0=Qr(A,Or,new Set);Ir.preStyleProps.forEach(yu=>h0.add(yu));const $g=Qr(L,Or,new Set);Ir.postStyleProps.forEach(yu=>$g.add(yu)),Or!==t&&M.add(Or)});const Wt=Kw(M.values());return p3(t,this._triggerName,i,r,Y,b,I,De,Wt,A,L,He)}}function dae(n,e){const t=Fg(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class hae{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Fg(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Vg(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class mae{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new hae(r.style,r.options&&r.options.params||{},i))}),_3(this.states,"true","1"),_3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new g3(e,r,this.states))}),this.fallbackTransition=function pae(n,e,t){return new g3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function _3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const gae=new Jw;class _ae{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=gS(this._driver,t,i,[]);if(i.length)throw function wse(n){return new P(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=Xj(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=yS(this._driver,t,o,dS,qw,new Map,new Map,i,gae,r),s.forEach(h=>{const p=Qr(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function Ese(){return new P(3300,!1)}()),s=[]),r.length)throw function Ise(n){return new P(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,sa))})});const u=Mc(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function xse(n){return new P(3301,!1)}();return t}listen(e,t,i,r){const o=cS(t,"","","");return sS(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const v3="ng-animate-queued",IS="ng-animate-disabled",Eae=[],y3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zo="__ng_removed";class xS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Dae(n){return n??null}(i?e.value:e),i){const o=Fg(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Bg="void",CS=new xS(Bg);class xae{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Io(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Cse(n,e){return new P(3302,!1)}();if(null==i||0==i.length)throw function Tse(n){return new P(3303,!1)}();if(!function Aae(n){return"start"==n||"done"==n}(i))throw function Dse(n,e){return new P(3400,!1)}();const o=Qr(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Qr(this._engine.statesByElement,e,new Map);return a.has(t)||(Io(e,Gw),Io(e,Gw+"-"+t),a.set(t,CS)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ase(n){return new P(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new TS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Io(e,Gw),Io(e,Gw+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const u=new xS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=CS),u.value!==Bg&&c.value===u.value){if(!function Mae(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,u.params)){const w=[],I=o.matchStyles(c.value,c.params,w),M=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{pu(e,I),Os(e,M)})}return}const g=Qr(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,u.value,e,u.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:u,player:s,isFallbackTransition:b}),b||(Io(e,v3),s.onStart(()=>{sf(e,v3)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const I=this._engine.playersByElement.get(e);if(I){let M=I.indexOf(s);M>=0&&I.splice(M,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Ww,!0);i.forEach(r=>{if(r[Zo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){const h=this.trigger(e,u,Bg,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Mc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,u=i.get(s)||CS,h=new xS(Bg),p=new TS(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Zo];(!o||o===y3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Io(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=cS(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,sS(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Cae{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new xae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const u=i.indexOf(c);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(n0(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!n0(t))return;const o=t[Zo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Io(e,IS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sf(e,IS))}removeNode(e,t,i){if(n0(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Zo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return n0(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Ww,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,hS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Zo];if(t&&t.setForRemoval){if(e[Zo]=y3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(IS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Io(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Mc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Sse(n){return new P(3402,!1)}()}_flushAnimations(e,t){const i=new Jw,r=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Ae=>{h.add(Ae);const Pe=this.driver.query(Ae,".ng-animate-queued",!0);for(let Ue=0;Ue<Pe.length;Ue++)h.add(Pe[Ue])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=E3(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((Ae,Pe)=>{const Ue=dS+w++;b.set(Pe,Ue),Ae.forEach(Dt=>Io(Dt,Ue))});const I=[],M=new Set,A=new Set;for(let Ae=0;Ae<this.collectedLeaveElements.length;Ae++){const Pe=this.collectedLeaveElements[Ae],Ue=Pe[Zo];Ue&&Ue.setForRemoval&&(I.push(Pe),M.add(Pe),Ue.hasAnimation?this.driver.query(Pe,".ng-star-inserted",!0).forEach(Dt=>M.add(Dt)):A.add(Pe))}const L=new Map,Y=E3(g,Array.from(M));Y.forEach((Ae,Pe)=>{const Ue=qw+w++;L.set(Pe,Ue),Ae.forEach(Dt=>Io(Dt,Ue))}),e.push(()=>{v.forEach((Ae,Pe)=>{const Ue=b.get(Pe);Ae.forEach(Dt=>sf(Dt,Ue))}),Y.forEach((Ae,Pe)=>{const Ue=L.get(Pe);Ae.forEach(Dt=>sf(Dt,Ue))}),I.forEach(Ae=>{this.processLeaveNode(Ae)})});const le=[],De=[];for(let Ae=this._namespaceList.length-1;Ae>=0;Ae--)this._namespaceList[Ae].drainQueuedTransitions(t).forEach(Ue=>{const Dt=Ue.player,Ii=Ue.element;if(le.push(Dt),this.collectedEnterElements.length){const er=Ii[Zo];if(er&&er.setForMove){if(er.previousTriggersValues&&er.previousTriggersValues.has(Ue.triggerName)){const bu=er.previousTriggersValues.get(Ue.triggerName),xo=this.statesByElement.get(Ue.element);if(xo&&xo.has(Ue.triggerName)){const f0=xo.get(Ue.triggerName);f0.value=bu,xo.set(Ue.triggerName,f0)}}return void Dt.destroy()}}const Ls=!p||!this.driver.containsElement(p,Ii),Xr=L.get(Ii),Oc=b.get(Ii),Sn=this._buildInstruction(Ue,i,Oc,Xr,Ls);if(Sn.errors&&Sn.errors.length)return void De.push(Sn);if(Ls)return Dt.onStart(()=>pu(Ii,Sn.fromStyles)),Dt.onDestroy(()=>Os(Ii,Sn.toStyles)),void r.push(Dt);if(Ue.isFallbackTransition)return Dt.onStart(()=>pu(Ii,Sn.fromStyles)),Dt.onDestroy(()=>Os(Ii,Sn.toStyles)),void r.push(Dt);const J3=[];Sn.timelines.forEach(er=>{er.stretchStartingKeyframe=!0,this.disabledNodes.has(er.element)||J3.push(er)}),Sn.timelines=J3,i.append(Ii,Sn.timelines),s.push({instruction:Sn,player:Dt,element:Ii}),Sn.queriedElements.forEach(er=>Qr(a,er,[]).push(Dt)),Sn.preStyleProps.forEach((er,bu)=>{if(er.size){let xo=c.get(bu);xo||c.set(bu,xo=new Set),er.forEach((f0,OS)=>xo.add(OS))}}),Sn.postStyleProps.forEach((er,bu)=>{let xo=u.get(bu);xo||u.set(bu,xo=new Set),er.forEach((f0,OS)=>xo.add(OS))})});if(De.length){const Ae=[];De.forEach(Pe=>{Ae.push(function kse(n,e){return new P(3505,!1)}())}),le.forEach(Pe=>Pe.destroy()),this.reportError(Ae)}const He=new Map,Wt=new Map;s.forEach(Ae=>{const Pe=Ae.element;i.has(Pe)&&(Wt.set(Pe,Pe),this._beforeAnimationBuild(Ae.player.namespaceId,Ae.instruction,He))}),r.forEach(Ae=>{const Pe=Ae.element;this._getPreviousPlayers(Pe,!1,Ae.namespaceId,Ae.triggerName,null).forEach(Dt=>{Qr(He,Pe,[]).push(Dt),Dt.destroy()})});const Ir=I.filter(Ae=>x3(Ae,c,u)),Or=new Map;w3(Or,this.driver,A,u,sa).forEach(Ae=>{x3(Ae,c,u)&&Ir.push(Ae)});const $g=new Map;v.forEach((Ae,Pe)=>{w3($g,this.driver,new Set(Ae),c,"!")}),Ir.forEach(Ae=>{const Pe=Or.get(Ae),Ue=$g.get(Ae);Or.set(Ae,new Map([...Pe?.entries()??[],...Ue?.entries()??[]]))});const yu=[],Y3=[],X3={};s.forEach(Ae=>{const{element:Pe,player:Ue,instruction:Dt}=Ae;if(i.has(Pe)){if(h.has(Pe))return Ue.onDestroy(()=>Os(Pe,Dt.toStyles)),Ue.disabled=!0,Ue.overrideTotalTime(Dt.totalTime),void r.push(Ue);let Ii=X3;if(Wt.size>1){let Xr=Pe;const Oc=[];for(;Xr=Xr.parentNode;){const Sn=Wt.get(Xr);if(Sn){Ii=Sn;break}Oc.push(Xr)}Oc.forEach(Sn=>Wt.set(Sn,Ii))}const Ls=this._buildAnimation(Ue.namespaceId,Dt,He,o,$g,Or);if(Ue.setRealPlayer(Ls),Ii===X3)yu.push(Ue);else{const Xr=this.playersByElement.get(Ii);Xr&&Xr.length&&(Ue.parentPlayer=Mc(Xr)),r.push(Ue)}}else pu(Pe,Dt.fromStyles),Ue.onDestroy(()=>Os(Pe,Dt.toStyles)),Y3.push(Ue),h.has(Pe)&&r.push(Ue)}),Y3.forEach(Ae=>{const Pe=o.get(Ae.element);if(Pe&&Pe.length){const Ue=Mc(Pe);Ae.setRealPlayer(Ue)}}),r.forEach(Ae=>{Ae.parentPlayer?Ae.syncPlayerEvents(Ae.parentPlayer):Ae.destroy()});for(let Ae=0;Ae<I.length;Ae++){const Pe=I[Ae],Ue=Pe[Zo];if(sf(Pe,qw),Ue&&Ue.hasAnimation)continue;let Dt=[];if(a.size){let Ls=a.get(Pe);Ls&&Ls.length&&Dt.push(...Ls);let Xr=this.driver.query(Pe,hS,!0);for(let Oc=0;Oc<Xr.length;Oc++){let Sn=a.get(Xr[Oc]);Sn&&Sn.length&&Dt.push(...Sn)}}const Ii=Dt.filter(Ls=>!Ls.destroyed);Ii.length?Sae(this,Pe,Ii):this.processLeaveNode(Pe)}return I.length=0,yu.forEach(Ae=>{this.players.push(Ae),Ae.onDone(()=>{Ae.destroy();const Pe=this.players.indexOf(Ae);this.players.splice(Pe,1)}),Ae.play()}),yu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==Bg;a.forEach(u=>{u.queued||!c&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const u=c.element,h=u!==o,p=Qr(i,u,[]);this._getPreviousPlayers(u,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}pu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,u=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const I=w[Zo];if(I&&I.removedBeforeQueried)return new Ip(b.duration,b.delay);const M=w!==c,A=function kae(n){const e=[];return I3(n,e),e}((i.get(w)||Eae).map(He=>He.getRealPlayer())).filter(He=>!!He.element&&He.element===w),L=o.get(w),Y=s.get(w),le=Xj(this._normalizer,b.keyframes,L,Y),De=this._buildPlayer(b,le,A);if(b.subTimeline&&r&&p.add(w),M){const He=new TS(e,a,w);He.setRealPlayer(De),u.push(He)}return De});u.forEach(b=>{Qr(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Tae(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Io(b,s3));const v=Mc(g);return v.onDestroy(()=>{h.forEach(b=>sf(b,s3)),Os(c,t.toStyles)}),p.forEach(b=>{Qr(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ip(e.duration,e.delay)}}class TS{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ip,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>sS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Qr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function n0(n){return n&&1===n.nodeType}function b3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function w3(n,e,t,i,r){const o=[];t.forEach(c=>o.push(b3(c)));const s=[];i.forEach((c,u)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(u,p,r);h.set(p,g),(!g||0==g.length)&&(u[Zo]=Iae,s.push(u))}),n.set(u,h)});let a=0;return t.forEach(c=>b3(c,o[a++])),s}function E3(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const u=a.parentNode;return c=t.has(u)?u:r.has(u)?1:s(u),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Io(n,e){n.classList?.add(e)}function sf(n,e){n.classList?.remove(e)}function Sae(n,e,t){Mc(t).onDone(()=>n.processLeaveNode(e))}function I3(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof g2?I3(i.players,e):e.push(i)}}function x3(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class r0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Cae(e,t,i),this._timelineEngine=new _ae(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=gS(this._driver,o,c,[]);if(c.length)throw function yse(n,e){return new P(3404,!1)}();a=function fae(n,e,t){return new mae(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=Jj(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Jj(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Pae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Os(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Os(this._element,this._initialStyles),this._endStyles&&(Os(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pu(this._element,this._endStyles),this._endStyles=null),Os(this._element,this._initialStyles),this._state=3)}}return n})();function DS(n){let e=null;return n.forEach((t,i)=>{(function Nae(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class C3{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:u3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Oae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return t3(e,t)}getParentElement(e){return lS(e)}query(e,t,i){return n3(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const u=new Map,h=s.filter(v=>v instanceof C3);(function zse(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>u.set(w,b))});let p=function Bse(n){return n.length?n[0]instanceof Map?n:n.map(e=>a3(e)):[]}(t).map(v=>Rc(v));p=function $se(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,u3(n,a)))}}return e}(e,p,u);const g=function Rae(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=DS(e[0]),e.length>1&&(i=DS(e[e.length-1]))):e instanceof Map&&(t=DS(e)),t||i?new Pae(n,t,i):null}(e,p);return new C3(e,p,c,g)}}let Fae=(()=>{class n extends d2{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:or.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?f2(t):t;return T3(this._renderer,null,i,"register",[r]),new Lae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(z(xm),z(Ft))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class Lae extends xX{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Vae(this._id,e,t||{},this._renderer)}}class Vae{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return T3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function T3(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const D3="@.disabled";let Bae=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new A3("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(c),new Uae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(z(xm),z(r0),z(ze))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class A3{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==D3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Uae extends A3{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==D3?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function jae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function zae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let $ae=(()=>{class n extends r0{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ft),z(uS),z(wS),z(kl))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const S3=[{provide:d2,useClass:Fae},{provide:wS,useFactory:function Hae(){return new lae}},{provide:r0,useClass:$ae},{provide:xm,useFactory:function qae(n,e,t){return new Bae(n,e,t)},deps:[Hx,r0,ze]}],AS=[{provide:uS,useFactory:()=>new Oae},{provide:yd,useValue:"BrowserAnimations"},...S3],k3=[{provide:uS,useClass:r3},{provide:yd,useValue:"NoopAnimations"},...S3];let Gae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?k3:AS}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({providers:AS,imports:[fO]})}return n})(),Kae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[Mr,u2,Mr]})}return n})();class s0{}class a0{}class Fs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Fs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Fs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Fs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Qae{encodeKey(e){return M3(e)}encodeValue(e){return M3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Xae=/%(\d[a-f0-9])/gi,Jae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M3(n){return encodeURIComponent(n).replace(Xae,(e,t)=>Jae[t]??e)}function c0(n){return`${n}`}class Pc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qae,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Yae(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(c0):[c0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(c0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(c0(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ece{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function R3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function P3(n){return typeof Blob<"u"&&n instanceof Blob}function N3(n){return typeof FormData<"u"&&n instanceof FormData}class Ug{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Fs),this.context||(this.context=new ece),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Pc,this.urlWithParams=t}serializeBody(){return null===this.body?null:R3(this.body)||P3(this.body)||N3(this.body)||function nce(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||N3(this.body)?null:P3(this.body)?this.body.type||null:R3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),u)),new Ug(t,i,o,{params:u,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var af=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(af||{});class SS{constructor(e,t=200,i="OK"){this.headers=e.headers||new Fs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kS extends SS{constructor(e={}){super(e),this.type=af.ResponseHeader}clone(e={}){return new kS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cf extends SS{constructor(e={}){super(e),this.type=af.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class O3 extends SS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function MS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let RS=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Ug)o=t;else{let c,u;c=r.headers instanceof Fs?r.headers:new Fs(r.headers),r.params&&(u=r.params instanceof Pc?r.params:new Pc({fromObject:r.params})),o=new Ug(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=W(o).pipe(Wd(c=>this.handler.handle(c)));if(t instanceof Ug||"events"===r.observe)return s;const a=s.pipe(Bn(c=>c instanceof cf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ge(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ge(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ge(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ge(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Pc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,MS(r,i))}post(t,i,r={}){return this.request("POST",t,MS(r,i))}put(t,i,r={}){return this.request("PUT",t,MS(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(z(s0))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function V3(n,e){return e(n)}function rce(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const sce=new ne(""),jg=new ne(""),B3=new ne("");function ace(){let n=null;return(e,t)=>{null===n&&(n=(ue(sce,{optional:!0})??[]).reduceRight(rce,V3));const i=ue(ny),r=i.add();return n(e,t).pipe(Zd(()=>i.remove(r)))}}let U3=(()=>{class n extends s0{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ue(ny)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(jg),...this.injector.get(B3,[])]));this.chain=r.reduceRight((o,s)=>function oce(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),V3)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Zd(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(z(a0),z(zr))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const dce=/^\)\]\}',?\n/;let z3=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new P(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?D(i.\u0275loadImpl()):W(null)).pipe(yt(()=>new Qe(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,I)=>s.setRequestHeader(w,I.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const w=s.statusText||"OK",I=new Fs(s.getAllResponseHeaders()),M=function hce(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new kS({headers:I,status:s.status,statusText:w,url:M}),c},h=()=>{let{headers:w,status:I,statusText:M,url:A}=u(),L=null;204!==I&&(L=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=L?200:0);let Y=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof L){const le=L;L=L.replace(dce,"");try{L=""!==L?JSON.parse(L):null}catch(De){L=le,Y&&(Y=!1,L={error:De,text:L})}}Y?(o.next(new cf({body:L,headers:w,status:I,statusText:M,url:A||void 0})),o.complete()):o.error(new O3({error:L,headers:w,status:I,statusText:M,url:A||void 0}))},p=w=>{const{url:I}=u(),M=new O3({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(M)};let g=!1;const v=w=>{g||(o.next(u()),g=!0);let I={type:af.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),"text"===t.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},b=w=>{let I={type:af.UploadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),o.next(I)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:af.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(z(QN))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const PS=new ne("XSRF_ENABLED"),$3=new ne("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),H3=new ne("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class q3{}let pce=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=UN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ft),z(Oo),z($3))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function gce(n,e){const t=n.url.toLowerCase();if(!ue(PS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ue(q3).getToken(),r=ue(H3);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Nc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Nc||{});function _ce(...n){const e=[RS,z3,U3,{provide:s0,useExisting:U3},{provide:a0,useExisting:z3},{provide:jg,useValue:gce,multi:!0},{provide:PS,useValue:!0},{provide:q3,useClass:pce}];for(const t of n)e.push(...t.\u0275providers);return function LE(n){return{\u0275providers:n}}(e)}const G3=new ne("LEGACY_INTERCEPTOR_FN");function vce(){return function _u(n,e){return{\u0275kind:n,\u0275providers:e}}(Nc.LegacyInterceptors,[{provide:G3,useFactory:ace},{provide:jg,useExisting:G3,multi:!0}])}let yce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({providers:[_ce(vce())]})}return n})(),kce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n});static#n=this.\u0275inj=St({imports:[Mr,Mr]})}return n})(),Mce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Mt({type:n,bootstrap:[Yoe]});static#n=this.\u0275inj=St({imports:[fO,Qoe,jQ,Gae,VX,vJ,Kae,kce,xJ,yce,qJ.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),QJ,Soe]})}return n})();u7().bootstrapModule(Mce).catch(n=>console.error(n))},106:(Co,Jn,Ge)=>{Ge.d(Jn,{Z:()=>ti});var E=Ge(58),Oe=Ge(537),G=Ge(534),Ve=Ge(879);class pt{constructor(je,Ye){this._delegate=je,this.firebase=Ye,(0,G._addComponent)(je,new Oe.wA("app-compat",()=>this,"PUBLIC")),this.container=je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this._delegate.automaticDataCollectionEnabled=je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(je=>{this._delegate.checkDestroyed(),je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(je,Ye=G._DEFAULT_ENTRY_NAME){var ni;this._delegate.checkDestroyed();const ii=this._delegate.container.getProvider(je);return!ii.isInitialized()&&"EXPLICIT"===(null===(ni=ii.getComponent())||void 0===ni?void 0:ni.instantiationMode)&&ii.initialize(),ii.getImmediate({identifier:Ye})}_removeServiceInstance(je,Ye=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(je).clearInstance(Ye)}_addComponent(je){(0,G._addComponent)(this._delegate,je)}_addOrOverwriteComponent(je){(0,G._addOrOverwriteComponent)(this._delegate,je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const yn=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function at(){const Ct=function ei(Ct){const je={},Ye={__esModule:!0,initializeApp:function nn(Xe,$n={}){const J=G.initializeApp(Xe,$n);if((0,E.r3)(je,J.name))return je[J.name];const hn=new Ct(J,Ye);return je[J.name]=hn,hn},app:ii,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function zt(Xe){const $n=Xe.name,J=$n.replace("-compat","");if(G._registerComponent(Xe)&&"PUBLIC"===Xe.type){const hn=(rn=ii())=>{if("function"!=typeof rn[J])throw yn.create("invalid-app-argument",{appName:$n});return rn[J]()};void 0!==Xe.serviceProps&&(0,E.ZB)(hn,Xe.serviceProps),Ye[J]=hn,Ct.prototype[J]=function(...rn){return this._getService.bind(this,$n).apply(this,Xe.multipleInstances?rn:[])}}return"PUBLIC"===Xe.type?Ye[J]:null},removeApp:function ni(Xe){delete je[Xe]},useAsService:function Fi(Xe,$n){return"serverAuth"===$n?null:$n},modularAPIs:G}};function ii(Xe){if(!(0,E.r3)(je,Xe=Xe||G._DEFAULT_ENTRY_NAME))throw yn.create("no-app",{appName:Xe});return je[Xe]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function Tt(){return Object.keys(je).map(Xe=>je[Xe])}}),ii.App=Ct,Ye}(pt);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:at,extendNamespace:function je(Ye){(0,E.ZB)(Ct,Ye)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),Ct}(),ce=new Ve.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ti=ee;!function Et(Ct){(0,G.registerVersion)("@firebase/app-compat","0.2.23",Ct)}()},534:(Co,Jn,Ge)=>{Ge.r(Jn),Ge.d(Jn,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>Qo,_DEFAULT_ENTRY_NAME:()=>Fr,_addComponent:()=>Ko,_addOrOverwriteComponent:()=>pi,_apps:()=>Vi,_clearComponents:()=>qn,_components:()=>Do,_getProvider:()=>Kt,_registerComponent:()=>Bs,_removeServiceInstance:()=>Lr,deleteApp:()=>Ci,getApp:()=>Yo,getApps:()=>Ea,initializeApp:()=>wa,onLog:()=>Ia,registerVersion:()=>Xo,setLogLevel:()=>wu});var E=Ge(861),Oe=Ge(537),G=Ge(879),Ve=Ge(58);const pt=(F,S)=>S.some(oe=>F instanceof oe);let dn,yn;const ee=new WeakMap,ce=new WeakMap,xe=new WeakMap,ot=new WeakMap,Et=new WeakMap;let je={get(F,S,oe){if(F instanceof IDBTransaction){if("done"===S)return ce.get(F);if("objectStoreNames"===S)return F.objectStoreNames||xe.get(F);if("store"===S)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return nn(F[S])},set:(F,S,oe)=>(F[S]=oe,!0),has:(F,S)=>F instanceof IDBTransaction&&("done"===S||"store"===S)||S in F};function ii(F){return"function"==typeof F?function ni(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function at(){return yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...S){return F.apply(Tt(this),S),nn(ee.get(this))}:function(...S){return nn(F.apply(Tt(this),S))}:function(S,...oe){const Se=F.call(Tt(this),S,...oe);return xe.set(Se,S.sort?S.sort():[S]),nn(Se)}}(F):(F instanceof IDBTransaction&&function Ct(F){if(ce.has(F))return;const S=new Promise((oe,Se)=>{const $e=()=>{F.removeEventListener("complete",nt),F.removeEventListener("error",P),F.removeEventListener("abort",P)},nt=()=>{oe(),$e()},P=()=>{Se(F.error||new DOMException("AbortError","AbortError")),$e()};F.addEventListener("complete",nt),F.addEventListener("error",P),F.addEventListener("abort",P)});ce.set(F,S)}(F),pt(F,function ei(){return dn||(dn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,je):F)}function nn(F){if(F instanceof IDBRequest)return function ti(F){const S=new Promise((oe,Se)=>{const $e=()=>{F.removeEventListener("success",nt),F.removeEventListener("error",P)},nt=()=>{oe(nn(F.result)),$e()},P=()=>{Se(F.error),$e()};F.addEventListener("success",nt),F.addEventListener("error",P)});return S.then(oe=>{oe instanceof IDBCursor&&ee.set(oe,F)}).catch(()=>{}),Et.set(S,F),S}(F);if(ot.has(F))return ot.get(F);const S=ii(F);return S!==F&&(ot.set(F,S),Et.set(S,F)),S}const Tt=F=>Et.get(F),Xe=["get","getKey","getAll","getAllKeys","count"],$n=["put","add","delete","clear"],J=new Map;function hn(F,S){if(!(F instanceof IDBDatabase)||S in F||"string"!=typeof S)return;if(J.get(S))return J.get(S);const oe=S.replace(/FromIndex$/,""),Se=S!==oe,$e=$n.includes(oe);if(!(oe in(Se?IDBIndex:IDBObjectStore).prototype)||!$e&&!Xe.includes(oe))return;const nt=function(){var P=(0,E.Z)(function*(kn,...Ie){const ct=this.transaction(kn,$e?"readwrite":"readonly");let Ca=ct.store;return Se&&(Ca=Ca.index(Ie.shift())),(yield Promise.all([Ca[oe](...Ie),$e&&ct.done]))[0]});return function(Ie){return P.apply(this,arguments)}}();return J.set(S,nt),nt}!function Ye(F){je=F(je)}(F=>({...F,get:(S,oe,Se)=>hn(S,oe)||F.get(S,oe,Se),has:(S,oe)=>!!hn(S,oe)||F.has(S,oe)}));class rn{constructor(S){this.container=S}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function On(F){const S=F.getComponent();return"VERSION"===S?.type}(oe)){const Se=oe.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(oe=>oe).join(" ")}}const Jr="@firebase/app",Qe=new G.Yd("@firebase/app"),Fr="[DEFAULT]",Vc={[Jr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vi=new Map,Do=new Map;function Ko(F,S){try{F.container.addComponent(S)}catch(oe){Qe.debug(`Component ${S.name} failed to register with FirebaseApp ${F.name}`,oe)}}function pi(F,S){F.container.addOrOverwriteComponent(S)}function Bs(F){const S=F.name;if(Do.has(S))return Qe.debug(`There were multiple attempts to register component ${S}.`),!1;Do.set(S,F);for(const oe of Vi.values())Ko(oe,F);return!0}function Kt(F,S){const oe=F.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),F.container.getProvider(S)}function Lr(F,S,oe=Fr){Kt(F,S).clearInstance(oe)}function qn(){Do.clear()}const xr=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nr{constructor(S,oe,Se){this._isDeleted=!1,this._options=Object.assign({},S),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new Oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(S){this.checkDestroyed(),this._automaticDataCollectionEnabled=S}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(S){this._isDeleted=S}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const Qo="10.6.0";function wa(F,S={}){let oe=F;"object"!=typeof S&&(S={name:S});const Se=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},S),$e=Se.name;if("string"!=typeof $e||!$e)throw xr.create("bad-app-name",{appName:String($e)});if(oe||(oe=(0,Ve.aH)()),!oe)throw xr.create("no-options");const nt=Vi.get($e);if(nt){if((0,Ve.vZ)(oe,nt.options)&&(0,Ve.vZ)(Se,nt.config))return nt;throw xr.create("duplicate-app",{appName:$e})}const P=new Oe.H0($e);for(const Ie of Do.values())P.addComponent(Ie);const kn=new nr(oe,Se,P);return Vi.set($e,kn),kn}function Yo(F=Fr){const S=Vi.get(F);if(!S&&F===Fr&&(0,Ve.aH)())return wa();if(!S)throw xr.create("no-app",{appName:F});return S}function Ea(){return Array.from(Vi.values())}function Ci(F){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,E.Z)(function*(F){const S=F.name;Vi.has(S)&&(Vi.delete(S),yield Promise.all(F.container.getProviders().map(oe=>oe.delete())),F.isDeleted=!0)})).apply(this,arguments)}function Xo(F,S,oe){var Se;let $e=null!==(Se=Vc[F])&&void 0!==Se?Se:F;oe&&($e+=`-${oe}`);const nt=$e.match(/\s|\//),P=S.match(/\s|\//);if(nt||P){const kn=[`Unable to register library "${$e}" with version "${S}":`];return nt&&kn.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),nt&&P&&kn.push("and"),P&&kn.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void Qe.warn(kn.join(" "))}Bs(new Oe.wA(`${$e}-version`,()=>({library:$e,version:S}),"VERSION"))}function Ia(F,S){if(null!==F&&"function"!=typeof F)throw xr.create("invalid-log-argument");(0,G.Am)(F,S)}function wu(F){(0,G.Ub)(F)}const Bc="firebase-heartbeat-database",xa=1,T="firebase-heartbeat-store";let C=null;function D(){return C||(C=function zt(F,S,{blocked:oe,upgrade:Se,blocking:$e,terminated:nt}={}){const P=indexedDB.open(F,S),kn=nn(P);return Se&&P.addEventListener("upgradeneeded",Ie=>{Se(nn(P.result),Ie.oldVersion,Ie.newVersion,nn(P.transaction),Ie)}),oe&&P.addEventListener("blocked",Ie=>oe(Ie.oldVersion,Ie.newVersion,Ie)),kn.then(Ie=>{nt&&Ie.addEventListener("close",()=>nt()),$e&&Ie.addEventListener("versionchange",ct=>$e(ct.oldVersion,ct.newVersion,ct))}).catch(()=>{}),kn}(Bc,xa,{upgrade:(F,S)=>{0===S&&F.createObjectStore(T)}}).catch(F=>{throw xr.create("idb-open",{originalErrorMessage:F.message})})),C}function R(){return(R=(0,E.Z)(function*(F){try{return yield(yield D()).transaction(T).objectStore(T).get(Je(F))}catch(S){if(S instanceof Ve.ZR)Qe.warn(S.message);else{const oe=xr.create("idb-get",{originalErrorMessage:S?.message});Qe.warn(oe.message)}}})).apply(this,arguments)}function W(F,S){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,E.Z)(function*(F,S){try{const Se=(yield D()).transaction(T,"readwrite");yield Se.objectStore(T).put(S,Je(F)),yield Se.done}catch(oe){if(oe instanceof Ve.ZR)Qe.warn(oe.message);else{const Se=xr.create("idb-set",{originalErrorMessage:oe?.message});Qe.warn(Se.message)}}})).apply(this,arguments)}function Je(F){return`${F.name}!${F.options.appId}`}class Gn{constructor(S){this.container=S,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Lt(oe),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var S=this;return(0,E.Z)(function*(){var oe;const $e=S.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nt=we();if(null==(null===(oe=S._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)&&(S._heartbeatsCache=yield S._heartbeatsCachePromise),S._heartbeatsCache.lastSentHeartbeatDate!==nt&&!S._heartbeatsCache.heartbeats.some(P=>P.date===nt))return S._heartbeatsCache.heartbeats.push({date:nt,agent:$e}),S._heartbeatsCache.heartbeats=S._heartbeatsCache.heartbeats.filter(P=>{const kn=new Date(P.date).valueOf();return Date.now()-kn<=2592e6}),S._storage.overwrite(S._heartbeatsCache)})()}getHeartbeatsHeader(){var S=this;return(0,E.Z)(function*(){var oe;if(null===S._heartbeatsCache&&(yield S._heartbeatsCachePromise),null==(null===(oe=S._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||0===S._heartbeatsCache.heartbeats.length)return"";const Se=we(),{heartbeatsToSend:$e,unsentEntries:nt}=function ri(F,S=1024){const oe=[];let Se=F.slice();for(const $e of F){const nt=oe.find(P=>P.agent===$e.agent);if(nt){if(nt.dates.push($e.date),no(oe)>S){nt.dates.pop();break}}else if(oe.push({agent:$e.agent,dates:[$e.date]}),no(oe)>S){oe.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Se}}(S._heartbeatsCache.heartbeats),P=(0,Ve.L)(JSON.stringify({version:2,heartbeats:$e}));return S._heartbeatsCache.lastSentHeartbeatDate=Se,nt.length>0?(S._heartbeatsCache.heartbeats=nt,yield S._storage.overwrite(S._heartbeatsCache)):(S._heartbeatsCache.heartbeats=[],S._storage.overwrite(S._heartbeatsCache)),P})()}}function we(){return(new Date).toISOString().substring(0,10)}class Lt{constructor(S){this.app=S,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,Ve.hl)()&&(0,Ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var S=this;return(0,E.Z)(function*(){return(yield S._canUseIndexedDBPromise)&&(yield function Z(F){return R.apply(this,arguments)}(S.app))||{heartbeats:[]}})()}overwrite(S){var oe=this;return(0,E.Z)(function*(){var Se;if(yield oe._canUseIndexedDBPromise){const nt=yield oe.read();return W(oe.app,{lastSentHeartbeatDate:null!==(Se=S.lastSentHeartbeatDate)&&void 0!==Se?Se:nt.lastSentHeartbeatDate,heartbeats:S.heartbeats})}})()}add(S){var oe=this;return(0,E.Z)(function*(){var Se;if(yield oe._canUseIndexedDBPromise){const nt=yield oe.read();return W(oe.app,{lastSentHeartbeatDate:null!==(Se=S.lastSentHeartbeatDate)&&void 0!==Se?Se:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,...S.heartbeats]})}})()}}function no(F){return(0,Ve.L)(JSON.stringify({version:2,heartbeats:F})).length}!function Eu(F){Bs(new Oe.wA("platform-logger",S=>new rn(S),"PRIVATE")),Bs(new Oe.wA("heartbeat",S=>new Gn(S),"PRIVATE")),Xo(Jr,"0.9.23",F),Xo(Jr,"0.9.23","esm2017"),Xo("fire-js","")}("")},537:(Co,Jn,Ge)=>{Ge.d(Jn,{H0:()=>ei,wA:()=>G});var E=Ge(861),Oe=Ge(58);class G{constructor(ee,ce,xe){this.name=ee,this.instanceFactory=ce,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ve="[DEFAULT]";class pt{constructor(ee,ce){this.name=ee,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ce=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ce)){const xe=new Oe.BH;if(this.instancesDeferred.set(ce,xe),this.isInitialized(ce)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ce});ot&&xe.resolve(ot)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ee){var ce;const xe=this.normalizeInstanceIdentifier(ee?.identifier),ot=null!==(ce=ee?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(Et){if(ot)return null;throw Et}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function yn(at){return"EAGER"===at.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch{}for(const[ce,xe]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ce);try{const Et=this.getOrInitializeService({instanceIdentifier:ot});xe.resolve(Et)}catch{}}}}clearInstance(ee=Ve){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,E.Z)(function*(){const ce=Array.from(ee.instances.values());yield Promise.all([...ce.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...ce.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ve){return this.instances.has(ee)}getOptions(ee=Ve){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ce={}}=ee,xe=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:xe,options:ce});for(const[Et,ti]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(Et)&&ti.resolve(ot);return ot}onInit(ee,ce){var xe;const ot=this.normalizeInstanceIdentifier(ce),Et=null!==(xe=this.onInitCallbacks.get(ot))&&void 0!==xe?xe:new Set;Et.add(ee),this.onInitCallbacks.set(ot,Et);const ti=this.instances.get(ot);return ti&&ee(ti,ot),()=>{Et.delete(ee)}}invokeOnInitCallbacks(ee,ce){const xe=this.onInitCallbacks.get(ce);if(xe)for(const ot of xe)try{ot(ee,ce)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ce={}}){let xe=this.instances.get(ee);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(at=ee,at===Ve?void 0:at),options:ce}),this.instances.set(ee,xe),this.instancesOptions.set(ee,ce),this.invokeOnInitCallbacks(xe,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,xe)}catch{}var at;return xe||null}normalizeInstanceIdentifier(ee=Ve){return this.component?this.component.multipleInstances?ee:Ve:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ei{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ce=this.getProvider(ee.name);if(ce.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ce.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ce=new pt(ee,this);return this.providers.set(ee,ce),ce}getProviders(){return Array.from(this.providers.values())}}},879:(Co,Jn,Ge)=>{Ge.d(Jn,{Am:()=>at,Ub:()=>ei,Yd:()=>yn,in:()=>Oe});const E=[];var Oe=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(Oe||{});const G={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Ve=Oe.INFO,pt={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},dn=(ee,ce,...xe)=>{if(ce<ee.logLevel)return;const ot=(new Date).toISOString(),Et=pt[ce];if(!Et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Et](`[${ot}]  ${ee.name}:`,...xe)};class yn{constructor(ce){this.name=ce,this._logLevel=Ve,this._logHandler=dn,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in Oe))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?G[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...ce),this._logHandler(this,Oe.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...ce),this._logHandler(this,Oe.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...ce),this._logHandler(this,Oe.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...ce),this._logHandler(this,Oe.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...ce),this._logHandler(this,Oe.ERROR,...ce)}}function ei(ee){E.forEach(ce=>{ce.setLogLevel(ee)})}function at(ee,ce){for(const xe of E){let ot=null;ce&&ce.level&&(ot=G[ce.level]),xe.userLogHandler=null===ee?null:(Et,ti,...Ct)=>{const je=Ct.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");ti>=(ot??Et.logLevel)&&ee({level:Oe[ti].toLowerCase(),message:je,args:Ct,type:Et.name})}}}},956:(Co,Jn,Ge)=>{Ge.r(Jn);var E=Ge(861),Oe=Ge(106),G=Ge(58),Ve=Ge(534),pt=Ge(879),dn=Ge(582),yn=Ge(537);const at={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ti=function ot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ct=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},je=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ni=new pt.Yd("@firebase/auth");function nn(f,...l){ni.logLevel<=pt.in.ERROR&&ni.error(`Auth (${Ve.SDK_VERSION}): ${f}`,...l)}function Tt(f,...l){throw $n(f,...l)}function zt(f,...l){return $n(f,...l)}function Fi(f,l,d){const m=Object.assign(Object.assign({},Ct()),{[l]:d});return new G.LL("auth","Firebase",m).create(l,{appName:f.name})}function Xe(f,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&Tt(f,"argument-error"),Fi(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $n(f,...l){if("string"!=typeof f){const d=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(d,...m)}return je.create(f,...l)}function J(f,l,...d){if(!f)throw $n(l,...d)}function hn(f){const l="INTERNAL ASSERTION FAILED: "+f;throw nn(l),new Error(l)}function rn(f,l){f||hn(l)}function On(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Jr(){return"http:"===eo()||"https:"===eo()}function eo(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class to{constructor(l,d){this.shortDelay=l,this.longDelay=d,rn(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Qe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jr()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function U(f,l){rn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class H{static initialize(l,d,m){this.fetchImpl=l,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},K=new to(3e4,6e4);function te(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function q(f,l,d,m){return fe.apply(this,arguments)}function fe(){return(fe=(0,E.Z)(function*(f,l,d,m,_={}){return gt(f,_,(0,E.Z)(function*(){let y={},x={};m&&("GET"===l?x=m:y={body:JSON.stringify(m)});const k=(0,G.xO)(Object.assign({key:f.config.apiKey},x)).slice(1),Q=yield f._getAdditionalHeaders();return Q["Content-Type"]="application/json",f.languageCode&&(Q["X-Firebase-Locale"]=f.languageCode),H.fetch()(fn(f,f.config.apiHost,d,k),Object.assign({method:l,headers:Q,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function gt(f,l,d){return ge.apply(this,arguments)}function ge(){return(ge=(0,E.Z)(function*(f,l,d){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},B),l);try{const _=new mi(f),y=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const x=yield y.json();if("needConfirmation"in x)throw Hn(f,"account-exists-with-different-credential",x);if(y.ok&&!("errorMessage"in x))return x;{const k=y.ok?x.errorMessage:x.error.message,[Q,me]=k.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Q)throw Hn(f,"credential-already-in-use",x);if("EMAIL_EXISTS"===Q)throw Hn(f,"email-already-in-use",x);if("USER_DISABLED"===Q)throw Hn(f,"user-disabled",x);const ye=m[Q]||Q.toLowerCase().replace(/[_\s]+/g,"-");if(me)throw Fi(f,ye,me);Tt(f,ye)}}catch(_){if(_ instanceof G.ZR)throw _;Tt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ce(f,l,d,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,E.Z)(function*(f,l,d,m,_={}){const y=yield q(f,l,d,m,_);return"mfaPendingCredential"in y&&Tt(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function fn(f,l,d,m){const _=`${l}${d}?${m}`;return f.config.emulator?U(f.config,_):`${f.config.apiScheme}://${_}`}function Zt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(zt(this.auth,"network-request-failed")),K.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(f,l,d){const m={appName:f.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const _=zt(f,l,m);return _.customData._tokenResponse=d,_}function xi(f){return void 0!==f&&void 0!==f.getResponse}function Li(f){return void 0!==f&&void 0!==f.enterprise}class tr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===l)return Zt(d.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function To(){return(To=(0,E.Z)(function*(f){return(yield q(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bn(f,l){return ya.apply(this,arguments)}function ya(){return(ya=(0,E.Z)(function*(f,l){return q(f,"GET","/v2/recaptchaConfig",te(f,l))})).apply(this,arguments)}function Fr(){return(Fr=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Vi(){return(Vi=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ko(){return(Ko=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function pi(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Lr(){return(Lr=(0,E.Z)(function*(f,l=!1){const d=(0,G.m9)(f),m=yield d.getIdToken(l),_=ba(m);J(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,x=y?.sign_in_provider;return{claims:_,token:m,authTime:pi(qn(_.auth_time)),issuedAtTime:pi(qn(_.iat)),expirationTime:pi(qn(_.exp)),signInProvider:x||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function qn(f){return 1e3*Number(f)}function ba(f){const[l,d,m]=f.split(".");if(void 0===l||void 0===d||void 0===m)return nn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,G.tV)(d);return _?JSON.parse(_):(nn("Failed to decode base64 JWT payload"),null)}catch(_){return nn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function nr(f,l){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,E.Z)(function*(f,l,d=!1){if(d)return l;try{return yield l}catch(m){throw m instanceof G.ZR&&function wa({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class Yo{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,E.Z)(function*(){yield d.iteration()}),m)}iteration(){var l=this;return(0,E.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class Ea{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=pi(this.lastLoginAt),this.creationTime=pi(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ci(f){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,E.Z)(function*(f){var l;const d=f.auth,m=yield f.getIdToken(),_=yield nr(f,function Do(f,l){return Ko.apply(this,arguments)}(d,{idToken:m}));J(_?.users.length,d,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const x=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Bc(f){return f.map(l=>{var{providerId:d}=l,m=(0,dn._T)(l,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],k=function wu(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,x),ye=!!f.isAnonymous&&!(f.email&&y.passwordHash||k?.length),Ee={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:k,metadata:new Ea(y.createdAt,y.lastLoginAt),isAnonymous:ye};Object.assign(f,Ee)}),Bi.apply(this,arguments)}function Ia(){return(Ia=(0,E.Z)(function*(f){const l=(0,G.m9)(f);yield Ci(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function T(){return(T=(0,E.Z)(function*(f,l){const d=yield gt(f,{},(0,E.Z)(function*(){const m=(0,G.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,x=fn(f,_,"/v1/token",`key=${y}`),k=yield f._getAdditionalHeaders();return k["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(x,{method:"POST",headers:k,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,E.Z)(function*(f,l){return q(f,"POST","/v2/accounts:revokeToken",te(f,l))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){J(l.idToken,"internal-error"),J(typeof l.idToken<"u","internal-error"),J(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function xr(f){const l=ba(f);return J(l,"internal-error"),J(typeof l.exp<"u","internal-error"),J(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var m=this;return(0,E.Z)(function*(){return J(!m.accessToken||m.refreshToken,l,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var m=this;return(0,E.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:x}=yield function xa(f,l){return T.apply(this,arguments)}(l,d);m.updateTokensAndExpiration(_,y,Number(x))})()}updateTokensAndExpiration(l,d,m){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,d){const{refreshToken:m,accessToken:_,expirationTime:y}=d,x=new Z;return m&&(J("string"==typeof m,"internal-error",{appName:l}),x.refreshToken=m),_&&(J("string"==typeof _,"internal-error",{appName:l}),x.accessToken=_),y&&(J("number"==typeof y,"internal-error",{appName:l}),x.expirationTime=y),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return hn("not implemented")}}function R(f,l){J("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class W{constructor(l){var{uid:d,auth:m,stsTokenManager:_}=l,y=(0,dn._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Ea(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,E.Z)(function*(){const m=yield nr(d,d.stsTokenManager.getToken(d.auth,l));return J(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(l){return function Kt(f){return Lr.apply(this,arguments)}(this,l)}reload(){return function Xo(f){return Ia.apply(this,arguments)}(this)}_assign(l){this!==l&&(J(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const d=new W(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(l){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var m=this;return(0,E.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),d&&(yield Ci(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,E.Z)(function*(){const d=yield l.getIdToken();return yield nr(l,function Lc(f,l){return Fr.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var m,_,y,x,k,Q,me,ye;const Ee=null!==(m=d.displayName)&&void 0!==m?m:void 0,In=null!==(_=d.email)&&void 0!==_?_:void 0,Ur=null!==(y=d.phoneNumber)&&void 0!==y?y:void 0,dd=null!==(x=d.photoURL)&&void 0!==x?x:void 0,ov=null!==(k=d.tenantId)&&void 0!==k?k:void 0,qa=null!==(Q=d._redirectEventId)&&void 0!==Q?Q:void 0,hm=null!==(me=d.createdAt)&&void 0!==me?me:void 0,sv=null!==(ye=d.lastLoginAt)&&void 0!==ye?ye:void 0,{uid:hd,emailVerified:pE,isAnonymous:fm,providerData:av,stsTokenManager:cv}=d;J(hd&&cv,l,"internal-error");const gE=Z.fromJSON(this.name,cv);J("string"==typeof hd,l,"internal-error"),R(Ee,l.name),R(In,l.name),J("boolean"==typeof pE,l,"internal-error"),J("boolean"==typeof fm,l,"internal-error"),R(Ur,l.name),R(dd,l.name),R(ov,l.name),R(qa,l.name),R(hm,l.name),R(sv,l.name);const El=new W({uid:hd,auth:l,email:In,emailVerified:pE,displayName:Ee,isAnonymous:fm,photoURL:dd,phoneNumber:Ur,tenantId:ov,stsTokenManager:gE,createdAt:hm,lastLoginAt:sv});return av&&Array.isArray(av)&&(El.providerData=av.map(yk=>Object.assign({},yk))),qa&&(El._redirectEventId=qa),El}static _fromIdTokenResponse(l,d,m=!1){return(0,E.Z)(function*(){const _=new Z;_.updateFromServerResponse(d);const y=new W({uid:d.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield Ci(y),y})()}}const Fe=new Map;function Je(f){rn(f instanceof Function,"Expected a class definition");let l=Fe.get(f);return l?(rn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,Fe.set(f,l),l)}const Qt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(d,m){var _=this;return(0,E.Z)(function*(){_.storage[d]=m})()}_get(d){var m=this;return(0,E.Z)(function*(){const _=m.storage[d];return void 0===_?null:_})()}_remove(d){var m=this;return(0,E.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return f.type="NONE",f})();function Gn(f,l,d){return`firebase:${f}:${l}:${d}`}class we{constructor(l,d,m){this.persistence=l,this.auth=d,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=Gn(this.userKey,_.apiKey,y),this.fullPersistenceKey=Gn("persistence",_.apiKey,y),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,E.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?W._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,E.Z)(function*(){if(d.persistence===l)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,m="authUser"){return(0,E.Z)(function*(){if(!d.length)return new we(Je(Qt),l,m);const _=(yield Promise.all(d.map(function(){var me=(0,E.Z)(function*(ye){if(yield ye._isAvailable())return ye});return function(ye){return me.apply(this,arguments)}}()))).filter(me=>me);let y=_[0]||Je(Qt);const x=Gn(m,l.config.apiKey,l.name);let k=null;for(const me of d)try{const ye=yield me._get(x);if(ye){const Ee=W._fromJSON(l,ye);me!==y&&(k=Ee),y=me;break}}catch{}const Q=_.filter(me=>me._shouldAllowMigration);return y._shouldAllowMigration&&Q.length?(y=Q[0],k&&(yield y._set(x,k.toJSON())),yield Promise.all(d.map(function(){var me=(0,E.Z)(function*(ye){if(ye!==y)try{yield ye._remove(x)}catch{}});return function(ye){return me.apply(this,arguments)}}())),new we(y,l,m)):new we(y,l,m)})()}}function ri(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(F(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Lt(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(oe(l))return"Blackberry";if(Se(l))return"Webos";if(no(l))return"Safari";if((l.includes("chrome/")||Eu(l))&&!l.includes("edge/"))return"Chrome";if(S(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Lt(f=(0,G.z$)()){return/firefox\//i.test(f)}function no(f=(0,G.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Eu(f=(0,G.z$)()){return/crios\//i.test(f)}function F(f=(0,G.z$)()){return/iemobile/i.test(f)}function S(f=(0,G.z$)()){return/android/i.test(f)}function oe(f=(0,G.z$)()){return/blackberry/i.test(f)}function Se(f=(0,G.z$)()){return/webos/i.test(f)}function $e(f=(0,G.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ie(f=(0,G.z$)()){return $e(f)||S(f)||Se(f)||oe(f)||/windows phone/i.test(f)||F(f)}function Ca(f,l=[]){let d;switch(f){case"Browser":d=ri((0,G.z$)());break;case"Worker":d=`${ri((0,G.z$)())}-${f}`;break;default:d=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${Ve.SDK_VERSION}/${m}`}class FS{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const m=y=>new Promise((x,k)=>{try{x(l(y))}catch(Q){k(Q)}});m.onAbort=d,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,E.Z)(function*(){if(d.auth.currentUser===l)return;const m=[];try{for(const _ of d.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Uc(){return(Uc=(0,E.Z)(function*(f,l={}){return q(f,"GET","/v2/passwordPolicy",te(f,l))})).apply(this,arguments)}class LS{constructor(l){var d,m,_,y;const x=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=x.minPasswordLength)&&void 0!==d?d:6,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),void 0!==x.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),void 0!==x.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),void 0!==x.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),void 0!==x.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var d,m,_,y,x,k;const Q={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,Q),this.validatePasswordCharacterOptions(l,Q),Q.isValid&&(Q.isValid=null===(d=Q.meetsMinPasswordLength)||void 0===d||d),Q.isValid&&(Q.isValid=null===(m=Q.meetsMaxPasswordLength)||void 0===m||m),Q.isValid&&(Q.isValid=null===(_=Q.containsLowercaseLetter)||void 0===_||_),Q.isValid&&(Q.isValid=null===(y=Q.containsUppercaseLetter)||void 0===y||y),Q.isValid&&(Q.isValid=null===(x=Q.containsNumericCharacter)||void 0===x||x),Q.isValid&&(Q.isValid=null===(k=Q.containsNonAlphanumericCharacter)||void 0===k||k),Q}validatePasswordLengthOptions(l,d){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=l.length>=m),_&&(d.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,d,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class p0{constructor(l,d,m,_){this.app=l,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jo(this),this.idTokenSubscription=new Jo(this),this.beforeStateQueue=new FS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=je,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,d){var m=this;return d&&(this._popupRedirectResolver=Je(d)),this._initializationPromise=this.queue((0,E.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield we.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,E.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,E.Z)(function*(){var m;const _=yield d.assertedPersistence.getCurrentUser();let y=_,x=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const k=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,Q=y?._redirectEventId,me=yield d.tryRedirectSignIn(l);(!k||k===Q)&&me?.user&&(y=me.user,x=!0)}if(!y)return d.directlySetCurrentUser(null);if(!y._redirectEventId){if(x)try{yield d.beforeStateQueue.runMiddleware(y)}catch(k){y=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(k))}return y?d.reloadAndSetCurrentUserOrClear(y):d.directlySetCurrentUser(null)}return J(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===y._redirectEventId?d.directlySetCurrentUser(y):d.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var d=this;return(0,E.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,E.Z)(function*(){try{yield Ci(l)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Vs(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,E.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,E.Z)(function*(){const m=l?(0,G.m9)(l):null;return m&&J(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(l,d=!1){var m=this;return(0,E.Z)(function*(){if(!m._deleted)return l&&J(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,E.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,E.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,E.Z)(function*(){yield d.assertedPersistence.setPersistence(Je(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var d=this;return(0,E.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,E.Z)(function*(){const d=yield function m0(f){return Uc.apply(this,arguments)}(l),m=new LS(d);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new G.LL("auth","Firebase",l())}onAuthStateChanged(l,d,m){return this.registerStateListener(this.authStateSubscription,l,d,m)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,m){return this.registerStateListener(this.idTokenSubscription,l,d,m)}authStateReady(){return new Promise((l,d)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},d)}})}revokeAccessToken(l){var d=this;return(0,E.Z)(function*(){if(d.currentUser){const m=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:m};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function C(f,l){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var m=this;return(0,E.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(d);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,E.Z)(function*(){if(!d.redirectPersistenceManager){const m=l&&Je(l)||d._popupRedirectResolver;J(m,d,"argument-error"),d.redirectPersistenceManager=yield we.create(d,[Je(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,E.Z)(function*(){var m,_;return d._isInitialized&&(yield d.queue((0,E.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===l?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,E.Z)(function*(){if(l===d.currentUser)return d.queue((0,E.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,m,_){if(this._deleted)return()=>{};const y="function"==typeof d?d:d.next.bind(d);let x=!1;const k=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(k,this,"internal-error"),k.then(()=>{x||y(this.currentUser)}),"function"==typeof d){const Q=l.addObserver(d,m,_);return()=>{x=!0,Q()}}{const Q=l.addObserver(d);return()=>{x=!0,Q()}}}directlySetCurrentUser(l){var d=this;return(0,E.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ca(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,E.Z)(function*(){var d;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,E.Z)(function*(){var d;const m=yield null===(d=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function ii(f,...l){ni.logLevel<=pt.in.WARN&&ni.warn(`Auth (${Ve.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function on(f){return(0,G.m9)(f)}class Jo{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,G.ne)(d=>this.observer=d)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hg(f){return new Promise((l,d)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=zt("internal-error");y.customData=_,d(y)},m.type="text/javascript",m.charset="UTF-8",function VS(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function g0(f){return`__${f}${Math.floor(1e6*Math.random())}`}class qg{constructor(l){this.type="recaptcha-enterprise",this.auth=on(l)}verify(l="verify",d=!1){var m=this;return(0,E.Z)(function*(){function y(){return y=(0,E.Z)(function*(k){if(!d){if(null==k.tenantId&&null!=k._agentRecaptchaConfig)return k._agentRecaptchaConfig.siteKey;if(null!=k.tenantId&&void 0!==k._tenantRecaptchaConfigs[k.tenantId])return k._tenantRecaptchaConfigs[k.tenantId].siteKey}return new Promise(function(){var Q=(0,E.Z)(function*(me,ye){bn(k,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ee=>{if(void 0!==Ee.recaptchaKey){const In=new tr(Ee);return null==k.tenantId?k._agentRecaptchaConfig=In:k._tenantRecaptchaConfigs[k.tenantId]=In,me(In.siteKey)}ye(new Error("recaptcha Enterprise site key undefined"))}).catch(Ee=>{ye(Ee)})});return function(me,ye){return Q.apply(this,arguments)}}())}),y.apply(this,arguments)}function x(k,Q,me){const ye=window.grecaptcha;Li(ye)?ye.enterprise.ready(()=>{ye.enterprise.execute(k,{action:l}).then(Ee=>{Q(Ee)}).catch(()=>{Q("NO_RECAPTCHA")})}):me(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((k,Q)=>{(function _(k){return y.apply(this,arguments)})(m.auth).then(me=>{if(!d&&Li(window.grecaptcha))x(me,k,Q);else{if(typeof window>"u")return void Q(new Error("RecaptchaVerifier is only supported in browser"));Hg("https://www.google.com/recaptcha/enterprise.js?render="+me).then(()=>{x(me,k,Q)}).catch(ye=>{Q(ye)})}}).catch(me=>{Q(me)})})})()}}function v0(f,l,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,E.Z)(function*(f,l,d,m=!1){const _=new qg(f);let y;try{y=yield _.verify(d)}catch{y=yield _.verify(d,!0)}const x=Object.assign({},l);return Object.assign(x,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}function Re(f,l,d,m){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,E.Z)(function*(f,l,d,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield v0(f,l,d,"getOobCode"===d);return m(f,y)}return m(f,l).catch(function(){var y=(0,E.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const k=yield v0(f,l,d,"getOobCode"===d);return m(f,k)}return Promise.reject(x)});return function(x){return y.apply(this,arguments)}}())}),Gg.apply(this,arguments)}function jc(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function lf(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Ao{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return hn("not implemented")}_getIdTokenResponse(l){return hn("not implemented")}_linkToIdToken(l,d){return hn("not implemented")}_getReauthenticationResolver(l){return hn("not implemented")}}function zc(f,l){return $c.apply(this,arguments)}function $c(){return($c=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:resetPassword",te(f,l))})).apply(this,arguments)}function uf(){return(uf=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function lt(f,l){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function gi(){return(gi=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",te(f,l))})).apply(this,arguments)}function Qg(f,l){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signInWithPassword",te(f,l))})).apply(this,arguments)}function kt(f,l){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:sendOobCode",te(f,l))})).apply(this,arguments)}function ne(){return(ne=(0,E.Z)(function*(f,l){return kt(f,l)})).apply(this,arguments)}function df(f,l){return qc.apply(this,arguments)}function qc(){return(qc=(0,E.Z)(function*(f,l){return kt(f,l)})).apply(this,arguments)}function Jg(f,l){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,E.Z)(function*(f,l){return kt(f,l)})).apply(this,arguments)}function Wc(){return(Wc=(0,E.Z)(function*(f,l){return kt(f,l)})).apply(this,arguments)}function e_(){return(e_=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signInWithEmailLink",te(f,l))})).apply(this,arguments)}function t_(){return(t_=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signInWithEmailLink",te(f,l))})).apply(this,arguments)}class Iu extends Ao{constructor(l,d,m,_=null){super("password",m),this._email=l,this._password=d,this._tenantId=_}static _fromEmailAndPassword(l,d){return new Iu(l,d,"password")}static _fromEmailAndCode(l,d,m=null){return new Iu(l,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,E.Z)(function*(){switch(d.signInMethod){case"password":return Re(l,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qg);case"emailLink":return function HS(f,l){return e_.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:Tt(l,"internal-error")}})()}_linkToIdToken(l,d){var m=this;return(0,E.Z)(function*(){switch(m.signInMethod){case"password":return Re(l,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lt);case"emailLink":return function qS(f,l){return t_.apply(this,arguments)}(l,{idToken:d,email:m._email,oobCode:m._password});default:Tt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function rr(f,l){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signInWithIdp",te(f,l))})).apply(this,arguments)}class io extends Ao{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new io(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):Tt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=d,y=(0,dn._T)(d,["providerId","signInMethod"]);if(!m||!_)return null;const x=new io(m,_);return x.idToken=y.idToken||void 0,x.accessToken=y.accessToken||void 0,x.secret=y.secret,x.nonce=y.nonce,x.pendingToken=y.pendingToken||null,x}_getIdTokenResponse(l){return rr(l,this.buildRequest())}_linkToIdToken(l,d){const m=this.buildRequest();return m.idToken=d,rr(l,m)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,rr(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,G.xO)(d)}return l}}function hf(){return(hf=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:sendVerificationCode",te(f,l))})).apply(this,arguments)}function es(){return(es=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,l))})).apply(this,arguments)}function ro(){return(ro=(0,E.Z)(function*(f,l){const d=yield Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,l));if(d.temporaryProof)throw Hn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const x0={USER_NOT_FOUND:"user-not-found"};function Cu(){return(Cu=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),x0)})).apply(this,arguments)}class ue extends Ao{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new ue({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new ue({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function n_(f,l){return es.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function I0(f,l){return ro.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function z(f,l){return Cu.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:m,verificationCode:_}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||d||_||y?new ue({verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class So{constructor(l){var d,m,_,y,x,k;const Q=(0,G.zd)((0,G.pd)(l)),me=null!==(d=Q.apiKey)&&void 0!==d?d:null,ye=null!==(m=Q.oobCode)&&void 0!==m?m:null,Ee=function Tu(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Q.mode)&&void 0!==_?_:null);J(me&&ye&&Ee,"argument-error"),this.apiKey=me,this.operation=Ee,this.code=ye,this.continueUrl=null!==(y=Q.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(x=Q.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(k=Q.tenantId)&&void 0!==k?k:null}static parseLink(l){const d=function ff(f){const l=(0,G.zd)((0,G.pd)(f)).link,d=l?(0,G.zd)((0,G.pd)(l)).deep_link_id:null,m=(0,G.zd)((0,G.pd)(f)).deep_link_id;return(m?(0,G.zd)((0,G.pd)(m)).link:null)||m||d||l||f}(l);try{return new So(d)}catch{return null}}}let mf=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,m){return Iu._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const _=So.parseLink(m);return J(_,"argument-error"),Iu._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class ko{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class ji extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Mo extends ji{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return J("providerId"in d&&"signInMethod"in d,"argument-error"),io._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return J(l.idToken||l.accessToken,"argument-error"),io._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Mo.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Mo.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:x,providerId:k}=l;if(!m&&!_&&!d&&!y||!k)return null;try{return new Mo(k)._credential({idToken:d,accessToken:m,nonce:x,pendingToken:y})}catch{return null}}}let or=(()=>{class f extends ji{constructor(){super("facebook.com")}static credential(d){return io._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Vr=(()=>{class f extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return io._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:_}=d;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),wt=(()=>{class f extends ji{constructor(){super("github.com")}static credential(d){return io._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class ts extends Ao{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return rr(l,this.buildRequest())}_linkToIdToken(l,d){const m=this.buildRequest();return m.idToken=d,rr(l,m)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,rr(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=d;return m&&_&&y&&m===_?new ts(m,y):null}static _create(l,d){return new ts(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kc extends ko{constructor(l){J(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Kc.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Kc.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=ts.fromJSON(l);return J(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:m}=l;if(!d||!m)return null;try{return ts._create(m,d)}catch{return null}}}let oo=(()=>{class f extends ji{constructor(){super("twitter.com")}static credential(d,m){return io._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=d;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Ta(f,l){return Au.apply(this,arguments)}function Au(){return(Au=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signUp",te(f,l))})).apply(this,arguments)}class sr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,m,_=!1){return(0,E.Z)(function*(){const y=yield W._fromIdTokenResponse(l,m,_),x=Su(m);return new sr({user:y,providerId:x,_tokenResponse:m,operationType:d})})()}static _forOperation(l,d,m){return(0,E.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=Su(m);return new sr({user:l,providerId:_,_tokenResponse:m,operationType:d})})()}}function Su(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function ku(){return(ku=(0,E.Z)(function*(f){var l;const d=on(f);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new sr({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield Ta(d,{returnSecureToken:!0}),_=yield sr._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ns extends G.ZR{constructor(l,d,m,_){var y;super(d.code,d.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,ns.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,d,m,_){return new ns(l,d,m,_)}}function gf(f,l,d,m){return("reauthenticate"===l?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?ns._fromErrorAndOperation(f,y,l,m):y})}function _f(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Mu(){return Mu=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f);yield zi(!0,d,l);const{providerUserInfo:m}=yield function Vc(f,l){return Vi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),_=_f(m||[]);return d.providerData=d.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Mu.apply(this,arguments)}function vf(f,l){return yf.apply(this,arguments)}function yf(){return(yf=(0,E.Z)(function*(f,l,d=!1){const m=yield nr(f,l._linkToIdToken(f.auth,yield f.getIdToken()),d);return sr._forOperation(f,"link",m)})).apply(this,arguments)}function zi(f,l,d){return bf.apply(this,arguments)}function bf(){return(bf=(0,E.Z)(function*(f,l,d){yield Ci(l);const _=!1===f?"provider-already-linked":"no-such-provider";J(_f(l.providerData).has(d)===f,l.auth,_)})).apply(this,arguments)}function wf(f,l){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,E.Z)(function*(f,l,d=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield nr(f,gf(m,_,l,f),d);J(y.idToken,m,"internal-error");const x=ba(y.idToken);J(x,m,"internal-error");const{sub:k}=x;return J(f.uid===k,m,"user-mismatch"),sr._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&Tt(m,"user-mismatch"),y}})).apply(this,arguments)}function r_(f,l){return If.apply(this,arguments)}function If(){return(If=(0,E.Z)(function*(f,l,d=!1){const m="signIn",_=yield gf(f,m,l),y=yield sr._fromIdTokenResponse(f,m,_);return d||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function Ru(f,l){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,E.Z)(function*(f,l){return r_(on(f),l)})).apply(this,arguments)}function o_(f,l){return xf.apply(this,arguments)}function xf(){return(xf=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f);return yield zi(!1,d,l.providerId),vf(d,l)})).apply(this,arguments)}function s_(f,l){return sn.apply(this,arguments)}function sn(){return(sn=(0,E.Z)(function*(f,l){return wf((0,G.m9)(f),l)})).apply(this,arguments)}function Cf(){return(Cf=(0,E.Z)(function*(f,l){return Ce(f,"POST","/v1/accounts:signInWithCustomToken",te(f,l))})).apply(this,arguments)}function Mt(){return Mt=(0,E.Z)(function*(f,l){const d=on(f),m=yield function T0(f,l){return Cf.apply(this,arguments)}(d,{token:l,returnSecureToken:!0}),_=yield sr._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(_.user),_}),Mt.apply(this,arguments)}class Qc{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?Nu._fromServerResponse(l,d):"totpInfo"in d?Te._fromServerResponse(l,d):Tt(l,"internal-error")}}class Nu extends Qc{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new Nu(d)}}class Te extends Qc{constructor(l){super("totp",l)}static _fromServerResponse(l,d){return new Te(d)}}function oi(f,l,d){var m;J((null===(m=d.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),J(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(J(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(J(d.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function ht(f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,E.Z)(function*(f){const l=on(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function is(){return(is=(0,E.Z)(function*(f,l,d){const m=on(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};d&&oi(m,_,d),yield Re(m,_,"getOobCode",df)})).apply(this,arguments)}function Ou(){return Ou=(0,E.Z)(function*(f,l,d){yield zc((0,G.m9)(f),{oobCode:l,newPassword:d}).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ht(f),_});return function(_){return m.apply(this,arguments)}}())}),Ou.apply(this,arguments)}function Da(){return Da=(0,E.Z)(function*(f,l){yield function Kg(f,l){return gi.apply(this,arguments)}((0,G.m9)(f),{oobCode:l})}),Da.apply(this,arguments)}function c_(f,l){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f),m=yield zc(d,{oobCode:l}),_=m.requestType;switch(J(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(m.mfaInfo,d,"internal-error");default:J(m.email,d,"internal-error")}let y=null;return m.mfaInfo&&(y=Qc._fromServerResponse(on(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function _e(){return(_e=(0,E.Z)(function*(f,l){const{data:d}=yield c_((0,G.m9)(f),l);return d.email})).apply(this,arguments)}function $t(){return($t=(0,E.Z)(function*(f,l,d){const m=on(f),x=yield Re(m,{returnSecureToken:!0,email:l,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ta).catch(Q=>{throw"auth/password-does-not-meet-requirements"===Q.code&&ht(f),Q}),k=yield sr._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}function Wn(){return(Wn=(0,E.Z)(function*(f,l,d){const m=on(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(x,k){J(k.handleCodeInApp,m,"argument-error"),k&&oi(m,x,k)})(_,d),yield Re(m,_,"getOobCode",Jg)})).apply(this,arguments)}function so(){return(so=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f),_=mf.credentialWithLink(l,d||On());return J(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Ru(m,_)})).apply(this,arguments)}function Be(){return(Be=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:createAuthUri",te(f,l))})).apply(this,arguments)}function Fu(){return Fu=(0,E.Z)(function*(f,l){const m={identifier:l,continueUri:Jr()?On():"http://localhost"},{signinMethods:_}=yield function Sa(f,l){return Be.apply(this,arguments)}((0,G.m9)(f),m);return _||[]}),Fu.apply(this,arguments)}function mn(){return mn=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&oi(d.auth,_,l);const{email:y}=yield function $S(f,l){return ne.apply(this,arguments)}(d.auth,_);y!==f.email&&(yield f.reload())}),mn.apply(this,arguments)}function rs(){return rs=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};d&&oi(m.auth,y,d);const{email:x}=yield function w0(f,l){return Wc.apply(this,arguments)}(m.auth,y);x!==f.email&&(yield f.reload())}),rs.apply(this,arguments)}function Us(){return(Us=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function co(){return co=(0,E.Z)(function*(f,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const m=(0,G.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},x=yield nr(m,function ao(f,l){return Us.apply(this,arguments)}(m.auth,y));m.displayName=x.displayName||null,m.photoURL=x.photoUrl||null;const k=m.providerData.find(({providerId:Q})=>"password"===Q);k&&(k.displayName=m.displayName,k.photoURL=m.photoURL),yield m._updateTokensIfNecessary(x)}),co.apply(this,arguments)}function Ma(f,l,d){return it.apply(this,arguments)}function it(){return it=(0,E.Z)(function*(f,l,d){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),d&&(y.password=d);const x=yield nr(f,function Zg(f,l){return uf.apply(this,arguments)}(m,y));yield f._updateTokensIfNecessary(x,!0)}),it.apply(this,arguments)}class os{constructor(l,d,m={}){this.isNewUser=l,this.providerId=d,this.profile=m}}class Df extends os{constructor(l,d,m,_){super(l,d,m),this.username=_}}class lo extends os{constructor(l,d){super(l,"facebook.com",d)}}class Lu extends Df{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Ra extends os{constructor(l,d){super(l,"google.com",d)}}class tl extends Df{constructor(l,d,m){super(l,"twitter.com",d,m)}}function si(f){const{user:l,_tokenResponse:d}=f;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function WS(f){var l,d;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const x=null===(d=null===(l=ba(f.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(x)return new os(y,"anonymous"!==x&&"custom"!==x?x:null)}if(!m)return null;switch(m){case"facebook.com":return new lo(y,_);case"github.com":return new Lu(y,_);case"google.com":return new Ra(y,_);case"twitter.com":return new tl(y,_,f.screenName||null);case"custom":case"anonymous":return new os(y,null);default:return new os(y,m,_)}}(d)}class Pa{constructor(l,d,m){this.type=l,this.credential=d,this.user=m}static _fromIdtoken(l,d){return new Pa("enroll",l,d)}static _fromMfaPendingCredential(l){return new Pa("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,m;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Pa._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return Pa._fromIdtoken(l.multiFactorSession.idToken)}return null}}class d_{constructor(l,d,m){this.session=l,this.hints=d,this.signInResolver=m}static _fromError(l,d){const m=on(l),_=d.customData._serverResponse,y=(_.mfaInfo||[]).map(k=>Qc._fromServerResponse(m,k));J(_.mfaPendingCredential,m,"internal-error");const x=Pa._fromMfaPendingCredential(_.mfaPendingCredential);return new d_(x,y,function(){var k=(0,E.Z)(function*(Q){const me=yield Q._process(m,x);delete _.mfaInfo,delete _.mfaPendingCredential;const ye=Object.assign(Object.assign({},_),{idToken:me.idToken,refreshToken:me.refreshToken});switch(d.operationType){case"signIn":const Ee=yield sr._fromIdTokenResponse(m,d.operationType,ye);return yield m._updateCurrentUser(Ee.user),Ee;case"reauthenticate":return J(d.user,m,"internal-error"),sr._forOperation(d.user,d.operationType,ye);default:Tt(m,"internal-error")}});return function(Q){return k.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,E.Z)(function*(){return d.signInResolver(l)})()}}class h_{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>Qc._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new h_(l)}getSession(){var l=this;return(0,E.Z)(function*(){return Pa._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,d){var m=this;return(0,E.Z)(function*(){const _=l,y=yield m.getSession(),x=yield nr(m.user,_._process(m.user.auth,y,d));return yield m.user._updateTokensIfNecessary(x),m.user.reload()})()}unenroll(l){var d=this;return(0,E.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield d.user.getIdToken();try{const y=yield nr(d.user,function tk(f,l){return q(f,"POST","/v2/accounts/mfaEnrollment:withdraw",te(f,l))}(d.user.auth,{idToken:_,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:x})=>x!==m),yield d.user._updateTokensIfNecessary(y),yield d.user.reload()}catch(y){throw y}})()}}const f_=new WeakMap,Sf="__sak";class kf{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ho=(()=>{class f extends kf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function m_(){const f=(0,G.z$)();return no(f)||$e(f)}()&&function ct(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ie(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&d(m,y,_)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((k,Q,me)=>{this.notifyListeners(k,me)});const _=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const k=this.storage.getItem(_);if(d.newValue!==k)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!m)return}const y=()=>{const k=this.storage.getItem(_);!m&&this.localCache[_]===k||this.notifyListeners(_,k)},x=this.storage.getItem(_);!function kn(){return(0,G.w1)()&&10===document.documentMode}()||x===d.newValue||d.newValue===d.oldValue?y():setTimeout(y,10)}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var _=()=>super._set,y=this;return(0,E.Z)(function*(){yield _().call(y,d,m),y.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,_=this;return(0,E.Z)(function*(){const y=yield m().call(_,d);return _.localCache[d]=JSON.stringify(y),y})()}_remove(d){var m=()=>super._remove,_=this;return(0,E.Z)(function*(){yield m().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),$s=(()=>{class f extends kf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return f.type="SESSION",f})();let ai=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(y=>y.isListeningto(d));if(m)return m;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,E.Z)(function*(){const _=d,{eventId:y,eventType:x,data:k}=_.data,Q=m.handlersMap[x];if(!Q?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:x});const me=Array.from(Q).map(function(){var Ee=(0,E.Z)(function*(In){return In(_.origin,k)});return function(In){return Ee.apply(this,arguments)}}()),ye=yield function ok(f){return Promise.all(f.map(function(){var l=(0,E.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return l.apply(this,arguments)}}()))}(me);_.ports[0].postMessage({status:"done",eventId:y,eventType:x,response:ye})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function ss(f="",l=10){let d="";for(let m=0;m<l;m++)d+=Math.floor(10*Math.random());return f+d}class Cr{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,m=50){var _=this;return(0,E.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let x,k;return new Promise((Q,me)=>{const ye=ss("",20);y.port1.start();const Ee=setTimeout(()=>{me(new Error("unsupported_event"))},m);k={messageChannel:y,onMessage(In){const Ur=In;if(Ur.data.eventId===ye)switch(Ur.data.status){case"ack":clearTimeout(Ee),x=setTimeout(()=>{me(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),Q(Ur.data.response);break;default:clearTimeout(Ee),clearTimeout(x),me(new Error("invalid_response"))}}},_.handlers.add(k),y.port1.addEventListener("message",k.onMessage),_.target.postMessage({eventType:l,eventId:ye,data:d},[y.port2])}).finally(()=>{k&&_.removeMessageHandler(k)})})()}}function Dn(){return window}function Bu(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function il(){return(il=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Uu="firebaseLocalStorageDb",rl="firebaseLocalStorage",Rf="fbase_key";class as{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function cs(f,l){return f.transaction([rl],l?"readwrite":"readonly").objectStore(rl)}function ju(){const f=indexedDB.open(Uu,1);return new Promise((l,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(rl,{keyPath:Rf})}catch(_){d(_)}}),f.addEventListener("success",(0,E.Z)(function*(){const m=f.result;m.objectStoreNames.contains(rl)?l(m):(m.close(),yield function Na(){const f=indexedDB.deleteDatabase(Uu);return new as(f).toPromise()}(),l(yield ju()))}))})}function A0(f,l,d){return y_.apply(this,arguments)}function y_(){return(y_=(0,E.Z)(function*(f,l,d){const m=cs(f,!0).put({[Rf]:l,value:d});return new as(m).toPromise()})).apply(this,arguments)}function Pf(){return(Pf=(0,E.Z)(function*(f,l){const d=cs(f,!1).get(l),m=yield new as(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function b_(f,l){const d=cs(f,!0).delete(l);return new as(d).toPromise()}const Oa=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.Z)(function*(){return d.db||(d.db=yield ju()),d.db})()}_withRetries(d){var m=this;return(0,E.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield d(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.Z)(function*(){return Bu()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.Z)(function*(){d.receiver=ai._getInstance(function Mf(){return Bu()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,E.Z)(function*(_,y){return{keyProcessed:(yield d._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,E.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.Z)(function*(){var m,_;if(d.activeServiceWorker=yield function g_(){return il.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Cr(d.activeServiceWorker);const y=yield d.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,E.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function __(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const d=yield ju();return yield A0(d,Sf,"1"),yield b_(d,Sf),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,E.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var _=this;return(0,E.Z)(function*(){return _._withPendingWrite((0,E.Z)(function*(){return yield _._withRetries(y=>A0(y,d,m)),_.localCache[d]=m,_.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,E.Z)(function*(){const _=yield m._withRetries(y=>function sk(f,l){return Pf.apply(this,arguments)}(y,d));return m.localCache[d]=_,_})()}_remove(d){var m=this;return(0,E.Z)(function*(){return m._withPendingWrite((0,E.Z)(function*(){return yield m._withRetries(_=>b_(_,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.Z)(function*(){const m=yield d._withRetries(x=>{const k=cs(x,!1).getAll();return new as(k).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:x,value:k}of m)y.add(x),JSON.stringify(d.localCache[x])!==JSON.stringify(k)&&(d.notifyListeners(x,k),_.push(x));for(const x of Object.keys(d.localCache))d.localCache[x]&&!y.has(x)&&(d.notifyListeners(x,null),_.push(x));return _})()}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const y of Array.from(_))y(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),ol=1e12;class k0{constructor(l){this.auth=l,this.counter=ol,this._widgets=new Map}render(l,d){const m=this.counter;return this._widgets.set(m,new M0(l,this.auth.name,d||{})),this.counter++,m}reset(l){var d;const m=l||ol;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(l){var d;return(null===(d=this._widgets.get(l||ol))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,E.Z)(function*(){var m;return null===(m=d._widgets.get(l||ol))||void 0===m||m.execute(),""})()}}class M0{constructor(l,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;J(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function R0(f){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(d.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zu=g0("rcb"),P0=new to(3e4,6e4);class N0{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Dn().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return J(function uk(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),l,"argument-error"),this.shouldResolveImmediately(d)&&xi(Dn().grecaptcha)?Promise.resolve(Dn().grecaptcha):new Promise((m,_)=>{const y=Dn().setTimeout(()=>{_(zt(l,"network-request-failed"))},P0.get());Dn()[zu]=()=>{Dn().clearTimeout(y),delete Dn()[zu];const k=Dn().grecaptcha;if(!k||!xi(k))return void _(zt(l,"internal-error"));const Q=k.render;k.render=(me,ye)=>{const Ee=Q(me,ye);return this.counter++,Ee},this.hostLanguage=d,m(k)},Hg(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:zu,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(y),_(zt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=Dn().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class O0{load(l){return(0,E.Z)(function*(){return new k0(l)})()}clearedOneInstance(){}}const Hi="recaptcha",C_={theme:"light",type:"image"};class F0{constructor(l,d,m=Object.assign({},C_)){this.parameters=m,this.type=Hi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=on(l),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;J(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new O0:new N0,this.validateStartingState()}verify(){var l=this;return(0,E.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(d)||new Promise(y=>{const x=k=>{k&&(l.tokenChangeListeners.delete(x),y(k))};l.tokenChangeListeners.add(x),l.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof l)l(d);else if("string"==typeof l){const m=Dn()[l];"function"==typeof m&&m(d)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,E.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,E.Z)(function*(){J(Jr()&&!Bu(),l.auth,"internal-error"),yield function L0(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function Fc(f){return To.apply(this,arguments)}(l.auth);J(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $u{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=ue._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function Of(){return(Of=(0,E.Z)(function*(f,l,d){const m=on(f),_=yield sl(m,l,(0,G.m9)(d));return new $u(_,y=>Ru(m,y))})).apply(this,arguments)}function Lf(){return(Lf=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);yield zi(!1,m,"phone");const _=yield sl(m.auth,l,(0,G.m9)(d));return new $u(_,y=>o_(m,y))})).apply(this,arguments)}function Hu(){return(Hu=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f),_=yield sl(m.auth,l,(0,G.m9)(d));return new $u(_,y=>s_(m,y))})).apply(this,arguments)}function sl(f,l,d){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,E.Z)(function*(f,l,d){var m;const _=yield d.verify();try{let y;if(J("string"==typeof _,f,"argument-error"),J(d.type===Hi,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const x=y.session;if("phoneNumber"in y)return J("enroll"===x.type,f,"internal-error"),(yield function XS(f,l){return q(f,"POST","/v2/accounts/mfaEnrollment:start",te(f,l))}(f,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{J("signin"===x.type,f,"internal-error");const k=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return J(k,f,"missing-multi-factor-info"),(yield function Nf(f,l){return q(f,"POST","/v2/accounts/mfaSignIn:start",te(f,l))}(f,{mfaPendingCredential:x.credential,mfaEnrollmentId:k,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function E0(f,l){return hf.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return x}}finally{d._reset()}}),Ot.apply(this,arguments)}function Fa(){return(Fa=(0,E.Z)(function*(f,l){yield vf((0,G.m9)(f),l)})).apply(this,arguments)}let Zn=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=on(d)}verifyPhoneNumber(d,m){return sl(this.auth,d,(0,G.m9)(m))}static credential(d,m){return ue._fromVerification(d,m)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:_}=d;return m&&_?ue._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Hs(f,l){return l?Je(l):(J(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class qu extends Ao{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return rr(l,this._buildIdpRequest())}_linkToIdToken(l,d){return rr(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return rr(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function La(f){return r_(f.auth,new qu(f),f.bypassAuthState)}function lr(f){const{auth:l,user:d}=f;return J(d,l,"internal-error"),wf(d,new qu(f),f.bypassAuthState)}function V0(f){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,E.Z)(function*(f){const{auth:l,user:d}=f;return J(d,l,"internal-error"),vf(d,new qu(f),f.bypassAuthState)})).apply(this,arguments)}class D_{constructor(l,d,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,E.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,E.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:x,error:k,type:Q}=l;if(k)return void d.reject(k);const me={auth:d.auth,requestUri:m,sessionId:_,tenantId:x||void 0,postBody:y||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Q)(me))}catch(ye){d.reject(ye)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return La;case"linkViaPopup":case"linkViaRedirect":return V0;case"reauthViaPopup":case"reauthViaRedirect":return lr;default:Tt(this.auth,"internal-error")}}resolve(l){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ls=new to(2e3,1e4);function Uf(){return(Uf=(0,E.Z)(function*(f,l,d){const m=on(f);Xe(f,l,ko);const _=Hs(m,d);return new Ne(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Gu(){return(Gu=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);Xe(m.auth,l,ko);const _=Hs(m.auth,d);return new Ne(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function jf(){return(jf=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);Xe(m.auth,l,ko);const _=Hs(m.auth,d);return new Ne(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let Ne=(()=>{class f extends D_{constructor(d,m,_,y,x){super(d,m,y,x),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.Z)(function*(){const m=yield d.execute();return J(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,E.Z)(function*(){rn(1===d.filter.length,"Popup operations only handle one event");const m=ss();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,ls.get())};d()}}return f.currentPopupAction=null,f})();const M_="pendingRedirect",Wu=new Map;class B0 extends D_{constructor(l,d,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,E.Z)(function*(){let m=Wu.get(d.auth._key());if(!m){try{const y=(yield function U0(f,l){return zf.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}Wu.set(d.auth._key(),m)}return d.bypassAuthState||Wu.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,m=this;return(0,E.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,d().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function zf(){return(zf=(0,E.Z)(function*(f,l){const d=P_(l),m=R_(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(d));return yield m._remove(d),_})).apply(this,arguments)}function Zu(f,l){return us.apply(this,arguments)}function us(){return(us=(0,E.Z)(function*(f,l){return R_(f)._set(P_(l),"true")})).apply(this,arguments)}function $f(f,l){Wu.set(f._key(),l)}function R_(f){return Je(f._redirectPersistence)}function P_(f){return Gn(M_,f.config.apiKey,f.name)}function z0(f,l,d){return function ie(f,l,d){return ft.apply(this,arguments)}(f,l,d)}function ft(){return(ft=(0,E.Z)(function*(f,l,d){const m=on(f);Xe(f,l,ko),yield m._initializationPromise;const _=Hs(m,d);return yield Zu(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function Ht(f,l,d){return function qt(f,l,d){return Ln.apply(this,arguments)}(f,l,d)}function Ln(){return(Ln=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);Xe(m.auth,l,ko),yield m.auth._initializationPromise;const _=Hs(m.auth,d);yield Zu(_,m.auth);const y=yield qf(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function N_(f,l,d){return function al(f,l,d){return Tr.apply(this,arguments)}(f,l,d)}function Tr(){return(Tr=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);Xe(m.auth,l,ko),yield m.auth._initializationPromise;const _=Hs(m.auth,d);yield zi(!1,m,l.providerId),yield Zu(_,m.auth);const y=yield qf(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function cl(){return(cl=(0,E.Z)(function*(f,l){return yield on(f)._initializationPromise,Ku(f,l,!1)})).apply(this,arguments)}function Ku(f,l){return O_.apply(this,arguments)}function O_(){return(O_=(0,E.Z)(function*(f,l,d=!1){const m=on(f),_=Hs(m,l),x=yield new B0(m,_,d).execute();return x&&!d&&(delete x.user._redirectEventId,yield m._persistUserIfCurrent(x.user),yield m._setRedirectUser(null,l)),x})).apply(this,arguments)}function qf(f){return ci.apply(this,arguments)}function ci(){return(ci=(0,E.Z)(function*(f){const l=ss(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Gf{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(d=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function $0(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var m;if(l.error&&!mo(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(zt(this.auth,_))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const m=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(l))}saveEventToCache(l){this.cachedEventUids.add(qs(l)),this.lastProcessedEventTime=Date.now()}}function qs(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function mo({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function Wf(f){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,E.Z)(function*(f,l={}){return q(f,"GET","/v1/projects",l)})).apply(this,arguments)}const H0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kf=/^https?/;function Qu(){return(Qu=(0,E.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield Wf(f);for(const d of l)try{if(Yf(d))return}catch{}Tt(f,"unauthorized-domain")})).apply(this,arguments)}function Yf(f){const l=On(),{protocol:d,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const x=new URL(f);return""===x.hostname&&""===m?"chrome-extension:"===d&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&x.hostname===m}if(!Kf.test(d))return!1;if(H0.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const q0=new to(3e4,6e4);function Xf(){const f=Dn().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let ll=null;const L_=new to(5e3,15e3),V_="__/auth/iframe",em="emulator/auth/iframe",G0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Di(f){const l=f.config;J(l.authDomain,f,"auth-domain-config-required");const d=l.emulator?U(l,em):`https://${f.config.authDomain}/${V_}`,m={apiKey:l.apiKey,appName:f.name,v:Ve.SDK_VERSION},_=W0.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${d}?${(0,G.xO)(m).slice(1)}`}function Yt(){return Yt=(0,E.Z)(function*(f){const l=yield function F_(f){return ll=ll||function Jf(f){return new Promise((l,d)=>{var m,_,y;function x(){Xf(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Xf(),d(zt(f,"network-request-failed"))},timeout:q0.get()})}if(null!==(_=null===(m=Dn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=Dn().gapi)||void 0===y||!y.load){const k=g0("iframefcb");return Dn()[k]=()=>{gapi.load?x():d(zt(f,"network-request-failed"))},Hg(`https://apis.google.com/js/api.js?onload=${k}`).catch(Q=>d(Q))}x()}}).catch(l=>{throw ll=null,l})}(f),ll}(f),d=Dn().gapi;return J(d,f,"internal-error"),l.open({where:document.body,url:Di(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G0,dontclear:!0},m=>new Promise(function(){var _=(0,E.Z)(function*(y,x){yield m.restyle({setHideOnLeave:!1});const k=zt(f,"network-request-failed"),Q=Dn().setTimeout(()=>{x(k)},L_.get());function me(){Dn().clearTimeout(Q),y(m)}m.ping(me).then(me,()=>{x(k)})});return function(y,x){return _.apply(this,arguments)}}()))}),Yt.apply(this,arguments)}const B_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tm{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Q0="__/auth/handler",Xu="emulator/auth/handler",Ju=encodeURIComponent("fac");function Va(f,l,d,m,_,y){return ul.apply(this,arguments)}function ul(){return(ul=(0,E.Z)(function*(f,l,d,m,_,y){J(f.config.authDomain,f,"auth-domain-config-required"),J(f.config.apiKey,f,"invalid-api-key");const x={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:m,v:Ve.SDK_VERSION,eventId:_};if(l instanceof ko){l.setDefaultLanguage(f.languageCode),x.providerId=l.providerId||"",(0,G.xb)(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[ye,Ee]of Object.entries(y||{}))x[ye]=Ee}if(l instanceof ji){const ye=l.getScopes().filter(Ee=>""!==Ee);ye.length>0&&(x.scopes=ye.join(","))}f.tenantId&&(x.tid=f.tenantId);const k=x;for(const ye of Object.keys(k))void 0===k[ye]&&delete k[ye];const Q=yield f._getAppCheckToken(),me=Q?`#${Ju}=${encodeURIComponent(Q)}`:"";return`${function z_({config:f}){return f.emulator?U(f,Xu):`https://${f.authDomain}/${Q0}`}(f)}?${(0,G.xO)(k).slice(1)}${me}`})).apply(this,arguments)}const ed="webStorageSupport",Ws=class Y0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$s,this._completeRedirectFn=Ku,this._overrideRedirectResult=$f}_openPopup(l,d,m,_){var y=this;return(0,E.Z)(function*(){var x;rn(null===(x=y.eventManagers[l._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const k=yield Va(l,d,m,On(),_);return function Yu(f,l,d,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),x=Math.max((window.screen.availWidth-m)/2,0).toString();let k="";const Q=Object.assign(Object.assign({},B_),{width:m.toString(),height:_.toString(),top:y,left:x}),me=(0,G.z$)().toLowerCase();d&&(k=Eu(me)?"_blank":d),Lt(me)&&(l=l||"http://localhost",Q.scrollbars="yes");const ye=Object.entries(Q).reduce((In,[Ur,dd])=>`${In}${Ur}=${dd},`,"");if(function P(f=(0,G.z$)()){var l;return $e(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(me)&&"_self"!==k)return function ds(f,l){const d=document.createElement("a");d.href=f,d.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(l||"",k),new tm(null);const Ee=window.open(l||"",k,ye);J(Ee,f,"popup-blocked");try{Ee.focus()}catch{}return new tm(Ee)}(l,k,ss())})()}_openRedirect(l,d,m,_){var y=this;return(0,E.Z)(function*(){return yield y._originValidation(l),function p_(f){Dn().location.href=f}(yield Va(l,d,m,On(),_)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:_,promise:y}=this.eventManagers[d];return _?Promise.resolve(_):(rn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(l){var d=this;return(0,E.Z)(function*(){const m=yield function Gs(f){return Yt.apply(this,arguments)}(l),_=new Gf(l);return m.register("authEvent",y=>(J(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:_},d.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(ed,{type:ed},_=>{var y;const x=null===(y=_?.[0])||void 0===y?void 0:y[ed];void 0!==x&&d(!!x),Tt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Qf(f){return Qu.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return Ie()||no()||$e()}};class dl{constructor(l){this.factorId=l}_process(l,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,m);case"signin":return this._finalizeSignIn(l,d.credential);default:return hn("unexpected MultiFactorSessionType")}}}class nm extends dl{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new nm(l)}_finalizeEnroll(l,d,m){return function JS(f,l){return q(f,"POST","/v2/accounts/mfaEnrollment:finalize",te(f,l))}(l,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function ck(f,l){return q(f,"POST","/v2/accounts/mfaSignIn:finalize",te(f,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dk=(()=>{class f{constructor(){}static assertion(d){return nm._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var X0="@firebase/auth";class im{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,E.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);d&&(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hs(){return window}(0,G.Pz)("authIdTokenMaxAge"),function eE(f){(0,Ve._registerComponent)(new yn.wA("auth",(l,{options:d})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:x,authDomain:k}=m.options;J(x&&!x.includes(":"),"invalid-api-key",{appName:m.name});const Q={apiKey:x,authDomain:k,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ca(f)},me=new p0(m,_,y,Q);return function zS(f,l){const d=l?.persistence||[],m=(Array.isArray(d)?d:[d]).map(Je);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(me,d),me},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,m)=>{l.getProvider("auth-internal").initialize()})),(0,Ve._registerComponent)(new yn.wA("auth-internal",l=>{const d=on(l.getProvider("auth").getImmediate());return new im(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)(X0,"1.4.0",function hl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Ve.registerVersion)(X0,"1.4.0","esm2017")}("Browser");function om(){return om=(0,E.Z)(function*(f,l,d){var m;const{BuildInfo:_}=hs();rn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function W_(f){return rd.apply(this,arguments)}(l.sessionId),x={};return $e()?x.ibi=_.packageName:S()?x.apn=_.packageName:Tt(f,"operation-not-supported-in-this-environment"),_.displayName&&(x.appDisplayName=_.displayName),x.sessionId=y,Va(f,d,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,x)}),om.apply(this,arguments)}function pl(){return(pl=(0,E.Z)(function*(f){const{BuildInfo:l}=hs(),d={};$e()?d.iosBundleId=l.packageName:S()?d.androidPackageName=l.packageName:Tt(f,"operation-not-supported-in-this-environment"),yield Wf(f,d)})).apply(this,arguments)}function gl(){return(gl=(0,E.Z)(function*(f,l,d){const{cordova:m}=hs();let _=()=>{};try{yield new Promise((y,x)=>{let k=null;function Q(){var Ee;y();const In=null===(Ee=m.plugins.browsertab)||void 0===Ee?void 0:Ee.close;"function"==typeof In&&In(),"function"==typeof d?.close&&d.close()}function me(){k||(k=window.setTimeout(()=>{x(zt(f,"redirect-cancelled-by-user"))},2e3))}function ye(){"visible"===document?.visibilityState&&me()}l.addPassiveListener(Q),document.addEventListener("resume",me,!1),S()&&document.addEventListener("visibilitychange",ye,!1),_=()=>{l.removePassiveListener(Q),document.removeEventListener("resume",me,!1),document.removeEventListener("visibilitychange",ye,!1),k&&window.clearTimeout(k)}})}finally{_()}})).apply(this,arguments)}function rd(){return(rd=(0,E.Z)(function*(f){const l=function Z_(f){if(rn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),d=new Uint8Array(l);for(let m=0;m<f.length;m++)d[m]=f.charCodeAt(m);return d}(f),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rE extends Gf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,E.Z)(function*(){yield l.initPromise})()}}function Q_(f){return sd.apply(this,arguments)}function sd(){return(sd=(0,E.Z)(function*(f){const l=yield sm()._get(li(f));return l&&(yield sm()._remove(li(f))),l})).apply(this,arguments)}function _l(){const f=[];for(let d=0;d<20;d++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function sm(){return Je(ho)}function li(f){return Gn("authEvent",f.config.apiKey,f.name)}function Ba(f){if(!f?.includes("?"))return{};const[l,...d]=f.split("?");return(0,G.zd)(d.join("?"))}const ad=class X_{constructor(){this._redirectPersistence=$s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ku,this._overrideRedirectResult=$f}_initialize(l){var d=this;return(0,E.Z)(function*(){const m=l._key();let _=d.eventManagers.get(m);return _||(_=new rE(l),d.eventManagers.set(m,_),d.attachCallbackListeners(l,_)),_})()}_openPopup(l){Tt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,m,_){var y=this;return(0,E.Z)(function*(){!function iE(f){var l,d,m,_,y,x,k,Q,me,ye;const Ee=hs();J("function"==typeof(null===(l=Ee?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(d=Ee?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(y=null===(_=null===(m=Ee?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Q=null===(k=null===(x=Ee?.cordova)||void 0===x?void 0:x.plugins)||void 0===k?void 0:k.browsertab)||void 0===Q?void 0:Q.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(ye=null===(me=Ee?.cordova)||void 0===me?void 0:me.InAppBrowser)||void 0===ye?void 0:ye.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const x=yield y._initialize(l);yield x.initialized(),x.resetRedirect(),function j0(){Wu.clear()}(),yield y._originValidation(l);const k=function od(f,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:_l(),postBody:null,tenantId:f.tenantId,error:zt(f,"no-auth-event")}}(l,m,_);yield function Zs(f,l){return sm()._set(li(f),l)}(l,k);const Q=yield function po(f,l,d){return om.apply(this,arguments)}(l,k,d),me=yield function G_(f){const{cordova:l}=hs();return new Promise(d=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function nt(f=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(Q);return function id(f,l,d){return gl.apply(this,arguments)}(l,x,me)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function nd(f){return pl.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=hs(),x=setTimeout((0,E.Z)(function*(){yield Q_(l),d.onEvent(Ks())}),500),k=function(){var ye=(0,E.Z)(function*(Ee){clearTimeout(x);const In=yield Q_(l);let Ur=null;In&&Ee?.url&&(Ur=function Y_(f,l){var d,m;const _=function En(f){const l=Ba(f),d=l.link?decodeURIComponent(l.link):void 0,m=Ba(d).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Ba(_).link||_||m||d||f}(l);if(_.includes("/__/auth/callback")){const y=Ba(_),x=y.firebaseError?function oE(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,k=null===(m=null===(d=x?.code)||void 0===d?void 0:d.split("auth/"))||void 0===m?void 0:m[1],Q=k?zt(k):null;return Q?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:Q,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(In,Ee.url)),d.onEvent(Ur||Ks())});return function(In){return ye.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,k);const Q=_,me=`${y.packageName.toLowerCase()}://`;hs().handleOpenURL=function(){var ye=(0,E.Z)(function*(Ee){if(Ee.toLowerCase().startsWith(me)&&k({url:Ee}),"function"==typeof Q)try{Q(Ee)}catch(In){console.error(In)}});return function(Ee){return ye.apply(this,arguments)}}()}};function Ks(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function go(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function ev(f=(0,G.z$)()){return!("file:"!==go()&&"ionic:"!==go()&&"capacitor:"!==go()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function aE(){try{const f=self.localStorage,l=ss();if(f)return f.setItem(l,"1"),f.removeItem(l),!function _k(f=(0,G.z$)()){return function pk(){return(0,G.w1)()&&11===document?.documentMode}()||function gk(f=(0,G.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,G.hl)()}catch{return tv()&&(0,G.hl)()}return!1}function tv(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fs(){return(function fk(){return"http:"===go()||"https:"===go()}()||(0,G.ru)()||ev())&&!function mk(){return(0,G.b$)()||(0,G.UG)()}()&&aE()&&!tv()}function nv(){return ev()&&typeof document<"u"}function An(){return(An=(0,E.Z)(function*(){return!!nv()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const ui={LOCAL:"local",NONE:"none",SESSION:"session"},vl=J,ur="persistence";function cd(f){return $a.apply(this,arguments)}function $a(){return($a=(0,E.Z)(function*(f){yield f._initializationPromise;const l=iv(),d=Gn(ur,f.config.apiKey,f.name);l&&l.setItem(d,f._getPersistence())})).apply(this,arguments)}function iv(){var f;try{return(null===(f=function lE(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const vk=J;class ms{constructor(){this.browserResolver=Je(Ws),this.cordovaResolver=Je(ad),this.underlyingResolver=null,this._redirectPersistence=$s,this._completeRedirectFn=Ku,this._overrideRedirectResult=$f}_initialize(l){var d=this;return(0,E.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,m,_){var y=this;return(0,E.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,d,m,_)})()}_openRedirect(l,d,m,_){var y=this;return(0,E.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,d,m,_)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return nv()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vk(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,E.Z)(function*(){if(l.underlyingResolver)return;const d=yield function cE(){return An.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function uE(f){return f.unwrap()}function cm(f){return dE(f)}function dE(f){const{_tokenResponse:l}=f instanceof G.ZR?f.customData:f;if(!l)return null;if(!(f instanceof G.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return Zn.credentialFromResult(f);const d=l.providerId;if(!d||d===at.PASSWORD)return null;let m;switch(d){case at.GOOGLE:m=Vr;break;case at.FACEBOOK:m=or;break;case at.GITHUB:m=wt;break;case at.TWITTER:m=oo;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:x,pendingToken:k,nonce:Q}=l;return y||x||_||k?k?d.startsWith("saml.")?ts._create(d,k):io._fromParams({providerId:d,signInMethod:d,pendingToken:k,idToken:_,accessToken:y}):new Mo(d).credential({idToken:_,accessToken:y,rawNonce:Q}):null}return f instanceof G.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function Ai(f,l){return l.catch(d=>{throw d instanceof G.ZR&&function Ha(f,l){var d;const m=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new hE(f,function YS(f,l){var d;const m=(0,G.m9)(f),_=l;return J(l.customData.operationType,m,"argument-error"),J(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),d_._fromError(m,_)}(f,l));else if(m){const _=dE(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:cm(d),additionalUserInfo:si(d),user:No.getOrCreate(_)}})}function lm(f,l){return um.apply(this,arguments)}function um(){return(um=(0,E.Z)(function*(f,l){const d=yield l;return{verificationId:d.verificationId,confirm:m=>Ai(f,d.confirm(m))}})).apply(this,arguments)}class hE{constructor(l,d){this.resolver=d,this.auth=function dr(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Ai(uE(this.auth),this.resolver.resolveSignIn(l))}}class No{constructor(l){this._delegate=l,this.multiFactor=function nk(f){const l=(0,G.m9)(f);return f_.has(l)||f_.set(l,h_._fromUser(l)),f_.get(l)}(l)}static getOrCreate(l){return No.USER_MAP.has(l)||No.USER_MAP.set(l,new No(l)),No.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,E.Z)(function*(){return Ai(d.auth,o_(d._delegate,l))})()}linkWithPhoneNumber(l,d){var m=this;return(0,E.Z)(function*(){return lm(m.auth,function Ff(f,l,d){return Lf.apply(this,arguments)}(m._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,E.Z)(function*(){return Ai(d.auth,function k_(f,l,d){return jf.apply(this,arguments)}(d._delegate,l,ms))})()}linkWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield cd(on(d.auth)),N_(d._delegate,l,ms)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,E.Z)(function*(){return Ai(d.auth,s_(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return lm(this.auth,function fo(f,l,d){return Hu.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return Ai(this.auth,function S_(f,l,d){return Gu.apply(this,arguments)}(this._delegate,l,ms))}reauthenticateWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield cd(on(d.auth)),Ht(d._delegate,l,ms)})()}sendEmailVerification(l){return function ka(f,l){return mn.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,E.Z)(function*(){return yield function C0(f,l){return Mu.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function Ro(f,l){return Ma((0,G.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function el(f,l){return Ma((0,G.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Vf(f,l){return Fa.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function l_(f,l){return co.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function Jc(f,l,d){return rs.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}No.USER_MAP=new WeakMap;const bl=J;let rv=(()=>{class f{constructor(d,m){if(this.app=d,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;bl(_,"invalid-api-key",{appName:d.name}),bl(_,"invalid-api-key",{appName:d.name});const y=typeof window<"u"?ms:void 0;this._delegate=m.initialize({options:{persistence:ud(_,d.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(ti),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?No.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,m){!function St(f,l,d){const m=on(f);J(m._canInitEmulator,m,"emulator-config-failed"),J(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!d?.disableWarnings,y=jc(l),{host:x,port:k}=function y0(f){const l=jc(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:lf(m.substr(y.length+1))}}{const[y,x]=m.split(":");return{host:y,port:lf(x)}}}(l);m.config.emulator={url:`${y}//${x}${null===k?"":`:${k}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:x,port:k,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function b0(){function f(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,m)}applyActionCode(d){return function a_(f,l){return Da.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return c_(this._delegate,d)}confirmPasswordReset(d,m){return function ar(f,l,d){return Ou.apply(this,arguments)}(this._delegate,d,m)}createUserWithEmailAndPassword(d,m){var _=this;return(0,E.Z)(function*(){return Ai(_._delegate,function We(f,l,d){return $t.apply(this,arguments)}(_._delegate,d,m))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Xc(f,l){return Fu.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Aa(f,l){const d=So.parseLink(l);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,E.Z)(function*(){bl(fs(),d._delegate,"operation-not-supported-in-this-environment");const m=yield function Hf(f,l){return cl.apply(this,arguments)}(d._delegate,ms);return m?Ai(d._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Ua(f,l){on(f)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,m,_){const{next:y,error:x,complete:k}=ld(d,m,_);return this._delegate.onAuthStateChanged(y,x,k)}onIdTokenChanged(d,m,_){const{next:y,error:x,complete:k}=ld(d,m,_);return this._delegate.onIdTokenChanged(y,x,k)}sendSignInLinkToEmail(d,m){return function Yc(f,l,d){return Wn.apply(this,arguments)}(this._delegate,d,m)}sendPasswordResetEmail(d,m){return function Ti(f,l,d){return is.apply(this,arguments)}(this._delegate,d,m||void 0)}setPersistence(d){var m=this;return(0,E.Z)(function*(){let _;switch(function za(f,l){vl(Object.values(ui).includes(l),f,"invalid-persistence-type"),(0,G.b$)()?vl(l!==ui.SESSION,f,"unsupported-persistence-type"):(0,G.UG)()?vl(l===ui.NONE,f,"unsupported-persistence-type"):tv()?vl(l===ui.NONE||l===ui.LOCAL&&(0,G.hl)(),f,"unsupported-persistence-type"):vl(l===ui.NONE||aE(),f,"unsupported-persistence-type")}(m._delegate,d),d){case ui.SESSION:_=$s;break;case ui.LOCAL:_=(yield Je(Oa)._isAvailable())?Oa:ho;break;case ui.NONE:_=Qt;break;default:return Tt("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Ai(this._delegate,function i_(f){return ku.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Ai(this._delegate,Ru(this._delegate,d))}signInWithCustomToken(d){return Ai(this._delegate,function D0(f,l){return Mt.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,m){return Ai(this._delegate,function Br(f,l,d){return Ru((0,G.m9)(f),mf.credential(l,d)).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ht(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,d,m))}signInWithEmailLink(d,m){return Ai(this._delegate,function Tn(f,l,d){return so.apply(this,arguments)}(this._delegate,d,m))}signInWithPhoneNumber(d,m){return lm(this._delegate,function T_(f,l,d){return Of.apply(this,arguments)}(this._delegate,d,m))}signInWithPopup(d){var m=this;return(0,E.Z)(function*(){return bl(fs(),m._delegate,"operation-not-supported-in-this-environment"),Ai(m._delegate,function A_(f,l,d){return Uf.apply(this,arguments)}(m._delegate,d,ms))})()}signInWithRedirect(d){var m=this;return(0,E.Z)(function*(){return bl(fs(),m._delegate,"operation-not-supported-in-this-environment"),yield cd(m._delegate),z0(m._delegate,d,ms)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function wn(f,l){return _e.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=ui,f})();function ld(f,l,d){let m=f;"function"!=typeof f&&({next:m,error:l,complete:d}=f);const _=m;return{next:x=>_(x&&No.getOrCreate(x)),error:l,complete:d}}function ud(f,l){const d=function yl(f,l){const d=iv();if(!d)return[];const m=Gn(ur,f,l);switch(d.getItem(m)){case ui.NONE:return[Qt];case ui.LOCAL:return[Oa,$s];case ui.SESSION:return[$s];default:return[]}}(f,l);if(typeof self<"u"&&!d.includes(Oa)&&d.push(Oa),typeof window<"u")for(const m of[ho,$s])d.includes(m)||d.push(m);return d.includes(Qt)||d.push(Qt),d}class dm{constructor(){this.providerId="phone",this._delegate=new Zn(uE(Oe.Z.auth()))}static credential(l,d){return Zn.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}dm.PHONE_SIGN_IN_METHOD=Zn.PHONE_SIGN_IN_METHOD,dm.PROVIDER_ID=Zn.PROVIDER_ID;const ps=J;class fE{constructor(l,d,m=Oe.Z.app()){var _;ps(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new F0(m.auth(),l,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function mE(f){f.INTERNAL.registerComponent(new yn.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new rv(d,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:mf,FacebookAuthProvider:or,GithubAuthProvider:wt,GoogleAuthProvider:Vr,OAuthProvider:Mo,SAMLAuthProvider:Kc,PhoneAuthProvider:dm,PhoneMultiFactorGenerator:dk,RecaptchaVerifier:fE,TwitterAuthProvider:oo,Auth:rv,AuthCredential:Ao,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(Oe.Z)},861:(Co,Jn,Ge)=>{function E(G,Ve,pt,dn,yn,ei,at){try{var ee=G[ei](at),ce=ee.value}catch(xe){return void pt(xe)}ee.done?Ve(ce):Promise.resolve(ce).then(dn,yn)}function Oe(G){return function(){var Ve=this,pt=arguments;return new Promise(function(dn,yn){var ei=G.apply(Ve,pt);function at(ce){E(ei,dn,yn,at,ee,"next",ce)}function ee(ce){E(ei,dn,yn,at,ee,"throw",ce)}at(void 0)})}}Ge.d(Jn,{Z:()=>Oe})},582:(Co,Jn,Ge)=>{function Ve(U,H){var B={};for(var K in U)Object.prototype.hasOwnProperty.call(U,K)&&H.indexOf(K)<0&&(B[K]=U[K]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(K=Object.getOwnPropertySymbols(U);te<K.length;te++)H.indexOf(K[te])<0&&Object.prototype.propertyIsEnumerable.call(U,K[te])&&(B[K[te]]=U[K[te]])}return B}function xe(U,H,B,K){return new(B||(B=Promise))(function(q,fe){function gt(vt){try{Ce(K.next(vt))}catch(fn){fe(fn)}}function ge(vt){try{Ce(K.throw(vt))}catch(fn){fe(fn)}}function Ce(vt){vt.done?q(vt.value):function te(q){return q instanceof B?q:new B(function(fe){fe(q)})}(vt.value).then(gt,ge)}Ce((K=K.apply(U,H||[])).next())})}function nn(U){return this instanceof nn?(this.v=U,this):new nn(U)}function Tt(U,H,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,K=B.apply(U,H||[]),q=[];return te={},fe("next"),fe("throw"),fe("return"),te[Symbol.asyncIterator]=function(){return this},te;function fe(Zt){K[Zt]&&(te[Zt]=function(mi){return new Promise(function(Hn,xi){q.push([Zt,mi,Hn,xi])>1||gt(Zt,mi)})})}function gt(Zt,mi){try{!function ge(Zt){Zt.value instanceof nn?Promise.resolve(Zt.value.v).then(Ce,vt):fn(q[0][2],Zt)}(K[Zt](mi))}catch(Hn){fn(q[0][3],Hn)}}function Ce(Zt){gt("next",Zt)}function vt(Zt){gt("throw",Zt)}function fn(Zt,mi){Zt(mi),q.shift(),q.length&&gt(q[0][0],q[0][1])}}function Fi(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,H=U[Symbol.asyncIterator];return H?H.call(U):(U=function Ct(U){var H="function"==typeof Symbol&&Symbol.iterator,B=H&&U[H],K=0;if(B)return B.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&K>=U.length&&(U=void 0),{value:U&&U[K++],done:!U}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),B={},K("next"),K("throw"),K("return"),B[Symbol.asyncIterator]=function(){return this},B);function K(q){B[q]=U[q]&&function(fe){return new Promise(function(gt,ge){!function te(q,fe,gt,ge){Promise.resolve(ge).then(function(Ce){q({value:Ce,done:gt})},fe)}(gt,ge,(fe=U[q](fe)).done,fe.value)})}}}Ge.d(Jn,{FC:()=>Tt,KL:()=>Fi,_T:()=>Ve,mG:()=>xe,qq:()=>nn}),"function"==typeof SuppressedError&&SuppressedError}},Co=>{Co(Co.s=910)}]);
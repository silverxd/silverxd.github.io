"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:(Bo,mi,Ye)=>{Ye.d(mi,{BH:()=>Pt,G6:()=>Or,L:()=>Mt,LL:()=>J,Pz:()=>It,Sg:()=>Li,UG:()=>ee,ZB:()=>Te,ZR:()=>ne,aH:()=>on,b$:()=>Nr,eu:()=>U,hl:()=>F,jU:()=>Tn,m9:()=>yl,ne:()=>$o,pd:()=>_l,r3:()=>oi,ru:()=>Dn,tV:()=>te,uI:()=>pi,vZ:()=>jo,w1:()=>mo,xO:()=>Ha,xb:()=>ur,z$:()=>lt,zd:()=>fr});const $e=function(D){const C=[];let T=0;for(let Z=0;Z<D.length;Z++){let N=D.charCodeAt(Z);N<128?C[T++]=N:N<2048?(C[T++]=N>>6|192,C[T++]=63&N|128):55296==(64512&N)&&Z+1<D.length&&56320==(64512&D.charCodeAt(Z+1))?(N=65536+((1023&N)<<10)+(1023&D.charCodeAt(++Z)),C[T++]=N>>18|240,C[T++]=N>>12&63|128,C[T++]=N>>6&63|128,C[T++]=63&N|128):(C[T++]=N>>12|224,C[T++]=N>>6&63|128,C[T++]=63&N|128)}return C},Xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,C){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let N=0;N<D.length;N+=3){const ce=D[N],ve=N+1<D.length,dt=ve?D[N+1]:0,ye=N+2<D.length,Gt=ye?D[N+2]:0;let Vi=(15&dt)<<2|Gt>>6,_o=63&Gt;ye||(_o=64,ve||(Vi=64)),Z.push(T[ce>>2],T[(3&ce)<<4|dt>>4],T[Vi],T[_o])}return Z.join("")},encodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(D):this.encodeByteArray($e(D),C)},decodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(D):function(D){const C=[];let T=0,Z=0;for(;T<D.length;){const N=D[T++];if(N<128)C[Z++]=String.fromCharCode(N);else if(N>191&&N<224){const ce=D[T++];C[Z++]=String.fromCharCode((31&N)<<6|63&ce)}else if(N>239&&N<365){const ye=((7&N)<<18|(63&D[T++])<<12|(63&D[T++])<<6|63&D[T++])-65536;C[Z++]=String.fromCharCode(55296+(ye>>10)),C[Z++]=String.fromCharCode(56320+(1023&ye))}else{const ce=D[T++],ve=D[T++];C[Z++]=String.fromCharCode((15&N)<<12|(63&ce)<<6|63&ve)}}return C.join("")}(this.decodeStringToByteArray(D,C))},decodeStringToByteArray(D,C){this.init_();const T=C?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let N=0;N<D.length;){const ce=T[D.charAt(N++)],dt=N<D.length?T[D.charAt(N)]:0;++N;const Gt=N<D.length?T[D.charAt(N)]:64;++N;const rt=N<D.length?T[D.charAt(N)]:64;if(++N,null==ce||null==dt||null==Gt||null==rt)throw new Bn;Z.push(ce<<2|dt>>4),64!==Gt&&(Z.push(dt<<4&240|Gt>>2),64!==rt&&Z.push(Gt<<6&192|rt))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class Bn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(D){return function(D){const C=$e(D);return Xe.encodeByteArray(C,!0)}(D).replace(/\./g,"")},te=function(D){try{return Xe.decodeString(D,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function Te(D,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return C}for(const T in C)!C.hasOwnProperty(T)||!it(T)||(D[T]=Te(D[T],C[T]));return D}function it(D){return"__proto__"!==D}const ct=()=>{try{return function Et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=D&&te(D[1]);return C&&JSON.parse(C)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},on=()=>{var D;return null===(D=ct())||void 0===D?void 0:D.config},It=D=>{var C;return null===(C=ct())||void 0===C?void 0:C[`_${D}`]};class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,T)=>{this.resolve=C,this.reject=T})}wrapCallback(C){return(T,Z)=>{T?this.reject(T):this.resolve(Z),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(T):C(T,Z))}}}function Li(D,C){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=C||"demo-project",N=D.iat||0,ce=D.sub||D.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ve=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:N,exp:N+3600,auth_time:N,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},D);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(ve)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function ee(){var D;const C=null===(D=ct())||void 0===D?void 0:D.forceEnvironment;if("node"===C)return!0;if("browser"===C)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Tn(){return"object"==typeof self&&self.self===self}function Dn(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Nr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mo(){const D=lt();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Or(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F(){try{return"object"==typeof indexedDB}catch{return!1}}function U(){return new Promise((D,C)=>{try{let T=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(Z);N.onsuccess=()=>{N.result.close(),T||self.indexedDB.deleteDatabase(Z),D(!0)},N.onupgradeneeded=()=>{T=!1},N.onerror=()=>{var ce;C((null===(ce=N.error)||void 0===ce?void 0:ce.message)||"")}}catch(T){C(T)}})}class ne extends Error{constructor(C,T,Z){super(T),this.code=C,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(C,T,Z){this.service=C,this.serviceName=T,this.errors=Z}create(C,...T){const Z=T[0]||{},N=`${this.service}/${C}`,ce=this.errors[C],ve=ce?function Fe(D,C){return D.replace(gt,(T,Z)=>{const N=C[Z];return null!=N?String(N):`<${Z}?>`})}(ce,Z):"Error";return new ne(N,`${this.serviceName}: ${ve} (${N}).`,Z)}}const gt=/\{\$([^}]+)}/g;function oi(D,C){return Object.prototype.hasOwnProperty.call(D,C)}function ur(D){for(const C in D)if(Object.prototype.hasOwnProperty.call(D,C))return!1;return!0}function jo(D,C){if(D===C)return!0;const T=Object.keys(D),Z=Object.keys(C);for(const N of T){if(!Z.includes(N))return!1;const ce=D[N],ve=C[N];if(hr(ce)&&hr(ve)){if(!jo(ce,ve))return!1}else if(ce!==ve)return!1}for(const N of Z)if(!T.includes(N))return!1;return!0}function hr(D){return null!==D&&"object"==typeof D}function Ha(D){const C=[];for(const[T,Z]of Object.entries(D))Array.isArray(Z)?Z.forEach(N=>{C.push(encodeURIComponent(T)+"="+encodeURIComponent(N))}):C.push(encodeURIComponent(T)+"="+encodeURIComponent(Z));return C.length?"&"+C.join("&"):""}function fr(D){const C={};return D.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[N,ce]=Z.split("=");C[decodeURIComponent(N)]=decodeURIComponent(ce)}}),C}function _l(D){const C=D.indexOf("?");if(!C)return"";const T=D.indexOf("#",C);return D.substring(C,T>0?T:void 0)}function $o(D,C){const T=new po(D,C);return T.subscribe.bind(T)}class po{constructor(C,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{C(this)}).catch(Z=>{this.error(Z)})}next(C){this.forEachObserver(T=>{T.next(C)})}error(C){this.forEachObserver(T=>{T.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,T,Z){let N;if(void 0===C&&void 0===T&&void 0===Z)throw new Error("Missing Observer.");N=function go(D,C){if("object"!=typeof D||null===D)return!1;for(const T of C)if(T in D&&"function"==typeof D[T])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:T,complete:Z},void 0===N.next&&(N.next=vs),void 0===N.error&&(N.error=vs),void 0===N.complete&&(N.complete=vs);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),ce}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,C)}sendOne(C,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{T(this.observers[C])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vs(){}function yl(D){return D&&D._delegate?D._delegate:D}},625:(Bo,mi,Ye)=>{let Ce=null,$e=1;function Xe(n){const e=Ce;return Ce=n,e}function it(n){if((!Pt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==$e)){if(!n.producerMustRecompute(n)&&!Kn(n))return n.dirty=!1,void(n.lastCleanEpoch=$e);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=$e}}function Kn(n){Li(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(it(t),i!==t.version))return!0}return!1}function It(n,e){if(function lt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Li(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)It(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Li(r),r.producerIndexOfThis[i]=e}}function Pt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Li(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let mo=null;function Ne(n){return"function"==typeof n}function gi(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Qn=gi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function oi(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Nt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ne(i))try{i()}catch(o){e=o instanceof Qn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{jo(o)}catch(s){e=e??[],s instanceof Qn?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Qn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)jo(e);else{if(e instanceof Nt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oi(t,e)}remove(e){const{_finalizers:t}=this;t&&oi(t,e),e instanceof Nt&&e._removeParent(this)}}Nt.EMPTY=(()=>{const n=new Nt;return n.closed=!0,n})();const ur=Nt.EMPTY;function gl(n){return n instanceof Nt||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function jo(n){Ne(n)?n():n.unsubscribe()}const hr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zo={setTimeout(n,e,...t){const{delegate:i}=zo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=zo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ha(n){zo.setTimeout(()=>{const{onUnhandledError:e}=hr;if(!e)throw n;e(n)})}function fr(){}const _l=po("C",void 0,void 0);function po(n,e,t){return{kind:n,value:e,error:t}}let Xi=null;function go(n){if(hr.useDeprecatedSynchronousErrorHandling){const e=!Xi;if(e&&(Xi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Xi;if(Xi=null,t)throw i}}else n()}class ys extends Nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gl(e)&&e.add(this)):this.destination=Ga}static create(e,t,i){return new Ci(e,t,i)}next(e){this.isStopped?qa(function $o(n){return po("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qa(function mr(n){return po("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qa(_l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ho=Function.prototype.bind;function qo(n,e){return Ho.call(n,e)}class Fr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Go(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Go(i)}else Go(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Go(t)}}}class Ci extends ys{constructor(e,t,i){let r;if(super(),Ne(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&hr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&qo(e.next,o),error:e.error&&qo(e.error,o),complete:e.complete&&qo(e.complete,o)}):r=e}this.destination=new Fr(r)}}function Go(n){hr.useDeprecatedSynchronousErrorHandling?function vs(n){hr.useDeprecatedSynchronousErrorHandling&&Xi&&(Xi.errorThrown=!0,Xi.error=n)}(n):Ha(n)}function qa(n,e){const{onStoppedNotification:t}=hr;t&&zo.setTimeout(()=>t(n,e))}const Ga={closed:!0,next:fr,error:function vl(n){throw n},complete:fr},Zr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ti(n){return n}function ta(n){return 0===n.length?Ti:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function D(n){return n&&n instanceof ys||function yl(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}(n)&&gl(n)}(t)?t:new Ci(t,i,r);return go(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Wa(i))((r,o)=>{const s=new Ci({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Zr](){return this}pipe(...t){return ta(t)(this)}toPromise(t){return new(t=Wa(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Wa(n){var e;return null!==(e=n??hr.Promise)&&void 0!==e?e:Promise}const C=gi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let T=(()=>{class n extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Z(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new C}next(t){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ur:(this.currentObservers=null,o.push(t),new Nt(()=>{this.currentObservers=null,oi(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new yt;return t.source=this,t}}return n.create=(e,t)=>new Z(e,t),n})();class Z extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:ur}}function N(n){return Ne(n?.lift)}function ce(n){return e=>{if(N(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,i,r){return new dt(n,e,t,i,r)}class dt extends ys{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(n,e){return ce((t,i)=>{let r=0;t.subscribe(ve(i,o=>{i.next(n.call(e,o,r++))}))})}var Gt=Ye(582);const jn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function rt(n){return Ne(n?.then)}function Vi(n){return Ne(n[Zr])}function _o(n){return Symbol.asyncIterator&&Ne(n?.[Symbol.asyncIterator])}function Wo(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $=function ou(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function O(n){return Ne(n?.[$])}function re(n){return(0,Gt.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Gt.qq)(t.read());if(r)return yield(0,Gt.qq)(void 0);yield yield(0,Gt.qq)(i)}}finally{t.releaseLock()}})}function ke(n){return Ne(n?.getReader)}function De(n){if(n instanceof yt)return n;if(null!=n){if(Vi(n))return function ut(n){return new yt(e=>{const t=n[Zr]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(jn(n))return function Ct(n){return new yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(rt(n))return function _i(n){return new yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ha)})}(n);if(_o(n))return Zo(n);if(O(n))return function On(n){return new yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ke(n))return function Za(n){return Zo(re(n))}(n)}throw Wo(n)}function Zo(n){return new yt(e=>{(function yE(n,e){var t,i,r,o;return(0,Gt.mG)(this,void 0,void 0,function*(){try{for(t=(0,Gt.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ko(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function vi(n,e,t=1/0){return Ne(e)?vi((i,r)=>ye((o,s)=>e(i,o,r,s))(De(n(i,r))),t):("number"==typeof e&&(t=e),ce((i,r)=>function Gf(n,e,t,i,r,o,s,a){const c=[];let d=0,h=0,p=!1;const g=()=>{p&&!c.length&&!d&&e.complete()},v=w=>d<i?b(w):c.push(w),b=w=>{o&&e.next(w),d++;let I=!1;De(t(w,h++)).subscribe(ve(e,S=>{r?.(S),o?v(S):e.next(S)},()=>{I=!0},void 0,()=>{if(I)try{for(d--;c.length&&d<i;){const S=c.shift();s?Ko(e,s,()=>b(S)):b(S)}g()}catch(S){e.error(S)}}))};return n.subscribe(ve(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Ka(n=1/0){return vi(Ti,n)}const vo=new yt(n=>n.complete());function G_(n){return n&&Ne(n.schedule)}function bl(n){return n[n.length-1]}function Wf(n){return Ne(bl(n))?n.pop():void 0}function wl(n){return G_(bl(n))?n.pop():void 0}function na(n,e=0){return ce((t,i)=>{t.subscribe(ve(i,r=>Ko(i,n,()=>i.next(r),e),()=>Ko(i,n,()=>i.complete(),e),r=>Ko(i,n,()=>i.error(r),e)))})}function ia(n,e=0){return ce((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Z_(n,e){if(!n)throw new Error("Iterable cannot be null");return new yt(t=>{Ko(t,e,()=>{const i=n[Symbol.asyncIterator]();Ko(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Wt(n,e){return e?function wE(n,e){if(null!=n){if(Vi(n))return function W_(n,e){return De(n).pipe(ia(e),na(e))}(n,e);if(jn(n))return function El(n,e){return new yt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(rt(n))return function Zf(n,e){return De(n).pipe(ia(e),na(e))}(n,e);if(_o(n))return Z_(n,e);if(O(n))return function Kf(n,e){return new yt(t=>{let i;return Ko(t,e,()=>{i=n[$](),Ko(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Ne(i?.return)&&i.return()})}(n,e);if(ke(n))return function Qf(n,e){return Z_(re(n),e)}(n,e)}throw Wo(n)}(n,e):De(n)}function Il(...n){const e=wl(n),t=function bE(n,e){return"number"==typeof bl(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?De(i[0]):Ka(t)(Wt(i,e)):vo}class Ji extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function xe(...n){return Wt(n,wl(n))}function xl(n={}){const{connector:e=(()=>new T),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return ce((w,I)=>{d++,!p&&!h&&g();const S=c=c??e();I.add(()=>{d--,0===d&&!p&&!h&&(a=Yf(b,r))}),S.subscribe(I),!s&&d>0&&(s=new Ci({next:A=>S.next(A),error:A=>{p=!0,g(),a=Yf(v,t,A),S.error(A)},complete:()=>{h=!0,g(),a=Yf(v,i),S.complete()}}),De(w).subscribe(s))})(o)}}function Yf(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return De(e(...t)).subscribe(i)}function Zt(n,e){return ce((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(ve(i,c=>{r?.unsubscribe();let d=0;const h=o++;De(n(c,h)).subscribe(r=ve(i,p=>i.next(e?e(c,p,h,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Cl(n,e=Ti){return n=n??Xf,ce((t,i)=>{let r,o=!0;t.subscribe(ve(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Xf(n,e){return n===e}function Ot(n){for(let e in n)if(n[e]===Ot)return e;throw Error("Could not find renamed property on target object.")}function Qa(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function zn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(zn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Tl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Jf=Ot({__forward_ref__:Ot});function Ft(n){return n.__forward_ref__=Ft,n.toString=function(){return zn(this())},n}function Le(n){return ra(n)?n():n}function ra(n){return"function"==typeof n&&n.hasOwnProperty(Jf)&&n.__forward_ref__===Ft}function Dl(n){return n&&!!n.\u0275providers}const su="https://g.co/ng/security#xss";class V extends Error{constructor(e,t){super(function ws(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const Al=Ot({\u0275cmp:Ot}),Sl=Ot({\u0275dir:Ot}),em=Ot({\u0275pipe:Ot}),au=Ot({\u0275mod:Ot}),Qo=Ot({\u0275fac:Ot}),oa=Ot({__NG_ELEMENT_ID__:Ot}),K_=Ot({__NG_ENV_ID__:Ot});function He(n){return"string"==typeof n?n:null==n?"":String(n)}function kl(n,e){throw new V(-201,!1)}function An(n,e){null==n&&function Oe(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $t(n){return{providers:n.providers||[],imports:n.imports||[]}}function sa(n){return nm(n,Pl)||nm(n,lu)}function nm(n,e){return n.hasOwnProperty(e)?n[e]:null}function Bi(n){return n&&(n.hasOwnProperty(rm)||n.hasOwnProperty(du))?n[rm]:null}const Pl=Ot({\u0275prov:Ot}),rm=Ot({\u0275inj:Ot}),lu=Ot({ngInjectableDef:Ot}),du=Ot({ngInjectorDef:Ot});var ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ht||{});let uu;function tv(){return uu}function Di(n){const e=uu;return uu=n,e}function hu(n,e,t){const i=sa(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ht.Optional?null:void 0!==e?e:void kl(zn(n))}const Lt=globalThis;class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const aa={},ca="__NG_DI_FLAG__",Xa="ngTempTokenPath",mu=/\n/gm,pu="__source";let Ja;function xs(n){const e=Ja;return Ja=n,e}function cm(n,e=ht.Default){if(void 0===Ja)throw new V(-203,!1);return null===Ja?hu(n,void 0,e):Ja.get(n,e&ht.Optional?null:void 0,e)}function j(n,e=ht.Default){return(tv()||cm)(Le(n),e)}function ae(n,e=ht.Default){return j(n,ec(e))}function ec(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lm(n){const e=[];for(let t=0;t<n.length;t++){const i=Le(n[t]);if(Array.isArray(i)){if(0===i.length)throw new V(900,!1);let r,o=ht.Default;for(let s=0;s<i.length;s++){const a=i[s],c=ME(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(j(r,o))}else e.push(j(i))}return e}function la(n,e){return n[ca]=e,n.prototype[ca]=e,n}function ME(n){return n[ca]}function Xo(n){return{toString:n}.toString()}var tc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(tc||{}),Kr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Kr||{});const yo={},bt=[];function av(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Vl(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];_u(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function cv(n){return 3===n||4===n||6===n}function _u(n){return 64===n.charCodeAt(0)}function Bl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||vu(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function vu(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const lv="ng-template";function um(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==av(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function dv(n){return 4===n.type&&n.value!==lv}function hm(n,e,t){return e===(4!==n.type||t?n.value:lv)}function PE(n,e,t){let i=4;const r=n.attrs||[],o=function fm(n){for(let e=0;e<n.length;e++)if(cv(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!hm(n,c,t)||""===c&&1===e.length){if(gr(i))return!1;s=!0}}else{const d=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!um(n.attrs,d,t)){if(gr(i))return!1;s=!0}continue}const p=NE(8&i?"class":c,r,dv(n),t);if(-1===p){if(gr(i))return!1;s=!0;continue}if(""!==d){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==av(v,d,0)||2&i&&d!==g){if(gr(i))return!1;s=!0}}}}else{if(!s&&!gr(i)&&!gr(c))return!1;if(s&&gr(c))continue;s=!1,i=c|1&i}}return gr(i)||s}function gr(n){return 0==(1&n)}function NE(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function OE(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function uv(n,e,t=!1){for(let i=0;i<e.length;i++)if(PE(n,e[i],t))return!0;return!1}function nc(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function mm(n,e){return n?":not("+e.trim()+")":e}function FE(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!gr(s)&&(e+=mm(o,r),r=""),i=s,o=o||!gr(i);t++}return""!==r&&(e+=mm(o,r)),e}function Sn(n){return Xo(()=>{const e=jE(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kr.Emulated,styles:n.styles||bt,_:null,schemas:n.schemas||null,tView:null,id:""};zE(t);const i=n.dependencies;return t.directiveDefs=ic(i,!1),t.pipeDefs=ic(i,!0),t.id=function pm(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function BE(n){return ot(n)||si(n)}function fM(n){return null!==n}function Xt(n){return Xo(()=>({type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function UE(n,e){if(null==n)return yo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Ae(n){return Xo(()=>{const e=jE(n);return zE(e),e})}function ot(n){return n[Al]||null}function si(n){return n[Sl]||null}function Ai(n){return n[em]||null}function Ui(n,e){const t=n[au]||null;if(!t&&!0===e)throw new Error(`Type ${zn(n)} does not have '\u0275mod' property.`);return t}function jE(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||yo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:UE(n.inputs,e),outputs:UE(n.outputs),debugInfo:null}}function zE(n){n.features?.forEach(e=>e(n))}function ic(n,e){if(!n)return null;const t=e?Ai:BE;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(fM)}const kn=0,le=1,ze=2,_n=3,Qr=4,Si=5,Lr=6,Cs=7,Jt=8,ai=9,ha=10,Ze=11,Ul=12,fv=13,jl=14,en=15,yu=16,_r=17,bo=18,zl=19,rc=20,Ts=21,vn=22,fa=23,Be=25,gm=1,bu=2,_m=6,wo=7,oc=9,Mn=11;function Fn(n){return Array.isArray(n)&&"object"==typeof n[gm]}function Ln(n){return Array.isArray(n)&&!0===n[gm]}function vm(n){return 0!=(4&n.flags)}function Jo(n){return n.componentOffset>-1}function Hl(n){return 1==(1&n.flags)}function vr(n){return!!n.template}function ym(n){return 0!=(512&n[ze])}function ma(n,e){return n.hasOwnProperty(Qo)?n[Qo]:null}class Im{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function yr(){return wu}function wu(n){return n.type.prototype.ngOnChanges&&(n.setInput=xm),HE}function HE(){const n=Eu(this),e=n?.current;if(e){const t=n.previous;if(t===yo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function xm(n,e,t,i){const r=this.declaredInputs[t],o=Eu(n)||function Iu(n,e){return n[yv]=e}(n,{previous:yo,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new Im(c&&c.currentValue,e,a===yo),n[i]=e}yr.ngInherit=!0;const yv="__ngSimpleChanges__";function Eu(n){return n[yv]||null}const Vr=function(n,e,t){};function Ht(n){for(;Array.isArray(n);)n=n[kn];return n}function Gl(n,e){return Ht(e[n])}function ji(n,e){return Ht(e[n.index])}function ac(n,e){return n.data[e]}function br(n,e){const t=e[n];return Fn(t)?t:t[kn]}function Am(n){return 128==(128&n[ze])}function Eo(n,e){return null==e?null:n[e]}function xu(n){n[_r]=0}function km(n){1024&n[ze]||(n[ze]|=1024,Am(n)&&Cu(n))}function lc(n){9216&n[ze]&&Cu(n)}function Cu(n){let e=n[_n];for(;null!==e&&!(Ln(e)&&e[_m]||Fn(e)&&8192&e[ze]);){if(Ln(e))e[_m]=!0;else if(e[ze]|=8192,!Am(e))break;e=e[_n]}}function Tu(n,e){if(256==(256&n[ze]))throw new V(911,!1);null===n[Ts]&&(n[Ts]=[]),n[Ts].push(e)}const Ue={lFrame:Rv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Iv(){return Ue.bindingsEnabled}function dc(){return null!==Ue.skipHydrationRootTNode}function H(){return Ue.lFrame.lView}function mt(){return Ue.lFrame.tView}function Vt(n){return Ue.lFrame.contextLView=n,n[Jt]}function At(n){return Ue.lFrame.contextLView=null,n}function St(){let n=Au();for(;null!==n&&64===n.type;)n=n.parent;return n}function Au(){return Ue.lFrame.currentTNode}function Br(n,e){const t=Ue.lFrame;t.currentTNode=n,t.isParent=e}function Nm(){return Ue.lFrame.isParent}function Su(){Ue.lFrame.isParent=!1}function Io(){return Ue.lFrame.bindingIndex++}function es(n){const e=Ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function QE(n,e){const t=Ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fm(e)}function Fm(n){Ue.lFrame.currentDirectiveIndex=n}function hc(n){const e=Ue.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Sv(){return Ue.lFrame.currentQueryIndex}function Lm(n){Ue.lFrame.currentQueryIndex=n}function YE(n){const e=n[le];return 2===e.type?e.declTNode:1===e.type?n[Si]:null}function kv(n,e,t){if(t&ht.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ht.Host||(r=YE(o),null===r||(o=o[jl],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Ue.lFrame=Mv();return i.currentTNode=e,i.lView=n,!0}function Vm(n){const e=Mv(),t=n[le];Ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Mv(){const n=Ue.lFrame,e=null===n?null:n.child;return null===e?Rv(n):e}function Rv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Pv(){const n=Ue.lFrame;return Ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ku=Pv;function Bm(){const n=Pv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zi(){return Ue.lFrame.selectedIndex}function pa(n){Ue.lFrame.selectedIndex=n}function sn(){const n=Ue.lFrame;return ac(n.tView,n.selectedIndex)}let Fv=!0;function fc(){return Fv}function xo(n){Fv=n}function mc(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Mu(n,e,t){Ru(n,e,3,t)}function Zl(n,e,t,i){(3&n[ze])===t&&Ru(n,e,t,i)}function jm(n,e){let t=n[ze];(3&t)===e&&(t&=16383,t+=1,n[ze]=t)}function Ru(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[_r]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[_r]+=65536),(a<o||-1==o)&&(SM(n,t,e,c),n[_r]=(4294901760&n[_r])+c+2),c++}function Lv(n,e){Vr(4,n,e);const t=Xe(null);try{e.call(n)}finally{Xe(t),Vr(5,n,e)}}function SM(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[ze]>>14<n[_r]>>16&&(3&n[ze])===e&&(n[ze]+=16384,Lv(a,o)):Lv(a,o)}const ks=-1;class pc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function zm(n){return n!==ks}function gc(n){return 32767&n}function Ou(n,e){let t=function rI(n){return n>>16}(n),i=e;for(;t>0;)i=i[jl],t--;return i}let ts=!0;function Fu(n){const e=ts;return ts=n,e}const Lu=255,Bv=5;let $m=0;const Co={};function _c(n,e){const t=Uv(n,e);if(-1!==t)return t;const i=e[le];i.firstCreatePass&&(n.injectorIndex=e.length,Hm(i.data,n),Hm(e,null),Hm(i.blueprint,null));const r=vc(n,e),o=n.injectorIndex;if(zm(r)){const s=gc(r),a=Ou(r,e),c=a[le].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function Hm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Uv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function vc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=qv(r),null===i)return ks;if(t++,r=r[jl],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ks}function qm(n,e,t){!function oI(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(oa)&&(i=t[oa]),null==i&&(i=t[oa]=$m++);const r=i&Lu;e.data[n+(r>>Bv)]|=1<<r}(n,e,t)}function jv(n,e,t){if(t&ht.Optional||void 0!==n)return n;kl()}function zv(n,e,t,i){if(t&ht.Optional&&void 0===i&&(i=null),!(t&(ht.Self|ht.Host))){const r=n[ai],o=Di(void 0);try{return r?r.get(e,i,t&ht.Optional):hu(e,i,t&ht.Optional)}finally{Di(o)}}return jv(i,0,t)}function $v(n,e,t,i=ht.Default,r){if(null!==n){if(2048&e[ze]&&!(i&ht.Self)){const s=function cI(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ze]&&!(512&s[ze]);){const a=Gm(o,s,t,i|ht.Self,Co);if(a!==Co)return a;let c=o.parent;if(!c){const d=s[rc];if(d){const h=d.get(t,Co,i);if(h!==Co)return h}c=qv(s),s=s[jl]}o=c}return r}(n,e,t,i,Co);if(s!==Co)return s}const o=Gm(n,e,t,i,Co);if(o!==Co)return o}return zv(e,t,i,r)}function Gm(n,e,t,i,r){const o=function Zm(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(oa)?n[oa]:void 0;return"number"==typeof e?e>=0?e&Lu:aI:e}(t);if("function"==typeof o){if(!kv(e,n,i))return i&ht.Host?jv(r,0,i):zv(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ht.Optional)return s;kl()}finally{ku()}}else if("number"==typeof o){let s=null,a=Uv(n,e),c=ks,d=i&ht.Host?e[en][Si]:null;for((-1===a||i&ht.SkipSelf)&&(c=-1===a?vc(n,e):e[a+8],c!==ks&&Hv(i,!1)?(s=e[le],a=gc(c),e=Ou(c,e)):a=-1);-1!==a;){const h=e[le];if(Bu(o,a,h.data)){const p=Wm(a,e,t,s,i,d);if(p!==Co)return p}c=e[a+8],c!==ks&&Hv(i,e[le].data[a+8]===d)&&Bu(o,a,e)?(s=h,a=gc(c),e=Ou(c,e)):a=-1}}return r}function Wm(n,e,t,i,r,o){const s=e[le],a=s.data[n+8],h=Vu(a,s,t,null==i?Jo(a)&&ts:i!=s&&0!=(3&a.type),r&ht.Host&&o===a);return null!==h?ga(e,s,h,a):Co}function Vu(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&vr(v)&&v.type===t)return c}return null}function ga(n,e,t,i){let r=n[t];const o=e.data;if(function Pu(n){return n instanceof pc}(r)){const s=r;s.resolving&&function EE(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${t}`)}(function _t(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(o[t]));const a=Fu(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Di(s.injectImpl):null;kv(n,i,ht.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function tI(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=wu(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&Di(d),Fu(a),s.resolving=!1,ku()}}return r}function Bu(n,e,t){return!!(t[e+(n>>Bv)]&1<<n)}function Hv(n,e){return!(n&ht.Self||n&ht.Host&&e)}class Yn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return $v(this._tNode,this._lView,e,ec(i),t)}}function aI(){return new Yn(St(),H())}function yn(n){return Xo(()=>{const e=n.prototype.constructor,t=e[Qo]||Uu(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Qo]||Uu(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Uu(n){return ra(n)?()=>{const e=Uu(Le(n));return e&&e()}:ma(n)}function qv(n){const e=n[le],t=e.type;return 2===t?e.declTNode:1===t?n[Si]:null}const To="__parameters__";function Ec(n,e,t){return Xo(()=>{const i=function Qm(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,d,h){const p=c.hasOwnProperty(To)?c[To]:Object.defineProperty(c,To,{value:[]})[To];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function va(n,e){n.forEach(t=>Array.isArray(t)?va(t,e):e(t))}function Kv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xr(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function tn(n,e,t){let i=Ms(n,e);return i>=0?n[1|i]=t:(i=~i,function Qv(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Ql(n,e){const t=Ms(n,e);if(t>=0)return n[1|t]}function Ms(n,e){return function Do(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const f=la(Ec("Optional"),8),u=la(Ec("SkipSelf"),4),ya=new X("ENVIRONMENT_INITIALIZER"),np=new X("INJECTOR",-1),Jl=new X("INJECTOR_DEF_TYPES");class ed{get(e,t=aa){if(t===aa){const i=new Error(`NullInjectorError: No provider for ${zn(e)}!`);throw i.name="NullInjectorError",i}return t}}function rp(...n){return{\u0275providers:iy(0,n),\u0275fromNgModule:!0}}function iy(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return va(e,s=>{const a=s;ry(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&LM(r,o),t}function LM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];_I(r,o=>{e(o,i)})}}function ry(n,e,t,i){if(!(n=Le(n)))return!1;let r=null,o=Bi(n);const s=!o&&ot(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Bi(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)ry(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{va(o.imports,h=>{ry(h,e,t,i)&&(d||=[],d.push(h))})}finally{}void 0!==d&&LM(d,e)}if(!a){const d=ma(r)||(()=>new r);e({provide:r,useFactory:d,deps:bt},r),e({provide:Jl,useValue:r,multi:!0},r),e({provide:ya,useValue:()=>j(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const d=n;_I(c,h=>{e(h,d)})}}}return r!==n&&void 0!==n.providers}function _I(n,e){for(let t of n)Dl(t)&&(t=t.\u0275providers),Array.isArray(t)?_I(t,e):e(t)}const nH=Ot({provide:String,useValue:Ot});function vI(n){return null!==n&&"object"==typeof n&&nH in n}function td(n){return"function"==typeof n}const yI=new X("Set Injector scope."),oy={},rH={};let bI;function sy(){return void 0===bI&&(bI=new ed),bI}class Jr{}class nd extends Jr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,EI(e,s=>this.processProvider(s)),this.records.set(np,$u(void 0,this)),r.has("environment")&&this.records.set(Jr,$u(void 0,this));const o=this.records.get(yI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jl,bt,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=xs(this),i=Di(void 0);try{return e()}finally{xs(t),Di(i)}}get(e,t=aa,i=ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(K_))return e[K_](this);i=ec(i);const o=xs(this),s=Di(void 0);try{if(!(i&ht.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function lH(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&sa(e);c=d&&this.injectableDefInScope(d)?$u(wI(e),oy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&ht.Self?sy():this.parent).get(e,t=i&ht.Optional&&t===aa?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Xa]=a[Xa]||[]).unshift(zn(e)),o)throw a;return function dm(n,e,t,i){const r=n[Xa];throw e[pu]&&r.unshift(e[pu]),n.message=function RE(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=zn(e);if(Array.isArray(e))r=e.map(zn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):zn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(mu,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Xa]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Di(s),xs(o)}}resolveInjectorInitializers(){const e=xs(this),t=Di(void 0);try{const r=this.get(ya,bt,ht.Self);for(const o of r)o()}finally{xs(e),Di(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(zn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){let t=td(e=Le(e))?e:Le(e&&e.provide);const i=function sH(n){return vI(n)?$u(void 0,n.useValue):$u(UM(n),oy)}(e);if(td(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=$u(void 0,oy,!0),r.factory=()=>lm(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===oy&&(t.value=rH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function cH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Le(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function wI(n){const e=sa(n),t=null!==e?e.factory:ma(n);if(null!==t)return t;if(n instanceof X)throw new V(204,!1);if(n instanceof Function)return function oH(n){const e=n.length;if(e>0)throw xc(e,"?"),new V(204,!1);const t=function im(n){return n&&(n[Pl]||n[lu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new V(204,!1)}function UM(n,e,t){let i;if(td(n)){const r=Le(n);return ma(r)||wI(r)}if(vI(n))i=()=>Le(n.useValue);else if(function BM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...lm(n.deps||[]));else if(function VM(n){return!(!n||!n.useExisting)}(n))i=()=>j(Le(n.useExisting));else{const r=Le(n&&(n.useClass||n.provide));if(!function aH(n){return!!n.deps}(n))return ma(r)||wI(r);i=()=>new r(...lm(n.deps))}return i}function $u(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function EI(n,e){for(const t of n)Array.isArray(t)?EI(t,e):t&&Dl(t)?EI(t.\u0275providers,e):e(t)}function HM(n,e=null,t=null,i){const r=qM(n,e,t,i);return r.resolveInjectorInitializers(),r}function qM(n,e=null,t=null,i,r=new Set){const o=[t||bt,rp(n)];return i=i||("object"==typeof n?void 0:zn(n)),new nd(o,e||sy(),i||null,r)}let CI,Er=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=aa;static#t=this.NULL=new ed;static create(t,i){if(Array.isArray(t))return HM({name:""},i,t,"");{const r=t.name??"";return HM({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ue({token:n,providedIn:"any",factory:()=>j(np)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const cy=new X("AppId",{providedIn:"root",factory:()=>yH}),yH="ng",WM=new X("Platform Initializer"),is=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hu=new X("AnimationModuleType"),TI=new X("CSP nonce",{providedIn:"root",factory:()=>function Tc(){if(void 0!==CI)return CI;if(typeof document<"u")return document;throw new V(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function eo(n){return n instanceof Function?n():n}function hy(n){return 128==(128&n.flags)}var Sc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Sc||{});const SH=/^>|^->|<!--|-->|--!>|<!-$/g,kH=/(<|>)/g,MH="\u200b$1\u200b";const MI=new Map;let RH=0;const PI="__ngContext__";function nr(n,e){Fn(e)?(n[PI]=e[zl],function NH(n){MI.set(n[zl],n)}(e)):n[PI]=e}let NI;function OI(n,e){return NI(n,e)}function lp(n){const e=n[_n];return Ln(e)?e[_n]:e}function uR(n){return fR(n[Ul])}function hR(n){return fR(n[Qr])}function fR(n){for(;null!==n&&!Ln(n);)n=n[Qr];return n}function Gu(n,e,t,i,r){if(null!=i){let o,s=!1;Ln(i)?o=i:Fn(i)&&(s=!0,i=i[kn]);const a=Ht(i);0===n&&null!==t?null==r?_R(e,t,a):id(e,t,a,r||null,!0):1===n&&null!==t?id(e,t,a,r||null,!0):2===n?function yy(n,e,t){const i=_y(n,e);i&&function JH(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function n6(n,e,t,i,r){const o=t[wo];o!==Ht(t)&&Gu(e,n,i,o,r);for(let a=Mn;a<t.length;a++){const c=t[a];hp(c[le],c,n,e,i,o)}}(e,n,o,t,r)}}function FI(n,e){return n.createComment(function iR(n){return n.replace(SH,e=>e.replace(kH,MH))}(e))}function py(n,e,t){return n.createElement(e,t)}function pR(n,e){const t=n[oc],i=t.indexOf(e);t.splice(i,1)}function dp(n,e){if(n.length<=Mn)return;const t=Mn+e,i=n[t];if(i){const r=i[yu];null!==r&&r!==n&&pR(r,i),e>0&&(n[t-1][Qr]=i[Qr]);const o=Xr(n,Mn+e);!function qH(n,e){hp(n,e,e[Ze],2,null,null),e[kn]=null,e[Si]=null}(i[le],i);const s=o[bo];null!==s&&s.detachView(o[le]),i[_n]=null,i[Qr]=null,i[ze]&=-129}return i}function gy(n,e){if(!(256&e[ze])){const t=e[Ze];e[fa]&&function xi(n){if(Li(n),Pt(n))for(let e=0;e<n.producerNode.length;e++)It(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[fa]),t.destroyNode&&hp(n,e,t,3,null,null),function ZH(n){let e=n[Ul];if(!e)return LI(n[le],n);for(;e;){let t=null;if(Fn(e))t=e[Ul];else{const i=e[Mn];i&&(t=i)}if(!t){for(;e&&!e[Qr]&&e!==n;)Fn(e)&&LI(e[le],e),e=e[_n];null===e&&(e=n),Fn(e)&&LI(e[le],e),t=e&&e[Qr]}e=t}}(e)}}function LI(n,e){if(!(256&e[ze])){e[ze]&=-129,e[ze]|=256,function XH(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof pc)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Vr(4,a,c);try{c.call(a)}finally{Vr(5,a,c)}}else{Vr(4,r,o);try{o.call(r)}finally{Vr(5,r,o)}}}}}(n,e),function YH(n,e){const t=n.cleanup,i=e[Cs];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Cs]=null);const r=e[Ts];if(null!==r){e[Ts]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[le].type&&e[Ze].destroy();const t=e[yu];if(null!==t&&Ln(e[_n])){t!==e[_n]&&pR(t,e);const i=e[bo];null!==i&&i.detachView(n)}!function OH(n){MI.delete(n[zl])}(e)}}function VI(n,e,t){return function gR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[kn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Kr.None||o===Kr.Emulated)return null}return ji(i,t)}}(n,e.parent,t)}function id(n,e,t,i,r){n.insertBefore(e,t,i,r)}function _R(n,e,t){n.appendChild(e,t)}function vR(n,e,t,i,r){null!==i?id(n,e,t,i,r):_R(n,e,t)}function _y(n,e){return n.parentNode(e)}function yR(n,e,t){return wR(n,e,t)}let BI,wy,wR=function bR(n,e,t){return 40&n.type?ji(n,t):null};function vy(n,e,t,i){const r=VI(n,i,e),o=e[Ze],a=yR(i.parent||e[Si],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)vR(o,r,t[c],a,!1);else vR(o,r,t,a,!1);void 0!==BI&&BI(o,i,e,t,r)}function up(n,e){if(null!==e){const t=e.type;if(3&t)return ji(e,n);if(4&t)return UI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return up(n,i);{const r=n[e.index];return Ln(r)?UI(-1,r):Ht(r)}}if(32&t)return OI(e,n)()||Ht(n[e.index]);{const i=IR(n,e);return null!==i?Array.isArray(i)?i[0]:up(lp(n[en]),i):up(n,e.next)}}return null}function IR(n,e){return null!==e?n[en][Si].projection[e.projection]:null}function UI(n,e){const t=Mn+n+1;if(t<e.length){const i=e[t],r=i[le].firstChild;if(null!==r)return up(i,r)}return e[wo]}function jI(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&nr(Ht(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)jI(n,e,t.child,i,r,o,!1),Gu(e,n,r,a,o);else if(32&c){const d=OI(t,i);let h;for(;h=d();)Gu(e,n,r,h,o);Gu(e,n,r,a,o)}else 16&c?CR(n,e,i,t,r,o):Gu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function hp(n,e,t,i,r,o){jI(t,i,n.firstChild,e,r,o,!1)}function CR(n,e,t,i,r,o){const s=t[en],c=s[Si].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Gu(e,n,r,c[d],o);else{let d=c;const h=s[_n];hy(i)&&(d.flags|=128),jI(n,e,d,h,r,o,!0)}}function TR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function DR(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Vl(n,e,i),null!==r&&TR(n,e,r),null!==o&&function r6(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function kR(n){return function $I(){if(void 0===wy&&(wy=null,Lt.trustedTypes))try{wy=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wy}()?.createScriptURL(n)||n}class rd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${su})`}}function to(n){return n instanceof rd?n.changingThisBreaksApplicationSecurity:n}function Rs(n,e){const t=function f6(n){return n instanceof rd&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${su})`)}return t===e}const E6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $i=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($i||{});function mp(n){const e=pp();return e?e.sanitize($i.URL,n)||"":Rs(n,"URL")?to(n):function Ey(n){return(n=String(n)).match(E6)?n:"unsafe:"+n}(He(n))}function VR(n){const e=pp();if(e)return kR(e.sanitize($i.RESOURCE_URL,n)||"");if(Rs(n,"ResourceURL"))return kR(to(n));throw new V(904,!1)}function pp(){const n=H();return n&&n[ha].sanitizer}let UR=(n,e,t)=>null;function ex(n,e,t=!1){return UR(n,e,t)}class z6{}class $R{}class H6{resolveComponentFactory(e){throw function $6(n){const e=Error(`No component factory found for ${zn(n)}.`);return e.ngComponent=n,e}(e)}}let Sy=(()=>{class n{static#e=this.NULL=new H6}return n})();function q6(){return Qu(St(),H())}function Qu(n,e){return new an(ji(n,e))}let an=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=q6}return n})();function G6(n){return n instanceof an?n.nativeElement:n}class ix{}let wa=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function W6(){const n=H(),t=br(St().index,n);return(Fn(t)?t:n)[Ze]}()}return n})(),Z6=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null})}return n})();class kc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qR=new kc("17.0.2"),rx={};function ky(n){return!!function ox(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class WR{constructor(){}supports(e){return ky(e)}create(e){return new J6(e)}}const X6=(n,e)=>e;class J6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||X6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<KR(i,r,o)?t:i,a=KR(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,h=c-r;if(d!=h){for(let g=0;g<d;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<d&&(o[g]=v+1)}o[s.previousIndex]=h-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ky(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function Y6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new e5(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ZR),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class e5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class t5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class ZR{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new t5,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KR(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function YR(){return new My([new WR])}let My=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:YR});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||YR()),deps:[[n,new u,new f]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new V(901,!1)}}return n})();function yp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Ht(o)),Ln(o)&&JR(o,i);const s=t.type;if(8&s)yp(n,e,t.child,i);else if(32&s){const a=OI(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=IR(e,t);if(Array.isArray(a))i.push(...a);else{const c=lp(e[en]);yp(c[le],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function JR(n,e){for(let t=Mn;t<n.length;t++){const i=n[t],r=i[le].firstChild;null!==r&&yp(i[le],i,r,e)}n[wo]!==n[kn]&&e.push(n[wo])}let e1=[];const c5={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Cu(n.lView)},consumerOnSignalRead(){this.lView[fa]=this}};function sx(n){return n.ngOriginalError}class rs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sx(e);for(;t&&sx(t);)t=sx(t);return t||null}}const r1=new X("",{providedIn:"root",factory:()=>!1}),et={};function Ee(n){c1(mt(),H(),zi()+n,!1)}function c1(n,e,t,i){if(!i)if(3==(3&e[ze])){const o=n.preOrderCheckHooks;null!==o&&Mu(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Zl(e,o,0,t)}pa(t)}function R(n,e=ht.Default){const t=H();return null===t?j(n,e):$v(St(),t,Le(n),e)}function Py(n,e,t,i,r,o,s,a,c,d,h){const p=e.blueprint.slice();return p[kn]=r,p[ze]=140|i,(null!==d||n&&2048&n[ze])&&(p[ze]|=2048),xu(p),p[_n]=p[jl]=n,p[Jt]=t,p[ha]=s||n&&n[ha],p[Ze]=a||n&&n[Ze],p[ai]=c||n&&n[ai]||null,p[Si]=o,p[zl]=function PH(){return RH++}(),p[Lr]=h,p[rc]=d,p[en]=2==e.type?n[en]:p,p}function Yu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function ax(n,e,t,i,r){const o=Au(),s=Nm(),c=n.data[e]=function w5(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return dc()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Om(){return Ue.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function uc(){const n=Ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Br(o,!0),o}function bp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function d1(n,e,t,i,r){const o=zi(),s=2&i;try{pa(-1),s&&e.length>Be&&c1(n,e,Be,!1),Vr(s?2:0,r),t(i,r)}finally{pa(o),Vr(s?3:1,r)}}function cx(n,e,t){if(vm(e)){const i=Xe(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Xe(i)}}}function lx(n,e,t){Iv()&&(function A5(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Jo(t)&&function O5(n,e,t){const i=ji(e,n),r=u1(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Ny(n,Py(n,r,null,s,i,e,null,n[ha].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||_c(t,e),nr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],d=ga(e,n,a,t);nr(d,e),null!==s&&F5(0,a-r,d,c,0,s),vr(c)&&(br(t.index,e)[Jt]=ga(e,n,a,t))}}(n,e,t,ji(t,e)),64==(64&t.flags)&&g1(n,e,t))}function dx(n,e,t=ji){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function u1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ux(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ux(n,e,t,i,r,o,s,a,c,d,h){const p=Be+i,g=p+r,v=function p5(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:et);return t}(p,g),b="function"==typeof d?d():d;return v[le]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let h1=n=>null;function f1(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?m1(t,e,r,o):i.hasOwnProperty(r)&&m1(t,e,i[r],o)}return t}function m1(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function no(n,e,t,i,r,o,s,a){const c=ji(e,t);let h,d=e.inputs;!a&&null!=d&&(h=d[i])?(gx(n,t,h,i,r),Jo(e)&&function x5(n,e){const t=br(e,n);16&t[ze]||(t[ze]|=64)}(t,e.index)):3&e.type&&(i=function I5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function hx(n,e,t,i){if(Iv()){const r=null===i?null:{"":-1},o=function k5(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(uv(e,s.selectors,!1))if(i||(i=[]),vr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),fx(n,e,a.length)}else i.unshift(s),fx(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&p1(n,e,t,s,r,a),r&&function M5(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new V(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Bl(t.mergedAttrs,t.attrs)}function p1(n,e,t,i,r,o){for(let d=0;d<i.length;d++)qm(_c(t,e),n,i[d].type);!function P5(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const h=i[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=bp(n,e,i.length,null);for(let d=0;d<i.length;d++){const h=i[d];t.mergedAttrs=Bl(t.mergedAttrs,h.hostAttrs),N5(n,t,e,c,h),R5(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function E5(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=f1(p.inputs,h,c,g?g.inputs:null),d=f1(p.outputs,h,d,b);const w=null===c||null===s||dv(e)?null:L5(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function g1(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Av(){return Ue.lFrame.currentDirectiveIndex}();try{pa(o);for(let a=i;a<r;a++){const c=n.data[a],d=e[a];Fm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&S5(c,d)}}finally{pa(-1),Fm(s)}}function S5(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function fx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function R5(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;vr(e)&&(t[""]=n)}}function N5(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ma(r.type)),s=new pc(o,vr(r),R);n.blueprint[i]=s,t[i]=s,function T5(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function D5(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,bp(n,t,r.hostVars,et),r)}function Ps(n,e,t,i,r,o){const s=ji(n,e);!function mx(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?He(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ze],s,o,n.value,t,i,r)}function F5(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)_1(i,t,s[a++],s[a++],s[a++])}function _1(n,e,t,i,r){const o=Xe(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Xe(o)}}function L5(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function v1(n,e,t,i){return[n,!0,!1,e,null,i,!1,t,null,null,null]}function y1(n,e){const t=n.contentQueries;if(null!==t){const i=Xe(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Lm(t[r]),a.contentQueries(2,e[s],s)}}}finally{Xe(i)}}}function Ny(n,e){return n[Ul]?n[fv][Qr]=e:n[Ul]=e,n[fv]=e,e}function px(n,e,t){Lm(0);const i=Xe(null);try{e(n,t)}finally{Xe(i)}}function b1(n){return n[Cs]||(n[Cs]=[])}function w1(n){return n.cleanup||(n.cleanup=[])}function E1(n,e,t){return(null===n||vr(n))&&(t=function Cm(n){for(;Array.isArray(n);){if("object"==typeof n[gm])return n;n=n[kn]}return null}(t[e.index])),t[Ze]}function Oy(n,e){const t=n[ai],i=t?t.get(rs,null):null;i&&i.handleError(e)}function gx(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];_1(n.data[s],e[s],i,a,r)}}function Ea(n,e,t){const i=Gl(e,n);!function mR(n,e,t){n.setValue(e,t)}(n[Ze],i,t)}function I1(n,e,t,i){const r=e[ze];if(256==(256&r))return;e[ha].inlineEffectRunner?.flush(),Vm(e);let s=null,a=null;(function j5(n){return 2!==n.type})(n)&&(a=function o5(n){return n[fa]??function s5(n){const e=e1.pop()??Object.create(c5);return e.lView=n,e}(n)}(e),s=function tt(n){return n&&(n.nextProducerIndex=0),Xe(n)}(a));try{xu(e),function Tv(n){return Ue.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&d1(n,e,t,2,i);const c=3==(3&r);if(c){const p=n.preOrderCheckHooks;null!==p&&Mu(e,p,null)}else{const p=n.preOrderHooks;null!==p&&Zl(e,p,0,null),jm(e,0)}if(function z5(n){for(let e=uR(n);null!==e;e=hR(e)){if(!e[bu])continue;const t=e[oc];for(let i=0;i<t.length;i++){km(t[i])}}}(e),x1(e,0),null!==n.contentQueries&&y1(n,e),c){const p=n.contentCheckHooks;null!==p&&Mu(e,p)}else{const p=n.contentHooks;null!==p&&Zl(e,p,1),jm(e,1)}!function m5(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)pa(~r);else{const o=r,s=t[++i],a=t[++i];QE(s,o),a(2,e[o])}}}finally{pa(-1)}}(n,e);const d=n.components;null!==d&&D1(e,d,0);const h=n.viewQuery;if(null!==h&&px(2,h,i),c){const p=n.viewCheckHooks;null!==p&&Mu(e,p)}else{const p=n.viewHooks;null!==p&&Zl(e,p,2),jm(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[vn]){for(const p of e[vn])p();e[vn]=null}e[ze]&=-73}catch(c){throw Cu(e),c}finally{null!==a&&(function ct(n,e){if(Xe(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Pt(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)It(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function a5(n){n.lView[fa]!==n&&(n.lView=null,e1.push(n))}(a)),Bm()}}function x1(n,e){for(let t=uR(n);null!==t;t=hR(t)){t[_m]=!1;for(let i=Mn;i<t.length;i++)C1(t[i],e)}}function $5(n,e,t){C1(br(e,n),t)}function C1(n,e){Am(n)&&T1(n,e)}function T1(n,e){const i=n[le],r=n[ze],o=n[fa];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!Kn(o)),o&&(o.dirty=!1),n[ze]&=-9217,s)I1(i,n,i.template,n[Jt]);else if(8192&r){x1(n,1);const a=i.components;null!==a&&D1(n,a,1)}}function D1(n,e,t){for(let i=0;i<e.length;i++)$5(n,e[i],t)}function wp(n){for(;n;){n[ze]|=64;const e=lp(n);if(ym(n)&&!e)return n;n=e}return null}class Ep{get rootNodes(){const e=this._lView,t=e[le];return yp(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return 256==(256&this._lView[ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[_n];if(Ln(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(dp(e,i),Xr(t,i))}this._attachedToViewContainer=!1}gy(this._lView[le],this._lView)}onDestroy(e){Tu(this._lView,e)}markForCheck(){wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ze]&=-129}reattach(){lc(this._lView),this._lView[ze]|=128}detectChanges(){!function _x(n,e,t,i=!0){const r=e[ha],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{I1(n,e,n.template,t),function B5(n){let e=0;for(;9216&n[ze]||n[fa]?.dirty;){if(100===e)throw new V(103,!1);e++,T1(n,1)}}(e)}catch(c){throw i&&Oy(e,c),c}finally{o.end?.(),r.inlineEffectRunner?.flush(),s?.end()}}(this._lView[le],this._lView,this.context,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WH(n,e){hp(n,e,e[Ze],2,null,null)}(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e}}let Ia=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=H5}return n})();function H5(n){return function q5(n,e,t){if(Jo(n)&&!t){const i=br(n.index,e);return new Ep(i,i)}return 47&n.type?new Ep(e[en],e):null}(St(),H(),16==(16&n))}let Fy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=K5;static#t=this.__NG_ENV_ID__=t=>t}return n})();class Z5 extends Fy{constructor(e){super(),this._lView=e}onDestroy(e){return Tu(this._lView,e),()=>function Wl(n,e){if(null===n[Ts])return;const t=n[Ts].indexOf(e);-1!==t&&n[Ts].splice(t,1)}(this._lView,e)}}function K5(){return new Z5(H())}const A1=new Set;function od(n){A1.has(n)||(A1.add(n),performance?.mark?.("mark_use_counter",{detail:{feature:n}}))}function vx(n){return e=>{setTimeout(n,void 0,e)}}const Kt=class n8 extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=vx(o),r&&(r=vx(r)),s&&(s=vx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Nt&&e.add(a),a}};function S1(...n){}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function i8(){const n="function"==typeof Lt.requestAnimationFrame;let e=Lt[n?"requestAnimationFrame":"setTimeout"],t=Lt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function s8(n){const e=()=>{!function o8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Lt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,bx(n),n.isCheckStableRunning=!0,yx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),bx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function c8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return k1(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),M1(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return k1(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),M1(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,bx(n),yx(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new V(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,r8,S1,S1);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const r8={};function yx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function k1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function M1(n){n._nesting--,yx(n)}class a8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const R1=new X("",{providedIn:"root",factory:P1});function P1(){const n=ae(je);let e=!0;return Il(new yt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new yt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{je.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(xl()))}var sd=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(sd||{});const N1={destroy(){}};function F1(n,e){!e&&function II(n){if(!tv()&&!function am(){return Ja}())throw new V(-203,!1)}();const t=e?.injector??ae(Er);if(!function Dc(n){return"browser"===(n??ae(Er)).get(is)}(t))return N1;od("NgAfterNextRender");const i=t.get(Ly),r=i.handler??=new V1,o=e?.phase??sd.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Fy).onDestroy(s),c=new L1(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class L1{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(je),this.errorHandler=e.get(rs,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class V1{constructor(){this.executingCallbacks=!1,this.buckets={[sd.EarlyRead]:new Set,[sd.Write]:new Set,[sd.MixedReadWrite]:new Set,[sd.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new V(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Ly=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})();function d8(n,e){const t=br(e,n),i=t[le];!function u8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[kn];null!==r&&null===t[Lr]&&(t[Lr]=ex(r,t[ai])),wx(i,t,t[Jt])}function wx(n,e,t){Vm(e);try{const i=n.viewQuery;null!==i&&px(1,i,t);const r=n.template;null!==r&&d1(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&y1(n,e),n.staticViewQueries&&px(2,n.viewQuery,t);const o=n.components;null!==o&&function h8(n,e){for(let t=0;t<e.length;t++)d8(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ze]&=-5,Bm()}}function Vy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Tl(r,a):2==o&&(i=Tl(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class B1 extends Sy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ot(e);return new Ip(t,this.ngModule)}}function U1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class m8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ec(i);const r=this.injector.get(e,rx,i);return r!==rx||t===rx?r:this.parentInjector.get(e,t,i)}}class Ip extends $R{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=U1(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return U1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function LE(n){return n.map(FE).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Jr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new m8(e,o):e,a=s.get(ix,null);if(null===a)throw new V(407,!1);const h={rendererFactory:a,sanitizer:s.get(Z6,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Ly,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function g5(n,e,t,i){const o=i.get(r1,!1)||t===Kr.ShadowDom,s=n.selectRootElement(e,o);return function _5(n){h1(n)}(s),s}(p,i,this.componentDef.encapsulation,s):py(p,g,function f8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==v&&(S=ex(v,s,!0));const A=ux(0,null,null,1,0,null,null,null,null,null,null),M=Py(null,A,null,I,null,null,h,p,s,null,S);let Y,de;Vm(M);try{const Ie=this.componentDef;let We,un=null;Ie.findHostDirectiveDefs?(We=[],un=new Map,Ie.findHostDirectiveDefs(Ie,We,un),We.push(Ie)):We=[Ie];const ho=function g8(n,e){const t=n[le],i=Be;return n[i]=e,Yu(t,i,2,"#host",null)}(M,v),Wr=function _8(n,e,t,i,r,o,s){const a=r[le];!function v8(n,e,t,i){for(const r of n)e.mergedAttrs=Bl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Vy(e,e.mergedAttrs,!0),null!==t&&DR(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=ex(e,r[ai]));const d=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=Py(r,u1(t),null,h,r[n.index],n,o,d,null,null,c);return a.firstCreatePass&&fx(a,n,i.length-1),Ny(r,p),r[n.index]=p}(ho,v,Ie,We,M,h,p);de=ac(A,Be),v&&function b8(n,e,t,i){if(i)Vl(n,t,["ng-version",qR.full]);else{const{attrs:r,classes:o}=function VE(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!gr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Vl(n,t,r),o&&o.length>0&&TR(n,t,o.join(" "))}}(p,Ie,v,i),void 0!==t&&function w8(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(de,this.ngContentSelectors,t),Y=function y8(n,e,t,i,r,o){const s=St(),a=r[le],c=ji(s,r);p1(a,r,s,t,null,i);for(let h=0;h<t.length;h++)nr(ga(r,a,s.directiveStart+h,s),r);g1(a,r,s),c&&nr(c,r);const d=ga(r,a,s.directiveStart+s.componentOffset,s);if(n[Jt]=r[Jt]=d,null!==o)for(const h of o)h(d,e);return cx(a,s,n),d}(Wr,Ie,We,un,M,[E8]),wx(A,M,null)}finally{Bm()}return new p8(this.componentType,Y,Qu(de,M),M,de)}}class p8 extends z6{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ep(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;gx(o[le],o,r,e,t),this.previousInputValues.set(e,t),wp(br(this._tNode.index,o))}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function E8(){const n=St();mc(H()[le],n)}function ft(n){let e=function j1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(vr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=By(n.inputs),s.inputTransforms=By(n.inputTransforms),s.declaredInputs=By(n.declaredInputs),s.outputs=By(n.outputs);const a=r.hostBindings;a&&T8(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&x8(n,c),d&&C8(n,d),Qa(n.inputs,r.inputs),Qa(n.declaredInputs,r.declaredInputs),Qa(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Qa(s.inputTransforms,r.inputTransforms)),vr(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ft&&(t=!1)}}e=Object.getPrototypeOf(e)}!function I8(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Bl(r.hostAttrs,t=Bl(t,r.hostAttrs))}}(i)}function By(n){return n===yo?{}:n===bt?[]:n}function x8(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function C8(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function T8(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function q1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function ci(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Hi(n,e,t,i){const r=H();return ci(r,Io(),e)&&(mt(),Ps(sn(),r,n,e,t,i)),Hi}function Ju(n,e,t,i){return ci(n,Io(),t)?e+He(t)+i:et}function eh(n,e,t,i,r,o){const a=function ad(n,e,t,i){const r=ci(n,e,t);return ci(n,e+1,i)||r}(n,function Yr(){return Ue.lFrame.bindingIndex}(),t,r);return es(2),a?e+He(t)+i+He(r)+o:et}function jy(n,e){return n<<17|e<<2}function Mc(n){return n>>17&32767}function Ex(n){return 2|n}function cd(n){return(131068&n)>>2}function Ix(n,e){return-131069&n|e<<2}function xx(n){return 1|n}function tP(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Mc(o):cd(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];L8(n[a],e)&&(c=!0,n[a+1]=i?xx(h):Ex(h)),a=i?Mc(h):cd(h)}c&&(n[t+1]=i?Ex(o):xx(o))}function L8(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ms(n,e)>=0}function Ke(n,e,t){const i=H();return ci(i,Io(),e)&&no(mt(),sn(),i,n,e,i[Ze],t,!1),Ke}function Cx(n,e,t,i,r){const s=r?"class":"style";gx(n,t,e.inputs[s],s,i)}function Cp(n,e,t){return os(n,e,t,!1),Cp}function Xn(n,e){return os(n,e,null,!0),Xn}function os(n,e,t,i){const r=H(),o=mt(),s=es(2);o.firstUpdatePass&&function lP(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[zi()],s=function cP(n,e){return e>=n.expandoStartIndex}(n,t);(function fP(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function G8(n,e,t,i){const r=hc(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Tp(t=Tx(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Tx(r,n,e,t,i),null===o){let c=function W8(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==cd(i))return n[Mc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Tx(null,n,e,c[1],i),c=Tp(c,e.attrs,i),function Z8(n,e,t,i){n[Mc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function K8(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Tp(i,n[o].hostAttrs,t);return Tp(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function O8(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Mc(s),c=cd(s);n[i]=t;let h,d=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ms(t,h)>0)&&(d=!0)):h=t,r)if(0!==c){const g=Mc(n[a+1]);n[i+1]=jy(g,a),0!==g&&(n[g+1]=Ix(n[g+1],i)),n[a+1]=function P8(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=jy(a,0),0!==a&&(n[a+1]=Ix(n[a+1],i)),a=i;else n[i+1]=jy(c,0),0===a?a=i:n[c+1]=Ix(n[c+1],i),c=i;d&&(n[i+1]=Ex(n[i+1])),tP(n,h,i,!0),tP(n,h,i,!1),function F8(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ms(o,e)>=0&&(t[i+1]=xx(t[i+1]))}(e,h,n,i,o),s=jy(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==et&&ci(r,s,e)&&function uP(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],h=function N8(n){return 1==(1&n)}(d)?hP(c,e,t,r,cd(d),s):void 0;zy(h)||(zy(o)||function R8(n){return 2==(2&n)}(d)&&(o=hP(c,null,t,r,a,s)),function i6(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Sc.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Sc.Important),n.setStyle(t,i,r,o))}}(i,s,Gl(zi(),t),r,o))}(o,o.data[zi()],r,r[Ze],n,r[s+1]=function J8(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=zn(to(n)))),n}(e,t),i,s)}function Tx(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Tp(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Tp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tn(n,s,!!t||e[++o]))}return void 0===n?null:n}function hP(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),h=d?c[1]:c,p=null===h;let g=t[r+1];g===et&&(g=p?bt:void 0);let v=p?Ql(g,i):h===i?g:void 0;if(d&&!zy(v)&&(v=Ql(c,i)),zy(v)&&(a=v,s))return a;const b=n[r+1];r=s?Mc(b):cd(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Ql(c,i))}return a}function zy(n){return void 0!==n}function lh(n,e){return!e||hy(n)}function Mp(n,e,t,i=!0){const r=e[le];if(function KH(n,e,t,i){const r=Mn+i,o=t.length;i>0&&(t[r-1][Qr]=e),i<o-Mn?(e[Qr]=t[r],Kv(t,Mn+i,e)):(t.push(e),e[Qr]=null),e[_n]=t;const s=e[yu];null!==s&&t!==s&&function QH(n,e){const t=n[oc];e[en]!==e[_n][_n][en]&&(n[bu]=!0),null===t?n[oc]=[e]:t.push(e)}(s,e);const a=e[bo];null!==a&&a.insertView(n),lc(e),e[ze]|=128}(r,e,n,t),i){const o=UI(t,n),s=e[Ze],a=_y(s,n[wo]);null!==a&&function GH(n,e,t,i,r,o){i[kn]=r,i[Si]=e,hp(n,i,t,1,r,o)}(r,n[Si],s,e,a,o)}}let as=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Pq}return n})();function Pq(){return TP(St(),H())}const Nq=as,xP=class extends Nq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=vc(this._hostTNode,this._hostLView);if(zm(e)){const t=Ou(e,this._hostLView),i=gc(e);return new Yn(t[le].data[i+8],t)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=CP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,lh(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function _a(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new Ip(ot(e)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?d:this.parentInjector).get(Jr,null);w&&(o=w)}ot(c.componentType??{});const v=c.create(d,r,null,o);return this.insertImpl(v.hostView,a,lh(this._hostTNode,null)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function Sm(n){return Ln(n[_n])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[_n],d=new xP(c,c[Si],c[_n]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Mp(s,r,o,i),e.attachToViewContainerRef(),Kv(Ox(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=CP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=dp(this._lContainer,t);i&&(Xr(Ox(this._lContainer),t),gy(i[le],i))}detach(e){const t=this._adjustIndex(e,-1),i=dp(this._lContainer,t);return i&&null!=Xr(Ox(this._lContainer),t)?new Ep(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function CP(n){return n[8]}function Ox(n){return n[8]||(n[8]=[])}function TP(n,e){let t;const i=e[n.index];return Ln(i)?t=i:(t=v1(i,e,null,n),e[n.index]=t,Ny(e,t)),DP(t,e,n,i),new xP(t,n,e)}let DP=function SP(n,e,t,i){if(n[wo])return;let r;r=8&t.type?Ht(i):function Oq(n,e){const t=n[Ze],i=t.createComment(""),r=ji(e,n);return id(t,_y(t,r),i,function e6(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[wo]=r},Fx=(n,e,t)=>!1;function Bt(n,e,t,i,r,o,s,a){const c=H(),d=mt(),h=n+Be,p=d.firstCreatePass?function Bq(n,e,t,i,r,o,s,a,c){const d=e.consts,h=Yu(e,n,4,s||null,Eo(d,a));hx(e,t,h,Eo(d,c)),mc(e,h);const p=h.tView=ux(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,d,c,e,t,i,r,o,s):d.data[h];Br(p,!1);const g=kP(d,c,p,n);fc()&&vy(d,c,g,p),nr(g,c);const v=v1(g,c,g,p);return c[h]=v,Ny(c,v),function AP(n,e,t){return Fx(n,e,t)}(v,p,c),Hl(p)&&lx(d,c,p),null!=s&&dx(c,p,a),Bt}let kP=function MP(n,e,t,i){return xo(!0),e[Ze].createComment("")};function B(n,e,t,i){const r=H(),o=mt(),s=Be+n,a=r[Ze],c=o.firstCreatePass?function A9(n,e,t,i,r,o){const s=e.consts,c=Yu(e,n,2,i,Eo(s,r));return hx(e,t,c,Eo(s,o)),null!==c.attrs&&Vy(c,c.attrs,!1),null!==c.mergedAttrs&&Vy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],d=eN(o,r,c,a,e,n);r[s]=d;const h=Hl(c);return Br(c,!0),DR(a,d,c),32!=(32&c.flags)&&fc()&&vy(o,r,d,c),0===function Mm(){return Ue.lFrame.elementDepthCount}()&&nr(d,r),function wv(){Ue.lFrame.elementDepthCount++}(),h&&(lx(o,r,c),cx(o,c,r)),null!==i&&dx(r,c),B}function q(){let n=St();Nm()?Su():(n=n.parent,Br(n,!1));const e=n;(function Rm(n){return Ue.skipHydrationRootTNode===n})(e)&&function ZE(){Ue.skipHydrationRootTNode=null}(),function Ev(){Ue.lFrame.elementDepthCount--}();const t=mt();return t.firstCreatePass&&(mc(t,n),vm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function nI(n){return 0!=(8&n.flags)}(e)&&Cx(t,e,H(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iI(n){return 0!=(16&n.flags)}(e)&&Cx(t,e,H(),e.stylesWithoutHost,!1),q}function pt(n,e,t,i){return B(n,e,t,i),q(),pt}let eN=(n,e,t,i,r,o)=>(xo(!0),py(i,r,function Ov(){return Ue.lFrame.currentNamespace}()));function gh(n,e,t){const i=H(),r=mt(),o=n+Be,s=r.firstCreatePass?function M9(n,e,t,i,r){const o=e.consts,s=Eo(o,i),a=Yu(e,n,8,"ng-container",s);return null!==s&&Vy(a,s,!0),hx(e,t,a,Eo(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Br(s,!0);const a=nN(r,i,s,n);return i[o]=a,fc()&&vy(r,i,a,s),nr(a,i),Hl(s)&&(lx(r,i,s),cx(r,s,i)),null!=t&&dx(i,s),gh}function _h(){let n=St();const e=mt();return Nm()?Su():(n=n.parent,Br(n,!1)),e.firstCreatePass&&(mc(e,n),vm(n)&&e.queries.elementEnd(n)),_h}let nN=(n,e,t,i)=>(xo(!0),FI(e[Ze],""));function cs(){return H()}function Wx(n,e,t){const i=H();if(ci(i,Io(),e)){const o=mt(),s=sn();no(o,s,i,n,e,E1(hc(o.data),s,i),t,!0)}return Wx}const yh="en-US";let sN=yh;function Up(n){return!!n&&"function"==typeof n.then}function MN(n){return!!n&&"function"==typeof n.subscribe}function st(n,e,t,i){const r=H(),o=mt(),s=St();return RN(o,r,r[Ze],s,n,e,i),st}function Qx(n,e){const t=St(),i=H(),r=mt();return RN(r,i,E1(hc(r.data),t,i),t,n,e),Qx}function RN(n,e,t,i,r,o,s){const a=Hl(i),d=n.firstCreatePass&&w1(n),h=e[Jt],p=b1(e);let g=!0;if(3&i.type||s){const w=ji(i,e),I=s?s(w):w,S=p.length,A=s?Y=>s(Ht(Y[i.index])):i.index;let M=null;if(!s&&a&&(M=function kG(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Cs],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,g=!1;else{o=NN(i,e,h,o,!1);const Y=t.listen(I,r,o);p.push(o,Y),d&&d.push(r,A,S,S+1)}}else o=NN(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let I=0;I<w;I+=2){const de=e[b[I]][b[I+1]].subscribe(o),Ie=p.length;p.push(o,de),d&&d.push(r,i.index,Ie,-(Ie+1))}}}function PN(n,e,t,i){try{return Vr(6,e,t),!1!==t(i)}catch(r){return Oy(n,r),!1}finally{Vr(7,e,t)}}function NN(n,e,t,i,r){return function o(s){if(s===Function)return i;wp(n.componentOffset>-1?br(n.index,e):e);let c=PN(e,t,i,s),d=o.__ngNextListenerFn__;for(;d;)c=PN(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Ge(n=1){return function XE(n){return(Ue.lFrame.contextLView=function bv(n,e){for(;n>0;)e=e[jl],n--;return e}(n,Ue.lFrame.contextLView))[Jt]}(n)}function MG(n,e){let t=null;const i=function hv(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?uv(n,o,!0):nc(i,o))return r}else t=r}return t}function io(n){const e=H()[en][Si];if(!e.projection){const i=e.projection=xc(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?MG(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function cn(n,e=0,t){const i=H(),r=mt(),o=Yu(r,Be+n,16,null,t||null);null===o.projection&&(o.projection=e),Su(),(!i[Lr]||dc())&&32!=(32&o.flags)&&function t6(n,e,t){CR(e[Ze],0,e,t,VI(n,t,e),yR(t.parent||e[Si],t,e))}(r,i,o)}function bh(n,e,t){return Yx(n,"",e,"",t),bh}function Yx(n,e,t,i,r){const o=H(),s=Ju(o,e,t,i);return s!==et&&no(mt(),sn(),o,n,s,o[Ze],r,!1),Yx}function ls(n){return function cc(n,e){return n[e]}(function xv(){return Ue.lFrame.contextLView}(),Be+n)}function me(n,e=""){const t=H(),i=mt(),r=n+Be,o=i.firstCreatePass?Yu(i,r,1,e,null):i.data[r],s=XN(i,t,o,e,n);t[r]=s,fc()&&vy(i,t,s,o),Br(o,!1)}let XN=(n,e,t,i,r)=>(xo(!0),function my(n,e){return n.createText(e)}(e[Ze],i));function qi(n){return xa("",n,""),qi}function xa(n,e,t){const i=H(),r=Ju(i,n,e,t);return r!==et&&Ea(i,zi(),r),xa}function nb(n,e,t,i,r){const o=H(),s=eh(o,n,e,t,i,r);return s!==et&&Ea(o,zi(),s),nb}function Xx(n,e,t,i,r){if(n=Le(n),Array.isArray(n))for(let o=0;o<n.length;o++)Xx(n[o],e,t,i,r);else{const o=mt(),s=H(),a=St();let c=td(n)?n:Le(n.provide);const d=UM(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(td(n)||!n.multi){const v=new pc(d,r,R),b=eC(c,e,r?h:h+g,p);-1===b?(qm(_c(a,s),o,c),Jx(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=eC(c,e,h+g,p),b=eC(c,e,h,h+g),I=b>=0&&t[b];if(r&&!I||!r&&!(v>=0&&t[v])){qm(_c(a,s),o,c);const S=function WG(n,e,t,i,r){const o=new pc(n,t,R);return o.multi=[],o.index=e,o.componentProviders=0,sO(o,r,i&&!t),o}(r?GG:qG,t.length,r,i,d);!r&&I&&(t[b].providerFactory=S),Jx(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else Jx(o,n,v>-1?v:b,sO(t[r?b:v],d,!r&&i));!r&&i&&I&&t[b].componentProviders++}}}function Jx(n,e,t,i){const r=td(e),o=function iH(n){return!!n.useClass}(e);if(r||o){const c=(o?Le(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=d.indexOf(t);-1===h?d.push(t,[i,c]):d[h+1].push(i,c)}else d.push(t,c)}}}function sO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function eC(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function qG(n,e,t,i){return tC(this.multi,[])}function GG(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ga(t,t[le],this.providerFactory.index,i);o=a.slice(0,s),tC(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],tC(r,o);return o}function tC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ut(n,e=[]){return t=>{t.providersResolver=(i,r)=>function HG(n,e,t){const i=mt();if(i.firstCreatePass){const r=vr(n);Xx(t,i.data,i.blueprint,r,!0),Xx(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class ud{}class aO{}class nC extends ud{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new B1(this);const r=Ui(e);this._bootstrapComponents=eo(r.bootstrap),this._r3Injector=qM(e,t,[{provide:ud,useValue:this},{provide:Sy,useValue:this.componentFactoryResolver},...i],zn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class iC extends aO{constructor(e){super(),this.moduleType=e}create(e){return new nC(this.moduleType,e,[])}}class cO extends ud{constructor(e){super(),this.componentFactoryResolver=new B1(this),this.instance=null;const t=new nd([...e.providers,{provide:ud,useValue:this},{provide:Sy,useValue:this.componentFactoryResolver}],e.parent||sy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function rC(n,e,t=null){return new cO({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let QG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=iy(0,t.type),r=i.length>0?rC([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ue({token:n,providedIn:"environment",factory:()=>new n(j(Jr))})}return n})();function lO(n){od("NgStandalone"),n.getStandaloneInjector=e=>e.get(QG).getOrCreateStandaloneInjector(n)}function xW(){return this._results[Symbol.iterator]()}class wh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Kt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=wh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=xW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function tr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Ym(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ca=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=DW}return n})();const CW=Ca,TW=class extends CW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function kp(n,e,t,i){const r=e.tView,a=Py(n,r,t,4096&n[ze]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[yu]=n[e.index];const d=n[bo];return null!==d&&(a[bo]=d.createEmbeddedView(r)),wx(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new Ep(r)}};function DW(){return ob(St(),H())}function ob(n,e){return 4&n.type?new TW(e,n,Qu(n,e)):null}class sC{constructor(e){this.queryList=e,this.matches=null}clone(){return new sC(this.queryList)}setDirty(){this.queryList.setDirty()}}class aC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new aC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==TO(e,t).matches&&this.queries[t].setDirty()}}class EO{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class cC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new cC(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class lC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new lC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,AW(t,o)),this.matchTNodeWithReadOption(e,t,Vu(t,e,o,!1,!1))}else i===Ca?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vu(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===an||r===as||r===Ca&&4&t.type)this.addMatch(t.index,-2);else{const o=Vu(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function AW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function kW(n,e,t,i){return-1===t?function SW(n,e){return 11&n.type?Qu(n,e):4&n.type?ob(n,e):null}(e,n):-2===t?function MW(n,e,t){return t===an?Qu(e,n):t===Ca?ob(e,n):t===as?TP(e,n):void 0}(n,e,i):ga(n,n[le],t,e)}function IO(n,e,t,i){const r=e[bo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:kW(e,o[d],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function dC(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=IO(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const d=o[a+1],h=e[-c];for(let p=Mn;p<h.length;p++){const g=h[p];g[yu]===g[_n]&&dC(g[le],g,d,i)}if(null!==h[oc]){const p=h[oc];for(let g=0;g<p.length;g++){const v=p[g];dC(v[le],v,d,i)}}}}}return i}function di(n){const e=H(),t=mt(),i=Sv();Lm(i+1);const r=TO(t,i);if(n.dirty&&function Dm(n){return 4==(4&n[ze])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?dC(t,e,i,[]):IO(t,e,r,i);n.reset(o,G6),n.notifyOnChanges()}return!0}return!1}function Eh(n,e,t){const i=mt();i.firstCreatePass&&(CO(i,new EO(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),xO(i,H(),e)}function xr(n,e,t,i){const r=mt();if(r.firstCreatePass){const o=St();CO(r,new EO(e,t,i),o.index),function PW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}xO(r,H(),t)}function ui(){return function RW(n,e){return n[bo].queries[e].queryList}(H(),Sv())}function xO(n,e,t){const i=new wh(4==(4&t));(function b5(n,e,t,i){const r=b1(e);r.push(t),n.firstCreatePass&&w1(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[bo]&&(e[bo]=new aC),e[bo].queries.push(new sC(i))}function CO(n,e,t){null===n.queries&&(n.queries=new cC),n.queries.track(new lC(e,t))}function TO(n,e){return n.queries.getByIndex(e)}const pC=new X("Application Initializer");let gC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ae(pC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Up(o))t.push(o);else if(MN(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ls=new X("LocaleId",{providedIn:"root",factory:()=>ae(Ls,ht.Optional|ht.SkipSelf)||function t7(){return typeof $localize<"u"&&$localize.locale||yh}()});let cb=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ji(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class a7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let HO=(()=>{class n{compileModuleSync(t){return new iC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=eo(Ui(t).declarations).reduce((s,a)=>{const c=ot(a);return c&&s.push(new Ip(c)),s},[]);return new a7(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KO=new X(""),db=new X("");let bC,vC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bC||(function R7(n){bC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(j(je),j(yC),j(db))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),yC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return bC?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Pc=null;const QO=new X("AllowMultipleToken"),wC=new X("PlatformDestroyListeners"),EC=new X("appBootstrapListener");function JO(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=IC();if(!s||s.injector.get(QO,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function O7(n){if(Pc&&!Pc.get(QO,!1))throw new V(400,!1);(function YO(){!function $a(n){mo=n}(()=>{throw new V(600,!1)})})(),Pc=n;const e=n.get(tF);(function XO(n){n.get(WM,null)?.forEach(t=>t())})(n)}(function eF(n=[],e){return Er.create({name:e,providers:[{provide:yI,useValue:"platform"},{provide:wC,useValue:new Set([()=>Pc=null])},...n]})}(a,i))}return function L7(n){const e=IC();if(!e)throw new V(401,!1);return e}()}}function IC(){return Pc?.get(tF)??null}let tF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function V7(n="zone.js",e){return"noop"===n?new a8:"zone.js"===n?new je(e):n}(i?.ngZone,function nF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function KG(n,e,t){return new nC(n,e,t)}(t.moduleType,this.injector,function aF(n){return[{provide:je,useFactory:n},{provide:ya,multi:!0,useFactory:()=>{const e=ae(U7,{optional:!0});return()=>e.initialize()}},{provide:sF,useFactory:B7},{provide:R1,useFactory:P1}]}(()=>r)),s=o.injector.get(rs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{ub(this._modules,o),a.unsubscribe()})}),function iF(n,e,t){try{const i=t();return Up(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(gC);return a.runInitializers(),a.donePromise.then(()=>(function aN(n){An(n,"Expected localeId to be defined"),"string"==typeof n&&(sN=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ls,yh)||yh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=rF({},i);return function P7(n,e,t){const i=new iC(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(hd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new V(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(wC,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(j(Er))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function rF(n,e){return Array.isArray(e)?e.reduce(rF,n):{...n,...e}}let hd=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ae(sF),this.zoneIsStable=ae(R1),this.componentTypes=[],this.components=[],this.isStable=ae(cb).hasPendingTasks.pipe(Zt(t=>t?xe(!1):this.zoneIsStable),Cl(),xl()),this._injector=ae(Jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof $R;if(!this._injector.get(gC).done)throw!r&&function da(n){const e=ot(n)||si(n)||Ai(n);return null!==e&&e.standalone}(t),new V(405,!1);let s;s=r?t:this._injector.get(Sy).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function N7(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ud),d=s.create(Er.NULL,[],i||s.selector,a),h=d.location.nativeElement,p=d.injector.get(KO,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ub(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;ub(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(EC,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ub(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ub(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const sF=new X("",{providedIn:"root",factory:()=>ae(rs).handleError.bind(void 0)});function B7(){const n=ae(je),e=ae(rs);return t=>n.runOutsideAngular(()=>e.handleError(t))}let U7=(()=>{class n{constructor(){this.zone=ae(je),this.applicationRef=ae(hd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const W7=JO(null,"core",[]);let Z7=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(j(hd))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({})}return n})();function Th(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let PC=null;function Nc(){return PC}class vZ{}const qt=new X("DocumentToken");let NC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ae(bZ),providedIn:"platform"})}return n})();const yZ=new X("Location Initialized");let bZ=(()=>{class n extends NC{constructor(){super(),this._doc=ae(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nc().getBaseHref(this._doc)}onPopState(t){const i=Nc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Nc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function OC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function MF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ta(n){return n&&"?"!==n[0]?"?"+n:n}let md=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ae(PF),providedIn:"root"})}return n})();const RF=new X("appBaseHref");let PF=(()=>{class n extends md{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ae(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return OC(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ta(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ta(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ta(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(NC),j(RF,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wZ=(()=>{class n extends md{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=OC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(NC),j(RF,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),Wp=(()=>{class n{constructor(t){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function xZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(MF(NF(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ta(i))}normalize(t){return n.stripTrailingSlash(function IZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,NF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ta(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ta(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ta;static#t=this.joinWithSlash=OC;static#n=this.stripTrailingSlash=MF;static#i=this.\u0275fac=function(i){return new(i||n)(j(md))};static#r=this.\u0275prov=ue({token:n,factory:()=>function EZ(){return new Wp(j(md))}(),providedIn:"root"})}return n})();function NF(n){return n.replace(/\/index.html$/,"")}function $F(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}class dK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let GC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new dK(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),GF(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{GF(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(R(as),R(Ca),R(My))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function GF(n,e){n.context.$implicit=e.item}let Oc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new uK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(R(as),R(Ca))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class uK{constructor(){this.$implicit=null,this.ngIf=null}}function WF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${zn(e)}'.`)}let YC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({})}return n})();const YF="browser";function Sb(n){return"server"===n}let $K=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new HK(j(qt),window)})}return n})();class HK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class XF{}class mQ extends vZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eT extends mQ{static makeCurrent(){!function _Z(n){PC||(PC=n)}(new eT)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pQ(){return Yp=Yp||document.querySelector("base"),Yp?Yp.getAttribute("href"):null}();return null==t?null:function gQ(n){Rb=Rb||document.createElement("a"),Rb.setAttribute("href",n);const e=Rb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $F(document.cookie,e)}}let Rb,Yp=null,vQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const tT=new X("EventManagerPlugins");let nL=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(j(tT),j(je))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class iL{constructor(e){this._doc=e}}const nT="ng-app-id";let rL=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sb(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${nT}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(nT),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(nT,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt),j(cy),j(TI,8),j(is))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const iT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rT=/%COMP%/g,EQ=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function sL(n,e){return e.map(t=>t.replace(rT,n))}let oT=(()=>{class n{constructor(t,i,r,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Sb(a),this.defaultRenderer=new sT(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kr.ShadowDom&&(i={...i,encapsulation:Kr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof cL?r.applyToHost(t):r instanceof aT&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Kr.Emulated:o=new cL(c,d,i,this.appId,h,s,a,p);break;case Kr.ShadowDom:return new TQ(c,d,t,i,s,a,this.nonce,p);default:o=new aT(c,d,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(j(nL),j(rL),j(cy),j(EQ),j(qt),j(is),j(je),j(TI))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class sT{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(iT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(aL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(aL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new V(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=iT[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=iT[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Sc.DashCase|Sc.Important)?e.style.setProperty(t,i,r&Sc.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Sc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Nc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function aL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class TQ extends sT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=sL(r.id,r.styles);for(const h of d){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class aT extends sT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?sL(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cL extends aT{constructor(e,t,i,r,o,s,a,c){const d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=function IQ(n){return"_ngcontent-%COMP%".replace(rT,n)}(d),this.hostAttr=function xQ(n){return"_nghost-%COMP%".replace(rT,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let DQ=(()=>{class n extends iL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const lL=["alt","control","meta","shift"],AQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let kQ=(()=>{class n extends iL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),lL.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=AQ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),lL.forEach(s=>{s!==r&&(0,SQ[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const uL=[{provide:is,useValue:YF},{provide:WM,useValue:function MQ(){eT.makeCurrent()},multi:!0},{provide:qt,useFactory:function PQ(){return function vH(n){CI=n}(document),document},deps:[]}],NQ=JO(W7,"browser",uL),OQ=new X(""),hL=[{provide:db,useClass:class _Q{addToWindow(e){Lt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new V(5103,!1);return o},Lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Lt.getAllAngularRootElements=()=>e.getAllRootElements(),Lt.frameworkStabilizers||(Lt.frameworkStabilizers=[]),Lt.frameworkStabilizers.push(i=>{const r=Lt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Nc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:KO,useClass:vC,deps:[je,yC,db]},{provide:vC,useClass:vC,deps:[je,yC,db]}],fL=[{provide:yI,useValue:"root"},{provide:rs,useFactory:function RQ(){return new rs},deps:[]},{provide:tT,useClass:DQ,multi:!0,deps:[qt,je,is]},{provide:tT,useClass:kQ,multi:!0,deps:[qt]},oT,rL,nL,{provide:ix,useExisting:oT},{provide:XF,useClass:vQ,deps:[]},[]];let mL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:cy,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(j(OQ,12))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({providers:[...fL,...hL],imports:[YC,Z7]})}return n})(),pL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt))};static#t=this.\u0275prov=ue({token:n,factory:function(i){let r=null;return r=i?new i:function LQ(){return new pL(j(qt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:$Q}=Array,{getPrototypeOf:HQ,prototype:qQ,keys:GQ}=Object;function bL(n){if(1===n.length){const e=n[0];if($Q(e))return{args:e,keys:null};if(function WQ(n){return n&&"object"==typeof n&&HQ(n)===qQ}(e)){const t=GQ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:ZQ}=Array;function dT(n){return ye(e=>function KQ(n,e){return ZQ(e)?n(...e):n(e)}(n,e))}function wL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Pb(...n){const e=wl(n),t=Wf(n),{args:i,keys:r}=bL(n);if(0===i.length)return Wt([],e);const o=new yt(function QQ(n,e,t=Ti){return i=>{EL(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)EL(e,()=>{const d=Wt(n[c],e);let h=!1;d.subscribe(ve(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>wL(r,s):Ti));return t?o.pipe(dT(t)):o}function EL(n,e,t){n?Ko(t,n,e):e()}const Nb=gi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ob(...n){return function YQ(){return Ka(1)}()(Wt(n,wl(n)))}function IL(n){return new yt(e=>{De(n()).subscribe(e)})}function Xp(n,e){const t=Ne(n)?n:()=>n,i=r=>r.error(t());return new yt(e?r=>e.schedule(i,0,r):i)}function uT(){return ce((n,e)=>{let t=null;n._refCount++;const i=ve(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class xL extends yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,N(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nt;const t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nt.EMPTY)}return e}refCount(){return uT()(this)}}function Vs(n){return n<=0?()=>vo:ce((e,t)=>{let i=0;e.subscribe(ve(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function pd(...n){const e=wl(n);return ce((t,i)=>{(e?Ob(n,t,e):Ob(n,t)).subscribe(i)})}function ti(n,e){return ce((t,i)=>{let r=0;t.subscribe(ve(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Fb(n){return ce((e,t)=>{let i=!1;e.subscribe(ve(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function CL(n=XQ){return ce((e,t)=>{let i=!1;e.subscribe(ve(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function XQ(){return new Nb}function Lc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ti((r,o)=>n(r,o,i)):Ti,Vs(1),t?Fb(e):CL(()=>new Nb))}function Ah(n,e){return Ne(e)?vi(n,e,1):vi(n,1)}function ni(n,e,t){const i=Ne(n)||e||t?{next:n,error:e,complete:t}:n;return i?ce((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ve(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Ti}function gd(n){return ce((e,t)=>{let o,i=null,r=!1;i=e.subscribe(ve(t,void 0,void 0,s=>{o=De(n(s,gd(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Lb(n,e){return ce(function JQ(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(ve(s,h=>{const p=d++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function hT(n){return n<=0?()=>vo:ce((e,t)=>{let i=[];e.subscribe(ve(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function fT(n){return ye(()=>n)}function Sh(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ar(n){return ce((e,t)=>{De(n).subscribe(ve(t,()=>t.complete(),fr)),!t.closed&&e.subscribe(t)})}const at="primary",Jp=Symbol("RouteTitle");class tY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function kh(n){return new tY(n)}function nY(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Bs(n,e){const t=n?mT(n):void 0,i=e?mT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!TL(n[r],e[r]))return!1;return!0}function mT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function TL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function DL(n){return n.length>0?n[n.length-1]:null}function Vc(n){return function zQ(n){return!!n&&(n instanceof yt||Ne(n.lift)&&Ne(n.subscribe))}(n)?n:Up(n)?Wt(Promise.resolve(n)):xe(n)}const rY={exact:function kL(n,e,t){if(!_d(n.segments,e.segments)||!Vb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!kL(n.children[i],e.children[i],t))return!1;return!0},subset:ML},AL={exact:function oY(n,e){return Bs(n,e)},subset:function sY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>TL(n[t],e[t]))},ignored:()=>!0};function SL(n,e,t){return rY[t.paths](n.root,e.root,t.matrixParams)&&AL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ML(n,e,t){return RL(n,e,e.segments,t)}function RL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!_d(r,t)||e.hasChildren()||!Vb(r,t,i))}if(n.segments.length===t.length){if(!_d(n.segments,t)||!Vb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ML(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(_d(n.segments,r)&&Vb(n.segments,r,i)&&n.children[at])&&RL(n.children[at],e,o,i)}}function Vb(n,e,t){return e.every((i,r)=>AL[t](n[r].parameters,i.parameters))}class Mh{constructor(e=new nn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kh(this.queryParams)),this._queryParamMap}toString(){return lY.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bb(this)}}class eg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=kh(this.parameters)),this._parameterMap}toString(){return OL(this)}}function _d(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Rh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>new pT,providedIn:"root"})}return n})();class pT{parse(e){const t=new bY(e);return new Mh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tg(e.root,!0)}`,i=function hY(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ub(t)}=${Ub(r)}`).join("&"):`${Ub(t)}=${Ub(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function dY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lY=new pT;function Bb(n){return n.segments.map(e=>OL(e)).join("/")}function tg(n,e){if(!n.hasChildren())return Bb(n);if(e){const t=n.children[at]?tg(n.children[at],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==at&&i.push(`${r}:${tg(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function cY(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===at&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==at&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===at?[tg(n.children[at],!1)]:[`${r}:${tg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[at]?`${Bb(n)}/${t[0]}`:`${Bb(n)}/(${t.join("//")})`}}function PL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ub(n){return PL(n).replace(/%3B/gi,";")}function gT(n){return PL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jb(n){return decodeURIComponent(n)}function NL(n){return jb(n.replace(/\+/g,"%20"))}function OL(n){return`${gT(n.path)}${function uY(n){return Object.keys(n).map(e=>`;${gT(e)}=${gT(n[e])}`).join("")}(n.parameters)}`}const fY=/^[^\/()?;#]+/;function _T(n){const e=n.match(fY);return e?e[0]:""}const mY=/^[^\/()?;=#]+/,gY=/^[^=?&#]+/,vY=/^[^&#]+/;class bY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[at]=new nn(e,t)),i}parseSegment(){const e=_T(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new eg(jb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function pY(n){const e=n.match(mY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=_T(this.remaining);r&&(i=r,this.capture(i))}e[jb(t)]=jb(i)}parseQueryParam(e){const t=function _Y(n){const e=n.match(gY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function yY(n){const e=n.match(vY);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=NL(t),o=NL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=_T(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new V(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=at);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[at]:new nn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}}function FL(n){return n.segments.length>0?new nn([],{[at]:n}):n}function LL(n){const e={};for(const i of Object.keys(n.children)){const o=LL(n.children[i]);if(i===at&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function wY(n){if(1===n.numberOfChildren&&n.children[at]){const e=n.children[at];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function vd(n){return n instanceof Mh}function VL(n){let e;const r=FL(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new nn(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function BL(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return vT(r,r,r,t,i);const o=function IY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new jL(t,e,i)}(e);if(o.toRoot())return vT(r,r,new nn([],{}),t,i);const s=function xY(n,e,t){if(n.isAbsolute)return new $b(e,!0,0);if(!t)return new $b(e,!1,NaN);if(null===t.parent)return new $b(t,!0,0);const i=zb(n.commands[0])?0:1;return function CY(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new $b(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?ig(s.segmentGroup,s.index,o.commands):zL(s.segmentGroup,s.index,o.commands);return vT(r,s.segmentGroup,a,t,i)}function zb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ng(n){return"object"==typeof n&&null!=n&&n.outlets}function vT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`}),s=n===e?t:UL(n,e,t);const a=FL(LL(s));return new Mh(a,o,r)}function UL(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:UL(o,e,t)}),new nn(n.segments,i)}class jL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&zb(i[0]))throw new V(4003,!1);const r=i.find(ng);if(r&&r!==DL(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $b{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function zL(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return ig(n,e,t);const i=function DY(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(ng(a))break;const c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!HL(c,d,s))return o;i+=2}else{if(!HL(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new nn(n.segments.slice(0,i.pathIndex),{});return o.children[at]=new nn(n.segments.slice(i.pathIndex),n.children),ig(o,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?yT(n,e,t):i.match?ig(n,0,r):yT(n,e,t)}function ig(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function TY(n){return ng(n[0])?n[0].outlets:{[at]:n}}(t),r={};if(Object.keys(i).some(o=>o!==at)&&n.children[at]&&1===n.numberOfChildren&&0===n.children[at].segments.length){const o=ig(n.children[at],e,t);return new nn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=zL(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new nn(n.segments,r)}}function yT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(ng(o)){const c=AY(o.outlets);return new nn(i,c)}if(0===r&&zb(t[0])){i.push(new eg(n.segments[e].path,$L(t[0]))),r++;continue}const s=ng(o)?o.outlets[at]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&zb(a)?(i.push(new eg(s,$L(a))),r+=2):(i.push(new eg(s,{})),r++)}return new nn(i,{})}function AY(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=yT(new nn([],{}),0,i))}),e}function $L(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function HL(n,e,t){return n==t.path&&Bs(e,t.parameters)}const rg="imperative";class Us{constructor(e,t){this.id=e,this.url=t}}class Hb extends Us{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sa extends Us{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ph extends Us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nh extends Us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class qb extends Us{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qL extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SY extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kY extends Us{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MY extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RY extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GL{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bT{}class wT{constructor(e){this.url=e}}class BY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new og,this.attachRef=null}}let og=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new BY,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class WL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ET(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ET(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=IT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return IT(e,this._root).map(t=>t.value)}}function ET(n,e){if(n===e.value)return e;for(const t of e.children){const i=ET(n,t);if(i)return i}return null}function IT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=IT(n,t);if(i.length)return i.unshift(e),i}return[]}class hs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Oh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ZL extends WL{constructor(e,t){super(e),this.snapshot=t,TT(this,e)}toString(){return this.snapshot.toString()}}function KL(n,e){const t=function UY(n,e){const s=new CT([],{},{},"",{},at,e,null,{});return new QL("",new hs(s,[]))}(0,e),i=new Ji([new eg("",{})]),r=new Ji({}),o=new Ji({}),s=new Ji({}),a=new Ji(""),c=new Fh(i,r,s,a,o,at,e,t.root);return c.snapshot=t.root,new ZL(new hs(c,[]),t)}class Fh{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ye(d=>d[Jp]))??xe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>kh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>kh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:n.params,data:n.data,resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&XL(r)&&(i.resolve[Jp]=r.title),i}class CT{get title(){return this.data?.[Jp]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QL extends WL{constructor(e,t){super(t),this.url=e,TT(this,t)}toString(){return YL(this._root)}}function TT(n,e){e.value._routerState=n,e.children.forEach(t=>TT(n,t))}function YL(n){const e=n.children.length>0?` { ${n.children.map(YL).join(", ")} } `:"";return`${n.value}${e}`}function DT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bs(e.params,t.params)||n.paramsSubject.next(t.params),function iY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Bs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function AT(n,e){const t=Bs(n.params,e.params)&&function aY(n,e){return _d(n,e)&&n.every((t,i)=>Bs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||AT(n.parent,e.parent))}function XL(n){return"string"==typeof n.title||null===n.title}let ST=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=ae(og),this.location=ae(as),this.changeDetector=ae(Ia),this.environmentInjector=ae(Jr),this.inputBinder=ae(Gb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new jY(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yr]})}return n})();class jY{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Fh?this.route:e===og?this.childContexts:this.parent.get(e,t)}}const Gb=new X("");let JL=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Pb([i.queryParams,i.params,i.data]).pipe(Zt(([o,s,a],c)=>(a={...o,...s,...a},0===c?xe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function gZ(n){const e=ot(n);if(!e)return null;const t=new Ip(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function sg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function $Y(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sg(n,i,r);return sg(n,i)})}(n,e,t);return new hs(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sg(n,a)),s}}const i=function HY(n){return new Fh(new Ji(n.url),new Ji(n.params),new Ji(n.queryParams),new Ji(n.fragment),new Ji(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>sg(n,o));return new hs(i,r)}}const kT="ngNavigationCancelingError";function e2(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=vd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=t2(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function t2(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[kT]=!0,i.cancellationCode=e,t&&(i.url=t),i}function n2(n){return n&&n[kT]}let r2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["ng-component"]],standalone:!0,features:[lO],decls:1,vars:0,template:function(i,r){1&i&&pt(0,"router-outlet")},dependencies:[ST],encapsulation:2})}return n})();function MT(n){const e=n.children&&n.children.map(MT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==at&&(t.component=r2),t}function js(n){return n.outlet||at}function ag(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class XY{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),DT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Oh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Oh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Oh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Oh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new VY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new FY(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(DT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),DT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ag(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class o2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wb{constructor(e,t){this.component=e,this.route=t}}function JY(n,e,t){const i=n._root;return cg(i,e?e._root:null,t,[i.value])}function Lh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function ev(n){return null!==sa(n)}(n)?e.get(n):n:i}function cg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Oh(e);return n.children.forEach(s=>{(function tX(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function nX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_d(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_d(n.url,e.url)||!Bs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!AT(n,e)||!Bs(n.queryParams,e.queryParams);default:return!AT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new o2(i)):(o.data=s.data,o._resolvedData=s._resolvedData),cg(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Wb(a.outlet.component,s))}else s&&lg(e,a,r),r.canActivateChecks.push(new o2(i)),cg(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>lg(a,t.getContext(s),r)),r}function lg(n,e,t){const i=Oh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{lg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Wb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function dg(n){return"function"==typeof n}function s2(n){return n instanceof Nb||"EmptyError"===n?.name}const Zb=Symbol("INITIAL_VALUE");function Vh(){return Zt(n=>Pb(n.map(e=>e.pipe(Vs(1),pd(Zb)))).pipe(ye(e=>{for(const t of e)if(!0!==t){if(t===Zb)return Zb;if(!1===t||t instanceof Mh)return t}return!0}),ti(e=>e!==Zb),Vs(1)))}function a2(n){return function bs(...n){return ta(n)}(ni(e=>{if(vd(e))throw e2(0,e)}),ye(e=>!0===e))}class RT{constructor(e){this.segmentGroup=e||null}}class PT extends Error{constructor(e){super(),this.urlTree=e}}function Bh(n){return Xp(new RT(n))}class EX{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new V(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return xe(i);if(r.numberOfChildren>1||!r.children[at])return Xp(new V(4e3,!1));r=r.children[at]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new PT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Mh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new nn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new V(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const NT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IX(n,e,t,i,r){const o=OT(n,e,t);return o.matched?(i=function GY(n,e){return n.providers&&!n._injector&&(n._injector=rC(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function yX(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?xe(r.map(s=>{const a=Lh(s,n);return Vc(function cX(n){return n&&dg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Vh(),a2()):xe(!0)}(i,e,t).pipe(ye(s=>!0===s?o:{...NT}))):xe(o)}function OT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...NT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||nY)(t,n,e);if(!r)return{...NT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function c2(n,e,t,i){return t.length>0&&function TX(n,e,t){return t.some(i=>Kb(n,e,i)&&js(i)!==at)}(n,t,i)?{segmentGroup:new nn(e,CX(i,new nn(t,n.children))),slicedSegments:[]}:0===t.length&&function DX(n,e,t){return t.some(i=>Kb(n,e,i))}(n,t,i)?{segmentGroup:new nn(n.segments,xX(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new nn(n.segments,n.children),slicedSegments:t}}function xX(n,e,t,i,r){const o={};for(const s of i)if(Kb(n,t,s)&&!r[js(s)]){const a=new nn([],{});o[js(s)]=a}return{...r,...o}}function CX(n,e){const t={};t[at]=e;for(const i of n)if(""===i.path&&js(i)!==at){const r=new nn([],{});t[js(i)]=r}return t}function Kb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class kX{}class PX{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new EX(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,!1)}recognize(){const e=c2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ye(t=>{const i=new CT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,{}),r=new hs(i,t),o=new QL("",r),s=function EY(n,e,t=null,i=null){return BL(VL(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,at).pipe(gd(i=>{if(i instanceof PT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof RT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=xT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ye(o=>o instanceof hs?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Wt(r).pipe(Ah(o=>{const s=i.children[o],a=function QY(n,e){const t=n.filter(i=>js(i)===e);return t.push(...n.filter(i=>js(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),Lb((o,s)=>(o.push(...s),o)),Fb(null),function eY(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ti((r,o)=>n(r,o,i)):Ti,hT(1),t?Fb(e):CL(()=>new Nb))}(),vi(o=>{if(null===o)return Bh(i);const s=l2(o);return function NX(n){n.sort((e,t)=>e.value.outlet===at?-1:t.value.outlet===at?1:e.value.outlet.localeCompare(t.value.outlet))}(s),xe(s)}))}processSegment(e,t,i,r,o,s){return Wt(t).pipe(Ah(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(gd(c=>{if(c instanceof RT)return xe(null);throw c}))),Lc(a=>!!a),gd(a=>{if(s2(a))return function SX(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?xe(new kX):Bh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function AX(n,e,t,i){return!!(js(n)===i||i!==at&&Kb(e,t,n))&&("**"===n.path||OT(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Bh(r):Bh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:d,remainingSegments:h}="**"===r.path?d2(o):OT(t,r,o);if(!a)return Bh(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(vi(g=>this.processSegment(e,i,t,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s;return"**"===i.path?(s=xe(d2(r)),t.children={}):s=IX(t,i,r,e),s.pipe(Zt(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Zt(({routes:c})=>{const d=i._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,v=new CT(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function FX(n){return n.data||{}}(i),js(i),i.component??i._loadedComponent??null,i,function LX(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:w}=c2(t,h,p,c);if(0===w.length&&b.hasChildren())return this.processChildren(d,c,b).pipe(ye(S=>null===S?null:new hs(v,S)));if(0===c.length&&0===w.length)return xe(new hs(v,[]));const I=js(i)===o;return this.processSegment(d,c,b,w,I?at:o,!0).pipe(ye(S=>new hs(v,S instanceof hs?[S]:[])))})):Bh(t)))}getChildConfig(e,t,i){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function vX(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?xe(!0):xe(r.map(s=>{const a=Lh(s,n);return Vc(function rX(n){return n&&dg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Vh(),a2())}(e,t,i).pipe(vi(r=>r?this.configLoader.loadChildren(e,t).pipe(ni(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function wX(n){return Xp(t2(!1,3))}())):xe({routes:[],injector:e})}}function OX(n){const e=n.value.routeConfig;return e&&""===e.path}function l2(n){const e=[],t=new Set;for(const i of n){if(!OX(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=l2(i.children);e.push(new hs(i.value,r))}return e.filter(i=>!t.has(i))}function d2(n){return{matched:!0,parameters:n.length>0?DL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function BX(n,e){return vi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return xe(t);const o=r.map(d=>d.route),s=new Set(o),a=u2(o[0].parent).slice(1);let c=0;return Wt(a).pipe(Ah(d=>s.has(d)?function UX(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!XL(r)&&(o[Jp]=r.title),function jX(n,e,t,i){const r=mT(n);if(0===r.length)return xe({});const o={};return Wt(r).pipe(vi(s=>function zX(n,e,t,i){const r=ag(e)??i,o=Lh(n,r);return Vc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Lc(),ni(a=>{o[s]=a}))),hT(1),fT(o),gd(s=>s2(s)?vo:Xp(s)))}(o,n,e,i).pipe(ye(s=>(n._resolvedData=s,n.data=xT(n,n.parent,t).resolve,null)))}(d,i,n,e):(d.data=xT(d,d.parent,n).resolve,xe(void 0))),ni(()=>c++),hT(1),vi(d=>c===a.length?xe(t):vo))})}function u2(n){const e=n.children.map(t=>u2(t)).flat();return[n,...e]}function FT(n){return Zt(e=>{const t=n(e);return t?Wt(t).pipe(ye(()=>e)):xe(e)})}let h2=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===at);return i}getResolvedTitleForRoute(t){return t.data[Jp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ae($X),providedIn:"root"})}return n})(),$X=(()=>{class n extends h2{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(j(pL))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Uh=new X("",{providedIn:"root",factory:()=>({})}),jh=new X("ROUTES");let LT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(HO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Vc(t.loadComponent()).pipe(ye(f2),ni(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Sh(()=>{this.componentLoaders.delete(t)})),r=new xL(i,()=>new T).pipe(uT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function HX(n,e,t,i){return Vc(n.loadChildren()).pipe(ye(f2),vi(r=>r instanceof aO||Array.isArray(r)?xe(r):Wt(e.compileModuleAsync(r))),ye(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(jh,[],{optional:!0,self:!0}).flat()),{routes:s.map(MT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Sh(()=>{this.childrenLoaders.delete(i)})),s=new xL(o,()=>new T).pipe(uT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f2(n){return function qX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let VT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ae(GX),providedIn:"root"})}return n})(),GX=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const m2=new X(""),p2=new X("");function WX(n,e,t){const i=n.get(p2),r=n.get(qt);return n.get(je).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),function ZX(n){return new Promise(e=>{F1(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&function dH(n,e){n instanceof nd&&n.assertNotDestroyed();const i=xs(n),r=Di(void 0);try{return e()}finally{xs(i),Di(r)}}(n,()=>c({transition:a,from:e,to:t})),s})}let Qb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new T,this.transitionAbortSubject=new T,this.configLoader=ae(LT),this.environmentInjector=ae(Jr),this.urlSerializer=ae(Rh),this.rootContexts=ae(og),this.location=ae(Wp),this.inputBindingEnabled=null!==ae(Gb,{optional:!0}),this.titleStrategy=ae(h2),this.options=ae(Uh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ae(VT),this.createViewTransition=ae(m2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new NY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new PY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Ji({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rg,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ti(o=>0!==o.id),ye(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Zt(o=>{this.currentTransition=o;let s=!1,a=!1;return xe(o).pipe(ni(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zt(c=>{const d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Nh(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),vo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return xe(c).pipe(Zt(p=>{const g=this.transitions?.getValue();return this.events.next(new Hb(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?vo:Promise.resolve(p)}),function VX(n,e,t,i,r,o){return vi(s=>function MX(n,e,t,i,r,o,s="emptyOnly"){return new PX(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(ye(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ni(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new qL(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:v,restoredState:b,extras:w}=c,I=new Hb(p,this.urlSerializer.serialize(g),v,b);this.events.next(I);const S=KL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,xe(o)}{const p="";return this.events.next(new Nh(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),vo}}),ni(c=>{const d=new SY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),ye(c=>(this.currentTransition=o={...c,guards:JY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function dX(n,e){return vi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?xe({...t,guardsResult:!0}):function uX(n,e,t,i){return Wt(n).pipe(vi(r=>function _X(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xe(o.map(a=>{const c=ag(e)??r,d=Lh(a,c);return Vc(function aX(n){return n&&dg(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):c.runInContext(()=>d(n,e,t,i))).pipe(Lc())})).pipe(Vh()):xe(!0)}(r.component,r.route,t,e,i)),Lc(r=>!0!==r,!0))}(s,i,r,n).pipe(vi(a=>a&&function iX(n){return"boolean"==typeof n}(a)?function hX(n,e,t,i){return Wt(e).pipe(Ah(r=>Ob(function mX(n,e){return null!==n&&e&&e(new OY(n)),xe(!0)}(r.route.parent,i),function fX(n,e){return null!==n&&e&&e(new LY(n)),xe(!0)}(r.route,i),function gX(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function eX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>IL(()=>xe(s.guards.map(c=>{const d=ag(s.node)??t,h=Lh(c,d);return Vc(function sX(n){return n&&dg(n.canActivateChild)}(h)?h.canActivateChild(i,n):d.runInContext(()=>h(i,n))).pipe(Lc())})).pipe(Vh())));return xe(o).pipe(Vh())}(n,r.path,t),function pX(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return xe(!0);const r=i.map(o=>IL(()=>{const s=ag(e)??t,a=Lh(o,s);return Vc(function oX(n){return n&&dg(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Lc())}));return xe(r).pipe(Vh())}(n,r.route,t))),Lc(r=>!0!==r,!0))}(i,o,n,e):xe(a)),ye(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ni(c=>{if(o.guardsResult=c.guardsResult,vd(c.guardsResult))throw e2(0,c.guardsResult);const d=new kY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),ti(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),FT(c=>{if(c.guards.canActivateChecks.length)return xe(c).pipe(ni(d=>{const h=new MY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Zt(d=>{let h=!1;return xe(d).pipe(BX(this.paramsInheritanceStrategy,this.environmentInjector),ni({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),ni(d=>{const h=new RY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),FT(c=>{const d=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ni(g=>{h.component=g}),ye(()=>{})));for(const g of h.children)p.push(...d(g));return p};return Pb(d(c.targetSnapshot.root)).pipe(Fb(),Vs(1))}),FT(()=>this.afterPreactivation()),Zt(()=>{const{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Wt(h).pipe(ye(()=>o)):xe(o)}),ye(c=>{const d=function zY(n,e,t){const i=sg(n,e._root,t?t._root:void 0);return new ZL(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),ni(()=>{this.events.next(new bT)}),((n,e,t,i)=>ye(r=>(new XY(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Vs(1),ni({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ar(this.transitionAbortSubject.pipe(ni(c=>{throw c}))),Sh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),gd(c=>{if(a=!0,n2(c))this.events.next(new Ph(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function qY(n){return n2(n)&&vd(n.url)}(c)?this.events.next(new wT(c.url)):o.resolve(!1);else{this.events.next(new qb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return vo}))}))}cancelNavigationTransition(t,i,r){const o=new Ph(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KX(n){return n!==rg}let QX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ae(XX),providedIn:"root"})}return n})();class YX{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XX=(()=>{class n extends YX{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:()=>ae(JX),providedIn:"root"})}return n})(),JX=(()=>{class n extends g2{constructor(){super(...arguments),this.location=ae(Wp),this.urlSerializer=ae(Rh),this.options=ae(Uh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ae(VT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KL(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Hb)this.stateMemento=this.createStateMemento();else if(t instanceof Nh)this.rawUrlTree=i.initialUrl;else if(t instanceof qL){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof bT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ph&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof qb?this.restoreHistory(i,!0):t instanceof Sa&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ug=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ug||{});function _2(n,e){n.events.pipe(ti(t=>t instanceof Sa||t instanceof Ph||t instanceof qb||t instanceof Nh),ye(t=>t instanceof Sa||t instanceof Nh?ug.COMPLETE:t instanceof Ph&&(0===t.code||1===t.code)?ug.REDIRECTING:ug.FAILED),ti(t=>t!==ug.REDIRECTING),Vs(1)).subscribe(()=>{e()})}function eJ(n){throw n}const tJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ae(zO),this.stateManager=ae(g2),this.options=ae(Uh,{optional:!0})||{},this.pendingTasks=ae(cb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ae(Qb),this.urlSerializer=ae(Rh),this.location=ae(Wp),this.urlHandlingStrategy=ae(VT),this._events=new T,this.errorHandler=this.options.errorHandler||eJ,this.navigated=!1,this.routeReuseStrategy=ae(QX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ae(jh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ae(Gb,{optional:!0}),this.eventsSubscription=new Nt,this.isNgZoneEnabled=ae(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Ph&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof Sa)this.navigated=!0;else if(i instanceof wT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||KX(r.source)};this.scheduleNavigation(s,rg,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function rJ(n){return!(n instanceof bT||n instanceof wT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(MT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=VL(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return BL(p,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=vd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,rg,null,i)}navigate(t,i={skipLocationChange:!1}){return function iJ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new V(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...tJ}:!1===i?{...nJ}:i,vd(t))return SL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return SL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return _2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yd=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new T,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Sa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function BR(n,e,t){return function P6(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?VR:mp}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(R(zr),R(Fh),function ju(n){return function sI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(cv(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(St(),n)}("tabindex"),R(wa),R(an),R(md))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&st("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Hi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Th],skipLocationChange:["skipLocationChange","skipLocationChange",Th],replaceUrl:["replaceUrl","replaceUrl",Th],routerLink:"routerLink"},standalone:!0,features:[q1,yr]})}return n})();class v2{}let aJ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ti(t=>t instanceof Sa),Ah(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=rC(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Wt(r).pipe(Ka())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):xe(null);const o=r.pipe(vi(s=>null===s?xe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?Wt([o,this.loader.loadComponent(i)]).pipe(Ka()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(j(zr),j(HO),j(Jr),j(v2),j(LT))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BT=new X("");let y2=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Nh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof GL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function l1(){throw new Error("invalid")}()};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function zs(n,e){return{\u0275kind:n,\u0275providers:e}}function w2(){const n=ae(Er);return e=>{const t=n.get(hd);if(e!==t.components[0])return;const i=n.get(zr),r=n.get(E2);1===n.get(UT)&&i.initialNavigation(),n.get(I2,null,ht.Optional)?.setUpPreloading(),n.get(BT,null,ht.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const E2=new X("",{factory:()=>new T}),UT=new X("",{providedIn:"root",factory:()=>1}),I2=new X("");function uJ(n){return zs(0,[{provide:I2,useExisting:aJ},{provide:v2,useExisting:n}])}function fJ(n){return zs(9,[{provide:m2,useValue:WX},{provide:p2,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const x2=new X("ROUTER_FORROOT_GUARD"),mJ=[Wp,{provide:Rh,useClass:pT},zr,og,{provide:Fh,useFactory:function b2(n){return n.routerState.root},deps:[zr]},LT,[]];let C2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[mJ,[],{provide:jh,multi:!0,useValue:t},{provide:x2,useFactory:vJ,deps:[[zr,new f,new u]]},{provide:Uh,useValue:i||{}},i?.useHash?{provide:md,useClass:wZ}:{provide:md,useClass:PF},{provide:BT,useFactory:()=>{const n=ae($K),e=ae(je),t=ae(Uh),i=ae(Qb),r=ae(Rh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new y2(r,i,n,e,t)}},i?.preloadingStrategy?uJ(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?yJ(i):[],i?.bindToComponentInputs?zs(8,[JL,{provide:Gb,useExisting:JL}]).\u0275providers:[],i?.enableViewTransitions?fJ().\u0275providers:[],[{provide:T2,useFactory:w2},{provide:EC,multi:!0,useExisting:T2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:jh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(j(x2,8))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({})}return n})();function vJ(n){return"guarded"}function yJ(n){return["disabled"===n.initialNavigation?zs(3,[{provide:pC,multi:!0,useFactory:()=>{const e=ae(zr);return()=>{e.setUpLocationChangeListener()}}},{provide:UT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zs(2,[{provide:UT,useValue:0},{provide:pC,multi:!0,deps:[Er],useFactory:e=>{const t=e.get(yZ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(zr),o=e.get(E2);_2(r,()=>{i(!0)}),e.get(Qb).afterPreactivation=()=>(i(!0),o.closed?xe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const T2=new X("");let A2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wa),R(an))};static#t=this.\u0275dir=Ae({type:n})}return n})(),bd=(()=>{class n extends A2{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,features:[ft]})}return n})();const fs=new X("NgValueAccessor"),EJ={provide:fs,useExisting:Ft(()=>Yb),multi:!0},xJ=new X("CompositionEventMode");let Yb=(()=>{class n extends A2{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function IJ(){const n=Nc()?Nc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wa),R(an),R(xJ,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&st("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ut([EJ]),ft]})}return n})();const ir=new X("NgValidators"),Uc=new X("NgAsyncValidators");function B2(n){return null!=n}function U2(n){return Up(n)?Wt(n):n}function j2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function z2(n,e){return e.map(t=>t(n))}function $2(n){return n.map(e=>function TJ(n){return!n.validate}(e)?e:t=>e.validate(t))}function jT(n){return null!=n?function H2(n){if(!n)return null;const e=n.filter(B2);return 0==e.length?null:function(t){return j2(z2(t,e))}}($2(n)):null}function q2(n){if(!n)return null;const e=n.filter(B2);return 0==e.length?null:function(t){return function D2(...n){const e=Wf(n),{args:t,keys:i}=bL(n),r=new yt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,d=s;for(let h=0;h<s;h++){let p=!1;De(t[h]).subscribe(ve(o,g=>{p||(p=!0,d--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(d||o.next(i?wL(i,a):a),o.complete())}))}});return e?r.pipe(dT(e)):r}(z2(t,e).map(U2)).pipe(ye(j2))}}function zT(n){return null!=n?q2($2(n)):null}function G2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $T(n){return n?Array.isArray(n)?n:[n]:[]}function Jb(n,e){return Array.isArray(n)?n.includes(e):n===e}function K2(n,e){const t=$T(e);return $T(n).forEach(r=>{Jb(t,r)||t.push(r)}),t}function Q2(n,e){return $T(e).filter(t=>!Jb(n,t))}class Y2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Sr extends Y2{get formDirective(){return null}get path(){return null}}class jc extends Y2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class X2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let J2=(()=>{class n extends X2{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(jc,2))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ft]})}return n})(),eV=(()=>{class n extends X2{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Sr,10))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ft]})}return n})();const hg="VALID",tw="INVALID",zh="PENDING",fg="DISABLED";function GT(n){return(nw(n)?n.validators:n)||null}function WT(n,e){return(nw(e)?e.asyncValidators:n)||null}function nw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rV{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hg}get invalid(){return this.status===tw}get pending(){return this.status==zh}get disabled(){return this.status===fg}get enabled(){return this.status!==fg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(K2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(K2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Q2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Q2(e,this._rawAsyncValidators))}hasValidator(e){return Jb(this._rawValidators,e)}hasAsyncValidator(e){return Jb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fg,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hg,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hg||this.status===zh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fg:hg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zh,this._hasOwnPendingAsyncValidator=!0;const t=U2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?fg:this.errors?tw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zh)?zh:this._anyControlsHaveStatus(tw)?tw:hg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kJ(n){return Array.isArray(n)?jT(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function MJ(n){return Array.isArray(n)?zT(n):n||null}(this._rawAsyncValidators)}}class ZT extends rV{constructor(e,t,i){super(GT(t),WT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function iV(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new V(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function nV(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new V(1e3,"");if(!i[t])throw new V(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const $h=new X("CallSetDisabledState",{providedIn:"root",factory:()=>iw}),iw="always";function mg(n,e,t=iw){KT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function NJ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oV(n,e)})}(n,e),function FJ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function OJ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function PJ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function sw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KT(n,e){const t=function W2(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(G2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function Z2(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(G2(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sw(e._rawValidators,r),sw(e._rawAsyncValidators,r)}function oV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const jJ={provide:Sr,useExisting:Ft(()=>cw)},pg=(()=>Promise.resolve())();let cw=(()=>{class n extends Sr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kt,this.form=new ZT({},jT(t),zT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pg.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),mg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){pg.then(()=>{const i=this._findContainer(t.path),r=new ZT({});(function sV(n,e){KT(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){pg.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function aV(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(R(ir,10),R(Uc,10),R($h,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&st("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([jJ]),ft]})}return n})();function cV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function lV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dV=class extends rV{constructor(e=null,t,i){super(GT(t),WT(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},HJ={provide:jc,useExisting:Ft(()=>JT)},fV=(()=>Promise.resolve())();let JT=(()=>{class n extends jc{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new dV,this._registered=!1,this.name="",this.update=new Kt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function XT(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Yb?t=o:function BJ(n){return Object.getPrototypeOf(n.constructor)===bd}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function YT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fV.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Th(i);fV.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function rw(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(R(Sr,9),R(ir,10),R(Uc,10),R(fs,10),R(Ia,8),R($h,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([HJ]),ft,yr]})}return n})(),mV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),gV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({})}return n})(),mee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[gV]})}return n})(),gee=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$h,useValue:t.callSetDisabledState??iw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[mee]})}return n})();function rr(n){return null!=n&&"false"!=`${n}`}function lw(n,e=0){return function _ee(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function NV(n){return Array.isArray(n)?n:[n]}function Ed(n){return n instanceof an?n.nativeElement:n}const vee=["addListener","removeListener"],yee=["addEventListener","removeEventListener"],bee=["on","off"];function gg(n,e,t,i){if(Ne(t)&&(i=t,t=void 0),i)return gg(n,e,t).pipe(dT(i));const[r,o]=function Iee(n){return Ne(n.addEventListener)&&Ne(n.removeEventListener)}(n)?yee.map(s=>a=>n[s](e,a,t)):function wee(n){return Ne(n.addListener)&&Ne(n.removeListener)}(n)?vee.map(OV(n,e)):function Eee(n){return Ne(n.on)&&Ne(n.off)}(n)?bee.map(OV(n,e)):[];if(!r&&jn(n))return vi(s=>gg(s,e,t))(De(n));if(!r)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function OV(n,e){return t=>i=>n[t](e,i)}class xee extends Nt{constructor(e,t){super()}schedule(e,t=0){return this}}const dw={setInterval(n,e,...t){const{delegate:i}=dw;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=dw;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class uw extends xee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return dw.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&dw.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oi(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const _g={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=_g;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Nt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=_g;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=_g;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},sD={now:()=>(sD.delegate||Date).now(),delegate:void 0};class vg{constructor(e,t=vg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}vg.now=sD.now;class hw extends vg{constructor(e,t=vg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class Tee extends hw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Cee extends uw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=_g.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(_g.cancelAnimationFrame(t),e._scheduled=void 0)}});let aD,Aee=1;const fw={};function FV(n){return n in fw&&(delete fw[n],!0)}const See={setImmediate(n){const e=Aee++;return fw[e]=!0,aD||(aD=Promise.resolve()),aD.then(()=>FV(e)&&n()),e},clearImmediate(n){FV(n)}},{setImmediate:kee,clearImmediate:Mee}=See,mw={setImmediate(...n){const{delegate:e}=mw;return(e?.setImmediate||kee)(...n)},clearImmediate(n){const{delegate:e}=mw;return(e?.clearImmediate||Mee)(n)},delegate:void 0},Hh=(new class Pee extends hw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Ree extends uw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=mw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(mw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new hw(uw)),Oee=Hh;function cD(n=0,e,t=Oee){let i=-1;return null!=e&&(G_(e)?t=e:i=e),new yt(r=>{let o=function Lee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function LV(n,e=Hh){return function Fee(n){return ce((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,t.next(d)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ve(t,d=>{i=!0,r=d,o||De(n(d)).subscribe(o=ve(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>cD(n,e))}let lD;try{lD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lD=!1}let yg,gw,Id,dD,Po=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function zK(n){return n===YF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(j(is))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pw(n){return function Vee(){if(null==yg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yg=!0}))}finally{yg=yg||!1}return yg}()?n:!!n.capture}function bg(){if("object"!=typeof document||!document)return 0;if(null==gw){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),gw=0,0===n.scrollLeft&&(n.scrollLeft=1,gw=0===n.scrollLeft?1:2),n.remove()}return gw}function Gh(n){return n.composedPath?n.composedPath()[0]:n.target}const Hee=new X("cdk-dir-doc",{providedIn:"root",factory:function qee(){return ae(qt)}}),Gee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let BV=(()=>{class n{constructor(t){this.value="ltr",this.change=new Kt,t&&(this.value=function Wee(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Gee.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(j(Hee,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({})}return n})(),uD=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new yt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(LV(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ti(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ed(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>gg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(j(je),j(Po),j(qt,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wg=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new T,this._elementScrolled=new yt(s=>this.ngZone.runOutsideAngular(()=>gg(this.elementRef.nativeElement,"scroll").pipe(Ar(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=bg()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==bg()?t.left=t.right:1==bg()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function Bee(){if(null==Id){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Id=!1,Id;if("scrollBehavior"in document.documentElement.style)Id=!0;else{const n=Element.prototype.scrollTo;Id=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Id}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==bg()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==bg()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(R(an),R(uD),R(je),R(BV,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),Qee=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new T,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(LV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(j(Po),j(je),j(qt,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({})}return n})();function _w(n,e=Hh){return ce((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function c(){const d=s+n,h=e.now();if(h<d)return r=this.schedule(void 0,d-h),void i.add(r);a()}t.subscribe(ve(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function $V(n){return ti((e,t)=>n<=t)}const HV=new Set;let xd,_te=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yte}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function vte(n,e){if(!HV.has(n))try{xd||(xd=document.createElement("style"),e&&(xd.nonce=e),xd.setAttribute("type","text/css"),document.head.appendChild(xd)),xd.sheet&&(xd.sheet.insertRule(`@media ${n} {body{ }}`,0),HV.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Po),j(TI,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yte(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let bte=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new T}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return qV(NV(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Pb(qV(NV(t)).map(s=>this._registerQuery(s).observable));return o=Ob(o.pipe(Vs(1)),o.pipe($V(1),_w(0))),o.pipe(ye(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new yt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(pd(i),ye(({matches:s})=>({query:t,matches:s})),Ar(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(j(_te),j(je))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let ZV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Tte(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Cte(n){try{return n.frameElement}catch{return null}}(function Nte(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===QV(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=QV(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Rte(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Pte(n){return!function Ate(n){return function kte(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Dte(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Ste(n){return function Mte(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||KV(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(j(Po))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function QV(n){if(!KV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ote{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Vs(1)).subscribe(e)}}let Fte=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Ote(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ZV),j(je),j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function XV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Lte=new X("cdk-input-modality-detector-options"),Vte={ignoreKeys:[18,17,224,91,16]},Wh=pw({passive:!0,capture:!0});let Bte=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ji(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Gh(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(YV(s)?"keyboard":"mouse"),this._mostRecentTarget=Gh(s))},this._onTouchstart=s=>{XV(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Gh(s))},this._options={...Vte,...o},this.modalityDetected=this._modality.pipe($V(1)),this.modalityChanged=this.modalityDetected.pipe(Cl()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Wh),r.addEventListener("mousedown",this._onMousedown,Wh),r.addEventListener("touchstart",this._onTouchstart,Wh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wh),document.removeEventListener("mousedown",this._onMousedown,Wh),document.removeEventListener("touchstart",this._onTouchstart,Wh))}static#e=this.\u0275fac=function(i){return new(i||n)(j(Po),j(je),j(qt),j(Lte,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jte=new X("cdk-focus-monitor-default-options"),vw=pw({passive:!0,capture:!0});let zte=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new T,this._rootNodeFocusAndBlurListener=a=>{for(let d=Gh(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Ed(t);if(!this._platform.isBrowser||1!==r.nodeType)return xe();const o=function jee(n){if(function Uee(){if(null==dD){const n=typeof document<"u"?document.head:null;dD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return dD}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new T,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Ed(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Ed(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Gh(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ar(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(j(je),j(Po),j(Bte),j(qt,8),j(jte,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eB="cdk-high-contrast-black-on-white",tB="cdk-high-contrast-white-on-black",fD="cdk-high-contrast-active";let $te=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ae(bte).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(fD,eB,tB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(fD,eB):2===i&&t.add(fD,tB)}}static#e=this.\u0275fac=function(i){return new(i||n)(j(Po),j(qt))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qte=new X("mat-sanity-checks",{providedIn:"root",factory:function Hte(){return!0}});let $r=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function $ee(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(j($te),j(qte,8),j(qt))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[UV,UV]})}return n})();function Gte(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}class Zte{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rB=pw({passive:!0,capture:!0});class Kte{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Gh(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,rB)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rB)))}}const oB={enterDuration:225,exitDuration:150},sB=pw({passive:!0,capture:!0}),aB=["mousedown","touchstart"],cB=["mouseup","mouseleave","touchend","touchcancel"];class yw{static#e=this._eventManager=new Kte;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ed(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...oB,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function Yte(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new Zte(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let I=null;return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const S=()=>this._finishRippleTransition(w),A=()=>this._destroyRipple(w);h.addEventListener("transitionend",S),h.addEventListener("transitioncancel",A),I={onTransitionEnd:S,onTransitionCancel:A}}),this._activeRipples.set(w,I),(b||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...oB,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ed(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,aB.forEach(i=>{yw._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{cB.forEach(t=>{this._triggerElement.addEventListener(t,this,sB)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=YV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!XV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(aB.forEach(t=>yw._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&cB.forEach(t=>e.removeEventListener(t,this,sB)))}}const mD=new X("mat-ripple-global-options");let lB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[$r,$r]})}return n})(),Xte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[$r]})}return n})();const ka="*";function Jte(n,e){return{type:7,name:n,definitions:e,options:{}}}function dB(n,e=null){return{type:4,styles:e,timings:n}}function bw(n){return{type:6,styles:n,offset:null}}function uB(n,e,t){return{type:0,name:n,styles:e,options:t}}function hB(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Ig{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class fB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const ww=["*"],rne=["content"];function one(n,e){if(1&n){const t=cs();B(0,"div",2),st("click",function(){return Vt(t),At(Ge()._onBackdropClicked())}),q()}2&n&&Xn("mat-drawer-shown",Ge()._isShowingBackdrop())}function sne(n,e){1&n&&(B(0,"mat-drawer-content"),cn(1,2),q())}const ane=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],cne=["mat-drawer","mat-drawer-content","*"];function lne(n,e){if(1&n){const t=cs();B(0,"div",2),st("click",function(){return Vt(t),At(Ge()._onBackdropClicked())}),q()}2&n&&Xn("mat-drawer-shown",Ge()._isShowingBackdrop())}function dne(n,e){1&n&&(B(0,"mat-sidenav-content"),cn(1,2),q())}const une=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],hne=["mat-sidenav","mat-sidenav-content","*"],mB={transformDrawer:Jte("transform",[uB("open, open-instant",bw({transform:"none",visibility:"visible"})),uB("void",bw({"box-shadow":"none",visibility:"hidden"})),hB("void => open-instant",dB("0ms")),hB("void <=> open, open-instant => void",dB("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},mne=new X("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function pne(){return!1}}),gD=new X("MAT_DRAWER_CONTAINER");let Ew=(()=>{class n extends wg{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ia),R(Ft(()=>gB)),R(an),R(uD),R(je))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&Cp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Ut([{provide:wg,useExisting:n}]),ft],ngContentSelectors:ww,decls:1,vars:0,template:function(i,r){1&i&&(io(),cn(0))},encapsulation:2,changeDetection:0})}return n})(),pB=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=rr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=rr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(rr(t))}constructor(t,i,r,o,s,a,c,d){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=d,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new T,this._animationEnd=new T,this._animationState="void",this.openedChange=new Kt(!0),this._openedStream=this.openedChange.pipe(ti(h=>h),ye(()=>{})),this.openedStart=this._animationStarted.pipe(ti(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),fT(void 0)),this._closedStream=this.openedChange.pipe(ti(h=>!h),ye(()=>{})),this.closedStart=this._animationStarted.pipe(ti(h=>h.fromState!==h.toState&&"void"===h.toState),fT(void 0)),this._destroyed=new T,this.onPositionChanged=new Kt,this._modeChanged=new T,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{gg(this._elementRef.nativeElement,"keydown").pipe(ti(h=>27===h.keyCode&&!this.disableClose&&!function hD(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),Ar(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(Cl((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Vs(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(R(an),R(Fte),R(zte),R(Po),R(je),R(ZV),R(qt,8),R(gD,8))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&Eh(rne,5),2&i){let o;di(o=ui())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&Qx("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(Hi("align",null),Wx("@transform",r._animationState),Xn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ww,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(io(),B(0,"div",0,1),cn(2),q())},dependencies:[wg],encapsulation:2,data:{animation:[mB.transformDrawer]},changeDetection:0})}return n})(),gB=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=rr(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:rr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new wh,this.backdropClick=new Kt,this._destroyed=new T,this._doCheckSubject=new T,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T,t&&t.change.pipe(Ar(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Ar(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(pd(this._allDrawers),Ar(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(pd(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_w(10),Ar(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ti(i=>i.fromState!==i.toState),Ar(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ar(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Ar(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Vs(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ar(Il(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(R(BV,8),R(an),R(je),R(Ia),R(Qee),R(mne),R(Hu,8))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(xr(o,Ew,5),xr(o,pB,5)),2&i){let s;di(s=ui())&&(r._content=s.first),di(s=ui())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&Eh(Ew,5),2&i){let o;di(o=ui())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ut([{provide:gD,useExisting:n}])],ngContentSelectors:cne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(io(ane),Bt(0,one,1,2,"div",0),cn(1),cn(2,1),Bt(3,sne,2,0,"mat-drawer-content",1)),2&i&&(Ke("ngIf",r.hasBackdrop),Ee(3),Ke("ngIf",!r._content))},dependencies:[Oc,Ew],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),_D=(()=>{class n extends Ew{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ia),R(Ft(()=>vB)),R(an),R(uD),R(je))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&Cp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Ut([{provide:wg,useExisting:n}]),ft],ngContentSelectors:ww,decls:1,vars:0,template:function(i,r){1&i&&(io(),cn(0))},encapsulation:2,changeDetection:0})}return n})(),_B=(()=>{class n extends pB{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=rr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=lw(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=lw(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(Hi("align",null),Cp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Xn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[ft],ngContentSelectors:ww,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(io(),B(0,"div",0,1),cn(2),q())},dependencies:[wg],encapsulation:2,data:{animation:[mB.transformDrawer]},changeDetection:0})}return n})(),vB=(()=>{class n extends gB{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(xr(o,_D,5),xr(o,_B,5)),2&i){let s;di(s=ui())&&(r._content=s.first),di(s=ui())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ut([{provide:gD,useExisting:n}]),ft],ngContentSelectors:hne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(io(une),Bt(0,lne,1,2,"div",0),cn(1),cn(2,1),Bt(3,dne,2,0,"mat-sidenav-content",1)),2&i&&(Ke("ngIf",r.hasBackdrop),Ee(3),Ke("ngIf",!r._content))},dependencies:[Oc,_D],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),gne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[YC,$r,jV,jV,$r]})}return n})(),yB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_ne=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Ed(t);return new yt(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new T,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(i){return new(i||n)(j(yB))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bB=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=lw(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Kt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(_w(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(R(_ne),R(an),R(je))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),vne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({providers:[yB]})}return n})(),yne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[$r,$r]})}return n})();const EB=["*"],xB=["unscopedContent"],bne=["text"],wne=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Ene=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],CB=new X("ListOption");let TB=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(R(an))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),DB=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(R(an))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),Une=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),AB=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(R(CB,8))};static#t=this.\u0275dir=Ae({type:n,hostVars:4,hostBindings:function(i,r){2&i&&Xn("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),jne=(()=>{class n extends AB{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[ft]})}return n})(),zne=(()=>{class n extends AB{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[ft]})}return n})();const $ne=new X("MAT_LIST_CONFIG");let Zh=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=ae($ne,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rr(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,hostVars:1,hostBindings:function(i,r){2&i&&Hi("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),vD=(()=>{class n{set lines(t){this._explicitLines=lw(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=rr(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=rr(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,s,a){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Nt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new yw(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Il(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(R(an),R(je),R(Zh,8),R(Po),R(mD,8),R(Hu,8))};static#t=this.\u0275dir=Ae({type:n,contentQueries:function(i,r,o){if(1&i&&(xr(o,jne,4),xr(o,zne,4)),2&i){let s;di(s=ui())&&(r._avatars=s),di(s=ui())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(Hi("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),Xn("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),Hne=(()=>{class n extends Zh{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yn(n)))(r||n)}})();static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[Ut([{provide:Zh,useExisting:n}]),ft],ngContentSelectors:EB,decls:1,vars:0,template:function(i,r){1&i&&(io(),cn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return n})(),qne=(()=>{class n extends vD{get activated(){return this._activated}set activated(t){this._activated=rr(t)}constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||n)(R(an),R(je),R(Zh,8),R(Po),R(mD,8),R(Hu,8))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(xr(o,DB,5),xr(o,TB,5),xr(o,Une,5)),2&i){let s;di(s=ui())&&(r._lines=s),di(s=ui())&&(r._titles=s),di(s=ui())&&(r._meta=s)}},viewQuery:function(i,r){if(1&i&&(Eh(xB,5),Eh(bne,5)),2&i){let o;di(o=ui())&&(r._unscopedContent=o.first),di(o=ui())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(Hi("aria-current",r._getAriaCurrent()),Xn("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[ft],ngContentSelectors:Ene,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(io(wne),cn(0),B(1,"span",0),cn(2,1),cn(3,2),B(4,"span",1,2),st("cdkObserveContent",function(){return r._updateItemLines(!0)}),cn(6,3),q()(),cn(7,4),cn(8,5),pt(9,"div",3))},dependencies:[bB],encapsulation:2,changeDetection:0})}return n})(),Qne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[vne,YC,$r,lB,Xte,yne]})}return n})();const Yne=["*",[["mat-toolbar-row"]]],Xne=["*","mat-toolbar-row"],Jne=Gte(class{constructor(n){this._elementRef=n}});let eie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),tie=(()=>{class n extends Jne{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(R(an),R(Po),R(qt))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&xr(o,eie,5),2&i){let s;di(s=ui())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Xn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ft],ngContentSelectors:Xne,decls:2,vars:0,template:function(i,r){1&i&&(io(Yne),cn(0),cn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),nie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[$r,$r]})}return n})();function iie(n,e){if(1&n){const t=cs();B(0,"mat-toolbar")(1,"span")(2,"a",5),pt(3,"img",6),q()(),pt(4,"span",7),B(5,"span",8),me(6,' "Post with Purpose, Earn with Pride | Join Earn2Post" '),q(),pt(7,"span",7),B(8,"span")(9,"form"),pt(10,"input",9),q()(),B(11,"span")(12,"button",10),st("click",function(){Vt(t);const r=Ge();return At(r.opened=!r.opened)}),q()()()}}const rie=["*"];let yD=(()=>{class n{constructor(){this.opened=!1,this.visible=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:rie,decls:30,vars:6,consts:[[4,"ngIf"],["autosize",""],["mode","over","position","end",3,"opened","openedChange"],["routerLink","/profile"],["routerLink","/clicker"],["routerLink","/home"],["src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],[1,"moto"],["type","search","placeholder","Search...","maxlength","13",1,"search"],[1,"menu_button",3,"click"]],template:function(i,r){1&i&&(io(),Bt(0,iie,13,0,"mat-toolbar",0),B(1,"mat-sidenav-container",1)(2,"mat-sidenav",2),st("openedChange",function(s){return r.opened=s}),B(3,"mat-list")(4,"mat-list-item")(5,"a",3),me(6,"Profile"),q()(),B(7,"mat-list-item")(8,"a"),me(9,"Messages"),q()(),B(10,"mat-list-item")(11,"a",4),me(12,"Clicker"),q()(),B(13,"mat-list-item")(14,"a"),me(15,"Buy DeBux"),q()(),B(16,"mat-list-item")(17,"a"),me(18,"Settings"),q()(),B(19,"mat-list-item")(20,"a"),me(21,"Bug Reposrt"),q()(),B(22,"mat-list-item")(23,"a"),me(24,"Switch Account"),q()(),B(25,"mat-list-item")(26,"a"),me(27,"Log out"),q()()()(),B(28,"mat-sidenav-content"),cn(29),q()()),2&i&&(Ke("ngIf",r.visible),Ee(1),Xn("login-page",!r.visible)("other-page",r.visible),Ee(1),Ke("opened",r.opened))},dependencies:[Oc,yd,mV,eV,cw,_B,vB,_D,Hne,qne,tie],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px}.logo[_ngcontent-%COMP%]{display:flex;width:90%;margin-bottom:15px;margin-left:24px}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:200%;position:relative}.search[_ngcontent-%COMP%]{width:300px;height:auto;border:none;border-radius:40px;outline:none;color:#e0e1e1;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 70px;background:#212121 url(search.ea107fff5de7e57b.svg) no-repeat;background-size:45px;background-position:4% 70%}.search[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;height:10px}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:65px;background-position:95% -160%;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}mat-sidenav-container[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}a[_ngcontent-%COMP%]{color:#e0e1e1}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return n})();Ye(956);var Kh=Ye(534);(0,Kh.registerVersion)("firebase","10.6.0","app");const lie=new class cie extends hw{}(class aie extends uw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Iw=new kc("ANGULARFIRE2_VERSION");class kB{constructor(){return((n,e)=>{const t=(0,Kh.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(uie)}}const uie="app-check";function Qh(){}class MB{zone;delegate;constructor(e,t=lie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class hie{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qh,{},Qh,Qh)),t.pipe(ni({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let RB=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new MB(Zone.current)),this.insideAngular=t.run(()=>new MB(Zone.current,Hh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(j(je))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oo(n){return function mie(n){return function(t){return(t=t.lift(new hie(n.ngZone))).pipe(ia(n.outsideAngular),na(n.insideAngular))}}(function Yh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Ma=Ye(106);Ma.Z.registerVersion("firebase","10.6.0","app-compat");const vie=["ngOnDestroy"];class PB{constructor(e){return e}}const xw=new X("angularfire2.app.options"),Cw=new X("angularfire2.app.name");function bD(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Ma.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Ma.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;wie("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new PB(s)}const wie=(n,...e)=>{},Eie={provide:PB,useFactory:bD,deps:[xw,je,[new f,Cw]]};let Iie=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:xw,useValue:t},{provide:Cw,useValue:i}]}}constructor(t){Ma.Z.registerVersion("angularfire",Iw.full,"core"),Ma.Z.registerVersion("angularfire",Iw.full,"app-compat"),Ma.Z.registerVersion("angular",qR.full,t.toString())}static \u0275fac=function(i){return new(i||n)(j(is))};static \u0275mod=Xt({type:n});static \u0275inj=$t({providers:[Eie]})}return n})();function NB(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function xie(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(OB("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Cie?" You may need to reload as Firebase is not HMR aware.":""}`),OB("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Cie=typeof module<"u"&&!!module.hot,OB=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class Tie extends T{constructor(e=1/0,t=1/0,i=sD){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function FB(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,xl({connector:()=>new Tie(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function LB(n,e){return Ne(e)?Zt(()=>n,e):Zt(()=>n)}const VB=new X("angularfire2.auth.use-emulator"),BB=new X("angularfire2.auth.settings"),UB=new X("angularfire2.auth.tenant-id"),jB=new X("angularfire2.auth.langugage-code"),zB=new X("angularfire2.auth.use-device-language"),$B=new X("angularfire.auth.persistence"),HB=(n,e,t,i,r,o,s,a)=>NB(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[d,h]of Object.entries(s))c.settings[d]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let Xh=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,d,h,p,g,v){const b=new T,w=xe(void 0).pipe(na(s.outsideAngular),Zt(()=>o.runOutsideAngular(()=>Promise.resolve().then(Ye.bind(Ye,956)))),ye(()=>bD(t,o,i)),ye(I=>HB(I,o,a,d,h,p,c,g)),FB({bufferSize:1,refCount:!1}));if(Sb(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xe(null);else{w.pipe(Lc()).subscribe();const I=w.pipe(Zt(M=>M.getRedirectResult().then(Y=>Y,()=>null)),oo,FB({bufferSize:1,refCount:!1})),S=w.pipe(Zt(M=>new yt(Y=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))})))),A=w.pipe(Zt(M=>new yt(Y=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))}))));this.authState=I.pipe(LB(S),ia(s.outsideAngular),na(s.insideAngular)),this.user=I.pipe(LB(A),ia(s.outsideAngular),na(s.insideAngular)),this.idToken=this.user.pipe(Zt(M=>M?Wt(M.getIdToken()):xe(null))),this.idTokenResult=this.user.pipe(Zt(M=>M?Wt(M.getIdTokenResult()):xe(null))),this.credential=Il(I,b,this.authState.pipe(ti(M=>!M))).pipe(ye(M=>M?.user?M:null),ia(s.outsideAngular),na(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(vie.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(h=>{const p=h?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,p),p})})})}))(this,w,o,{spy:{apply:(I,S,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(M=>b.next(M))}}})}static \u0275fac=function(i){return new(i||n)(j(xw),j(Cw,8),j(is),j(je),j(RB),j(VB,8),j(BB,8),j(UB,8),j(jB,8),j(zB,8),j($B,8),j(kB,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Aie=(()=>{class n{constructor(){Ma.Z.registerVersion("angularfire",Iw.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Xt({type:n});static \u0275inj=$t({providers:[Xh]})}return n})();function wD(){return ce((n,e)=>{let t,i=!1;n.subscribe(ve(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var ge,K=Ye(861),qB=Ye(537),$s=Ye(879),dn=Ye(58),Sie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms={},ED=ED||{},Je=Sie||self;function Tw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function xg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ID="closure_uid_"+(1e9*Math.random()>>>0),Mie=0;function Rie(n,e,t){return n.call.apply(n.bind,arguments)}function Pie(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rie:Pie).apply(null,arguments)}function Dw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function zc(){this.s=this.s,this.o=this.o}zc.prototype.s=!1,zc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kie(n){Object.prototype.hasOwnProperty.call(n,ID)&&n[ID]||(n[ID]=++Mie)}(this)},zc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function xD(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function WB(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Tw(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}sr.prototype.h=function(){this.defaultPrevented=!0};var Oie=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Je.addEventListener("test",()=>{},e),Je.removeEventListener("test",()=>{},e)}catch{}return n}();function Cg(n){return/^[\s\xa0]*$/.test(n)}function Aw(){var n=Je.navigator;return n&&(n=n.userAgent)?n:""}function Hs(n){return-1!=Aw().indexOf(n)}function CD(n){return CD[" "](n),n}CD[" "]=function(){};var DD,n,Lie=Hs("Opera"),Jh=Hs("Trident")||Hs("MSIE"),ZB=Hs("Edge"),TD=ZB||Jh,KB=Hs("Gecko")&&!(-1!=Aw().toLowerCase().indexOf("webkit")&&!Hs("Edge"))&&!(Hs("Trident")||Hs("MSIE"))&&!Hs("Edge"),Vie=-1!=Aw().toLowerCase().indexOf("webkit")&&!Hs("Edge");function QB(){var n=Je.document;return n?n.documentMode:void 0}e:{var AD="",SD=(n=Aw(),KB?/rv:([^\);]+)(\)|;)/.exec(n):ZB?/Edge\/([\d\.]+)/.exec(n):Jh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Vie?/WebKit\/(\S+)/.exec(n):Lie?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(SD&&(AD=SD?SD[1]:""),Jh){var kD=QB();if(null!=kD&&kD>parseFloat(AD)){DD=String(kD);break e}}DD=AD}var Bie=Je.document&&Jh&&(QB()||parseInt(DD,10))||void 0;function Tg(n,e){if(sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(KB){e:{try{CD(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Uie[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tg.$.h.call(this)}}Mi(Tg,sr);var Uie={2:"touch",3:"pen",4:"mouse"};Tg.prototype.h=function(){Tg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dg="closure_listenable_"+(1e6*Math.random()|0),jie=0;function zie(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++jie,this.fa=this.ia=!1}function Sw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function RD(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function XB(n){const e={};for(const t in n)e[t]=n[t];return e}const JB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eU(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<JB.length;o++)t=JB[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function kw(n){this.src=n,this.g={},this.h=0}function PD(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=GB(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Sw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ND(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}kw.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=ND(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new zie(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var OD="closure_lm_"+(1e6*Math.random()|0),FD={};function tU(n,e,t,i,r){if(i&&i.once)return iU(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)tU(n,e[o],t,i,r);return null}return t=UD(t),n&&n[Dg]?n.O(e,t,xg(i)?!!i.capture:!!i,r):nU(n,e,t,!1,i,r)}function nU(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=xg(r)?!!r.capture:!!r,a=VD(n);if(a||(n[OD]=a=new kw(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function Hie(){const e=qie;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Oie||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(oU(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function iU(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)iU(n,e[o],t,i,r);return null}return t=UD(t),n&&n[Dg]?n.P(e,t,xg(i)?!!i.capture:!!i,r):nU(n,e,t,!0,i,r)}function rU(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)rU(n,e[o],t,i,r);else i=xg(i)?!!i.capture:!!i,t=UD(t),n&&n[Dg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ND(o=n.g[e],t,i,r))&&(Sw(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=VD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ND(e,t,i,r)),(t=-1<n?e[n]:null)&&LD(t))}function LD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Dg])PD(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(oU(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=VD(e))?(PD(t,n),0==t.h&&(t.src=null,e[OD]=null)):Sw(n)}}}function oU(n){return n in FD?FD[n]:FD[n]="on"+n}function qie(n,e){if(n.fa)n=!0;else{e=new Tg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&LD(n),n=t.call(i,e)}return n}function VD(n){return(n=n[OD])instanceof kw?n:null}var BD="__closure_events_fn_"+(1e9*Math.random()>>>0);function UD(n){return"function"==typeof n?n:(n[BD]||(n[BD]=function(e){return n.handleEvent(e)}),n[BD])}function Ri(){zc.call(this),this.i=new kw(this),this.S=this,this.J=null}function Gi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new sr(e,n);else if(e instanceof sr)e.target=e.target||n;else{var r=e;eU(e=new sr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Mw(s,i,!0,e)&&r}if(r=Mw(s=e.g=n,i,!0,e)&&r,r=Mw(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Mw(s=e.g=t[o],i,!1,e)&&r}function Mw(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&PD(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Mi(Ri,zc),Ri.prototype[Dg]=!0,Ri.prototype.removeEventListener=function(n,e,t,i){rU(this,n,e,t,i)},Ri.prototype.N=function(){if(Ri.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Sw(t[i]);delete n.g[e],n.h--}}this.J=null},Ri.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ri.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var jD=Je.JSON.stringify;function Wie(){var n=zD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sU=new class Gie{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kie,n=>n.reset());class Kie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qie(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Yie(n){Je.setTimeout(()=>{throw n},0)}let Ag,Sg=!1,zD=new class Zie{constructor(){this.h=this.g=null}add(e,t){const i=sU.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},aU=()=>{const n=Je.Promise.resolve(void 0);Ag=()=>{n.then(Xie)}};var Xie=()=>{for(var n;n=Wie();){try{n.h.call(n.g)}catch(t){Yie(t)}var e=sU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sg=!1};function Rw(n,e){Ri.call(this),this.h=n||1,this.g=e||Je,this.j=or(this.qb,this),this.l=Date.now()}function $D(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function HD(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:Je.setTimeout(n,e||0)}function cU(n){n.g=HD(()=>{n.g=null,n.i&&(n.i=!1,cU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(Rw,Ri),(ge=Rw.prototype).ga=!1,ge.T=null,ge.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gi(this,"tick"),this.ga&&($D(this),this.start()))}},ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.N=function(){Rw.$.N.call(this),$D(this),delete this.g};class Jie extends zc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cU(this)}N(){super.N(),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kg(n){zc.call(this),this.h=n,this.g={}}Mi(kg,zc);var lU=[];function dU(n,e,t,i){Array.isArray(t)||(t&&(lU[0]=t.toString()),t=lU);for(var r=0;r<t.length;r++){var o=tU(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function uU(n){RD(n.g,function(e,t){this.g.hasOwnProperty(t)&&LD(e)},n),n.g={}}function Pw(){this.g=!0}function ef(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ire(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return jD(t)}catch{return e}}(n,t)+(i?" "+i:"")})}kg.prototype.N=function(){kg.$.N.call(this),uU(this)},kg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pw.prototype.Ea=function(){this.g=!1},Pw.prototype.info=function(){};var Td={},hU=null;function Nw(){return hU=hU||new Ri}function fU(n){sr.call(this,Td.Ta,n)}function Mg(n){const e=Nw();Gi(e,new fU(e))}function mU(n,e){sr.call(this,Td.STAT_EVENT,n),this.stat=e}function kr(n){const e=Nw();Gi(e,new mU(e,n))}function pU(n,e){sr.call(this,Td.Ua,n),this.size=e}function Rg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Je.setTimeout(function(){n()},e)}Td.Ta="serverreachability",Mi(fU,sr),Td.STAT_EVENT="statevent",Mi(mU,sr),Td.Ua="timingevent",Mi(pU,sr);var Ow={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qD(){}function vU(){}qD.prototype.h=null;var ZD,Pg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function GD(){sr.call(this,"d")}function WD(){sr.call(this,"c")}function Fw(){}function Ng(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new kg(this),this.P=rre,this.V=new Rw(n=TD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yU}function yU(){this.i=null,this.g="",this.h=!1}Mi(GD,sr),Mi(WD,sr),Mi(Fw,qD),Fw.prototype.g=function(){return new XMLHttpRequest},Fw.prototype.i=function(){return{}},ZD=new Fw;var rre=45e3,KD={},Lw={};function QD(n,e,t){n.L=1,n.v=jw(Ra(e)),n.s=t,n.S=!0,bU(n,null)}function bU(n,e){n.G=Date.now(),Og(n),n.A=Ra(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),kU(t.i,"t",i),n.C=0,t=n.l.J,n.h=new yU,n.g=ej(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Jie(or(n.Pa,n,n.g),n.O)),dU(n.U,n.g,"readystatechange",n.nb),e=n.I?XB(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Mg(),function ere(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");if(1<d.length){var h=d[0];d=d[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+d+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function wU(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function EU(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=ore(n,t),r==Lw){4==e&&(n.o=4,kr(14),i=!1),ef(n.j,n.m,null,"[Incomplete Response]");break}if(r==KD){n.o=4,kr(15),ef(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ef(n.j,n.m,r,null),YD(n,r)}wU(n)&&r!=Lw&&r!=KD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,kr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),rA(e),e.M=!0,kr(11))):(ef(n.j,n.m,t,"[Invalid Chunked Response]"),Dd(n),Fg(n))}function ore(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Lw:(t=Number(e.substring(t,i)),isNaN(t)?KD:(i+=1)+t>e.length?Lw:(e=e.slice(i,i+t),n.C=i+t,e))}function Og(n){n.Y=Date.now()+n.P,IU(n,n.P)}function IU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rg(or(n.lb,n),e)}function Vw(n){n.B&&(Je.clearTimeout(n.B),n.B=null)}function Fg(n){0==n.l.H||n.J||QU(n.l,n)}function Dd(n){Vw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,$D(n.V),uU(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function YD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||XD(t.i,n)))if(!n.K&&XD(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ww(t),qw(t)}iA(t),kr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Rg(or(t.ib,t),6e3));if(1>=PU(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Sd(t,11)}else if((n.K||t.g==n)&&Ww(t),!Cg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const h=d[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=d[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(JD(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,wn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=JU(i,i.J?i.pa:null,i.Y),s.K){NU(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Vw(a),Og(a)),i.g=s}else ZU(i);0<t.j.length&&Gw(t)}else"stop"!=d[0]&&"close"!=d[0]||Sd(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Sd(t,7):nA(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Mg()}catch{}}function xU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function are(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function sre(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tw(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ge=Ng.prototype).setTimeout=function(n){this.P=n},ge.nb=function(n){n=n.target;const e=this.M;e&&3==qs(n)?e.l():this.Pa(n)},ge.Pa=function(n){try{if(n==this.g)e:{const h=qs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||TD||this.g&&(this.h.h||this.g.ja()||zU(this.g)))){this.J||4!=h||7==e||Mg(),Vw(this);var t=this.g.da();this.ca=t;t:if(wU(this)){var i=zU(this.g);n="";var r=i.length,o=4==qs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dd(this),Fg(this);var s="";break t}this.h.i=new Je.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function tre(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cg(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,kr(12),Dd(this),Fg(this);break e}ef(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YD(this,t)}this.S?(EU(this,h,s),TD&&this.i&&3==h&&(dU(this.U,this.V,"tick",this.mb),this.V.start())):(ef(this.j,this.m,s,null),YD(this,s)),4==h&&Dd(this),this.i&&!this.J&&(4==h?QU(this.l,this):(this.i=!1,Og(this)))}else(function Cre(n){const e={};n=(n.g&&2<=qs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Cg(n[i]))continue;var t=Qie(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function $ie(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Dd(this),Fg(this)}}}catch{}},ge.mb=function(){if(this.g){var n=qs(this.g),e=this.g.ja();this.C<e.length&&(Vw(this),EU(this,n,e),this.i&&4!=n&&Og(this))}},ge.cancel=function(){this.J=!0,Dd(this)},ge.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nre(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Mg(),kr(17)),Dd(this),this.o=2,Fg(this)):IU(this,this.Y-n)};var CU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ad){this.h=n.h,Bw(this,n.j),this.s=n.s,this.g=n.g,Uw(this,n.m),this.l=n.l;var e=n.i,t=new Bg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),TU(this,t),this.o=n.o}else n&&(e=String(n).match(CU))?(this.h=!1,Bw(this,e[1]||"",!0),this.s=Lg(e[2]||""),this.g=Lg(e[3]||"",!0),Uw(this,e[4]),this.l=Lg(e[5]||"",!0),TU(this,e[6]||"",!0),this.o=Lg(e[7]||"")):(this.h=!1,this.i=new Bg(null,this.h))}function Ra(n){return new Ad(n)}function Bw(n,e,t){n.j=t?Lg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Uw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function TU(n,e,t){e instanceof Bg?(n.i=e,function mre(n,e){e&&!n.j&&($c(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(AU(this,i),kU(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vg(e,hre)),n.i=new Bg(e,n.h))}function wn(n,e,t){n.i.set(e,t)}function jw(n){return wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lre),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lre(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ad.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vg(e,DU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vg(e,DU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vg(t,"/"==t.charAt(0)?ure:dre,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vg(t,fre)),n.join("")};var DU=/[#\/\?@]/g,dre=/[#\?:]/g,ure=/[#\?]/g,hre=/[#\?@]/g,fre=/#/g;function Bg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $c(n){n.g||(n.g=new Map,n.h=0,n.i&&function cre(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function AU(n,e){$c(n),e=tf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function SU(n,e){return $c(n),e=tf(n,e),n.g.has(e)}function kU(n,e,t){AU(n,e),0<t.length&&(n.i=null,n.g.set(tf(n,e),xD(t)),n.h+=t.length)}function tf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ge=Bg.prototype).add=function(n,e){$c(this),this.i=null,n=tf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ge.forEach=function(n,e){$c(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ge.ta=function(){$c(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ge.Z=function(n){$c(this);let e=[];if("string"==typeof n)SU(this,n)&&(e=e.concat(this.g.get(tf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ge.set=function(n,e){return $c(this),this.i=null,SU(this,n=tf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ge.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var pre=class{constructor(n,e){this.g=n,this.map=e}};function MU(n){this.l=n||gre,n=Je.PerformanceNavigationTiming?0<(n=Je.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Je.g&&Je.g.Ka&&Je.g.Ka()&&Je.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gre=10;function RU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PU(n){return n.h?1:n.g?n.g.size:0}function XD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function JD(n,e){n.g?n.g.add(e):n.h=e}function NU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return xD(n.i)}MU.prototype.cancel=function(){if(this.i=OU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var _re=class{stringify(n){return Je.JSON.stringify(n,void 0)}parse(n){return Je.JSON.parse(n,void 0)}};function vre(){this.g=new _re}function yre(n,e,t){const i=t||"";try{xU(n,function(r,o){let s=r;xg(r)&&(s=jD(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function zw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ug(n){this.l=n.ec||null,this.j=n.ob||!1}function $w(n,e){Ri.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=eA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mi(Ug,qD),Ug.prototype.g=function(){return new $w(this.l,this.j)},Ug.prototype.i=function(n){return function(){return n}}({}),Mi($w,Ri);var eA=0;function FU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zg(n)}function zg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ge=$w.prototype).open=function(n,e){if(this.readyState!=eA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zg(this)},ge.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jg(this)),this.readyState=eA},ge.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zg(this)),this.g&&(this.readyState=3,zg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Je.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ge.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jg(this):zg(this),3==this.readyState&&FU(this)}},ge.Za=function(n){this.g&&(this.response=this.responseText=n,jg(this))},ge.Ya=function(n){this.g&&(this.response=n,jg(this))},ge.ka=function(){this.g&&jg(this)},ge.setRequestHeader=function(n,e){this.v.append(n,e)},ge.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($w.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wre=Je.JSON.parse;function qn(n){Ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=LU,this.L=this.M=!1}Mi(qn,Ri);var LU="",Ere=/^https?$/i,Ire=["POST","PUT"];function VU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,BU(n),Hw(n)}function BU(n){n.F||(n.F=!0,Gi(n,"complete"),Gi(n,"error"))}function UU(n){if(n.h&&typeof ED<"u"&&(!n.C[1]||4!=qs(n)||2!=n.da()))if(n.v&&4==qs(n))HD(n.La,0,n);else if(Gi(n,"readystatechange"),4==qs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(CU)[1]||null;!r&&Je.self&&Je.self.location&&(r=Je.self.location.protocol.slice(0,-1)),i=!Ere.test(r?r.toLowerCase():"")}t=i}if(t)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var o=2<qs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",BU(n)}}finally{Hw(n)}}}function Hw(n,e){if(n.g){jU(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Gi(n,"ready");try{t.onreadystatechange=i}catch{}}}function jU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Je.clearTimeout(n.A),n.A=null)}function qs(n){return n.g?n.g.readyState:0}function zU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case LU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function $U(n){let e="";return RD(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function tA(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=$U(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wn(n,e,t))}function $g(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function HU(n){this.Ga=0,this.j=[],this.l=new Pw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$g("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$g("baseRetryDelayMs",5e3,n),this.hb=$g("retryDelaySeedMs",1e4,n),this.eb=$g("forwardChannelMaxRetries",2,n),this.xa=$g("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new MU(n&&n.concurrentRequestLimit),this.Ja=new vre,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nA(n){if(qU(n),3==n.H){var e=n.W++,t=Ra(n.I);if(wn(t,"SID",n.K),wn(t,"RID",e),wn(t,"TYPE","terminate"),Hg(n,t),(e=new Ng(n,n.l,e)).L=2,e.v=jw(Ra(t)),t=!1,Je.navigator&&Je.navigator.sendBeacon)try{t=Je.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Je.Image&&((new Image).src=e.v,t=!0),t||(e.g=ej(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Og(e)}XU(n)}function qw(n){n.g&&(rA(n),n.g.cancel(),n.g=null)}function qU(n){qw(n),n.u&&(Je.clearTimeout(n.u),n.u=null),Ww(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Je.clearTimeout(n.m),n.m=null)}function Gw(n){if(!RU(n.i)&&!n.m){n.m=!0;var e=n.Na;Ag||aU(),Sg||(Ag(),Sg=!0),zD.add(e,n),n.C=0}}function GU(n,e){var t;t=e?e.m:n.W++;const i=Ra(n.I);wn(i,"SID",n.K),wn(i,"RID",t),wn(i,"AID",n.V),Hg(n,i),n.o&&n.s&&tA(i,n.o,n.s),t=new Ng(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=WU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),JD(n.i,t),QD(t,i,e)}function Hg(n,e){n.na&&RD(n.na,function(t,i){wn(e,i,t)}),n.h&&xU({},function(t,i){wn(e,i,t)})}function WU(n,e,t){t=Math.min(n.j.length,t);var i=n.h?or(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let d=r[c].g;const h=r[c].map;if(d-=o,0>d)o=Math.max(0,r[c].g-100),a=!1;else try{yre(h,s,"req"+d+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function ZU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ag||aU(),Sg||(Ag(),Sg=!0),zD.add(e,n),n.A=0}}function iA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Rg(or(n.Ma,n),YU(n,n.A)),n.A++,0))}function rA(n){null!=n.B&&(Je.clearTimeout(n.B),n.B=null)}function KU(n){n.g=new Ng(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ra(n.wa);wn(e,"RID","rpc"),wn(e,"SID",n.K),wn(e,"AID",n.V),wn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&wn(e,"TO",n.qa),wn(e,"TYPE","xmlhttp"),Hg(n,e),n.o&&n.s&&tA(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=jw(Ra(e)),t.s=null,t.S=!0,bU(t,n)}function Ww(n){null!=n.v&&(Je.clearTimeout(n.v),n.v=null)}function QU(n,e){var t=null;if(n.g==e){Ww(n),rA(n),n.g=null;var i=2}else{if(!XD(n.i,e))return;t=e.F,NU(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Gi(i=Nw(),new pU(i,t)),Gw(n)}else ZU(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Tre(n,e){return!(PU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Rg(or(n.Na,n,e),YU(n,n.C)),n.C++,0)))}(n,e)||2==i&&iA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Sd(n,5);break;case 4:Sd(n,10);break;case 3:Sd(n,6);break;default:Sd(n,2)}}function YU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Sd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=or(n.pb,n);t||(t=new Ad("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||Bw(t,"https"),jw(t)),function bre(n,e){const t=new Pw;if(Je.Image){const i=new Image;i.onload=Dw(zw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Dw(zw,t,i,"TestLoadImage: error",!1,e),i.onabort=Dw(zw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Dw(zw,t,i,"TestLoadImage: timeout",!1,e),Je.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else kr(2);n.H=0,n.h&&n.h.za(e),XU(n),qU(n)}function XU(n){if(n.H=0,n.ma=[],n.h){const e=OU(n.i);(0!=e.length||0!=n.j.length)&&(WB(n.ma,e),WB(n.ma,n.j),n.i.i.length=0,xD(n.j),n.j.length=0),n.h.ya()}}function JU(n,e,t){var i=t instanceof Ad?Ra(t):new Ad(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Uw(i,i.m);else{var r=Je.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Ad(null);i&&Bw(o,i),e&&(o.g=e),r&&Uw(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&wn(i,t,e),wn(i,"VER",n.ra),Hg(n,i),i}function ej(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qn(t&&n.Ha&&!n.va?new Ug({ob:!0}):n.va)).Oa(n.J),e}function tj(){}function Zw(){if(Jh&&!(10<=Number(Bie)))throw Error("Environmental error: no available transport.")}function so(n,e){Ri.call(this),this.g=new HU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Cg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nf(this)}function nj(n){GD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ij(){WD.call(this),this.status=1}function nf(n){this.g=n}function ps(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oA(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Qt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ge=qn.prototype).Oa=function(n){this.M=n},ge.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZD.g(),this.C=function _U(n){return n.h||(n.h=n.i())}(this.u?this.u:ZD),this.g.onreadystatechange=or(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void VU(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Je.FormData&&n instanceof Je.FormData,!(0<=GB(Ire,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jU(this),0<this.B&&((this.L=function xre(n){return Jh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.ua,this)):this.A=HD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){VU(this,o)}},ge.ua=function(){typeof ED<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},ge.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),Hw(this))},ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hw(this,!0)),qn.$.N.call(this)},ge.La=function(){this.s||(this.G||this.v||this.l?UU(this):this.kb())},ge.kb=function(){UU(this)},ge.isActive=function(){return!!this.g},ge.da=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}},ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ge.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),wre(e)}},ge.Ia=function(){return this.m},ge.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ge=HU.prototype).ra=8,ge.H=1,ge.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Ng(this,this.l,n);let o=this.s;if(this.U&&(o?(o=XB(o),eU(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=WU(this,r,e),wn(t=Ra(this.I),"RID",n),wn(t,"CVER",22),this.F&&wn(t,"X-HTTP-Session-Id",this.F),Hg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String($U(o)))+"&"+e:this.o&&tA(t,this.o,o)),JD(this.i,r),this.bb&&wn(t,"TYPE","init"),this.P?(wn(t,"$req",e),wn(t,"SID","null"),r.aa=!0,QD(r,t,null)):QD(r,t,e),this.H=2}}else 3==this.H&&(n?GU(this,n):0==this.j.length||RU(this.i)||GU(this))},ge.Ma=function(){if(this.u=null,KU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Rg(or(this.jb,this),n)}},ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kr(10),qw(this),KU(this))},ge.ib=function(){null!=this.v&&(this.v=null,qw(this),iA(this),kr(19))},ge.pb=function(n){n?(this.l.info("Successfully pinged google.com"),kr(2)):(this.l.info("Failed to ping google.com"),kr(1))},ge.isActive=function(){return!!this.h&&this.h.isActive(this)},(ge=tj.prototype).Ba=function(){},ge.Aa=function(){},ge.za=function(){},ge.ya=function(){},ge.isActive=function(){return!0},ge.Va=function(){},Zw.prototype.g=function(n,e){return new so(n,e)},Mi(so,Ri),so.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;kr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=JU(n,null,n.Y),Gw(n)},so.prototype.close=function(){nA(this.g)},so.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=jD(n),n=t);e.j.push(new pre(e.fb++,n)),3==e.H&&Gw(e)},so.prototype.N=function(){this.g.h=null,delete this.j,nA(this.g),delete this.g,so.$.N.call(this)},Mi(nj,GD),Mi(ij,WD),Mi(nf,tj),nf.prototype.Ba=function(){Gi(this.g,"a")},nf.prototype.Aa=function(n){Gi(this.g,new nj(n))},nf.prototype.za=function(n){Gi(this.g,new ij)},nf.prototype.ya=function(){Gi(this.g,"b")},Mi(ps,function Dre(){this.blockSize=-1}),ps.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ps.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)oA(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){oA(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){oA(this,i),r=0;break}}this.h=r,this.i+=e},ps.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Are={};function sA(n){return-128<=n&&128>n?function Fie(n,e){var t=Are;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Qt([0|e],0>e?-1:0)}):new Qt([0|n],0>n?-1:0)}function Gs(n){if(isNaN(n)||!isFinite(n))return rf;if(0>n)return Wi(Gs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=aA;return new Qt(e,0)}var aA=4294967296,rf=sA(0),cA=sA(1),oj=sA(16777216);function Pa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function No(n){return-1==n.h}function Wi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Qt(t,~n.h).add(cA)}function Kw(n,e){return n.add(Wi(e))}function Qw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function qg(n,e){this.g=n,this.h=e}function Yw(n,e){if(Pa(e))throw Error("division by zero");if(Pa(n))return new qg(rf,rf);if(No(n))return e=Yw(Wi(n),e),new qg(Wi(e.g),Wi(e.h));if(No(e))return e=Yw(n,Wi(e)),new qg(Wi(e.g),e.h);if(30<n.g.length){if(No(n)||No(e))throw Error("slowDivide_ only works with positive integers.");for(var t=cA,i=e;0>=i.X(n);)t=sj(t),i=sj(i);var r=sf(t,1),o=sf(i,1);for(i=sf(i,2),t=sf(t,2);!Pa(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=sf(i,1),t=sf(t,1)}return e=Kw(n,r.R(e)),new qg(r,e)}for(r=rf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Gs(t)).R(e);No(s)||0<s.X(n);)s=(o=Gs(t-=i)).R(e);Pa(o)&&(o=cA),r=r.add(o),n=Kw(n,s)}return new qg(r,n)}function sj(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Qt(t,n.h)}function sf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Qt(r,n.h)}(ge=Qt.prototype).ea=function(){if(No(this))return-Wi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:aA+i)*e,e*=aA}return n},ge.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pa(this))return"0";if(No(this))return"-"+Wi(this).toString(n);for(var e=Gs(Math.pow(n,6)),t=this,i="";;){var r=Yw(t,e).g,o=((0<(t=Kw(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pa(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ge.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ge.X=function(n){return No(n=Kw(this,n))?-1:Pa(n)?0:1},ge.abs=function(){return No(this)?Wi(this):this},ge.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Qt(t,-2147483648&t[t.length-1]?-1:0)},ge.R=function(n){if(Pa(this)||Pa(n))return rf;if(No(this))return No(n)?Wi(this).R(Wi(n)):Wi(Wi(this).R(n));if(No(n))return Wi(this.R(Wi(n)));if(0>this.X(oj)&&0>n.X(oj))return Gs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Qw(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Qw(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Qw(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Qw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Qt(t,0)},ge.gb=function(n){return Yw(this,n).h},ge.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Qt(t,this.h&n.h)},ge.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Qt(t,this.h|n.h)},ge.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Qt(t,this.h^n.h)},Zw.prototype.createWebChannel=Zw.prototype.g,so.prototype.send=so.prototype.u,so.prototype.open=so.prototype.m,so.prototype.close=so.prototype.close,Ow.NO_ERROR=0,Ow.TIMEOUT=8,Ow.HTTP_ERROR=6,gU.COMPLETE="complete",vU.EventType=Pg,Pg.OPEN="a",Pg.CLOSE="b",Pg.ERROR="c",Pg.MESSAGE="d",Ri.prototype.listen=Ri.prototype.O,qn.prototype.listenOnce=qn.prototype.P,qn.prototype.getLastError=qn.prototype.Sa,qn.prototype.getLastErrorCode=qn.prototype.Ia,qn.prototype.getStatus=qn.prototype.da,qn.prototype.getResponseJson=qn.prototype.Wa,qn.prototype.getResponseText=qn.prototype.ja,qn.prototype.send=qn.prototype.ha,qn.prototype.setWithCredentials=qn.prototype.Oa,ps.prototype.digest=ps.prototype.l,ps.prototype.reset=ps.prototype.reset,ps.prototype.update=ps.prototype.j,Qt.prototype.add=Qt.prototype.add,Qt.prototype.multiply=Qt.prototype.R,Qt.prototype.modulo=Qt.prototype.gb,Qt.prototype.compare=Qt.prototype.X,Qt.prototype.toNumber=Qt.prototype.ea,Qt.prototype.toString=Qt.prototype.toString,Qt.prototype.getBits=Qt.prototype.D,Qt.fromNumber=Gs,Qt.fromString=function rj(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Wi(rj(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Gs(Math.pow(e,8)),i=rf,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Gs(Math.pow(e,o)),i=i.R(o).add(Gs(s))):i=(i=i.R(t)).add(Gs(s))}return i};var Sre=ms.createWebChannelTransport=function(){return new Zw},kre=ms.getStatEventTarget=function(){return Nw()},lA=ms.ErrorCode=Ow,Mre=ms.EventType=gU,Rre=ms.Event=Td,aj=ms.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pre=ms.FetchXmlHttpFactory=Ug,Xw=ms.WebChannel=vU,Nre=ms.XhrIo=qn,Ore=ms.Md5=ps,af=ms.Integer=Qt;const cj="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let cf="10.5.2";const Hc=new $s.Yd("@firebase/firestore");function lf(){return Hc.logLevel}function oe(n,...e){if(Hc.logLevel<=$s.in.DEBUG){const t=e.map(dA);Hc.debug(`Firestore (${cf}): ${n}`,...t)}}function ii(n,...e){if(Hc.logLevel<=$s.in.ERROR){const t=e.map(dA);Hc.error(`Firestore (${cf}): ${n}`,...t)}}function Hr(n,...e){if(Hc.logLevel<=$s.in.WARN){const t=e.map(dA);Hc.warn(`Firestore (${cf}): ${n}`,...t)}}function dA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function we(n="Unexpected state"){const e=`FIRESTORE (${cf}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function Me(n,e){n||we()}function fe(n,e){return n}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class Bre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ure{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,K.Z)(function*(){yield d.promise,yield o(i.currentUser)}))},c=d=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me("string"==typeof i.accessToken),new lj(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Pi(e)}}class jre{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zre{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new jre(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $re{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me("string"==typeof t.token),this.R=t.token,new dj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hre(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class uj{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Hre(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function df(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function hj(n){return n+"\0"}class Rn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Rn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Rn(0,0))}static max(){return new Re(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gg{constructor(e,t,i){void 0===t?t=0:t>e.length&&we(),void 0===i?i=e.length-t:i>e.length-t&&we(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Gg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tt extends Gg{construct(e,t,i){return new Tt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const qre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Gg{construct(e,t,i){return new En(e,t,i)}static isValidIdentifier(e){return qre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ie(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ie(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ie(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ie(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Tt.fromString(e))}static fromName(e){return new pe(Tt.fromString(e).popFirst(5))}static empty(){return new pe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Tt(e.slice()))}}class uf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function uA(n){return n.fields.find(e=>2===e.kind)}function kd(n){return n.fields.filter(e=>2!==e.kind)}uf.UNKNOWN_ID=-1;class Md{constructor(e,t){this.fieldPath=e,this.kind=t}}class hf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hf(0,ao.min())}}function fj(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(1e9===i?new Rn(t+1,0):new Rn(t,i));return new ao(r,pe.empty(),e)}function mj(n){return new ao(n.readTime,n.key,-1)}class ao{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ao(Re.min(),pe.empty(),-1)}static max(){return new ao(Re.max(),pe.empty(),-1)}}function hA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Qe(n.largestBatchId,e.largestBatchId))}const pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qc(n){return fA.apply(this,arguments)}function fA(){return fA=(0,K.Z)(function*(n){if(n.code!==L.FAILED_PRECONDITION||n.message!==pj)throw n;oe("LocalStore","Unexpectedly lost primary lease")}),fA.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new P((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof P?t:P.resolve(t)}catch(t){return P.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):P.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):P.reject(t)}static resolve(e){return new P((t,i)=>{t(e)})}static reject(e){return new P((t,i)=>{i(e)})}static waitFor(e){return new P((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=P.resolve(!1);for(const i of e)t=t.next(r=>r?P.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new P((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new P((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Jw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wg(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=mA(i.target.error);this.V.reject(new Wg(e,r))}}static open(e,t,i,r){try{return new Jw(t,e.transaction(r,i))}catch(o){throw new Wg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Kre(t)}}class gs{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===gs.S((0,dn.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),Rd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,dn.hl)())return!1;if(gs.C())return!0;const e=(0,dn.z$)(),t=gs.S(e),i=0<t&&t<10,r=gs.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,K.Z)(function*(){return t.db||(oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Wg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ie(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ie(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Wg(e,a))},o.onupgradeneeded=s=>{oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,K.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=Jw.open(o.db,e,s?"readonly":"readwrite",i),d=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),P.reject(h))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,h="FirebaseError"!==d.name&&a<3;if(oe("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),o.close(),!h)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zre{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Rd(this.k.delete())}}class Wg extends ie{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gc(n){return"IndexedDbTransactionError"===n.name}class Kre{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(oe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Rd(i)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),Rd(this.store.add(e))}get(e){return Rd(this.store.get(e)).next(t=>(void 0===t&&(t=null),oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),Rd(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),Rd(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new P((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new P((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new P((i,r)=>{t.onerror=o=>{const s=mA(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new P((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new Zre(a),d=t(a.primaryKey,a.value,c);if(d instanceof P){const h=d.catch(p=>(c.done(),P.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>P.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rd(n){return new P((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=mA(i.target.error);t(r)}})}let _j=!1;function mA(n){const e=gs.S((0,dn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _j||(_j=!0,setTimeout(()=>{throw i},0)),i}}return n}class Qre{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,K.Z)(function*(){t.task=null;try{oe("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){Gc(i)?oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qc(i)}yield t.ee(6e4)}))}}class Yre{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,K.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return P.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return oe("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(oe("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=mj(o);hA(s,i)>0&&(i=s)}),new ao(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let co=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Zg(n){return null==n}function Kg(n){return 0===n&&1/n==-1/0}function vj(n){return"number"==typeof n&&Number.isInteger(n)&&!Kg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ar(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yj(e)),e=Xre(n.get(t),e);return yj(e)}function Xre(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function yj(n){return n+"\x01\x01"}function Ws(n){const e=n.length;if(Me(e>=2),2===e)return Me("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&we(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:we()}o=s+2}return new Tt(i)}const bj=["userId","batchId"];function e0(n,e){return[n,ar(e)]}function wj(n,e,t){return[n,ar(e),t]}const Jre={},eoe=["prefixPath","collectionGroup","readTime","documentId"],toe=["prefixPath","collectionGroup","documentId"],noe=["collectionGroup","readTime","prefixPath","documentId"],ioe=["canonicalId","targetId"],roe=["targetId","path"],ooe=["path","targetId"],soe=["collectionId","parent"],aoe=["indexId","uid"],coe=["uid","sequenceNumber"],loe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],doe=["indexId","uid","orderedDocumentKey"],uoe=["userId","collectionPath","documentId"],hoe=["userId","collectionPath","largestBatchId"],foe=["userId","collectionGroup","largestBatchId"],Ej=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],moe=[...Ej,"documentOverlays"],Ij=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xj=Ij,poe=[...xj,"indexConfiguration","indexState","indexEntries"];class pA extends gj{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=fe(n);return gs.M(t.ae,e)}function Cj(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pn{constructor(e,t){this.comparator=e,this.root=t||Zi.EMPTY}insert(e,t){return new pn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t0(this.root,e,this.comparator,!1)}getReverseIterator(){return new t0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t0(this.root,e,this.comparator,!0)}}class t0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Zi.RED,this.left=r??Zi.EMPTY,this.right=o??Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Zi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1,Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dj(this.data.getIterator())}getIteratorFrom(e){return new Dj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rn(this.comparator);return t.data=e,t}}class Dj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ff(n){return n.hasNext()?n.getNext():void 0}class qr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new qr([])}unionWith(e){let t=new rn(En.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return df(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Aj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Aj("Invalid base64 string: "+o):o}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const _oe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(n){if(Me(!!n),"string"==typeof n){let e=0;const t=_oe.exec(n);if(Me(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Na(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function n0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function r0(n){const e=n.mapValue.fields.__previous_value__;return n0(e)?r0(e):e}function Qg(n){const e=Zc(n.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}class voe{constructor(e,t,i,r,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},o0={nullValue:"NULL_VALUE"};function Yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?n0(n)?4:Rj(n)?9007199254740991:10:we()}function Zs(n,e){if(n===e)return!0;const t=Yc(n);if(t!==Yc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qg(n).isEqual(Qg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Zc(r.timestampValue),a=Zc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Na(n.bytesValue).isEqual(Na(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Gn(r.geoPointValue.latitude)===Gn(o.geoPointValue.latitude)&&Gn(r.geoPointValue.longitude)===Gn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Gn(r.integerValue)===Gn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Gn(r.doubleValue),a=Gn(o.doubleValue);return s===a?Kg(s)===Kg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return df(n.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(Cj(s)!==Cj(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Zs(s[c],a[c])))return!1;return!0}(n,e);default:return we()}var o}function Yg(n,e){return void 0!==(n.values||[]).find(t=>Zs(t,e))}function Xc(n,e){if(n===e)return 0;const t=Yc(n),i=Yc(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Gn(o.integerValue||o.doubleValue),c=Gn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Sj(n.timestampValue,e.timestampValue);case 4:return Sj(Qg(n),Qg(e));case 5:return Qe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Na(o),c=Na(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Qe(a[d],c[d]);if(0!==h)return h}return Qe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Qe(Gn(o.latitude),Gn(s.latitude));return 0!==a?a:Qe(Gn(o.longitude),Gn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=Xc(a[d],c[d]);if(h)return h}return Qe(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qc.mapValue&&s===Qc.mapValue)return 0;if(o===Qc.mapValue)return 1;if(s===Qc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Qe(c[p],h[p]);if(0!==g)return g;const v=Xc(a[c[p]],d[h[p]]);if(0!==v)return v}return Qe(c.length,h.length)}(n.mapValue,e.mapValue);default:throw we()}}function Sj(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qe(n,e);const t=Zc(n),i=Zc(e),r=Qe(t.seconds,i.seconds);return 0!==r?r:Qe(t.nanos,i.nanos)}function mf(n){return gA(n)}function gA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Zc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Na(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=gA(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${gA(t.fields[s])}`;return r+"}"}(n.mapValue):we()}function Pd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _A(n){return!!n&&"integerValue"in n}function Xg(n){return!!n&&"arrayValue"in n}function kj(n){return!!n&&"nullValue"in n}function Mj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function a0(n){return!!n&&"mapValue"in n}function Jg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Rj(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yoe(n){return"nullValue"in n?o0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pd(Kc.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:we()}function boe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pd(Kc.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qc:we()}function Pj(n,e){const t=Xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Nj(n,e){const t=Xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!a0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jg(t)}setAll(e){let t=En.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Jg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());a0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];a0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Wc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Ki(Jg(this.value))}}function Oj(n){const e=[];return Wc(n.fields,(t,i)=>{const r=new En([t]);if(a0(i)){const o=Oj(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new qr(e)}class In{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new In(e,0,Re.min(),Re.min(),Re.min(),Ki.empty(),0)}static newFoundDocument(e,t,i,r){return new In(e,1,t,Re.min(),i,r,0)}static newNoDocument(e,t){return new In(e,2,t,Re.min(),Re.min(),Ki.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,Re.min(),Re.min(),Ki.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function Fj(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?pe.comparator(pe.fromName(s.referenceValue),t.key):Xc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Lj(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zs(n.position[t],e.position[t]))return!1;return!0}class e_{constructor(e,t="asc"){this.field=e,this.dir=t}}function woe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Vj{}class wt extends Vj{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Eoe(e,t,i):"array-contains"===t?new Coe(e,i):"in"===t?new Hj(e,i):"not-in"===t?new Toe(e,i):"array-contains-any"===t?new Doe(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Ioe(e,i):new xoe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xc(t,this.value)):null!==t&&Yc(this.value)===Yc(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends Vj{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Yt(e,t)}matches(e){return pf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pf(n){return"and"===n.op}function vA(n){return"or"===n.op}function yA(n){return Bj(n)&&pf(n)}function Bj(n){for(const e of n.filters)if(e instanceof Yt)return!1;return!0}function bA(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+mf(n.value);if(yA(n))return n.filters.map(e=>bA(e)).join(",");{const e=n.filters.map(t=>bA(t)).join(",");return`${n.op}(${e})`}}function Uj(n,e){return n instanceof wt?(i=n,(r=e)instanceof wt&&i.op===r.op&&i.field.isEqual(r.field)&&Zs(i.value,r.value)):n instanceof Yt?function(i,r){return r instanceof Yt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&Uj(s,r.filters[a]),!0)}(n,e):void we();var i,r}function jj(n,e){const t=n.filters.concat(e);return Yt.create(t,n.op)}function zj(n){return n instanceof wt?`${(t=n).field.canonicalString()} ${t.op} ${mf(t.value)}`:n instanceof Yt?function(t){return t.op.toString()+" {"+t.getFilters().map(zj).join(" ,")+"}"}(n):"Filter";var t}class Eoe extends wt{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ioe extends wt{constructor(e,t){super(e,"in",t),this.keys=$j(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xoe extends wt{constructor(e,t){super(e,"not-in",t),this.keys=$j(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $j(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}class Coe extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xg(t)&&Yg(t.arrayValue,this.value)}}class Hj extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yg(this.value.arrayValue,t)}}class Toe extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yg(this.value.arrayValue,t)}}class Doe extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Yg(this.value.arrayValue,i))}}class Aoe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function wA(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Aoe(n,e,t,i,r,o,s)}function Nd(n){const e=fe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>bA(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Zg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>mf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>mf(i)).join(",")),e.ce=t}return e.ce}function t_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!woe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Uj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Lj(n.startAt,e.startAt)&&Lj(n.endAt,e.endAt)}function c0(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function l0(n,e){return n.filters.filter(t=>t instanceof wt&&t.field.isEqual(e))}function qj(n,e,t){let i=o0,r=!0;for(const o of l0(n,e)){let s=o0,a=!0;switch(o.op){case"<":case"<=":s=yoe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=o0}Pj({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];Pj({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function Gj(n,e,t){let i=Qc,r=!0;for(const o of l0(n,e)){let s=Qc,a=!0;switch(o.op){case">=":case">":s=boe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Qc}Nj({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];Nj({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Oa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function Wj(n,e,t,i,r,o,s,a){return new Oa(n,e,t,i,r,o,s,a)}function gf(n){return new Oa(n)}function Zj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function EA(n){return null!==n.collectionGroup}function _f(n){const e=fe(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rn(En.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new e_(o,i))}),t.has(En.keyField().canonicalString())||e.le.push(new e_(En.keyField(),i))}return e.le}function Mr(n){const e=fe(n);return e.he||(e.he=function Kj(n,e){if("F"===n.limitType)return wA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new e_(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return wA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,_f(n))),e.he}function IA(n,e){const t=n.filters.concat([e]);return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function d0(n,e,t){return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n_(n,e){return t_(Mr(n),Mr(e))&&n.limitType===e.limitType}function Qj(n){return`${Nd(Mr(n))}|lt:${n.limitType}`}function vf(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>zj(r)).join(", ")}]`),Zg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>mf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>mf(r)).join(",")),`Target(${i})`}(Mr(n))}; limitType=${n.limitType})`}function i_(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of _f(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const d=Fj(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,_f(i),r)||i.endAt&&!function(s,a,c){const d=Fj(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,_f(i),r)));var i,r}function Yj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Xj(n){return(e,t)=>{let i=!1;for(const r of _f(n)){const o=Soe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Soe(n,e,t){const i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?Xc(c,d):we()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we()}}class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return Tj(this.inner)}size(){return this.innerSize}}const koe=new pn(pe.comparator);function Gr(){return koe}const Jj=new pn(pe.comparator);function r_(...n){let e=Jj;for(const t of n)e=e.insert(t.key,t);return e}function e4(n){let e=Jj;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ks(){return o_()}function t4(){return o_()}function o_(){return new Fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Moe=new pn(pe.comparator),Roe=new rn(pe.comparator);function nt(...n){let e=Roe;for(const t of n)e=e.add(t);return e}const Poe=new rn(Qe);function xA(){return Poe}function n4(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kg(e)?"-0":e}}function i4(n){return{integerValue:""+n}}function r4(n,e){return vj(e)?i4(e):n4(n,e)}class u0{constructor(){this._=void 0}}function Noe(n,e,t){return n instanceof yf?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&n0(o)&&(o=r0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Od?s4(n,e):n instanceof Fd?a4(n,e):function(r,o){const s=o4(r,o),a=c4(s)+c4(r.Ie);return _A(s)&&_A(r.Ie)?i4(a):n4(r.serializer,a)}(n,e)}function Ooe(n,e,t){return n instanceof Od?s4(n,e):n instanceof Fd?a4(n,e):t}function o4(n,e){return n instanceof bf?_A(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class yf extends u0{}class Od extends u0{constructor(e){super(),this.elements=e}}function s4(n,e){const t=l4(e);for(const i of n.elements)t.some(r=>Zs(r,i))||t.push(i);return{arrayValue:{values:t}}}class Fd extends u0{constructor(e){super(),this.elements=e}}function a4(n,e){let t=l4(e);for(const i of n.elements)t=t.filter(r=>!Zs(r,i));return{arrayValue:{values:t}}}class bf extends u0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function c4(n){return Gn(n.integerValue||n.doubleValue)}function l4(n){return Xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class s_{constructor(e,t){this.field=e,this.transform=t}}class Loe{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function h0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class f0{}function d4(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ef(n.key,Pn.none()):new wf(n.key,n.data,Pn.none());{const t=n.data,i=Ki.empty();let r=new rn(En.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new La(n.key,i,new qr(r.toArray()),Pn.none())}}function Voe(n,e,t){n instanceof wf?function(r,o,s){const a=r.value.clone(),c=f4(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof La?function(r,o,s){if(!h0(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=f4(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(h4(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function a_(n,e,t,i){return n instanceof wf?function(o,s,a,c){if(!h0(o.precondition,s))return a;const d=o.value.clone(),h=m4(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof La?function(o,s,a,c){if(!h0(o.precondition,s))return a;const d=m4(o.fieldTransforms,c,s),h=s.data;return h.setAll(h4(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,h0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Boe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=o4(i.transform,r||null);null!=o&&(null===t&&(t=Ki.empty()),t.set(i.field,o))}return t||null}function u4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&df(i,r,(o,s)=>function Foe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Od&&r instanceof Od||i instanceof Fd&&r instanceof Fd?df(i.elements,r.elements,Zs):i instanceof bf&&r instanceof bf?Zs(i.Ie,r.Ie):i instanceof yf&&r instanceof yf);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class wf extends f0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class La extends f0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function h4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function f4(n,e,t){const i=new Map;Me(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Ooe(s,a,t[r]))}return i}function m4(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Noe(o,s,e))}return i}class Ef extends f0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends f0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Voe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=a_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=a_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=t4();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=d4(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&df(this.mutations,e.mutations,(t,i)=>u4(t,i))&&df(this.baseMutations,e.baseMutations,(t,i)=>u4(t,i))}}class DA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Me(e.mutations.length===i.length);let r=Moe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new DA(e,t,i,r)}}class AA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class joe{constructor(e,t){this.count=e,this.unchangedNames=t}}var fi,Dt;function p4(n){switch(n){default:return we();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function g4(n){if(void 0===n)return ii("GRPC error has no .code"),L.UNKNOWN;switch(n){case fi.OK:return L.OK;case fi.CANCELLED:return L.CANCELLED;case fi.UNKNOWN:return L.UNKNOWN;case fi.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case fi.INTERNAL:return L.INTERNAL;case fi.UNAVAILABLE:return L.UNAVAILABLE;case fi.UNAUTHENTICATED:return L.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case fi.NOT_FOUND:return L.NOT_FOUND;case fi.ALREADY_EXISTS:return L.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return L.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case fi.ABORTED:return L.ABORTED;case fi.OUT_OF_RANGE:return L.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return L.UNIMPLEMENTED;case fi.DATA_LOSS:return L.DATA_LOSS;default:return we()}}(Dt=fi||(fi={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";function _4(){return new TextEncoder}const zoe=new af([4294967295,4294967295],0);function v4(n){const e=_4().encode(n),t=new Ore;return t.update(e),new Uint8Array(t.digest())}function y4(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new af([t,i],0),new af([r,o],0)]}class SA{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new c_(`Invalid padding: ${t}`);if(i<0)throw new c_(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new c_(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new c_(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=af.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(af.fromNumber(i)));return 1===r.compare(zoe)&&(r=new af([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=v4(e),[i,r]=y4(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new SA(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=v4(e),[i,r]=y4(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class c_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class l_{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,d_.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new l_(Re.min(),r,new pn(Qe),Gr(),nt())}}class d_{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new d_(i,t,nt(),nt(),nt())}}class p0{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class b4{constructor(e,t){this.targetId=e,this.fe=t}}class w4{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class E4{constructor(){this.ge=0,this.pe=x4(),this.ye=Ei.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=nt(),t=nt(),i=nt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:we()}}),new d_(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=x4()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class $oe{constructor(e){this.Le=e,this.ke=new Map,this.qe=Gr(),this.Qe=I4(),this.Ke=new pn(Qe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(c0(o))if(0===i){const s=new pe(o.path);this.We(t,s,In.newNoDocument(s,Re.min()))}else Me(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Na(i).toUint8Array()}catch(c){if(c instanceof Aj)return Hr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new SA(s,r,o)}catch(c){return Hr(c instanceof c_?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&c0(a.target)){const c=new pe(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,In.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=nt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Ye(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new l_(e,t,this.Ke,this.qe,i);return this.qe=Gr(),this.Qe=I4(),this.Ke=new pn(Qe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new E4,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new rn(Qe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new E4),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function I4(){return new pn(pe.comparator)}function x4(){return new pn(pe.comparator)}const Hoe={asc:"ASCENDING",desc:"DESCENDING"},qoe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Goe={and:"AND",or:"OR"};class Woe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kA(n,e){return n.useProto3Json||Zg(e)?e:{value:e}}function If(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Zoe(n,e){return If(n,e.toTimestamp())}function ri(n){return Me(!!n),Re.fromTimestamp(function(t){const i=Zc(t);return new Rn(i.seconds,i.nanos)}(n))}function MA(n,e){return(i=n,new Tt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function T4(n){const e=Tt.fromString(n);return Me(O4(e)),e}function u_(n,e){return MA(n.databaseId,e.path)}function Qs(n,e){const t=T4(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(A4(t))}function RA(n,e){return MA(n.databaseId,e)}function D4(n){const e=T4(n);return 4===e.length?Tt.emptyPath():A4(e)}function h_(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A4(n){return Me(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function S4(n,e,t){return{name:u_(n,e),fields:t.value.mapValue.fields}}function k4(n,e,t){const i=Qs(n,e.name),r=ri(e.updateTime),o=e.createTime?ri(e.createTime):Re.min(),s=new Ki({mapValue:{fields:e.fields}}),a=In.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function f_(n,e){let t;if(e instanceof wf)t={update:S4(n,e.key,e.value)};else if(e instanceof Ef)t={delete:u_(n,e.key)};else if(e instanceof La)t={update:S4(n,e.key,e.data),updateMask:nse(e.fieldMask)};else{if(!(e instanceof CA))return we();t={verify:u_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof yf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Od)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw we()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Zoe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:we()),t;var o}function PA(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Pn.updateTime(ri(o.updateTime)):void 0!==o.exists?Pn.exists(o.exists):Pn.none():Pn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Me("REQUEST_TIME"===a.setToServerValue),c=new yf):"appendMissingElements"in a?c=new Od(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Fd(a.removeAllFromArray.values||[]):"increment"in a?c=new bf(s,a.increment):we();const d=En.fromServerFormat(a.fieldPath);return new s_(d,c)}(n,r)):[];var o;if(e.update){const r=Qs(n,e.update.name),o=new Ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new qr((e.updateMask.fieldPaths||[]).map(h=>En.fromServerFormat(h)));return new La(r,o,s,t,i)}return new wf(r,o,t,i)}if(e.delete){const r=Qs(n,e.delete);return new Ef(r,t)}if(e.verify){const r=Qs(n,e.verify);return new CA(r,t)}return we()}function M4(n,e){return{documents:[RA(n,e.path)]}}function NA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=RA(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=RA(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return N4(Yt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:el((p=d).field),direction:Joe(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=kA(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function R4(n){let e=D4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Me(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=P4(p);return g instanceof Yt&&yA(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new e_(xf((b=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Zg(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new Jc((p=t.startAt).values||[],!!p.before));let d=null;return t.endAt&&(d=function(p){return new Jc(p.values||[],!p.before)}(t.endAt)),Wj(e,r,s,o,a,"F",c,d)}function P4(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xf(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=xf(t.unaryFilter.field);return wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xf(t.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xf(t.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):void 0!==n.fieldFilter?wt.create(xf((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Yt.create(t.compositeFilter.filters.map(i=>P4(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we();var t}function Joe(n){return Hoe[n]}function ese(n){return qoe[n]}function tse(n){return Goe[n]}function el(n){return{fieldPath:n.canonicalString()}}function xf(n){return En.fromServerFormat(n.fieldPath)}function N4(n){return n instanceof wt?function(t){if("=="===t.op){if(Mj(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(kj(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Mj(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(kj(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:ese(t.op),value:t.value}}}(n):n instanceof Yt?function(t){const i=t.getFilters().map(r=>N4(r));return 1===i.length?i[0]:{compositeFilter:{op:tse(t.op),filters:i}}}(n):we()}function nse(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function O4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Va{constructor(e,t,i,r,o=Re.min(),s=Re.min(),a=Ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F4{constructor(e){this.ut=e}}function L4(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:g0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:u_(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:If(o,s.version.toTimestamp()),createTime:If(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ld(e.version)};else{if(!e.isUnknownDocument())return we();i.unknownDocument={path:t.path.toArray(),version:Ld(e.version)}}var o,s;return i}function g0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ld(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vd(n){const e=new Rn(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function Bd(n,e){const t=(e.baseMutations||[]).map(o=>PA(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>PA(n.ut,o)),r=Rn.fromMillis(e.localWriteTimeMs);return new TA(e.batchId,r,t,i)}function m_(n){const e=Vd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Vd(n.lastLimboFreeSnapshotVersion):Re.min();let i;return i=void 0!==n.query.documents?(Me(1===(o=n.query).documents.length),Mr(gf(D4(o.documents[0])))):function(o){return Mr(R4(o))}(n.query),new Va(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken));var o}function V4(n,e){const t=Ld(e.snapshotVersion),i=Ld(e.lastLimboFreeSnapshotVersion);let r;r=c0(e.target)?M4(n.ut,e.target):NA(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nd(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function OA(n){const e=R4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?d0(e,e.limit,"L"):e}function FA(n,e){return new AA(e.largestBatchId,PA(n.ut,e.overlayMutation))}function B4(n,e){const t=e.path.lastSegment();return[n,ar(e.path.popLast()),t]}function U4(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ld(i.readTime),documentKey:ar(i.documentKey.path),largestBatchId:i.largestBatchId}}class rse{getBundleMetadata(e,t){return j4(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Vd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return j4(e).put({bundleId:(r=t).id,createTime:Ld(ri(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return z4(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:OA(o.bundledQuery),readTime:Vd(o.readTime)};var o})}saveNamedQuery(e,t){return z4(e).put({name:(r=t).name,readTime:Ld(ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function j4(n){return Ni(n,"bundles")}function z4(n){return Ni(n,"namedQueries")}class _0{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new _0(e,t.uid||"")}getOverlay(e,t){return p_(e).get(B4(this.userId,t)).next(i=>i?FA(this.serializer,i):null)}getOverlays(e,t){const i=Ks();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new AA(t,s);r.push(this.lt(e,a))}),P.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(ar(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(p_(e).H("collectionPathOverlayIndex",a))}),P.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ks(),o=ar(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return p_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=FA(this.serializer,c);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ks();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return p_(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,d,h)=>{const p=FA(this.serializer,d);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return p_(e).put(function(r,o,s){const[a,c,d]=B4(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:f_(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function p_(n){return Ni(n,"documentOverlays")}class Ud{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Gn(e.integerValue));else if("doubleValue"in e){const i=Gn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Kg(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Na(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?Rj(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):we()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function ose(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function $4(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=ose(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Ud.St=new Ud;class sse{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=$4(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=$4(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class ase{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class cse{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class g_{constructor(){this.Wt=new sse,this.Gt=new ase(this.Wt),this.zt=new cse(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class jd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new jd(this.indexId,this.documentKey,this.arrayValue,i)}}function tl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=H4(n.arrayValue,e.arrayValue),0!==t?t:(t=H4(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function H4(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class q4{constructor(e){this.Jt=new rn((t,i)=>En.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Me(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=uA(e);if(void 0!==t&&!this.tn(t))return!1;const i=kd(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new rn(En.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Md(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Md(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Md(i.field,"asc"===i.dir?0:1)));return new uf(uf.UNKNOWN_ID,this.collectionId,t,hf.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function G4(n){var e,t;if(Me(n instanceof wt||n instanceof Yt),n instanceof wt){if(n instanceof Hj){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>wt.create(n.field,"==",o)))||[];return Yt.create(r,"or")}return n}const i=n.filters.map(r=>G4(r));return Yt.create(i,n.op)}function lse(n){if(0===n.getFilters().length)return[];const e=BA(G4(n));return Me(W4(e)),LA(e)||VA(e)?[e]:e.getFilters()}function LA(n){return n instanceof wt}function VA(n){return n instanceof Yt&&yA(n)}function W4(n){return LA(n)||VA(n)||function(t){if(t instanceof Yt&&vA(t)){for(const i of t.getFilters())if(!LA(i)&&!VA(i))return!1;return!0}return!1}(n)}function BA(n){if(Me(n instanceof wt||n instanceof Yt),n instanceof wt)return n;if(1===n.filters.length)return BA(n.filters[0]);const e=n.filters.map(i=>BA(i));let t=Yt.create(e,n.op);return t=v0(t),W4(t)?t:(Me(t instanceof Yt),Me(pf(t)),Me(t.filters.length>1),t.filters.reduce((i,r)=>UA(i,r)))}function UA(n,e){let t;return Me(n instanceof wt||n instanceof Yt),Me(e instanceof wt||e instanceof Yt),t=n instanceof wt?e instanceof wt?Yt.create([n,e],"and"):Z4(n,e):e instanceof wt?Z4(e,n):function(r,o){if(Me(r.filters.length>0&&o.filters.length>0),pf(r)&&pf(o))return jj(r,o.getFilters());const s=vA(r)?r:o,a=vA(r)?o:r,c=s.filters.map(d=>UA(d,a));return Yt.create(c,"or")}(n,e),v0(t)}function Z4(n,e){if(pf(e))return jj(e,n.getFilters());{const t=e.filters.map(i=>UA(n,i));return Yt.create(t,"or")}}function v0(n){if(Me(n instanceof wt||n instanceof Yt),n instanceof wt)return n;const e=n.getFilters();if(1===e.length)return v0(e[0]);if(Bj(n))return n;const t=e.map(r=>v0(r)),i=[];return t.forEach(r=>{r instanceof wt?i.push(r):r instanceof Yt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Yt.create(i,n.op)}class dse{constructor(){this.on=new jA}addToCollectionParentIndex(e,t){return this.on.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ao.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}}class jA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new rn(Tt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rn(Tt.comparator)).toArray()}}const y0=new Uint8Array(0);class use{constructor(e,t){this.user=e,this.databaseId=t,this._n=new jA,this.an=new Fa(i=>Nd(i),(i,r)=>t_(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:ar(r)};return K4(e).put(o)}return P.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[hj(t),""],!1,!0);return K4(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ws(s.parent))}return i})}addFieldIndex(e,t){const i=__(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Tf(e);return o.next(a=>{s.put(U4(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=__(e),r=Tf(e),o=Cf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=__(e),i=Cf(e),r=Tf(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return P.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new q4(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=Cf(e);let r=!0;const o=new Map;return P.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=nt();const a=[];return P.forEach(o,(c,d)=>{var M;oe("IndexedDbIndexManager",`Using index ${M=c,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${Nd(t)}`);const h=function(M,Y){const de=uA(Y);if(void 0===de)return null;for(const Ie of l0(M,de.fieldPath))switch(Ie.op){case"array-contains-any":return Ie.value.arrayValue.values||[];case"array-contains":return[Ie.value]}return null}(d,c),p=function(M,Y){const de=new Map;for(const Ie of kd(Y))for(const We of l0(M,Ie.fieldPath))switch(We.op){case"==":case"in":de.set(Ie.fieldPath.canonicalString(),We.value);break;case"not-in":case"!=":return de.set(Ie.fieldPath.canonicalString(),We.value),Array.from(de.values())}return null}(d,c),g=function(M,Y){const de=[];let Ie=!0;for(const We of kd(Y)){const un=0===We.kind?qj(M,We.fieldPath,M.startAt):Gj(M,We.fieldPath,M.startAt);de.push(un.value),Ie&&(Ie=un.inclusive)}return new Jc(de,Ie)}(d,c),v=function(M,Y){const de=[];let Ie=!0;for(const We of kd(Y)){const un=0===We.kind?Gj(M,We.fieldPath,M.endAt):qj(M,We.fieldPath,M.endAt);de.push(un.value),Ie&&(Ie=un.inclusive)}return new Jc(de,Ie)}(d,c),b=this.ln(c,d,g),w=this.ln(c,d,v),I=this.hn(c,d,p),S=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,I);return P.forEach(S,A=>i.j(A,t.limit).next(M=>{M.forEach(Y=>{const de=pe.fromSegments(Y.documentKey);s.has(de)||(s=s.add(de),a.push(de))})}))}).next(()=>a)}return P.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:lse(Yt.create(e.filters,"and")).map(i=>wA(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),d=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/d]):y0,v=this.Tn(e,g,i[p%d],r),b=this.En(e,g,o[p%d],s),w=a.map(I=>this.Tn(e,g,I,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new jd(e,pe.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new jd(e,pe.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new q4(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return P.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new rn(En.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new g_;for(const r of kd(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Ud.St.ht(o,s)}return i.Ut()}In(e){const t=new g_;return Ud.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new g_;return Ud.St.ht(Pd(this.databaseId,t),i.jt(function(o){const s=kd(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new g_);let o=0;for(const s of kd(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&Xg(a))r=this.Vn(r,s,a);else{const d=c.jt(s.kind);Ud.St.ht(a,d)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new g_;c.seed(a.Ut()),Ud.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof wt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=__(e),r=Tf(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return P.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new hf(p.sequenceNumber,new ao(Vd(p.readTime),new pe(Ws(p.documentKey)),p.largestBatchId)):hf.empty(),v=h.fields.map(([b,w])=>new Md(En.fromServerFormat(b),w));return new uf(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Qe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=__(e),o=Tf(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>P.forEach(a,c=>o.put(U4(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return P.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?P.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),P.forEach(a,c=>this.gn(e,r,c).next(d=>{const h=this.pn(o,c);return d.isEqual(h)?P.resolve():this.yn(e,o,c,d,h)}))))})}wn(e,t,i,r){return Cf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return Cf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=Cf(e);let o=new rn(tl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new jd(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new rn(tl);const r=this.dn(t,e);if(null==r)return i;const o=uA(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Xg(s))for(const a of s.arrayValue.values||[])i=i.add(new jd(t.indexId,e.key,this.In(a),r))}else i=i.add(new jd(t.indexId,e.key,y0,r));return i}yn(e,t,i,r,o){oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,h,p,g){const v=c.getIterator(),b=d.getIterator();let w=ff(v),I=ff(b);for(;w||I;){let S=!1,A=!1;if(w&&I){const M=h(w,I);M<0?A=!0:M>0&&(S=!0)}else null!=w?A=!0:S=!0;S?(p(I),I=ff(b)):A?(g(w),w=ff(v)):(w=ff(v),I=ff(b))}}(r,o,tl,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),P.waitFor(s)}fn(e){let t=1;return Tf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>tl(s,a)).filter((s,a,c)=>!a||0!==tl(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=tl(s,e),c=tl(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,y0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,y0,[]]))}return o}bn(e,t){return tl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Q4)}getMinOffset(e,t){return P.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||we())).next(Q4)}}function K4(n){return Ni(n,"collectionParents")}function Cf(n){return Ni(n,"indexEntries")}function __(n){return Ni(n,"indexConfiguration")}function Tf(n){return Ni(n,"indexState")}function Q4(n){Me(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;hA(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ao(e.readTime,e.documentKey,t)}const Y4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function X4(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{Me(1===a)}));const d=[];for(const h of t.mutations){const p=wj(e,h.key.path,t.batchId);o.push(r.delete(p)),d.push(h.key)}return P.waitFor(o).next(()=>d)}function b0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);class w0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Me(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new w0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Df(e),s=nl(e);return s.add({}).next(a=>{Me("number"==typeof a);const c=new TA(a,t,i,r),d=function(v,b,w){const I=w.baseMutations.map(A=>f_(v.ut,A)),S=w.mutations.map(A=>f_(v.ut,A));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:I,mutations:S}}(this.serializer,this.userId,c),h=[];let p=new rn((g,v)=>Qe(g.canonicalString(),v.canonicalString()));for(const g of r){const v=wj(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(v,Jre))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),P.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return nl(e).get(t).next(i=>i?(Me(i.userId===this.userId),Bd(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?P.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return nl(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Me(a.batchId>=i),o=Bd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return nl(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).W("userMutationsIndex",t).next(i=>i.map(r=>Bd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=e0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Df(e).Y({range:r},(s,a,c)=>{const[d,h,p]=s,g=Ws(h);if(d===this.userId&&t.path.isEqual(g))return nl(e).get(p).next(v=>{if(!v)throw we();Me(v.userId===this.userId),o.push(Bd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rn(Qe);const r=[];return t.forEach(o=>{const s=e0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Df(e).Y({range:a},(d,h,p)=>{const[g,v,b]=d,w=Ws(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),P.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=e0(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new rn(Qe);return Df(e).Y({range:s},(c,d,h)=>{const[p,g,v]=c,b=Ws(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(nl(e).get(o).next(s=>{if(null===s)throw we();Me(s.userId===this.userId),i.push(Bd(this.serializer,s))}))}),P.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return X4(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),P.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return P.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Df(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Ws(o[1]);r.push(c)}else a.done()}).next(()=>{Me(0===r.length)})})}containsKey(e,t){return J4(e,this.userId,t)}Mn(e){return e3(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function J4(n,e,t){const i=e0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Df(n).Y({range:o,J:!0},(a,c,d)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),d.done()}).next(()=>s)}function nl(n){return Ni(n,"mutations")}function Df(n){return Ni(n,"documentMutations")}function e3(n){return Ni(n,"mutationQueues")}class zd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new zd(0)}static Nn(){return new zd(-1)}}class hse{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new zd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Re.fromTimestamp(new Rn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Af(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Me(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Af(e).Y((s,a)=>{const c=m_(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>P.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Af(e).Y((i,r)=>{const o=m_(r);t(o)})}Bn(e){return t3(e).get("targetGlobalKey").next(t=>(Me(null!==t),t))}Ln(e,t){return t3(e).put("targetGlobalKey",t)}kn(e,t){return Af(e).put(V4(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Nd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Af(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const d=m_(a);t_(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=il(e);return t.forEach(s=>{const a=ar(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),P.waitFor(r)}removeMatchingKeys(e,t,i){const r=il(e);return P.forEach(t,o=>{const s=ar(o.path);return P.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=il(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=il(e);let o=nt();return r.Y({range:i,J:!0},(s,a,c)=>{const d=Ws(s[1]),h=new pe(d);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=ar(t.path),r=IDBKeyRange.bound([i],[hj(i)],!1,!0);let o=0;return il(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}_t(e,t){return Af(e).get(t).next(i=>i?m_(i):null)}}function Af(n){return Ni(n,"targets")}function t3(n){return Ni(n,"targetGlobal")}function il(n){return Ni(n,"targetDocuments")}function n3([n,e],[t,i]){const r=Qe(n,t);return 0===r?Qe(e,i):r}class fse{constructor(e){this.Qn=e,this.buffer=new rn(n3),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();n3(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r3{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,K.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Gc(i)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qc(i)}yield t.Gn(3e5)}))}}class mse{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return P.resolve(co._e);const i=new fse(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Y4)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y4):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(d=Date.now(),lf()<=$s.in.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(d-c)+`ms\nTotal Duration: ${d-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class pse{constructor(e,t){this.db=e,this.garbageCollector=function o3(n,e){return new mse(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return E0(e,i)}removeReference(e,t,i){return E0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return E0(e,t)}Xn(e,t){return function(r,o){let s=!1;return e3(r).Z(a=>J4(r,a,o).next(c=>(c&&(s=!0),P.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Re.min()),il(e).delete([0,ar(s.path)])))});r.push(c)}}).next(()=>P.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return E0(e,t)}Zn(e,t){const i=il(e);let r,o=co._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==co._e&&t(new pe(Ws(r)),o),o=d,r=c):o=co._e}).next(()=>{o!==co._e&&t(new pe(Ws(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function E0(n,e){return il(n).put((r=n.currentSequenceNumber,{targetId:0,path:ar(e.path),sequenceNumber:r}));var r}class s3{constructor(){this.changes=new Fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gse{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return $d(e).put(i)}removeEntry(e,t,i){return $d(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],g0(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=In.newInvalidDocument(t);return $d(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(v_(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:In.newInvalidDocument(t)};return $d(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(v_(t))},(r,o)=>{i={document:this.tr(t,o),size:b0(o)}}).next(()=>i)}getEntries(e,t){let i=Gr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Gr(),r=new pn(pe.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,b0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return P.resolve();let r=new rn(d3);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(v_(r.first()),v_(r.last())),s=r.getIterator();let a=s.getNext();return $d(e).Y({index:"documentKeyIndex",range:o},(c,d,h)=>{const p=pe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&d3(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?h.U(v_(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),g0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $d(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=Gr();for(const p of d){const g=this.tr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(i_(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Gr();const s=l3(t,i),a=l3(t,ao.max());return $d(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,h)=>{const p=this.tr(pe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new _se(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return c3(e).get("remoteDocumentGlobalKey").next(t=>(Me(!!t),t))}er(e,t){return c3(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function ise(n,e){let t;if(e.document)t=k4(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=pe.fromSegments(e.noDocument.path),r=Vd(e.noDocument.readTime);t=In.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const i=pe.fromSegments(e.unknownDocument.path),r=Vd(e.unknownDocument.version);t=In.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Rn(r[0],r[1]);return Re.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Re.min()))return i}return In.newInvalidDocument(e)}}function a3(n){return new gse(n)}class _se extends s3{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Fa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new rn((o,s)=>Qe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=L4(this._r.serializer,s);r=r.add(o.path.popLast());const d=b0(c);i+=d-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=L4(this._r.serializer,s.convertToNoDocument(Re.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),P.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function c3(n){return Ni(n,"remoteDocumentGlobal")}function $d(n){return Ni(n,"remoteDocumentsV14")}function v_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function l3(n,e){const t=e.documentKey.path.toArray();return[n,g0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function d3(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Qe(t[o],i[o]),r)return r;return r=Qe(t.length,i.length),r||(r=Qe(t[t.length-2],i[i.length-2]),r||Qe(t[t.length-1],i[i.length-1]))}class vse{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class u3{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&a_(i.mutation,r,qr.empty(),Rn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const r=Ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=r_();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Gr();const s=o_(),a=o_();return t.forEach((c,d)=>{const h=i.get(d.key);r.has(d.key)&&(void 0===h||h.mutation instanceof La)?o=o.insert(d.key,d):void 0!==h?(s.set(d.key,h.mutation.getFieldMask()),a_(h.mutation,d,h.mutation.getFieldMask(),Rn.now())):s.set(d.key,qr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var p;return a.set(d,new vse(h,null!==(p=s.get(d))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=o_();let r=new pn((s,a)=>s-a),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let h=i.get(c)||qr.empty();h=a.applyToLocalView(d,h),i.set(c,h);const p=(r.get(a.batchId)||nt()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=t4();h.forEach(g=>{if(!o.has(g)){const v=d4(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return P.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return pe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):EA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):P.resolve(Ks());let a=-1,c=o;return s.next(d=>P.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,nt())).next(h=>({batchId:a,changes:e4(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let r=r_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=r_();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{const d=(p=t,g=c.child(o),new Oa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{const h=d.getKey();null===s.get(h)&&(s=s.insert(h,In.newInvalidDocument(h)))});let a=r_();return s.forEach((c,d)=>{const h=o.get(c);void 0!==h&&a_(h.mutation,d,qr.empty(),Rn.now()),i_(t,d)&&(a=a.insert(c,d))}),a})}}class yse{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return P.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:ri(r.createTime)}),P.resolve();var r}getNamedQuery(e,t){return P.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:OA(r.bundledQuery),readTime:ri(r.readTime)}),P.resolve();var r}}class bse{constructor(){this.overlays=new pn(pe.comparator),this.lr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ks();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){const r=Ks(),o=t.length+1,s=new pe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new pn((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let h=o.get(d.largestBatchId);null===h&&(h=Ks(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ks(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return P.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new AA(t,i));let o=this.lr.get(t);void 0===o&&(o=nt(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class zA{constructor(){this.hr=new rn(Oi.Pr),this.Ir=new rn(Oi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Oi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Oi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new pe(new Tt([])),i=new Oi(t,e),r=new Oi(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new Tt([])),i=new Oi(t,e),r=new Oi(t,e+1);let o=nt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Oi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Oi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||Qe(e.gr,t.gr)}static Tr(e,t){return Qe(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class wse{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new rn(Oi.Pr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new TA(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Oi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Oi(t,0),r=new Oi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rn(Qe);return t.forEach(r=>{const o=new Oi(r,0),s=new Oi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),P.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;pe.isDocumentKey(o)||(o=o.child(""));const s=new Oi(new pe(o),0);let a=new rn(Qe);return this.yr.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Me(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return P.forEach(t.mutations,r=>{const o=new Oi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Oi(t,0),r=this.yr.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return P.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ese{constructor(e){this.Cr=e,this.docs=new pn(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let i=Gr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():In.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Gr();const s=t.path,a=new pe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||hA(mj(h),i)<=0||(r.has(h.key)||i_(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,i,r){we()}vr(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Ise(this)}getSize(e){return P.resolve(this.size)}}class Ise extends s3{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class xse{constructor(e){this.persistence=e,this.Fr=new Fa(t=>Nd(t),t_),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Mr=0,this.Or=new zA,this.targetCount=0,this.Nr=zd.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),P.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new zd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.kn(t),P.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),P.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.Or.containsKey(t))}}class $A{constructor(e,t){this.Br={},this.overlays={},this.Lr=new co(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new xse(this),this.indexManager=new dse,this.remoteDocumentCache=new Ese(i=>this.referenceDelegate.Qr(i)),this.serializer=new F4(t),this.Kr=new yse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bse,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new wse(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const r=new Cse(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return P.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class Cse extends gj{constructor(e){super(),this.currentSequenceNumber=e}}class I0{constructor(e){this.persistence=e,this.Gr=new zA,this.zr=null}static jr(e){return new I0(e)}get Hr(){if(this.zr)return this.zr;throw we()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,i=>{const r=pe.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Re.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return P.or([()=>P.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Tse{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Jw("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bj,{unique:!0}),c.createObjectStore("documentMutations"),h3(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=P.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),h3(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,d){return d.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bj,{unique:!0});const p=d.store("mutations"),g=h.map(v=>p.put(v));return P.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:uoe});d.createIndex("collectionPathOverlayIndex",hoe,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",foe,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:eoe});d.createIndex("documentKeyIndex",toe),d.createIndex("collectionGroupIndex",noe)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:aoe}).createIndex("sequenceNumberIndex",coe,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:loe}).createIndex("documentKeyIndex",doe,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=b0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>P.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>P.forEach(a,c=>{Me(c.userId===o.userId);const d=Bd(this.serializer,c);return X4(e,o.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new Tt(s),d=[0,ar(c)];o.push(t.get(d).next(h=>h?P.resolve():t.put({targetId:0,path:ar(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>P.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:soe});const i=t.store("collectionParents"),r=new jA,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:ar(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Tt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],d)=>{const h=Ws(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=m_(r),s=V4(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new pe(Tt.fromString(p.document.name).popFirst(5)):p.noDocument?pe.fromSegments(p.noDocument.path):p.unknownDocument?pe.fromSegments(p.unknownDocument.path):we()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(d))}).next(()=>P.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=a3(this.serializer),o=new $A(I0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var d;let h=null!==(d=a.get(c.userId))&&void 0!==d?d:nt();Bd(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),P.forEach(a,(c,d)=>{const h=new Pi(d),p=_0.ct(this.serializer,h),g=o.getIndexManager(h),v=w0.ct(h,this.serializer,g,o.referenceDelegate);return new u3(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new pA(t,co._e),c).next()})})}}function h3(n){n.createObjectStore("targetDocuments",{keyPath:roe}).createIndex("documentTargetsIndex",ooe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ioe,{unique:!0}),n.createObjectStore("targetGlobal")}const HA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qA{constructor(e,t,i,r,o,s,a,c,d,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=d,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!qA.D())throw new ie(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pse(this,r),this.Ii=t+"main",this.serializer=new F4(c),this.Ti=new gs(this.Ii,this.ai,new Tse(this.serializer)),this.qr=new hse(this.referenceDelegate,this.serializer),this.remoteDocumentCache=a3(this.serializer),this.Kr=new rse,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(L.FAILED_PRECONDITION,HA);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new co(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,K.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,K.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,K.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>C0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Gc(e))return oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return y_(e).get("owner").next(t=>P.resolve(this.wi(t)))}Si(e){return C0(e).delete(this.clientId)}bi(){var e=this;return(0,K.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ni(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return P.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?P.resolve(!0):y_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ie(L.FAILED_PRECONDITION,HA);return!1}}return!(!this.networkEnabled||!this.inForeground)||C0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,K.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new pA(t,co._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>C0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return w0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new use(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return _0.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){oe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?poe:14===c?xj:13===c?Ij:12===c?moe:11===c?Ej:void we();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new pA(a,this.Lr?this.Lr.next():co._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ie(L.FAILED_PRECONDITION,pj);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return y_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(L.FAILED_PRECONDITION,HA)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return y_(e).put("owner",t)}static D(){return gs.D()}pi(e){const t=y_(e);return t.get("owner").next(i=>this.wi(i)?(oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):P.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(ii(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,dn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return oe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ii("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function y_(n){return Ni(n,"owner")}function C0(n){return Ni(n,"clientMetadata")}function GA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class WA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=nt(),r=nt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new WA(e,t.fromCache,i,r)}}class Dse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class f3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Dse;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(lf()<=$s.in.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",vf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(lf()<=$s.in.DEBUG&&oe("QueryEngine","Query:",vf(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(lf()<=$s.in.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",vf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):P.resolve())}zi(e,t){if(Zj(t))return P.resolve(null);let i=Mr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=d0(t,null,"F"),i=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=nt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.Yi(t,a);return this.Zi(t,d,s,c.readTime)?this.zi(e,d0(t,null,"F")):this.Xi(e,d,t,c)}))})))}ji(e,t,i,r){return Zj(t)||r.isEqual(Re.min())?P.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?P.resolve(null):(lf()<=$s.in.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vf(t)),this.Xi(e,s,t,fj(r,-1)).next(a=>a))})}Yi(e,t){let i=new rn(Xj(e));return t.forEach((r,o)=>{i_(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return lf()<=$s.in.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",vf(t)),this.Gi.getDocumentsMatchingQuery(e,t,ao.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Ase{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new pn(Qe),this.ns=new Fa(o=>Nd(o),t_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u3(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function m3(n,e,t,i){return new Ase(n,e,t,i)}function p3(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,K.Z)(function*(n,e){const t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=nt();for(const d of r){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(d=>({_s:d,removedBatchIds:s,addedBatchIds:a}))})})}),ZA.apply(this,arguments)}function g3(n){const e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function _3(n,e,t){let i=nt(),r=nt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Gr();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{us:s,cs:r}})}function Mse(n,e){const t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Sf(n,e){const t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Va(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function kf(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,K.Z)(function*(n,e,t){const i=fe(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Gc(s))throw s;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),KA.apply(this,arguments)}function T0(n,e,t){const i=fe(n);let r=Re.min(),o=nt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){const p=fe(c),g=p.ns.get(h);return void 0!==g?P.resolve(p.ts.get(g)):p.qr.getTargetData(d,h)}(i,s,Mr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Re.min(),t?o:nt())).next(a=>(b3(i,Yj(e),a),{documents:a,ls:o})))}function v3(n,e){const t=fe(n),i=fe(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function y3(n,e){const t=fe(n),i=t.rs.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,fj(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(b3(t,e,r),r))}function b3(n,e,t){let i=n.rs.get(e)||Re.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function QA(){return QA=(0,K.Z)(function*(n,e,t,i){const r=fe(n);let o=nt(),s=Gr();for(const d of t){const h=e.hs(d.metadata.name);d.document&&(o=o.add(h));const p=e.Ps(d);p.setReadTime(e.Is(d.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield Sf(r,(h=i,Mr(gf(Tt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>_3(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.qr.removeMatchingKeysForTargetId(d,c.targetId).next(()=>r.qr.addMatchingKeys(d,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.us,h.cs)).next(()=>h.us)))}),QA.apply(this,arguments)}function Pse(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,K.Z)(function*(n,e,t=nt()){const i=yield Sf(n,Mr(OA(e.bundledQuery))),r=fe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ri(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ei.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),YA.apply(this,arguments)}function w3(n,e){return`firestore_clients_${n}_${e}`}function E3(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function XA(n,e){return`firestore_targets_${n}_${e}`}class D0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ie(r.error.code,r.error.message))),s?new D0(e,t,r.state,o):(ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class b_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ie(i.error.code,i.error.message))),o?new b_(e,i.state,r):(ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class A0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=xA();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=vj(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new A0(e,o):(ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class JA{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new JA(t.clientId,t.onlineState):(ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class eS{constructor(){this.activeTargetIds=xA()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tS{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new pn(Qe),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=w3(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new eS),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,K.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(w3(e.persistenceKey,r));if(o){const s=A0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(XA(this.persistenceKey,e));if(i){const r=b_.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(XA(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return oe("SharedClientState","READ",e,t),t}setItem(e,t){oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,K.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=co._e;if(null!=s)try{const c=JSON.parse(s);Me("number"==typeof c),a=c}catch(c){ii("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==co._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new D0(this.currentUser,e,t,i),o=E3(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=E3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=XA(this.persistenceKey,e),o=new b_(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return A0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return D0.Ts(new Pi(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return b_.Ts(r,t)}Ms(e){return JA.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,K.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=xA();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class I3{constructor(){this.eo=new eS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new eS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nse{ro(e){}shutdown(){}}class x3{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let S0=null;function nS(){return null===S0?S0=268435456+Math.round(2147483648*Math.random()):S0++,"0x"+S0.toString(16)}const Ose={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fse{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const lr="WebChannelConnection";class Lse extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=nS(),c=this.So(t,i);oe("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,o,s),this.Do(t,c,d,r).then(h=>(oe("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Hr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+cf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${Ose[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=nS();return new Promise((s,a)=>{const c=new Nre;c.setWithCredentials(!0),c.listenOnce(Mre.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lA.NO_ERROR:const h=c.getResponseJson();oe(lr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case lA.TIMEOUT:oe(lr,`RPC '${e}' ${o} timed out`),a(new ie(L.DEADLINE_EXCEEDED,"Request time out"));break;case lA.HTTP_ERROR:const p=c.getStatus();if(oe(lr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(I){const S=I.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(S)>=0?S:L.UNKNOWN}(v.status);a(new ie(b,v.message))}else a(new ie(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ie(L.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{oe(lr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);oe(lr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",d,i,15)})}vo(e,t,i){const r=nS(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sre(),a=kre(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new Pre({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");oe(lr,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new Fse({co:I=>{v?oe(lr,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(g||(oe(lr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),oe(lr,`RPC '${e}' stream ${r} sending:`,I),p.send(I))},lo:()=>p.close()}),w=(I,S,A)=>{I.listen(S,M=>{try{A(M)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Xw.EventType.OPEN,()=>{v||oe(lr,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Xw.EventType.CLOSE,()=>{v||(v=!0,oe(lr,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Xw.EventType.ERROR,I=>{v||(v=!0,Hr(lr,`RPC '${e}' stream ${r} transport errored:`,I),b.Ro(new ie(L.UNAVAILABLE,"The operation could not be completed")))}),w(p,Xw.EventType.MESSAGE,I=>{var S;if(!v){const A=I.data[0];Me(!!A);const Y=A.error||(null===(S=A[0])||void 0===S?void 0:S.error);if(Y){oe(lr,`RPC '${e}' stream ${r} received error:`,Y);const de=Y.status;let Ie=function(ho){const Wr=fi[ho];if(void 0!==Wr)return g4(Wr)}(de),We=Y.message;void 0===Ie&&(Ie=L.INTERNAL,We="Unknown error status: "+de+" with message "+Y.message),v=!0,b.Ro(new ie(Ie,We)),p.close()}else oe(lr,`RPC '${e}' stream ${r} received:`,A),b.Vo(A)}}),w(a,Rre.STAT_EVENT,I=>{I.stat===aj.PROXY?oe(lr,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===aj.NOPROXY&&oe(lr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function C3(){return typeof window<"u"?window:null}function k0(){return typeof document<"u"?document:null}function w_(n){return new Woe(n,!0)}class iS{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class T3{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new iS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,K.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,K.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,K.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===L.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ie(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,K.Z)(function*(){e.state=0,e.start()}))}o_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vse extends T3{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Qoe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:we(),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(Me(void 0===h||"string"==typeof h),Ei.fromBase64String(h||"")):(Me(void 0===h||h instanceof Uint8Array),Ei.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const h=void 0===d.code?L.UNKNOWN:g4(d.code);return new ie(h,d.message||"")}(s);t=new w4(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Qs(n,i.document.name),o=ri(i.document.updateTime),s=i.document.createTime?ri(i.document.createTime):Re.min(),a=new Ki({mapValue:{fields:i.document.fields}}),c=In.newFoundDocument(r,o,s,a);t=new p0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Qs(n,i.document),o=i.readTime?ri(i.readTime):Re.min(),s=In.newNoDocument(r,o);t=new p0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Qs(n,i.document);t=new p0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return we();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new joe(r,o);t=new b4(i.targetId,s)}}var d;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Re.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Re.min():s.readTime?ri(s.readTime):Re.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=h_(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=c0(c)?{documents:M4(o,c)}:{query:NA(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=C4(o,s.resumeToken);const d=kA(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Re.min())>0){a.readTime=If(o,s.snapshotVersion.toTimestamp());const d=kA(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function Xoe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=h_(this.serializer),t.removeTarget=e,this.e_(t)}}class Bse extends T3{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Yoe(n,e){return n&&n.length>0?(Me(void 0!==e),n.map(t=>function(r,o){let s=ri(r.updateTime?r.updateTime:o);return s.isEqual(Re.min())&&(s=ri(o)),new Loe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ri(e.commitTime);return this.listener.I_(i,t)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=h_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>f_(this.serializer,i))};this.e_(t)}}class Use extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ie(L.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ie(L.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(L.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class zse{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ii(t),this.f_=!1):oe("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class $se{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,K.Z)(function*(){var c;rl(s)&&(oe("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,K.Z)(function*(h){const p=fe(h);p.C_.add(4),yield Mf(p),p.M_.set("Unknown"),p.C_.delete(4),yield E_(p)}),function d(h){return c.apply(this,arguments)})(s))}))}),this.M_=new zse(i,r)}}function E_(n){return oS.apply(this,arguments)}function oS(){return oS=(0,K.Z)(function*(n){if(rl(n))for(const e of n.v_)yield e(!0)}),oS.apply(this,arguments)}function Mf(n){return sS.apply(this,arguments)}function sS(){return sS=(0,K.Z)(function*(n){for(const e of n.v_)yield e(!1)}),sS.apply(this,arguments)}function M0(n,e){const t=fe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),lS(t)?cS(t):Pf(t).Ho()&&aS(t,e))}function I_(n,e){const t=fe(n),i=Pf(t);t.D_.delete(e),i.Ho()&&D3(t,e),0===t.D_.size&&(i.Ho()?i.Zo():rl(t)&&t.M_.set("Unknown"))}function aS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pf(n).u_(e)}function D3(n,e){n.x_.Oe(e),Pf(n).c_(e)}function cS(n){n.x_=new $oe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Pf(n).start(),n.M_.g_()}function lS(n){return rl(n)&&!Pf(n).jo()&&n.D_.size>0}function rl(n){return 0===fe(n).C_.size}function A3(n){n.x_=void 0}function Hse(n){return dS.apply(this,arguments)}function dS(){return dS=(0,K.Z)(function*(n){n.D_.forEach((e,t)=>{aS(n,e)})}),dS.apply(this,arguments)}function qse(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,K.Z)(function*(n,e){A3(n),lS(n)?(n.M_.w_(e),cS(n)):n.M_.set("Unknown")}),uS.apply(this,arguments)}function Gse(n,e,t){return hS.apply(this,arguments)}function hS(){return hS=(0,K.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof w4&&2===e.state&&e.cause)try{yield(i=(0,K.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield R0(n,i)}else if(e instanceof p0?n.x_.$e(e):e instanceof b4?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Re.min()))try{const i=yield g3(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(d);h&&o.D_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ei.EMPTY_BYTE_STRING,h.snapshotVersion)),D3(o,c);const p=new Va(h.target,c,d,h.sequenceNumber);aS(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),yield R0(n,i)}var i}),hS.apply(this,arguments)}function R0(n,e,t){return fS.apply(this,arguments)}function fS(){return fS=(0,K.Z)(function*(n,e,t){if(!Gc(e))throw e;n.C_.add(1),yield Mf(n),n.M_.set("Offline"),t||(t=()=>g3(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield E_(n)}))}),fS.apply(this,arguments)}function S3(n,e){return e().catch(t=>R0(n,t,e))}function Rf(n){return mS.apply(this,arguments)}function mS(){return mS=(0,K.Z)(function*(n){const e=fe(n),t=ol(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Wse(e);)try{const r=yield Mse(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Zse(e,r)}catch(r){yield R0(e,r)}k3(e)&&M3(e)}),mS.apply(this,arguments)}function Wse(n){return rl(n)&&n.b_.length<10}function Zse(n,e){n.b_.push(e);const t=ol(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function k3(n){return rl(n)&&!ol(n).jo()&&n.b_.length>0}function M3(n){ol(n).start()}function Kse(n){return pS.apply(this,arguments)}function pS(){return pS=(0,K.Z)(function*(n){ol(n).E_()}),pS.apply(this,arguments)}function Qse(n){return gS.apply(this,arguments)}function gS(){return gS=(0,K.Z)(function*(n){const e=ol(n);for(const t of n.b_)e.P_(t.mutations)}),gS.apply(this,arguments)}function Yse(n,e,t){return _S.apply(this,arguments)}function _S(){return _S=(0,K.Z)(function*(n,e,t){const i=n.b_.shift(),r=DA.from(i,e,t);yield S3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Rf(n)}),_S.apply(this,arguments)}function Xse(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,K.Z)(function*(n,e){var t;e&&ol(n).h_&&(yield(t=(0,K.Z)(function*(r,o){if(p4(a=o.code)&&a!==L.ABORTED){const s=r.b_.shift();ol(r).Yo(),yield S3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Rf(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),k3(n)&&M3(n)}),vS.apply(this,arguments)}function R3(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,K.Z)(function*(n,e){const t=fe(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=rl(t);t.C_.add(3),yield Mf(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield E_(t)}),yS.apply(this,arguments)}function bS(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,K.Z)(function*(n,e){const t=fe(n);e?(t.C_.delete(2),yield E_(t)):e||(t.C_.add(2),yield Mf(t),t.M_.set("Unknown"))}),wS.apply(this,arguments)}function Pf(n){return n.O_||(n.O_=function(t,i,r){const o=fe(t);return o.A_(),new Vse(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Hse.bind(null,n),Io:qse.bind(null,n),a_:Gse.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.O_.Yo(),lS(n)?cS(n):n.M_.set("Unknown")):(yield n.O_.stop(),A3(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function ol(n){return n.N_||(n.N_=function(t,i,r){const o=fe(t);return o.A_(),new Bse(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Kse.bind(null,n),Io:Xse.bind(null,n),T_:Qse.bind(null,n),I_:Yse.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.N_.Yo(),yield Rf(n)):(yield n.N_.stop(),n.b_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class ES{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new ES(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nf(n,e){if(ii("AsyncQueue",`${e}: ${n}`),Gc(n))return new ie(L.UNAVAILABLE,`${e}: ${n}`);throw n}class Of{constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=r_(),this.sortedSet=new pn(this.comparator)}static emptySet(e){return new Of(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Of)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Of;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class P3{constructor(){this.B_=new pn(pe.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):we():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ff{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Ff(e,t,Of.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Jse{constructor(){this.k_=void 0,this.listeners=[]}}class eae{constructor(){this.queries=new Fa(e=>Qj(e),n_),this.onlineState="Unknown",this.q_=new Set}}function IS(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,K.Z)(function*(n,e){const t=fe(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Jse),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Nf(s,`Initialization of query '${vf(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&DS(t)}),xS.apply(this,arguments)}function CS(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,K.Z)(function*(n,e){const t=fe(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),TS.apply(this,arguments)}function tae(n,e){const t=fe(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&DS(t)}function nae(n,e,t){const i=fe(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function DS(n){n.q_.forEach(e=>{e.next()})}class AS{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Ff(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class iae{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class N3{constructor(e){this.serializer=e}hs(e){return Qs(this.serializer,e)}Ps(e){return e.metadata.exists?k4(this.serializer,e.document,!1):In.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ri(e)}}class rae{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=O3(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Tt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new N3(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||nt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,K.Z)(function*(){const t=yield function Rse(n,e,t,i){return QA.apply(this,arguments)}(e.localStore,new N3(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield Pse(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function O3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class F3{constructor(e){this.key=e}}class L3{constructor(e){this.key=e}}class V3{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=nt(),this.mutatedKeys=nt(),this._a=Xj(e),this.aa=new Of(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new P3,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=i_(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),I=!0):this.ha(g,v)||(i.track({type:2,doc:v}),I=!0,(c&&this._a(v,c)>0||d&&this._a(v,d)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),I=!0):g&&!v&&(i.track({type:1,doc:g}),I=!0,(c||d)&&(a=!0)),I&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return b(g)-b(v)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Ff(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new P3,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=nt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new L3(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new F3(i))}),t}da(e){this.ia=e.ls,this.oa=nt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Ff.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class oae{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sae{constructor(e){this.key=e,this.Ra=!1}}class aae{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Fa(a=>Qj(a),n_),this.fa=new Map,this.ga=new Set,this.pa=new pn(pe.comparator),this.ya=new Map,this.wa=new zA,this.Sa={},this.ba=new Map,this.Da=zd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function cae(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,K.Z)(function*(n,e){const t=XS(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Sf(t.localStore,Mr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield kS(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&M0(t.remoteStore,s)}return r}),SS.apply(this,arguments)}function kS(n,e,t,i,r){return MS.apply(this,arguments)}function MS(){return MS=(0,K.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,K.Z)(function*(I,S,A,M){let Y=S.view.ca(A);Y.Zi&&(Y=yield T0(I.localStore,S.query,!1).then(({documents:We})=>S.view.ca(We,Y)));const de=M&&M.targetChanges.get(S.targetId),Ie=S.view.applyChanges(Y,I.isPrimaryClient,de);return jS(I,S.targetId,Ie.Ta),Ie.snapshot}),function w(I,S,A,M){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield T0(n.localStore,e,!0),s=new V3(e,o.ls),a=s.ca(o.documents),c=d_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=s.applyChanges(a,n.isPrimaryClient,c);jS(n,t,d.Ta);const h=new oae(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),MS.apply(this,arguments)}function lae(n,e){return RS.apply(this,arguments)}function RS(){return RS=(0,K.Z)(function*(n,e){const t=fe(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!n_(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),I_(t.remoteStore,i.targetId),Lf(t,i.targetId)}).catch(qc))):(Lf(t,i.targetId),yield kf(t.localStore,i.targetId,!0))}),RS.apply(this,arguments)}function PS(){return PS=(0,K.Z)(function*(n,e,t){const i=JS(n);try{const r=yield function(s,a){const c=fe(s),d=Rn.now(),h=a.reduce((v,b)=>v.add(b.key),nt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Gr(),w=nt();return c.ss.getEntries(v,h).next(I=>{b=I,b.forEach((S,A)=>{A.isValidDocument()||(w=w.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(I=>{p=I;const S=[];for(const A of a){const M=Boe(A,p.get(A.key).overlayedDocument);null!=M&&S.push(new La(A.key,M,Oj(M.value.mapValue),Pn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,S,a)}).next(I=>{g=I;const S=I.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,I.batchId,S)})}).then(()=>({batchId:g.batchId,changes:e4(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Sa[s.currentUser.toKey()];d||(d=new pn(Qe)),d=d.insert(a,c),s.Sa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield Ba(i,r.changes),yield Rf(i.remoteStore)}catch(r){const o=Nf(r,"Failed to persist write");t.reject(o)}}),PS.apply(this,arguments)}function B3(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,K.Z)(function*(n,e){const t=fe(n);try{const i=yield function kse(n,e){const t=fe(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,I,S;null!==e.targetMismatches.get(p)?v=v.withResumeToken(Ei.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),I=v,S=h,(0===(w=g).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Gr(),d=nt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_3(o,s,e.documentUpdates).next(h=>{c=h.us,d=h.cs})),!i.isEqual(Re.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Me(s.Ra):r.removedDocuments.size>0&&(Me(s.Ra),s.Ra=!1))}),yield Ba(t,i,e)}catch(i){yield qc(i)}}),NS.apply(this,arguments)}function U3(n,e,t){const i=fe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=fe(s);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(d=!0)}),d&&DS(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function uae(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,K.Z)(function*(n,e,t){const i=fe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new pn(pe.comparator);s=s.insert(o,In.newNoDocument(o,Re.min()));const a=nt().add(o),c=new l_(Re.min(),new Map,new pn(Qe),s,a);yield B3(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),zS(i)}else yield kf(i.localStore,e,!1).then(()=>Lf(i,e,t)).catch(qc)}),OS.apply(this,arguments)}function hae(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,K.Z)(function*(n,e){const t=fe(n),i=e.batch.batchId;try{const r=yield function Sse(n,e){const t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,g=p.keys();let v=P.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const I=d.docVersions.get(b);Me(null!==I),w.version.compareTo(I)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=nt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);US(t,i,null),BS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ba(t,r)}catch(r){yield qc(r)}}),FS.apply(this,arguments)}function fae(n,e,t){return LS.apply(this,arguments)}function LS(){return LS=(0,K.Z)(function*(n,e,t){const i=fe(n);try{const r=yield function(s,a){const c=fe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Me(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);US(i,e,t),BS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ba(i,r)}catch(r){yield qc(r)}}),LS.apply(this,arguments)}function VS(){return VS=(0,K.Z)(function*(n,e){const t=fe(n);rl(t.remoteStore)||oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=fe(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Nf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),VS.apply(this,arguments)}function BS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function US(n,e,t){const i=fe(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Lf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||j3(n,i)})}function j3(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(I_(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),zS(n))}function jS(n,e,t){for(const i of t)i instanceof F3?(n.wa.addReference(i.key,e),pae(n,i)):i instanceof L3?(oe("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||j3(n,i.key)):we()}function pae(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(oe("SyncEngine","New document in limbo: "+t),n.ga.add(i),zS(n))}function zS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(Tt.fromString(e)),i=n.Da.next();n.ya.set(i,new sae(t)),n.pa=n.pa.insert(t,i),M0(n.remoteStore,new Va(Mr(gf(t.path)),i,"TargetPurposeLimboResolution",co._e))}}function Ba(n,e,t){return $S.apply(this,arguments)}function $S(){return $S=(0,K.Z)(function*(n,e,t){const i=fe(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(d=>{if((d||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);const h=WA.Qi(c.targetId,d);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,K.Z)(function*(d,h){const p=fe(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(h,v=>P.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>P.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!Gc(g))throw g;oe("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),I=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,I)}}}),function c(d,h){return a.apply(this,arguments)})(i.localStore,o))}),$S.apply(this,arguments)}function gae(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,K.Z)(function*(n,e){const t=fe(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=yield p3(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new ie(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ba(t,i._s)}var o}),HS.apply(this,arguments)}function _ae(n,e){const t=fe(n),i=t.ya.get(e);if(i&&i.Ra)return nt().add(i.key);{let r=nt();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function vae(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,K.Z)(function*(n,e){const t=fe(n),i=yield T0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&jS(t,e.targetId,r.Ta),r}),qS.apply(this,arguments)}function yae(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,K.Z)(function*(n,e){const t=fe(n);return y3(t.localStore,e).then(i=>Ba(t,i))}),GS.apply(this,arguments)}function bae(n,e,t,i){return WS.apply(this,arguments)}function WS(){return WS=(0,K.Z)(function*(n,e,t,i){const r=fe(n),o=yield function(a,c){const d=fe(a),h=fe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?d.localDocuments.getDocuments(p,g):P.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Rf(r.remoteStore):"acknowledged"===t||"rejected"===t?(US(r,e,i||null),BS(r,e),c=e,fe(fe(r.localStore).mutationQueue).Fn(c)):we(),yield Ba(r,o)):oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),WS.apply(this,arguments)}function ZS(){return ZS=(0,K.Z)(function*(n,e){const t=fe(n);if(XS(t),JS(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield z3(t,i.toArray());t.Ca=!0,yield bS(t.remoteStore,!0);for(const o of r)M0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Lf(t,s),kf(t.localStore,s,!0))),I_(t.remoteStore,s)}),yield r,yield z3(t,i),function(s){const a=fe(s);a.ya.forEach((c,d)=>{I_(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new pn(pe.comparator)}(t),t.Ca=!1,yield bS(t.remoteStore,!1)}}),ZS.apply(this,arguments)}function z3(n,e,t){return KS.apply(this,arguments)}function KS(){return KS=(0,K.Z)(function*(n,e,t){const i=fe(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield Sf(i.localStore,Mr(c[0]));for(const d of c){const h=i.ma.get(d),p=yield vae(i,h);p.snapshot&&o.push(p.snapshot)}}else{const d=yield v3(i.localStore,s);a=yield Sf(i.localStore,d),yield kS(i,$3(d),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),KS.apply(this,arguments)}function $3(n){return Wj(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Eae(n){return t=fe(n).localStore,fe(fe(t).persistence).Bi();var t}function Iae(n,e,t,i){return QS.apply(this,arguments)}function QS(){return QS=(0,K.Z)(function*(n,e,t,i){const r=fe(n);if(r.Ca)return void oe("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield y3(r.localStore,Yj(o[0])),a=l_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield Ba(r,s,a);break}case"rejected":yield kf(r.localStore,e,!0),Lf(r,e,i);break;default:we()}}),QS.apply(this,arguments)}function xae(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,K.Z)(function*(n,e,t){const i=XS(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){oe("SyncEngine","Adding an already active target "+r);continue}const o=yield v3(i.localStore,r),s=yield Sf(i.localStore,o);yield kS(i,$3(o),s.targetId,!1,s.resumeToken),M0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield kf(i.localStore,r,!1).then(()=>{I_(i.remoteStore,r),Lf(i,r)}).catch(qc))}}),YS.apply(this,arguments)}function XS(n){const e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=B3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_ae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uae.bind(null,e),e.Va.a_=tae.bind(null,e.eventManager),e.Va.Fa=nae.bind(null,e.eventManager),e}function JS(n){const e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fae.bind(null,e),e}class x_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.serializer=w_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return m3(this.persistence,new f3,e.initialUser,this.serializer)}createPersistence(e){return new $A(I0.jr,this.serializer)}createSharedClientState(e){return new I3}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ek extends x_{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield JS(i.xa.syncEngine),yield Rf(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return m3(this.persistence,new f3,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new r3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Yre(t,this.persistence);return new Qre(e.asyncQueue,i)}createPersistence(e){const t=GA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new qA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,C3(),k0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new I3}}class H3 extends ek{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof tS&&(i.sharedClientState.syncEngine={Ys:bae.bind(null,r),Zs:Iae.bind(null,r),Xs:xae.bind(null,r),Bi:Eae.bind(null,r),Js:yae.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,K.Z)(function*(s){yield function wae(n,e){return ZS.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=C3();if(!tS.D(t))throw new ie(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=GA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Vf{initialize(e,t){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>U3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gae.bind(null,i.syncEngine),yield bS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eae}createDatastore(e){const t=w_(e.databaseInfo.databaseId),i=new Lse(e.databaseInfo);return new Use(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>U3(this.syncEngine,t,0),a=x3.D()?new x3:new Nse,new $se(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,d,h){const p=new aae(r,o,s,a,c,d);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(i){const r=fe(i);oe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Mf(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function q3(n,e=10240){let t=0;return{read:()=>(0,K.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dae{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,K.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,K.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,K.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new iae(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,K.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,K.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,K.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Aae{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ie(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,a){const c=fe(s),d=h_(c.serializer)+"/documents",h={documents:a.map(b=>u_(c.serializer,b))},p=yield c.Co("BatchGetDocuments",d,h,a.length),g=new Map;p.forEach(b=>{const w=function Koe(n,e){return"found"in e?function(i,r){Me(!!r.found);const o=Qs(i,r.found.name),s=ri(r.found.updateTime),a=r.found.createTime?ri(r.found.createTime):Re.min(),c=new Ki({mapValue:{fields:r.found.fields}});return In.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){Me(!!r.missing),Me(!!r.readTime);const o=Qs(i,r.missing),s=ri(r.readTime);return In.newNoDocument(o,s)}(n,e):we()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());Me(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ef(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=pe.fromPath(r);e.mutations.push(new CA(o,e.precondition(o)))}),yield(i=(0,K.Z)(function*(o,s){const a=fe(o),c=h_(a.serializer)+"/documents",d={writes:s.map(h=>f_(a.serializer,h))};yield a.wo("Commit",c,d)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Re.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?Pn.exists(!1):Pn.updateTime(t):Pn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new ie(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(t)}return Pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Sae{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new iS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,K.Z)(function*(){const t=new Aae(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Zg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!p4(t)}return!1}}class kae{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Pi.UNAUTHENTICATED,this.clientId=uj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,K.Z)(function*(a){oe("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Nf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function N0(n,e){return tk.apply(this,arguments)}function tk(){return tk=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(o){i.isEqual(o)||(yield p3(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),tk.apply(this,arguments)}function nk(n,e){return ik.apply(this,arguments)}function ik(){return ik=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rk(n);oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>R3(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>R3(e.remoteStore,o)),n._onlineComponents=e}),ik.apply(this,arguments)}function G3(n){return"FirebaseError"===n.name?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function rk(n){return ok.apply(this,arguments)}function ok(){return ok=(0,K.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield N0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!G3(t))throw t;Hr("Error using user provided cache. Falling back to memory cache: "+t),yield N0(n,new x_)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),yield N0(n,new x_);return n._offlineComponents}),ok.apply(this,arguments)}function O0(n){return sk.apply(this,arguments)}function sk(){return sk=(0,K.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield nk(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),yield nk(n,new Vf))),n._onlineComponents}),sk.apply(this,arguments)}function W3(n){return rk(n).then(e=>e.persistence)}function Bf(n){return rk(n).then(e=>e.localStore)}function Z3(n){return O0(n).then(e=>e.remoteStore)}function ak(n){return O0(n).then(e=>e.syncEngine)}function Uf(n){return ck.apply(this,arguments)}function ck(){return ck=(0,K.Z)(function*(n){const e=yield O0(n),t=e.eventManager;return t.onListen=cae.bind(null,e.syncEngine),t.onUnlisten=lae.bind(null,e.syncEngine),t}),ck.apply(this,arguments)}function Q3(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new P0({next:g=>{s.enqueueAndForget(()=>CS(o,p));const v=g.docs.has(a);!v&&g.fromCache?d.reject(new ie(L.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?d.reject(new ie(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new AS(gf(a.path),h,{includeMetadataChanges:!0,J_:!0});return IS(o,p)}(yield Uf(n),n.asyncQueue,e,t,i)})),i.promise}function Y3(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new P0({next:g=>{s.enqueueAndForget(()=>CS(o,p)),g.fromCache&&"server"===c.source?d.reject(new ie(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new AS(a,h,{includeMetadataChanges:!0,J_:!0});return IS(o,p)}(yield Uf(n),n.asyncQueue,e,t,i)})),i.promise}function X3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const J3=new Map;function lk(n,e,t){if(!t)throw new ie(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ez(n,e,t,i){if(!0===e&&!0===i)throw new ie(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tz(n){if(!pe.isDocumentKey(n))throw new ie(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nz(n){if(pe.isDocumentKey(n))throw new ie(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":we()}function vt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=F0(n);throw new ie(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iz(n,e){if(e<=0)throw new ie(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class rz{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ez("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=X3(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ie(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C_{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rz(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Vre;switch(i.type){case"firstParty":return new zre(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=J3.get(t);i&&(oe("ComponentProvider","Removing Datastore"),J3.delete(t),i.terminate())}(this),Promise.resolve()}}class Qi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Ys extends Qi{constructor(e,t,i){super(e,t,gf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new pe(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function sz(n,e,...t){if(n=(0,dn.m9)(n),lk("collection","path",e),n instanceof C_){const i=Tt.fromString(e,...t);return nz(i),new Ys(n,null,i)}{if(!(n instanceof xn||n instanceof Ys))throw new ie(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tt.fromString(e,...t));return nz(i),new Ys(n.firestore,null,i)}}function L0(n,e,...t){if(n=(0,dn.m9)(n),1===arguments.length&&(e=uj.newId()),lk("doc","path",e),n instanceof C_){const i=Tt.fromString(e,...t);return tz(i),new xn(n,null,new pe(i))}{if(!(n instanceof xn||n instanceof Ys))throw new ie(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tt.fromString(e,...t));return tz(i),new xn(n.firestore,n instanceof Ys?n.converter:null,new pe(i))}}function az(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),(n instanceof xn||n instanceof Ys)&&(e instanceof xn||e instanceof Ys)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dk(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&n_(n._query,e._query)&&n.converter===e.converter}class zae{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new iS(this,"async_queue_retry"),this.iu=()=>{const t=k0();t&&oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=k0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=k0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,K.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Gc(t))throw t;oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,ii("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=ES.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&we()}verifyOperationInProgress(){}uu(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function uk(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class $ae{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gn extends C_{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new zae,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cz(this),this._firestoreClient.terminate()}}function Wn(n){return n._firestoreClient||cz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cz(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new voe(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,X3(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new kae(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function lz(n,e,t){const i=new wi;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield N0(n,t),yield nk(n,e),i.resolve()}catch(r){const o=r;if(!G3(o))throw o;Hr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function dz(n){if(n._initialized||n._terminated)throw new ie(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(Ei.fromBase64String(e))}catch(t){throw new ie(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xs(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ua{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ie(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hd{constructor(e){this._methodName=e}}class V0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}const ece=/^__.*__$/;class tce{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new wf(e,this.data,t,this.fieldTransforms)}}class uz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class B0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new B0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return z0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(hz(this.Iu)&&ece.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class nce{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||w_(e)}pu(e,t,i,r=!1){return new B0({Iu:e,methodName:t,gu:i,path:En.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(n){const e=n._freezeSettings(),t=w_(n._databaseId);return new nce(n._databaseId,!!e.ignoreUndefinedProperties,t)}function U0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);pk("Data must be an object, but it was:",s,i);const a=pz(i,s);let c,d;if(o.merge)c=new qr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=A_(e,p,t);if(!s.contains(g))throw new ie(L.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_z(h,g)||h.push(g)}c=new qr(h),d=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=s.fieldTransforms;return new tce(new Ki(a),c,d)}class D_ extends Hd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D_}}function fz(n,e,t){return new B0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hk extends Hd{_toFieldTransform(e){return new s_(e.path,new yf)}isEqual(e){return e instanceof hk}}class ice extends Hd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=fz(this,e,!0),i=this.yu.map(o=>Gd(o,t)),r=new Od(i);return new s_(e.path,r)}isEqual(e){return this===e}}class rce extends Hd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=fz(this,e,!0),i=this.yu.map(o=>Gd(o,t)),r=new Fd(i);return new s_(e.path,r)}isEqual(e){return this===e}}class oce extends Hd{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new bf(e.serializer,r4(e.serializer,this.wu));return new s_(e.path,t)}isEqual(e){return this===e}}function fk(n,e,t,i){const r=n.pu(1,e,t);pk("Data must be an object, but it was:",r,i);const o=[],s=Ki.empty();Wc(i,(c,d)=>{const h=j0(e,c,t);d=(0,dn.m9)(d);const p=r.Ru(h);if(d instanceof D_)o.push(h);else{const g=Gd(d,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new qr(o);return new uz(s,a,r.fieldTransforms)}function mk(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[A_(e,i,t)],c=[r];if(o.length%2!=0)throw new ie(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(A_(e,o[g])),c.push(o[g+1]);const d=[],h=Ki.empty();for(let g=a.length-1;g>=0;--g)if(!_z(d,a[g])){const v=a[g];let b=c[g];b=(0,dn.m9)(b);const w=s.Ru(v);if(b instanceof D_)d.push(v);else{const I=Gd(b,w);null!=I&&(d.push(v),h.set(v,I))}}const p=new qr(d);return new uz(h,p,s.fieldTransforms)}function mz(n,e,t,i=!1){return Gd(t,n.pu(i?4:3,e))}function Gd(n,e){if(gz(n=(0,dn.m9)(n)))return pk("Unsupported field value:",e,n),pz(n,e);if(n instanceof Hd)return function(i,r){if(!hz(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Gd(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,dn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return r4(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Rn.fromDate(i);return{timestampValue:If(r.serializer,o)}}if(i instanceof Rn){const o=new Rn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:If(r.serializer,o)}}if(i instanceof V0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xs)return{bytesValue:C4(r.serializer,i._byteString)};if(i instanceof xn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MA(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${F0(i)}`)}(n,e)}function pz(n,e){const t={};return Tj(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wc(n,(i,r)=>{const o=Gd(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function gz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rn||n instanceof V0||n instanceof Xs||n instanceof xn||n instanceof Hd)}function pk(n,e,t){if(!gz(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=F0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function A_(n,e,t){if((e=(0,dn.m9)(e))instanceof Ua)return e._internalPath;if("string"==typeof e)return j0(n,e);throw z0("Field path arguments must be of type string or ",n,!1,void 0,t)}const sce=new RegExp("[~\\*/\\[\\]]");function j0(n,e,t){if(e.search(sce)>=0)throw z0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ua(...e.split("."))._internalPath}catch{throw z0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function z0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new ie(L.INVALID_ARGUMENT,a+n+c)}function _z(n,e){return n.some(t=>t.isEqual(e))}class S_{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ace(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ace extends S_{data(){return super.data()}}function $0(n,e){return"string"==typeof e?j0(n,e):e instanceof Ua?e._internalPath:e._delegate._internalPath}function vz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ie(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gk{}class k_ extends gk{}function sl(n,e,...t){let i=[];e instanceof gk&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof jf).length,a=o.filter(c=>c instanceof M_).length;if(s>1||s>0&&a>0)throw new ie(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class M_ extends k_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new M_(e,t,i)}_apply(e){const t=this._parse(e);return Ez(e._query,t),new Qi(e.firestore,e.converter,IA(e._query,t))}_parse(e){const t=qd(e.firestore);return function(o,s,a,c,d,h,p){let g;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ie(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){wz(p,h);const v=[];for(const b of p)v.push(bz(c,o,b));g={arrayValue:{values:v}}}else g=bz(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||wz(p,h),g=mz(a,"where",p,"in"===h||"not-in"===h);return wt.create(d,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class jf extends gk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Yt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)Ez(s,c),s=IA(s,c)}(e._query,t),new Qi(e.firestore,e.converter,IA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _k extends k_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _k(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ie(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ie(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new e_(o,s)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Oa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class H0 extends k_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new H0(e,t,i)}_apply(e){return new Qi(e.firestore,e.converter,d0(e._query,this._limit,this._limitType))}}class q0 extends k_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new q0(e,t,i)}_apply(e){const t=yz(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(o=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class G0 extends k_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new G0(e,t,i)}_apply(e){const t=yz(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(o=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function yz(n,e,t,i){if(t[0]=(0,dn.m9)(t[0]),t[0]instanceof S_)return function(o,s,a,c,d){if(!c)throw new ie(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of _f(o))if(p.field.isKeyField())h.push(Pd(s,c.key));else{const g=c.data.field(p.field);if(n0(g))throw new ie(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new ie(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new Jc(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=qd(n.firestore);return function(s,a,c,d,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new ie(L.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new ie(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!EA(s)&&-1!==w.indexOf("/"))throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const I=s.path.child(Tt.fromString(w));if(!pe.isDocumentKey(I))throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const S=new pe(I);v.push(Pd(a,S))}else{const I=mz(c,d,w);v.push(I)}}return new Jc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function bz(n,e,t){if("string"==typeof(t=(0,dn.m9)(t))){if(""===t)throw new ie(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&-1!==t.indexOf("/"))throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Tt.fromString(t));if(!pe.isDocumentKey(i))throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pd(n,new pe(i))}if(t instanceof xn)return Pd(n,t._key);throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${F0(t)}.`)}function wz(n,e){if(!Array.isArray(n)||0===n.length)throw new ie(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ez(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ie(L.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vk{convertValue(e,t="none"){switch(Yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new V0(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=r0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qg(e));default:return null}}convertTimestamp(e){const t=Zc(e);return new Rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Tt.fromString(e);Me(O4(i));const r=new Kc(i.get(1),i.get(3)),o=new pe(i.popFirst(5));return r.isEqual(t)||ii(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function W0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class gce extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}class Wd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends S_{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new R_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field($0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class R_ extends ja{data(e={}){return super.data(e)}}class al{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new R_(this._firestore,this._userDataWriter,i.key,i,new Wd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new R_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Wd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new R_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Wd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:vce(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vce(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function xz(n,e){return n instanceof ja&&e instanceof ja?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof al&&e instanceof al&&n._firestore===e._firestore&&dk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class cl extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function Cz(n,e,t){n=vt(n,xn);const i=vt(n.firestore,gn),r=W0(n.converter,e,t);return zf(i,[U0(qd(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Pn.none())])}function Tz(n,e,t,...i){n=vt(n,xn);const r=vt(n.firestore,gn),o=qd(r);let s;return s="string"==typeof(e=(0,dn.m9)(e))||e instanceof Ua?mk(o,"updateDoc",n._key,e,t,i):fk(o,"updateDoc",n._key,e),zf(r,[s.toMutation(n._key,Pn.exists(!0))])}function Dz(n,...e){var t,i,r;n=(0,dn.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||uk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(uk(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,d,h;if(n instanceof xn)d=vt(n.firestore,gn),h=gf(n._key.path),c={next:p=>{e[s]&&e[s](yk(d,n,p))},error:e[s+1],complete:e[s+2]};else{const p=vt(n,Qi);d=vt(p.firestore,gn),h=p._query;const g=new cl(d);c={next:v=>{e[s]&&e[s](new al(d,g,p,v))},error:e[s+1],complete:e[s+2]},vz(n._query)}return function(g,v,b,w){const I=new P0(w),S=new AS(v,I,b);return g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return IS(yield Uf(g),S)})),()=>{I.Na(),g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return CS(yield Uf(g),S)}))}}(Wn(d),h,a,c)}function zf(n,e){return function(i,r){const o=new wi;return i.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function dae(n,e,t){return PS.apply(this,arguments)}(yield ak(i),r,o)})),o.promise}(Wn(n),e)}function yk(n,e,t){const i=t.docs.get(e._key),r=new cl(n);return new ja(n,r,e._key,i,new Wd(t.hasPendingWrites,t.fromCache),e.converter)}const Fce={maxAttempts:5};class Az{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qd(e)}set(e,t,i){this._verifyNotCommitted();const r=ll(e,this._firestore),o=W0(r.converter,t,i),s=U0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Pn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=ll(e,this._firestore);let s;return s="string"==typeof(t=(0,dn.m9)(t))||t instanceof Ua?mk(this._dataReader,"WriteBatch.update",o._key,t,i,r):fk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ll(e,this._firestore);return this._mutations=this._mutations.concat(new Ef(t._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ll(n,e){if((n=(0,dn.m9)(n)).firestore!==e)throw new ie(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lce extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=qd(t)}get(t){const i=ll(t,this._firestore),r=new gce(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return we();const s=o[0];if(s.isFoundDocument())return new S_(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new S_(this._firestore,r,i._key,null,i.converter);throw we()})}set(t,i,r){const o=ll(t,this._firestore),s=W0(o.converter,i,r),a=U0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=ll(t,this._firestore);let a;return a="string"==typeof(i=(0,dn.m9)(i))||i instanceof Ua?mk(this._dataReader,"Transaction.update",s._key,i,r,o):fk(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=ll(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ll(e,this._firestore),i=new cl(this._firestore);return super.get(e).then(r=>new ja(this._firestore,i,t._key,r._document,new Wd(!1,!1),t.converter))}}function wk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Rz(){if(typeof Uint8Array>"u")throw new ie("unimplemented","Uint8Arrays are not available in this environment.")}function Pz(){if(!function goe(){return typeof atob<"u"}())throw new ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){cf=Kh.SDK_VERSION,(0,Kh._registerComponent)(new qB.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new gn(new Ure(i.getProvider("auth-internal")),new $re(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Kh.registerVersion)(cj,"4.3.2",e),(0,Kh.registerVersion)(cj,"4.3.2","esm2017")}();class P_{constructor(e){this._delegate=e}static fromBase64String(e){return Pz(),new P_(Xs.fromBase64String(e))}static fromUint8Array(e){return Rz(),new P_(Xs.fromUint8Array(e))}toBase64(){return Pz(),this._delegate.toBase64()}toUint8Array(){return Rz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ek(n){return function Wce(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Zce{enableIndexedDbPersistence(e,t){return function qae(n,e){dz(n=vt(n,gn));const t=Wn(n);if(t._uninitializedComponentsProvider)throw new ie(L.FAILED_PRECONDITION,"SDK cache is already specified.");Hr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Vf;return lz(t,r,new ek(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Gae(n){dz(n=vt(n,gn));const e=Wn(n);if(e._uninitializedComponentsProvider)throw new ie(L.FAILED_PRECONDITION,"SDK cache is already specified.");Hr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Vf;return lz(e,i,new H3(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Wae(n){if(n._initialized&&!n._terminated)throw new ie(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(t=(0,K.Z)(function*(r){if(!gs.D())return Promise.resolve();const o=r+"main";yield gs.delete(o)}),function i(r){return t.apply(this,arguments)})(GA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Nz{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Kc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function oz(n,e,t,i={}){var r;const o=(n=vt(n,C_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Pi.MOCK_USER;else{a=(0,dn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ie(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pi(d)}n._authCredentials=new Bre(new lj(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function Kae(n){return function Mae(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield W3(n),t=yield Z3(n);return e.setNetworkEnabled(!0),function(r){const o=fe(r);return o.C_.delete(0),E_(o)}(t)}))}(Wn(n=vt(n,gn)))}(this._delegate)}disableNetwork(){return function Qae(n){return function Rae(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield W3(n),t=yield Z3(n);return e.setNetworkEnabled(!1),(i=(0,K.Z)(function*(o){const s=fe(o);s.C_.add(0),yield Mf(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Wn(n=vt(n,gn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,ez("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Zae(n){return function(t){const i=new wi;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function mae(n,e){return VS.apply(this,arguments)}(yield ak(t),i)})),i.promise}(Wn(n=vt(n,gn)))}(this._delegate)}onSnapshotsInSync(e){return function Dce(n,e){return function Oae(n,e){const t=new P0(e);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Uf(n),o=t,fe(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Uf(n),o=t,void fe(r).q_.delete(o);var r,o}))}}(Wn(n=vt(n,gn)),uk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $f(this,sz(this._delegate,e))}catch(t){throw Rr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oo(this,L0(this._delegate,e))}catch(t){throw Rr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Pr(this,function jae(n,e){if(n=vt(n,C_),lk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(i=e,new Oa(Tt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Rr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Vce(n,e,t){n=vt(n,gn);const i=Object.assign(Object.assign({},Fce),t);return function(o){if(o.maxAttempts<1)throw new ie(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new wi;return o.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const d=yield function K3(n){return O0(n).then(e=>e.datastore)}(o);new Sae(o.asyncQueue,d,a,s,c).run()})),c.promise}(Wn(n),r=>e(new Lce(n,r)),i)}(this._delegate,t=>e(new Oz(this,t)))}batch(){return Wn(this._delegate),new Fz(new Az(this._delegate,e=>zf(this._delegate,e)))}loadBundle(e){return function Yae(n,e){const t=Wn(n=vt(n,gn)),i=new $ae;return function Fae(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?_4().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return q3(h,p);if(h instanceof ArrayBuffer)return q3(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Dae(h,a);var h}(t,w_(e));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function Cae(n,e,t){const i=fe(n);var r;(r=(0,K.Z)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(b,w){const I=fe(b),S=ri(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(S)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=d).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(O3(d));const h=new rae(d,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield Ba(s,g.ra,void 0),yield function(b,w){const I=fe(b);return I.persistence.runTransaction("Save bundle","readwrite",S=>I.Kr.saveBundleMetadata(S,w))}(s.localStore,d),c._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return Hr("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ak(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Xae(n,e){return function Lae(n,e){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(i,r){const o=fe(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Bf(n),e)}))}(Wn(n=vt(n,gn)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Pr(this,t):null)}}class K0 extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new P_(new Xs(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oo.forKey(t,this.firestore,null)}}class Oz{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new K0(e)}get(e){const t=Kd(e);return this._delegate.get(t).then(i=>new N_(this._firestore,new ja(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Kd(e);return i?(wk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Kd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Kd(e);return this._delegate.delete(t),this}}class Fz{constructor(e){this._delegate=e}set(e,t,i){const r=Kd(e);return i?(wk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Kd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Kd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zd{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new R_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new O_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Zd.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Zd(e,new K0(e),t),r.set(t,o)),o}}Zd.INSTANCES=new WeakMap;class Oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new K0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oo(t,new xn(t._delegate,i,new pe(e)))}static forKey(e,t,i){return new Oo(t,new xn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new $f(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $f(this.firestore,sz(this._delegate,e))}catch(t){throw Rr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,dn.m9)(e))instanceof xn&&az(this._delegate,e)}set(e,t){t=wk("DocumentReference.set",t);try{return t?Cz(this._delegate,e,t):Cz(this._delegate,e)}catch(i){throw Rr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Tz(this._delegate,e):Tz(this._delegate,e,t,...i)}catch(r){throw Rr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Cce(n){return zf(vt(n.firestore,gn),[new Ef(n._key,Pn.none())])}(this._delegate)}onSnapshot(...e){const t=Lz(e),i=Vz(e,r=>new N_(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Dz(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function bce(n){n=vt(n,xn);const e=vt(n.firestore,gn),t=Wn(e),i=new cl(e);return function Pae(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=fe(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ie(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=Nf(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Bf(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ja(e,i,n._key,r,new Wd(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function wce(n){n=vt(n,xn);const e=vt(n.firestore,gn);return Q3(Wn(e),n._key,{source:"server"}).then(t=>yk(e,n,t))}(this._delegate):function yce(n){n=vt(n,xn);const e=vt(n.firestore,gn);return Q3(Wn(e),n._key).then(t=>yk(e,n,t))}(this._delegate),t.then(i=>new N_(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Oo(this.firestore,this._delegate.withConverter(e?Zd.getInstance(this.firestore,e):null))}}function Rr(n,e,t){return n.message=n.message.replace(e,t),n}function Lz(n){for(const e of n)if("object"==typeof e&&!Ek(e))return e;return{}}function Vz(n,e){var t,i;let r;return r=Ek(n[0])?n[0]:Ek(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class N_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xz(this._delegate,e._delegate)}}class O_ extends N_{data(e){const t=this._delegate.data(e);return this._delegate._converter||function Lre(n,e){n||we()}(void 0!==t),t}}class Pr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new K0(e)}where(e,t,i){try{return new Pr(this.firestore,sl(this._delegate,function cce(n,e,t){const i=e,r=$0("where",n);return M_._create(r,i,t)}(e,t,i)))}catch(r){throw Rr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Pr(this.firestore,sl(this._delegate,function lce(n,e="asc"){const t=e,i=$0("orderBy",n);return _k._create(i,t)}(e,t)))}catch(i){throw Rr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Pr(this.firestore,sl(this._delegate,function dce(n){return iz("limit",n),H0._create("limit",n,"F")}(e)))}catch(t){throw Rr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Pr(this.firestore,sl(this._delegate,function uce(n){return iz("limitToLast",n),H0._create("limitToLast",n,"L")}(e)))}catch(t){throw Rr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Pr(this.firestore,sl(this._delegate,function hce(...n){return q0._create("startAt",n,!0)}(...e)))}catch(t){throw Rr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Pr(this.firestore,sl(this._delegate,function fce(...n){return q0._create("startAfter",n,!1)}(...e)))}catch(t){throw Rr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Pr(this.firestore,sl(this._delegate,function mce(...n){return G0._create("endBefore",n,!1)}(...e)))}catch(t){throw Rr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Pr(this.firestore,sl(this._delegate,function pce(...n){return G0._create("endAt",n,!0)}(...e)))}catch(t){throw Rr(t,"endAt()","Query.endAt()")}}isEqual(e){return dk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Ice(n){n=vt(n,Qi);const e=vt(n.firestore,gn),t=Wn(e),i=new cl(e);return function Nae(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield T0(o,s,!0),d=new V3(s,c.ls),h=d.ca(c.documents),p=d.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const d=Nf(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Bf(n),e,t);var i})),t.promise}(t,n._query).then(r=>new al(e,i,n,r))}(this._delegate):"server"===e?.source?function xce(n){n=vt(n,Qi);const e=vt(n.firestore,gn),t=Wn(e),i=new cl(e);return Y3(t,n._query,{source:"server"}).then(r=>new al(e,i,n,r))}(this._delegate):function Ece(n){n=vt(n,Qi);const e=vt(n.firestore,gn),t=Wn(e),i=new cl(e);return vz(n._query),Y3(t,n._query).then(r=>new al(e,i,n,r))}(this._delegate),t.then(i=>new Ik(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Lz(e),i=Vz(e,r=>new Ik(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Dz(this._delegate,t,i)}withConverter(e){return new Pr(this.firestore,this._delegate.withConverter(e?Zd.getInstance(this.firestore,e):null))}}class Qce{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new O_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ik{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Pr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new O_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Qce(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new O_(this._firestore,i))})}isEqual(e){return xz(this._delegate,e._delegate)}}class $f extends Pr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oo(this.firestore,e):null}doc(e){try{return new Oo(this.firestore,void 0===e?L0(this._delegate):L0(this._delegate,e))}catch(t){throw Rr(t,"doc()","CollectionReference.doc()")}}add(e){return function Tce(n,e){const t=vt(n.firestore,gn),i=L0(n),r=W0(n.converter,e);return zf(t,[U0(qd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Pn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Oo(this.firestore,t))}isEqual(e){return az(this._delegate,e._delegate)}withConverter(e){return new $f(this.firestore,this._delegate.withConverter(e?Zd.getInstance(this.firestore,e):null))}}function Kd(n){return vt(n,xn)}class xk{constructor(...e){this._delegate=new Ua(...e)}static documentId(){return new xk(En.keyField().canonicalString())}isEqual(e){return(e=(0,dn.m9)(e))instanceof Ua&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Uce(){return new hk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qd(e)}static delete(){const e=function Bce(){return new D_("deleteField")}();return e._methodName="FieldValue.delete",new Qd(e)}static arrayUnion(...e){const t=function jce(...n){return new ice("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Qd(t)}static arrayRemove(...e){const t=function zce(...n){return new rce("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Qd(t)}static increment(e){const t=function $ce(n){return new oce("increment",n)}(e);return t._methodName="FieldValue.increment",new Qd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Yce={Firestore:Nz,GeoPoint:V0,Timestamp:Rn,Blob:P_,Transaction:Oz,WriteBatch:Fz,DocumentReference:Oo,DocumentSnapshot:N_,Query:Pr,QueryDocumentSnapshot:O_,QuerySnapshot:Ik,CollectionReference:$f,FieldPath:xk,FieldValue:Qd,setLogLevel:function Kce(n){!function Fre(n){Hc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Bz(n,e){return function ele(n,e=Hh){return new yt(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Ck(n,e){return Bz(n,e).pipe(ye(t=>({payload:t,type:"query"})))}!function Jce(n){(function Xce(n,e){n.INTERNAL.registerComponent(new qB.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Yce)))})(n,(e,t)=>new Nz(e,t,new Zce)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Ma.Z);class Uz{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=Gz(i,t);return new $z(r,o,this.afs)}snapshotChanges(){return function tle(n,e){return Bz(n,e).pipe(pd(void 0),wD(),ye(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oo)}valueChanges(e={}){return this.snapshotChanges().pipe(ye(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return Wt(this.ref.get(e)).pipe(oo)}}function Q0(n,e){return Ck(n,e).pipe(pd(void 0),wD(),ye(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const d=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function jz(n,e,t){return Q0(n,t).pipe(Lb((i,r)=>function nle(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function ile(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Tk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Tk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Tk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Cl(),ye(i=>i.map(r=>({type:r.type,payload:r}))))}function Tk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function zz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $z{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Q0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ye(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(pd(void 0),wD(),ti(([i,r])=>r.length>0||!i),ye(([,i])=>i),oo)}auditTrail(e){return this.stateChanges(e).pipe(Lb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=zz(e);return jz(this.query,t,this.afs.schedulers.outsideAngular).pipe(oo)}valueChanges(e={}){return Ck(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),oo)}get(e){return Wt(this.query.get(e)).pipe(oo)}add(e){return this.ref.add(e)}doc(e){return new Uz(this.ref.doc(e),this.afs)}}class rle{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Q0(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.filter(i=>e.indexOf(i.type)>-1)),ti(t=>t.length>0),oo):Q0(this.query,this.afs.schedulers.outsideAngular).pipe(oo)}auditTrail(e){return this.stateChanges(e).pipe(Lb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=zz(e);return jz(this.query,t,this.afs.schedulers.outsideAngular).pipe(oo)}valueChanges(e={}){return Ck(this.query,this.afs.schedulers.outsideAngular).pipe(ye(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),oo)}get(e){return Wt(this.query.get(e)).pipe(oo)}}const Hz=new X("angularfire2.enableFirestorePersistence"),qz=new X("angularfire2.firestore.persistenceSettings"),ole=new X("angularfire2.firestore.settings"),sle=new X("angularfire2.firestore.use-emulator");function Gz(n,e=(t=>t)){return{query:e(n),ref:n}}let Y0=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,d,h,p,g,v,b,w,I,S,A){this.schedulers=c;const M=bD(t,a,i),Y=h;p&&HB(M,a,g,b,w,I,v,S),[this.firestore,this.persistenceEnabled$]=NB(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{const de=a.runOutsideAngular(()=>M.firestore());if(o&&de.settings(o),Y&&de.useEmulator(...Y),r&&!Sb(s)){const Ie=()=>{try{return Wt(de.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(We){return typeof console<"u"&&console.warn(We),xe(!1)}};return[de,a.runOutsideAngular(Ie)]}return[de,xe(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=Gz(r,i),a=this.schedulers.ngZone.run(()=>o);return new $z(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new rle(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Uz(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(j(xw),j(Cw,8),j(Hz,8),j(ole,8),j(is),j(je),j(RB),j(qz,8),j(sle,8),j(Xh,8),j(VB,8),j(BB,8),j(UB,8),j(jB,8),j(zB,8),j($B,8),j(kB,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ale=(()=>{class n{constructor(){Ma.Z.registerVersion("angularfire",Iw.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Hz,useValue:!0},{provide:qz,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Xt({type:n});static \u0275inj=$t({providers:[Y0]})}return n})(),Wz=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new T,this.loginFailed$=this.loginFailedSubject.asObservable()}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i){this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{if(r.user){r.user.emailVerified?(alert(r.user.displayName),this.router.navigate(["/home"])):alert("Please verify your email before logging in.")}else console.error("User is null"),alert("An error occurred during login. Please try again.")}).catch(r=>{console.error("Login error:",r),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("rememberedToken")}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){localStorage.getItem("rememberedToken")&&this.router.navigate(["/home"])}static#e=this.\u0275fac=function(i){return new(i||n)(j(Xh),j(zr),j(Y0))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cle(n,e){if(1&n){const t=cs();B(0,"div",4),pt(1,"img",5),B(2,"p",1),me(3),q(),B(4,"p",2),me(5),q(),pt(6,"hr"),B(7,"p",1),me(8),q(),pt(9,"img",6),B(10,"p",7),me(11),q(),B(12,"p",8),me(13),q(),pt(14,"br")(15,"br")(16,"hr"),B(17,"img",9),st("click",function(){const o=Vt(t).index;return At(Ge().toggleLike(o))}),q(),pt(18,"img",10)(19,"textarea",11,12),B(21,"img",13),st("click",function(){const o=Vt(t).index,s=ls(20);return Ge().postComment(o),At(s.value=" ")}),q()()}if(2&n){const t=e.$implicit;Ee(1),bh("src",t[6],mp),Ee(2),qi(t[0]),Ee(2),qi(t[1]),Ee(3),qi(t[4]),Ee(1),bh("src",t[5],mp),bh("alt",t[5]),Ee(2),nb("",t[2]," ",1==t[2]?"like":"likes",""),Ee(2),nb("",t[3]," ",1==t[3]?"comment":"comments",""),Ee(4),bh("src",1==t[7]?"assets/img/like_active.svg":"assets/img/like_inactive.svg",mp)}}let lle=(()=>{class n{constructor(){this.username="Silver",this.totalPosts=2,this.allPosts=[["Silver","11. Oktoober kell 19:46",128,95,"pange saun sooja, Silver tuleb rekordeid purustama","https://media.discordapp.net/attachments/1146094400666091524/1161706521235832994/IMG_2645.jpg","https://media.discordapp.net/attachments/1149290454819553420/1164864763105390592/b61f156cac360ab208b71ce5102ee9c5_400x400.png",!1],["Rasmus","11. Oktoober kell 21:25",84,52,"Uued keycapsid!","https://ptpimg.me/y8v9a5.png","https://ptpimg.me/8n699g.jpg",!0]]}toggleLike(t){!0===this.allPosts[t][7]?(this.allPosts[t][7]=!1,this.allPosts[t][2]-=1):(this.allPosts[t][7]=!0,this.allPosts[t][2]+=1)}postComment(t){this.allPosts[t][3]+=1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-post"]],decls:7,vars:3,consts:[["src",""],[1,"mainText"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],[1,"icons",2,"float","left",3,"src","click"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&(pt(0,"img",0),B(1,"h1",1),me(2),q(),B(3,"h3",2),me(4),q(),B(5,"ul"),Bt(6,cle,22,11,"div",3),q()),2&i&&(Ee(2),xa("Currently logged in as: ",r.username,""),Ee(2),xa("Total posts on the backend: ",r.totalPosts,""),Ee(2),Ke("ngForOf",r.allPosts))},dependencies:[GC],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),dle=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(R(yD),R(Wz))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-home"]],decls:5,vars:1,consts:[[1,"center-container"],[1,"center-element"],[3,"routerLink","click"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1)(2,"button",2),st("click",function(){return r.logout()}),me(3," PREMIUM Sign out Button!"),q(),pt(4,"app-post"),q()()),2&i&&(Ee(2),Ke("routerLink",""))},dependencies:[yd,lle],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();function ule(n,e){1&n&&(B(0,"p",18),me(1,"Check your email"),q())}function hle(n,e){1&n&&(B(0,"p",18),me(1,"Check your password"),q())}function fle(n,e){if(1&n){const t=cs();B(0,"div",8)(1,"div",9)(2,"h1"),me(3,"Log in"),q(),B(4,"input",10),st("ngModelChange",function(r){return Vt(t),At(Ge().email=r)})("keyup.enter",function(){return Vt(t),At(ls(9).focus())}),q(),Bt(5,ule,2,0,"p",11),B(6,"h1"),me(7,"Enter password"),q(),B(8,"input",12,13),st("ngModelChange",function(r){return Vt(t),At(Ge().password=r)})("keyup.enter",function(){return Vt(t),At(Ge().login())}),q(),Bt(10,hle,2,0,"p",11),B(11,"div",14)(12,"div")(13,"a",15),st("click",function(){return Vt(t),At(Ge().isPage="forgot")}),me(14,"Forgot password?"),q()(),B(15,"span",16),me(16,"Don't have an account? "),B(17,"a",15),st("click",function(){return Vt(t),At(Ge().isPage="register")}),me(18,"Sign up here"),q()()(),B(19,"button",17),st("click",function(){return Vt(t),At(Ge().login())}),B(20,"span"),me(21,"Sign in"),q(),pt(22,"i"),q()()()}if(2&n){const t=Ge();Ee(4),Ke("ngModel",t.email),Ee(1),Ke("ngIf",t.loginFailed),Ee(3),Ke("ngModel",t.password),Ee(2),Ke("ngIf",t.loginFailed)}}function mle(n,e){if(1&n){const t=cs();B(0,"div",8)(1,"div",9)(2,"h1"),me(3,"Register"),q(),B(4,"input",19),st("ngModelChange",function(r){return Vt(t),At(Ge().displayName=r)})("keyup.enter",function(){return Vt(t),At(ls(8).focus())}),q(),B(5,"h1"),me(6,"Email"),q(),B(7,"input",20,21),st("ngModelChange",function(r){return Vt(t),At(Ge().email=r)})("keyup.enter",function(){return Vt(t),At(ls(12).focus())}),q(),B(9,"h1"),me(10,"Enter password"),q(),B(11,"input",22,13),st("ngModelChange",function(r){return Vt(t),At(Ge().password=r)})("keyup.enter",function(){return Vt(t),At(Ge().register())}),q(),B(13,"div",14)(14,"div")(15,"a",15),st("click",function(){return Vt(t),At(Ge().isPage="forgot")}),me(16,"Forgot password?"),q()(),B(17,"span",16),me(18,"Have an account? "),B(19,"a",15),st("click",function(){return Vt(t),At(Ge().isPage="login")}),me(20,"Sign in here"),q()()(),B(21,"button",23),st("click",function(){return Vt(t),At(Ge().register())}),B(22,"span"),me(23,"Sign up"),q(),pt(24,"i"),q()()()}if(2&n){const t=Ge();Ee(4),Ke("ngModel",t.displayName),Ee(3),Ke("ngModel",t.email),Ee(4),Ke("ngModel",t.password)}}function ple(n,e){if(1&n){const t=cs();B(0,"div",8)(1,"div",9)(2,"h1"),me(3,"Enter email"),q(),B(4,"input",24,13),st("ngModelChange",function(r){return Vt(t),At(Ge().email=r)})("keyup.enter",function(){return Vt(t),At(Ge().register())}),q(),B(6,"div",14)(7,"span",16),me(8,"Oops still remember? "),B(9,"a",15),st("click",function(){return Vt(t),At(Ge().isPage="login")}),me(10,"Sign in here"),q()()(),B(11,"button",25),st("click",function(){return Vt(t),At(Ge().forgot())}),B(12,"span"),me(13,"Send verification"),q(),pt(14,"i"),q()()()}if(2&n){const t=Ge();Ee(4),Ke("ngModel",t.email)}}let gle=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(R(Wz),R(zr),R(yD))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"container"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(B(0,"html")(1,"head"),pt(2,"meta",0),q(),B(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),me(8,"Earn2Post"),q()(),B(9,"div",5),pt(10,"img",6),q()(),Bt(11,fle,23,4,"div",7)(12,mle,25,3,"div",7)(13,ple,15,1,"div",7),q()()()),2&i&&(Ee(11),Ke("ngIf","login"===r.isPage),Ee(1),Ke("ngIf","register"===r.isPage),Ee(1),Ke("ngIf","forgot"===r.isPage))},dependencies:[Oc,Yb,J2,JT],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.926dafe5cf3fb7c6.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}']})}return n})(),_le=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(B(0,"h1"),me(1,"You're logged in as an admin"),q(),B(2,"button",0),me(3," Sign out"),q()),2&i&&(Ee(2),Ke("routerLink",""))},dependencies:[yd]})}return n})();let Dk=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.debuxValue=0,this.saveInterval=6e4,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}addDebux(t){this.debuxValue=t}startAutosave(){cD(0,this.saveInterval).pipe(Zt(()=>this.autosave()),function yle(n,e=Hh,t){const i=cD(n,e);return function vle(n,e){return ce((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,d=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),d&&i.complete())},p=()=>{c=null,d&&i.complete()},g=b=>c=De(n(b)).subscribe(ve(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!d&&g(b)}};t.subscribe(ve(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{d=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){return this.user&&this.debuxValue>0?Wt(this.db.doc(`User/${this.user.uid}`).update({Debux:this.debuxValue})).pipe(ye(()=>{this.debuxValue=0})):xe(void 0)}getDebux(){return this.authState$.pipe(Zt(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(ye(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),xe(void 0))))}static#e=this.\u0275fac=function(i){return new(i||n)(j(Y0),j(Xh))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ble(n,e){if(1&n&&(B(0,"p",21),me(1),q()),2&n){const t=Ge();Ee(1),xa("DeBux: ",t.debux,"")}}function wle(n,e){1&n&&(B(0,"p",22),me(1,"Loading Debuxes"),q())}function Ele(n,e){if(1&n&&(B(0,"div",23)(1,"p"),me(2," Logged in as: "),B(3,"span",24),me(4),q()()()),2&n){const t=Ge();Ee(4),qi(t.service.user.displayName)}}function Ile(n,e){if(1&n){const t=cs();B(0,"div",26),st("click",function(){Vt(t);const r=Ge().$implicit;return At(Ge().buyUpgrade(r))}),B(1,"div",27)(2,"p"),me(3),q(),B(4,"h4"),me(5),q(),B(6,"div",28)(7,"h4"),me(8),q()()(),B(9,"div",29)(10,"h4"),me(11),q()()()}if(2&n){const t=Ge().$implicit;Xn("box-disabled",!t.affordable),Ee(3),qi(t.name),Ee(2),qi(t.description),Ee(3),xa("Cost: ",t.cost,"DB"),Ee(3),qi(t.purchased)}}function xle(n,e){if(1&n&&(gh(0),Bt(1,Ile,12,6,"div",25),_h()),2&n){const t=e.index;Ee(1),Ke("ngIf",t<6)}}function Cle(n,e){if(1&n){const t=cs();B(0,"div",26),st("click",function(){Vt(t);const r=Ge().$implicit;return At(Ge().buyUpgrade(r))}),B(1,"div",27)(2,"p"),me(3),q(),B(4,"h4"),me(5),q(),B(6,"div",28)(7,"h4"),me(8),q()()(),B(9,"div",29)(10,"h4"),me(11),q()()()}if(2&n){const t=Ge().$implicit;Xn("box-disabled",!t.affordable),Ee(3),qi(t.name),Ee(2),qi(t.description),Ee(3),xa("Cost: ",t.cost,"DB"),Ee(3),qi(t.purchased)}}function Tle(n,e){if(1&n&&(gh(0),Bt(1,Cle,12,6,"div",25),_h()),2&n){const t=e.index;Ee(1),Ke("ngIf",6<=t&&t<11)}}function Dle(n,e){if(1&n){const t=cs();B(0,"div",26),st("click",function(){Vt(t);const r=Ge().$implicit;return At(Ge().buyUpgrade(r))}),B(1,"div",27)(2,"p"),me(3),q(),B(4,"h4"),me(5),q(),B(6,"div",28)(7,"h4"),me(8),q()()(),B(9,"div",29)(10,"h4"),me(11),q()()()}if(2&n){const t=Ge().$implicit;Xn("box-disabled",!t.affordable),Ee(3),qi(t.name),Ee(2),qi(t.description),Ee(3),xa("Cost: ",t.cost,"DB"),Ee(3),qi(t.purchased)}}function Ale(n,e){if(1&n&&(gh(0),Bt(1,Dle,12,6,"div",25),_h()),2&n){const t=e.index;Ee(1),Ke("ngIf",11<=t)}}let Sle=(()=>{class n{constructor(t){this.service=t,this.upgrades=[{name:"Multithreading",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase processing power by utilizing multiple threads."},{name:"Optimization Algorithms",cost:100,debuxPerSec:1,affordable:!1,purchased:0,description:"Enhance efficiency through advanced code optimization techniques."},{name:"Parallel Processing",cost:1e3,debuxPerSec:1,affordable:!1,purchased:0,description:"Enable simultaneous execution for faster processing."},{name:"Overclocking",cost:1e4,debuxPerSec:1,affordable:!1,purchased:0,description:"Push the CPU to run faster, boosting processing power."},{name:"Hardware Upgrades",cost:1e5,debuxPerSec:1,affordable:!1,purchased:0,description:"Install better processors or RAM to increase overall performance."},{name:"Cooling Systems",cost:1e6,debuxPerSec:1,affordable:!1,purchased:0,description:"Optimize cooling mechanisms to sustain higher processing speeds."},{name:"Syntax Highlighting",cost:1,debuxPerSec:1,affordable:!1,purchased:0,description:"Boost click effectiveness with highlighted code segments."},{name:"Code Formatting",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Improve the appearance of code to enhance click impact."},{name:"Auto-Completion",cost:100,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase code suggestion accuracy to amplify your clicks."},{name:"GUI Enhancements",cost:1e3,debuxPerSec:1,affordable:!1,purchased:0,description:"Upgrade the interface for a more responsive and impactful clicking experience."},{name:"Mouse Acceleration",cost:1e4,debuxPerSec:1,affordable:!1,purchased:0,description:"Improve click effectiveness by enhancing mouse sensitivity."},{name:"ChatGPT Evolution",cost:1e3,debuxPerSec:1,affordable:!1,purchased:0,description:"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."},{name:"Automated Testing",cost:1e4,debuxPerSec:1,affordable:!1,purchased:0,description:"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."},{name:"Code Refactoring AI",cost:1e5,debuxPerSec:1,affordable:!1,purchased:0,description:"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."},{name:"Codebase Analysis",cost:1e6,debuxPerSec:1,affordable:!1,purchased:0,description:"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."},{name:"Tabnine",cost:1e7,debuxPerSec:1,affordable:!1,purchased:0,description:"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."}],this.debux=0,this.loading=!1}ngOnInit(){this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().subscribe(i=>{this.debux=i||0,this.updateAffordability(),this.loading=!1}))})}addDebux(){this.debux=this.debux+1,this.updateAffordability(),this.service.addDebux(this.debux)}updateAffordability(){this.upgrades.forEach(t=>{t.affordable=t.cost<=this.debux})}buyUpgrade(t){t.affordable&&this.debux-t.cost<t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,t.affordable=!1,this.service.addDebux(this.debux)):t.affordable&&this.debux-t.cost>=t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.addDebux(this.debux)):console.log("Not enough DeBux for this upgrade."),this.updateAffordability()}static#e=this.\u0275fac=function(i){return new(i||n)(R(Dk))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-clicker"]],decls:42,vars:6,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[4,"ngFor","ngForOf"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"],["class","box",3,"box-disabled","click",4,"ngIf"],[1,"box",3,"click"],[1,"box-text"],[1,"cost"],[1,"bought"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1),Bt(2,ble,2,1,"p",2)(3,wle,2,0,"p",3),q(),B(4,"div",4)(5,"button",5),st("click",function(){return r.addDebux()}),q()(),Bt(6,Ele,5,1,"div",6),q(),B(7,"div",7)(8,"div",8)(9,"H1"),me(10,"Upgrades"),q()(),B(11,"div",9)(12,"div",10)(13,"div",11),pt(14,"img",12),B(15,"div")(16,"p"),me(17,"Processing Power"),q(),B(18,"h4"),me(19,"Per/Sec"),q()()(),B(20,"div",13),Bt(21,xle,2,1,"ng-container",14),q()(),B(22,"div",15)(23,"div",16),pt(24,"img",17),B(25,"div")(26,"p"),me(27,"Click Impact"),q(),B(28,"h4"),me(29,"Per/Click"),q()()(),B(30,"div",18),Bt(31,Tle,2,1,"ng-container",14),q()(),B(32,"div",19)(33,"div",11),pt(34,"img",20),B(35,"div")(36,"p"),me(37,"Advanced Algorithms"),q(),B(38,"h4"),me(39,"Specials"),q()()(),B(40,"div",13),Bt(41,Ale,2,1,"ng-container",14),q()()()()),2&i&&(Ee(2),Ke("ngIf",!r.loading),Ee(1),Ke("ngIf",r.loading),Ee(3),Ke("ngIf",r.service.user),Ee(15),Ke("ngForOf",r.upgrades),Ee(10),Ke("ngForOf",r.upgrades),Ee(10),Ke("ngForOf",r.upgrades))},dependencies:[GC,Oc],styles:[".top[_ngcontent-%COMP%]{margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.loading-text[_ngcontent-%COMP%]{color:#b7514c}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:600px;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:20px;margin-top:30px;cursor:pointer;-webkit-user-select:none;user-select:none}.box[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-disabled[_ngcontent-%COMP%]{filter:blur(4px)}.box-disabled[_ngcontent-%COMP%]:hover{cursor:auto;box-shadow:none}.box-disabled[_ngcontent-%COMP%]:active{transform:none}.box-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-top-left-radius:20px;border-bottom-left-radius:20px;width:480px;padding-left:20px}.box-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.cost[_ngcontent-%COMP%]{text-align:center}.cost[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:lighter}.bought[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background:#6A5988;border-top-right-radius:20px;border-bottom-right-radius:20px;width:70px}.bought[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;margin:0;font-size:25px}"]})}return n})();function kle(n,e){1&n&&(B(0,"h3"),me(1,"<"),B(2,"span",9),me(3,"Loading"),q(),me(4,"> DB"),q())}function Mle(n,e){if(1&n&&(B(0,"h3"),me(1,"<"),B(2,"span",10),me(3),q(),me(4,"> DB"),q()),2&n){const t=Ge();Ee(3),qi(t.debux)}}let Rle=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Dk))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1),pt(2,"img",2),B(3,"h2"),me(4,"Your credit"),q()(),B(5,"div",3)(6,"p"),me(7,"Current"),q(),B(8,"div",4),Bt(9,kle,5,0,"h3",5)(10,Mle,5,1,"h3",5),q()(),B(11,"div",3)(12,"p"),me(13,"Per second:"),q(),B(14,"div",6)(15,"h3"),me(16,"+40 DB/s"),q()()(),B(17,"div",7),pt(18,"img",8),q()()),2&i&&(Ee(9),Ke("ngIf",r.loading),Ee(1),Ke("ngIf",!r.loading))},dependencies:[Oc],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})();const Ple=[{path:"",component:gle},{path:"home",component:dle},{path:"admin",component:_le},{path:"clicker",component:Sle},{path:"profile",component:(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Y0),R(Xh))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(B(0,"html")(1,"head"),pt(2,"meta",0),q(),B(3,"body")(4,"div",1)(5,"div",2),pt(6,"app-credit-box"),B(7,"a",3),pt(8,"img",4),q()(),B(9,"div",5)(10,"div",6)(11,"div",7),pt(12,"img",8),q(),B(13,"div",9)(14,"h2"),me(15),q(),B(16,"p",10),me(17,"50 Followers"),q(),B(18,"div",11)(19,"p"),me(20,"30 Following"),q(),B(21,"p"),me(22,"13 Friends"),q()()(),B(23,"div",12),pt(24,"img",13),q()(),B(25,"div",14),pt(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),q()(),B(34,"div",23)(35,"h2"),me(36,"Here is friends list"),q(),B(37,"div",24),pt(38,"img",25),B(39,"h2"),me(40,"Add friends"),q()()()()()()),2&i&&(Ee(15),qi(null==r.user?null:r.user.displayName))},dependencies:[yd,Rle],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})()}];let Nle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[C2.forRoot(Ple),C2]})}return n})(),Ole=(()=>{class n{constructor(t){this.router=t,this.visible=!1,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(R(zr))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(B(0,"app-header"),pt(1,"router-outlet"),q())},dependencies:[ST,yD],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"],changeDetection:0})}return n})();function Zz(n){return new V(3e3,!1)}function dl(n){switch(n.length){case 0:return new Ig;case 1:return n[0];default:return new fB(n)}}function Kz(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const d=c.get("offset"),h=d==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case ka:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=d}),r.length)throw function rde(n){return new V(3502,!1)}();return o}function Ak(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Sk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Sk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Sk(t,"destroy",n)))}}function Sk(n,e,t){const o=kk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function kk(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function lo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Qz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const gde=(()=>typeof document>"u"?null:document.documentElement)();function Mk(n){const e=n.parentNode||n.host||null;return e===gde?null:e}let Yd=null,Yz=!1;function Xz(n,e){for(;e;){if(e===n)return!0;e=Mk(e)}return!1}function Jz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Rk=(()=>{class n{validateStyleProperty(t){return function vde(n){Yd||(Yd=function yde(){return typeof document<"u"?document.body:null}()||{},Yz=!!Yd.style&&"WebkitAppearance"in Yd.style);let e=!0;return Yd.style&&!function _de(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yd.style,!e&&Yz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yd.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Xz(t,i)}getParentElement(t){return Mk(t)}query(t,i,r){return Jz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Ig(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),Pk=(()=>{class n{static#e=this.NOOP=new Rk}return n})();class Nk{}const wde=1e3,Ok="ng-enter",X0="ng-leave",J0="ng-trigger",eE=".ng-trigger",t$="ng-animating",Fk=".ng-animating";function za(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Lk(parseFloat(e[1]),e[2])}function Lk(n,e){return"s"===e?n*wde:n}function tE(n,e,t){return n.hasOwnProperty("duration")?n:function Ide(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Zz()),{duration:0,delay:0,easing:""};r=Lk(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Lk(parseFloat(c),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Fle(){return new V(3100,!1)}()),a=!0),o<0&&(e.push(function Lle(){return new V(3101,!1)}()),a=!0),a&&e.splice(c,0,Zz())}return{duration:r,delay:o,easing:s}}(n,e,t)}function F_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function n$(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ul(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Js(n,e,t){e.forEach((i,r)=>{const o=Bk(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Xd(n,e){e.forEach((t,i)=>{const r=Bk(i);n.style[r]=""})}function L_(n){return Array.isArray(n)?1==n.length?n[0]:function ene(n,e=null){return{type:2,steps:n,options:e}}(n):n}const Vk=new RegExp("{{\\s*(.+?)\\s*}}","g");function r$(n){let e=[];if("string"==typeof n){let t;for(;t=Vk.exec(n);)e.push(t[1]);Vk.lastIndex=0}return e}function V_(n,e,t){const i=n.toString(),r=i.replace(Vk,(o,s)=>{let a=e[s];return null==a&&(t.push(function Ble(n){return new V(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function nE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Tde=/-+([a-z0-9])/g;function Bk(n){return n.replace(Tde,(...e)=>e[1].toUpperCase())}function uo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ule(n){return new V(3004,!1)}()}}function o$(n,e){return window.getComputedStyle(n)[e]}const Sde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class s$ extends Nk{normalizePropertyName(e,t){return Bk(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Sde.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function jle(n,e){return new V(3005,!1)}())}return s+o}}const iE="*";function kde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Mde(n,e,t){if(":"==n[0]){const c=function Rde(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function ede(n){return new V(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Jle(n){return new V(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(a$(r,s));"<"==o[0]&&!(r==iE&&s==iE)&&e.push(a$(s,r))}(i,t,e)):t.push(n),t}const rE=new Set(["true","1"]),oE=new Set(["false","0"]);function a$(n,e){const t=rE.has(n)||oE.has(n),i=rE.has(e)||oE.has(e);return(r,o)=>{let s=n==iE||n==r,a=e==iE||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?rE.has(n):oE.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?rE.has(e):oE.has(e)),s&&a}}const Pde=new RegExp("s*:selfs*,?","g");function Uk(n,e,t,i){return new Nde(n).build(e,t,i)}class Nde{constructor(e){this._driver=e}build(e,t,i){const r=new Lde(t);return this._resetContextStyleTimingState(r),uo(this,L_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function zle(){return new V(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function $le(){return new V(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{r$(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(nE(o.values()),t.errors.push(function Hle(n,e){return new V(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=uo(this,L_(e.animation),t);return{type:1,matchers:kde(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Jd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>uo(this,i,t)),options:Jd(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=uo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Jd(e.options)}}visitAnimate(e,t){const i=function Bde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jk(tE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=jk(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=tE(t,e);return jk(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:bw({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=bw(d)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===ka?i.push(a):t.errors.push(new V(3002,!1)):i.push(n$(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function Gle(n,e,t,i,r){return new V(3010,!1)}()),p=!1),o=h.startTime),p&&d.set(c,{startTime:o,endTime:r}),t.options&&function Cde(n,e,t){const i=e.params||{},r=r$(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Vle(n){return new V(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Wle(){return new V(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,d=0;const h=e.steps.map(S=>{const A=this._makeStyleAst(S,t);let M=null!=A.offset?A.offset:function Vde(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(A.styles),Y=0;return null!=M&&(o++,Y=A.offset=M),c=c||Y<0||Y>1,a=a||Y<d,d=Y,s.push(Y),A});c&&t.errors.push(function Zle(){return new V(3012,!1)}()),a&&t.errors.push(function Kle(){return new V(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function Qle(){return new V(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,I=w.duration;return h.forEach((S,A)=>{const M=g>0?A==v?1:g*A:s[A],Y=M*I;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(S,t),S.offset=M,i.styles.push(S)}),i}visitReference(e,t){return{type:8,animation:uo(this,L_(e.animation),t),options:Jd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Jd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Jd(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Ode(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Pde,"")),n=n.replace(/@\*/g,eE).replace(/@\w+/g,t=>eE+"-"+t.slice(1)).replace(/:animating/g,Fk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,lo(t.collectedStyles,t.currentQuerySelector,new Map);const a=uo(this,L_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Jd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Yle(){return new V(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:tE(e.timings,t.errors,!0);return{type:12,animation:uo(this,L_(e.animation),t),timings:i,options:null}}}class Lde{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jd(n){return n?(n=F_(n)).params&&(n.params=function Fde(n){return n?F_(n):null}(n.params)):n={},n}function jk(n,e,t){return{duration:n,delay:e,easing:t}}function zk(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class sE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zde=new RegExp(":enter","g"),Hde=new RegExp(":leave","g");function $k(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return(new qde).buildKeyframes(n,e,t,i,r,o,s,a,c,d)}class qde{buildKeyframes(e,t,i,r,o,s,a,c,d,h=[]){d=d||new sE;const p=new Hk(e,t,d,r,o,h,[]);p.options=c;const g=c.delay?za(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),uo(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const I=v[w];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[zk(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:za(V_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?za(i.duration):null,a=null!=i.delay?za(i.delay):null;return 0!==s&&e.forEach(c=>{const d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),uo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=aE);const s=za(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>uo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?za(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),uo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return tE(t.params?V_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?za(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=aE);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,d);o&&p.delayNextStep(o),d===t.element&&(c=p.currentTimeline),uo(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;uo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const aE={};class Hk{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new cE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=za(i.duration)),null!=i.delay&&(r.delay=za(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=V_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Hk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=aE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Gde(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(zde,"."+this._enterClassName)).replace(Hde,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function Xle(n){return new V(3014,!1)}()),a}}class cE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ka),this._currentKeyframe.set(t,ka);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Wde(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ka)}else ul(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const d=V_(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ka),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=ul(a,new Map,this._backFill);d.forEach((h,p)=>{"!"===h?e.add(p):h===ka&&t.add(p)}),i||d.set("offset",c/this.duration),r.push(d)});const o=e.size?nE(e.values()):[],s=t.size?nE(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return zk(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Gde extends cE{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=ul(e[0]);c.set("offset",0),o.push(c);const d=ul(e[0]);d.set("offset",d$(a)),o.push(d);const h=e.length-1;for(let p=1;p<=h;p++){let g=ul(e[p]);const v=g.get("offset");g.set("offset",d$((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return zk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function d$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function u$(n,e,t,i,r,o,s,a,c,d,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:h,totalTime:p,errors:g}}const qk={};class h${constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Zde(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,h){const p=[],g=this.ast.options&&this.ast.options.params||qk,b=this.buildStyles(i,a&&a.params||qk,p),w=c&&c.params||qk,I=this.buildStyles(r,w,p),S=new Set,A=new Map,M=new Map,Y="void"===r,de={params:Kde(w,g),delay:this.ast.options?.delay},Ie=h?[]:$k(e,t,this.ast.animation,o,s,b,I,de,d,p);let We=0;if(Ie.forEach(ho=>{We=Math.max(ho.duration+ho.delay,We)}),p.length)return u$(t,this._triggerName,i,r,Y,b,I,[],[],A,M,We,p);Ie.forEach(ho=>{const Wr=ho.element,X$=lo(A,Wr,new Set);ho.preStyleProps.forEach(iu=>X$.add(iu));const H_=lo(M,Wr,new Set);ho.postStyleProps.forEach(iu=>H_.add(iu)),Wr!==t&&S.add(Wr)});const un=nE(S.values());return u$(t,this._triggerName,i,r,Y,b,I,Ie,un,A,M,We)}}function Kde(n,e){const t=F_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Qde{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=F_(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=V_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class Xde{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Qde(r.style,r.options&&r.options.params||{},i))}),f$(this.states,"true","1"),f$(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new h$(e,r,this.states))}),this.fallbackTransition=function Jde(n,e,t){return new h$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function f$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const eue=new sE;class tue{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Uk(this._driver,t,i,[]);if(i.length)throw function ode(n){return new V(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=Kz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=$k(this._driver,t,o,Ok,X0,new Map,new Map,i,eue,r),s.forEach(h=>{const p=lo(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function sde(){return new V(3300,!1)}()),s=[]),r.length)throw function ade(n){return new V(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,ka))})});const d=dl(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function cde(n){return new V(3301,!1)}();return t}listen(e,t,i,r){const o=kk(t,"","","");return Ak(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const m$="ng-animate-queued",Gk="ng-animate-disabled",sue=[],p$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_s="__ng_removed";class Wk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function uue(n){return n??null}(i?e.value:e),i){const o=F_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const B_="void",Zk=new Wk(B_);class cue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function lde(n,e){return new V(3302,!1)}();if(null==i||0==i.length)throw function dde(n){return new V(3303,!1)}();if(!function hue(n){return"start"==n||"done"==n}(i))throw function ude(n,e){return new V(3400,!1)}();const o=lo(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=lo(this._engine.statesByElement,e,new Map);return a.has(t)||(Fo(e,J0),Fo(e,J0+"-"+t),a.set(t,Zk)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function hde(n){return new V(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new Kk(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Fo(e,J0),Fo(e,J0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const d=new Wk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=Zk),d.value!==B_&&c.value===d.value){if(!function pue(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,d.params)){const w=[],I=o.matchStyles(c.value,c.params,w),S=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Xd(e,I),Js(e,S)})}return}const g=lo(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,d.value,e,d.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:d,player:s,isFallbackTransition:b}),b||(Fo(e,m$),s.onStart(()=>{Hf(e,m$)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const I=this._engine.playersByElement.get(e);if(I){let S=I.indexOf(s);S>=0&&I.splice(S,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,eE,!0);i.forEach(r=>{if(r[_s])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){const h=this.trigger(e,d,B_,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&dl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,d=i.get(s)||Zk,h=new Wk(B_),p=new Kk(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[_s];(!o||o===p$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Fo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=kk(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Ak(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class lue{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new cue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(lE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!lE(t))return;const o=t[_s];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fo(e,Gk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hf(e,Gk))}removeNode(e,t,i){if(lE(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[_s]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return lE(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,eE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Fk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return dl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[_s];if(t&&t.setForRemoval){if(e[_s]=p$,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Gk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?dl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function fde(n){return new V(3402,!1)}()}_flushAnimations(e,t){const i=new sE,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(Se=>{h.add(Se);const Ve=this.driver.query(Se,".ng-animate-queued",!0);for(let qe=0;qe<Ve.length;qe++)h.add(Ve[qe])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=v$(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((Se,Ve)=>{const qe=Ok+w++;b.set(Ve,qe),Se.forEach(kt=>Fo(kt,qe))});const I=[],S=new Set,A=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){const Ve=this.collectedLeaveElements[Se],qe=Ve[_s];qe&&qe.setForRemoval&&(I.push(Ve),S.add(Ve),qe.hasAnimation?this.driver.query(Ve,".ng-star-inserted",!0).forEach(kt=>S.add(kt)):A.add(Ve))}const M=new Map,Y=v$(g,Array.from(S));Y.forEach((Se,Ve)=>{const qe=X0+w++;M.set(Ve,qe),Se.forEach(kt=>Fo(kt,qe))}),e.push(()=>{v.forEach((Se,Ve)=>{const qe=b.get(Ve);Se.forEach(kt=>Hf(kt,qe))}),Y.forEach((Se,Ve)=>{const qe=M.get(Ve);Se.forEach(kt=>Hf(kt,qe))}),I.forEach(Se=>{this.processLeaveNode(Se)})});const de=[],Ie=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(t).forEach(qe=>{const kt=qe.player,Fi=qe.element;if(de.push(kt),this.collectedEnterElements.length){const dr=Fi[_s];if(dr&&dr.setForMove){if(dr.previousTriggersValues&&dr.previousTriggersValues.has(qe.triggerName)){const ru=dr.previousTriggersValues.get(qe.triggerName),Vo=this.statesByElement.get(qe.element);if(Vo&&Vo.has(qe.triggerName)){const vE=Vo.get(qe.triggerName);vE.value=ru,Vo.set(qe.triggerName,vE)}}return void kt.destroy()}}const ea=!p||!this.driver.containsElement(p,Fi),fo=M.get(Fi),pl=b.get(Fi),Vn=this._buildInstruction(qe,i,pl,fo,ea);if(Vn.errors&&Vn.errors.length)return void Ie.push(Vn);if(ea)return kt.onStart(()=>Xd(Fi,Vn.fromStyles)),kt.onDestroy(()=>Js(Fi,Vn.toStyles)),void r.push(kt);if(qe.isFallbackTransition)return kt.onStart(()=>Xd(Fi,Vn.fromStyles)),kt.onDestroy(()=>Js(Fi,Vn.toStyles)),void r.push(kt);const tH=[];Vn.timelines.forEach(dr=>{dr.stretchStartingKeyframe=!0,this.disabledNodes.has(dr.element)||tH.push(dr)}),Vn.timelines=tH,i.append(Fi,Vn.timelines),s.push({instruction:Vn,player:kt,element:Fi}),Vn.queriedElements.forEach(dr=>lo(a,dr,[]).push(kt)),Vn.preStyleProps.forEach((dr,ru)=>{if(dr.size){let Vo=c.get(ru);Vo||c.set(ru,Vo=new Set),dr.forEach((vE,oM)=>Vo.add(oM))}}),Vn.postStyleProps.forEach((dr,ru)=>{let Vo=d.get(ru);Vo||d.set(ru,Vo=new Set),dr.forEach((vE,oM)=>Vo.add(oM))})});if(Ie.length){const Se=[];Ie.forEach(Ve=>{Se.push(function mde(n,e){return new V(3505,!1)}())}),de.forEach(Ve=>Ve.destroy()),this.reportError(Se)}const We=new Map,un=new Map;s.forEach(Se=>{const Ve=Se.element;i.has(Ve)&&(un.set(Ve,Ve),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,We))}),r.forEach(Se=>{const Ve=Se.element;this._getPreviousPlayers(Ve,!1,Se.namespaceId,Se.triggerName,null).forEach(kt=>{lo(We,Ve,[]).push(kt),kt.destroy()})});const ho=I.filter(Se=>b$(Se,c,d)),Wr=new Map;_$(Wr,this.driver,A,d,ka).forEach(Se=>{b$(Se,c,d)&&ho.push(Se)});const H_=new Map;v.forEach((Se,Ve)=>{_$(H_,this.driver,new Set(Se),c,"!")}),ho.forEach(Se=>{const Ve=Wr.get(Se),qe=H_.get(Se);Wr.set(Se,new Map([...Ve?.entries()??[],...qe?.entries()??[]]))});const iu=[],J$=[],eH={};s.forEach(Se=>{const{element:Ve,player:qe,instruction:kt}=Se;if(i.has(Ve)){if(h.has(Ve))return qe.onDestroy(()=>Js(Ve,kt.toStyles)),qe.disabled=!0,qe.overrideTotalTime(kt.totalTime),void r.push(qe);let Fi=eH;if(un.size>1){let fo=Ve;const pl=[];for(;fo=fo.parentNode;){const Vn=un.get(fo);if(Vn){Fi=Vn;break}pl.push(fo)}pl.forEach(Vn=>un.set(Vn,Fi))}const ea=this._buildAnimation(qe.namespaceId,kt,We,o,H_,Wr);if(qe.setRealPlayer(ea),Fi===eH)iu.push(qe);else{const fo=this.playersByElement.get(Fi);fo&&fo.length&&(qe.parentPlayer=dl(fo)),r.push(qe)}}else Xd(Ve,kt.fromStyles),qe.onDestroy(()=>Js(Ve,kt.toStyles)),J$.push(qe),h.has(Ve)&&r.push(qe)}),J$.forEach(Se=>{const Ve=o.get(Se.element);if(Ve&&Ve.length){const qe=dl(Ve);Se.setRealPlayer(qe)}}),r.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<I.length;Se++){const Ve=I[Se],qe=Ve[_s];if(Hf(Ve,X0),qe&&qe.hasAnimation)continue;let kt=[];if(a.size){let ea=a.get(Ve);ea&&ea.length&&kt.push(...ea);let fo=this.driver.query(Ve,Fk,!0);for(let pl=0;pl<fo.length;pl++){let Vn=a.get(fo[pl]);Vn&&Vn.length&&kt.push(...Vn)}}const Fi=kt.filter(ea=>!ea.destroyed);Fi.length?fue(this,Ve,Fi):this.processLeaveNode(Ve)}return I.length=0,iu.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();const Ve=this.players.indexOf(Se);this.players.splice(Ve,1)}),Se.play()}),iu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==B_;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const d=c.element,h=d!==o,p=lo(i,d,[]);this._getPreviousPlayers(d,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}Xd(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,d=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const I=w[_s];if(I&&I.removedBeforeQueried)return new Ig(b.duration,b.delay);const S=w!==c,A=function mue(n){const e=[];return y$(n,e),e}((i.get(w)||sue).map(We=>We.getRealPlayer())).filter(We=>!!We.element&&We.element===w),M=o.get(w),Y=s.get(w),de=Kz(this._normalizer,b.keyframes,M,Y),Ie=this._buildPlayer(b,de,A);if(b.subTimeline&&r&&p.add(w),S){const We=new Kk(e,a,w);We.setRealPlayer(Ie),d.push(We)}return Ie});d.forEach(b=>{lo(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function due(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Fo(b,t$));const v=dl(g);return v.onDestroy(()=>{h.forEach(b=>Hf(b,t$)),Js(c,t.toStyles)}),p.forEach(b=>{lo(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ig(e.duration,e.delay)}}class Kk{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ig,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Ak(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){lo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function lE(n){return n&&1===n.nodeType}function g$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _$(n,e,t,i,r){const o=[];t.forEach(c=>o.push(g$(c)));const s=[];i.forEach((c,d)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(d,p,r);h.set(p,g),(!g||0==g.length)&&(d[_s]=aue,s.push(d))}),n.set(d,h)});let a=0;return t.forEach(c=>g$(c,o[a++])),s}function v$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const d=a.parentNode;return c=t.has(d)?d:r.has(d)?1:s(d),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Fo(n,e){n.classList?.add(e)}function Hf(n,e){n.classList?.remove(e)}function fue(n,e,t){dl(t).onDone(()=>n.processLeaveNode(e))}function y$(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof fB?y$(i.players,e):e.push(i)}}function b$(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class U_{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new lue(e.body,t,i),this._timelineEngine=new tue(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=Uk(this._driver,o,c,[]);if(c.length)throw function ide(n,e){return new V(3404,!1)}();a=function Yde(n,e,t){return new Xde(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=Qz(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Qz(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let _ue=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Js(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Js(this._element,this._initialStyles),this._endStyles&&(Js(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xd(this._element,this._endStyles),this._endStyles=null),Js(this._element,this._initialStyles),this._state=3)}}return n})();function Qk(n){let e=null;return n.forEach((t,i)=>{(function vue(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class w${constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:o$(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class E${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Xz(e,t)}getParentElement(e){return Mk(e)}query(e,t,i){return Jz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d=new Map,h=s.filter(v=>v instanceof w$);(function Dde(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=function xde(n){return n.length?n[0]instanceof Map?n:n.map(e=>n$(e)):[]}(t).map(v=>ul(v));p=function Ade(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,o$(n,a)))}}return e}(e,p,d);const g=function gue(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Qk(e[0]),e.length>1&&(i=Qk(e[e.length-1]))):e instanceof Map&&(t=Qk(e)),t||i?new _ue(n,t,i):null}(e,p);return new w$(e,p,c,g)}}const I$="@.disabled";class x${constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==I$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class yue extends x${constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==I$?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function bue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function wue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Eue{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const d=this._rendererCache;let h=d.get(r);return h||(h=new x$("",r,this.engine,()=>d.delete(r)),d.set(r,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new yue(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Iue=(()=>{class n extends U_{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt),j(Pk),j(Nk),j(hd))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const C$=[{provide:Nk,useFactory:function xue(){return new s$}},{provide:U_,useClass:Iue},{provide:ix,useFactory:function Cue(n,e,t){return new Eue(n,e,t)},deps:[oT,U_,je]}],Yk=[{provide:Pk,useFactory:()=>new E$},{provide:Hu,useValue:"BrowserAnimations"},...C$],T$=[{provide:Pk,useClass:Rk},{provide:Hu,useValue:"NoopAnimations"},...C$];let Tue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?T$:Yk}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({providers:Yk,imports:[mL]})}return n})(),Sue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[$r,lB,$r]})}return n})();class uE{}class hE{}class Lo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Lo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Lo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Lo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kue{encodeKey(e){return D$(e)}encodeValue(e){return D$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Rue=/%(\d[a-f0-9])/gi,Pue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D$(n){return encodeURIComponent(n).replace(Rue,(e,t)=>Pue[t]??e)}function fE(n){return`${n}`}class hl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kue,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mue(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(fE):[fE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(fE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Nue{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function A$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function S$(n){return typeof Blob<"u"&&n instanceof Blob}function k$(n){return typeof FormData<"u"&&n instanceof FormData}class j_{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Oue(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Lo),this.context||(this.context=new Nue),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new hl,this.urlWithParams=t}serializeBody(){return null===this.body?null:A$(this.body)||S$(this.body)||k$(this.body)||function Fue(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||k$(this.body)?null:S$(this.body)?this.body.type||null:A$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new j_(t,i,o,{params:d,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var fl=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(fl||{});class Xk{constructor(e,t=200,i="OK"){this.headers=e.headers||new Lo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class mE extends Xk{constructor(e={}){super(e),this.type=fl.ResponseHeader}clone(e={}){return new mE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eu extends Xk{constructor(e={}){super(e),this.type=fl.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new eu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qf extends Xk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Jk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let eM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof j_)o=t;else{let c,d;c=r.headers instanceof Lo?r.headers:new Lo(r.headers),r.params&&(d=r.params instanceof hl?r.params:new hl({fromObject:r.params})),o=new j_(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=xe(o).pipe(Ah(c=>this.handler.handle(c)));if(t instanceof j_||"events"===r.observe)return s;const a=s.pipe(ti(c=>c instanceof eu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ye(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ye(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ye(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ye(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new hl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Jk(r,i))}post(t,i,r={}){return this.request("POST",t,Jk(r,i))}put(t,i,r={}){return this.request("PUT",t,Jk(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(j(uE))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function R$(n,e){return e(n)}function jue(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const $ue=new X(""),z_=new X(""),P$=new X(""),N$=new X("");function Hue(){let n=null;return(e,t)=>{null===n&&(n=(ae($ue,{optional:!0})??[]).reduceRight(jue,R$));const i=ae(cb),r=i.add();return n(e,t).pipe(Sh(()=>i.remove(r)))}}let O$=(()=>{class n extends uE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ae(cb);const r=ae(N$,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(z_),...this.injector.get(P$,[])]));this.chain=r.reduceRight((o,s)=>function zue(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),R$)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Sh(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(j(hE),j(Jr))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const Kue=/^\)\]\}',?\n/;let L$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new V(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Wt(i.\u0275loadImpl()):xe(null)).pipe(Zt(()=>new yt(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,I)=>s.setRequestHeader(w,I.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const w=s.statusText||"OK",I=new Lo(s.getAllResponseHeaders()),S=function Que(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new mE({headers:I,status:s.status,statusText:w,url:S}),c},h=()=>{let{headers:w,status:I,statusText:S,url:A}=d(),M=null;204!==I&&(M=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=M?200:0);let Y=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof M){const de=M;M=M.replace(Kue,"");try{M=""!==M?JSON.parse(M):null}catch(Ie){M=de,Y&&(Y=!1,M={error:Ie,text:M})}}Y?(o.next(new eu({body:M,headers:w,status:I,statusText:S,url:A||void 0})),o.complete()):o.error(new qf({error:M,headers:w,status:I,statusText:S,url:A||void 0}))},p=w=>{const{url:I}=d(),S=new qf({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(S)};let g=!1;const v=w=>{g||(o.next(d()),g=!0);let I={type:fl.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),"text"===t.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},b=w=>{let I={type:fl.UploadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),o.next(I)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:fl.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(j(XF))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const iM=new X("XSRF_ENABLED"),V$=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),B$=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class U${}let Jue=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$F(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(j(qt),j(is),j(V$))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function ehe(n,e){const t=n.url.toLowerCase();if(!ae(iM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ae(U$).getToken(),r=ae(B$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ml=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ml||{});function the(...n){const e=[eM,L$,O$,{provide:uE,useExisting:O$},{provide:hE,useExisting:L$},{provide:z_,useValue:ehe,multi:!0},{provide:iM,useValue:!0},{provide:U$,useClass:Jue}];for(const t of n)e.push(...t.\u0275providers);return function ip(n){return{\u0275providers:n}}(e)}const j$=new X("LEGACY_INTERCEPTOR_FN");function nhe(){return function tu(n,e){return{\u0275kind:n,\u0275providers:e}}(ml.LegacyInterceptors,[{provide:j$,useFactory:Hue},{provide:z_,useExisting:j$,multi:!0}])}let ihe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({providers:[the(nhe())]})}return n})(),mhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=$t({imports:[$r,$r]})}return n})(),phe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xt({type:n,bootstrap:[Ole]});static#n=this.\u0275inj=$t({providers:[Dk],imports:[mL,Nle,gee,Tue,gne,Qne,Sue,mhe,nie,ihe,Iie.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),Aie,ale]})}return n})();NQ().bootstrapModule(phe).catch(n=>console.error(n))},106:(Bo,mi,Ye)=>{Ye.d(mi,{Z:()=>Zn});var E=Ye(58),Ce=Ye(537),z=Ye(534),$e=Ye(879);class Cn{constructor(tt,ct){this._delegate=tt,this.firebase=ct,(0,z._addComponent)(tt,new Ce.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(tt,ct=z._DEFAULT_ENTRY_NAME){var Kn;this._delegate.checkDestroyed();const xi=this._delegate.container.getProvider(tt);return!xi.isInitialized()&&"EXPLICIT"===(null===(Kn=xi.getComponent())||void 0===Kn?void 0:Kn.instantiationMode)&&xi.initialize(),xi.getImmediate({identifier:ct})}_removeServiceInstance(tt,ct=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(ct)}_addComponent(tt){(0,z._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,z._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Bn=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Mt(){const Rt=function Ii(Rt){const tt={},ct={__esModule:!0,initializeApp:function on(lt,pi={}){const ee=z.initializeApp(lt,pi);if((0,E.r3)(tt,ee.name))return tt[ee.name];const Tn=new Rt(ee,ct);return tt[ee.name]=Tn,Tn},app:xi,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Pt(lt){const pi=lt.name,ee=pi.replace("-compat","");if(z._registerComponent(lt)&&"PUBLIC"===lt.type){const Tn=(Dn=xi())=>{if("function"!=typeof Dn[ee])throw Bn.create("invalid-app-argument",{appName:pi});return Dn[ee]()};void 0!==lt.serviceProps&&(0,E.ZB)(Tn,lt.serviceProps),ct[ee]=Tn,Rt.prototype[ee]=function(...Dn){return this._getService.bind(this,pi).apply(this,lt.multipleInstances?Dn:[])}}return"PUBLIC"===lt.type?ct[ee]:null},removeApp:function Kn(lt){delete tt[lt]},useAsService:function Li(lt,pi){return"serverAuth"===pi?null:pi},modularAPIs:z}};function xi(lt){if(!(0,E.r3)(tt,lt=lt||z._DEFAULT_ENTRY_NAME))throw Bn.create("no-app",{appName:lt});return tt[lt]}return ct.default=ct,Object.defineProperty(ct,"apps",{get:function It(){return Object.keys(tt).map(lt=>tt[lt])}}),xi.App=Rt,ct}(Cn);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:Mt,extendNamespace:function tt(ct){(0,E.ZB)(Rt,ct)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),Rt}(),se=new $e.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Zn=te;!function Et(Rt){(0,z.registerVersion)("@firebase/app-compat","0.2.23",Rt)}()},534:(Bo,mi,Ye)=>{Ye.r(mi),Ye.d(mi,{FirebaseError:()=>$e.ZR,SDK_VERSION:()=>Go,_DEFAULT_ENTRY_NAME:()=>fr,_addComponent:()=>po,_addOrOverwriteComponent:()=>Xi,_apps:()=>mr,_clearComponents:()=>Ho,_components:()=>$o,_getProvider:()=>vs,_registerComponent:()=>go,_removeServiceInstance:()=>ys,deleteApp:()=>Zr,getApp:()=>qa,getApps:()=>Ga,initializeApp:()=>vl,onLog:()=>ta,registerVersion:()=>bs,setLogLevel:()=>yt});var E=Ye(861),Ce=Ye(537),z=Ye(879),$e=Ye(58);const Cn=($,O)=>O.some(re=>$ instanceof re);let Xe,Bn;const te=new WeakMap,se=new WeakMap,Te=new WeakMap,it=new WeakMap,Et=new WeakMap;let tt={get($,O,re){if($ instanceof IDBTransaction){if("done"===O)return se.get($);if("objectStoreNames"===O)return $.objectStoreNames||Te.get($);if("store"===O)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return on($[O])},set:($,O,re)=>($[O]=re,!0),has:($,O)=>$ instanceof IDBTransaction&&("done"===O||"store"===O)||O in $};function xi($){return"function"==typeof $?function Kn($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mt(){return Bn||(Bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...O){return $.apply(It(this),O),on(te.get(this))}:function(...O){return on($.apply(It(this),O))}:function(O,...re){const ke=$.call(It(this),O,...re);return Te.set(ke,O.sort?O.sort():[O]),on(ke)}}($):($ instanceof IDBTransaction&&function Rt($){if(se.has($))return;const O=new Promise((re,ke)=>{const De=()=>{$.removeEventListener("complete",ut),$.removeEventListener("error",Ct),$.removeEventListener("abort",Ct)},ut=()=>{re(),De()},Ct=()=>{ke($.error||new DOMException("AbortError","AbortError")),De()};$.addEventListener("complete",ut),$.addEventListener("error",Ct),$.addEventListener("abort",Ct)});se.set($,O)}($),Cn($,function Ii(){return Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,tt):$)}function on($){if($ instanceof IDBRequest)return function Zn($){const O=new Promise((re,ke)=>{const De=()=>{$.removeEventListener("success",ut),$.removeEventListener("error",Ct)},ut=()=>{re(on($.result)),De()},Ct=()=>{ke($.error),De()};$.addEventListener("success",ut),$.addEventListener("error",Ct)});return O.then(re=>{re instanceof IDBCursor&&te.set(re,$)}).catch(()=>{}),Et.set(O,$),O}($);if(it.has($))return it.get($);const O=xi($);return O!==$&&(it.set($,O),Et.set(O,$)),O}const It=$=>Et.get($),lt=["get","getKey","getAll","getAllKeys","count"],pi=["put","add","delete","clear"],ee=new Map;function Tn($,O){if(!($ instanceof IDBDatabase)||O in $||"string"!=typeof O)return;if(ee.get(O))return ee.get(O);const re=O.replace(/FromIndex$/,""),ke=O!==re,De=pi.includes(re);if(!(re in(ke?IDBIndex:IDBObjectStore).prototype)||!De&&!lt.includes(re))return;const ut=function(){var Ct=(0,E.Z)(function*(_i,...On){const Zo=this.transaction(_i,De?"readwrite":"readonly");let Za=Zo.store;return ke&&(Za=Za.index(On.shift())),(yield Promise.all([Za[re](...On),De&&Zo.done]))[0]});return function(On){return Ct.apply(this,arguments)}}();return ee.set(O,ut),ut}!function ct($){tt=$(tt)}($=>({...$,get:(O,re,ke)=>Tn(O,re)||$.get(O,re,ke),has:(O,re)=>!!Tn(O,re)||$.has(O,re)}));class Dn{constructor(O){this.container=O}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Nr($){const O=$.getComponent();return"VERSION"===O?.type}(re)){const ke=re.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(re=>re).join(" ")}}const Uo="@firebase/app",Yi=new z.Yd("@firebase/app"),fr="[DEFAULT]",_l={[Uo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mr=new Map,$o=new Map;function po($,O){try{$.container.addComponent(O)}catch(re){Yi.debug(`Component ${O.name} failed to register with FirebaseApp ${$.name}`,re)}}function Xi($,O){$.container.addOrOverwriteComponent(O)}function go($){const O=$.name;if($o.has(O))return Yi.debug(`There were multiple attempts to register component ${O}.`),!1;$o.set(O,$);for(const re of mr.values())po(re,$);return!0}function vs($,O){const re=$.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),$.container.getProvider(O)}function ys($,O,re=fr){vs($,O).clearInstance(re)}function Ho(){$o.clear()}const Fr=new $e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(O,re,ke){this._isDeleted=!1,this._options=Object.assign({},O),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(O){this.checkDestroyed(),this._automaticDataCollectionEnabled=O}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(O){this._isDeleted=O}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const Go="10.6.0";function vl($,O={}){let re=$;"object"!=typeof O&&(O={name:O});const ke=Object.assign({name:fr,automaticDataCollectionEnabled:!1},O),De=ke.name;if("string"!=typeof De||!De)throw Fr.create("bad-app-name",{appName:String(De)});if(re||(re=(0,$e.aH)()),!re)throw Fr.create("no-options");const ut=mr.get(De);if(ut){if((0,$e.vZ)(re,ut.options)&&(0,$e.vZ)(ke,ut.config))return ut;throw Fr.create("duplicate-app",{appName:De})}const Ct=new Ce.H0(De);for(const On of $o.values())Ct.addComponent(On);const _i=new Ci(re,ke,Ct);return mr.set(De,_i),_i}function qa($=fr){const O=mr.get($);if(!O&&$===fr&&(0,$e.aH)())return vl();if(!O)throw Fr.create("no-app",{appName:$});return O}function Ga(){return Array.from(mr.values())}function Zr($){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,E.Z)(function*($){const O=$.name;mr.has(O)&&(mr.delete(O),yield Promise.all($.container.getProviders().map(re=>re.delete())),$.isDeleted=!0)})).apply(this,arguments)}function bs($,O,re){var ke;let De=null!==(ke=_l[$])&&void 0!==ke?ke:$;re&&(De+=`-${re}`);const ut=De.match(/\s|\//),Ct=O.match(/\s|\//);if(ut||Ct){const _i=[`Unable to register library "${De}" with version "${O}":`];return ut&&_i.push(`library name "${De}" contains illegal characters (whitespace or "/")`),ut&&Ct&&_i.push("and"),Ct&&_i.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void Yi.warn(_i.join(" "))}go(new Ce.wA(`${De}-version`,()=>({library:De,version:O}),"VERSION"))}function ta($,O){if(null!==$&&"function"!=typeof $)throw Fr.create("invalid-log-argument");(0,z.Am)($,O)}function yt($){(0,z.Ub)($)}const Wa="firebase-heartbeat-database",yl=1,D="firebase-heartbeat-store";let C=null;function T(){return C||(C=function Pt($,O,{blocked:re,upgrade:ke,blocking:De,terminated:ut}={}){const Ct=indexedDB.open($,O),_i=on(Ct);return ke&&Ct.addEventListener("upgradeneeded",On=>{ke(on(Ct.result),On.oldVersion,On.newVersion,on(Ct.transaction),On)}),re&&Ct.addEventListener("blocked",On=>re(On.oldVersion,On.newVersion,On)),_i.then(On=>{ut&&On.addEventListener("close",()=>ut()),De&&On.addEventListener("versionchange",Zo=>De(Zo.oldVersion,Zo.newVersion,Zo))}).catch(()=>{}),_i}(Wa,yl,{upgrade:($,O)=>{0===O&&$.createObjectStore(D)}}).catch($=>{throw Fr.create("idb-open",{originalErrorMessage:$.message})})),C}function N(){return(N=(0,E.Z)(function*($){try{return yield(yield T()).transaction(D).objectStore(D).get(dt($))}catch(O){if(O instanceof $e.ZR)Yi.warn(O.message);else{const re=Fr.create("idb-get",{originalErrorMessage:O?.message});Yi.warn(re.message)}}})).apply(this,arguments)}function ce($,O){return ve.apply(this,arguments)}function ve(){return(ve=(0,E.Z)(function*($,O){try{const ke=(yield T()).transaction(D,"readwrite");yield ke.objectStore(D).put(O,dt($)),yield ke.done}catch(re){if(re instanceof $e.ZR)Yi.warn(re.message);else{const ke=Fr.create("idb-set",{originalErrorMessage:re?.message});Yi.warn(ke.message)}}})).apply(this,arguments)}function dt($){return`${$.name}!${$.options.appId}`}class jn{constructor(O){this.container=O,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new _o(re),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var O=this;return(0,E.Z)(function*(){var re;const De=O.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=rt();if(null==(null===(re=O._heartbeatsCache)||void 0===re?void 0:re.heartbeats)&&(O._heartbeatsCache=yield O._heartbeatsCachePromise),O._heartbeatsCache.lastSentHeartbeatDate!==ut&&!O._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ut))return O._heartbeatsCache.heartbeats.push({date:ut,agent:De}),O._heartbeatsCache.heartbeats=O._heartbeatsCache.heartbeats.filter(Ct=>{const _i=new Date(Ct.date).valueOf();return Date.now()-_i<=2592e6}),O._storage.overwrite(O._heartbeatsCache)})()}getHeartbeatsHeader(){var O=this;return(0,E.Z)(function*(){var re;if(null===O._heartbeatsCache&&(yield O._heartbeatsCachePromise),null==(null===(re=O._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||0===O._heartbeatsCache.heartbeats.length)return"";const ke=rt(),{heartbeatsToSend:De,unsentEntries:ut}=function Vi($,O=1024){const re=[];let ke=$.slice();for(const De of $){const ut=re.find(Ct=>Ct.agent===De.agent);if(ut){if(ut.dates.push(De.date),Wo(re)>O){ut.dates.pop();break}}else if(re.push({agent:De.agent,dates:[De.date]}),Wo(re)>O){re.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:re,unsentEntries:ke}}(O._heartbeatsCache.heartbeats),Ct=(0,$e.L)(JSON.stringify({version:2,heartbeats:De}));return O._heartbeatsCache.lastSentHeartbeatDate=ke,ut.length>0?(O._heartbeatsCache.heartbeats=ut,yield O._storage.overwrite(O._heartbeatsCache)):(O._heartbeatsCache.heartbeats=[],O._storage.overwrite(O._heartbeatsCache)),Ct})()}}function rt(){return(new Date).toISOString().substring(0,10)}class _o{constructor(O){this.app=O,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,$e.hl)()&&(0,$e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var O=this;return(0,E.Z)(function*(){return(yield O._canUseIndexedDBPromise)&&(yield function Z($){return N.apply(this,arguments)}(O.app))||{heartbeats:[]}})()}overwrite(O){var re=this;return(0,E.Z)(function*(){var ke;if(yield re._canUseIndexedDBPromise){const ut=yield re.read();return ce(re.app,{lastSentHeartbeatDate:null!==(ke=O.lastSentHeartbeatDate)&&void 0!==ke?ke:ut.lastSentHeartbeatDate,heartbeats:O.heartbeats})}})()}add(O){var re=this;return(0,E.Z)(function*(){var ke;if(yield re._canUseIndexedDBPromise){const ut=yield re.read();return ce(re.app,{lastSentHeartbeatDate:null!==(ke=O.lastSentHeartbeatDate)&&void 0!==ke?ke:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...O.heartbeats]})}})()}}function Wo($){return(0,$e.L)(JSON.stringify({version:2,heartbeats:$})).length}!function ou($){go(new Ce.wA("platform-logger",O=>new Dn(O),"PRIVATE")),go(new Ce.wA("heartbeat",O=>new jn(O),"PRIVATE")),bs(Uo,"0.9.23",$),bs(Uo,"0.9.23","esm2017"),bs("fire-js","")}("")},537:(Bo,mi,Ye)=>{Ye.d(mi,{H0:()=>Ii,wA:()=>z});var E=Ye(861),Ce=Ye(58);class z{constructor(te,se,Te){this.name=te,this.instanceFactory=se,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const $e="[DEFAULT]";class Cn{constructor(te,se){this.name=te,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const se=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(se)){const Te=new Ce.BH;if(this.instancesDeferred.set(se,Te),this.isInitialized(se)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:se});it&&Te.resolve(it)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(te){var se;const Te=this.normalizeInstanceIdentifier(te?.identifier),it=null!==(se=te?.optional)&&void 0!==se&&se;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Et){if(it)return null;throw Et}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Bn(Mt){return"EAGER"===Mt.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:$e})}catch{}for(const[se,Te]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(se);try{const Et=this.getOrInitializeService({instanceIdentifier:it});Te.resolve(Et)}catch{}}}}clearInstance(te=$e){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,E.Z)(function*(){const se=Array.from(te.instances.values());yield Promise.all([...se.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...se.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=$e){return this.instances.has(te)}getOptions(te=$e){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:se={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:Te,options:se});for(const[Et,Zn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Et)&&Zn.resolve(it);return it}onInit(te,se){var Te;const it=this.normalizeInstanceIdentifier(se),Et=null!==(Te=this.onInitCallbacks.get(it))&&void 0!==Te?Te:new Set;Et.add(te),this.onInitCallbacks.set(it,Et);const Zn=this.instances.get(it);return Zn&&te(Zn,it),()=>{Et.delete(te)}}invokeOnInitCallbacks(te,se){const Te=this.onInitCallbacks.get(se);if(Te)for(const it of Te)try{it(te,se)}catch{}}getOrInitializeService({instanceIdentifier:te,options:se={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Mt=te,Mt===$e?void 0:Mt),options:se}),this.instances.set(te,Te),this.instancesOptions.set(te,se),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch{}var Mt;return Te||null}normalizeInstanceIdentifier(te=$e){return this.component?this.component.multipleInstances?te:$e:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ii{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const se=this.getProvider(te.name);if(se.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);se.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const se=new Cn(te,this);return this.providers.set(te,se),se}getProviders(){return Array.from(this.providers.values())}}},879:(Bo,mi,Ye)=>{Ye.d(mi,{Am:()=>Mt,Ub:()=>Ii,Yd:()=>Bn,in:()=>Ce});const E=[];var Ce=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(Ce||{});const z={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},$e=Ce.INFO,Cn={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Xe=(te,se,...Te)=>{if(se<te.logLevel)return;const it=(new Date).toISOString(),Et=Cn[se];if(!Et)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Et](`[${it}]  ${te.name}:`,...Te)};class Bn{constructor(se){this.name=se,this._logLevel=$e,this._logHandler=Xe,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in Ce))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?z[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...se),this._logHandler(this,Ce.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...se),this._logHandler(this,Ce.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...se),this._logHandler(this,Ce.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...se),this._logHandler(this,Ce.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...se),this._logHandler(this,Ce.ERROR,...se)}}function Ii(te){E.forEach(se=>{se.setLogLevel(te)})}function Mt(te,se){for(const Te of E){let it=null;se&&se.level&&(it=z[se.level]),Te.userLogHandler=null===te?null:(Et,Zn,...Rt)=>{const tt=Rt.map(ct=>{if(null==ct)return null;if("string"==typeof ct)return ct;if("number"==typeof ct||"boolean"==typeof ct)return ct.toString();if(ct instanceof Error)return ct.message;try{return JSON.stringify(ct)}catch{return null}}).filter(ct=>ct).join(" ");Zn>=(it??Et.logLevel)&&te({level:Ce[Zn].toLowerCase(),message:tt,args:Rt,type:Et.name})}}}},956:(Bo,mi,Ye)=>{Ye.r(mi);var E=Ye(861),Ce=Ye(106),z=Ye(58),$e=Ye(534),Cn=Ye(879),Xe=Ye(582),Bn=Ye(537);const Mt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Zn=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Rt=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kn=new Cn.Yd("@firebase/auth");function on(f,...l){Kn.logLevel<=Cn.in.ERROR&&Kn.error(`Auth (${$e.SDK_VERSION}): ${f}`,...l)}function It(f,...l){throw pi(f,...l)}function Pt(f,...l){return pi(f,...l)}function Li(f,l,u){const m=Object.assign(Object.assign({},Rt()),{[l]:u});return new z.LL("auth","Firebase",m).create(l,{appName:f.name})}function lt(f,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&It(f,"argument-error"),Li(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pi(f,...l){if("string"!=typeof f){const u=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(u,...m)}return tt.create(f,...l)}function ee(f,l,...u){if(!f)throw pi(l,...u)}function Tn(f){const l="INTERNAL ASSERTION FAILED: "+f;throw on(l),new Error(l)}function Dn(f,l){f||Tn(l)}function Nr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Uo(){return"http:"===mo()||"https:"===mo()}function mo(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Or{constructor(l,u){this.shortDelay=l,this.longDelay=u,Dn(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Yi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Uo()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function F(f,l){Dn(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class U{static initialize(l,u,m){this.fetchImpl=l,u&&(this.headersImpl=u),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},W=new Or(3e4,6e4);function ne(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function J(f,l,u,m){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,E.Z)(function*(f,l,u,m,_={}){return gt(f,_,(0,E.Z)(function*(){let y={},x={};m&&("GET"===l?x=m:y={body:JSON.stringify(m)});const k=(0,z.xO)(Object.assign({key:f.config.apiKey},x)).slice(1),G=yield f._getAdditionalHeaders();return G["Content-Type"]="application/json",f.languageCode&&(G["X-Firebase-Locale"]=f.languageCode),U.fetch()(Nn(f,f.config.apiHost,u,k),Object.assign({method:l,headers:G,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function gt(f,l,u){return Un.apply(this,arguments)}function Un(){return(Un=(0,E.Z)(function*(f,l,u){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},Q),l);try{const _=new gi(f),y=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const x=yield y.json();if("needConfirmation"in x)throw Qn(f,"account-exists-with-different-credential",x);if(y.ok&&!("errorMessage"in x))return x;{const k=y.ok?x.errorMessage:x.error.message,[G,he]=k.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===G)throw Qn(f,"credential-already-in-use",x);if("EMAIL_EXISTS"===G)throw Qn(f,"email-already-in-use",x);if("USER_DISABLED"===G)throw Qn(f,"user-disabled",x);const _e=m[G]||G.toLowerCase().replace(/[_\s]+/g,"-");if(he)throw Li(f,_e,he);It(f,_e)}}catch(_){if(_ instanceof z.ZR)throw _;It(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Pe(f,l,u,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,E.Z)(function*(f,l,u,m,_={}){const y=yield J(f,l,u,m,_);return"mfaPendingCredential"in y&&It(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function Nn(f,l,u,m){const _=`${l}${u}?${m}`;return f.config.emulator?F(f.config,_):`${f.config.apiScheme}://${_}`}function Ne(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,m)=>{this.timer=setTimeout(()=>m(Pt(this.auth,"network-request-failed")),W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(f,l,u){const m={appName:f.name};u.email&&(m.email=u.email),u.phoneNumber&&(m.phoneNumber=u.phoneNumber);const _=Pt(f,l,m);return _.customData._tokenResponse=u,_}function oi(f){return void 0!==f&&void 0!==f.getResponse}function Nt(f){return void 0!==f&&void 0!==f.enterprise}class ur{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Ne(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function jo(){return(jo=(0,E.Z)(function*(f){return(yield J(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hr(f,l){return zo.apply(this,arguments)}function zo(){return(zo=(0,E.Z)(function*(f,l){return J(f,"GET","/v2/recaptchaConfig",ne(f,l))})).apply(this,arguments)}function fr(){return(fr=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function mr(){return(mr=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function po(){return(po=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Xi(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function ys(){return(ys=(0,E.Z)(function*(f,l=!1){const u=(0,z.m9)(f),m=yield u.getIdToken(l),_=qo(m);ee(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,x=y?.sign_in_provider;return{claims:_,token:m,authTime:Xi(Ho(_.auth_time)),issuedAtTime:Xi(Ho(_.iat)),expirationTime:Xi(Ho(_.exp)),signInProvider:x||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Ho(f){return 1e3*Number(f)}function qo(f){const[l,u,m]=f.split(".");if(void 0===l||void 0===u||void 0===m)return on("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,z.tV)(u);return _?JSON.parse(_):(on("Failed to decode base64 JWT payload"),null)}catch(_){return on("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ci(f,l){return Go.apply(this,arguments)}function Go(){return(Go=(0,E.Z)(function*(f,l,u=!1){if(u)return l;try{return yield l}catch(m){throw m instanceof z.ZR&&function vl({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class qa{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,E.Z)(function*(){yield u.iteration()}),m)}iteration(){var l=this;return(0,E.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Ga{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xi(this.lastLoginAt),this.creationTime=Xi(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zr(f){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,E.Z)(function*(f){var l;const u=f.auth,m=yield f.getIdToken(),_=yield Ci(f,function $o(f,l){return po.apply(this,arguments)}(u,{idToken:m}));ee(_?.users.length,u,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const x=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Wa(f){return f.map(l=>{var{providerId:u}=l,m=(0,Xe._T)(l,["providerId"]);return{providerId:u,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],k=function yt(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,x),_e=!!f.isAnonymous&&!(f.email&&y.passwordHash||k?.length),be={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:k,metadata:new Ga(y.createdAt,y.lastLoginAt),isAnonymous:_e};Object.assign(f,be)}),Ti.apply(this,arguments)}function ta(){return(ta=(0,E.Z)(function*(f){const l=(0,z.m9)(f);yield Zr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,E.Z)(function*(f,l){const u=yield gt(f,{},(0,E.Z)(function*(){const m=(0,z.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,x=Nn(f,_,"/v1/token",`key=${y}`),k=yield f._getAdditionalHeaders();return k["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(x,{method:"POST",headers:k,body:m})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function T(){return(T=(0,E.Z)(function*(f,l){return J(f,"POST","/v2/accounts:revokeToken",ne(f,l))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ee(l.idToken,"internal-error"),ee(typeof l.idToken<"u","internal-error"),ee(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Fr(f){const l=qo(f);return ee(l,"internal-error"),ee(typeof l.exp<"u","internal-error"),ee(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var m=this;return(0,E.Z)(function*(){return ee(!m.accessToken||m.refreshToken,l,"user-token-expired"),u||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var m=this;return(0,E.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:x}=yield function yl(f,l){return D.apply(this,arguments)}(l,u);m.updateTokensAndExpiration(_,y,Number(x))})()}updateTokensAndExpiration(l,u,m){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,u){const{refreshToken:m,accessToken:_,expirationTime:y}=u,x=new Z;return m&&(ee("string"==typeof m,"internal-error",{appName:l}),x.refreshToken=m),_&&(ee("string"==typeof _,"internal-error",{appName:l}),x.accessToken=_),y&&(ee("number"==typeof y,"internal-error",{appName:l}),x.expirationTime=y),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function N(f,l){ee("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class ce{constructor(l){var{uid:u,auth:m,stsTokenManager:_}=l,y=(0,Xe._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Ga(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,E.Z)(function*(){const m=yield Ci(u,u.stsTokenManager.getToken(u.auth,l));return ee(m,u.auth,"internal-error"),u.accessToken!==m&&(u.accessToken=m,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),m})()}getIdTokenResult(l){return function vs(f){return ys.apply(this,arguments)}(this,l)}reload(){return function bs(f){return ta.apply(this,arguments)}(this)}_assign(l){this!==l&&(ee(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new ce(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var m=this;return(0,E.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),u&&(yield Zr(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,E.Z)(function*(){const u=yield l.getIdToken();return yield Ci(l,function Ha(f,l){return fr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var m,_,y,x,k,G,he,_e;const be=null!==(m=u.displayName)&&void 0!==m?m:void 0,bn=null!==(_=u.email)&&void 0!==_?_:void 0,Ao=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,Xl=null!==(x=u.photoURL)&&void 0!==x?x:void 0,Jv=null!==(k=u.tenantId)&&void 0!==k?k:void 0,ey=null!==(G=u._redirectEventId)&&void 0!==G?G:void 0,ty=null!==(he=u.createdAt)&&void 0!==he?he:void 0,ny=null!==(_e=u.lastLoginAt)&&void 0!==_e?_e:void 0,{uid:tp,emailVerified:ya,isAnonymous:np,providerData:Jl,stsTokenManager:ed}=u;ee(tp&&ed,l,"internal-error");const ip=Z.fromJSON(this.name,ed);ee("string"==typeof tp,l,"internal-error"),N(be,l.name),N(bn,l.name),ee("boolean"==typeof ya,l,"internal-error"),ee("boolean"==typeof np,l,"internal-error"),N(Ao,l.name),N(Xl,l.name),N(Jv,l.name),N(ey,l.name),N(ty,l.name),N(ny,l.name);const rp=new ce({uid:tp,auth:l,email:bn,emailVerified:ya,displayName:be,isAnonymous:np,photoURL:Xl,phoneNumber:Ao,tenantId:Jv,stsTokenManager:ip,createdAt:ty,lastLoginAt:ny});return Jl&&Array.isArray(Jl)&&(rp.providerData=Jl.map(iy=>Object.assign({},iy))),ey&&(rp._redirectEventId=ey),rp}static _fromIdTokenResponse(l,u,m=!1){return(0,E.Z)(function*(){const _=new Z;_.updateFromServerResponse(u);const y=new ce({uid:u.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield Zr(y),y})()}}const ve=new Map;function dt(f){Dn(f instanceof Function,"Expected a class definition");let l=ve.get(f);return l?(Dn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,ve.set(f,l),l)}const Gt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(u,m){var _=this;return(0,E.Z)(function*(){_.storage[u]=m})()}_get(u){var m=this;return(0,E.Z)(function*(){const _=m.storage[u];return void 0===_?null:_})()}_remove(u){var m=this;return(0,E.Z)(function*(){delete m.storage[u]})()}_addListener(u,m){}_removeListener(u,m){}}return f.type="NONE",f})();function jn(f,l,u){return`firebase:${f}:${l}:${u}`}class rt{constructor(l,u,m){this.persistence=l,this.auth=u,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=jn(this.userKey,_.apiKey,y),this.fullPersistenceKey=jn("persistence",_.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,E.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?ce._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,E.Z)(function*(){if(u.persistence===l)return;const m=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,m?u.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,m="authUser"){return(0,E.Z)(function*(){if(!u.length)return new rt(dt(Gt),l,m);const _=(yield Promise.all(u.map(function(){var he=(0,E.Z)(function*(_e){if(yield _e._isAvailable())return _e});return function(_e){return he.apply(this,arguments)}}()))).filter(he=>he);let y=_[0]||dt(Gt);const x=jn(m,l.config.apiKey,l.name);let k=null;for(const he of u)try{const _e=yield he._get(x);if(_e){const be=ce._fromJSON(l,_e);he!==y&&(k=be),y=he;break}}catch{}const G=_.filter(he=>he._shouldAllowMigration);return y._shouldAllowMigration&&G.length?(y=G[0],k&&(yield y._set(x,k.toJSON())),yield Promise.all(u.map(function(){var he=(0,E.Z)(function*(_e){if(_e!==y)try{yield _e._remove(x)}catch{}});return function(_e){return he.apply(this,arguments)}}())),new rt(y,l,m)):new rt(y,l,m)})()}}function Vi(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if($(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(_o(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(re(l))return"Blackberry";if(ke(l))return"Webos";if(Wo(l))return"Safari";if((l.includes("chrome/")||ou(l))&&!l.includes("edge/"))return"Chrome";if(O(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function _o(f=(0,z.z$)()){return/firefox\//i.test(f)}function Wo(f=(0,z.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ou(f=(0,z.z$)()){return/crios\//i.test(f)}function $(f=(0,z.z$)()){return/iemobile/i.test(f)}function O(f=(0,z.z$)()){return/android/i.test(f)}function re(f=(0,z.z$)()){return/blackberry/i.test(f)}function ke(f=(0,z.z$)()){return/webos/i.test(f)}function De(f=(0,z.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function On(f=(0,z.z$)()){return De(f)||O(f)||ke(f)||re(f)||/windows phone/i.test(f)||$(f)}function Za(f,l=[]){let u;switch(f){case"Browser":u=Vi((0,z.z$)());break;case"Worker":u=`${Vi((0,z.z$)())}-${f}`;break;default:u=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${$e.SDK_VERSION}/${m}`}class yE{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const m=y=>new Promise((x,k)=>{try{x(l(y))}catch(G){k(G)}});m.onAbort=u,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,E.Z)(function*(){if(u.auth.currentUser===l)return;const m=[];try{for(const _ of u.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Gf(){return(Gf=(0,E.Z)(function*(f,l={}){return J(f,"GET","/v2/passwordPolicy",ne(f,l))})).apply(this,arguments)}class Ka{constructor(l){var u,m,_,y;const x=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=x.minPasswordLength)&&void 0!==u?u:6,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),void 0!==x.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),void 0!==x.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),void 0!==x.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),void 0!==x.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,m,_,y,x,k;const G={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,G),this.validatePasswordCharacterOptions(l,G),G.isValid&&(G.isValid=null===(u=G.meetsMinPasswordLength)||void 0===u||u),G.isValid&&(G.isValid=null===(m=G.meetsMaxPasswordLength)||void 0===m||m),G.isValid&&(G.isValid=null===(_=G.containsLowercaseLetter)||void 0===_||_),G.isValid&&(G.isValid=null===(y=G.containsUppercaseLetter)||void 0===y||y),G.isValid&&(G.isValid=null===(x=G.containsNumericCharacter)||void 0===x||x),G.isValid&&(G.isValid=null===(k=G.containsNonAlphanumericCharacter)||void 0===k||k),G}validatePasswordLengthOptions(l,u){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(u.meetsMinPasswordLength=l.length>=m),_&&(u.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,u){let m;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,u,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class vo{constructor(l,u,m,_){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new yE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,u){var m=this;return u&&(this._popupRedirectResolver=dt(u)),this._initializationPromise=this.queue((0,E.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield rt.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(u),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,E.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,E.Z)(function*(){var m;const _=yield u.assertedPersistence.getCurrentUser();let y=_,x=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const k=null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId,G=y?._redirectEventId,he=yield u.tryRedirectSignIn(l);(!k||k===G)&&he?.user&&(y=he.user,x=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(x)try{yield u.beforeStateQueue.runMiddleware(y)}catch(k){y=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(k))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return ee(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var u=this;return(0,E.Z)(function*(){let m=null;try{m=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,E.Z)(function*(){try{yield Zr(l)}catch(m){if("auth/network-request-failed"!==m?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function $a(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,E.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,E.Z)(function*(){const m=l?(0,z.m9)(l):null;return m&&ee(m.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(m&&m._clone(u))})()}_updateCurrentUser(l,u=!1){var m=this;return(0,E.Z)(function*(){if(!m._deleted)return l&&ee(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),u||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,E.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,E.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,E.Z)(function*(){yield u.assertedPersistence.setPersistence(dt(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,E.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const m=u._getPasswordPolicyInternal();return m.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,E.Z)(function*(){const u=yield function Ko(f){return Gf.apply(this,arguments)}(l),m=new Ka(u);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new z.LL("auth","Firebase",l())}onAuthStateChanged(l,u,m){return this.registerStateListener(this.authStateSubscription,l,u,m)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,m){return this.registerStateListener(this.idTokenSubscription,l,u,m)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,E.Z)(function*(){if(u.currentUser){const m=yield u.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:m};null!=u.tenantId&&(_.tenantId=u.tenantId),yield function C(f,l){return T.apply(this,arguments)}(u,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var m=this;return(0,E.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(u);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,E.Z)(function*(){if(!u.redirectPersistenceManager){const m=l&&dt(l)||u._popupRedirectResolver;ee(m,u,"argument-error"),u.redirectPersistenceManager=yield rt.create(u,[dt(m._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,E.Z)(function*(){var m,_;return u._isInitialized&&(yield u.queue((0,E.Z)(function*(){}))),(null===(m=u._currentUser)||void 0===m?void 0:m._redirectEventId)===l?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,E.Z)(function*(){if(l===u.currentUser)return u.queue((0,E.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,m,_){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let x=!1;const k=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(k,this,"internal-error"),k.then(()=>{x||y(this.currentUser)}),"function"==typeof u){const G=l.addObserver(u,m,_);return()=>{x=!0,G()}}{const G=l.addObserver(u);return()=>{x=!0,G()}}}directlySetCurrentUser(l){var u=this;return(0,E.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Za(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,E.Z)(function*(){var u;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,E.Z)(function*(){var u;const m=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return m?.error&&function xi(f,...l){Kn.logLevel<=Cn.in.WARN&&Kn.warn(`Auth (${$e.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function hn(f){return(0,z.m9)(f)}class q_{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,z.ne)(u=>this.observer=u)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bl(f){return new Promise((l,u)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=Pt("internal-error");y.customData=_,u(y)},m.type="text/javascript",m.charset="UTF-8",function G_(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function Wf(f){return`__${f}${Math.floor(1e6*Math.random())}`}class ia{constructor(l){this.type="recaptcha-enterprise",this.auth=hn(l)}verify(l="verify",u=!1){var m=this;return(0,E.Z)(function*(){function y(){return y=(0,E.Z)(function*(k){if(!u){if(null==k.tenantId&&null!=k._agentRecaptchaConfig)return k._agentRecaptchaConfig.siteKey;if(null!=k.tenantId&&void 0!==k._tenantRecaptchaConfigs[k.tenantId])return k._tenantRecaptchaConfigs[k.tenantId].siteKey}return new Promise(function(){var G=(0,E.Z)(function*(he,_e){hr(k,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(be=>{if(void 0!==be.recaptchaKey){const bn=new ur(be);return null==k.tenantId?k._agentRecaptchaConfig=bn:k._tenantRecaptchaConfigs[k.tenantId]=bn,he(bn.siteKey)}_e(new Error("recaptcha Enterprise site key undefined"))}).catch(be=>{_e(be)})});return function(he,_e){return G.apply(this,arguments)}}())}),y.apply(this,arguments)}function x(k,G,he){const _e=window.grecaptcha;Nt(_e)?_e.enterprise.ready(()=>{_e.enterprise.execute(k,{action:l}).then(be=>{G(be)}).catch(()=>{G("NO_RECAPTCHA")})}):he(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((k,G)=>{(function _(k){return y.apply(this,arguments)})(m.auth).then(he=>{if(!u&&Nt(window.grecaptcha))x(he,k,G);else{if(typeof window>"u")return void G(new Error("RecaptchaVerifier is only supported in browser"));bl("https://www.google.com/recaptcha/enterprise.js?render="+he).then(()=>{x(he,k,G)}).catch(_e=>{G(_e)})}}).catch(he=>{G(he)})})})()}}function W_(f,l,u){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,E.Z)(function*(f,l,u,m=!1){const _=new ia(f);let y;try{y=yield _.verify(u)}catch{y=yield _.verify(u,!0)}const x=Object.assign({},l);return Object.assign(x,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}function El(f,l,u,m){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,E.Z)(function*(f,l,u,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield W_(f,l,u,"getOobCode"===u);return m(f,y)}return m(f,l).catch(function(){var y=(0,E.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const k=yield W_(f,l,u,"getOobCode"===u);return m(f,k)}return Promise.reject(x)});return function(x){return y.apply(this,arguments)}}())}),Kf.apply(this,arguments)}function Ji(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function xl(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Zt{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return Tn("not implemented")}_getIdTokenResponse(l){return Tn("not implemented")}_linkToIdToken(l,u){return Tn("not implemented")}_getReauthenticationResolver(l){return Tn("not implemented")}}function Cl(f,l){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:resetPassword",ne(f,l))})).apply(this,arguments)}function Qa(){return(Qa=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function zn(f,l){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function Jf(){return(Jf=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",ne(f,l))})).apply(this,arguments)}function Ft(f,l){return Le.apply(this,arguments)}function Le(){return(Le=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithPassword",ne(f,l))})).apply(this,arguments)}function ra(f,l){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendOobCode",ne(f,l))})).apply(this,arguments)}function su(){return(su=(0,E.Z)(function*(f,l){return ra(f,l)})).apply(this,arguments)}function V(f,l){return ws.apply(this,arguments)}function ws(){return(ws=(0,E.Z)(function*(f,l){return ra(f,l)})).apply(this,arguments)}function Al(f,l){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,E.Z)(function*(f,l){return ra(f,l)})).apply(this,arguments)}function au(){return(au=(0,E.Z)(function*(f,l){return ra(f,l)})).apply(this,arguments)}function oa(){return(oa=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}function He(){return(He=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}class _t extends Zt{constructor(l,u,m,_=null){super("password",m),this._email=l,this._password=u,this._tenantId=_}static _fromEmailAndPassword(l,u){return new _t(l,u,"password")}static _fromEmailAndCode(l,u,m=null){return new _t(l,u,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,E.Z)(function*(){switch(u.signInMethod){case"password":return El(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ft);case"emailLink":return function Qo(f,l){return oa.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:It(l,"internal-error")}})()}_linkToIdToken(l,u){var m=this;return(0,E.Z)(function*(){switch(m.signInMethod){case"password":return El(l,{idToken:u,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zn);case"emailLink":return function K_(f,l){return He.apply(this,arguments)}(l,{idToken:u,email:m._email,oobCode:m._password});default:It(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Es(f,l){return tm.apply(this,arguments)}function tm(){return(tm=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithIdp",ne(f,l))})).apply(this,arguments)}class Yo extends Zt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new Yo(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):It("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=u,y=(0,Xe._T)(u,["providerId","signInMethod"]);if(!m||!_)return null;const x=new Yo(m,_);return x.idToken=y.idToken||void 0,x.accessToken=y.accessToken||void 0,x.secret=y.secret,x.nonce=y.nonce,x.pendingToken=y.pendingToken||null,x}_getIdTokenResponse(l){return Es(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,Es(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,Es(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,z.xO)(u)}return l}}function kl(){return(kl=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendVerificationCode",ne(f,l))})).apply(this,arguments)}function Q_(){return(Q_=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l))})).apply(this,arguments)}function Y_(){return(Y_=(0,E.Z)(function*(f,l){const u=yield Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l));if(u.temporaryProof)throw Qn(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Is={USER_NOT_FOUND:"user-not-found"};function X_(){return(X_=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Is)})).apply(this,arguments)}class Ya extends Zt{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new Ya({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new Ya({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function pr(f,l){return Q_.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function xE(f,l){return Y_.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function cM(f,l){return X_.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:m,verificationCode:_}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||u||_||y?new Ya({verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class cu{constructor(l){var u,m,_,y,x,k;const G=(0,z.zd)((0,z.pd)(l)),he=null!==(u=G.apiKey)&&void 0!==u?u:null,_e=null!==(m=G.oobCode)&&void 0!==m?m:null,be=function lM(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=G.mode)&&void 0!==_?_:null);ee(he&&_e&&be,"argument-error"),this.apiKey=he,this.operation=be,this.code=_e,this.continueUrl=null!==(y=G.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(x=G.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(k=G.tenantId)&&void 0!==k?k:null}static parseLink(l){const u=function CE(f){const l=(0,z.zd)((0,z.pd)(f)).link,u=l?(0,z.zd)((0,z.pd)(l)).deep_link_id:null,m=(0,z.zd)((0,z.pd)(f)).deep_link_id;return(m?(0,z.zd)((0,z.pd)(m)).link:null)||m||u||l||f}(l);try{return new cu(u)}catch{return null}}}let J_=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,m){return _t._fromEmailAndPassword(u,m)}static credentialWithLink(u,m){const _=cu.parseLink(m);return ee(_,"argument-error"),_t._fromEmailAndCode(u,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class An{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Oe extends An{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Ml extends Oe{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return ee("providerId"in u&&"signInMethod"in u,"argument-error"),Yo._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ee(l.idToken||l.accessToken,"argument-error"),Yo._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Ml.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Ml.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:x,providerId:k}=l;if(!m&&!_&&!u&&!y||!k)return null;try{return new Ml(k)._credential({idToken:u,accessToken:m,nonce:x,pendingToken:y})}catch{return null}}}let TE=(()=>{class f extends Oe{constructor(){super("facebook.com")}static credential(u){return Yo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),DE=(()=>{class f extends Oe{constructor(){super("google.com"),this.addScope("profile")}static credential(u,m){return Yo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_}=u;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),AE=(()=>{class f extends Oe{constructor(){super("github.com")}static credential(u){return Yo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Rl extends Zt{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return Es(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,Es(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,Es(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=u;return m&&_&&y&&m===_?new Rl(m,y):null}static _create(l,u){return new Rl(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sa extends An{constructor(l){ee(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return sa.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return sa.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Rl.fromJSON(l);return ee(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:m}=l;if(!u||!m)return null;try{return Rl._create(m,u)}catch{return null}}}let ev=(()=>{class f extends Oe{constructor(){super("twitter.com")}static credential(u,m){return Yo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=u;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function nm(f,l){return im.apply(this,arguments)}function im(){return(im=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signUp",ne(f,l))})).apply(this,arguments)}class Bi{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,m,_=!1){return(0,E.Z)(function*(){const y=yield ce._fromIdTokenResponse(l,m,_),x=Pl(m);return new Bi({user:y,providerId:x,_tokenResponse:m,operationType:u})})()}static _forOperation(l,u,m){return(0,E.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=Pl(m);return new Bi({user:l,providerId:_,_tokenResponse:m,operationType:u})})()}}function Pl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function lu(){return(lu=(0,E.Z)(function*(f){var l;const u=hn(f);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new Bi({user:u.currentUser,providerId:null,operationType:"signIn"});const m=yield nm(u,{returnSecureToken:!0}),_=yield Bi._fromIdTokenResponse(u,"signIn",m,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class du extends z.ZR{constructor(l,u,m,_){var y;super(u.code,u.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,du.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,u,m,_){return new du(l,u,m,_)}}function ht(f,l,u,m){return("reauthenticate"===l?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?du._fromErrorAndOperation(f,y,l,m):y})}function uu(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Di(){return Di=(0,E.Z)(function*(f,l){const u=(0,z.m9)(f);yield Lt(!0,u,l);const{providerUserInfo:m}=yield function _l(f,l){return mr.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),_=uu(m||[]);return u.providerData=u.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Di.apply(this,arguments)}function hu(f,l){return nv.apply(this,arguments)}function nv(){return(nv=(0,E.Z)(function*(f,l,u=!1){const m=yield Ci(f,l._linkToIdToken(f.auth,yield f.getIdToken()),u);return Bi._forOperation(f,"link",m)})).apply(this,arguments)}function Lt(f,l,u){return iv.apply(this,arguments)}function iv(){return(iv=(0,E.Z)(function*(f,l,u){yield Zr(l);const _=!1===f?"provider-already-linked":"no-such-provider";ee(uu(l.providerData).has(u)===f,l.auth,_)})).apply(this,arguments)}function SE(f,l){return X.apply(this,arguments)}function X(){return(X=(0,E.Z)(function*(f,l,u=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield Ci(f,ht(m,_,l,f),u);ee(y.idToken,m,"internal-error");const x=qo(y.idToken);ee(x,m,"internal-error");const{sub:k}=x;return ee(f.uid===k,m,"user-mismatch"),Bi._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&It(m,"user-mismatch"),y}})).apply(this,arguments)}function fu(f,l){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,E.Z)(function*(f,l,u=!1){const m="signIn",_=yield ht(f,m,l),y=yield Bi._fromIdTokenResponse(f,m,_);return u||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function Ol(f,l){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,E.Z)(function*(f,l){return fu(hn(f),l)})).apply(this,arguments)}function rv(f,l){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,E.Z)(function*(f,l){const u=(0,z.m9)(f);return yield Lt(!1,u,l.providerId),hu(u,l)})).apply(this,arguments)}function kE(f,l){return ov.apply(this,arguments)}function ov(){return(ov=(0,E.Z)(function*(f,l){return SE((0,z.m9)(f),l)})).apply(this,arguments)}function sv(){return(sv=(0,E.Z)(function*(f,l){return Pe(f,"POST","/v1/accounts:signInWithCustomToken",ne(f,l))})).apply(this,arguments)}function aa(){return aa=(0,E.Z)(function*(f,l){const u=hn(f),m=yield function uM(f,l){return sv.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),_=yield Bi._fromIdTokenResponse(u,"signIn",m);return yield u._updateCurrentUser(_.user),_}),aa.apply(this,arguments)}class ca{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?Xa._fromServerResponse(l,u):"totpInfo"in u?om._fromServerResponse(l,u):It(l,"internal-error")}}class Xa extends ca{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new Xa(u)}}class om extends ca{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new om(u)}}function mu(f,l,u){var m;ee((null===(m=u.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),ee(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ee(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(ee(u.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function sm(f){return pu.apply(this,arguments)}function pu(){return(pu=(0,E.Z)(function*(f){const l=hn(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function am(){return(am=(0,E.Z)(function*(f,l,u){const m=hn(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&mu(m,_,u),yield El(m,_,"getOobCode",V)})).apply(this,arguments)}function cm(){return cm=(0,E.Z)(function*(f,l,u){yield Cl((0,z.m9)(f),{oobCode:l,newPassword:u}).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&sm(f),_});return function(_){return m.apply(this,arguments)}}())}),cm.apply(this,arguments)}function gu(){return gu=(0,E.Z)(function*(f,l){yield function sM(f,l){return Jf.apply(this,arguments)}((0,z.m9)(f),{oobCode:l})}),gu.apply(this,arguments)}function ae(f,l){return ec.apply(this,arguments)}function ec(){return(ec=(0,E.Z)(function*(f,l){const u=(0,z.m9)(f),m=yield Cl(u,{oobCode:l}),_=m.requestType;switch(ee(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(m.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(m.mfaInfo,u,"internal-error");default:ee(m.email,u,"internal-error")}let y=null;return m.mfaInfo&&(y=ca._fromServerResponse(hn(u),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function la(){return(la=(0,E.Z)(function*(f,l){const{data:u}=yield ae((0,z.m9)(f),l);return u.email})).apply(this,arguments)}function dm(){return(dm=(0,E.Z)(function*(f,l,u){const m=hn(f),x=yield El(m,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nm).catch(G=>{throw"auth/password-does-not-meet-requirements"===G.code&&sm(f),G}),k=yield Bi._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}function tc(){return(tc=(0,E.Z)(function*(f,l,u){const m=hn(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(x,k){ee(k.handleCodeInApp,m,"argument-error"),k&&mu(m,x,k)})(_,u),yield El(m,_,"getOobCode",Al)})).apply(this,arguments)}function bt(){return(bt=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f),_=J_.credentialWithLink(l,u||Nr());return ee(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Ol(m,_)})).apply(this,arguments)}function Vl(){return(Vl=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:createAuthUri",ne(f,l))})).apply(this,arguments)}function _u(){return _u=(0,E.Z)(function*(f,l){const m={identifier:l,continueUri:Uo()?Nr():"http://localhost"},{signinMethods:_}=yield function av(f,l){return Vl.apply(this,arguments)}((0,z.m9)(f),m);return _||[]}),_u.apply(this,arguments)}function vu(){return vu=(0,E.Z)(function*(f,l){const u=(0,z.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&mu(u.auth,_,l);const{email:y}=yield function aM(f,l){return su.apply(this,arguments)}(u.auth,_);y!==f.email&&(yield f.reload())}),vu.apply(this,arguments)}function um(){return um=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};u&&mu(m.auth,y,u);const{email:x}=yield function em(f,l){return au.apply(this,arguments)}(m.auth,y);x!==f.email&&(yield f.reload())}),um.apply(this,arguments)}function hm(){return(hm=(0,E.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function gr(){return gr=(0,E.Z)(function*(f,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const m=(0,z.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},x=yield Ci(m,function dv(f,l){return hm.apply(this,arguments)}(m.auth,y));m.displayName=x.displayName||null,m.photoURL=x.photoUrl||null;const k=m.providerData.find(({providerId:G})=>"password"===G);k&&(k.displayName=m.displayName,k.photoURL=m.photoURL),yield m._updateTokensIfNecessary(x)}),gr.apply(this,arguments)}function hv(f,l,u){return fm.apply(this,arguments)}function fm(){return fm=(0,E.Z)(function*(f,l,u){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),u&&(y.password=u);const x=yield Ci(f,function Ot(f,l){return Qa.apply(this,arguments)}(m,y));yield f._updateTokensIfNecessary(x,!0)}),fm.apply(this,arguments)}class nc{constructor(l,u,m={}){this.isNewUser=l,this.providerId=u,this.profile=m}}class mm extends nc{constructor(l,u,m,_){super(l,u,m),this.username=_}}class FE extends nc{constructor(l,u){super(l,"facebook.com",u)}}class LE extends mm{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class VE extends nc{constructor(l,u){super(l,"google.com",u)}}class Sn extends mm{constructor(l,u,m){super(l,"twitter.com",u,m)}}function BE(f){const{user:l,_tokenResponse:u}=f;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function OE(f){var l,u;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const x=null===(u=null===(l=qo(f.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(x)return new nc(y,"anonymous"!==x&&"custom"!==x?x:null)}if(!m)return null;switch(m){case"facebook.com":return new FE(y,_);case"github.com":return new LE(y,_);case"google.com":return new VE(y,_);case"twitter.com":return new Sn(y,_,f.screenName||null);case"custom":case"anonymous":return new nc(y,null);default:return new nc(y,m,_)}}(u)}class ua{constructor(l,u,m){this.type=l,this.credential=u,this.user=m}static _fromIdtoken(l,u){return new ua("enroll",l,u)}static _fromMfaPendingCredential(l){return new ua("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,m;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return ua._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return ua._fromIdtoken(l.multiFactorSession.idToken)}return null}}class pm{constructor(l,u,m){this.session=l,this.hints=u,this.signInResolver=m}static _fromError(l,u){const m=hn(l),_=u.customData._serverResponse,y=(_.mfaInfo||[]).map(k=>ca._fromServerResponse(m,k));ee(_.mfaPendingCredential,m,"internal-error");const x=ua._fromMfaPendingCredential(_.mfaPendingCredential);return new pm(x,y,function(){var k=(0,E.Z)(function*(G){const he=yield G._process(m,x);delete _.mfaInfo,delete _.mfaPendingCredential;const _e=Object.assign(Object.assign({},_),{idToken:he.idToken,refreshToken:he.refreshToken});switch(u.operationType){case"signIn":const be=yield Bi._fromIdTokenResponse(m,u.operationType,_e);return yield m._updateCurrentUser(be.user),be;case"reauthenticate":return ee(u.user,m,"internal-error"),Bi._forOperation(u.user,u.operationType,_e);default:It(m,"internal-error")}});return function(G){return k.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,E.Z)(function*(){return u.signInResolver(l)})()}}class Lr{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(m=>ca._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new Lr(l)}getSession(){var l=this;return(0,E.Z)(function*(){return ua._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var m=this;return(0,E.Z)(function*(){const _=l,y=yield m.getSession(),x=yield Ci(m.user,_._process(m.user.auth,y,u));return yield m.user._updateTokensIfNecessary(x),m.user.reload()})()}unenroll(l){var u=this;return(0,E.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield u.user.getIdToken();try{const y=yield Ci(u.user,function Si(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(f,l))}(u.user.auth,{idToken:_,mfaEnrollmentId:m}));u.enrolledFactors=u.enrolledFactors.filter(({uid:x})=>x!==m),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Cs=new WeakMap,ai="__sak";class ha{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(ai,"1"),this.storage.removeItem(ai),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const en=(()=>{class f extends ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,m)=>this.onStorageEvent(u,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ze(){const f=(0,z.z$)();return Wo(f)||De(f)}()&&function Zo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=On(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&u(m,y,_)}}onStorageEvent(u,m=!1){if(!u.key)return void this.forAllChangedKeys((k,G,he)=>{this.notifyListeners(k,he)});const _=u.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const k=this.storage.getItem(_);if(u.newValue!==k)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!m)return}const y=()=>{const k=this.storage.getItem(_);!m&&this.localCache[_]===k||this.notifyListeners(_,k)},x=this.storage.getItem(_);!function _i(){return(0,z.w1)()&&10===document.documentMode}()||x===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,m){var _=()=>super._set,y=this;return(0,E.Z)(function*(){yield _().call(y,u,m),y.localCache[u]=JSON.stringify(m)})()}_get(u){var m=()=>super._get,_=this;return(0,E.Z)(function*(){const y=yield m().call(_,u);return _.localCache[u]=JSON.stringify(y),y})()}_remove(u){var m=()=>super._remove,_=this;return(0,E.Z)(function*(){yield m().call(_,u),delete _.localCache[u]})()}}return f.type="LOCAL",f})(),_r=(()=>{class f extends ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,m){}_removeListener(u,m){}}return f.type="SESSION",f})();let zl=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const m=this.receivers.find(y=>y.isListeningto(u));if(m)return m;const _=new f(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var m=this;return(0,E.Z)(function*(){const _=u,{eventId:y,eventType:x,data:k}=_.data,G=m.handlersMap[x];if(!G?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:x});const he=Array.from(G).map(function(){var be=(0,E.Z)(function*(bn){return bn(_.origin,k)});return function(bn){return be.apply(this,arguments)}}()),_e=yield function bo(f){return Promise.all(f.map(function(){var l=(0,E.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(m){return{fulfilled:!1,reason:m}}});return function(u){return l.apply(this,arguments)}}()))}(he);_.ports[0].postMessage({status:"done",eventId:y,eventType:x,response:_e})})()}_subscribe(u,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(m)}_unsubscribe(u,m){this.handlersMap[u]&&m&&this.handlersMap[u].delete(m),(!m||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function rc(f="",l=10){let u="";for(let m=0;m<l;m++)u+=Math.floor(10*Math.random());return f+u}class Ts{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,m=50){var _=this;return(0,E.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let x,k;return new Promise((G,he)=>{const _e=rc("",20);y.port1.start();const be=setTimeout(()=>{he(new Error("unsupported_event"))},m);k={messageChannel:y,onMessage(bn){const Ao=bn;if(Ao.data.eventId===_e)switch(Ao.data.status){case"ack":clearTimeout(be),x=setTimeout(()=>{he(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),G(Ao.data.response);break;default:clearTimeout(be),clearTimeout(x),he(new Error("invalid_response"))}}},_.handlers.add(k),y.port1.addEventListener("message",k.onMessage),_.target.postMessage({eventType:l,eventId:_e,data:u},[y.port2])}).finally(()=>{k&&_.removeMessageHandler(k)})})()}}function vn(){return window}function Be(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function bu(){return(bu=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $l="firebaseLocalStorageDb",Ds="firebaseLocalStorage",Mn="fbase_key";class Fn{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function Ln(f,l){return f.transaction([Ds],l?"readwrite":"readonly").objectStore(Ds)}function Jo(){const f=indexedDB.open($l,1);return new Promise((l,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Ds,{keyPath:Mn})}catch(_){u(_)}}),f.addEventListener("success",(0,E.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Ds)?l(m):(m.close(),yield function vm(){const f=indexedDB.deleteDatabase($l);return new Fn(f).toPromise()}(),l(yield Jo()))}))})}function Hl(f,l,u){return vr.apply(this,arguments)}function vr(){return(vr=(0,E.Z)(function*(f,l,u){const m=Ln(f,!0).put({[Mn]:l,value:u});return new Fn(m).toPromise()})).apply(this,arguments)}function bm(){return(bm=(0,E.Z)(function*(f,l){const u=Ln(f,!1).get(l),m=yield new Fn(u).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function mv(f,l){const u=Ln(f,!0).delete(l);return new Fn(u).toPromise()}const As=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,E.Z)(function*(){return u.db||(u.db=yield Jo()),u.db})()}_withRetries(u){var m=this;return(0,E.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield u(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,E.Z)(function*(){return Be()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,E.Z)(function*(){u.receiver=zl._getInstance(function wo(){return Be()?self:null}()),u.receiver._subscribe("keyChanged",function(){var m=(0,E.Z)(function*(_,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var m=(0,E.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,E.Z)(function*(){var m,_;if(u.activeServiceWorker=yield function gm(){return bu.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Ts(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var m=this;return(0,E.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function _m(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:u},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const u=yield Jo();return yield Hl(u,ai,"1"),yield mv(u,ai),!0}catch{}return!1})()}_withPendingWrite(u){var m=this;return(0,E.Z)(function*(){m.pendingWrites++;try{yield u()}finally{m.pendingWrites--}})()}_set(u,m){var _=this;return(0,E.Z)(function*(){return _._withPendingWrite((0,E.Z)(function*(){return yield _._withRetries(y=>Hl(y,u,m)),_.localCache[u]=m,_.notifyServiceWorker(u)}))})()}_get(u){var m=this;return(0,E.Z)(function*(){const _=yield m._withRetries(y=>function ym(f,l){return bm.apply(this,arguments)}(y,u));return m.localCache[u]=_,_})()}_remove(u){var m=this;return(0,E.Z)(function*(){return m._withPendingWrite((0,E.Z)(function*(){return yield m._withRetries(_=>mv(_,u)),delete m.localCache[u],m.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,E.Z)(function*(){const m=yield u._withRetries(x=>{const k=Ln(x,!1).getAll();return new Fn(k).toPromise()});if(!m)return[];if(0!==u.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:x,value:k}of m)y.add(x),JSON.stringify(u.localCache[x])!==JSON.stringify(k)&&(u.notifyListeners(x,k),_.push(x));for(const x of Object.keys(u.localCache))u.localCache[x]&&!y.has(x)&&(u.notifyListeners(x,null),_.push(x));return _})()}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Em=1e12;class bM{constructor(l){this.auth=l,this.counter=Em,this._widgets=new Map}render(l,u){const m=this.counter;return this._widgets.set(m,new wM(l,this.auth.name,u||{})),this.counter++,m}reset(l){var u;const m=l||Em;null===(u=this._widgets.get(m))||void 0===u||u.delete(),this._widgets.delete(m)}getResponse(l){var u;return(null===(u=this._widgets.get(l||Em))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,E.Z)(function*(){var m;return null===(m=u._widgets.get(l||Em))||void 0===m||m.execute(),""})()}}class wM{constructor(l,u,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;ee(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function EM(f){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gv=Wf("rcb"),IM=new Or(3e4,6e4);class _v{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=vn().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return ee(function vv(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&oi(vn().grecaptcha)?Promise.resolve(vn().grecaptcha):new Promise((m,_)=>{const y=vn().setTimeout(()=>{_(Pt(l,"network-request-failed"))},IM.get());vn()[gv]=()=>{vn().clearTimeout(y),delete vn()[gv];const k=vn().grecaptcha;if(!k||!oi(k))return void _(Pt(l,"internal-error"));const G=k.render;k.render=(he,_e)=>{const be=G(he,_e);return this.counter++,be},this.hostLanguage=u,m(k)},bl(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:gv,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),_(Pt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=vn().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class CM{load(l){return(0,E.Z)(function*(){return new bM(l)})()}clearedOneInstance(){}}const $E="recaptcha",TM={theme:"light",type:"image"};class DM{constructor(l,u,m=Object.assign({},TM)){this.parameters=m,this.type=$E,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hn(l),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;ee(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new CM:new _v,this.validateStartingState()}verify(){var l=this;return(0,E.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(u)||new Promise(y=>{const x=k=>{k&&(l.tokenChangeListeners.delete(x),y(k))};l.tokenChangeListeners.add(x),l.isInvisible&&m.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(m=>m(u)),"function"==typeof l)l(u);else if("string"==typeof l){const m=vn()[l];"function"==typeof m&&m(u)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,E.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const m=document.createElement("div");u.appendChild(m),u=m}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,E.Z)(function*(){ee(Uo()&&!Be(),l.auth,"internal-error"),yield function ma(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function gl(f){return jo.apply(this,arguments)}(l.auth);ee(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Im{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=Ya._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function wu(){return(wu=(0,E.Z)(function*(f,l,u){const m=hn(f),_=yield Iu(m,l,(0,z.m9)(u));return new Im(_,y=>Ol(m,y))})).apply(this,arguments)}function xm(){return(xm=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f);yield Lt(!1,m,"phone");const _=yield Iu(m.auth,l,(0,z.m9)(u));return new Im(_,y=>rv(m,y))})).apply(this,arguments)}function Eu(){return(Eu=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f),_=yield Iu(m.auth,l,(0,z.m9)(u));return new Im(_,y=>kE(m,y))})).apply(this,arguments)}function Iu(f,l,u){return ql.apply(this,arguments)}function ql(){return ql=(0,E.Z)(function*(f,l,u){var m;const _=yield u.verify();try{let y;if(ee("string"==typeof _,f,"argument-error"),ee(u.type===$E,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const x=y.session;if("phoneNumber"in y)return ee("enroll"===x.type,f,"internal-error"),(yield function le(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:start",ne(f,l))}(f,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ee("signin"===x.type,f,"internal-error");const k=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return ee(k,f,"missing-multi-factor-info"),(yield function pM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:start",ne(f,l))}(f,{mfaPendingCredential:x.credential,mfaEnrollmentId:k,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function IE(f,l){return kl.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return x}}finally{u._reset()}}),ql.apply(this,arguments)}function Vr(){return(Vr=(0,E.Z)(function*(f,l){yield hu((0,z.m9)(f),l)})).apply(this,arguments)}let sc=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=hn(u)}verifyPhoneNumber(u,m){return Iu(this.auth,u,(0,z.m9)(m))}static credential(u,m){return Ya._fromVerification(u,m)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:m,temporaryProof:_}=u;return m&&_?Ya._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Ss(f,l){return l?dt(l):(ee(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ht extends Zt{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Es(l,this._buildIdpRequest())}_linkToIdToken(l,u){return Es(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return Es(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Cm(f){return fu(f.auth,new Ht(f),f.bypassAuthState)}function Gl(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),SE(u,new Ht(f),f.bypassAuthState)}function ji(f){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,E.Z)(function*(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),hu(u,new Ht(f),f.bypassAuthState)})).apply(this,arguments)}class ac{constructor(l,u,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,E.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,E.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:x,error:k,type:G}=l;if(k)return void u.reject(k);const he={auth:u.auth,requestUri:m,sessionId:_,tenantId:x||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(G)(he))}catch(_e){u.reject(_e)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Cm;case"linkViaPopup":case"linkViaRedirect":return ji;case"reauthViaPopup":case"reauthViaRedirect":return Gl;default:It(this.auth,"internal-error")}}resolve(l){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cc=new Or(2e3,1e4);function Dm(){return(Dm=(0,E.Z)(function*(f,l,u){const m=hn(f);lt(f,l,An);const _=Ss(m,u);return new km(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Sm(){return(Sm=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f);lt(m.auth,l,An);const _=Ss(m.auth,u);return new km(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function xu(){return(xu=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f);lt(m.auth,l,An);const _=Ss(m.auth,u);return new km(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let km=(()=>{class f extends ac{constructor(u,m,_,y,x){super(u,m,y,x),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,E.Z)(function*(){const m=yield u.execute();return ee(m,u.auth,"internal-error"),m})()}onExecution(){var u=this;return(0,E.Z)(function*(){Dn(1===u.filter.length,"Popup operations only handle one event");const m=rc();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],m),u.authWindow.associatedEvent=m,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(Pt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,cc.get())};u()}}return f.currentPopupAction=null,f})();const bv="pendingRedirect",lc=new Map;class Cu extends ac{constructor(l,u,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,E.Z)(function*(){let m=lc.get(u.auth._key());if(!m){try{const y=(yield function Tu(f,l){return Wl.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}lc.set(u.auth._key(),m)}return u.bypassAuthState||lc.set(u.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,m=this;return(0,E.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,u().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function Wl(){return(Wl=(0,E.Z)(function*(f,l){const u=Ev(l),m=wv(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(u));return yield m._remove(u),_})).apply(this,arguments)}function Ue(f,l){return Du.apply(this,arguments)}function Du(){return(Du=(0,E.Z)(function*(f,l){return wv(f)._set(Ev(l),"true")})).apply(this,arguments)}function Mm(f,l){lc.set(f._key(),l)}function wv(f){return dt(f._redirectPersistence)}function Ev(f){return jn(bv,f.config.apiKey,f.name)}function Iv(f,l,u){return function dc(f,l,u){return Rm.apply(this,arguments)}(f,l,u)}function Rm(){return(Rm=(0,E.Z)(function*(f,l,u){const m=hn(f);lt(f,l,An),yield m._initializationPromise;const _=Ss(m,u);return yield Ue(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function GE(f,l,u){return function WE(f,l,u){return Pm.apply(this,arguments)}(f,l,u)}function Pm(){return(Pm=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f);lt(m.auth,l,An),yield m.auth._initializationPromise;const _=Ss(m.auth,u);yield Ue(_,m.auth);const y=yield uc(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function ZE(f,l,u){return function H(f,l,u){return mt.apply(this,arguments)}(f,l,u)}function mt(){return(mt=(0,E.Z)(function*(f,l,u){const m=(0,z.m9)(f);lt(m.auth,l,An),yield m.auth._initializationPromise;const _=Ss(m.auth,u);yield Lt(!1,m,l.providerId),yield Ue(_,m.auth);const y=yield uc(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function At(){return(At=(0,E.Z)(function*(f,l){return yield hn(f)._initializationPromise,St(f,l,!1)})).apply(this,arguments)}function St(f,l){return Au.apply(this,arguments)}function Au(){return(Au=(0,E.Z)(function*(f,l,u=!1){const m=hn(f),_=Ss(m,l),x=yield new Cu(m,_,u).execute();return x&&!u&&(delete x.user._redirectEventId,yield m._persistUserIfCurrent(x.user),yield m._setRedirectUser(null,l)),x})).apply(this,arguments)}function uc(f){return Br.apply(this,arguments)}function Br(){return(Br=(0,E.Z)(function*(f){const l=rc(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Su{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(u=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Cv(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var m;if(l.error&&!KE(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";u.onError(Pt(this.auth,_))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const m=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(l))}saveEventToCache(l){this.cachedEventUids.add(xv(l)),this.lastProcessedEventTime=Date.now()}}function xv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function KE({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function ki(f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,E.Z)(function*(f,l={}){return J(f,"GET","/v1/projects",l)})).apply(this,arguments)}const Tv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Io=/^https?/;function Om(){return(Om=(0,E.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield ki(f);for(const u of l)try{if(Dv(u))return}catch{}It(f,"unauthorized-domain")})).apply(this,arguments)}function Dv(f){const l=Nr(),{protocol:u,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const x=new URL(f);return""===x.hostname&&""===m?"chrome-extension:"===u&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&x.hostname===m}if(!Io.test(u))return!1;if(Tv.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const QE=new Or(3e4,6e4);function Av(){const f=vn().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let hc=null;const Lm=new Or(5e3,15e3),YE="__/auth/iframe",kv="emulator/auth/iframe",Vm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rv(f){const l=f.config;ee(l.authDomain,f,"auth-domain-config-required");const u=l.emulator?F(l,kv):`https://${f.config.authDomain}/${YE}`,m={apiKey:l.apiKey,appName:f.name,v:$e.SDK_VERSION},_=Mv.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${u}?${(0,z.xO)(m).slice(1)}`}function ku(){return ku=(0,E.Z)(function*(f){const l=yield function Sv(f){return hc=hc||function Fm(f){return new Promise((l,u)=>{var m,_,y;function x(){Av(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Av(),u(Pt(f,"network-request-failed"))},timeout:QE.get()})}if(null!==(_=null===(m=vn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=vn().gapi)||void 0===y||!y.load){const k=Wf("iframefcb");return vn()[k]=()=>{gapi.load?x():u(Pt(f,"network-request-failed"))},bl(`https://apis.google.com/js/api.js?onload=${k}`).catch(G=>u(G))}x()}}).catch(l=>{throw hc=null,l})}(f),hc}(f),u=vn().gapi;return ee(u,f,"internal-error"),l.open({where:document.body,url:Rv(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vm,dontclear:!0},m=>new Promise(function(){var _=(0,E.Z)(function*(y,x){yield m.restyle({setHideOnLeave:!1});const k=Pt(f,"network-request-failed"),G=vn().setTimeout(()=>{x(k)},Lm.get());function he(){vn().clearTimeout(G),y(m)}m.ping(he).then(he,()=>{x(k)})});return function(y,x){return _.apply(this,arguments)}}()))}),ku.apply(this,arguments)}const Bm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Um{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const eI="__/auth/handler",Ov="emulator/auth/handler",Fv=encodeURIComponent("fac");function fc(f,l,u,m,_,y){return xo.apply(this,arguments)}function xo(){return(xo=(0,E.Z)(function*(f,l,u,m,_,y){ee(f.config.authDomain,f,"auth-domain-config-required"),ee(f.config.apiKey,f,"invalid-api-key");const x={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:m,v:$e.SDK_VERSION,eventId:_};if(l instanceof An){l.setDefaultLanguage(f.languageCode),x.providerId=l.providerId||"",(0,z.xb)(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[_e,be]of Object.entries(y||{}))x[_e]=be}if(l instanceof Oe){const _e=l.getScopes().filter(be=>""!==be);_e.length>0&&(x.scopes=_e.join(","))}f.tenantId&&(x.tid=f.tenantId);const k=x;for(const _e of Object.keys(k))void 0===k[_e]&&delete k[_e];const G=yield f._getAppCheckToken(),he=G?`#${Fv}=${encodeURIComponent(G)}`:"";return`${function tI({config:f}){return f.emulator?F(f,Ov):`https://${f.authDomain}/${eI}`}(f)}?${(0,z.xO)(k).slice(1)}${he}`})).apply(this,arguments)}const mc="webStorageSupport",Zl=class Mu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_r,this._completeRedirectFn=St,this._overrideRedirectResult=Mm}_openPopup(l,u,m,_){var y=this;return(0,E.Z)(function*(){var x;Dn(null===(x=y.eventManagers[l._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const k=yield fc(l,u,m,Nr(),_);return function JE(f,l,u,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),x=Math.max((window.screen.availWidth-m)/2,0).toString();let k="";const G=Object.assign(Object.assign({},Bm),{width:m.toString(),height:_.toString(),top:y,left:x}),he=(0,z.z$)().toLowerCase();u&&(k=ou(he)?"_blank":u),_o(he)&&(l=l||"http://localhost",G.scrollbars="yes");const _e=Object.entries(G).reduce((bn,[Ao,Xl])=>`${bn}${Ao}=${Xl},`,"");if(function Ct(f=(0,z.z$)()){var l;return De(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(he)&&"_self"!==k)return function Nv(f,l){const u=document.createElement("a");u.href=f,u.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(m)}(l||"",k),new Um(null);const be=window.open(l||"",k,_e);ee(be,f,"popup-blocked");try{be.focus()}catch{}return new Um(be)}(l,k,rc())})()}_openRedirect(l,u,m,_){var y=this;return(0,E.Z)(function*(){return yield y._originValidation(l),function fa(f){vn().location.href=f}(yield fc(l,u,m,Nr(),_)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:_,promise:y}=this.eventManagers[u];return _?Promise.resolve(_):(Dn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[u]={promise:m},m.catch(()=>{delete this.eventManagers[u]}),m}initAndGetManager(l){var u=this;return(0,E.Z)(function*(){const m=yield function Pv(f){return ku.apply(this,arguments)}(l),_=new Su(l);return m.register("authEvent",y=>(ee(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:_},u.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(mc,{type:mc},_=>{var y;const x=null===(y=_?.[0])||void 0===y?void 0:y[mc];void 0!==x&&u(!!x),It(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function es(f){return Om.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return On()||Wo()||De()}};class jm{constructor(l){this.factorId=l}_process(l,u,m){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,m);case"signin":return this._finalizeSignIn(l,u.credential);default:return Tn("unexpected MultiFactorSessionType")}}}class Ru extends jm{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Ru(l)}_finalizeEnroll(l,u,m){return function ze(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:finalize",ne(f,l))}(l,{idToken:u,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function gM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:finalize",ne(f,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lv=(()=>{class f{constructor(){}static assertion(u){return Ru._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var Nu="@firebase/auth";class nI{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,E.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ts(){return window}(0,z.Pz)("authIdTokenMaxAge"),function kM(f){(0,$e._registerComponent)(new Bn.wA("auth",(l,{options:u})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:x,authDomain:k}=m.options;ee(x&&!x.includes(":"),"invalid-api-key",{appName:m.name});const G={apiKey:x,authDomain:k,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Za(f)},he=new vo(m,_,y,G);return function Wt(f,l){const u=l?.persistence||[],m=(Array.isArray(u)?u:[u]).map(dt);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(he,u),he},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,m)=>{l.getProvider("auth-internal").initialize()})),(0,$e._registerComponent)(new Bn.wA("auth-internal",l=>{const u=hn(l.getProvider("auth").getImmediate());return new nI(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)(Nu,"1.4.0",function iI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,$e.registerVersion)(Nu,"1.4.0","esm2017")}("Browser");function Lu(){return Lu=(0,E.Z)(function*(f,l,u){var m;const{BuildInfo:_}=ts();Dn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function Uv(f){return vc.apply(this,arguments)}(l.sessionId),x={};return De()?x.ibi=_.packageName:O()?x.apn=_.packageName:It(f,"operation-not-supported-in-this-environment"),_.displayName&&(x.appDisplayName=_.displayName),x.sessionId=y,fc(f,u,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,x)}),Lu.apply(this,arguments)}function $m(){return($m=(0,E.Z)(function*(f){const{BuildInfo:l}=ts(),u={};De()?u.iosBundleId=l.packageName:O()?u.androidPackageName=l.packageName:It(f,"operation-not-supported-in-this-environment"),yield ki(f,u)})).apply(this,arguments)}function _c(){return(_c=(0,E.Z)(function*(f,l,u){const{cordova:m}=ts();let _=()=>{};try{yield new Promise((y,x)=>{let k=null;function G(){var be;y();const bn=null===(be=m.plugins.browsertab)||void 0===be?void 0:be.close;"function"==typeof bn&&bn(),"function"==typeof u?.close&&u.close()}function he(){k||(k=window.setTimeout(()=>{x(Pt(f,"redirect-cancelled-by-user"))},2e3))}function _e(){"visible"===document?.visibilityState&&he()}l.addPassiveListener(G),document.addEventListener("resume",he,!1),O()&&document.addEventListener("visibilitychange",_e,!1),_=()=>{l.removePassiveListener(G),document.removeEventListener("resume",he,!1),document.removeEventListener("visibilitychange",_e,!1),k&&window.clearTimeout(k)}})}finally{_()}})).apply(this,arguments)}function vc(){return(vc=(0,E.Z)(function*(f){const l=function qm(f){if(Dn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),u=new Uint8Array(l);for(let m=0;m<f.length;m++)u[m]=f.charCodeAt(m);return u}(f),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class jv extends Su{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,E.Z)(function*(){yield l.initPromise})()}}function Gm(f){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,E.Z)(function*(f){const l=yield Zm()._get(Bu(f));return l&&(yield Zm()._remove(Bu(f))),l})).apply(this,arguments)}function ga(){const f=[];for(let u=0;u<20;u++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function Zm(){return dt(en)}function Bu(f){return jn("authEvent",f.config.apiKey,f.name)}function ns(f){if(!f?.includes("?"))return{};const[l,...u]=f.split("?");return(0,z.zd)(u.join("?"))}const yn=class aI{constructor(){this._redirectPersistence=_r,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=St,this._overrideRedirectResult=Mm}_initialize(l){var u=this;return(0,E.Z)(function*(){const m=l._key();let _=u.eventManagers.get(m);return _||(_=new jv(l),u.eventManagers.set(m,_),u.attachCallbackListeners(l,_)),_})()}_openPopup(l){It(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,m,_){var y=this;return(0,E.Z)(function*(){!function Hm(f){var l,u,m,_,y,x,k,G,he,_e;const be=ts();ee("function"==typeof(null===(l=be?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(u=be?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(y=null===(_=null===(m=be?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(G=null===(k=null===(x=be?.cordova)||void 0===x?void 0:x.plugins)||void 0===k?void 0:k.browsertab)||void 0===G?void 0:G.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(_e=null===(he=be?.cordova)||void 0===he?void 0:he.InAppBrowser)||void 0===_e?void 0:_e.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const x=yield y._initialize(l);yield x.initialized(),x.resetRedirect(),function AM(){lc.clear()}(),yield y._originValidation(l);const k=function zv(f,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:ga(),postBody:null,tenantId:f.tenantId,error:Pt(f,"no-auth-event")}}(l,m,_);yield function $v(f,l){return Zm()._set(Bu(f),l)}(l,k);const G=yield function RM(f,l,u){return Lu.apply(this,arguments)}(l,k,u),he=yield function Co(f){const{cordova:l}=ts();return new Promise(u=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function ut(f=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),u(_)})})}(G);return function oI(f,l,u){return _c.apply(this,arguments)}(l,x,he)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Bv(f){return $m.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=ts(),x=setTimeout((0,E.Z)(function*(){yield Gm(l),u.onEvent(Uu())}),500),k=function(){var _e=(0,E.Z)(function*(be){clearTimeout(x);const bn=yield Gm(l);let Ao=null;bn&&be?.url&&(Ao=function Vu(f,l){var u,m;const _=function yc(f){const l=ns(f),u=l.link?decodeURIComponent(l.link):void 0,m=ns(u).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return ns(_).link||_||m||u||f}(l);if(_.includes("/__/auth/callback")){const y=ns(_),x=y.firebaseError?function Hv(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,k=null===(m=null===(u=x?.code)||void 0===u?void 0:u.split("auth/"))||void 0===m?void 0:m[1],G=k?Pt(k):null;return G?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:G,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(bn,be.url)),u.onEvent(Ao||Uu())});return function(bn){return _e.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,k);const G=_,he=`${y.packageName.toLowerCase()}://`;ts().handleOpenURL=function(){var _e=(0,E.Z)(function*(be){if(be.toLowerCase().startsWith(he)&&k({url:be}),"function"==typeof G)try{G(be)}catch(bn){console.error(bn)}});return function(be){return _e.apply(this,arguments)}}()}};function Uu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pt("no-auth-event")}}function To(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Km(f=(0,z.z$)()){return!("file:"!==To()&&"ionic:"!==To()&&"capacitor:"!==To()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function dI(){try{const f=self.localStorage,l=rc();if(f)return f.setItem(l,"1"),f.removeItem(l),!function lI(f=(0,z.z$)()){return function Ec(){return(0,z.w1)()&&11===document?.documentMode}()||function PM(f=(0,z.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,z.hl)()}catch{return Gv()&&(0,z.hl)()}return!1}function Gv(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wv(){return(function wc(){return"http:"===To()||"https:"===To()}()||(0,z.ru)()||Km())&&!function Qm(){return(0,z.b$)()||(0,z.UG)()}()&&dI()&&!Gv()}function uI(){return Km()&&typeof document<"u"}function Zv(){return(Zv=(0,E.Z)(function*(){return!!uI()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const wr={LOCAL:"local",NONE:"none",SESSION:"session"},Kl=ee,$n="persistence";function _a(f){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,E.Z)(function*(f){yield f._initializationPromise;const l=va(),u=jn($n,f.config.apiKey,f.name);l&&l.setItem(u,f._getPersistence())})).apply(this,arguments)}function va(){var f;try{return(null===(f=function Ic(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Kv=ee;class Xr{constructor(){this.browserResolver=dt(Zl),this.cordovaResolver=dt(yn),this.underlyingResolver=null,this._redirectPersistence=_r,this._completeRedirectFn=St,this._overrideRedirectResult=Mm}_initialize(l){var u=this;return(0,E.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,m,_){var y=this;return(0,E.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,u,m,_)})()}_openRedirect(l,u,m,_){var y=this;return(0,E.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,u,m,_)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return uI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,E.Z)(function*(){if(l.underlyingResolver)return;const u=yield function NM(){return Zv.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function xc(f){return f.unwrap()}function OM(f){return fI(f)}function fI(f){const{_tokenResponse:l}=f instanceof z.ZR?f.customData:f;if(!l)return null;if(!(f instanceof z.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return sc.credentialFromResult(f);const u=l.providerId;if(!u||u===Mt.PASSWORD)return null;let m;switch(u){case Mt.GOOGLE:m=DE;break;case Mt.FACEBOOK:m=TE;break;case Mt.GITHUB:m=AE;break;case Mt.TWITTER:m=ev;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:x,pendingToken:k,nonce:G}=l;return y||x||_||k?k?u.startsWith("saml.")?Rl._create(u,k):Yo._fromParams({providerId:u,signInMethod:u,pendingToken:k,idToken:_,accessToken:y}):new Ml(u).credential({idToken:_,accessToken:y,rawNonce:G}):null}return f instanceof z.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function tn(f,l){return l.catch(u=>{throw u instanceof z.ZR&&function Qv(f,l){var u;const m=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new FM(f,function kn(f,l){var u;const m=(0,z.m9)(f),_=l;return ee(l.customData.operationType,m,"argument-error"),ee(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,m,"argument-error"),pm._fromError(m,_)}(f,l));else if(m){const _=fI(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:OM(u),additionalUserInfo:BE(u),user:Do.getOrCreate(_)}})}function Ql(f,l){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,E.Z)(function*(f,l){const u=yield l;return{verificationId:u.verificationId,confirm:m=>tn(f,u.confirm(m))}})).apply(this,arguments)}class FM{constructor(l,u){this.resolver=u,this.auth=function Xm(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return tn(xc(this.auth),this.resolver.resolveSignIn(l))}}class Do{constructor(l){this._delegate=l,this.multiFactor=function Jt(f){const l=(0,z.m9)(f);return Cs.has(l)||Cs.set(l,Lr._fromUser(l)),Cs.get(l)}(l)}static getOrCreate(l){return Do.USER_MAP.has(l)||Do.USER_MAP.set(l,new Do(l)),Do.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,E.Z)(function*(){return tn(u.auth,rv(u._delegate,l))})()}linkWithPhoneNumber(l,u){var m=this;return(0,E.Z)(function*(){return Ql(m.auth,function HE(f,l,u){return xm.apply(this,arguments)}(m._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,E.Z)(function*(){return tn(u.auth,function Eo(f,l,u){return xu.apply(this,arguments)}(u._delegate,l,Xr))})()}linkWithRedirect(l){var u=this;return(0,E.Z)(function*(){return yield _a(hn(u.auth)),ZE(u._delegate,l,Xr)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,E.Z)(function*(){return tn(u.auth,kE(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Ql(this.auth,function yv(f,l,u){return Eu.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return tn(this.auth,function Am(f,l,u){return Sm.apply(this,arguments)}(this._delegate,l,Xr))}reauthenticateWithRedirect(l){var u=this;return(0,E.Z)(function*(){return yield _a(hn(u.auth)),GE(u._delegate,l,Xr)})()}sendEmailVerification(l){return function Bl(f,l){return vu.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,E.Z)(function*(){return yield function tv(f,l){return Di.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function NE(f,l){return hv((0,z.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function uv(f,l){return hv((0,z.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function qE(f,l){return Vr.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function PE(f,l){return gr.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function lv(f,l,u){return um.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Do.USER_MAP=new WeakMap;const Yl=ee;let Yv=(()=>{class f{constructor(u,m){if(this.app=u,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;Yl(_,"invalid-api-key",{appName:u.name}),Yl(_,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?Xr:void 0;this._delegate=m.initialize({options:{persistence:mI(_,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(Zn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Do.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,m){!function Il(f,l,u){const m=hn(f);ee(m._canInitEmulator,m,"emulator-config-failed"),ee(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!u?.disableWarnings,y=Ji(l),{host:x,port:k}=function xe(f){const l=Ji(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!u)return{host:"",port:null};const m=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:xl(m.substr(y.length+1))}}{const[y,x]=m.split(":");return{host:y,port:xl(x)}}}(l);m.config.emulator={url:`${y}//${x}${null===k?"":`:${k}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:x,port:k,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Yf(){function f(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,u,m)}applyActionCode(u){return function j(f,l){return gu.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return ae(this._delegate,u)}confirmPasswordReset(u,m){return function xs(f,l,u){return cm.apply(this,arguments)}(this._delegate,u,m)}createUserWithEmailAndPassword(u,m){var _=this;return(0,E.Z)(function*(){return tn(_._delegate,function ME(f,l,u){return dm.apply(this,arguments)}(_._delegate,u,m))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function cv(f,l){return _u.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function Kr(f,l){const u=cu.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,E.Z)(function*(){Yl(Wv(),u._delegate,"operation-not-supported-in-this-environment");const m=yield function Vt(f,l){return At.apply(this,arguments)}(u._delegate,Xr);return m?tn(u._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function cI(f,l){hn(f)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,m,_){const{next:y,error:x,complete:k}=Xv(u,m,_);return this._delegate.onAuthStateChanged(y,x,k)}onIdTokenChanged(u,m,_){const{next:y,error:x,complete:k}=Xv(u,m,_);return this._delegate.onIdTokenChanged(y,x,k)}sendSignInLinkToEmail(u,m){return function Xo(f,l,u){return tc.apply(this,arguments)}(this._delegate,u,m)}sendPasswordResetEmail(u,m){return function Ja(f,l,u){return am.apply(this,arguments)}(this._delegate,u,m||void 0)}setPersistence(u){var m=this;return(0,E.Z)(function*(){let _;switch(function hI(f,l){Kl(Object.values(wr).includes(l),f,"invalid-persistence-type"),(0,z.b$)()?Kl(l!==wr.SESSION,f,"unsupported-persistence-type"):(0,z.UG)()?Kl(l===wr.NONE,f,"unsupported-persistence-type"):Gv()?Kl(l===wr.NONE||l===wr.LOCAL&&(0,z.hl)(),f,"unsupported-persistence-type"):Kl(l===wr.NONE||dI(),f,"unsupported-persistence-type")}(m._delegate,u),u){case wr.SESSION:_=_r;break;case wr.LOCAL:_=(yield dt(As)._isAvailable())?As:en;break;case wr.NONE:_=Gt;break;default:return It("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return tn(this._delegate,function rm(f){return lu.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return tn(this._delegate,Ol(this._delegate,u))}signInWithCustomToken(u){return tn(this._delegate,function hM(f,l){return aa.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,m){return tn(this._delegate,function RE(f,l,u){return Ol((0,z.m9)(f),J_.credential(l,u)).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&sm(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,u,m))}signInWithEmailLink(u,m){return tn(this._delegate,function yo(f,l,u){return bt.apply(this,arguments)}(this._delegate,u,m))}signInWithPhoneNumber(u,m){return Ql(this._delegate,function yr(f,l,u){return wu.apply(this,arguments)}(this._delegate,u,m))}signInWithPopup(u){var m=this;return(0,E.Z)(function*(){return Yl(Wv(),m._delegate,"operation-not-supported-in-this-environment"),tn(m._delegate,function br(f,l,u){return Dm.apply(this,arguments)}(m._delegate,u,Xr))})()}signInWithRedirect(u){var m=this;return(0,E.Z)(function*(){return Yl(Wv(),m._delegate,"operation-not-supported-in-this-environment"),yield _a(m._delegate),Iv(m._delegate,u,Xr)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function lm(f,l){return la.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=wr,f})();function Xv(f,l,u){let m=f;"function"!=typeof f&&({next:m,error:l,complete:u}=f);const _=m;return{next:x=>_(x&&Do.getOrCreate(x)),error:l,complete:u}}function mI(f,l){const u=function tr(f,l){const u=va();if(!u)return[];const m=jn($n,f,l);switch(u.getItem(m)){case wr.NONE:return[Gt];case wr.LOCAL:return[As,_r];case wr.SESSION:return[_r];default:return[]}}(f,l);if(typeof self<"u"&&!u.includes(As)&&u.push(As),typeof window<"u")for(const m of[en,_r])u.includes(m)||u.push(m);return u.includes(Gt)||u.push(Gt),u}class Jm{constructor(){this.providerId="phone",this._delegate=new sc(xc(Ce.Z.auth()))}static credential(l,u){return sc.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Jm.PHONE_SIGN_IN_METHOD=sc.PHONE_SIGN_IN_METHOD,Jm.PROVIDER_ID=sc.PROVIDER_ID;const pI=ee;class ep{constructor(l,u,m=Ce.Z.app()){var _;pI(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new DM(m.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gI(f){f.INTERNAL.registerComponent(new Bn.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new Yv(u,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:J_,FacebookAuthProvider:TE,GithubAuthProvider:AE,GoogleAuthProvider:DE,OAuthProvider:Ml,SAMLAuthProvider:sa,PhoneAuthProvider:Jm,PhoneMultiFactorGenerator:Lv,RecaptchaVerifier:ep,TwitterAuthProvider:ev,Auth:Yv,AuthCredential:Zt,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(Ce.Z)},861:(Bo,mi,Ye)=>{function E(z,$e,Cn,Xe,Bn,Ii,Mt){try{var te=z[Ii](Mt),se=te.value}catch(Te){return void Cn(Te)}te.done?$e(se):Promise.resolve(se).then(Xe,Bn)}function Ce(z){return function(){var $e=this,Cn=arguments;return new Promise(function(Xe,Bn){var Ii=z.apply($e,Cn);function Mt(se){E(Ii,Xe,Bn,Mt,te,"next",se)}function te(se){E(Ii,Xe,Bn,Mt,te,"throw",se)}Mt(void 0)})}}Ye.d(mi,{Z:()=>Ce})},582:(Bo,mi,Ye)=>{function $e(F,U){var Q={};for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&U.indexOf(W)<0&&(Q[W]=F[W]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(W=Object.getOwnPropertySymbols(F);ne<W.length;ne++)U.indexOf(W[ne])<0&&Object.prototype.propertyIsEnumerable.call(F,W[ne])&&(Q[W[ne]]=F[W[ne]])}return Q}function Te(F,U,Q,W){return new(Q||(Q=Promise))(function(J,Fe){function gt(xt){try{Pe(W.next(xt))}catch(Nn){Fe(Nn)}}function Un(xt){try{Pe(W.throw(xt))}catch(Nn){Fe(Nn)}}function Pe(xt){xt.done?J(xt.value):function ne(J){return J instanceof Q?J:new Q(function(Fe){Fe(J)})}(xt.value).then(gt,Un)}Pe((W=W.apply(F,U||[])).next())})}function on(F){return this instanceof on?(this.v=F,this):new on(F)}function It(F,U,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,W=Q.apply(F,U||[]),J=[];return ne={},Fe("next"),Fe("throw"),Fe("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function Fe(Ne){W[Ne]&&(ne[Ne]=function(gi){return new Promise(function(Qn,oi){J.push([Ne,gi,Qn,oi])>1||gt(Ne,gi)})})}function gt(Ne,gi){try{!function Un(Ne){Ne.value instanceof on?Promise.resolve(Ne.value.v).then(Pe,xt):Nn(J[0][2],Ne)}(W[Ne](gi))}catch(Qn){Nn(J[0][3],Qn)}}function Pe(Ne){gt("next",Ne)}function xt(Ne){gt("throw",Ne)}function Nn(Ne,gi){Ne(gi),J.shift(),J.length&&gt(J[0][0],J[0][1])}}function Li(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,U=F[Symbol.asyncIterator];return U?U.call(F):(F=function Rt(F){var U="function"==typeof Symbol&&Symbol.iterator,Q=U&&F[U],W=0;if(Q)return Q.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&W>=F.length&&(F=void 0),{value:F&&F[W++],done:!F}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(J){Q[J]=F[J]&&function(Fe){return new Promise(function(gt,Un){!function ne(J,Fe,gt,Un){Promise.resolve(Un).then(function(Pe){J({value:Pe,done:gt})},Fe)}(gt,Un,(Fe=F[J](Fe)).done,Fe.value)})}}}Ye.d(mi,{FC:()=>It,KL:()=>Li,_T:()=>$e,mG:()=>Te,qq:()=>on}),"function"==typeof SuppressedError&&SuppressedError}},Bo=>{Bo(Bo.s=625)}]);
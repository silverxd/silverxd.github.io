"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:($o,fi,Xe)=>{Xe.d(fi,{BH:()=>Vt,G6:()=>Fr,L:()=>Ft,LL:()=>J,Pz:()=>Dt,Sg:()=>Ui,UG:()=>ee,ZB:()=>Te,ZR:()=>ne,aH:()=>on,b$:()=>Nr,eu:()=>z,hl:()=>B,jU:()=>In,m9:()=>El,ne:()=>Zo,pd:()=>bl,r3:()=>ii,ru:()=>Cn,tV:()=>te,uI:()=>mi,vZ:()=>Go,w1:()=>yo,xO:()=>Qa,xb:()=>gr,z$:()=>ht,zd:()=>vr});const qe=function(D){const C=[];let T=0;for(let Z=0;Z<D.length;Z++){let F=D.charCodeAt(Z);F<128?C[T++]=F:F<2048?(C[T++]=F>>6|192,C[T++]=63&F|128):55296==(64512&F)&&Z+1<D.length&&56320==(64512&D.charCodeAt(Z+1))?(F=65536+((1023&F)<<10)+(1023&D.charCodeAt(++Z)),C[T++]=F>>18|240,C[T++]=F>>12&63|128,C[T++]=F>>6&63|128,C[T++]=63&F|128):(C[T++]=F>>12|224,C[T++]=F>>6&63|128,C[T++]=63&F|128)}return C},Je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,C){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let F=0;F<D.length;F+=3){const de=D[F],be=F+1<D.length,ft=be?D[F+1]:0,_e=F+2<D.length,Zt=_e?D[F+2]:0;let ji=(15&ft)<<2|Zt>>6,Eo=63&Zt;_e||(Eo=64,be||(ji=64)),Z.push(T[de>>2],T[(3&de)<<4|ft>>4],T[ji],T[Eo])}return Z.join("")},encodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(D):this.encodeByteArray(qe(D),C)},decodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(D):function(D){const C=[];let T=0,Z=0;for(;T<D.length;){const F=D[T++];if(F<128)C[Z++]=String.fromCharCode(F);else if(F>191&&F<224){const de=D[T++];C[Z++]=String.fromCharCode((31&F)<<6|63&de)}else if(F>239&&F<365){const _e=((7&F)<<18|(63&D[T++])<<12|(63&D[T++])<<6|63&D[T++])-65536;C[Z++]=String.fromCharCode(55296+(_e>>10)),C[Z++]=String.fromCharCode(56320+(1023&_e))}else{const de=D[T++],be=D[T++];C[Z++]=String.fromCharCode((15&F)<<12|(63&de)<<6|63&be)}}return C.join("")}(this.decodeStringToByteArray(D,C))},decodeStringToByteArray(D,C){this.init_();const T=C?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let F=0;F<D.length;){const de=T[D.charAt(F++)],ft=F<D.length?T[D.charAt(F)]:0;++F;const Zt=F<D.length?T[D.charAt(F)]:64;++F;const ct=F<D.length?T[D.charAt(F)]:64;if(++F,null==de||null==ft||null==Zt||null==ct)throw new Vn;Z.push(de<<2|ft>>4),64!==Zt&&(Z.push(ft<<4&240|Zt>>2),64!==ct&&Z.push(Zt<<6&192|ct))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class Vn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(D){return function(D){const C=qe(D);return Je.encodeByteArray(C,!0)}(D).replace(/\./g,"")},te=function(D){try{return Je.decodeString(D,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function Te(D,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return C}for(const T in C)!C.hasOwnProperty(T)||!at(T)||(D[T]=Te(D[T],C[T]));return D}function at(D){return"__proto__"!==D}const ut=()=>{try{return function Tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=D&&te(D[1]);return C&&JSON.parse(C)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},on=()=>{var D;return null===(D=ut())||void 0===D?void 0:D.config},Dt=D=>{var C;return null===(C=ut())||void 0===C?void 0:C[`_${D}`]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,T)=>{this.resolve=C,this.reject=T})}wrapCallback(C){return(T,Z)=>{T?this.reject(T):this.resolve(Z),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(T):C(T,Z))}}}function Ui(D,C){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=C||"demo-project",F=D.iat||0,de=D.sub||D.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const be=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:F,exp:F+3600,auth_time:F,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},D);return[Ft(JSON.stringify({alg:"none",type:"JWT"})),Ft(JSON.stringify(be)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function ee(){var D;const C=null===(D=ut())||void 0===D?void 0:D.forceEnvironment;if("node"===C)return!0;if("browser"===C)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function In(){return"object"==typeof self&&self.self===self}function Cn(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Nr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yo(){const D=ht();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Fr(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){try{return"object"==typeof indexedDB}catch{return!1}}function z(){return new Promise((D,C)=>{try{let T=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(Z);F.onsuccess=()=>{F.result.close(),T||self.indexedDB.deleteDatabase(Z),D(!0)},F.onupgradeneeded=()=>{T=!1},F.onerror=()=>{var de;C((null===(de=F.error)||void 0===de?void 0:de.message)||"")}}catch(T){C(T)}})}class ne extends Error{constructor(C,T,Z){super(T),this.code=C,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(C,T,Z){this.service=C,this.serviceName=T,this.errors=Z}create(C,...T){const Z=T[0]||{},F=`${this.service}/${C}`,de=this.errors[C],be=de?function Ue(D,C){return D.replace(gt,(T,Z)=>{const F=C[Z];return null!=F?String(F):`<${Z}?>`})}(de,Z):"Error";return new ne(F,`${this.serviceName}: ${be} (${F}).`,Z)}}const gt=/\{\$([^}]+)}/g;function ii(D,C){return Object.prototype.hasOwnProperty.call(D,C)}function gr(D){for(const C in D)if(Object.prototype.hasOwnProperty.call(D,C))return!1;return!0}function Go(D,C){if(D===C)return!0;const T=Object.keys(D),Z=Object.keys(C);for(const F of T){if(!Z.includes(F))return!1;const de=D[F],be=C[F];if(_r(de)&&_r(be)){if(!Go(de,be))return!1}else if(de!==be)return!1}for(const F of Z)if(!T.includes(F))return!1;return!0}function _r(D){return null!==D&&"object"==typeof D}function Qa(D){const C=[];for(const[T,Z]of Object.entries(D))Array.isArray(Z)?Z.forEach(F=>{C.push(encodeURIComponent(T)+"="+encodeURIComponent(F))}):C.push(encodeURIComponent(T)+"="+encodeURIComponent(Z));return C.length?"&"+C.join("&"):""}function vr(D){const C={};return D.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[F,de]=Z.split("=");C[decodeURIComponent(F)]=decodeURIComponent(de)}}),C}function bl(D){const C=D.indexOf("?");if(!C)return"";const T=D.indexOf("#",C);return D.substring(C,T>0?T:void 0)}function Zo(D,C){const T=new bo(D,C);return T.subscribe.bind(T)}class bo{constructor(C,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{C(this)}).catch(Z=>{this.error(Z)})}next(C){this.forEachObserver(T=>{T.next(C)})}error(C){this.forEachObserver(T=>{T.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,T,Z){let F;if(void 0===C&&void 0===T&&void 0===Z)throw new Error("Missing Observer.");F=function wo(D,C){if("object"!=typeof D||null===D)return!1;for(const T of C)if(T in D&&"function"==typeof D[T])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:T,complete:Z},void 0===F.next&&(F.next=bs),void 0===F.error&&(F.error=bs),void 0===F.complete&&(F.complete=bs);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),de}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,C)}sendOne(C,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{T(this.observers[C])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bs(){}function El(D){return D&&D._delegate?D._delegate:D}},623:($o,fi,Xe)=>{let xe=null,qe=1;function Je(n){const e=xe;return xe=n,e}function at(n){if((!Vt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==qe)){if(!n.producerMustRecompute(n)&&!Zn(n))return n.dirty=!1,void(n.lastCleanEpoch=qe);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=qe}}function Zn(n){Ui(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(at(t),i!==t.version))return!0}return!1}function Dt(n,e){if(function ht(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ui(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Dt(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ui(r),r.producerIndexOfThis[i]=e}}function Vt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ui(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let yo=null;function Fe(n){return"function"==typeof n}function pi(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Kn=pi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ii(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Fe(i))try{i()}catch(o){e=o instanceof Kn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Go(o)}catch(s){e=e??[],s instanceof Kn?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Kn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Go(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ii(t,e)}remove(e){const{_finalizers:t}=this;t&&ii(t,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const n=new Pt;return n.closed=!0,n})();const gr=Pt.EMPTY;function yl(n){return n instanceof Pt||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function Go(n){Fe(n)?n():n.unsubscribe()}const _r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wo={setTimeout(n,e,...t){const{delegate:i}=Wo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Wo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Qa(n){Wo.setTimeout(()=>{const{onUnhandledError:e}=_r;if(!e)throw n;e(n)})}function vr(){}const bl=bo("C",void 0,void 0);function bo(n,e,t){return{kind:n,value:e,error:t}}let tr=null;function wo(n){if(_r.useDeprecatedSynchronousErrorHandling){const e=!tr;if(e&&(tr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=tr;if(tr=null,t)throw i}}else n()}class ws extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yl(e)&&e.add(this)):this.destination=Xa}static create(e,t,i){return new Ci(e,t,i)}next(e){this.isStopped?Ya(function Zo(n){return bo("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ya(function yr(n){return bo("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ya(bl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ko=Function.prototype.bind;function Qo(n,e){return Ko.call(n,e)}class Lr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Yo(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Yo(i)}else Yo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Yo(t)}}}class Ci extends ws{constructor(e,t,i){let r;if(super(),Fe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&_r.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Qo(e.next,o),error:e.error&&Qo(e.error,o),complete:e.complete&&Qo(e.complete,o)}):r=e}this.destination=new Lr(r)}}function Yo(n){_r.useDeprecatedSynchronousErrorHandling?function bs(n){_r.useDeprecatedSynchronousErrorHandling&&tr&&(tr.errorThrown=!0,tr.error=n)}(n):Qa(n)}function Ya(n,e){const{onStoppedNotification:t}=_r;t&&Wo.setTimeout(()=>t(n,e))}const Xa={closed:!0,next:vr,error:function wl(n){throw n},complete:vr},eo="function"==typeof Symbol&&Symbol.observable||"@@observable";function xi(n){return n}function ra(n){return 0===n.length?xi:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Et=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function D(n){return n&&n instanceof ws||function El(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&yl(n)}(t)?t:new Ci(t,i,r);return wo(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Ja(i))((r,o)=>{const s=new Ci({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[eo](){return this}pipe(...t){return ra(t)(this)}toPromise(t){return new(t=Ja(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Ja(n){var e;return null!==(e=n??_r.Promise)&&void 0!==e?e:Promise}const C=pi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let T=(()=>{class n extends Et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Z(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new C}next(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?gr:(this.currentObservers=null,o.push(t),new Pt(()=>{this.currentObservers=null,ii(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Et;return t.source=this,t}}return n.create=(e,t)=>new Z(e,t),n})();class Z extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:gr}}function F(n){return Fe(n?.lift)}function de(n){return e=>{if(F(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,i,r){return new ft(n,e,t,i,r)}class ft extends ws{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(n,e){return de((t,i)=>{let r=0;t.subscribe(be(i,o=>{i.next(n.call(e,o,r++))}))})}var Zt=Xe(582);const Un=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ct(n){return Fe(n?.then)}function ji(n){return Fe(n[eo])}function Eo(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function Xo(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $=function fu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function L(n){return Fe(n?.[$])}function oe(n){return(0,Zt.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Zt.qq)(t.read());if(r)return yield(0,Zt.qq)(void 0);yield yield(0,Zt.qq)(i)}}finally{t.releaseLock()}})}function ke(n){return Fe(n?.getReader)}function De(n){if(n instanceof Et)return n;if(null!=n){if(ji(n))return function mt(n){return new Et(e=>{const t=n[eo]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Un(n))return function At(n){return new Et(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ct(n))return function gi(n){return new Et(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Qa)})}(n);if(Eo(n))return Jo(n);if(L(n))return function Nn(n){return new Et(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ke(n))return function ec(n){return Jo(oe(n))}(n)}throw Xo(n)}function Jo(n){return new Et(e=>{(function AE(n,e){var t,i,r,o;return(0,Zt.mG)(this,void 0,void 0,function*(){try{for(t=(0,Zt.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function es(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function _i(n,e,t=1/0){return Fe(e)?_i((i,r)=>_e((o,s)=>e(i,o,r,s))(De(n(i,r))),t):("number"==typeof e&&(t=e),de((i,r)=>function om(n,e,t,i,r,o,s,a){const c=[];let d=0,h=0,p=!1;const g=()=>{p&&!c.length&&!d&&e.complete()},v=w=>d<i?b(w):c.push(w),b=w=>{o&&e.next(w),d++;let E=!1;De(t(w,h++)).subscribe(be(e,k=>{r?.(k),o?v(k):e.next(k)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;c.length&&d<i;){const k=c.shift();s?es(e,s,()=>b(k)):b(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(be(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function tc(n=1/0){return _i(xi,n)}const Io=new Et(n=>n.complete());function $_(n){return n&&Fe(n.schedule)}function Il(n){return n[n.length-1]}function sm(n){return Fe(Il(n))?n.pop():void 0}function Cl(n){return $_(Il(n))?n.pop():void 0}function oa(n,e=0){return de((t,i)=>{t.subscribe(be(i,r=>es(i,n,()=>i.next(r),e),()=>es(i,n,()=>i.complete(),e),r=>es(i,n,()=>i.error(r),e)))})}function sa(n,e=0){return de((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function G_(n,e){if(!n)throw new Error("Iterable cannot be null");return new Et(t=>{es(t,e,()=>{const i=n[Symbol.asyncIterator]();es(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Kt(n,e){return e?function ME(n,e){if(null!=n){if(ji(n))return function q_(n,e){return De(n).pipe(sa(e),oa(e))}(n,e);if(Un(n))return function xl(n,e){return new Et(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(ct(n))return function am(n,e){return De(n).pipe(sa(e),oa(e))}(n,e);if(Eo(n))return G_(n,e);if(L(n))return function cm(n,e){return new Et(t=>{let i;return es(t,e,()=>{i=n[$](),es(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Fe(i?.return)&&i.return()})}(n,e);if(ke(n))return function lm(n,e){return G_(oe(n),e)}(n,e)}throw Xo(n)}(n,e):De(n)}function nc(...n){const e=Cl(n),t=function kE(n,e){return"number"==typeof Il(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?De(i[0]):tc(t)(Kt(i,e)):Io}class nr extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Ie(...n){return Kt(n,Cl(n))}function Tl(n={}){const{connector:e=(()=>new T),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return de((w,E)=>{d++,!p&&!h&&g();const k=c=c??e();E.add(()=>{d--,0===d&&!p&&!h&&(a=dm(b,r))}),k.subscribe(E),!s&&d>0&&(s=new Ci({next:S=>k.next(S),error:S=>{p=!0,g(),a=dm(v,t,S),k.error(S)},complete:()=>{h=!0,g(),a=dm(v,i),k.complete()}}),De(w).subscribe(s))})(o)}}function dm(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return De(e(...t)).subscribe(i)}function Gt(n,e){return de((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(be(i,c=>{r?.unsubscribe();let d=0;const h=o++;De(n(c,h)).subscribe(r=be(i,p=>i.next(e?e(c,p,h,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Dl(n,e=xi){return n=n??um,de((t,i)=>{let r,o=!0;t.subscribe(be(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function um(n,e){return n===e}function Ut(n){for(let e in n)if(n[e]===Ut)return e;throw Error("Could not find renamed property on target object.")}function ic(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Sl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const hm=Ut({__forward_ref__:Ut});function jt(n){return n.__forward_ref__=jt,n.toString=function(){return jn(this())},n}function ze(n){return aa(n)?n():n}function aa(n){return"function"==typeof n&&n.hasOwnProperty(hm)&&n.__forward_ref__===jt}function Al(n){return n&&!!n.\u0275providers}const mu="https://g.co/ng/security#xss";class j extends Error{constructor(e,t){super(function Is(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const kl=Ut({\u0275cmp:Ut}),Ml=Ut({\u0275dir:Ut}),fm=Ut({\u0275pipe:Ut}),pu=Ut({\u0275mod:Ut}),ts=Ut({\u0275fac:Ut}),ca=Ut({__NG_ELEMENT_ID__:Ut}),W_=Ut({__NG_ENV_ID__:Ut});function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Rl(n,e){throw new j(-201,!1)}function xn(n,e){null==n&&function Le(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function la(n){return pm(n,Nl)||pm(n,_u)}function pm(n,e){return n.hasOwnProperty(e)?n[e]:null}function zi(n){return n&&(n.hasOwnProperty(_m)||n.hasOwnProperty(vu))?n[_m]:null}const Nl=Ut({\u0275prov:Ut}),_m=Ut({\u0275inj:Ut}),_u=Ut({ngInjectableDef:Ut}),vu=Ut({ngInjectorDef:Ut});var pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pt||{});let yu;function J_(){return yu}function Ti(n){const e=yu;return yu=n,e}function bu(n,e,t){const i=la(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&pt.Optional?null:void 0!==e?e:void Rl(jn(n))}const zt=globalThis;class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const da={},ua="__NG_DI_FLAG__",oc="ngTempTokenPath",Eu=/\n/gm,Iu="__source";let sc;function Ts(n){const e=sc;return sc=n,e}function wm(n,e=pt.Default){if(void 0===sc)throw new j(-203,!1);return null===sc?bu(n,void 0,e):sc.get(n,e&pt.Optional?null:void 0,e)}function O(n,e=pt.Default){return(J_()||wm)(ze(n),e)}function ce(n,e=pt.Default){return O(n,ac(e))}function ac(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Em(n){const e=[];for(let t=0;t<n.length;t++){const i=ze(n[t]);if(Array.isArray(i)){if(0===i.length)throw new j(900,!1);let r,o=pt.Default;for(let s=0;s<i.length;s++){const a=i[s],c=jE(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(O(r,o))}else e.push(O(i))}return e}function ha(n,e){return n[ua]=e,n.prototype[ua]=e,n}function jE(n){return n[ua]}function is(n){return{toString:n}.toString()}var cc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(cc||{}),to=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(to||{});const Co={},It=[];function ov(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ul(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];xu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function sv(n){return 3===n||4===n||6===n}function xu(n){return 64===n.charCodeAt(0)}function jl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Tu(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Tu(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const av="ng-template";function Cm(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==ov(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function cv(n){return 4===n.type&&n.value!==av}function xm(n,e,t){return e===(4!==n.type||t?n.value:av)}function HE(n,e,t){let i=4;const r=n.attrs||[],o=function Tm(n){for(let e=0;e<n.length;e++)if(sv(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!xm(n,c,t)||""===c&&1===e.length){if(wr(i))return!1;s=!0}}else{const d=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!Cm(n.attrs,d,t)){if(wr(i))return!1;s=!0}continue}const p=$E(8&i?"class":c,r,cv(n),t);if(-1===p){if(wr(i))return!1;s=!0;continue}if(""!==d){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==ov(v,d,0)||2&i&&d!==g){if(wr(i))return!1;s=!0}}}}else{if(!s&&!wr(i)&&!wr(c))return!1;if(s&&wr(c))continue;s=!1,i=c|1&i}}return wr(i)||s}function wr(n){return 0==(1&n)}function $E(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function qE(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function lv(n,e,t=!1){for(let i=0;i<e.length;i++)if(HE(n,e[i],t))return!0;return!1}function lc(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Dm(n,e){return n?":not("+e.trim()+")":e}function GE(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!wr(s)&&(e+=Dm(o,r),r=""),i=s,o=o||!wr(i);t++}return""!==r&&(e+=Dm(o,r)),e}function Tn(n){return is(()=>{const e=YE(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===cc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||to.Emulated,styles:n.styles||It,_:null,schemas:n.schemas||null,tView:null,id:""};XE(t);const i=n.dependencies;return t.directiveDefs=dc(i,!1),t.pipeDefs=dc(i,!0),t.id=function Sm(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function KE(n){return lt(n)||ri(n)}function NM(n){return null!==n}function Ht(n){return is(()=>({type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function QE(n,e){if(null==n)return Co;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Ae(n){return is(()=>{const e=YE(n);return XE(e),e})}function lt(n){return n[kl]||null}function ri(n){return n[Ml]||null}function Di(n){return n[fm]||null}function Hi(n,e){const t=n[pu]||null;if(!t&&!0===e)throw new Error(`Type ${jn(n)} does not have '\u0275mod' property.`);return t}function YE(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Co,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:QE(n.inputs,e),outputs:QE(n.outputs),debugInfo:null}}function XE(n){n.features?.forEach(e=>e(n))}function dc(n,e){if(!n)return null;const t=e?Di:KE;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(NM)}const Dn=0,ue=1,Ve=2,pn=3,no=4,Si=5,Vr=6,Ds=7,Qt=8,oi=9,pa=10,Qe=11,zl=12,uv=13,Hl=14,tn=15,Du=16,Er=17,xo=18,$l=19,uc=20,Ss=21,gn=22,ga=23,We=25,Am=1,To=7,va=9,Fn=10;var rs=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n[n.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",n}(rs||{});function si(n){return Array.isArray(n)&&"object"==typeof n[Am]}function Sn(n){return Array.isArray(n)&&!0===n[Am]}function hc(n){return 0!=(4&n.flags)}function ya(n){return n.componentOffset>-1}function fc(n){return 1==(1&n.flags)}function Br(n){return!!n.template}function ql(n){return 0!=(512&n[Ve])}function ba(n,e){return n.hasOwnProperty(ts)?n[ts]:null}class nI{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function $i(){return _v}function _v(n){return n.type.prototype.ngOnChanges&&(n.setInput=iI),Rm}function Rm(){const n=vv(this),e=n?.current;if(e){const t=n.previous;if(t===Co)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function iI(n,e,t,i){const r=this.declaredInputs[t],o=vv(n)||function Pm(n,e){return n[ku]=e}(n,{previous:Co,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new nI(c&&c.currentValue,e,a===Co),n[i]=e}$i.ngInherit=!0;const ku="__ngSimpleChanges__";function vv(n){return n[ku]||null}const Do=function(n,e,t){};function kt(n){for(;Array.isArray(n);)n=n[Dn];return n}function Zl(n,e){return kt(e[n])}function qi(n,e){return kt(e[n.index])}function wa(n,e){return n.data[e]}function Ir(n,e){const t=e[n];return si(t)?t:t[Dn]}function Kl(n){return 128==(128&n[Ve])}function Ur(n,e){return null==e?null:n[e]}function yv(n){n[Er]=0}function Nm(n){1024&n[Ve]||(n[Ve]|=1024,Kl(n)&&As(n))}function bv(n){9216&n[Ve]&&As(n)}function As(n){let e=n[pn];for(;null!==e&&!(Sn(e)&&e[Ve]&rs.HasChildViewsToRefresh||si(e)&&8192&e[Ve]);){if(Sn(e))e[Ve]|=rs.HasChildViewsToRefresh;else if(e[Ve]|=8192,!Kl(e))break;e=e[pn]}}function Pu(n,e){if(256==(256&n[Ve]))throw new j(911,!1);null===n[Ss]&&(n[Ss]=[]),n[Ss].push(e)}const $e={lFrame:Tv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vm(){return $e.bindingsEnabled}function gc(){return null!==$e.skipHydrationRootTNode}function q(){return $e.lFrame.lView}function yt(){return $e.lFrame.tView}function nt(n){return $e.lFrame.contextLView=n,n[Qt]}function ot(n){return $e.lFrame.contextLView=null,n}function Bt(){let n=Ql();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ql(){return $e.lFrame.currentTNode}function io(n,e){const t=$e.lFrame;t.currentTNode=n,t.isParent=e}function Yl(){return $e.lFrame.isParent}function jm(){$e.lFrame.isParent=!1}function Ao(){return $e.lFrame.bindingIndex++}function os(n){const e=$e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fI(n,e){const t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lu(e)}function Lu(n){$e.lFrame.currentDirectiveIndex=n}function Hm(n){const e=$e.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Xl(){return $e.lFrame.currentQueryIndex}function $m(n){$e.lFrame.currentQueryIndex=n}function pI(n){const e=n[ue];return 2===e.type?e.declTNode:1===e.type?n[Si]:null}function Cv(n,e,t){if(t&pt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&pt.Host||(r=pI(o),null===r||(o=o[Hl],10&r.type))););if(null===r)return!1;e=r,n=o}const i=$e.lFrame=xv();return i.currentTNode=e,i.lView=n,!0}function qm(n){const e=xv(),t=n[ue];$e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xv(){const n=$e.lFrame,e=null===n?null:n.child;return null===e?Tv(n):e}function Tv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Dv(){const n=$e.lFrame;return $e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Sv=Dv;function Jl(){const n=Dv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ai(){return $e.lFrame.selectedIndex}function Ca(n){$e.lFrame.selectedIndex=n}function sn(){const n=$e.lFrame;return wa(n.tView,n.selectedIndex)}let Pv=!0;function Vu(){return Pv}function ko(n){Pv=n}function Bu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function _c(n,e,t){Ov(n,e,3,t)}function Uu(n,e,t,i){(3&n[Ve])===t&&Ov(n,e,t,i)}function ju(n,e){let t=n[Ve];(3&t)===e&&(t&=16383,t+=1,n[Ve]=t)}function Ov(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Er]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Er]+=65536),(a<o||-1==o)&&(vI(n,t,e,c),n[Er]=(4294901760&n[Er])+c+2),c++}function zu(n,e){Do(4,n,e);const t=Je(null);try{e.call(n)}finally{Je(t),Do(5,n,e)}}function vI(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ve]>>14<n[Er]>>16&&(3&n[Ve])===e&&(n[Ve]+=16384,zu(a,o)):zu(a,o)}const ed=-1;class xa{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Wm(n){return n!==ed}function td(n){return 32767&n}function nd(n,e){let t=function Vv(n){return n>>16}(n),i=e;for(;t>0;)i=i[Hl],t--;return i}let Bv=!0;function Mo(n){const e=Bv;return Bv=n,e}const Uv=255,Hu=5;let bI=0;const jr={};function $u(n,e){const t=jv(n,e);if(-1!==t)return t;const i=e[ue];i.firstCreatePass&&(n.injectorIndex=e.length,id(i.data,n),id(e,null),id(i.blueprint,null));const r=qu(n,e),o=n.injectorIndex;if(Wm(r)){const s=td(r),a=nd(r,e),c=a[ue].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function id(n,e){n.push(0,0,0,0,0,0,0,0,e)}function jv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function qu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Zv(r),null===i)return ed;if(t++,r=r[Hl],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ed}function rd(n,e,t){!function wI(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ca)&&(i=t[ca]),null==i&&(i=t[ca]=bI++);const r=i&Uv;e.data[n+(r>>Hu)]|=1<<r}(n,e,t)}function zv(n,e,t){if(t&pt.Optional||void 0!==n)return n;Rl()}function Hv(n,e,t,i){if(t&pt.Optional&&void 0===i&&(i=null),!(t&(pt.Self|pt.Host))){const r=n[oi],o=Ti(void 0);try{return r?r.get(e,i,t&pt.Optional):bu(e,i,t&pt.Optional)}finally{Ti(o)}}return zv(i,0,t)}function $v(n,e,t,i=pt.Default,r){if(null!==n){if(2048&e[Ve]&&!(i&pt.Self)){const s=function Wv(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ve]&&!(512&s[Ve]);){const a=qv(o,s,t,i|pt.Self,jr);if(a!==jr)return a;let c=o.parent;if(!c){const d=s[uc];if(d){const h=d.get(t,jr,i);if(h!==jr)return h}c=Zv(s),s=s[Hl]}o=c}return r}(n,e,t,i,jr);if(s!==jr)return s}const o=qv(n,e,t,i,jr);if(o!==jr)return o}return Hv(e,t,i,r)}function qv(n,e,t,i,r){const o=function II(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ca)?n[ca]:void 0;return"number"==typeof e?e>=0?e&Uv:CI:e}(t);if("function"==typeof o){if(!Cv(e,n,i))return i&pt.Host?zv(r,0,i):Hv(e,t,i,r);try{let s;if(s=o(i),null!=s||i&pt.Optional)return s;Rl()}finally{Sv()}}else if("number"==typeof o){let s=null,a=jv(n,e),c=ed,d=i&pt.Host?e[tn][Si]:null;for((-1===a||i&pt.SkipSelf)&&(c=-1===a?qu(n,e):e[a+8],c!==ed&&Wu(i,!1)?(s=e[ue],a=td(c),e=nd(c,e)):a=-1);-1!==a;){const h=e[ue];if(Gu(o,a,h.data)){const p=Gv(a,e,t,s,i,d);if(p!==jr)return p}c=e[a+8],c!==ed&&Wu(i,e[ue].data[a+8]===d)&&Gu(o,a,e)?(s=h,a=td(c),e=nd(c,e)):a=-1}}return r}function Gv(n,e,t,i,r,o){const s=e[ue],a=s.data[n+8],h=yc(a,s,t,null==i?ya(a)&&Bv:i!=s&&0!=(3&a.type),r&pt.Host&&o===a);return null!==h?Ta(e,s,h,a):jr}function yc(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&Br(v)&&v.type===t)return c}return null}function Ta(n,e,t,i){let r=n[t];const o=e.data;if(function Nv(n){return n instanceof xa}(r)){const s=r;s.resolving&&function RE(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new j(-200,`Circular dependency in DI detected for ${n}${t}`)}(function vt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}(o[t]));const a=Mo(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Ti(s.injectImpl):null;Cv(n,i,pt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Gm(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=_v(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&Ti(d),Mo(a),s.resolving=!1,Sv()}}return r}function Gu(n,e,t){return!!(t[e+(n>>Hu)]&1<<n)}function Wu(n,e){return!(n&pt.Self||n&pt.Host&&e)}class An{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return $v(this._tNode,this._lView,e,ac(i),t)}}function CI(){return new An(Bt(),q())}function kn(n){return is(()=>{const e=n.prototype.constructor,t=e[ts]||Zm(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[ts]||Zm(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Zm(n){return aa(n)?()=>{const e=Zm(ze(n));return e&&e()}:ba(n)}function Zv(n){const e=n[ue],t=e.type;return 2===t?e.declTNode:1===t?n[Si]:null}const Ic="__parameters__";function Cc(n,e,t){return is(()=>{const i=function Ku(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,d,h){const p=c.hasOwnProperty(Ic)?c[Ic]:Object.defineProperty(c,Ic,{value:[]})[Ic];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function xc(n,e){n.forEach(t=>Array.isArray(t)?xc(t,e):e(t))}function Qm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zr(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function rr(n,e,t){let i=Ms(n,e);return i>=0?n[1|i]=t:(i=~i,function Jv(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Mi(n,e){const t=Ms(n,e);if(t>=0)return n[1|t]}function Ms(n,e){return function ty(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Rs=ha(Cc("Optional"),8),l=ha(Cc("SkipSelf"),4),Ps=new X("ENVIRONMENT_INITIALIZER"),ep=new X("INJECTOR",-1),eh=new X("INJECTOR_DEF_TYPES");class Tc{get(e,t=da){if(t===da){const i=new Error(`NullInjectorError: No provider for ${jn(e)}!`);throw i.name="NullInjectorError",i}return t}}function RI(...n){return{\u0275providers:nh(0,n),\u0275fromNgModule:!0}}function nh(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return xc(e,s=>{const a=s;ay(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&sy(r,o),t}function sy(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];PI(r,o=>{e(o,i)})}}function ay(n,e,t,i){if(!(n=ze(n)))return!1;let r=null,o=zi(n);const s=!o&&lt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=zi(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)ay(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{xc(o.imports,h=>{ay(h,e,t,i)&&(d||=[],d.push(h))})}finally{}void 0!==d&&sy(d,e)}if(!a){const d=ba(r)||(()=>new r);e({provide:r,useFactory:d,deps:It},r),e({provide:eh,useValue:r,multi:!0},r),e({provide:Ps,useValue:()=>O(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const d=n;PI(c,h=>{e(h,d)})}}}return r!==n&&void 0!==n.providers}function PI(n,e){for(let t of n)Al(t)&&(t=t.\u0275providers),Array.isArray(t)?PI(t,e):e(t)}const y$=Ut({provide:String,useValue:Ut});function OI(n){return null!==n&&"object"==typeof n&&y$ in n}function ad(n){return"function"==typeof n}const NI=new X("Set Injector scope."),cy={},w$={};let FI;function ly(){return void 0===FI&&(FI=new Tc),FI}class ro{}class ih extends ro{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,VI(e,s=>this.processProvider(s)),this.records.set(ep,rh(void 0,this)),r.has("environment")&&this.records.set(ro,rh(void 0,this));const o=this.records.get(NI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eh,It,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ts(this),i=Ti(void 0);try{return e()}finally{Ts(t),Ti(i)}}get(e,t=da,i=pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(W_))return e[W_](this);i=ac(i);const o=Ts(this),s=Ti(void 0);try{if(!(i&pt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function T$(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&la(e);c=d&&this.injectableDefInScope(d)?rh(LI(e),cy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&pt.Self?ly():this.parent).get(e,t=i&pt.Optional&&t===da?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[oc]=a[oc]||[]).unshift(jn(e)),o)throw a;return function Im(n,e,t,i){const r=n[oc];throw e[Iu]&&r.unshift(e[Iu]),n.message=function zE(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=jn(e);if(Array.isArray(e))r=e.map(jn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):jn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Eu,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[oc]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ti(s),Ts(o)}}resolveInjectorInitializers(){const e=Ts(this),t=Ti(void 0);try{const r=this.get(Ps,It,pt.Self);for(const o of r)o()}finally{Ts(e),Ti(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(jn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){let t=ad(e=ze(e))?e:ze(e&&e.provide);const i=function I$(n){return OI(n)?rh(void 0,n.useValue):rh(rR(n),cy)}(e);if(ad(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=rh(void 0,cy,!0),r.factory=()=>Em(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===cy&&(t.value=w$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function x$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ze(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function LI(n){const e=la(n),t=null!==e?e.factory:ba(n);if(null!==t)return t;if(n instanceof X)throw new j(204,!1);if(n instanceof Function)return function E$(n){const e=n.length;if(e>0)throw zr(e,"?"),new j(204,!1);const t=function gm(n){return n&&(n[Nl]||n[_u])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new j(204,!1)}function rR(n,e,t){let i;if(ad(n)){const r=ze(n);return ba(r)||LI(r)}if(OI(n))i=()=>ze(n.useValue);else if(function iR(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Em(n.deps||[]));else if(function nR(n){return!(!n||!n.useExisting)}(n))i=()=>O(ze(n.useExisting));else{const r=ze(n&&(n.useClass||n.provide));if(!function C$(n){return!!n.deps}(n))return ba(r)||LI(r);i=()=>new r(...Em(n.deps))}return i}function rh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VI(n,e){for(const t of n)Array.isArray(t)?VI(t,e):t&&Al(t)?VI(t.\u0275providers,e):e(t)}function cR(n,e=null,t=null,i){const r=lR(n,e,t,i);return r.resolveInjectorInitializers(),r}function lR(n,e=null,t=null,i,r=new Set){const o=[t||It,RI(n)];return i=i||("object"==typeof n?void 0:jn(n)),new ih(o,e||ly(),i||null,r)}let jI,Wi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=da;static#t=this.NULL=new Tc;static create(t,i){if(Array.isArray(t))return cR({name:""},i,t,"");{const r=t.name??"";return cR({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=le({token:n,providedIn:"any",factory:()=>O(ep)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const uy=new X("AppId",{providedIn:"root",factory:()=>F$}),F$="ng",uR=new X("Platform Initializer"),as=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oh=new X("AnimationModuleType"),zI=new X("CSP nonce",{providedIn:"root",factory:()=>function Sc(){if(void 0!==jI)return jI;if(typeof document<"u")return document;throw new j(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function oo(n){return n instanceof Function?n():n}function py(n){return 128==(128&n.flags)}var Mc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mc||{});const G$=/^>|^->|<!--|-->|--!>|<!-$/g,W$=/(<|>)/g,Z$="\u200b$1\u200b";const WI=new Map;let K$=0;const KI="__ngContext__";function or(n,e){si(e)?(n[KI]=e[$l],function Y$(n){WI.set(n[$l],n)}(e)):n[KI]=e}let QI;function YI(n,e){return QI(n,e)}function op(n){const e=n[pn];return Sn(e)?e[pn]:e}function AR(n){return MR(n[zl])}function kR(n){return MR(n[no])}function MR(n){for(;null!==n&&!Sn(n);)n=n[no];return n}function ah(n,e,t,i,r){if(null!=i){let o,s=!1;Sn(i)?o=i:si(i)&&(s=!0,i=i[Dn]);const a=kt(i);0===n&&null!==t?null==r?NR(e,t,a):cd(e,t,a,r||null,!0):1===n&&null!==t?cd(e,t,a,r||null,!0):2===n?function Ey(n,e,t){const i=by(n,e);i&&function _5(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function b5(n,e,t,i,r){const o=t[To];o!==kt(t)&&ah(e,n,i,o,r);for(let a=Fn;a<t.length;a++){const c=t[a];cp(c[ue],c,n,e,i,o)}}(e,n,o,t,r)}}function XI(n,e){return n.createComment(function wR(n){return n.replace(G$,e=>e.replace(W$,Z$))}(e))}function vy(n,e,t){return n.createElement(e,t)}function PR(n,e){const t=n[va],i=t.indexOf(e);t.splice(i,1)}function sp(n,e){if(n.length<=Fn)return;const t=Fn+e,i=n[t];if(i){const r=i[Du];null!==r&&r!==n&&PR(r,i),e>0&&(n[t-1][no]=i[no]);const o=Qu(n,Fn+e);!function l5(n,e){cp(n,e,e[Qe],2,null,null),e[Dn]=null,e[Si]=null}(i[ue],i);const s=o[xo];null!==s&&s.detachView(o[ue]),i[pn]=null,i[no]=null,i[Ve]&=-129}return i}function yy(n,e){if(!(256&e[Ve])){const t=e[Qe];e[ga]&&function Ii(n){if(Ui(n),Vt(n))for(let e=0;e<n.producerNode.length;e++)Dt(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[ga]),t.destroyNode&&cp(n,e,t,3,null,null),function h5(n){let e=n[zl];if(!e)return JI(n[ue],n);for(;e;){let t=null;if(si(e))t=e[zl];else{const i=e[Fn];i&&(t=i)}if(!t){for(;e&&!e[no]&&e!==n;)si(e)&&JI(e[ue],e),e=e[pn];null===e&&(e=n),si(e)&&JI(e[ue],e),t=e&&e[no]}e=t}}(e)}}function JI(n,e){if(!(256&e[Ve])){e[Ve]&=-129,e[Ve]|=256,function g5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof xa)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Do(4,a,c);try{c.call(a)}finally{Do(5,a,c)}}else{Do(4,r,o);try{o.call(r)}finally{Do(5,r,o)}}}}}(n,e),function p5(n,e){const t=n.cleanup,i=e[Ds];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Ds]=null);const r=e[Ss];if(null!==r){e[Ss]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ue].type&&e[Qe].destroy();const t=e[Du];if(null!==t&&Sn(e[pn])){t!==e[pn]&&PR(t,e);const i=e[xo];null!==i&&i.detachView(n)}!function X$(n){WI.delete(n[$l])}(e)}}function eC(n,e,t){return function OR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Dn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===to.None||o===to.Emulated)return null}return qi(i,t)}}(n,e.parent,t)}function cd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function NR(n,e,t){n.appendChild(e,t)}function FR(n,e,t,i,r){null!==i?cd(n,e,t,i,r):NR(n,e,t)}function by(n,e){return n.parentNode(e)}function LR(n,e,t){return BR(n,e,t)}let tC,Cy,BR=function VR(n,e,t){return 40&n.type?qi(n,t):null};function wy(n,e,t,i){const r=eC(n,i,e),o=e[Qe],a=LR(i.parent||e[Si],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)FR(o,r,t[c],a,!1);else FR(o,r,t,a,!1);void 0!==tC&&tC(o,i,e,t,r)}function ap(n,e){if(null!==e){const t=e.type;if(3&t)return qi(e,n);if(4&t)return nC(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return ap(n,i);{const r=n[e.index];return Sn(r)?nC(-1,r):kt(r)}}if(32&t)return YI(e,n)()||kt(n[e.index]);{const i=jR(n,e);return null!==i?Array.isArray(i)?i[0]:ap(op(n[tn]),i):ap(n,e.next)}}return null}function jR(n,e){return null!==e?n[tn][Si].projection[e.projection]:null}function nC(n,e){const t=Fn+n+1;if(t<e.length){const i=e[t],r=i[ue].firstChild;if(null!==r)return ap(i,r)}return e[To]}function iC(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&or(kt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)iC(n,e,t.child,i,r,o,!1),ah(e,n,r,a,o);else if(32&c){const d=YI(t,i);let h;for(;h=d();)ah(e,n,r,h,o);ah(e,n,r,a,o)}else 16&c?HR(n,e,i,t,r,o):ah(e,n,r,a,o);t=s?t.projectionNext:t.next}}function cp(n,e,t,i,r,o){iC(t,i,n.firstChild,e,r,o,!1)}function HR(n,e,t,i,r,o){const s=t[tn],c=s[Si].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)ah(e,n,r,c[d],o);else{let d=c;const h=s[pn];py(i)&&(d.flags|=128),iC(n,e,d,h,r,o,!0)}}function $R(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function qR(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Ul(n,e,i),null!==r&&$R(n,e,r),null!==o&&function E5(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function ZR(n){return function oC(){if(void 0===Cy&&(Cy=null,zt.trustedTypes))try{Cy=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cy}()?.createScriptURL(n)||n}class ld{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mu})`}}function so(n){return n instanceof ld?n.changingThisBreaksApplicationSecurity:n}function Os(n,e){const t=function M5(n){return n instanceof ld&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${mu})`)}return t===e}const U5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Zi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Zi||{});function dp(n){const e=up();return e?e.sanitize(Zi.URL,n)||"":Os(n,"URL")?so(n):function xy(n){return(n=String(n)).match(U5)?n:"unsafe:"+n}(Ge(n))}function nP(n){const e=up();if(e)return ZR(e.sanitize(Zi.RESOURCE_URL,n)||"");if(Os(n,"ResourceURL"))return ZR(so(n));throw new j(904,!1)}function up(){const n=q();return n&&n[pa].sanitizer}let rP=(n,e,t)=>null;function gC(n,e,t=!1){return rP(n,e,t)}class s6{}class aP{}class c6{resolveComponentFactory(e){throw function a6(n){const e=Error(`No component factory found for ${jn(n)}.`);return e.ngComponent=n,e}(e)}}let mp=(()=>{class n{static#e=this.NULL=new c6}return n})();function l6(){return uh(Bt(),q())}function uh(n,e){return new Yt(qi(n,e))}let Yt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=l6}return n})();function d6(n){return n instanceof Yt?n.nativeElement:n}class yC{}let Sa=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function u6(){const n=q(),t=Ir(Bt().index,n);return(si(t)?t:n)[Qe]}()}return n})(),h6=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}return n})();class Rc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const lP=new Rc("17.0.4"),bC={};function Ry(n){return!!wC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function wC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class uP{constructor(){}supports(e){return Ry(e)}create(e){return new _6(e)}}const g6=(n,e)=>e;class _6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||g6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<fP(i,r,o)?t:i,a=fP(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,h=c-r;if(d!=h){for(let g=0;g<d;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<d&&(o[g]=v+1)}o[s.previousIndex]=h-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ry(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function p6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new v6(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hP),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class v6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class hP{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new y6,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fP(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class mP{constructor(){}supports(e){return e instanceof Map||wC(e)}create(){return new b6}}class b6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||wC(e)))throw new j(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new w6(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class w6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pP(){return new Py([new uP])}let Py=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:pP});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||pP()),deps:[[n,new l,new Rs]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new j(901,!1)}}return n})();function gP(){return new pp([new mP])}let pp=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:gP});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||gP()),deps:[[n,new l,new Rs]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new j(901,!1)}}return n})();function gp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(kt(o)),Sn(o)&&_P(o,i);const s=t.type;if(8&s)gp(n,e,t.child,i);else if(32&s){const a=YI(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=jR(e,t);if(Array.isArray(a))i.push(...a);else{const c=op(e[tn]);gp(c[ue],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function _P(n,e){for(let t=Fn;t<n.length;t++){const i=n[t],r=i[ue].firstChild;null!==r&&gp(i[ue],i,r,e)}n[To]!==n[Dn]&&e.push(n[To])}let vP=[];const T6={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{As(n.lView)},consumerOnSignalRead(){this.lView[ga]=this}};function EC(n){return n.ngOriginalError}class cs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&EC(e);for(;t&&EC(t);)t=EC(t);return t||null}}const wP=new X("",{providedIn:"root",factory:()=>!1}),it={};function pe(n){xP(yt(),q(),Ai()+n,!1)}function xP(n,e,t,i){if(!i)if(3==(3&e[Ve])){const o=n.preOrderCheckHooks;null!==o&&_c(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Uu(e,o,0,t)}Ca(t)}function P(n,e=pt.Default){const t=q();return null===t?O(n,e):$v(Bt(),t,ze(n),e)}function Ny(n,e,t,i,r,o,s,a,c,d,h){const p=e.blueprint.slice();return p[Dn]=r,p[Ve]=140|i,(null!==d||n&&2048&n[Ve])&&(p[Ve]|=2048),yv(p),p[pn]=p[Hl]=n,p[Qt]=t,p[pa]=s||n&&n[pa],p[Qe]=a||n&&n[Qe],p[oi]=c||n&&n[oi]||null,p[Si]=o,p[$l]=function Q$(){return K$++}(),p[Vr]=h,p[uc]=d,p[tn]=2==e.type?n[tn]:p,p}function hh(n,e,t,i,r){let o=n.data[e];if(null===o)o=function IC(n,e,t,i,r){const o=Ql(),s=Yl(),c=n.data[e]=function B6(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return gc()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function hI(){return $e.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Ia(){const n=$e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return io(o,!0),o}function _p(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function DP(n,e,t,i,r){const o=Ai(),s=2&i;try{Ca(-1),s&&e.length>We&&xP(n,e,We,!1),Do(s?2:0,r),t(i,r)}finally{Ca(o),Do(s?3:1,r)}}function CC(n,e,t){if(hc(e)){const i=Je(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Je(i)}}}function xC(n,e,t){Vm()&&(function G6(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;ya(t)&&function J6(n,e,t){const i=qi(e,n),r=SP(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Fy(n,Ny(n,r,null,s,i,e,null,n[pa].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||$u(t,e),or(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],d=Ta(e,n,a,t);or(d,e),null!==s&&e8(0,a-r,d,c,0,s),Br(c)&&(Ir(t.index,e)[Qt]=Ta(e,n,a,t))}}(n,e,t,qi(t,e)),64==(64&t.flags)&&PP(n,e,t))}function TC(n,e,t=qi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function SP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=DC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function DC(n,e,t,i,r,o,s,a,c,d,h){const p=We+i,g=p+r,v=function P6(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:it);return t}(p,g),b="function"==typeof d?d():d;return v[ue]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let AP=n=>null;function kP(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?MP(t,e,r,o):i.hasOwnProperty(r)&&MP(t,e,i[r],o)}return t}function MP(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function ao(n,e,t,i,r,o,s,a){const c=qi(e,t);let h,d=e.inputs;!a&&null!=d&&(h=d[i])?(RC(n,t,h,i,r),ya(e)&&function z6(n,e){const t=Ir(e,n);16&t[Ve]||(t[Ve]|=64)}(t,e.index)):3&e.type&&(i=function j6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function SC(n,e,t,i){if(Vm()){const r=null===i?null:{"":-1},o=function Z6(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(lv(e,s.selectors,!1))if(i||(i=[]),Br(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),AC(n,e,a.length)}else i.unshift(s),AC(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&RP(n,e,t,s,r,a),r&&function K6(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new j(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=jl(t.mergedAttrs,t.attrs)}function RP(n,e,t,i,r,o){for(let d=0;d<i.length;d++)rd($u(t,e),n,i[d].type);!function Y6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const h=i[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=_p(n,e,i.length,null);for(let d=0;d<i.length;d++){const h=i[d];t.mergedAttrs=jl(t.mergedAttrs,h.hostAttrs),X6(n,t,e,c,h),Q6(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function U6(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=kP(p.inputs,h,c,g?g.inputs:null),d=kP(p.outputs,h,d,b);const w=null===c||null===s||cv(e)?null:t8(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function PP(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function mI(){return $e.lFrame.currentDirectiveIndex}();try{Ca(o);for(let a=i;a<r;a++){const c=n.data[a],d=e[a];Lu(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&W6(c,d)}}finally{Ca(-1),Lu(s)}}function W6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function AC(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Q6(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Br(e)&&(t[""]=n)}}function X6(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ba(r.type)),s=new xa(o,Br(r),P);n.blueprint[i]=s,t[i]=s,function $6(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function q6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,_p(n,t,r.hostVars,it),r)}function Ns(n,e,t,i,r,o){const s=qi(n,e);!function kC(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ge(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Qe],s,o,n.value,t,i,r)}function e8(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)OP(i,t,s[a++],s[a++],s[a++])}function OP(n,e,t,i,r){const o=Je(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Je(o)}}function t8(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function NP(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function FP(n,e){const t=n.contentQueries;if(null!==t){const i=Je(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];$m(t[r]),a.contentQueries(2,e[s],s)}}}finally{Je(i)}}}function Fy(n,e){return n[zl]?n[uv][no]=e:n[zl]=e,n[uv]=e,e}function MC(n,e,t){$m(0);const i=Je(null);try{e(n,t)}finally{Je(i)}}function LP(n){return n[Ds]||(n[Ds]=[])}function VP(n){return n.cleanup||(n.cleanup=[])}function BP(n,e,t){return(null===n||Br(n))&&(t=function Wl(n){for(;Array.isArray(n);){if("object"==typeof n[Am])return n;n=n[Dn]}return null}(t[e.index])),t[Qe]}function Ly(n,e){const t=n[oi],i=t?t.get(cs,null):null;i&&i.handleError(e)}function RC(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];OP(n.data[s],e[s],i,a,r)}}function Aa(n,e,t){const i=Zl(e,n);!function RR(n,e,t){n.setValue(e,t)}(n[Qe],i,t)}function UP(n,e,t,i){const r=e[Ve];if(256==(256&r))return;e[pa].inlineEffectRunner?.flush(),qm(e);let s=null,a=null;(function r8(n){return 2!==n.type})(n)&&(a=function I6(n){return n[ga]??function C6(n){const e=vP.pop()??Object.create(T6);return e.lView=n,e}(n)}(e),s=function rt(n){return n&&(n.nextProducerIndex=0),Je(n)}(a));try{yv(e),function Nu(n){return $e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&DP(n,e,t,2,i);const c=3==(3&r);if(c){const p=n.preOrderCheckHooks;null!==p&&_c(e,p,null)}else{const p=n.preOrderHooks;null!==p&&Uu(e,p,0,null),ju(e,0)}if(function o8(n){for(let e=AR(n);null!==e;e=kR(e)){if(!(e[Ve]&rs.HasTransplantedViews))continue;const t=e[va];for(let i=0;i<t.length;i++){Nm(t[i])}}}(e),jP(e,0),null!==n.contentQueries&&FP(n,e),c){const p=n.contentCheckHooks;null!==p&&_c(e,p)}else{const p=n.contentHooks;null!==p&&Uu(e,p,1),ju(e,1)}!function R6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ca(~r);else{const o=r,s=t[++i],a=t[++i];fI(s,o),a(2,e[o])}}}finally{Ca(-1)}}(n,e);const d=n.components;null!==d&&$P(e,d,0);const h=n.viewQuery;if(null!==h&&MC(2,h,i),c){const p=n.viewCheckHooks;null!==p&&_c(e,p)}else{const p=n.viewHooks;null!==p&&Uu(e,p,2),ju(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[gn]){for(const p of e[gn])p();e[gn]=null}e[Ve]&=-73}catch(c){throw As(e),c}finally{null!==a&&(function ut(n,e){if(Je(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Vt(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Dt(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function x6(n){n.lView[ga]!==n&&(n.lView=null,vP.push(n))}(a)),Jl()}}function jP(n,e){for(let t=AR(n);null!==t;t=kR(t)){t[Ve]&=~rs.HasChildViewsToRefresh;for(let i=Fn;i<t.length;i++)zP(t[i],e)}}function s8(n,e,t){zP(Ir(e,n),t)}function zP(n,e){Kl(n)&&HP(n,e)}function HP(n,e){const i=n[ue],r=n[Ve],o=n[ga];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!Zn(o)),o&&(o.dirty=!1),n[Ve]&=-9217,s)UP(i,n,i.template,n[Qt]);else if(8192&r){jP(n,1);const a=i.components;null!==a&&$P(n,a,1)}}function $P(n,e,t){for(let i=0;i<e.length;i++)s8(n,e[i],t)}function vp(n){for(;n;){n[Ve]|=64;const e=op(n);if(ql(n)&&!e)return n;n=e}return null}class yp{get rootNodes(){const e=this._lView,t=e[ue];return gp(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(e){this._lView[Qt]=e}get destroyed(){return 256==(256&this._lView[Ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[pn];if(Sn(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(sp(e,i),Qu(t,i))}this._attachedToViewContainer=!1}yy(this._lView[ue],this._lView)}onDestroy(e){Pu(this._lView,e)}markForCheck(){vp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ve]&=-129}reattach(){bv(this._lView),this._lView[Ve]|=128}detectChanges(){!function PC(n,e=!0){const t=n[pa],i=t.rendererFactory,r=t.afterRenderEventManager;i.begin?.(),r?.begin();try{const s=n[ue];UP(s,n,s.template,n[Qt]),function i8(n){let e=0;for(;9216&n[Ve]||n[ga]?.dirty;){if(100===e)throw new j(103,!1);e++,HP(n,1)}}(n)}catch(s){throw e&&Ly(n,s),s}finally{i.end?.(),t.inlineEffectRunner?.flush(),r?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function u5(n,e){cp(n,e,e[Qe],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e}}let Fs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=a8}return n})();function a8(n){return function c8(n,e,t){if(ya(n)&&!t){const i=Ir(n.index,e);return new yp(i,i)}return 47&n.type?new yp(e[tn],e):null}(Bt(),q(),16==(16&n))}let Vy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=h8;static#t=this.__NG_ENV_ID__=t=>t}return n})();class u8 extends Vy{constructor(e){super(),this._lView=e}onDestroy(e){return Pu(this._lView,e),()=>function Fm(n,e){if(null===n[Ss])return;const t=n[Ss].indexOf(e);-1!==t&&n[Ss].splice(t,1)}(this._lView,e)}}function h8(){return new u8(q())}const qP=new Set;function dd(n){qP.has(n)||(qP.add(n),performance?.mark?.("mark_use_counter",{detail:{feature:n}}))}function OC(n){return e=>{setTimeout(n,void 0,e)}}const Xt=class y8 extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=OC(o),r&&(r=OC(r)),s&&(s=OC(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Pt&&e.add(a),a}};function GP(...n){}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xt(!1),this.onMicrotaskEmpty=new Xt(!1),this.onStable=new Xt(!1),this.onError=new Xt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function b8(){const n="function"==typeof zt.requestAnimationFrame;let e=zt[n?"requestAnimationFrame":"setTimeout"],t=zt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function I8(n){const e=()=>{!function E8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,FC(n),n.isCheckStableRunning=!0,NC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),FC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function x8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return WP(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),ZP(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return WP(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),ZP(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,FC(n),NC(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new j(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,w8,GP,GP);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const w8={};function NC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function WP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ZP(n){n._nesting--,NC(n)}class C8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xt,this.onMicrotaskEmpty=new Xt,this.onStable=new Xt,this.onError=new Xt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const KP=new X("",{providedIn:"root",factory:QP});function QP(){const n=ce(Be);let e=!0;return nc(new Et(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Et(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Be.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Tl()))}var ud=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ud||{});const YP={destroy(){}};function JP(n,e){!e&&function BI(n){if(!J_()&&!function bm(){return sc}())throw new j(-203,!1)}();const t=e?.injector??ce(Wi);if(!function Ac(n){return"browser"===(n??ce(Wi)).get(as)}(t))return YP;dd("NgAfterNextRender");const i=t.get(By),r=i.handler??=new t1,o=e?.phase??ud.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Vy).onDestroy(s),c=new e1(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class e1{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Be),this.errorHandler=e.get(cs,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class t1{constructor(){this.executingCallbacks=!1,this.buckets={[ud.EarlyRead]:new Set,[ud.Write]:new Set,[ud.MixedReadWrite]:new Set,[ud.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new j(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let By=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function D8(n,e){const t=Ir(e,n),i=t[ue];!function S8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Dn];null!==r&&null===t[Vr]&&(t[Vr]=gC(r,t[oi])),LC(i,t,t[Qt])}function LC(n,e,t){qm(e);try{const i=n.viewQuery;null!==i&&MC(1,i,t);const r=n.template;null!==r&&DP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&FP(n,e),n.staticViewQueries&&MC(2,n.viewQuery,t);const o=n.components;null!==o&&function A8(n,e){for(let t=0;t<e.length;t++)D8(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ve]&=-5,Jl()}}function Uy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Sl(r,a):2==o&&(i=Sl(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class n1 extends mp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=lt(e);return new bp(t,this.ngModule)}}function r1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class M8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ac(i);const r=this.injector.get(e,bC,i);return r!==bC||t===bC?r:this.parentInjector.get(e,t,i)}}class bp extends aP{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=r1(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return r1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function WE(n){return n.map(GE).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof ro?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new M8(e,o):e,a=s.get(yC,null);if(null===a)throw new j(407,!1);const h={rendererFactory:a,sanitizer:s.get(h6,null),inlineEffectRunner:null,afterRenderEventManager:s.get(By,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function O6(n,e,t,i){const o=i.get(wP,!1)||t===to.ShadowDom,s=n.selectRootElement(e,o);return function N6(n){AP(n)}(s),s}(p,i,this.componentDef.encapsulation,s):vy(p,g,function k8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==v&&(k=gC(v,s,!0));const S=DC(0,null,null,1,0,null,null,null,null,null,null),R=Ny(null,S,null,E,null,null,h,p,s,null,k);let Q,he;qm(R);try{const ye=this.componentDef;let Ke,ln=null;ye.findHostDirectiveDefs?(Ke=[],ln=new Map,ye.findHostDirectiveDefs(ye,Ke,ln),Ke.push(ye)):Ke=[ye];const _o=function P8(n,e){const t=n[ue],i=We;return n[i]=e,hh(t,i,2,"#host",null)}(R,v),Jr=function O8(n,e,t,i,r,o,s){const a=r[ue];!function N8(n,e,t,i){for(const r of n)e.mergedAttrs=jl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Uy(e,e.mergedAttrs,!0),null!==t&&qR(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=gC(e,r[oi]));const d=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=Ny(r,SP(t),null,h,r[n.index],n,o,d,null,null,c);return a.firstCreatePass&&AC(a,n,i.length-1),Fy(r,p),r[n.index]=p}(_o,v,ye,Ke,R,h,p);he=wa(S,We),v&&function L8(n,e,t,i){if(i)Ul(n,t,["ng-version",lP.full]);else{const{attrs:r,classes:o}=function ZE(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!wr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ul(n,t,r),o&&o.length>0&&$R(n,t,o.join(" "))}}(p,ye,v,i),void 0!==t&&function V8(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(he,this.ngContentSelectors,t),Q=function F8(n,e,t,i,r,o){const s=Bt(),a=r[ue],c=qi(s,r);RP(a,r,s,t,null,i);for(let h=0;h<t.length;h++)or(Ta(r,a,s.directiveStart+h,s),r);PP(a,r,s),c&&or(c,r);const d=Ta(r,a,s.directiveStart+s.componentOffset,s);if(n[Qt]=r[Qt]=d,null!==o)for(const h of o)h(d,e);return CC(a,s,n),d}(Jr,ye,Ke,ln,R,[B8]),LC(S,R,null)}finally{Jl()}return new R8(this.componentType,Q,uh(he,R),R,he)}}class R8 extends s6{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new yp(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;RC(o[ue],o,r,e,t),this.previousInputValues.set(e,t),vp(Ir(this._tNode.index,o))}}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function B8(){const n=Bt();Bu(q()[ue],n)}function _t(n){let e=function o1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Br(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=jy(n.inputs),s.inputTransforms=jy(n.inputTransforms),s.declaredInputs=jy(n.declaredInputs),s.outputs=jy(n.outputs);const a=r.hostBindings;a&&H8(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&j8(n,c),d&&z8(n,d),ic(n.inputs,r.inputs),ic(n.declaredInputs,r.declaredInputs),ic(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ic(s.inputTransforms,r.inputTransforms)),Br(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===_t&&(t=!1)}}e=Object.getPrototypeOf(e)}!function U8(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=jl(r.hostAttrs,t=jl(t,r.hostAttrs))}}(i)}function jy(n){return n===Co?{}:n===It?[]:n}function j8(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function z8(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function H8(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function VC(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function ai(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function sr(n,e,t,i){const r=q();return ai(r,Ao(),e)&&(yt(),Ns(sn(),r,n,e,t,i)),sr}function mh(n,e,t,i){return ai(n,Ao(),t)?e+Ge(t)+i:it}function ph(n,e,t,i,r,o){const a=function hd(n,e,t,i){const r=ai(n,e,t);return ai(n,e+1,i)||r}(n,function So(){return $e.lFrame.bindingIndex}(),t,r);return os(2),a?e+Ge(t)+i+Ge(r)+o:it}function Hy(n,e){return n<<17|e<<2}function Pc(n){return n>>17&32767}function BC(n){return 2|n}function fd(n){return(131068&n)>>2}function UC(n,e){return-131069&n|e<<2}function jC(n){return 1|n}function v1(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Pc(o):fd(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];e9(n[a],e)&&(c=!0,n[a+1]=i?jC(h):BC(h)),a=i?Pc(h):fd(h)}c&&(n[t+1]=i?BC(o):jC(o))}function e9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ms(n,e)>=0}function et(n,e,t){const i=q();return ai(i,Ao(),e)&&ao(yt(),sn(),i,n,e,i[Qe],t,!1),et}function zC(n,e,t,i,r){const s=r?"class":"style";RC(n,t,e.inputs[s],s,i)}function Ep(n,e,t){return ls(n,e,t,!1),Ep}function Qn(n,e){return ls(n,e,null,!0),Qn}function ls(n,e,t,i){const r=q(),o=yt(),s=os(2);o.firstUpdatePass&&function T1(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Ai()],s=function x1(n,e){return e>=n.expandoStartIndex}(n,t);(function k1(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function l9(n,e,t,i){const r=Hm(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Ip(t=HC(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=HC(r,n,e,t,i),null===o){let c=function d9(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==fd(i))return n[Pc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=HC(null,n,e,c[1],i),c=Ip(c,e.attrs,i),function u9(n,e,t,i){n[Pc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function h9(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Ip(i,n[o].hostAttrs,t);return Ip(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function X8(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Pc(s),c=fd(s);n[i]=t;let h,d=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ms(t,h)>0)&&(d=!0)):h=t,r)if(0!==c){const g=Pc(n[a+1]);n[i+1]=Hy(g,a),0!==g&&(n[g+1]=UC(n[g+1],i)),n[a+1]=function Q8(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Hy(a,0),0!==a&&(n[a+1]=UC(n[a+1],i)),a=i;else n[i+1]=Hy(c,0),0===a?a=i:n[c+1]=UC(n[c+1],i),c=i;d&&(n[i+1]=BC(n[i+1])),v1(n,h,i,!0),v1(n,h,i,!1),function J8(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ms(o,e)>=0&&(t[i+1]=jC(t[i+1]))}(e,h,n,i,o),s=Hy(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==it&&ai(r,s,e)&&function S1(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],h=function Y8(n){return 1==(1&n)}(d)?A1(c,e,t,r,fd(d),s):void 0;$y(h)||($y(o)||function K8(n){return 2==(2&n)}(d)&&(o=A1(c,null,t,r,a,s)),function w5(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Mc.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Mc.Important),n.setStyle(t,i,r,o))}}(i,s,Zl(Ai(),t),r,o))}(o,o.data[Ai()],r,r[Qe],n,r[s+1]=function g9(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=jn(so(n)))),n}(e,t),i,s)}function HC(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Ip(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Ip(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),rr(n,s,!!t||e[++o]))}return void 0===n?null:n}function A1(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),h=d?c[1]:c,p=null===h;let g=t[r+1];g===it&&(g=p?It:void 0);let v=p?Mi(g,i):h===i?g:void 0;if(d&&!$y(v)&&(v=Mi(c,i)),$y(v)&&(a=v,s))return a;const b=n[r+1];r=s?Pc(b):fd(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Mi(c,i))}return a}function $y(n){return void 0!==n}let F1=(n,e)=>null;function Ih(n,e){return F1(n,e)}function Dp(n,e,t,i){const r=e.tView,a=Ny(n,r,t,4096&n[Ve]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Du]=n[e.index];const d=n[xo];return null!==d&&(a[xo]=d.createEmbeddedView(r)),LC(r,a,t),a}function Ch(n,e){return!e||py(n)}function Sp(n,e,t,i=!0){const r=e[ue];if(function f5(n,e,t,i){const r=Fn+i,o=t.length;i>0&&(t[r-1][no]=e),i<o-Fn?(e[no]=t[r],Qm(t,Fn+i,e)):(t.push(e),e[no]=null),e[pn]=t;const s=e[Du];null!==s&&t!==s&&function m5(n,e){const t=n[va];e[tn]!==e[pn][pn][tn]&&(n[Ve]|=rs.HasTransplantedViews),null===t?n[va]=[e]:t.push(e)}(s,e);const a=e[xo];null!==a&&a.insertView(n),bv(e),e[Ve]|=128}(r,e,n,t),i){const o=nC(t,n),s=e[Qe],a=by(s,n[To]);null!==a&&function d5(n,e,t,i,r,o){i[Dn]=r,i[Si]=e,cp(n,i,t,1,r,o)}(r,n[Si],s,e,a,o)}}let Oo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Q9}return n})();function Q9(){return H1(Bt(),q())}const Y9=Oo,j1=class extends Y9{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return uh(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){const e=qu(this._hostTNode,this._hostLView);if(Wm(e)){const t=nd(e,this._hostLView),i=td(e);return new An(t[ue].data[i+8],t)}return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=z1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Fn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=Ih(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ch(this._hostTNode,s)),a}createComponent(e,t,i,r,o){const s=e&&!function od(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new bp(lt(e)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?d:this.parentInjector).get(ro,null);w&&(o=w)}const h=lt(c.componentType??{}),p=Ih(this._lContainer,h?.id??null),v=c.create(d,r,p?.firstChild??null,o);return this.insertImpl(v.hostView,a,Ch(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function sI(n){return Sn(n[pn])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[pn],d=new j1(c,c[Si],c[pn]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Sp(s,r,o,i),e.attachToViewContainerRef(),Qm(XC(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=z1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=sp(this._lContainer,t);i&&(Qu(XC(this._lContainer),t),yy(i[ue],i))}detach(e){const t=this._adjustIndex(e,-1),i=sp(this._lContainer,t);return i&&null!=Qu(XC(this._lContainer),t)?new yp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function z1(n){return n[8]}function XC(n){return n[8]||(n[8]=[])}function H1(n,e){let t;const i=e[n.index];return Sn(i)?t=i:(t=NP(i,e,null,n),e[n.index]=t,Fy(e,t)),$1(t,e,n,i),new j1(t,n,e)}let $1=function G1(n,e,t,i){if(n[To])return;let r;r=8&t.type?kt(i):function X9(n,e){const t=n[Qe],i=t.createComment(""),r=qi(e,n);return cd(t,by(t,r),i,function v5(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[To]=r},JC=(n,e,t)=>!1;function Ct(n,e,t,i,r,o,s,a){const c=q(),d=yt(),h=n+We,p=d.firstCreatePass?function nq(n,e,t,i,r,o,s,a,c){const d=e.consts,h=hh(e,n,4,s||null,Ur(d,a));SC(e,t,h,Ur(d,c)),Bu(e,h);const p=h.tView=DC(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,d,c,e,t,i,r,o,s):d.data[h];io(p,!1);const g=W1(d,c,p,n);Vu()&&wy(d,c,g,p),or(g,c);const v=NP(g,c,g,p);return c[h]=v,Fy(c,v),function q1(n,e,t){return JC(n,e,t)}(v,p,c),fc(p)&&xC(d,c,p),null!=s&&TC(c,p,a),Ct}let W1=function Z1(n,e,t,i){return ko(!0),e[Qe].createComment("")};function ka(n,e,t){dd("NgControlFlow");const i=q(),r=Ao(),o=function ex(n,e){return n[e]}(i,We+n);if(ai(i,r,e)){const a=Je(null);try{if(function YC(n,e){const t=sp(n,e);return void 0!==t&&yy(t[ue],t),t}(o,0),-1!==e){const c=function tx(n,e){return wa(n,e)}(i[ue],We+e),d=Ih(o,c.tView.ssrId);Sp(o,Dp(i,c,t,{dehydratedView:d}),0,Ch(c,d))}}finally{Je(a)}}else{const a=function U1(n,e){const t=Fn+e;if(t<n.length)return n[t]}(o,0);void 0!==a&&(a[Qt]=t)}}function A(n,e,t,i){const r=q(),o=yt(),s=We+n,a=r[Qe],c=o.firstCreatePass?function $q(n,e,t,i,r,o){const s=e.consts,c=hh(e,n,2,i,Ur(s,r));return SC(e,t,c,Ur(s,o)),null!==c.attrs&&Uy(c,c.attrs,!1),null!==c.mergedAttrs&&Uy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],d=_O(o,r,c,a,e,n);r[s]=d;const h=fc(c);return io(c,!0),qR(a,d,c),32!=(32&c.flags)&&Vu()&&wy(o,r,d,c),0===function aI(){return $e.lFrame.elementDepthCount}()&&or(d,r),function Lm(){$e.lFrame.elementDepthCount++}(),h&&(xC(o,r,c),CC(o,c,r)),null!==i&&TC(r,c),A}function V(){let n=Bt();Yl()?jm():(n=n.parent,io(n,!1));const e=n;(function cI(n){return $e.skipHydrationRootTNode===n})(e)&&function Um(){$e.skipHydrationRootTNode=null}(),function Ev(){$e.lFrame.elementDepthCount--}();const t=yt();return t.firstCreatePass&&(Bu(t,n),hc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Lv(n){return 0!=(8&n.flags)}(e)&&zC(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function yI(n){return 0!=(16&n.flags)}(e)&&zC(t,e,q(),e.stylesWithoutHost,!1),V}function je(n,e,t,i){return A(n,e,t,i),V(),je}let _O=(n,e,t,i,r,o)=>(ko(!0),vy(i,r,function Rv(){return $e.lFrame.currentNamespace}()));function Mh(n,e,t){const i=q(),r=yt(),o=n+We,s=r.firstCreatePass?function Wq(n,e,t,i,r){const o=e.consts,s=Ur(o,i),a=hh(e,n,8,"ng-container",s);return null!==s&&Uy(a,s,!0),SC(e,t,a,Ur(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];io(s,!0);const a=yO(r,i,s,n);return i[o]=a,Vu()&&wy(r,i,a,s),or(a,i),fc(s)&&(xC(r,i,s),CC(r,s,i)),null!=t&&TC(i,s),Mh}function Rh(){let n=Bt();const e=yt();return Yl()?jm():(n=n.parent,io(n,!1)),e.firstCreatePass&&(Bu(e,n),hc(n)&&e.queries.elementEnd(n)),Rh}let yO=(n,e,t,i)=>(ko(!0),XI(e[Qe],""));function ar(){return q()}function dx(n,e,t){const i=q();if(ai(i,Ao(),e)){const o=yt(),s=sn();ao(o,s,i,n,e,BP(Hm(o.data),s,i),t,!0)}return dx}const Oh="en-US";let IO=Oh;function Lp(n){return!!n&&"function"==typeof n.then}function ZO(n){return!!n&&"function"==typeof n.subscribe}function Me(n,e,t,i){const r=q(),o=yt(),s=Bt();return KO(o,r,r[Qe],s,n,e,i),Me}function fx(n,e){const t=Bt(),i=q(),r=yt();return KO(r,i,BP(Hm(r.data),t,i),t,n,e),fx}function KO(n,e,t,i,r,o,s){const a=fc(i),d=n.firstCreatePass&&VP(n),h=e[Qt],p=LP(e);let g=!0;if(3&i.type||s){const w=qi(i,e),E=s?s(w):w,k=p.length,S=s?Q=>s(kt(Q[i.index])):i.index;let R=null;if(!s&&a&&(R=function GG(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Ds],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,g=!1;else{o=YO(i,e,h,o,!1);const Q=t.listen(E,r,o);p.push(o,Q),d&&d.push(r,S,k,k+1)}}else o=YO(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const he=e[b[E]][b[E+1]].subscribe(o),ye=p.length;p.push(o,he),d&&d.push(r,i.index,ye,-(ye+1))}}}function QO(n,e,t,i){try{return Do(6,e,t),!1!==t(i)}catch(r){return Ly(n,r),!1}finally{Do(7,e,t)}}function YO(n,e,t,i,r){return function o(s){if(s===Function)return i;vp(n.componentOffset>-1?Ir(n.index,e):e);let c=QO(e,t,i,s),d=o.__ngNextListenerFn__;for(;d;)c=QO(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Pe(n=1){return function gI(n){return($e.lFrame.contextLView=function Ru(n,e){for(;n>0;)e=e[Hl],n--;return e}(n,$e.lFrame.contextLView))[Qt]}(n)}function WG(n,e){let t=null;const i=function dv(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?lv(n,o,!0):lc(i,o))return r}else t=r}return t}function us(n){const e=q()[tn][Si];if(!e.projection){const i=e.projection=zr(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?WG(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function li(n,e=0,t){const i=q(),r=yt(),o=hh(r,We+n,16,null,t||null);null===o.projection&&(o.projection=e),jm(),(!i[Vr]||gc())&&32!=(32&o.flags)&&function y5(n,e,t){HR(e[Qe],0,e,t,eC(n,t,e),LR(t.parent||e[Si],t,e))}(r,i,o)}function Nh(n,e,t){return mx(n,"",e,"",t),Nh}function mx(n,e,t,i,r){const o=q(),s=mh(o,e,t,i);return s!==it&&ao(yt(),sn(),o,n,s,o[Qe],r,!1),mx}function Gr(n){return function Ea(n,e){return n[e]}(function Iv(){return $e.lFrame.contextLView}(),We+n)}function re(n,e=""){const t=q(),i=yt(),r=n+We,o=i.firstCreatePass?hh(i,r,1,e,null):i.data[r],s=pN(i,t,o,e,n);t[r]=s,Vu()&&wy(i,t,s,o),io(o,!1)}let pN=(n,e,t,i,r)=>(ko(!0),function _y(n,e){return n.createText(e)}(e[Qe],i));function Xn(n){return Us("",n,""),Xn}function Us(n,e,t){const i=q(),r=mh(i,n,e,t);return r!==it&&Aa(i,Ai(),r),Us}function rb(n,e,t,i,r){const o=q(),s=ph(o,n,e,t,i,r);return s!==it&&Aa(o,Ai(),s),rb}function px(n,e,t,i,r){if(n=ze(n),Array.isArray(n))for(let o=0;o<n.length;o++)px(n[o],e,t,i,r);else{const o=yt(),s=q(),a=Bt();let c=ad(n)?n:ze(n.provide);const d=rR(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(ad(n)||!n.multi){const v=new xa(d,r,P),b=_x(c,e,r?h:h+g,p);-1===b?(rd($u(a,s),o,c),gx(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=_x(c,e,h+g,p),b=_x(c,e,h,h+g),E=b>=0&&t[b];if(r&&!E||!r&&!(v>=0&&t[v])){rd($u(a,s),o,c);const k=function lW(n,e,t,i,r){const o=new xa(n,t,P);return o.multi=[],o.index=e,o.componentProviders=0,IN(o,r,i&&!t),o}(r?cW:aW,t.length,r,i,d);!r&&E&&(t[b].providerFactory=k),gx(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else gx(o,n,v>-1?v:b,IN(t[r?b:v],d,!r&&i));!r&&i&&E&&t[b].componentProviders++}}}function gx(n,e,t,i){const r=ad(e),o=function b$(n){return!!n.useClass}(e);if(r||o){const c=(o?ze(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=d.indexOf(t);-1===h?d.push(t,[i,c]):d[h+1].push(i,c)}else d.push(t,c)}}}function IN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function _x(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function aW(n,e,t,i){return vx(this.multi,[])}function cW(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ta(t,t[ue],this.providerFactory.index,i);o=a.slice(0,s),vx(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],vx(r,o);return o}function vx(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Wt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function sW(n,e,t){const i=yt();if(i.firstCreatePass){const r=Br(n);px(t,i.data,i.blueprint,r,!0),px(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class gd{}class CN{}class yx extends gd{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new n1(this);const r=Hi(e);this._bootstrapComponents=oo(r.bootstrap),this._r3Injector=lR(e,t,[{provide:gd,useValue:this},{provide:mp,useValue:this.componentFactoryResolver},...i],jn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class bx extends CN{constructor(e){super(),this.moduleType=e}create(e){return new yx(this.moduleType,e,[])}}class xN extends gd{constructor(e){super(),this.componentFactoryResolver=new n1(this),this.instance=null;const t=new ih([...e.providers,{provide:gd,useValue:this},{provide:mp,useValue:this.componentFactoryResolver}],e.parent||ly(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function wx(n,e,t=null){return new xN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let hW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=nh(0,t.type),r=i.length>0?wx([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(O(ro))})}return n})();function ob(n){dd("NgStandalone"),n.getStandaloneInjector=e=>e.get(hW).getOrCreateStandaloneInjector(n)}function cb(n,e,t,i){return function PN(n,e,t,i,r,o){const s=e+t;return ai(n,s,r)?function Ls(n,e,t){return n[e]=t}(n,s+1,o?i.call(o,r):i(r)):function Vp(n,e){const t=n[e];return t===it?void 0:t}(n,s+1)}(q(),function Gi(){const n=$e.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function BW(){return this._results[Symbol.iterator]()}class Fh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Xt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Fh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=BW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function ki(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Km(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ma=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=zW}return n})();const UW=Ma,jW=class extends UW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=Dp(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new yp(r)}};function zW(){return lb(Bt(),q())}function lb(n,e){return 4&n.type?new jW(e,n,uh(n,e)):null}class Ix{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ix(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Cx(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zN(e,t).matches&&this.queries[t].setDirty()}}class VN{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class xx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new xx(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Tx{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Tx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,HW(t,o)),this.matchTNodeWithReadOption(e,t,yc(t,e,o,!1,!1))}else i===Ma?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,yc(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Yt||r===Oo||r===Ma&&4&t.type)this.addMatch(t.index,-2);else{const o=yc(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function HW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function qW(n,e,t,i){return-1===t?function $W(n,e){return 11&n.type?uh(n,e):4&n.type?lb(n,e):null}(e,n):-2===t?function GW(n,e,t){return t===Yt?uh(e,n):t===Ma?lb(e,n):t===Oo?H1(e,n):void 0}(n,e,i):Ta(n,n[ue],t,e)}function BN(n,e,t,i){const r=e[xo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:qW(e,o[d],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function Dx(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=BN(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const d=o[a+1],h=e[-c];for(let p=Fn;p<h.length;p++){const g=h[p];g[Du]===g[pn]&&Dx(g[ue],g,d,i)}if(null!==h[va]){const p=h[va];for(let g=0;g<p.length;g++){const v=p[g];Dx(v[ue],v,d,i)}}}}}return i}function Ri(n){const e=q(),t=yt(),i=Xl();$m(i+1);const r=zN(t,i);if(n.dirty&&function oI(n){return 4==(4&n[Ve])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Dx(t,e,i,[]):BN(t,e,r,i);n.reset(o,d6),n.notifyOnChanges()}return!0}return!1}function _d(n,e,t){const i=yt();i.firstCreatePass&&(jN(i,new VN(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),UN(i,q(),e)}function Fo(n,e,t,i){const r=yt();if(r.firstCreatePass){const o=Bt();jN(r,new VN(e,t,i),o.index),function ZW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}UN(r,q(),t)}function Pi(){return function WW(n,e){return n[xo].queries[e].queryList}(q(),Xl())}function UN(n,e,t){const i=new Fh(4==(4&t));(function V6(n,e,t,i){const r=LP(e);r.push(t),n.firstCreatePass&&VP(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[xo]&&(e[xo]=new Cx),e[xo].queries.push(new Ix(i))}function jN(n,e,t){null===n.queries&&(n.queries=new xx),n.queries.track(new Tx(e,t))}function zN(n,e){return n.queries.getByIndex(e)}function vd(n,e){return lb(n,e)}const Rx=new X("Application Initializer");let Px=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ce(Rx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Lp(o))t.push(o);else if(ZO(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rF=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const js=new X("LocaleId",{providedIn:"root",factory:()=>ce(js,pt.Optional|pt.SkipSelf)||function g7(){return typeof $localize<"u"&&$localize.locale||Oh}()});let ub=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class E7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sF=(()=>{class n{compileModuleSync(t){return new bx(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=oo(Hi(t).declarations).reduce((s,a)=>{const c=lt(a);return c&&s.push(new bp(c)),s},[]);return new E7(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uF=new X(""),fb=new X("");let Lx,Nx=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lx||(function W7(n){Lx=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(Be),O(Fx),O(fb))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),Fx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Lx?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Nc=null;const hF=new X("AllowMultipleToken"),Vx=new X("PlatformDestroyListeners"),Bx=new X("appBootstrapListener");function pF(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=Ux();if(!s||s.injector.get(hF,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Q7(n){if(Nc&&!Nc.get(hF,!1))throw new j(400,!1);(function fF(){!function Ka(n){yo=n}(()=>{throw new j(600,!1)})})(),Nc=n;const e=n.get(_F);(function mF(n){n.get(uR,null)?.forEach(t=>t())})(n)}(function gF(n=[],e){return Wi.create({name:e,providers:[{provide:NI,useValue:"platform"},{provide:Vx,useValue:new Set([()=>Nc=null])},...n]})}(a,i))}return function X7(n){const e=Ux();if(!e)throw new j(401,!1);return e}()}}function Ux(){return Nc?.get(_F)??null}let _F=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function J7(n="zone.js",e){return"noop"===n?new C8:"zone.js"===n?new Be(e):n}(i?.ngZone,function vF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function uW(n,e,t){return new yx(n,e,t)}(t.moduleType,this.injector,function IF(n){return[{provide:Be,useFactory:n},{provide:Ps,multi:!0,useFactory:()=>{const e=ce(tZ,{optional:!0});return()=>e.initialize()}},{provide:EF,useFactory:eZ},{provide:KP,useFactory:QP}]}(()=>r)),s=o.injector.get(cs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{mb(this._modules,o),a.unsubscribe()})}),function yF(n,e,t){try{const i=t();return Lp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Px);return a.runInitializers(),a.donePromise.then(()=>(function CO(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(IO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(js,Oh)||Oh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=bF({},i);return function Z7(n,e,t){const i=new bx(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Fc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new j(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Vx,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O(Wi))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function bF(n,e){return Array.isArray(e)?e.reduce(bF,n):{...n,...e}}let Fc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(EF),this.zoneIsStable=ce(KP),this.componentTypes=[],this.components=[],this.isStable=ce(ub).hasPendingTasks.pipe(Gt(t=>t?Ie(!1):this.zoneIsStable),Dl(),Tl()),this._injector=ce(ro)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof aP;if(!this._injector.get(Px).done)throw!r&&function fa(n){const e=lt(n)||ri(n)||Di(n);return null!==e&&e.standalone}(t),new j(405,!1);let s;s=r?t:this._injector.get(mp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function K7(n){return n.isBoundToModule}(s)?void 0:this._injector.get(gd),d=s.create(Wi.NULL,[],i||s.selector,a),h=d.location.nativeElement,p=d.injector.get(uF,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),mb(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new j(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;mb(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Bx,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const EF=new X("",{providedIn:"root",factory:()=>ce(cs).handleError.bind(void 0)});function eZ(){const n=ce(Be),e=ce(cs);return t=>n.runOutsideAngular(()=>e.handleError(t))}let tZ=(()=>{class n{constructor(){this.zone=ce(Be),this.applicationRef=ce(Fc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cZ=pF(null,"core",[]);let lZ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fc))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({})}return n})();function bd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Qx=null;function Lc(){return Qx}class PZ{}const bt=new X("DocumentToken");let Yx=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>ce(NZ),providedIn:"platform"})}return n})();const OZ=new X("Location Initialized");let NZ=(()=>{class n extends Yx{constructor(){super(),this._doc=ce(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lc().getBaseHref(this._doc)}onPopState(t){const i=Lc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Lc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Xx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function WF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ra(n){return n&&"?"!==n[0]?"?"+n:n}let wd=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>ce(KF),providedIn:"root"})}return n})();const ZF=new X("appBaseHref");let KF=(()=>{class n extends wd{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ce(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Xx(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ra(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ra(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ra(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Yx),O(ZF,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FZ=(()=>{class n extends wd{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Xx(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ra(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ra(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Yx),O(ZF,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),Uh=(()=>{class n{constructor(t){this._subject=new Xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function BZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(WF(QF(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ra(i))}normalize(t){return n.stripTrailingSlash(function VZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,QF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ra(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ra(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ra;static#t=this.joinWithSlash=Xx;static#n=this.stripTrailingSlash=WF;static#i=this.\u0275fac=function(i){return new(i||n)(O(wd))};static#r=this.\u0275prov=le({token:n,factory:()=>function LZ(){return new Uh(O(wd))}(),providedIn:"root"})}return n})();function QF(n){return n.replace(/\/index.html$/,"")}function oL(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const cT=/\s+/,sL=[];let aL=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=sL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(cT):sL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(cT):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(cT).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Py),P(pp),P(Yt),P(Sa))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class CK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rb=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new CK(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),lL(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{lL(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(P(Oo),P(Ma),P(Py))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function lL(n,e){n.context.$implicit=e.item}let zh=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new xK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(P(Oo),P(Ma))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class xK{constructor(){this.$implicit=null,this.ngIf=null}}function dL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jn(e)}'.`)}let Pb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({})}return n})();const mL="browser";function Ob(n){return"server"===n}let iQ=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new rQ(O(bt),window)})}return n})();class rQ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function oQ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class pL{}class SQ extends PZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pT extends SQ{static makeCurrent(){!function RZ(n){Qx||(Qx=n)}(new pT)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function AQ(){return Wp=Wp||document.querySelector("base"),Wp?Wp.getAttribute("href"):null}();return null==t?null:function kQ(n){Lb=Lb||document.createElement("a"),Lb.setAttribute("href",n);const e=Lb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oL(document.cookie,e)}}let Lb,Wp=null,RQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const gT=new X("EventManagerPlugins");let yL=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O(gT),O(Be))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class bL{constructor(e){this._doc=e}}const _T="ng-app-id";let wL=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ob(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${_T}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(_T),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(_T,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt),O(uy),O(zI,8),O(as))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const vT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yT=/%COMP%/g,FQ=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function IL(n,e){return e.map(t=>t.replace(yT,n))}let bT=(()=>{class n{constructor(t,i,r,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ob(a),this.defaultRenderer=new wT(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===to.ShadowDom&&(i={...i,encapsulation:to.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof xL?r.applyToHost(t):r instanceof ET&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case to.Emulated:o=new xL(c,d,i,this.appId,h,s,a,p);break;case to.ShadowDom:return new UQ(c,d,t,i,s,a,this.nonce,p);default:o=new ET(c,d,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(yL),O(wL),O(uy),O(FQ),O(bt),O(as),O(Be),O(zI))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class wT{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(vT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(CL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new j(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=vT[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=vT[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Mc.DashCase|Mc.Important)?e.style.setProperty(t,i,r&Mc.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Mc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Lc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function CL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class UQ extends wT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=IL(r.id,r.styles);for(const h of d){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ET extends wT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?IL(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xL extends ET{constructor(e,t,i,r,o,s,a,c){const d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=function LQ(n){return"_ngcontent-%COMP%".replace(yT,n)}(d),this.hostAttr=function VQ(n){return"_nghost-%COMP%".replace(yT,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let jQ=(()=>{class n extends bL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const TL=["alt","control","meta","shift"],zQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $Q=(()=>{class n extends bL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),TL.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=zQ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),TL.forEach(s=>{s!==r&&(0,HQ[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const SL=[{provide:as,useValue:mL},{provide:uR,useValue:function qQ(){pT.makeCurrent()},multi:!0},{provide:bt,useFactory:function WQ(){return function N$(n){jI=n}(document),document},deps:[]}],ZQ=pF(cZ,"browser",SL),KQ=new X(""),AL=[{provide:fb,useClass:class MQ{addToWindow(e){zt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new j(5103,!1);return o},zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),zt.getAllAngularRootElements=()=>e.getAllRootElements(),zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(i=>{const r=zt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Lc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:uF,useClass:Nx,deps:[Be,Fx,fb]},{provide:Nx,useClass:Nx,deps:[Be,Fx,fb]}],kL=[{provide:NI,useValue:"root"},{provide:cs,useFactory:function GQ(){return new cs},deps:[]},{provide:gT,useClass:jQ,multi:!0,deps:[bt,Be,as]},{provide:gT,useClass:$Q,multi:!0,deps:[bt]},bT,wL,yL,{provide:yC,useExisting:bT},{provide:pL,useClass:RQ,deps:[]},[]];let ML=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:uy,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(KQ,12))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({providers:[...kL,...AL],imports:[Pb,lZ]})}return n})(),RL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt))};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new i:function YQ(){return new RL(O(bt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:iY}=Array,{getPrototypeOf:rY,prototype:oY,keys:sY}=Object;function LL(n){if(1===n.length){const e=n[0];if(iY(e))return{args:e,keys:null};if(function aY(n){return n&&"object"==typeof n&&rY(n)===oY}(e)){const t=sY(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:cY}=Array;function xT(n){return _e(e=>function lY(n,e){return cY(e)?n(...e):n(e)}(n,e))}function VL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Vb(...n){const e=Cl(n),t=sm(n),{args:i,keys:r}=LL(n);if(0===i.length)return Kt([],e);const o=new Et(function dY(n,e,t=xi){return i=>{BL(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)BL(e,()=>{const d=Kt(n[c],e);let h=!1;d.subscribe(be(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>VL(r,s):xi));return t?o.pipe(xT(t)):o}function BL(n,e,t){n?es(t,n,e):e()}const Bb=pi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ub(...n){return function uY(){return tc(1)}()(Kt(n,Cl(n)))}function UL(n){return new Et(e=>{De(n()).subscribe(e)})}function Zp(n,e){const t=Fe(n)?n:()=>n,i=r=>r.error(t());return new Et(e?r=>e.schedule(i,0,r):i)}function TT(){return de((n,e)=>{let t=null;n._refCount++;const i=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class jL extends Et{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,F(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return TT()(this)}}function lo(n){return n<=0?()=>Io:de((e,t)=>{let i=0;e.subscribe(be(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ed(...n){const e=Cl(n);return de((t,i)=>{(e?Ub(n,t,e):Ub(n,t)).subscribe(i)})}function Hn(n,e){return de((t,i)=>{let r=0;t.subscribe(be(i,o=>n.call(e,o,r++)&&i.next(o)))})}function jb(n){return de((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function zL(n=hY){return de((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function hY(){return new Bb}function Bc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Hn((r,o)=>n(r,o,i)):xi,lo(1),t?jb(e):zL(()=>new Bb))}function Hh(n,e){return Fe(e)?_i(n,e,1):_i(n,1)}function ei(n,e,t){const i=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return i?de((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(be(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):xi}function Id(n){return de((e,t)=>{let o,i=null,r=!1;i=e.subscribe(be(t,void 0,void 0,s=>{o=De(n(s,Id(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function zb(n,e){return de(function fY(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(be(s,h=>{const p=d++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function DT(n){return n<=0?()=>Io:de((e,t)=>{let i=[];e.subscribe(be(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ST(n){return _e(()=>n)}function $h(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cr(n){return de((e,t)=>{De(n).subscribe(be(t,()=>t.complete(),vr)),!t.closed&&e.subscribe(t)})}const dt="primary",Kp=Symbol("RouteTitle");class pY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qh(n){return new pY(n)}function gY(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zs(n,e){const t=n?AT(n):void 0,i=e?AT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!HL(n[r],e[r]))return!1;return!0}function AT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function HL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function $L(n){return n.length>0?n[n.length-1]:null}function Uc(n){return function nY(n){return!!n&&(n instanceof Et||Fe(n.lift)&&Fe(n.subscribe))}(n)?n:Lp(n)?Kt(Promise.resolve(n)):Ie(n)}const vY={exact:function WL(n,e,t){if(!Cd(n.segments,e.segments)||!Hb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!WL(n.children[i],e.children[i],t))return!1;return!0},subset:ZL},qL={exact:function yY(n,e){return zs(n,e)},subset:function bY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>HL(n[t],e[t]))},ignored:()=>!0};function GL(n,e,t){return vY[t.paths](n.root,e.root,t.matrixParams)&&qL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ZL(n,e,t){return KL(n,e,e.segments,t)}function KL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Cd(r,t)||e.hasChildren()||!Hb(r,t,i))}if(n.segments.length===t.length){if(!Cd(n.segments,t)||!Hb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ZL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Cd(n.segments,r)&&Hb(n.segments,r,i)&&n.children[dt])&&KL(n.children[dt],e,o,i)}}function Hb(n,e,t){return e.every((i,r)=>qL[t](n[r].parameters,i.parameters))}class Gh{constructor(e=new nn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qh(this.queryParams)),this._queryParamMap}toString(){return IY.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $b(this)}}class Qp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qh(this.parameters)),this._parameterMap}toString(){return XL(this)}}function Cd(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Wh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>new kT,providedIn:"root"})}return n})();class kT{parse(e){const t=new OY(e);return new Gh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yp(e.root,!0)}`,i=function TY(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${qb(t)}=${qb(r)}`).join("&"):`${qb(t)}=${qb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function CY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const IY=new kT;function $b(n){return n.segments.map(e=>XL(e)).join("/")}function Yp(n,e){if(!n.hasChildren())return $b(n);if(e){const t=n.children[dt]?Yp(n.children[dt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==dt&&i.push(`${r}:${Yp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function EY(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===dt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==dt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===dt?[Yp(n.children[dt],!1)]:[`${r}:${Yp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dt]?`${$b(n)}/${t[0]}`:`${$b(n)}/(${t.join("//")})`}}function QL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qb(n){return QL(n).replace(/%3B/gi,";")}function MT(n){return QL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gb(n){return decodeURIComponent(n)}function YL(n){return Gb(n.replace(/\+/g,"%20"))}function XL(n){return`${MT(n.path)}${function xY(n){return Object.keys(n).map(e=>`;${MT(e)}=${MT(n[e])}`).join("")}(n.parameters)}`}const DY=/^[^\/()?;#]+/;function RT(n){const e=n.match(DY);return e?e[0]:""}const SY=/^[^\/()?;=#]+/,kY=/^[^=?&#]+/,RY=/^[^&#]+/;class OY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[dt]=new nn(e,t)),i}parseSegment(){const e=RT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Qp(Gb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function AY(n){const e=n.match(SY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=RT(this.remaining);r&&(i=r,this.capture(i))}e[Gb(t)]=Gb(i)}parseQueryParam(e){const t=function MY(n){const e=n.match(kY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function PY(n){const e=n.match(RY);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=YL(t),o=YL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=RT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new j(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=dt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[dt]:new nn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}}function JL(n){return n.segments.length>0?new nn([],{[dt]:n}):n}function e2(n){const e={};for(const i of Object.keys(n.children)){const o=e2(n.children[i]);if(i===dt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function NY(n){if(1===n.numberOfChildren&&n.children[dt]){const e=n.children[dt];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function xd(n){return n instanceof Gh}function t2(n){let e;const r=JL(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new nn(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function n2(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return PT(r,r,r,t,i);const o=function LY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new o2(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new o2(t,e,i)}(e);if(o.toRoot())return PT(r,r,new nn([],{}),t,i);const s=function VY(n,e,t){if(n.isAbsolute)return new Zb(e,!0,0);if(!t)return new Zb(e,!1,NaN);if(null===t.parent)return new Zb(t,!0,0);const i=Wb(n.commands[0])?0:1;return function BY(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new Zb(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Jp(s.segmentGroup,s.index,o.commands):s2(s.segmentGroup,s.index,o.commands);return PT(r,s.segmentGroup,a,t,i)}function Wb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xp(n){return"object"==typeof n&&null!=n&&n.outlets}function PT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`}),s=n===e?t:r2(n,e,t);const a=JL(e2(s));return new Gh(a,o,r)}function r2(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:r2(o,e,t)}),new nn(n.segments,i)}class o2{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Wb(i[0]))throw new j(4003,!1);const r=i.find(Xp);if(r&&r!==$L(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function s2(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return Jp(n,e,t);const i=function jY(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Xp(a))break;const c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!c2(c,d,s))return o;i+=2}else{if(!c2(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new nn(n.segments.slice(0,i.pathIndex),{});return o.children[dt]=new nn(n.segments.slice(i.pathIndex),n.children),Jp(o,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?OT(n,e,t):i.match?Jp(n,0,r):OT(n,e,t)}function Jp(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function UY(n){return Xp(n[0])?n[0].outlets:{[dt]:n}}(t),r={};if(Object.keys(i).some(o=>o!==dt)&&n.children[dt]&&1===n.numberOfChildren&&0===n.children[dt].segments.length){const o=Jp(n.children[dt],e,t);return new nn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=s2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new nn(n.segments,r)}}function OT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Xp(o)){const c=zY(o.outlets);return new nn(i,c)}if(0===r&&Wb(t[0])){i.push(new Qp(n.segments[e].path,a2(t[0]))),r++;continue}const s=Xp(o)?o.outlets[dt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Wb(a)?(i.push(new Qp(s,a2(a))),r+=2):(i.push(new Qp(s,{})),r++)}return new nn(i,{})}function zY(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=OT(new nn([],{}),0,i))}),e}function a2(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function c2(n,e,t){return n==t.path&&zs(e,t.parameters)}const eg="imperative";class Hs{constructor(e,t){this.id=e,this.url=t}}class Kb extends Hs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Na extends Hs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zh extends Hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kh extends Hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Qb extends Hs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class l2 extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends Hs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GY extends Hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d2{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class NT{}class FT{constructor(e){this.url=e}}class JY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tg,this.attachRef=null}}let tg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new JY,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class u2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=LT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=LT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=VT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return VT(e,this._root).map(t=>t.value)}}function LT(n,e){if(n===e.value)return e;for(const t of e.children){const i=LT(n,t);if(i)return i}return null}function VT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=VT(n,t);if(i.length)return i.unshift(e),i}return[]}class ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class h2 extends u2{constructor(e,t){super(e),this.snapshot=t,jT(this,e)}toString(){return this.snapshot.toString()}}function f2(n,e){const t=function eX(n,e){const s=new UT([],{},{},"",{},dt,e,null,{});return new m2("",new ms(s,[]))}(0,e),i=new nr([new Qp("",{})]),r=new nr({}),o=new nr({}),s=new nr({}),a=new nr(""),c=new Yh(i,r,s,a,o,dt,e,t.root);return c.snapshot=t.root,new h2(new ms(c,[]),t)}class Yh{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(d=>d[Kp]))??Ie(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>qh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>qh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:n.params,data:n.data,resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&g2(r)&&(i.resolve[Kp]=r.title),i}class UT{get title(){return this.data?.[Kp]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m2 extends u2{constructor(e,t){super(t),this.url=e,jT(this,t)}toString(){return p2(this._root)}}function jT(n,e){e.value._routerState=n,e.children.forEach(t=>jT(n,t))}function p2(n){const e=n.children.length>0?` { ${n.children.map(p2).join(", ")} } `:"";return`${n.value}${e}`}function zT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zs(e.params,t.params)||n.paramsSubject.next(t.params),function _Y(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),zs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function HT(n,e){const t=zs(n.params,e.params)&&function wY(n,e){return Cd(n,e)&&n.every((t,i)=>zs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||HT(n.parent,e.parent))}function g2(n){return"string"==typeof n.title||null===n.title}let $T=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new Xt,this.deactivateEvents=new Xt,this.attachEvents=new Xt,this.detachEvents=new Xt,this.parentContexts=ce(tg),this.location=ce(Oo),this.changeDetector=ce(Fs),this.environmentInjector=ce(ro),this.inputBinder=ce(Yb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tX(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$i]})}return n})();class tX{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Yh?this.route:e===tg?this.childContexts:this.parent.get(e,t)}}const Yb=new X("");let _2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Vb([i.queryParams,i.params,i.data]).pipe(Gt(([o,s,a],c)=>(a={...o,...s,...a},0===c?Ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function MZ(n){const e=lt(n);if(!e)return null;const t=new bp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function ng(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function iX(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ng(n,i,r);return ng(n,i)})}(n,e,t);return new ms(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ng(n,a)),s}}const i=function rX(n){return new Yh(new nr(n.url),new nr(n.params),new nr(n.queryParams),new nr(n.fragment),new nr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>ng(n,o));return new ms(i,r)}}const qT="ngNavigationCancelingError";function v2(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=xd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=y2(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function y2(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[qT]=!0,i.cancellationCode=e,t&&(i.url=t),i}function b2(n){return n&&n[qT]}let w2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],standalone:!0,features:[ob],decls:1,vars:0,template:function(i,r){1&i&&je(0,"router-outlet")},dependencies:[$T],encapsulation:2})}return n})();function GT(n){const e=n.children&&n.children.map(GT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==dt&&(t.component=w2),t}function $s(n){return n.outlet||dt}function ig(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hX{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),zT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Qh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Qh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Qh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Qh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new XY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new QY(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(zT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ig(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class E2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xb{constructor(e,t){this.component=e,this.route=t}}function fX(n,e,t){const i=n._root;return rg(i,e?e._root:null,t,[i.value])}function Xh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function X_(n){return null!==la(n)}(n)?e.get(n):n:i}function rg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Qh(e);return n.children.forEach(s=>{(function pX(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function gX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Cd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Cd(n.url,e.url)||!zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HT(n,e)||!zs(n.queryParams,e.queryParams);default:return!HT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new E2(i)):(o.data=s.data,o._resolvedData=s._resolvedData),rg(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Xb(a.outlet.component,s))}else s&&og(e,a,r),r.canActivateChecks.push(new E2(i)),rg(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>og(a,t.getContext(s),r)),r}function og(n,e,t){const i=Qh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{og(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Xb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function sg(n){return"function"==typeof n}function I2(n){return n instanceof Bb||"EmptyError"===n?.name}const Jb=Symbol("INITIAL_VALUE");function Jh(){return Gt(n=>Vb(n.map(e=>e.pipe(lo(1),Ed(Jb)))).pipe(_e(e=>{for(const t of e)if(!0!==t){if(t===Jb)return Jb;if(!1===t||t instanceof Gh)return t}return!0}),Hn(e=>e!==Jb),lo(1)))}function C2(n){return function Es(...n){return ra(n)}(ei(e=>{if(xd(e))throw v2(0,e)}),_e(e=>!0===e))}class WT{constructor(e){this.segmentGroup=e||null}}class ZT extends Error{constructor(e){super(),this.urlTree=e}}function ef(n){return Zp(new WT(n))}class FX{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new j(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ie(i);if(r.numberOfChildren>1||!r.children[dt])return Zp(new j(4e3,!1));r=r.children[dt]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new ZT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Gh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new nn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const KT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LX(n,e,t,i,r){const o=QT(n,e,t);return o.matched?(i=function sX(n,e){return n.providers&&!n._injector&&(n._injector=wx(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function PX(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ie(r.map(s=>{const a=Xh(s,n);return Uc(function EX(n){return n&&sg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Jh(),C2()):Ie(!0)}(i,e,t).pipe(_e(s=>!0===s?o:{...KT}))):Ie(o)}function QT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...KT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||gY)(t,n,e);if(!r)return{...KT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function x2(n,e,t,i){return t.length>0&&function UX(n,e,t){return t.some(i=>ew(n,e,i)&&$s(i)!==dt)}(n,t,i)?{segmentGroup:new nn(e,BX(i,new nn(t,n.children))),slicedSegments:[]}:0===t.length&&function jX(n,e,t){return t.some(i=>ew(n,e,i))}(n,t,i)?{segmentGroup:new nn(n.segments,VX(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new nn(n.segments,n.children),slicedSegments:t}}function VX(n,e,t,i,r){const o={};for(const s of i)if(ew(n,t,s)&&!r[$s(s)]){const a=new nn([],{});o[$s(s)]=a}return{...r,...o}}function BX(n,e){const t={};t[dt]=e;for(const i of n)if(""===i.path&&$s(i)!==dt){const r=new nn([],{});t[$s(i)]=r}return t}function ew(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class $X{}class WX{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new FX(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,!1)}recognize(){const e=x2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_e(t=>{const i=new UT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,{}),r=new ms(i,t),o=new m2("",r),s=function FY(n,e,t=null,i=null){return n2(t2(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,dt).pipe(Id(i=>{if(i instanceof ZT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof WT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=BT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(_e(o=>o instanceof ms?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Kt(r).pipe(Hh(o=>{const s=i.children[o],a=function dX(n,e){const t=n.filter(i=>$s(i)===e);return t.push(...n.filter(i=>$s(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),zb((o,s)=>(o.push(...s),o)),jb(null),function mY(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Hn((r,o)=>n(r,o,i)):xi,DT(1),t?jb(e):zL(()=>new Bb))}(),_i(o=>{if(null===o)return ef(i);const s=T2(o);return function ZX(n){n.sort((e,t)=>e.value.outlet===dt?-1:t.value.outlet===dt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Ie(s)}))}processSegment(e,t,i,r,o,s){return Kt(t).pipe(Hh(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Id(c=>{if(c instanceof WT)return Ie(null);throw c}))),Bc(a=>!!a),Id(a=>{if(I2(a))return function HX(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?Ie(new $X):ef(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function zX(n,e,t,i){return!!($s(n)===i||i!==dt&&ew(e,t,n))&&("**"===n.path||QT(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):ef(r):ef(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:d,remainingSegments:h}="**"===r.path?D2(o):QT(t,r,o);if(!a)return ef(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(_i(g=>this.processSegment(e,i,t,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s;return"**"===i.path?(s=Ie(D2(r)),t.children={}):s=LX(t,i,r,e),s.pipe(Gt(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Gt(({routes:c})=>{const d=i._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,v=new UT(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function QX(n){return n.data||{}}(i),$s(i),i.component??i._loadedComponent??null,i,function YX(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:w}=x2(t,h,p,c);if(0===w.length&&b.hasChildren())return this.processChildren(d,c,b).pipe(_e(k=>null===k?null:new ms(v,k)));if(0===c.length&&0===w.length)return Ie(new ms(v,[]));const E=$s(i)===o;return this.processSegment(d,c,b,w,E?dt:o,!0).pipe(_e(k=>new ms(v,k instanceof ms?[k]:[])))})):ef(t)))}getChildConfig(e,t,i){return t.children?Ie({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ie({routes:t._loadedRoutes,injector:t._loadedInjector}):function RX(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ie(!0):Ie(r.map(s=>{const a=Xh(s,n);return Uc(function vX(n){return n&&sg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Jh(),C2())}(e,t,i).pipe(_i(r=>r?this.configLoader.loadChildren(e,t).pipe(ei(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function NX(n){return Zp(y2(!1,3))}())):Ie({routes:[],injector:e})}}function KX(n){const e=n.value.routeConfig;return e&&""===e.path}function T2(n){const e=[],t=new Set;for(const i of n){if(!KX(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=T2(i.children);e.push(new ms(i.value,r))}return e.filter(i=>!t.has(i))}function D2(n){return{matched:!0,parameters:n.length>0?$L(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function JX(n,e){return _i(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ie(t);const o=r.map(d=>d.route),s=new Set(o),a=S2(o[0].parent).slice(1);let c=0;return Kt(a).pipe(Hh(d=>s.has(d)?function eJ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!g2(r)&&(o[Kp]=r.title),function tJ(n,e,t,i){const r=AT(n);if(0===r.length)return Ie({});const o={};return Kt(r).pipe(_i(s=>function nJ(n,e,t,i){const r=ig(e)??i,o=Xh(n,r);return Uc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Bc(),ei(a=>{o[s]=a}))),DT(1),ST(o),Id(s=>I2(s)?Io:Zp(s)))}(o,n,e,i).pipe(_e(s=>(n._resolvedData=s,n.data=BT(n,n.parent,t).resolve,null)))}(d,i,n,e):(d.data=BT(d,d.parent,n).resolve,Ie(void 0))),ei(()=>c++),DT(1),_i(d=>c===a.length?Ie(t):Io))})}function S2(n){const e=n.children.map(t=>S2(t)).flat();return[n,...e]}function YT(n){return Gt(e=>{const t=n(e);return t?Kt(t).pipe(_e(()=>e)):Ie(e)})}let A2=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===dt);return i}getResolvedTitleForRoute(t){return t.data[Kp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>ce(iJ),providedIn:"root"})}return n})(),iJ=(()=>{class n extends A2{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(RL))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tf=new X("",{providedIn:"root",factory:()=>({})}),nf=new X("ROUTES");let XT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(sF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Uc(t.loadComponent()).pipe(_e(k2),ei(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),$h(()=>{this.componentLoaders.delete(t)})),r=new jL(i,()=>new T).pipe(TT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ie({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function rJ(n,e,t,i){return Uc(n.loadChildren()).pipe(_e(k2),_i(r=>r instanceof CN||Array.isArray(r)?Ie(r):Kt(e.compileModuleAsync(r))),_e(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(nf,[],{optional:!0,self:!0}).flat()),{routes:s.map(GT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe($h(()=>{this.childrenLoaders.delete(i)})),s=new jL(o,()=>new T).pipe(TT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k2(n){return function oJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let JT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>ce(sJ),providedIn:"root"})}return n})(),sJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const M2=new X(""),R2=new X("");function aJ(n,e,t){const i=n.get(R2),r=n.get(bt);return n.get(Be).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),function cJ(n){return new Promise(e=>{JP(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&function D$(n,e){n instanceof ih&&n.assertNotDestroyed();const i=Ts(n),r=Ti(void 0);try{return e()}finally{Ts(i),Ti(r)}}(n,()=>c({transition:a,from:e,to:t})),s})}let tw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new T,this.transitionAbortSubject=new T,this.configLoader=ce(XT),this.environmentInjector=ce(ro),this.urlSerializer=ce(Wh),this.rootContexts=ce(tg),this.location=ce(Uh),this.inputBindingEnabled=null!==ce(Yb,{optional:!0}),this.titleStrategy=ce(A2),this.options=ce(tf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ce(JT),this.createViewTransition=ce(M2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ZY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new WY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new nr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:eg,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hn(o=>0!==o.id),_e(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Gt(o=>{this.currentTransition=o;let s=!1,a=!1;return Ie(o).pipe(ei(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gt(c=>{const d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Kh(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Io}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ie(c).pipe(Gt(p=>{const g=this.transitions?.getValue();return this.events.next(new Kb(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Io:Promise.resolve(p)}),function XX(n,e,t,i,r,o){return _i(s=>function qX(n,e,t,i,r,o,s="emptyOnly"){return new WX(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(_e(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ei(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new l2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:v,restoredState:b,extras:w}=c,E=new Kb(p,this.urlSerializer.serialize(g),v,b);this.events.next(E);const k=f2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:k,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Ie(o)}{const p="";return this.events.next(new Kh(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Io}}),ei(c=>{const d=new HY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),_e(c=>(this.currentTransition=o={...c,guards:fX(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function CX(n,e){return _i(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Ie({...t,guardsResult:!0}):function xX(n,e,t,i){return Kt(n).pipe(_i(r=>function MX(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ie(o.map(a=>{const c=ig(e)??r,d=Xh(a,c);return Uc(function wX(n){return n&&sg(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):c.runInContext(()=>d(n,e,t,i))).pipe(Bc())})).pipe(Jh()):Ie(!0)}(r.component,r.route,t,e,i)),Bc(r=>!0!==r,!0))}(s,i,r,n).pipe(_i(a=>a&&function _X(n){return"boolean"==typeof n}(a)?function TX(n,e,t,i){return Kt(e).pipe(Hh(r=>Ub(function SX(n,e){return null!==n&&e&&e(new KY(n)),Ie(!0)}(r.route.parent,i),function DX(n,e){return null!==n&&e&&e(new YY(n)),Ie(!0)}(r.route,i),function kX(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function mX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>UL(()=>Ie(s.guards.map(c=>{const d=ig(s.node)??t,h=Xh(c,d);return Uc(function bX(n){return n&&sg(n.canActivateChild)}(h)?h.canActivateChild(i,n):d.runInContext(()=>h(i,n))).pipe(Bc())})).pipe(Jh())));return Ie(o).pipe(Jh())}(n,r.path,t),function AX(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ie(!0);const r=i.map(o=>UL(()=>{const s=ig(e)??t,a=Xh(o,s);return Uc(function yX(n){return n&&sg(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Bc())}));return Ie(r).pipe(Jh())}(n,r.route,t))),Bc(r=>!0!==r,!0))}(i,o,n,e):Ie(a)),_e(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ei(c=>{if(o.guardsResult=c.guardsResult,xd(c.guardsResult))throw v2(0,c.guardsResult);const d=new $Y(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Hn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),YT(c=>{if(c.guards.canActivateChecks.length)return Ie(c).pipe(ei(d=>{const h=new qY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Gt(d=>{let h=!1;return Ie(d).pipe(JX(this.paramsInheritanceStrategy,this.environmentInjector),ei({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),ei(d=>{const h=new GY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),YT(c=>{const d=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ei(g=>{h.component=g}),_e(()=>{})));for(const g of h.children)p.push(...d(g));return p};return Vb(d(c.targetSnapshot.root)).pipe(jb(),lo(1))}),YT(()=>this.afterPreactivation()),Gt(()=>{const{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Kt(h).pipe(_e(()=>o)):Ie(o)}),_e(c=>{const d=function nX(n,e,t){const i=ng(n,e._root,t?t._root:void 0);return new h2(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),ei(()=>{this.events.next(new NT)}),((n,e,t,i)=>_e(r=>(new hX(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),lo(1),ei({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Na(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),cr(this.transitionAbortSubject.pipe(ei(c=>{throw c}))),$h(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Id(c=>{if(a=!0,b2(c))this.events.next(new Zh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function oX(n){return b2(n)&&xd(n.url)}(c)?this.events.next(new FT(c.url)):o.resolve(!1);else{this.events.next(new Qb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return Io}))}))}cancelNavigationTransition(t,i,r){const o=new Zh(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lJ(n){return n!==eg}let dJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>ce(hJ),providedIn:"root"})}return n})();class uJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let hJ=(()=>{class n extends uJ{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:()=>ce(fJ),providedIn:"root"})}return n})(),fJ=(()=>{class n extends P2{constructor(){super(...arguments),this.location=ce(Uh),this.urlSerializer=ce(Wh),this.options=ce(tf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ce(JT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=f2(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Kb)this.stateMemento=this.createStateMemento();else if(t instanceof Kh)this.rawUrlTree=i.initialUrl;else if(t instanceof l2){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof NT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Zh&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof Qb?this.restoreHistory(i,!0):t instanceof Na&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ag=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ag||{});function O2(n,e){n.events.pipe(Hn(t=>t instanceof Na||t instanceof Zh||t instanceof Qb||t instanceof Kh),_e(t=>t instanceof Na||t instanceof Kh?ag.COMPLETE:t instanceof Zh&&(0===t.code||1===t.code)?ag.REDIRECTING:ag.FAILED),Hn(t=>t!==ag.REDIRECTING),lo(1)).subscribe(()=>{e()})}function mJ(n){throw n}const pJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ce(rF),this.stateManager=ce(P2),this.options=ce(tf,{optional:!0})||{},this.pendingTasks=ce(ub),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ce(tw),this.urlSerializer=ce(Wh),this.location=ce(Uh),this.urlHandlingStrategy=ce(JT),this._events=new T,this.errorHandler=this.options.errorHandler||mJ,this.navigated=!1,this.routeReuseStrategy=ce(dJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ce(nf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ce(Yb,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=ce(Be)instanceof Be&&Be.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Zh&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof Na)this.navigated=!0;else if(i instanceof FT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lJ(r.source)};this.scheduleNavigation(s,eg,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function vJ(n){return!(n instanceof NT||n instanceof FT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(GT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=t2(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return n2(p,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=xd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,eg,null,i)}navigate(t,i={skipLocationChange:!1}){return function _J(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new j(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...pJ}:!1===i?{...gJ}:i,xd(t))return GL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return GL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return O2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rf=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new T,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Na&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function iP(n,e,t){return function Y5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?nP:dp}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ar),P(Yh),function Zu(n){return function EI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(sv(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Bt(),n)}("tabindex"),P(Sa),P(Yt),P(wd))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Me("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&sr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",bd],skipLocationChange:["skipLocationChange","skipLocationChange",bd],replaceUrl:["replaceUrl","replaceUrl",bd],routerLink:"routerLink"},standalone:!0,features:[VC,$i]})}return n})();class N2{}let wJ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(t=>t instanceof Na),Hh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=wx(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Kt(r).pipe(tc())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ie(null);const o=r.pipe(_i(s=>null===s?Ie(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?Kt([o,this.loader.loadComponent(i)]).pipe(tc()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ar),O(sF),O(ro),O(N2),O(XT))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eD=new X("");let F2=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Na?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Kh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof d2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new d2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function TP(){throw new Error("invalid")}()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function qs(n,e){return{\u0275kind:n,\u0275providers:e}}function V2(){const n=ce(Wi);return e=>{const t=n.get(Fc);if(e!==t.components[0])return;const i=n.get(Ar),r=n.get(B2);1===n.get(tD)&&i.initialNavigation(),n.get(U2,null,pt.Optional)?.setUpPreloading(),n.get(eD,null,pt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const B2=new X("",{factory:()=>new T}),tD=new X("",{providedIn:"root",factory:()=>1}),U2=new X("");function xJ(n){return qs(0,[{provide:U2,useExisting:wJ},{provide:N2,useExisting:n}])}function DJ(n){return qs(9,[{provide:M2,useValue:aJ},{provide:R2,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const j2=new X("ROUTER_FORROOT_GUARD"),SJ=[Uh,{provide:Wh,useClass:kT},Ar,tg,{provide:Yh,useFactory:function L2(n){return n.routerState.root},deps:[Ar]},XT,[]];let z2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[SJ,[],{provide:nf,multi:!0,useValue:t},{provide:j2,useFactory:RJ,deps:[[Ar,new Rs,new l]]},{provide:tf,useValue:i||{}},i?.useHash?{provide:wd,useClass:FZ}:{provide:wd,useClass:KF},{provide:eD,useFactory:()=>{const n=ce(iQ),e=ce(Be),t=ce(tf),i=ce(tw),r=ce(Wh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new F2(r,i,n,e,t)}},i?.preloadingStrategy?xJ(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?PJ(i):[],i?.bindToComponentInputs?qs(8,[_2,{provide:Yb,useExisting:_2}]).\u0275providers:[],i?.enableViewTransitions?DJ().\u0275providers:[],[{provide:H2,useFactory:V2},{provide:Bx,multi:!0,useExisting:H2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(j2,8))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({})}return n})();function RJ(n){return"guarded"}function PJ(n){return["disabled"===n.initialNavigation?qs(3,[{provide:Rx,multi:!0,useFactory:()=>{const e=ce(Ar);return()=>{e.setUpLocationChangeListener()}}},{provide:tD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qs(2,[{provide:tD,useValue:0},{provide:Rx,multi:!0,deps:[Wi],useFactory:e=>{const t=e.get(OZ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ar),o=e.get(B2);O2(r,()=>{i(!0)}),e.get(tw).afterPreactivation=()=>(i(!0),o.closed?Ie(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const H2=new X("");class nD{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $2 extends nD{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class nw extends nD{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class NJ extends nD{constructor(e){super(),this.element=e instanceof Yt?e.nativeElement:e}}class FJ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof $2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof nw?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof NJ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LJ extends FJ{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Wi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let VJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({})}return n})();function Wr(n){return null!=n&&"false"!=`${n}`}function iw(n,e=0){return function BJ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function rw(n){return Array.isArray(n)?n:[n]}function ui(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Td(n){return n instanceof Yt?n.nativeElement:n}const UJ=["addListener","removeListener"],jJ=["addEventListener","removeEventListener"],zJ=["on","off"];function cg(n,e,t,i){if(Fe(t)&&(i=t,t=void 0),i)return cg(n,e,t).pipe(xT(i));const[r,o]=function qJ(n){return Fe(n.addEventListener)&&Fe(n.removeEventListener)}(n)?jJ.map(s=>a=>n[s](e,a,t)):function HJ(n){return Fe(n.addListener)&&Fe(n.removeListener)}(n)?UJ.map(q2(n,e)):function $J(n){return Fe(n.on)&&Fe(n.off)}(n)?zJ.map(q2(n,e)):[];if(!r&&Un(n))return _i(s=>cg(s,e,t))(De(n));if(!r)throw new TypeError("Invalid event target");return new Et(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function q2(n,e){return t=>i=>n[t](e,i)}class GJ extends Pt{constructor(e,t){super()}schedule(e,t=0){return this}}const ow={setInterval(n,e,...t){const{delegate:i}=ow;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=ow;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class sw extends GJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return ow.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&ow.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ii(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const lg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=lg;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Pt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=lg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},iD={now:()=>(iD.delegate||Date).now(),delegate:void 0};class dg{constructor(e,t=dg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}dg.now=iD.now;class aw extends dg{constructor(e,t=dg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class ZJ extends aw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class WJ extends sw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=lg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(lg.cancelAnimationFrame(t),e._scheduled=void 0)}});let rD,QJ=1;const cw={};function G2(n){return n in cw&&(delete cw[n],!0)}const YJ={setImmediate(n){const e=QJ++;return cw[e]=!0,rD||(rD=Promise.resolve()),rD.then(()=>G2(e)&&n()),e},clearImmediate(n){G2(n)}},{setImmediate:XJ,clearImmediate:JJ}=YJ,lw={setImmediate(...n){const{delegate:e}=lw;return(e?.setImmediate||XJ)(...n)},clearImmediate(n){const{delegate:e}=lw;return(e?.clearImmediate||JJ)(n)},delegate:void 0},Dd=(new class tee extends aw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class eee extends sw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=lw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(lw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new aw(sw)),iee=Dd;function dw(n=0,e,t=iee){let i=-1;return null!=e&&($_(e)?t=e:i=e),new Et(r=>{let o=function oee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function W2(n,e=Dd){return function ree(n){return de((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,t.next(d)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(be(t,d=>{i=!0,r=d,o||De(n(d)).subscribe(o=be(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>dw(n,e))}let oD;try{oD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oD=!1}let ug,hw,Sd,sD,Zr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function nQ(n){return n===mL}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(as))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uw(n){return function see(){if(null==ug&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ug=!0}))}finally{ug=ug||!1}return ug}()?n:!!n.capture}function K2(){if(null==Sd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sd=!1,Sd;if("scrollBehavior"in document.documentElement.style)Sd=!0;else{const n=Element.prototype.scrollTo;Sd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sd}function hg(){if("object"!=typeof document||!document)return 0;if(null==hw){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),hw=0,0===n.scrollLeft&&(n.scrollLeft=1,hw=0===n.scrollLeft?1:2),n.remove()}return hw}function jc(n){return n.composedPath?n.composedPath()[0]:n.target}function aD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const dee=new X("cdk-dir-doc",{providedIn:"root",factory:function uee(){return ce(bt)}}),hee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let cD=(()=>{class n{constructor(t){this.value="ltr",this.change=new Xt,t&&(this.value=function fee(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?hee.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(O(dee,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({})}return n})(),fw=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Et(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(W2(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Hn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Td(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>cg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Be),O(Zr),O(bt,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mg=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new T,this._elementScrolled=new Et(s=>this.ngZone.runOutsideAngular(()=>cg(this.elementRef.nativeElement,"scroll").pipe(cr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=hg()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==hg()?t.left=t.right:1==hg()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;K2()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==hg()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==hg()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(P(Yt),P(fw),P(Be),P(cD,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),lD=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new T,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(W2(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Zr),O(Be),O(bt,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({})}return n})(),Q2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[fg,mw,fg,mw]})}return n})();const Y2=K2();class gee{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ui(-this._previousScrollPosition.left),e.style.top=ui(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Y2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Y2&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class _ee{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Hn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class X2{enable(){}disable(){}attach(){}}function dD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function J2(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class vee{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dD(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yee=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new X2,this.close=s=>new _ee(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new gee(this._viewportRuler,this._document),this.reposition=s=>new vee(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(O(fw),O(lD),O(Be),O(bt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bee{constructor(e){if(this.scrollStrategy=new X2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class wee{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let eV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Eee=(()=>{class n extends eV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt),O(Be,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iee=(()=>{class n extends eV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=jc(o)},this._clickListener=o=>{const s=jc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){const h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt),O(Zr),O(Be,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tV=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||aD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),aD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt),O(Zr))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Cee{constructor(e,t,i,r,o,s,a,c,d,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new T,this._attachments=new T,this._detachments=new T,this._locationChanges=Pt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new T,this._outsidePointerEvents=new T,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(lo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ui(this._config.width),e.height=ui(this._config.height),e.minWidth=ui(this._config.minWidth),e.minHeight=ui(this._config.minHeight),e.maxWidth=ui(this._config.maxWidth),e.maxHeight=ui(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=rw(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(cr(nc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const nV="cdk-overlay-connected-position-bounding-box",xee=/([A-Za-z%]+)$/;class Tee{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new T,this._resizeSubscription=Pt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(nV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(d,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,d,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const d of o){const h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,a=d)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ad(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=rV(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(s+=c),d&&(a+=d);let g=0-a,v=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,g,v),E=b*w;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=iV(this._overlayRef.getConfig().minHeight),a=iV(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=rV(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?d||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new wee(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=2*v,s=e.y-v,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const v=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;h=2*v,p=e.x-v,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-b/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ui(i.height),r.top=ui(i.top),r.bottom=ui(i.bottom),r.width=ui(i.width),r.left=ui(i.left),r.right=ui(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ui(o)),s&&(r.maxWidth=ui(s))}this._lastBoundingBoxSize=i,Ad(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ad(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ad(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();Ad(i,this._getExactOverlayY(t,e,h)),Ad(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ui(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ui(s.maxWidth):o&&(i.maxWidth="")),Ad(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ui(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ui(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:J2(e,i),isOriginOutsideView:dD(e,i),isOverlayClipped:J2(t,i),isOverlayOutsideView:dD(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&rw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Yt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ad(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function iV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(xee);return t&&"px"!==t?null:parseFloat(e)}return n||null}function rV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const oV="cdk-global-overlay-wrapper";class Dee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(oV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),d=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let v="",b="",w="";c?w="flex-start":"center"===h?(w="center",g?b=p:v=p):g?"left"===h||"end"===h?(w="flex-end",v=p):("right"===h||"start"===h)&&(w="flex-start",b=p):"left"===h||"start"===h?(w="flex-start",v=p):("right"===h||"end"===h)&&(w="flex-end",b=p),e.position=this._cssPosition,e.marginLeft=c?"0":v,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=w,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(oV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let See=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Dee}flexibleConnectedTo(t){return new Tee(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(lD),O(bt),O(Zr),O(tV))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Aee=0,pw=(()=>{class n{constructor(t,i,r,o,s,a,c,d,h,p,g,v){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=d,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new bee(t);return s.direction=s.direction||this._directionality.value,new Cee(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Aee++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Fc)),new LJ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(O(yee),O(tV),O(mp),O(See),O(Eee),O(Wi),O(Be),O(bt),O(cD),O(Uh),O(Iee),O(oh,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ree={provide:new X("cdk-connected-overlay-scroll-strategy"),deps:[pw],useFactory:function Mee(n){return()=>n.scrollStrategies.reposition()}};let Pee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({providers:[pw,Ree],imports:[fg,VJ,Q2,Q2]})}return n})(),uD=(()=>{class n{constructor(t){this.overlay=t,this.overlayRef=null}openOverlay(t){const i={hasBackdrop:!0,positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()};this.overlayRef=this.overlay.create(i);const r=new $2(t);this.overlayRef.attach(r)}closeOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(pw))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hD=n=>({"selected-box":n});let Oee=(()=>{class n{constructor(t){this.overlayService=t,this.selectedBox="Default",this.content={Default:{title:"Settings page",description:"Customize everything to your liking!"},Appearence:{title:"Appearence Settings",description:"Customize the visual appearence of your application."},Privacy:{title:"Privacy Settings",description:"Manage your privacy preferences and settings."},Status:{title:"Status Settings",description:"Configure your status and online/offline preferences."}}}closeOverlay(){this.overlayService.closeOverlay()}changeContent(t){this.selectedBox=t}isBoxSelected(t){return this.selectedBox===t}static#e=this.\u0275fac=function(i){return new(i||n)(P(uD))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-settings"]],standalone:!0,features:[ob],decls:25,vars:11,consts:[[1,"settings-overlay"],[1,"top-bar"],[1,"title"],["src","assets\\img\\settings.svg","alt",""],[1,"close"],[3,"click"],[1,"container"],[1,"side-bar"],[1,"box1",3,"ngClass","click"],[1,"box",3,"ngClass","click"],[1,"content"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1)(2,"div",2),je(3,"img",3),A(4,"h1"),re(5,"Settings"),V()(),A(6,"div",4)(7,"button",5),Me("click",function(){return r.closeOverlay()}),re(8,"X"),V()()(),A(9,"div",6)(10,"div",7)(11,"div",8),Me("click",function(){return r.changeContent("Appearence")}),A(12,"h1"),re(13,"Appearence"),V()(),A(14,"div",9),Me("click",function(){return r.changeContent("Privacy")}),A(15,"h1"),re(16,"Privacy"),V()(),A(17,"div",9),Me("click",function(){return r.changeContent("Status")}),A(18,"h1"),re(19,"Status"),V()()(),A(20,"div",10)(21,"h1"),re(22),V(),A(23,"p"),re(24),V()()()()),2&i&&(pe(11),et("ngClass",cb(5,hD,r.isBoxSelected("Appearence"))),pe(3),et("ngClass",cb(7,hD,r.isBoxSelected("Privacy"))),pe(3),et("ngClass",cb(9,hD,r.isBoxSelected("Status"))),pe(5),Xn(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].title),pe(2),Xn(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].description))},dependencies:[Pb,aL],styles:[".settings-overlay[_ngcontent-%COMP%]{width:50vw;height:90vh;display:flex;flex-direction:column;align-items:center;color:#e0e1e1;border-radius:40px}.top-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#212121;border-top-right-radius:40px;border-top-left-radius:40px}.title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;margin-right:20px;margin-left:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#e0e1e1;font-weight:bolder;background:transparent;font-size:40px;border:none;margin-right:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e37a70}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{color:#e37a70;transform:scale(.9)}.container[_ngcontent-%COMP%]{width:100%;height:800px;display:flex}.side-bar[_ngcontent-%COMP%]{width:25%;min-width:156px;display:flex;flex-direction:column;align-items:center;background-color:#212121;border-bottom-left-radius:40px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{width:100%;text-align:center;border-bottom:thin solid #E37A70;font-size:13px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box1[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]:hover, .box1[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#2d2d2d}.selected-box[_ngcontent-%COMP%]{background-color:#313131}.content[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#313131;border-bottom-right-radius:40px}@media screen and (max-width: 768px){.settings-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh}.side-bar[_ngcontent-%COMP%]{min-width:110px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{font-size:9px}}"]})}return n})();const Nee=["dropdownTemplate"],Fee=["cancelTemplate"],Lee=["sendTemplate"];function Vee(n,e){1&n&&je(0,"div",19)}function Bee(n,e){1&n&&je(0,"div",20)}function Uee(n,e){if(1&n){const t=ar();A(0,"div",23),Me("mouseenter",function(){const o=nt(t).$implicit;return ot(Pe(2).changeDropdownDisplayHover(o))})("click",function(){const o=nt(t).$implicit;return ot(Pe(2).changeDropdownDisplayClick(o))}),A(1,"h4"),re(2),V()()}if(2&n){const t=e.$implicit;pe(2),Xn(t)}}function jee(n,e){if(1&n&&(A(0,"div",21),Ct(1,Uee,3,1,"div",22),V()),2&n){const t=Pe();pe(1),et("ngForOf",t.problems)}}function zee(n,e){if(1&n){const t=ar();A(0,"div",24)(1,"div",25)(2,"h1"),re(3,"Cancel?"),V()(),A(4,"div",26)(5,"p"),re(6,"Are you sure?"),V(),A(7,"p"),re(8,"Your report will be lost."),V(),A(9,"div",27)(10,"p",28),Me("click",function(){return nt(t),ot(Pe().toggleCancel())}),re(11,"No"),V(),A(12,"p",29),Me("click",function(){return nt(t),ot(Pe().cancelYes())}),re(13,"Yes"),V()()()()}}function Hee(n,e){if(1&n){const t=ar();A(0,"div",24)(1,"div",25)(2,"h1"),re(3,"Are you sure?"),V()(),A(4,"div",26)(5,"p"),re(6,"Your report will be sent to"),V(),A(7,"p"),re(8,"company."),V(),A(9,"div",27)(10,"p",31),Me("click",function(){return nt(t),ot(Pe(2).toggleSend())}),re(11,"No"),V(),A(12,"p",32),Me("click",function(){return nt(t),ot(Pe(2).sendYes())}),re(13,"Yes"),V()()()()}}function $ee(n,e){if(1&n){const t=ar();A(0,"div",24)(1,"div",25)(2,"h1"),re(3,"Successfully sent"),V()(),A(4,"div",26)(5,"p"),re(6,"Thank you for your feedback!"),V(),A(7,"div",27)(8,"p",33),Me("click",function(){return nt(t),ot(Pe(2).cancelYes())}),re(9,"Done!"),V()()()()}}function qee(n,e){if(1&n&&Ct(0,Hee,14,0,"div",30)(1,$ee,10,0,"div",30),2&n){const t=Pe();et("ngIf",!t.sendIsYes),pe(1),et("ngIf",t.sendIsYes)}}let Gee=(()=>{class n{constructor(t,i,r,o){this.overlay=t,this.overlayService=i,this.viewContainerRef=r,this.elementRef=o,this.problems=["Transactions","Messages","Account","Credit","Posts","Other"],this.problem_with="Choose here...",this.dropdownIsOpen=!1,this.sendIsYes=!1}ngAfterViewInit(){this.initializeDropdown(),this.initializeCancel(),this.initializeSend()}initializeDropdown(){const t=this.elementRef.nativeElement.querySelector(".dropdown");if(t){const i=this.overlay.position().flexibleConnectedTo(t).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}]);this.dropdownoverlayRef=this.overlay.create({positionStrategy:i,hasBackdrop:!0,backdropClass:"dropdown-backdrop"}),this.dropdownoverlayRef.backdropClick().subscribe(()=>this.toggleDropdown())}}initializeCancel(){const t=this.overlay.position().global().centerHorizontally().centerVertically();this.cancelOverlayRef=this.overlay.create({positionStrategy:t,hasBackdrop:!0,backdropClass:"overlay-backdrop"})}initializeSend(){const t=this.overlay.position().global().centerHorizontally().centerVertically();this.sendOverlayRef=this.overlay.create({positionStrategy:t,hasBackdrop:!0,backdropClass:"overlay-backdrop"})}toggleDropdown(){if(this.dropdownoverlayRef.hasAttached())this.dropdownoverlayRef.detach(),this.dropdownIsOpen=!1;else{const t=new nw(this.dropdownTemplate,this.viewContainerRef);this.dropdownoverlayRef.attach(t),this.dropdownIsOpen=!0}}toggleCancel(){if(this.cancelOverlayRef.hasAttached())this.cancelOverlayRef.detach();else{const t=new nw(this.cancelTemplate,this.viewContainerRef);this.cancelOverlayRef.attach(t)}}toggleSend(){if(this.sendOverlayRef.hasAttached())this.sendOverlayRef.detach();else{const t=new nw(this.sendTemplate,this.viewContainerRef);this.sendOverlayRef.attach(t)}}changeDropdownDisplayHover(t){this.problem_with=t}changeDropdownDisplayClick(t){this.problem_with=t,this.toggleDropdown()}cancelYes(){this.cancelOverlayRef&&(this.cancelOverlayRef.detach(),this.cancelOverlayRef.dispose()),this.closeOverlay()}sendYes(){this.sendIsYes=!this.sendIsYes}closeOverlay(){this.overlayService.closeOverlay()}static#e=this.\u0275fac=function(i){return new(i||n)(P(pw),P(uD),P(Oo),P(Yt))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-bug-report"]],viewQuery:function(i,r){if(1&i&&(_d(Nee,7),_d(Fee,7),_d(Lee,7)),2&i){let o;Ri(o=Pi())&&(r.dropdownTemplate=o.first),Ri(o=Pi())&&(r.cancelTemplate=o.first),Ri(o=Pi())&&(r.sendTemplate=o.first)}},standalone:!0,features:[ob],decls:33,vars:3,consts:[[1,"bug-report-overlay"],[1,"top-bar"],["id","center",1,"title"],["src","assets\\img\\menu_bug.svg","alt",""],["id","end",1,"close"],[3,"click"],[1,"container"],[1,"top-part"],[1,"dropdown",3,"click"],["class","arrow-down",4,"ngIf"],["class","arrow-up",4,"ngIf"],["dropdownTemplate",""],[1,"middle"],["placeholder","Please provide a detailed explanation of the problem you are experiencing..."],[1,"bottom-buttons"],[1,"cancel",3,"click"],["cancelTemplate",""],[1,"send",3,"click"],["sendTemplate",""],[1,"arrow-down"],[1,"arrow-up"],[1,"dropdown-content"],["class","dropdown-element",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"dropdown-element",3,"mouseenter","click"],[1,"overlay"],[1,"overlay-title"],[1,"overlay-container"],[1,"overlay-buttons"],["id","cancel-no",1,"overlay-button",3,"click"],["id","cancel-yes",1,"overlay-button",3,"click"],["class","overlay",4,"ngIf"],["id","send-no",1,"overlay-button",3,"click"],["id","send-yes",1,"overlay-button",3,"click"],["id","send-done",1,"overlay-button",3,"click"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1)(2,"div",2),je(3,"img",3),A(4,"h1"),re(5,"Bug Report"),V()(),A(6,"div",4)(7,"button",5),Me("click",function(){return r.toggleCancel()}),re(8,"X"),V()()(),A(9,"div",6)(10,"div",7)(11,"h3"),re(12,"I have a problem with:"),V(),A(13,"div",8),Me("click",function(){return r.toggleDropdown()}),A(14,"h4"),re(15),V(),Ct(16,Vee,1,0,"div",9)(17,Bee,1,0,"div",10)(18,jee,2,1,"ng-template",null,11,vd),V()(),A(20,"div",12),je(21,"textarea",13),V(),A(22,"div",14)(23,"button",15),Me("click",function(){return r.toggleCancel()}),A(24,"h3"),re(25,"Cancel"),V()(),Ct(26,zee,14,0,"ng-template",null,16,vd),A(28,"button",17),Me("click",function(){return r.toggleSend()}),A(29,"h3"),re(30,"Send"),V()(),Ct(31,qee,2,2,"ng-template",null,18,vd),V()()()),2&i&&(pe(15),Xn(r.problem_with),pe(1),et("ngIf",!r.dropdownIsOpen),pe(1),et("ngIf",r.dropdownIsOpen))},dependencies:[Pb,Rb,zh],styles:[".bug-report-overlay[_ngcontent-%COMP%]{width:50vw;height:80vh;display:flex;flex-direction:column;align-items:center;color:#e0e1e1;border-radius:40px}.bug-report-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0;margin:0}h3[_ngcontent-%COMP%]{font-weight:lighter;font-size:36px;padding:0;margin:0}.top-bar[_ngcontent-%COMP%]{width:100%;text-align:center;position:relative;background-color:#212121;border-top-right-radius:40px;border-top-left-radius:40px;border-bottom:thin solid #E37A70}.top-bar[_ngcontent-%COMP%]   #center[_ngcontent-%COMP%]{justify-content:center}.top-bar[_ngcontent-%COMP%]   #end[_ngcontent-%COMP%]{justify-content:end}.title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-right:20px;margin-top:5px;margin-bottom:5px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:#e0e1e1;font-weight:bolder;background:transparent;font-size:40px;border:none;margin-right:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e37a70}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{color:#e37a70;transform:scale(.9)}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;background-color:#313131;border-bottom-left-radius:40px;border-bottom-right-radius:40px}.top-part[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.top-part[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-right:30px}.dropdown[_ngcontent-%COMP%], .dropdown-element[_ngcontent-%COMP%]{display:flex;width:15vw;padding:10px;background-color:#464646;border-radius:40px}.dropdown[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.dropdown[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dropdown-element[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#a1a1a1;font-size:1.3vw;font-weight:500;padding:0;margin:0}.dropdown-content[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.dropdown-element[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px}.dropdown[_ngcontent-%COMP%]:hover, .dropdown-element[_ngcontent-%COMP%]:hover{cursor:pointer}.dropdown-element[_ngcontent-%COMP%]:hover{background-color:#505050}.arrow-down[_ngcontent-%COMP%]{width:0;height:0;border-left:.5vw solid transparent;border-right:.5vw solid transparent;border-top:.9vw solid #A1A1A1}.arrow-up[_ngcontent-%COMP%]{width:0;height:0;border-left:.5vw solid transparent;border-right:.5vw solid transparent;border-bottom:.9vw solid #A1A1A1}.middle[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;width:41vw;height:23vw;color:#e0e1e1;font-size:1vw;font-family:IBM Plex Mono,monospace;border:none;border-radius:40px;background-color:#212121;padding:15px;outline:none;resize:none}.buttom-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cancel[_ngcontent-%COMP%], .send[_ngcontent-%COMP%]{width:10vw;border:none;border-radius:40px;padding-top:10px;padding-bottom:10px;background-color:#212121}.cancel[_ngcontent-%COMP%]{margin-right:5vw}.cancel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5vw;color:#c64a49}.send[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5vw;color:#92ee61}.cancel[_ngcontent-%COMP%]:hover, .send[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.cancel[_ngcontent-%COMP%]:active, .send[_ngcontent-%COMP%]:active{background-color:#2d2d2d;transform:scale(.9)}.overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:25vw;border-radius:30px}.overlay-title[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;background-color:#212121;border-bottom:thin solid #E37A70;border-top-left-radius:30px;border-top-right-radius:30px}.overlay-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0;margin:0}.overlay-container[_ngcontent-%COMP%]{width:100%;text-align:center;background-color:#313131;border-bottom-left-radius:30px;border-bottom-right-radius:30px;padding-top:1vw;padding-bottom:1vw}.overlay-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0;font-size:20px}.overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin-top:1vw}.overlay-button[_ngcontent-%COMP%]:hover{cursor:pointer}.overlay-button[_ngcontent-%COMP%]:active{transform:scale(.8)}#cancel-no[_ngcontent-%COMP%]{font-weight:bolder}#cancel-yes[_ngcontent-%COMP%]{color:#c64a49}#send-yes[_ngcontent-%COMP%], #send-done[_ngcontent-%COMP%]{font-weight:bolder;color:#92ee61}"]})}return n})();Xe(956);var af=Xe(534);(0,af.registerVersion)("firebase","10.6.0","app");const Yee=new class Qee extends aw{}(class Kee extends sw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),gw=new Rc("ANGULARFIRE2_VERSION");class sV{constructor(){return((n,e)=>{const t=(0,af.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(Jee)}}const Jee="app-check";function cf(){}class aV{zone;delegate;constructor(e,t=Yee){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class ete{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cf,{},cf,cf)),t.pipe(ei({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cV=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new aV(Zone.current)),this.insideAngular=t.run(()=>new aV(Zone.current,Dd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(Be))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uo(n){return function nte(n){return function(t){return(t=t.lift(new ete(n.ngZone))).pipe(sa(n.outsideAngular),oa(n.insideAngular))}}(function lf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Fa=Xe(106);Fa.Z.registerVersion("firebase","10.6.0","app-compat");const ste=["ngOnDestroy"];class lV{constructor(e){return e}}const _w=new X("angularfire2.app.options"),vw=new X("angularfire2.app.name");function fD(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Fa.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Fa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;lte("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new lV(s)}const lte=(n,...e)=>{},dte={provide:lV,useFactory:fD,deps:[_w,Be,[new Rs,vw]]};let ute=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:_w,useValue:t},{provide:vw,useValue:i}]}}constructor(t){Fa.Z.registerVersion("angularfire",gw.full,"core"),Fa.Z.registerVersion("angularfire",gw.full,"app-compat"),Fa.Z.registerVersion("angular",lP.full,t.toString())}static \u0275fac=function(i){return new(i||n)(O(as))};static \u0275mod=Ht({type:n});static \u0275inj=Ot({providers:[dte]})}return n})();function dV(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function hte(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(uV("error",`${e} was already initialized on the ${t} Firebase App with different settings.${fte?" You may need to reload as Firebase is not HMR aware.":""}`),uV("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const fte=typeof module<"u"&&!!module.hot,uV=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class mte extends T{constructor(e=1/0,t=1/0,i=iD){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function hV(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Tl({connector:()=>new mte(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function fV(n,e){return Fe(e)?Gt(()=>n,e):Gt(()=>n)}const mV=new X("angularfire2.auth.use-emulator"),pV=new X("angularfire2.auth.settings"),gV=new X("angularfire2.auth.tenant-id"),_V=new X("angularfire2.auth.langugage-code"),vV=new X("angularfire2.auth.use-device-language"),yV=new X("angularfire.auth.persistence"),bV=(n,e,t,i,r,o,s,a)=>dV(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[d,h]of Object.entries(s))c.settings[d]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let df=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,d,h,p,g,v){const b=new T,w=Ie(void 0).pipe(oa(s.outsideAngular),Gt(()=>o.runOutsideAngular(()=>Promise.resolve().then(Xe.bind(Xe,956)))),_e(()=>fD(t,o,i)),_e(E=>bV(E,o,a,d,h,p,c,g)),hV({bufferSize:1,refCount:!1}));if(Ob(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ie(null);else{w.pipe(Bc()).subscribe();const E=w.pipe(Gt(R=>R.getRedirectResult().then(Q=>Q,()=>null)),uo,hV({bufferSize:1,refCount:!1})),k=w.pipe(Gt(R=>new Et(Q=>({unsubscribe:o.runOutsideAngular(()=>R.onAuthStateChanged(he=>Q.next(he),he=>Q.error(he),()=>Q.complete()))})))),S=w.pipe(Gt(R=>new Et(Q=>({unsubscribe:o.runOutsideAngular(()=>R.onIdTokenChanged(he=>Q.next(he),he=>Q.error(he),()=>Q.complete()))}))));this.authState=E.pipe(fV(k),sa(s.outsideAngular),oa(s.insideAngular)),this.user=E.pipe(fV(S),sa(s.outsideAngular),oa(s.insideAngular)),this.idToken=this.user.pipe(Gt(R=>R?Kt(R.getIdToken()):Ie(null))),this.idTokenResult=this.user.pipe(Gt(R=>R?Kt(R.getIdTokenResult()):Ie(null))),this.credential=nc(E,b,this.authState.pipe(Hn(R=>!R))).pipe(_e(R=>R?.user?R:null),sa(s.outsideAngular),oa(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(ste.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(h=>{const p=h?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,p),p})})})}))(this,w,o,{spy:{apply:(E,k,S)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&S.then(R=>b.next(R))}}})}static \u0275fac=function(i){return new(i||n)(O(_w),O(vw,8),O(as),O(Be),O(cV),O(mV,8),O(pV,8),O(gV,8),O(_V,8),O(vV,8),O(yV,8),O(sV,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),gte=(()=>{class n{constructor(){Fa.Z.registerVersion("angularfire",gw.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ht({type:n});static \u0275inj=Ot({providers:[df]})}return n})();function mD(){return de((n,e)=>{let t,i=!1;n.subscribe(be(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var ve,K=Xe(861),wV=Xe(537),Gs=Xe(879),cn=Xe(58),_te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ps={},pD=pD||{},tt=_te||self;function yw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function pg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gD="closure_uid_"+(1e9*Math.random()>>>0),yte=0;function bte(n,e,t){return n.call.apply(n.bind,arguments)}function wte(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function lr(n,e,t){return(lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bte:wte).apply(null,arguments)}function bw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Oi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function zc(){this.s=this.s,this.o=this.o}zc.prototype.s=!1,zc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vte(n){Object.prototype.hasOwnProperty.call(n,gD)&&n[gD]||(n[gD]=++yte)}(this)},zc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function _D(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function IV(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(yw(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function dr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}dr.prototype.h=function(){this.defaultPrevented=!0};var Ite=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tt.addEventListener("test",()=>{},e),tt.removeEventListener("test",()=>{},e)}catch{}return n}();function gg(n){return/^[\s\xa0]*$/.test(n)}function ww(){var n=tt.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=ww().indexOf(n)}function vD(n){return vD[" "](n),n}vD[" "]=function(){};var bD,n,xte=Ws("Opera"),uf=Ws("Trident")||Ws("MSIE"),CV=Ws("Edge"),yD=CV||uf,xV=Ws("Gecko")&&!(-1!=ww().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),Tte=-1!=ww().toLowerCase().indexOf("webkit")&&!Ws("Edge");function TV(){var n=tt.document;return n?n.documentMode:void 0}e:{var wD="",ED=(n=ww(),xV?/rv:([^\);]+)(\)|;)/.exec(n):CV?/Edge\/([\d\.]+)/.exec(n):uf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Tte?/WebKit\/(\S+)/.exec(n):xte?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ED&&(wD=ED?ED[1]:""),uf){var ID=TV();if(null!=ID&&ID>parseFloat(wD)){bD=String(ID);break e}}bD=wD}var Dte=tt.document&&uf&&(TV()||parseInt(bD,10))||void 0;function _g(n,e){if(dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xV){e:{try{vD(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ste[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_g.$.h.call(this)}}Oi(_g,dr);var Ste={2:"touch",3:"pen",4:"mouse"};_g.prototype.h=function(){_g.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vg="closure_listenable_"+(1e6*Math.random()|0),Ate=0;function kte(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Ate,this.fa=this.ia=!1}function Ew(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function xD(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function SV(n){const e={};for(const t in n)e[t]=n[t];return e}const AV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<AV.length;o++)t=AV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Iw(n){this.src=n,this.g={},this.h=0}function TD(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=EV(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Ew(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function DD(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Iw.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=DD(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new kte(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var SD="closure_lm_"+(1e6*Math.random()|0),AD={};function MV(n,e,t,i,r){if(i&&i.once)return PV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)MV(n,e[o],t,i,r);return null}return t=PD(t),n&&n[vg]?n.O(e,t,pg(i)?!!i.capture:!!i,r):RV(n,e,t,!1,i,r)}function RV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=pg(r)?!!r.capture:!!r,a=MD(n);if(a||(n[SD]=a=new Iw(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function Rte(){const e=Pte;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Ite||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(NV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function PV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)PV(n,e[o],t,i,r);return null}return t=PD(t),n&&n[vg]?n.P(e,t,pg(i)?!!i.capture:!!i,r):RV(n,e,t,!0,i,r)}function OV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)OV(n,e[o],t,i,r);else i=pg(i)?!!i.capture:!!i,t=PD(t),n&&n[vg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=DD(o=n.g[e],t,i,r))&&(Ew(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=MD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=DD(e,t,i,r)),(t=-1<n?e[n]:null)&&kD(t))}function kD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[vg])TD(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(NV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=MD(e))?(TD(t,n),0==t.h&&(t.src=null,e[SD]=null)):Ew(n)}}}function NV(n){return n in AD?AD[n]:AD[n]="on"+n}function Pte(n,e){if(n.fa)n=!0;else{e=new _g(e,this);var t=n.listener,i=n.la||n.src;n.ia&&kD(n),n=t.call(i,e)}return n}function MD(n){return(n=n[SD])instanceof Iw?n:null}var RD="__closure_events_fn_"+(1e9*Math.random()>>>0);function PD(n){return"function"==typeof n?n:(n[RD]||(n[RD]=function(e){return n.handleEvent(e)}),n[RD])}function Ni(){zc.call(this),this.i=new Iw(this),this.S=this,this.J=null}function Ki(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new dr(e,n);else if(e instanceof dr)e.target=e.target||n;else{var r=e;kV(e=new dr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Cw(s,i,!0,e)&&r}if(r=Cw(s=e.g=n,i,!0,e)&&r,r=Cw(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Cw(s=e.g=t[o],i,!1,e)&&r}function Cw(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&TD(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Oi(Ni,zc),Ni.prototype[vg]=!0,Ni.prototype.removeEventListener=function(n,e,t,i){OV(this,n,e,t,i)},Ni.prototype.N=function(){if(Ni.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Ew(t[i]);delete n.g[e],n.h--}}this.J=null},Ni.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ni.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var OD=tt.JSON.stringify;function Nte(){var n=ND;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var FV=new class Ote{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Lte,n=>n.reset());class Lte{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vte(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Bte(n){tt.setTimeout(()=>{throw n},0)}let yg,bg=!1,ND=new class Fte{constructor(){this.h=this.g=null}add(e,t){const i=FV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},LV=()=>{const n=tt.Promise.resolve(void 0);yg=()=>{n.then(Ute)}};var Ute=()=>{for(var n;n=Nte();){try{n.h.call(n.g)}catch(t){Bte(t)}var e=FV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bg=!1};function xw(n,e){Ni.call(this),this.h=n||1,this.g=e||tt,this.j=lr(this.qb,this),this.l=Date.now()}function FD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function LD(n,e,t){if("function"==typeof n)t&&(n=lr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=lr(n.handleEvent,n)}return 2147483647<Number(e)?-1:tt.setTimeout(n,e||0)}function VV(n){n.g=LD(()=>{n.g=null,n.i&&(n.i=!1,VV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Oi(xw,Ni),(ve=xw.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ki(this,"tick"),this.ga&&(FD(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){xw.$.N.call(this),FD(this),delete this.g};class jte extends zc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VV(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wg(n){zc.call(this),this.h=n,this.g={}}Oi(wg,zc);var BV=[];function UV(n,e,t,i){Array.isArray(t)||(t&&(BV[0]=t.toString()),t=BV);for(var r=0;r<t.length;r++){var o=MV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function jV(n){xD(n.g,function(e,t){this.g.hasOwnProperty(t)&&kD(e)},n),n.g={}}function Tw(){this.g=!0}function hf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qte(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return OD(t)}catch{return e}}(n,t)+(i?" "+i:"")})}wg.prototype.N=function(){wg.$.N.call(this),jV(this)},wg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tw.prototype.Ea=function(){this.g=!1},Tw.prototype.info=function(){};var Md={},zV=null;function Dw(){return zV=zV||new Ni}function HV(n){dr.call(this,Md.Ta,n)}function Eg(n){const e=Dw();Ki(e,new HV(e))}function $V(n,e){dr.call(this,Md.STAT_EVENT,n),this.stat=e}function kr(n){const e=Dw();Ki(e,new $V(e,n))}function qV(n,e){dr.call(this,Md.Ua,n),this.size=e}function Ig(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){n()},e)}Md.Ta="serverreachability",Oi(HV,dr),Md.STAT_EVENT="statevent",Oi($V,dr),Md.Ua="timingevent",Oi(qV,dr);var Sw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function VD(){}function ZV(){}VD.prototype.h=null;var jD,Cg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function BD(){dr.call(this,"d")}function UD(){dr.call(this,"c")}function Aw(){}function xg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new wg(this),this.P=Gte,this.V=new xw(n=yD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KV}function KV(){this.i=null,this.g="",this.h=!1}Oi(BD,dr),Oi(UD,dr),Oi(Aw,VD),Aw.prototype.g=function(){return new XMLHttpRequest},Aw.prototype.i=function(){return{}},jD=new Aw;var Gte=45e3,zD={},kw={};function HD(n,e,t){n.L=1,n.v=Ow(La(e)),n.s=t,n.S=!0,QV(n,null)}function QV(n,e){n.G=Date.now(),Tg(n),n.A=La(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),sB(t.i,"t",i),n.C=0,t=n.l.J,n.h=new KV,n.g=kB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new jte(lr(n.Pa,n,n.g),n.O)),UV(n.U,n.g,"readystatechange",n.nb),e=n.I?SV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Eg(),function zte(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");if(1<d.length){var h=d[0];d=d[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+d+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function YV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function XV(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Wte(n,t),r==kw){4==e&&(n.o=4,kr(14),i=!1),hf(n.j,n.m,null,"[Incomplete Response]");break}if(r==zD){n.o=4,kr(15),hf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}hf(n.j,n.m,r,null),$D(n,r)}YV(n)&&r!=kw&&r!=zD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,kr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),YD(e),e.M=!0,kr(11))):(hf(n.j,n.m,t,"[Invalid Chunked Response]"),Rd(n),Dg(n))}function Wte(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?kw:(t=Number(e.substring(t,i)),isNaN(t)?zD:(i+=1)+t>e.length?kw:(e=e.slice(i,i+t),n.C=i+t,e))}function Tg(n){n.Y=Date.now()+n.P,JV(n,n.P)}function JV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ig(lr(n.lb,n),e)}function Mw(n){n.B&&(tt.clearTimeout(n.B),n.B=null)}function Dg(n){0==n.l.H||n.J||TB(n.l,n)}function Rd(n){Mw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,FD(n.V),jV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function $D(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||qD(t.i,n)))if(!n.K&&qD(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Uw(t),Vw(t)}QD(t),kr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ig(lr(t.ib,t),6e3));if(1>=lB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Od(t,11)}else if((n.K||t.g==n)&&Uw(t),!gg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const h=d[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=d[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(GD(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,vn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=AB(i,i.J?i.pa:null,i.Y),s.K){dB(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Mw(a),Tg(a)),i.g=s}else CB(i);0<t.j.length&&Bw(t)}else"stop"!=d[0]&&"close"!=d[0]||Od(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Od(t,7):KD(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Eg()}catch{}}function eB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Kte(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Zte(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yw(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ve=xg.prototype).setTimeout=function(n){this.P=n},ve.nb=function(n){n=n.target;const e=this.M;e&&3==Zs(n)?e.l():this.Pa(n)},ve.Pa=function(n){try{if(n==this.g)e:{const h=Zs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||yD||this.g&&(this.h.h||this.g.ja()||vB(this.g)))){this.J||4!=h||7==e||Eg(),Mw(this);var t=this.g.da();this.ca=t;t:if(YV(this)){var i=vB(this.g);n="";var r=i.length,o=4==Zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rd(this),Dg(this);var s="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Hte(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gg(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,kr(12),Rd(this),Dg(this);break e}hf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$D(this,t)}this.S?(XV(this,h,s),yD&&this.i&&3==h&&(UV(this.U,this.V,"tick",this.mb),this.V.start())):(hf(this.j,this.m,s,null),$D(this,s)),4==h&&Rd(this),this.i&&!this.J&&(4==h?TB(this.l,this):(this.i=!1,Tg(this)))}else(function fne(n){const e={};n=(n.g&&2<=Zs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(gg(n[i]))continue;var t=Vte(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Mte(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Rd(this),Dg(this)}}}catch{}},ve.mb=function(){if(this.g){var n=Zs(this.g),e=this.g.ja();this.C<e.length&&(Mw(this),XV(this,n,e),this.i&&4!=n&&Tg(this))}},ve.cancel=function(){this.J=!0,Rd(this)},ve.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function $te(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Eg(),kr(17)),Rd(this),this.o=2,Dg(this)):JV(this,this.Y-n)};var tB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Pd){this.h=n.h,Rw(this,n.j),this.s=n.s,this.g=n.g,Pw(this,n.m),this.l=n.l;var e=n.i,t=new kg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nB(this,t),this.o=n.o}else n&&(e=String(n).match(tB))?(this.h=!1,Rw(this,e[1]||"",!0),this.s=Sg(e[2]||""),this.g=Sg(e[3]||"",!0),Pw(this,e[4]),this.l=Sg(e[5]||"",!0),nB(this,e[6]||"",!0),this.o=Sg(e[7]||"")):(this.h=!1,this.i=new kg(null,this.h))}function La(n){return new Pd(n)}function Rw(n,e,t){n.j=t?Sg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nB(n,e,t){e instanceof kg?(n.i=e,function nne(n,e){e&&!n.j&&(Hc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(rB(this,i),sB(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ag(e,ene)),n.i=new kg(e,n.h))}function vn(n,e,t){n.i.set(e,t)}function Ow(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ag(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Yte),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Yte(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ag(e,iB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ag(e,iB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ag(t,"/"==t.charAt(0)?Jte:Xte,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ag(t,tne)),n.join("")};var iB=/[#\/\?@]/g,Xte=/[#\?:]/g,Jte=/[#\?]/g,ene=/[#\?@]/g,tne=/#/g;function kg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Qte(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function rB(n,e){Hc(n),e=ff(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function oB(n,e){return Hc(n),e=ff(n,e),n.g.has(e)}function sB(n,e,t){rB(n,e),0<t.length&&(n.i=null,n.g.set(ff(n,e),_D(t)),n.h+=t.length)}function ff(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ve=kg.prototype).add=function(n,e){Hc(this),this.i=null,n=ff(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(n,e){Hc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ve.ta=function(){Hc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ve.Z=function(n){Hc(this);let e=[];if("string"==typeof n)oB(this,n)&&(e=e.concat(this.g.get(ff(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ve.set=function(n,e){return Hc(this),this.i=null,oB(this,n=ff(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var ine=class{constructor(n,e){this.g=n,this.map=e}};function aB(n){this.l=n||rne,n=tt.PerformanceNavigationTiming?0<(n=tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rne=10;function cB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function lB(n){return n.h?1:n.g?n.g.size:0}function qD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function GD(n,e){n.g?n.g.add(e):n.h=e}function dB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return _D(n.i)}aB.prototype.cancel=function(){if(this.i=uB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var one=class{stringify(n){return tt.JSON.stringify(n,void 0)}parse(n){return tt.JSON.parse(n,void 0)}};function sne(){this.g=new one}function ane(n,e,t){const i=t||"";try{eB(n,function(r,o){let s=r;pg(r)&&(s=OD(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Nw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Mg(n){this.l=n.ec||null,this.j=n.ob||!1}function Fw(n,e){Ni.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=WD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oi(Mg,VD),Mg.prototype.g=function(){return new Fw(this.l,this.j)},Mg.prototype.i=function(n){return function(){return n}}({}),Oi(Fw,Ni);var WD=0;function hB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Rg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pg(n)}function Pg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ve=Fw.prototype).open=function(n,e){if(this.readyState!=WD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pg(this)},ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rg(this)),this.readyState=WD},ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pg(this)),this.g&&(this.readyState=3,Pg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Rg(this):Pg(this),3==this.readyState&&hB(this)}},ve.Za=function(n){this.g&&(this.response=this.responseText=n,Rg(this))},ve.Ya=function(n){this.g&&(this.response=n,Rg(this))},ve.ka=function(){this.g&&Rg(this)},ve.setRequestHeader=function(n,e){this.v.append(n,e)},ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Fw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lne=tt.JSON.parse;function $n(n){Ni.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fB,this.L=this.M=!1}Oi($n,Ni);var fB="",dne=/^https?$/i,une=["POST","PUT"];function mB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,pB(n),Lw(n)}function pB(n){n.F||(n.F=!0,Ki(n,"complete"),Ki(n,"error"))}function gB(n){if(n.h&&typeof pD<"u"&&(!n.C[1]||4!=Zs(n)||2!=n.da()))if(n.v&&4==Zs(n))LD(n.La,0,n);else if(Ki(n,"readystatechange"),4==Zs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(tB)[1]||null;!r&&tt.self&&tt.self.location&&(r=tt.self.location.protocol.slice(0,-1)),i=!dne.test(r?r.toLowerCase():"")}t=i}if(t)Ki(n,"complete"),Ki(n,"success");else{n.m=6;try{var o=2<Zs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",pB(n)}}finally{Lw(n)}}}function Lw(n,e){if(n.g){_B(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ki(n,"ready");try{t.onreadystatechange=i}catch{}}}function _B(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tt.clearTimeout(n.A),n.A=null)}function Zs(n){return n.g?n.g.readyState:0}function vB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yB(n){let e="";return xD(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ZD(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=yB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function Og(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bB(n){this.Ga=0,this.j=[],this.l=new Tw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Og("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Og("baseRetryDelayMs",5e3,n),this.hb=Og("retryDelaySeedMs",1e4,n),this.eb=Og("forwardChannelMaxRetries",2,n),this.xa=Og("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aB(n&&n.concurrentRequestLimit),this.Ja=new sne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function KD(n){if(wB(n),3==n.H){var e=n.W++,t=La(n.I);if(vn(t,"SID",n.K),vn(t,"RID",e),vn(t,"TYPE","terminate"),Ng(n,t),(e=new xg(n,n.l,e)).L=2,e.v=Ow(La(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon)try{t=tt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=kB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Tg(e)}SB(n)}function Vw(n){n.g&&(YD(n),n.g.cancel(),n.g=null)}function wB(n){Vw(n),n.u&&(tt.clearTimeout(n.u),n.u=null),Uw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tt.clearTimeout(n.m),n.m=null)}function Bw(n){if(!cB(n.i)&&!n.m){n.m=!0;var e=n.Na;yg||LV(),bg||(yg(),bg=!0),ND.add(e,n),n.C=0}}function EB(n,e){var t;t=e?e.m:n.W++;const i=La(n.I);vn(i,"SID",n.K),vn(i,"RID",t),vn(i,"AID",n.V),Ng(n,i),n.o&&n.s&&ZD(i,n.o,n.s),t=new xg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=IB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),GD(n.i,t),HD(t,i,e)}function Ng(n,e){n.na&&xD(n.na,function(t,i){vn(e,i,t)}),n.h&&eB({},function(t,i){vn(e,i,t)})}function IB(n,e,t){t=Math.min(n.j.length,t);var i=n.h?lr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let d=r[c].g;const h=r[c].map;if(d-=o,0>d)o=Math.max(0,r[c].g-100),a=!1;else try{ane(h,s,"req"+d+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function CB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;yg||LV(),bg||(yg(),bg=!0),ND.add(e,n),n.A=0}}function QD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ig(lr(n.Ma,n),DB(n,n.A)),n.A++,0))}function YD(n){null!=n.B&&(tt.clearTimeout(n.B),n.B=null)}function xB(n){n.g=new xg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=La(n.wa);vn(e,"RID","rpc"),vn(e,"SID",n.K),vn(e,"AID",n.V),vn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&vn(e,"TO",n.qa),vn(e,"TYPE","xmlhttp"),Ng(n,e),n.o&&n.s&&ZD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ow(La(e)),t.s=null,t.S=!0,QV(t,n)}function Uw(n){null!=n.v&&(tt.clearTimeout(n.v),n.v=null)}function TB(n,e){var t=null;if(n.g==e){Uw(n),YD(n),n.g=null;var i=2}else{if(!qD(n.i,e))return;t=e.F,dB(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Ki(i=Dw(),new qV(i,t)),Bw(n)}else CB(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function mne(n,e){return!(lB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ig(lr(n.Na,n,e),DB(n,n.C)),n.C++,0)))}(n,e)||2==i&&QD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Od(n,5);break;case 4:Od(n,10);break;case 3:Od(n,6);break;default:Od(n,2)}}function DB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Od(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=lr(n.pb,n);t||(t=new Pd("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||Rw(t,"https"),Ow(t)),function cne(n,e){const t=new Tw;if(tt.Image){const i=new Image;i.onload=bw(Nw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=bw(Nw,t,i,"TestLoadImage: error",!1,e),i.onabort=bw(Nw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=bw(Nw,t,i,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else kr(2);n.H=0,n.h&&n.h.za(e),SB(n),wB(n)}function SB(n){if(n.H=0,n.ma=[],n.h){const e=uB(n.i);(0!=e.length||0!=n.j.length)&&(IV(n.ma,e),IV(n.ma,n.j),n.i.i.length=0,_D(n.j),n.j.length=0),n.h.ya()}}function AB(n,e,t){var i=t instanceof Pd?La(t):new Pd(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Pw(i,i.m);else{var r=tt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Pd(null);i&&Rw(o,i),e&&(o.g=e),r&&Pw(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&vn(i,t,e),vn(i,"VER",n.ra),Ng(n,i),i}function kB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $n(t&&n.Ha&&!n.va?new Mg({ob:!0}):n.va)).Oa(n.J),e}function MB(){}function jw(){if(uf&&!(10<=Number(Dte)))throw Error("Environmental error: no available transport.")}function ho(n,e){Ni.call(this),this.g=new bB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!gg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mf(this)}function RB(n){BD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function PB(){UD.call(this),this.status=1}function mf(n){this.g=n}function gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function XD(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Jt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ve=$n.prototype).Oa=function(n){this.M=n},ve.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jD.g(),this.C=function WV(n){return n.h||(n.h=n.i())}(this.u?this.u:jD),this.g.onreadystatechange=lr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void mB(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=tt.FormData&&n instanceof tt.FormData,!(0<=EV(une,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_B(this),0<this.B&&((this.L=function hne(n){return uf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lr(this.ua,this)):this.A=LD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){mB(this,o)}},ve.ua=function(){typeof pD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ki(this,"timeout"),this.abort(8))},ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ki(this,"complete"),Ki(this,"abort"),Lw(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lw(this,!0)),$n.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?gB(this):this.kb())},ve.kb=function(){gB(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Zs(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lne(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=bB.prototype).ra=8,ve.H=1,ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new xg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=SV(o),kV(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=IB(this,r,e),vn(t=La(this.I),"RID",n),vn(t,"CVER",22),this.F&&vn(t,"X-HTTP-Session-Id",this.F),Ng(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(yB(o)))+"&"+e:this.o&&ZD(t,this.o,o)),GD(this.i,r),this.bb&&vn(t,"TYPE","init"),this.P?(vn(t,"$req",e),vn(t,"SID","null"),r.aa=!0,HD(r,t,null)):HD(r,t,e),this.H=2}}else 3==this.H&&(n?EB(this,n):0==this.j.length||cB(this.i)||EB(this))},ve.Ma=function(){if(this.u=null,xB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ig(lr(this.jb,this),n)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kr(10),Vw(this),xB(this))},ve.ib=function(){null!=this.v&&(this.v=null,Vw(this),QD(this),kr(19))},ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),kr(2)):(this.l.info("Failed to ping google.com"),kr(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=MB.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},jw.prototype.g=function(n,e){return new ho(n,e)},Oi(ho,Ni),ho.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;kr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=AB(n,null,n.Y),Bw(n)},ho.prototype.close=function(){KD(this.g)},ho.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=OD(n),n=t);e.j.push(new ine(e.fb++,n)),3==e.H&&Bw(e)},ho.prototype.N=function(){this.g.h=null,delete this.j,KD(this.g),delete this.g,ho.$.N.call(this)},Oi(RB,BD),Oi(PB,UD),Oi(mf,MB),mf.prototype.Ba=function(){Ki(this.g,"a")},mf.prototype.Aa=function(n){Ki(this.g,new RB(n))},mf.prototype.za=function(n){Ki(this.g,new PB)},mf.prototype.ya=function(){Ki(this.g,"b")},Oi(gs,function pne(){this.blockSize=-1}),gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)XD(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){XD(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){XD(this,i),r=0;break}}this.h=r,this.i+=e},gs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var gne={};function JD(n){return-128<=n&&128>n?function Cte(n,e){var t=gne;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Jt([0|e],0>e?-1:0)}):new Jt([0|n],0>n?-1:0)}function Ks(n){if(isNaN(n)||!isFinite(n))return pf;if(0>n)return Qi(Ks(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=eS;return new Jt(e,0)}var eS=4294967296,pf=JD(0),tS=JD(1),NB=JD(16777216);function Va(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Bo(n){return-1==n.h}function Qi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Jt(t,~n.h).add(tS)}function zw(n,e){return n.add(Qi(e))}function Hw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Fg(n,e){this.g=n,this.h=e}function $w(n,e){if(Va(e))throw Error("division by zero");if(Va(n))return new Fg(pf,pf);if(Bo(n))return e=$w(Qi(n),e),new Fg(Qi(e.g),Qi(e.h));if(Bo(e))return e=$w(n,Qi(e)),new Fg(Qi(e.g),e.h);if(30<n.g.length){if(Bo(n)||Bo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=tS,i=e;0>=i.X(n);)t=FB(t),i=FB(i);var r=gf(t,1),o=gf(i,1);for(i=gf(i,2),t=gf(t,2);!Va(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=gf(i,1),t=gf(t,1)}return e=zw(n,r.R(e)),new Fg(r,e)}for(r=pf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Ks(t)).R(e);Bo(s)||0<s.X(n);)s=(o=Ks(t-=i)).R(e);Va(o)&&(o=tS),r=r.add(o),n=zw(n,s)}return new Fg(r,n)}function FB(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Jt(t,n.h)}function gf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Jt(r,n.h)}(ve=Jt.prototype).ea=function(){if(Bo(this))return-Qi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:eS+i)*e,e*=eS}return n},ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Va(this))return"0";if(Bo(this))return"-"+Qi(this).toString(n);for(var e=Ks(Math.pow(n,6)),t=this,i="";;){var r=$w(t,e).g,o=((0<(t=zw(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Va(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ve.X=function(n){return Bo(n=zw(this,n))?-1:Va(n)?0:1},ve.abs=function(){return Bo(this)?Qi(this):this},ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Jt(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(n){if(Va(this)||Va(n))return pf;if(Bo(this))return Bo(n)?Qi(this).R(Qi(n)):Qi(Qi(this).R(n));if(Bo(n))return Qi(this.R(Qi(n)));if(0>this.X(NB)&&0>n.X(NB))return Ks(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Hw(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Hw(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Hw(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Hw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Jt(t,0)},ve.gb=function(n){return $w(this,n).h},ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Jt(t,this.h&n.h)},ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Jt(t,this.h|n.h)},ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Jt(t,this.h^n.h)},jw.prototype.createWebChannel=jw.prototype.g,ho.prototype.send=ho.prototype.u,ho.prototype.open=ho.prototype.m,ho.prototype.close=ho.prototype.close,Sw.NO_ERROR=0,Sw.TIMEOUT=8,Sw.HTTP_ERROR=6,GV.COMPLETE="complete",ZV.EventType=Cg,Cg.OPEN="a",Cg.CLOSE="b",Cg.ERROR="c",Cg.MESSAGE="d",Ni.prototype.listen=Ni.prototype.O,$n.prototype.listenOnce=$n.prototype.P,$n.prototype.getLastError=$n.prototype.Sa,$n.prototype.getLastErrorCode=$n.prototype.Ia,$n.prototype.getStatus=$n.prototype.da,$n.prototype.getResponseJson=$n.prototype.Wa,$n.prototype.getResponseText=$n.prototype.ja,$n.prototype.send=$n.prototype.ha,$n.prototype.setWithCredentials=$n.prototype.Oa,gs.prototype.digest=gs.prototype.l,gs.prototype.reset=gs.prototype.reset,gs.prototype.update=gs.prototype.j,Jt.prototype.add=Jt.prototype.add,Jt.prototype.multiply=Jt.prototype.R,Jt.prototype.modulo=Jt.prototype.gb,Jt.prototype.compare=Jt.prototype.X,Jt.prototype.toNumber=Jt.prototype.ea,Jt.prototype.toString=Jt.prototype.toString,Jt.prototype.getBits=Jt.prototype.D,Jt.fromNumber=Ks,Jt.fromString=function OB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Qi(OB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ks(Math.pow(e,8)),i=pf,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Ks(Math.pow(e,o)),i=i.R(o).add(Ks(s))):i=(i=i.R(t)).add(Ks(s))}return i};var _ne=ps.createWebChannelTransport=function(){return new jw},vne=ps.getStatEventTarget=function(){return Dw()},nS=ps.ErrorCode=Sw,yne=ps.EventType=GV,bne=ps.Event=Md,LB=ps.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wne=ps.FetchXmlHttpFactory=Mg,qw=ps.WebChannel=ZV,Ene=ps.XhrIo=$n,Ine=ps.Md5=gs,_f=ps.Integer=Jt;const VB="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let vf="10.5.2";const $c=new Gs.Yd("@firebase/firestore");function yf(){return $c.logLevel}function se(n,...e){if($c.logLevel<=Gs.in.DEBUG){const t=e.map(iS);$c.debug(`Firestore (${vf}): ${n}`,...t)}}function ti(n,...e){if($c.logLevel<=Gs.in.ERROR){const t=e.map(iS);$c.error(`Firestore (${vf}): ${n}`,...t)}}function Kr(n,...e){if($c.logLevel<=Gs.in.WARN){const t=e.map(iS);$c.warn(`Firestore (${vf}): ${n}`,...t)}}function iS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ee(n="Unexpected state"){const e=`FIRESTORE (${vf}) INTERNAL ASSERTION FAILED: `+n;throw ti(e),new Error(e)}function Re(n,e){n||Ee()}function me(n,e){return n}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class BB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class Dne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sne{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,K.Z)(function*(){yield d.promise,yield o(i.currentUser)}))},c=d=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Re("string"==typeof i.accessToken),new BB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(null===e||"string"==typeof e),new Fi(e)}}class Ane{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kne{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Ane(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mne{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re("string"==typeof t.token),this.R=t.token,new UB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rne(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class jB{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Rne(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Ye(n,e){return n<e?-1:n>e?1:0}function bf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function zB(n){return n+"\0"}class Rn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Rn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Rn(0,0))}static max(){return new Oe(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lg{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ee(),void 0===i?i=e.length-t:i>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Lg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mt extends Lg{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const Pne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Lg{construct(e,t,i){return new yn(e,t,i)}static isValidIdentifier(e){return Pne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ie(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ie(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ie(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ie(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Mt.fromString(e))}static fromName(e){return new ge(Mt.fromString(e).popFirst(5))}static empty(){return new ge(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Mt(e.slice()))}}class wf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function rS(n){return n.fields.find(e=>2===e.kind)}function Nd(n){return n.fields.filter(e=>2!==e.kind)}wf.UNKNOWN_ID=-1;class Fd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ef{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ef(0,fo.min())}}function HB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(1e9===i?new Rn(t+1,0):new Rn(t,i));return new fo(r,ge.empty(),e)}function $B(n){return new fo(n.readTime,n.key,-1)}class fo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fo(Oe.min(),ge.empty(),-1)}static max(){return new fo(Oe.max(),ge.empty(),-1)}}function oS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ye(n.largestBatchId,e.largestBatchId))}const qB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qc(n){return sS.apply(this,arguments)}function sS(){return sS=(0,K.Z)(function*(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==qB)throw n;se("LocalStore","Unexpectedly lost primary lease")}),sS.apply(this,arguments)}class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new N((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof N?t:N.resolve(t)}catch(t){return N.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):N.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):N.reject(t)}static resolve(e){return new N((t,i)=>{t(e)})}static reject(e){return new N((t,i)=>{i(e)})}static waitFor(e){return new N((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=N.resolve(!1);for(const i of e)t=t.next(r=>r?N.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new N((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new N((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Gw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new bi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Vg(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=aS(i.target.error);this.V.reject(new Vg(e,r))}}static open(e,t,i,r){try{return new Gw(t,e.transaction(r,i))}catch(o){throw new Vg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Lne(t)}}class _s{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===_s.S((0,cn.z$)())&&ti("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Ld(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,cn.hl)())return!1;if(_s.C())return!0;const e=(0,cn.z$)(),t=_s.S(e),i=0<t&&t<10,r=_s.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,K.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Vg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ie(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ie(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Vg(e,a))},o.onupgradeneeded=s=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,K.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=Gw.open(o.db,e,s?"readonly":"readwrite",i),d=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),N.reject(h))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,h="FirebaseError"!==d.name&&a<3;if(se("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),o.close(),!h)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fne{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ld(this.k.delete())}}class Vg extends ie{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gc(n){return"IndexedDbTransactionError"===n.name}class Lne{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ld(i)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Ld(this.store.add(e))}get(e){return Ld(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Ld(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Ld(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new N((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new N((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){se("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new N((i,r)=>{t.onerror=o=>{const s=aS(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new N((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new Fne(a),d=t(a.primaryKey,a.value,c);if(d instanceof N){const h=d.catch(p=>(c.done(),N.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>N.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ld(n){return new N((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=aS(i.target.error);t(r)}})}let WB=!1;function aS(n){const e=_s.S((0,cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WB||(WB=!0,setTimeout(()=>{throw i},0)),i}}return n}class Vne{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,K.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){Gc(i)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qc(i)}yield t.ee(6e4)}))}}class Bne{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,K.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return N.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return se("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(se("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=$B(o);oS(s,i)>0&&(i=s)}),new fo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let mo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Bg(n){return null==n}function Ug(n){return 0===n&&1/n==-1/0}function ZB(n){return"number"==typeof n&&Number.isInteger(n)&&!Ug(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ur(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KB(e)),e=Une(n.get(t),e);return KB(e)}function Une(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function KB(n){return n+"\x01\x01"}function Qs(n){const e=n.length;if(Re(e>=2),2===e)return Re("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&Ee(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Ee()}o=s+2}return new Mt(i)}const QB=["userId","batchId"];function Ww(n,e){return[n,ur(e)]}function YB(n,e,t){return[n,ur(e),t]}const jne={},zne=["prefixPath","collectionGroup","readTime","documentId"],Hne=["prefixPath","collectionGroup","documentId"],$ne=["collectionGroup","readTime","prefixPath","documentId"],qne=["canonicalId","targetId"],Gne=["targetId","path"],Wne=["path","targetId"],Zne=["collectionId","parent"],Kne=["indexId","uid"],Qne=["uid","sequenceNumber"],Yne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xne=["indexId","uid","orderedDocumentKey"],Jne=["userId","collectionPath","documentId"],eie=["userId","collectionPath","largestBatchId"],tie=["userId","collectionGroup","largestBatchId"],XB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nie=[...XB,"documentOverlays"],JB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eU=JB,iie=[...eU,"indexConfiguration","indexState","indexEntries"];class cS extends GB{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Li(n,e){const t=me(n);return _s.M(t.ae,e)}function tU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fn{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zw(this.root,e,this.comparator,!0)}}class Zw{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Yi.RED,this.left=r??Yi.EMPTY,this.right=o??Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Yi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Yi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iU(this.data.getIterator())}getIteratorFrom(e){return new iU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rn(this.comparator);return t.data=e,t}}class iU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function If(n){return n.hasNext()?n.getNext():void 0}class Qr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Qr([])}unionWith(e){let t=new rn(yn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class rU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rU("Invalid base64 string: "+o):o}}(e);return new wi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const oie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(n){if(Re(!!n),"string"==typeof n){let e=0;const t=oie.exec(n);if(Re(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qn(n.seconds),nanos:qn(n.nanos)}}function qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ba(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function Kw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qw(n){const e=n.mapValue.fields.__previous_value__;return Kw(e)?Qw(e):e}function jg(n){const e=Zc(n.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}class sie{constructor(e,t,i,r,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yw={nullValue:"NULL_VALUE"};function Yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kw(n)?4:cU(n)?9007199254740991:10:Ee()}function Ys(n,e){if(n===e)return!0;const t=Yc(n);if(t!==Yc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jg(n).isEqual(jg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Zc(r.timestampValue),a=Zc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ba(n.bytesValue).isEqual(Ba(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return qn(r.geoPointValue.latitude)===qn(o.geoPointValue.latitude)&&qn(r.geoPointValue.longitude)===qn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return qn(r.integerValue)===qn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=qn(r.doubleValue),a=qn(o.doubleValue);return s===a?Ug(s)===Ug(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return bf(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(tU(s)!==tU(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ys(s[c],a[c])))return!1;return!0}(n,e);default:return Ee()}var o}function zg(n,e){return void 0!==(n.values||[]).find(t=>Ys(t,e))}function Xc(n,e){if(n===e)return 0;const t=Yc(n),i=Yc(e);if(t!==i)return Ye(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=qn(o.integerValue||o.doubleValue),c=qn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return oU(n.timestampValue,e.timestampValue);case 4:return oU(jg(n),jg(e));case 5:return Ye(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Ba(o),c=Ba(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ye(a[d],c[d]);if(0!==h)return h}return Ye(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ye(qn(o.latitude),qn(s.latitude));return 0!==a?a:Ye(qn(o.longitude),qn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=Xc(a[d],c[d]);if(h)return h}return Ye(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qc.mapValue&&s===Qc.mapValue)return 0;if(o===Qc.mapValue)return 1;if(s===Qc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Ye(c[p],h[p]);if(0!==g)return g;const v=Xc(a[c[p]],d[h[p]]);if(0!==v)return v}return Ye(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function oU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ye(n,e);const t=Zc(n),i=Zc(e),r=Ye(t.seconds,i.seconds);return 0!==r?r:Ye(t.nanos,i.nanos)}function Cf(n){return lS(n)}function lS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Zc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ba(n.bytesValue).toBase64():"referenceValue"in n?ge.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=lS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${lS(t.fields[s])}`;return r+"}"}(n.mapValue):Ee()}function Vd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dS(n){return!!n&&"integerValue"in n}function Hg(n){return!!n&&"arrayValue"in n}function sU(n){return!!n&&"nullValue"in n}function aU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jw(n){return!!n&&"mapValue"in n}function $g(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$g(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$g(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function aie(n){return"nullValue"in n?Yw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vd(Kc.empty(),ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ee()}function cie(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vd(Kc.empty(),ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qc:Ee()}function lU(n,e){const t=Xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dU(n,e){const t=Xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Jw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$g(t)}setAll(e){let t=yn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=$g(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Jw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Jw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Wc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Xi($g(this.value))}}function uU(n){const e=[];return Wc(n.fields,(t,i)=>{const r=new yn([t]);if(Jw(i)){const o=uU(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Qr(e)}class bn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,Oe.min(),Oe.min(),Oe.min(),Xi.empty(),0)}static newFoundDocument(e,t,i,r){return new bn(e,1,t,Oe.min(),i,r,0)}static newNoDocument(e,t){return new bn(e,2,t,Oe.min(),Oe.min(),Xi.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,Oe.min(),Oe.min(),Xi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function hU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ge.comparator(ge.fromName(s.referenceValue),t.key):Xc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function fU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}class qg{constructor(e,t="asc"){this.field=e,this.dir=t}}function lie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class mU{}class xt extends mU{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new die(e,t,i):"array-contains"===t?new fie(e,i):"in"===t?new bU(e,i):"not-in"===t?new mie(e,i):"array-contains-any"===t?new pie(e,i):new xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new uie(e,i):new hie(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xc(t,this.value)):null!==t&&Yc(this.value)===Yc(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class en extends mU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new en(e,t)}matches(e){return xf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xf(n){return"and"===n.op}function uS(n){return"or"===n.op}function hS(n){return pU(n)&&xf(n)}function pU(n){for(const e of n.filters)if(e instanceof en)return!1;return!0}function fS(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Cf(n.value);if(hS(n))return n.filters.map(e=>fS(e)).join(",");{const e=n.filters.map(t=>fS(t)).join(",");return`${n.op}(${e})`}}function gU(n,e){return n instanceof xt?(i=n,(r=e)instanceof xt&&i.op===r.op&&i.field.isEqual(r.field)&&Ys(i.value,r.value)):n instanceof en?function(i,r){return r instanceof en&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&gU(s,r.filters[a]),!0)}(n,e):void Ee();var i,r}function _U(n,e){const t=n.filters.concat(e);return en.create(t,n.op)}function vU(n){return n instanceof xt?`${(t=n).field.canonicalString()} ${t.op} ${Cf(t.value)}`:n instanceof en?function(t){return t.op.toString()+" {"+t.getFilters().map(vU).join(" ,")+"}"}(n):"Filter";var t}class die extends xt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class uie extends xt{constructor(e,t){super(e,"in",t),this.keys=yU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hie extends xt{constructor(e,t){super(e,"not-in",t),this.keys=yU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class fie extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&zg(t.arrayValue,this.value)}}class bU extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zg(this.value.arrayValue,t)}}class mie extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zg(this.value.arrayValue,t)}}class pie extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zg(this.value.arrayValue,i))}}class gie{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function mS(n,e=null,t=[],i=[],r=null,o=null,s=null){return new gie(n,e,t,i,r,o,s)}function Bd(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>fS(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Bg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cf(i)).join(",")),e.ce=t}return e.ce}function Gg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fU(n.startAt,e.startAt)&&fU(n.endAt,e.endAt)}function e0(n){return ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function t0(n,e){return n.filters.filter(t=>t instanceof xt&&t.field.isEqual(e))}function wU(n,e,t){let i=Yw,r=!0;for(const o of t0(n,e)){let s=Yw,a=!0;switch(o.op){case"<":case"<=":s=aie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Yw}lU({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];lU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function EU(n,e,t){let i=Qc,r=!0;for(const o of t0(n,e)){let s=Qc,a=!0;switch(o.op){case">=":case">":s=cie(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Qc}dU({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];dU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Ua{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function IU(n,e,t,i,r,o,s,a){return new Ua(n,e,t,i,r,o,s,a)}function Tf(n){return new Ua(n)}function CU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pS(n){return null!==n.collectionGroup}function Df(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rn(yn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new qg(o,i))}),t.has(yn.keyField().canonicalString())||e.le.push(new qg(yn.keyField(),i))}return e.le}function Mr(n){const e=me(n);return e.he||(e.he=function xU(n,e){if("F"===n.limitType)return mS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new qg(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return mS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Df(n))),e.he}function gS(n,e){const t=n.filters.concat([e]);return new Ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function n0(n,e,t){return new Ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wg(n,e){return Gg(Mr(n),Mr(e))&&n.limitType===e.limitType}function TU(n){return`${Bd(Mr(n))}|lt:${n.limitType}`}function Sf(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>vU(r)).join(", ")}]`),Bg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Cf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Cf(r)).join(",")),`Target(${i})`}(Mr(n))}; limitType=${n.limitType})`}function Zg(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ge.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Df(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const d=hU(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,Df(i),r)||i.endAt&&!function(s,a,c){const d=hU(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,Df(i),r)));var i,r}function DU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SU(n){return(e,t)=>{let i=!1;for(const r of Df(n)){const o=_ie(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function _ie(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?Xc(c,d):Ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return nU(this.inner)}size(){return this.innerSize}}const vie=new fn(ge.comparator);function Yr(){return vie}const AU=new fn(ge.comparator);function Kg(...n){let e=AU;for(const t of n)e=e.insert(t.key,t);return e}function kU(n){let e=AU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Xs(){return Qg()}function MU(){return Qg()}function Qg(){return new ja(n=>n.toString(),(n,e)=>n.isEqual(e))}const yie=new fn(ge.comparator),bie=new rn(ge.comparator);function st(...n){let e=bie;for(const t of n)e=e.add(t);return e}const wie=new rn(Ye);function _S(){return wie}function RU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ug(e)?"-0":e}}function PU(n){return{integerValue:""+n}}function OU(n,e){return ZB(e)?PU(e):RU(n,e)}class r0{constructor(){this._=void 0}}function Eie(n,e,t){return n instanceof Af?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Kw(o)&&(o=Qw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ud?FU(n,e):n instanceof jd?LU(n,e):function(r,o){const s=NU(r,o),a=VU(s)+VU(r.Ie);return dS(s)&&dS(r.Ie)?PU(a):RU(r.serializer,a)}(n,e)}function Iie(n,e,t){return n instanceof Ud?FU(n,e):n instanceof jd?LU(n,e):t}function NU(n,e){return n instanceof kf?dS(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Af extends r0{}class Ud extends r0{constructor(e){super(),this.elements=e}}function FU(n,e){const t=BU(e);for(const i of n.elements)t.some(r=>Ys(r,i))||t.push(i);return{arrayValue:{values:t}}}class jd extends r0{constructor(e){super(),this.elements=e}}function LU(n,e){let t=BU(e);for(const i of n.elements)t=t.filter(r=>!Ys(r,i));return{arrayValue:{values:t}}}class kf extends r0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function VU(n){return qn(n.integerValue||n.doubleValue)}function BU(n){return Hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yg{constructor(e,t){this.field=e,this.transform=t}}class xie{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function o0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class s0{}function UU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Rf(n.key,Pn.none()):new Mf(n.key,n.data,Pn.none());{const t=n.data,i=Xi.empty();let r=new rn(yn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new za(n.key,i,new Qr(r.toArray()),Pn.none())}}function Tie(n,e,t){n instanceof Mf?function(r,o,s){const a=r.value.clone(),c=HU(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof za?function(r,o,s){if(!o0(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=HU(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(zU(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xg(n,e,t,i){return n instanceof Mf?function(o,s,a,c){if(!o0(o.precondition,s))return a;const d=o.value.clone(),h=$U(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof za?function(o,s,a,c){if(!o0(o.precondition,s))return a;const d=$U(o.fieldTransforms,c,s),h=s.data;return h.setAll(zU(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,o0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Die(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=NU(i.transform,r||null);null!=o&&(null===t&&(t=Xi.empty()),t.set(i.field,o))}return t||null}function jU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&bf(i,r,(o,s)=>function Cie(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Ud&&r instanceof Ud||i instanceof jd&&r instanceof jd?bf(i.elements,r.elements,Ys):i instanceof kf&&r instanceof kf?Ys(i.Ie,r.Ie):i instanceof Af&&r instanceof Af);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Mf extends s0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class za extends s0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function HU(n,e,t){const i=new Map;Re(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Iie(s,a,t[r]))}return i}function $U(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Eie(o,s,e))}return i}class Rf extends s0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vS extends s0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yS{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Tie(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Xg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Xg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=MU();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=UU(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&bf(this.mutations,e.mutations,(t,i)=>jU(t,i))&&bf(this.baseMutations,e.baseMutations,(t,i)=>jU(t,i))}}class bS{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Re(e.mutations.length===i.length);let r=yie;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new bS(e,t,i,r)}}class wS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Aie{constructor(e,t){this.count=e,this.unchangedNames=t}}var hi,Rt;function qU(n){switch(n){default:return Ee();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function GU(n){if(void 0===n)return ti("GRPC error has no .code"),U.UNKNOWN;switch(n){case hi.OK:return U.OK;case hi.CANCELLED:return U.CANCELLED;case hi.UNKNOWN:return U.UNKNOWN;case hi.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case hi.INTERNAL:return U.INTERNAL;case hi.UNAVAILABLE:return U.UNAVAILABLE;case hi.UNAUTHENTICATED:return U.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case hi.NOT_FOUND:return U.NOT_FOUND;case hi.ALREADY_EXISTS:return U.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return U.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case hi.ABORTED:return U.ABORTED;case hi.OUT_OF_RANGE:return U.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return U.UNIMPLEMENTED;case hi.DATA_LOSS:return U.DATA_LOSS;default:return Ee()}}(Rt=hi||(hi={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";function WU(){return new TextEncoder}const kie=new _f([4294967295,4294967295],0);function ZU(n){const e=WU().encode(n),t=new Ine;return t.update(e),new Uint8Array(t.digest())}function KU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _f([t,i],0),new _f([r,o],0)]}class ES{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Jg(`Invalid padding: ${t}`);if(i<0)throw new Jg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Jg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Jg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=_f.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(_f.fromNumber(i)));return 1===r.compare(kie)&&(r=new _f([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=ZU(e),[i,r]=KU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ES(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=ZU(e),[i,r]=KU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Jg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class e_{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,t_.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new e_(Oe.min(),r,new fn(Ye),Yr(),st())}}class t_{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new t_(i,t,st(),st(),st())}}class c0{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class QU{constructor(e,t){this.targetId=e,this.fe=t}}class YU{constructor(e,t,i=wi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class XU{constructor(){this.ge=0,this.pe=ej(),this.ye=wi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=st(),t=st(),i=st();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ee()}}),new t_(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=ej()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Mie{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yr(),this.Qe=JU(),this.Ke=new fn(Ye)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(e0(o))if(0===i){const s=new ge(o.path);this.We(t,s,bn.newNoDocument(s,Oe.min()))}else Re(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Ba(i).toUint8Array()}catch(c){if(c instanceof rU)return Kr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ES(s,r,o)}catch(c){return Kr(c instanceof Jg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&e0(a.target)){const c=new ge(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,bn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=st();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Ye(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new e_(e,t,this.Ke,this.qe,i);return this.qe=Yr(),this.Qe=JU(),this.Ke=new fn(Ye),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new XU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new rn(Ye),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new XU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function JU(){return new fn(ge.comparator)}function ej(){return new fn(ge.comparator)}const Rie={asc:"ASCENDING",desc:"DESCENDING"},Pie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oie={and:"AND",or:"OR"};class Nie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function IS(n,e){return n.useProto3Json||Bg(e)?e:{value:e}}function Pf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Fie(n,e){return Pf(n,e.toTimestamp())}function ni(n){return Re(!!n),Oe.fromTimestamp(function(t){const i=Zc(t);return new Rn(i.seconds,i.nanos)}(n))}function CS(n,e){return(i=n,new Mt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function nj(n){const e=Mt.fromString(n);return Re(uj(e)),e}function n_(n,e){return CS(n.databaseId,e.path)}function Js(n,e){const t=nj(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(rj(t))}function xS(n,e){return CS(n.databaseId,e)}function ij(n){const e=nj(n);return 4===e.length?Mt.emptyPath():rj(e)}function i_(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rj(n){return Re(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function oj(n,e,t){return{name:n_(n,e),fields:t.value.mapValue.fields}}function sj(n,e,t){const i=Js(n,e.name),r=ni(e.updateTime),o=e.createTime?ni(e.createTime):Oe.min(),s=new Xi({mapValue:{fields:e.fields}}),a=bn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function r_(n,e){let t;if(e instanceof Mf)t={update:oj(n,e.key,e.value)};else if(e instanceof Rf)t={delete:n_(n,e.key)};else if(e instanceof za)t={update:oj(n,e.key,e.data),updateMask:$ie(e.fieldMask)};else{if(!(e instanceof vS))return Ee();t={verify:n_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Af)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ud)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ee()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Fie(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ee()),t;var o}function TS(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Pn.updateTime(ni(o.updateTime)):void 0!==o.exists?Pn.exists(o.exists):Pn.none():Pn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Re("REQUEST_TIME"===a.setToServerValue),c=new Af):"appendMissingElements"in a?c=new Ud(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new jd(a.removeAllFromArray.values||[]):"increment"in a?c=new kf(s,a.increment):Ee();const d=yn.fromServerFormat(a.fieldPath);return new Yg(d,c)}(n,r)):[];var o;if(e.update){const r=Js(n,e.update.name),o=new Xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Qr((e.updateMask.fieldPaths||[]).map(h=>yn.fromServerFormat(h)));return new za(r,o,s,t,i)}return new Mf(r,o,t,i)}if(e.delete){const r=Js(n,e.delete);return new Rf(r,t)}if(e.verify){const r=Js(n,e.verify);return new vS(r,t)}return Ee()}function aj(n,e){return{documents:[xS(n,e.path)]}}function DS(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=xS(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xS(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return dj(en.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:el((p=d).field),direction:jie(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=IS(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function cj(n){let e=ij(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Re(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=lj(p);return g instanceof en&&hS(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new qg(Of((b=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Bg(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new Jc((p=t.startAt).values||[],!!p.before));let d=null;return t.endAt&&(d=function(p){return new Jc(p.values||[],!p.before)}(t.endAt)),IU(e,r,s,o,a,"F",c,d)}function lj(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Of(t.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Of(t.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Of(t.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Of(t.unaryFilter.field);return xt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):void 0!==n.fieldFilter?xt.create(Of((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return en.create(t.compositeFilter.filters.map(i=>lj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee();var t}function jie(n){return Rie[n]}function zie(n){return Pie[n]}function Hie(n){return Oie[n]}function el(n){return{fieldPath:n.canonicalString()}}function Of(n){return yn.fromServerFormat(n.fieldPath)}function dj(n){return n instanceof xt?function(t){if("=="===t.op){if(aU(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(sU(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(aU(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(sU(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:zie(t.op),value:t.value}}}(n):n instanceof en?function(t){const i=t.getFilters().map(r=>dj(r));return 1===i.length?i[0]:{compositeFilter:{op:Hie(t.op),filters:i}}}(n):Ee()}function $ie(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ha{constructor(e,t,i,r,o=Oe.min(),s=Oe.min(),a=wi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hj{constructor(e){this.ut=e}}function fj(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:l0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:n_(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Pf(o,s.version.toTimestamp()),createTime:Pf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:zd(e.version)};else{if(!e.isUnknownDocument())return Ee();i.unknownDocument={path:t.path.toArray(),version:zd(e.version)}}var o,s;return i}function l0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hd(n){const e=new Rn(n.seconds,n.nanoseconds);return Oe.fromTimestamp(e)}function $d(n,e){const t=(e.baseMutations||[]).map(o=>TS(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>TS(n.ut,o)),r=Rn.fromMillis(e.localWriteTimeMs);return new yS(e.batchId,r,t,i)}function o_(n){const e=Hd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Hd(n.lastLimboFreeSnapshotVersion):Oe.min();let i;return i=void 0!==n.query.documents?(Re(1===(o=n.query).documents.length),Mr(Tf(ij(o.documents[0])))):function(o){return Mr(cj(o))}(n.query),new Ha(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,wi.fromBase64String(n.resumeToken));var o}function mj(n,e){const t=zd(e.snapshotVersion),i=zd(e.lastLimboFreeSnapshotVersion);let r;r=e0(e.target)?aj(n.ut,e.target):DS(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bd(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function SS(n){const e=cj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?n0(e,e.limit,"L"):e}function AS(n,e){return new wS(e.largestBatchId,TS(n.ut,e.overlayMutation))}function pj(n,e){const t=e.path.lastSegment();return[n,ur(e.path.popLast()),t]}function gj(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:zd(i.readTime),documentKey:ur(i.documentKey.path),largestBatchId:i.largestBatchId}}class Gie{getBundleMetadata(e,t){return _j(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Hd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return _j(e).put({bundleId:(r=t).id,createTime:zd(ni(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return vj(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:SS(o.bundledQuery),readTime:Hd(o.readTime)};var o})}saveNamedQuery(e,t){return vj(e).put({name:(r=t).name,readTime:zd(ni(r.readTime)),bundledQuery:r.bundledQuery});var r}}function _j(n){return Li(n,"bundles")}function vj(n){return Li(n,"namedQueries")}class d0{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new d0(e,t.uid||"")}getOverlay(e,t){return s_(e).get(pj(this.userId,t)).next(i=>i?AS(this.serializer,i):null)}getOverlays(e,t){const i=Xs();return N.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new wS(t,s);r.push(this.lt(e,a))}),N.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(ur(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(s_(e).H("collectionPathOverlayIndex",a))}),N.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Xs(),o=ur(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return s_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=AS(this.serializer,c);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Xs();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return s_(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,d,h)=>{const p=AS(this.serializer,d);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return s_(e).put(function(r,o,s){const[a,c,d]=pj(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:r_(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function s_(n){return Li(n,"documentOverlays")}class qd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(qn(e.integerValue));else if("doubleValue"in e){const i=qn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Ug(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ba(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?cU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ee()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ge.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Wie(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function yj(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Wie(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}qd.St=new qd;class Zie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=yj(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=yj(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Kie{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Qie{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class a_{constructor(){this.Wt=new Zie,this.Gt=new Kie(this.Wt),this.zt=new Qie(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Gd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Gd(this.indexId,this.documentKey,this.arrayValue,i)}}function tl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bj(n.arrayValue,e.arrayValue),0!==t?t:(t=bj(n.directionalValue,e.directionalValue),0!==t?t:ge.comparator(n.documentKey,e.documentKey)))}function bj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class wj{constructor(e){this.Jt=new rn((t,i)=>yn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Re(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=rS(e);if(void 0!==t&&!this.tn(t))return!1;const i=Nd(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new rn(yn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Fd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Fd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Fd(i.field,"asc"===i.dir?0:1)));return new wf(wf.UNKNOWN_ID,this.collectionId,t,Ef.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ej(n){var e,t;if(Re(n instanceof xt||n instanceof en),n instanceof xt){if(n instanceof bU){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>xt.create(n.field,"==",o)))||[];return en.create(r,"or")}return n}const i=n.filters.map(r=>Ej(r));return en.create(i,n.op)}function Yie(n){if(0===n.getFilters().length)return[];const e=RS(Ej(n));return Re(Ij(e)),kS(e)||MS(e)?[e]:e.getFilters()}function kS(n){return n instanceof xt}function MS(n){return n instanceof en&&hS(n)}function Ij(n){return kS(n)||MS(n)||function(t){if(t instanceof en&&uS(t)){for(const i of t.getFilters())if(!kS(i)&&!MS(i))return!1;return!0}return!1}(n)}function RS(n){if(Re(n instanceof xt||n instanceof en),n instanceof xt)return n;if(1===n.filters.length)return RS(n.filters[0]);const e=n.filters.map(i=>RS(i));let t=en.create(e,n.op);return t=u0(t),Ij(t)?t:(Re(t instanceof en),Re(xf(t)),Re(t.filters.length>1),t.filters.reduce((i,r)=>PS(i,r)))}function PS(n,e){let t;return Re(n instanceof xt||n instanceof en),Re(e instanceof xt||e instanceof en),t=n instanceof xt?e instanceof xt?en.create([n,e],"and"):Cj(n,e):e instanceof xt?Cj(e,n):function(r,o){if(Re(r.filters.length>0&&o.filters.length>0),xf(r)&&xf(o))return _U(r,o.getFilters());const s=uS(r)?r:o,a=uS(r)?o:r,c=s.filters.map(d=>PS(d,a));return en.create(c,"or")}(n,e),u0(t)}function Cj(n,e){if(xf(e))return _U(e,n.getFilters());{const t=e.filters.map(i=>PS(n,i));return en.create(t,"or")}}function u0(n){if(Re(n instanceof xt||n instanceof en),n instanceof xt)return n;const e=n.getFilters();if(1===e.length)return u0(e[0]);if(pU(n))return n;const t=e.map(r=>u0(r)),i=[];return t.forEach(r=>{r instanceof xt?i.push(r):r instanceof en&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:en.create(i,n.op)}class Xie{constructor(){this.on=new OS}addToCollectionParentIndex(e,t){return this.on.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(fo.min())}updateCollectionGroup(e,t,i){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}}class OS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new rn(Mt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rn(Mt.comparator)).toArray()}}const h0=new Uint8Array(0);class Jie{constructor(e,t){this.user=e,this.databaseId=t,this._n=new OS,this.an=new ja(i=>Bd(i),(i,r)=>Gg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:ur(r)};return xj(e).put(o)}return N.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[zB(t),""],!1,!0);return xj(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Qs(s.parent))}return i})}addFieldIndex(e,t){const i=c_(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Ff(e);return o.next(a=>{s.put(gj(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=c_(e),r=Ff(e),o=Nf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=c_(e),i=Nf(e),r=Ff(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return N.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new wj(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=Nf(e);let r=!0;const o=new Map;return N.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=st();const a=[];return N.forEach(o,(c,d)=>{var R;se("IndexedDbIndexManager",`Using index ${R=c,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${Bd(t)}`);const h=function(R,Q){const he=rS(Q);if(void 0===he)return null;for(const ye of t0(R,he.fieldPath))switch(ye.op){case"array-contains-any":return ye.value.arrayValue.values||[];case"array-contains":return[ye.value]}return null}(d,c),p=function(R,Q){const he=new Map;for(const ye of Nd(Q))for(const Ke of t0(R,ye.fieldPath))switch(Ke.op){case"==":case"in":he.set(ye.fieldPath.canonicalString(),Ke.value);break;case"not-in":case"!=":return he.set(ye.fieldPath.canonicalString(),Ke.value),Array.from(he.values())}return null}(d,c),g=function(R,Q){const he=[];let ye=!0;for(const Ke of Nd(Q)){const ln=0===Ke.kind?wU(R,Ke.fieldPath,R.startAt):EU(R,Ke.fieldPath,R.startAt);he.push(ln.value),ye&&(ye=ln.inclusive)}return new Jc(he,ye)}(d,c),v=function(R,Q){const he=[];let ye=!0;for(const Ke of Nd(Q)){const ln=0===Ke.kind?EU(R,Ke.fieldPath,R.endAt):wU(R,Ke.fieldPath,R.endAt);he.push(ln.value),ye&&(ye=ln.inclusive)}return new Jc(he,ye)}(d,c),b=this.ln(c,d,g),w=this.ln(c,d,v),E=this.hn(c,d,p),k=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,E);return N.forEach(k,S=>i.j(S,t.limit).next(R=>{R.forEach(Q=>{const he=ge.fromSegments(Q.documentKey);s.has(he)||(s=s.add(he),a.push(he))})}))}).next(()=>a)}return N.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Yie(en.create(e.filters,"and")).map(i=>mS(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),d=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/d]):h0,v=this.Tn(e,g,i[p%d],r),b=this.En(e,g,o[p%d],s),w=a.map(E=>this.Tn(e,g,E,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new Gd(e,ge.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new Gd(e,ge.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new wj(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return N.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new rn(yn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new a_;for(const r of Nd(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);qd.St.ht(o,s)}return i.Ut()}In(e){const t=new a_;return qd.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new a_;return qd.St.ht(Vd(this.databaseId,t),i.jt(function(o){const s=Nd(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new a_);let o=0;for(const s of Nd(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&Hg(a))r=this.Vn(r,s,a);else{const d=c.jt(s.kind);qd.St.ht(a,d)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new a_;c.seed(a.Ut()),qd.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof xt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=c_(e),r=Ff(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return N.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new Ef(p.sequenceNumber,new fo(Hd(p.readTime),new ge(Qs(p.documentKey)),p.largestBatchId)):Ef.empty(),v=h.fields.map(([b,w])=>new Fd(yn.fromServerFormat(b),w));return new wf(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ye(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=c_(e),o=Ff(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>N.forEach(a,c=>o.put(gj(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return N.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?N.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),N.forEach(a,c=>this.gn(e,r,c).next(d=>{const h=this.pn(o,c);return d.isEqual(h)?N.resolve():this.yn(e,o,c,d,h)}))))})}wn(e,t,i,r){return Nf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return Nf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=Nf(e);let o=new rn(tl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new Gd(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new rn(tl);const r=this.dn(t,e);if(null==r)return i;const o=rS(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Hg(s))for(const a of s.arrayValue.values||[])i=i.add(new Gd(t.indexId,e.key,this.In(a),r))}else i=i.add(new Gd(t.indexId,e.key,h0,r));return i}yn(e,t,i,r,o){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,h,p,g){const v=c.getIterator(),b=d.getIterator();let w=If(v),E=If(b);for(;w||E;){let k=!1,S=!1;if(w&&E){const R=h(w,E);R<0?S=!0:R>0&&(k=!0)}else null!=w?S=!0:k=!0;k?(p(E),E=If(b)):S?(g(w),w=If(v)):(w=If(v),E=If(b))}}(r,o,tl,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),N.waitFor(s)}fn(e){let t=1;return Ff(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>tl(s,a)).filter((s,a,c)=>!a||0!==tl(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=tl(s,e),c=tl(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,h0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,h0,[]]))}return o}bn(e,t){return tl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Tj)}getMinOffset(e,t){return N.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||Ee())).next(Tj)}}function xj(n){return Li(n,"collectionParents")}function Nf(n){return Li(n,"indexEntries")}function c_(n){return Li(n,"indexConfiguration")}function Ff(n){return Li(n,"indexState")}function Tj(n){Re(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;oS(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new fo(e.readTime,e.documentKey,t)}const Dj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Sj(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{Re(1===a)}));const d=[];for(const h of t.mutations){const p=YB(e,h.key.path,t.batchId);o.push(r.delete(p)),d.push(h.key)}return N.waitFor(o).next(()=>d)}function f0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(41943040,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);class m0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Re(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new m0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Lf(e),s=nl(e);return s.add({}).next(a=>{Re("number"==typeof a);const c=new yS(a,t,i,r),d=function(v,b,w){const E=w.baseMutations.map(S=>r_(v.ut,S)),k=w.mutations.map(S=>r_(v.ut,S));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:E,mutations:k}}(this.serializer,this.userId,c),h=[];let p=new rn((g,v)=>Ye(g.canonicalString(),v.canonicalString()));for(const g of r){const v=YB(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(v,jne))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),N.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return nl(e).get(t).next(i=>i?(Re(i.userId===this.userId),$d(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?N.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return nl(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Re(a.batchId>=i),o=$d(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return nl(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).W("userMutationsIndex",t).next(i=>i.map(r=>$d(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Ww(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Lf(e).Y({range:r},(s,a,c)=>{const[d,h,p]=s,g=Qs(h);if(d===this.userId&&t.path.isEqual(g))return nl(e).get(p).next(v=>{if(!v)throw Ee();Re(v.userId===this.userId),o.push($d(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rn(Ye);const r=[];return t.forEach(o=>{const s=Ww(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Lf(e).Y({range:a},(d,h,p)=>{const[g,v,b]=d,w=Qs(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),N.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Ww(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new rn(Ye);return Lf(e).Y({range:s},(c,d,h)=>{const[p,g,v]=c,b=Qs(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(nl(e).get(o).next(s=>{if(null===s)throw Ee();Re(s.userId===this.userId),i.push($d(this.serializer,s))}))}),N.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Sj(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),N.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return N.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Lf(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Qs(o[1]);r.push(c)}else a.done()}).next(()=>{Re(0===r.length)})})}containsKey(e,t){return Aj(e,this.userId,t)}Mn(e){return kj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Aj(n,e,t){const i=Ww(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Lf(n).Y({range:o,J:!0},(a,c,d)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),d.done()}).next(()=>s)}function nl(n){return Li(n,"mutations")}function Lf(n){return Li(n,"documentMutations")}function kj(n){return Li(n,"mutationQueues")}class Wd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Wd(0)}static Nn(){return new Wd(-1)}}class ere{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Wd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Oe.fromTimestamp(new Rn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vf(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Re(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Vf(e).Y((s,a)=>{const c=o_(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>N.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Vf(e).Y((i,r)=>{const o=o_(r);t(o)})}Bn(e){return Mj(e).get("targetGlobalKey").next(t=>(Re(null!==t),t))}Ln(e,t){return Mj(e).put("targetGlobalKey",t)}kn(e,t){return Vf(e).put(mj(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Bd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Vf(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const d=o_(a);Gg(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=il(e);return t.forEach(s=>{const a=ur(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),N.waitFor(r)}removeMatchingKeys(e,t,i){const r=il(e);return N.forEach(t,o=>{const s=ur(o.path);return N.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=il(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=il(e);let o=st();return r.Y({range:i,J:!0},(s,a,c)=>{const d=Qs(s[1]),h=new ge(d);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=ur(t.path),r=IDBKeyRange.bound([i],[zB(i)],!1,!0);let o=0;return il(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}_t(e,t){return Vf(e).get(t).next(i=>i?o_(i):null)}}function Vf(n){return Li(n,"targets")}function Mj(n){return Li(n,"targetGlobal")}function il(n){return Li(n,"targetDocuments")}function Rj([n,e],[t,i]){const r=Ye(n,t);return 0===r?Ye(e,i):r}class tre{constructor(e){this.Qn=e,this.buffer=new rn(Rj),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Rj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,K.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Gc(i)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qc(i)}yield t.Gn(3e5)}))}}class nre{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return N.resolve(mo._e);const i=new tre(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(Dj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dj):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(d=Date.now(),yf()<=Gs.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(d-c)+`ms\nTotal Duration: ${d-h}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class ire{constructor(e,t){this.db=e,this.garbageCollector=function Oj(n,e){return new nre(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return p0(e,i)}removeReference(e,t,i){return p0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return p0(e,t)}Xn(e,t){return function(r,o){let s=!1;return kj(r).Z(a=>Aj(r,a,o).next(c=>(c&&(s=!0),N.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Oe.min()),il(e).delete([0,ur(s.path)])))});r.push(c)}}).next(()=>N.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return p0(e,t)}Zn(e,t){const i=il(e);let r,o=mo._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==mo._e&&t(new ge(Qs(r)),o),o=d,r=c):o=mo._e}).next(()=>{o!==mo._e&&t(new ge(Qs(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function p0(n,e){return il(n).put((r=n.currentSequenceNumber,{targetId:0,path:ur(e.path),sequenceNumber:r}));var r}class Nj{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?N.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Zd(e).put(i)}removeEntry(e,t,i){return Zd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],l0(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=bn.newInvalidDocument(t);return Zd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(l_(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:bn.newInvalidDocument(t)};return Zd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(l_(t))},(r,o)=>{i={document:this.tr(t,o),size:f0(o)}}).next(()=>i)}getEntries(e,t){let i=Yr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Yr(),r=new fn(ge.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,f0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return N.resolve();let r=new rn(Bj);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(l_(r.first()),l_(r.last())),s=r.getIterator();let a=s.getNext();return Zd(e).Y({index:"documentKeyIndex",range:o},(c,d,h)=>{const p=ge.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&Bj(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?h.U(l_(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),l0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zd(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=Yr();for(const p of d){const g=this.tr(ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(Zg(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Yr();const s=Vj(t,i),a=Vj(t,fo.max());return Zd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,h)=>{const p=this.tr(ge.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new ore(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Lj(e).get("remoteDocumentGlobalKey").next(t=>(Re(!!t),t))}er(e,t){return Lj(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function qie(n,e){let t;if(e.document)t=sj(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ge.fromSegments(e.noDocument.path),r=Hd(e.noDocument.readTime);t=bn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const i=ge.fromSegments(e.unknownDocument.path),r=Hd(e.unknownDocument.version);t=bn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Rn(r[0],r[1]);return Oe.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Oe.min()))return i}return bn.newInvalidDocument(e)}}function Fj(n){return new rre(n)}class ore extends Nj{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ja(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new rn((o,s)=>Ye(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=fj(this._r.serializer,s);r=r.add(o.path.popLast());const d=f0(c);i+=d-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=fj(this._r.serializer,s.convertToNoDocument(Oe.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),N.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function Lj(n){return Li(n,"remoteDocumentGlobal")}function Zd(n){return Li(n,"remoteDocumentsV14")}function l_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vj(n,e){const t=e.documentKey.path.toArray();return[n,l0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Bj(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Ye(t[o],i[o]),r)return r;return r=Ye(t.length,i.length),r||(r=Ye(t[t.length-2],i[i.length-2]),r||Ye(t[t.length-1],i[i.length-1]))}class sre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uj{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Xg(i.mutation,r,Qr.empty(),Rn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,st()).next(()=>i))}getLocalViewOfDocuments(e,t,i=st()){const r=Xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Kg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,st()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Yr();const s=Qg(),a=Qg();return t.forEach((c,d)=>{const h=i.get(d.key);r.has(d.key)&&(void 0===h||h.mutation instanceof za)?o=o.insert(d.key,d):void 0!==h?(s.set(d.key,h.mutation.getFieldMask()),Xg(h.mutation,d,h.mutation.getFieldMask(),Rn.now())):s.set(d.key,Qr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var p;return a.set(d,new sre(h,null!==(p=s.get(d))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Qg();let r=new fn((s,a)=>s-a),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let h=i.get(c)||Qr.empty();h=a.applyToLocalView(d,h),i.set(c,h);const p=(r.get(a.batchId)||st()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=MU();h.forEach(g=>{if(!o.has(g)){const v=UU(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return N.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ge.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):N.resolve(Xs());let a=-1,c=o;return s.next(d=>N.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,st())).next(h=>({batchId:a,changes:kU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let r=Kg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Kg();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{const d=(p=t,g=c.child(o),new Ua(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{const h=d.getKey();null===s.get(h)&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Kg();return s.forEach((c,d)=>{const h=o.get(c);void 0!==h&&Xg(h.mutation,d,Qr.empty(),Rn.now()),Zg(t,d)&&(a=a.insert(c,d))}),a})}}class are{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return N.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:ni(r.createTime)}),N.resolve();var r}getNamedQuery(e,t){return N.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:SS(r.bundledQuery),readTime:ni(r.readTime)}),N.resolve();var r}}class cre{constructor(){this.overlays=new fn(ge.comparator),this.lr=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xs();return N.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),N.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),N.resolve()}getOverlaysForCollection(e,t,i){const r=Xs(),o=t.length+1,s=new ge(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return N.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new fn((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let h=o.get(d.largestBatchId);null===h&&(h=Xs(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Xs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return N.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new wS(t,i));let o=this.lr.get(t);void 0===o&&(o=st(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class NS{constructor(){this.hr=new rn(Vi.Pr),this.Ir=new rn(Vi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Vi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Vi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ge(new Mt([])),i=new Vi(t,e),r=new Vi(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ge(new Mt([])),i=new Vi(t,e),r=new Vi(t,e+1);let o=st();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Vi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Vi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ge.comparator(e.key,t.key)||Ye(e.gr,t.gr)}static Tr(e,t){return Ye(e.gr,t.gr)||ge.comparator(e.key,t.key)}}class lre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new rn(Vi.Pr)}checkEmpty(e){return N.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new yS(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Vi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,t){return N.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vi(t,0),r=new Vi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rn(Ye);return t.forEach(r=>{const o=new Vi(r,0),s=new Vi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),N.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ge.isDocumentKey(o)||(o=o.child(""));const s=new Vi(new ge(o),0);let a=new rn(Ye);return this.yr.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.gr)),!0)},s),N.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Re(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return N.forEach(t.mutations,r=>{const o=new Vi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Vi(t,0),r=this.yr.firstAfterOrEqual(i);return N.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return N.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dre{constructor(e){this.Cr=e,this.docs=new fn(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return N.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bn.newInvalidDocument(r))}),N.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Yr();const s=t.path,a=new ge(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||oS($B(h),i)<=0||(r.has(h.key)||Zg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Ee()}vr(e,t){return N.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ure(this)}getSize(e){return N.resolve(this.size)}}class ure extends Nj{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),N.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class hre{constructor(e){this.persistence=e,this.Fr=new ja(t=>Bd(t),Gg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new NS,this.targetCount=0,this.Nr=Wd.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),N.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Wd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.kn(t),N.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),N.waitFor(o).next(()=>r)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return N.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),N.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),N.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return N.resolve(i)}containsKey(e,t){return N.resolve(this.Or.containsKey(t))}}class FS{constructor(e,t){this.Br={},this.overlays={},this.Lr=new mo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new hre(this),this.indexManager=new Xie,this.remoteDocumentCache=new dre(i=>this.referenceDelegate.Qr(i)),this.serializer=new hj(t),this.Kr=new are(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cre,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new lre(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const r=new fre(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return N.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class fre extends GB{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Gr=new NS,this.zr=null}static jr(e){return new g0(e)}get Hr(){if(this.zr)return this.zr;throw Ee()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),N.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),N.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Hr,i=>{const r=ge.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Oe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return N.or([()=>N.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class mre{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Gw("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QB,{unique:!0}),c.createObjectStore("documentMutations"),jj(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=N.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),jj(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Oe.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,d){return d.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QB,{unique:!0});const p=d.store("mutations"),g=h.map(v=>p.put(v));return N.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:Jne});d.createIndex("collectionPathOverlayIndex",eie,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",tie,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:zne});d.createIndex("documentKeyIndex",Hne),d.createIndex("collectionGroupIndex",$ne)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Kne}).createIndex("sequenceNumberIndex",Qne,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Yne}).createIndex("documentKeyIndex",Xne,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=f0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>N.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>N.forEach(a,c=>{Re(c.userId===o.userId);const d=$d(this.serializer,c);return Sj(e,o.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new Mt(s),d=[0,ur(c)];o.push(t.get(d).next(h=>h?N.resolve():t.put({targetId:0,path:ur(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>N.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Zne});const i=t.store("collectionParents"),r=new OS,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:ur(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Mt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],d)=>{const h=Qs(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=o_(r),s=mj(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new ge(Mt.fromString(p.document.name).popFirst(5)):p.noDocument?ge.fromSegments(p.noDocument.path):p.unknownDocument?ge.fromSegments(p.unknownDocument.path):Ee()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(d))}).next(()=>N.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=Fj(this.serializer),o=new FS(g0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var d;let h=null!==(d=a.get(c.userId))&&void 0!==d?d:st();$d(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),N.forEach(a,(c,d)=>{const h=new Fi(d),p=d0.ct(this.serializer,h),g=o.getIndexManager(h),v=m0.ct(h,this.serializer,g,o.referenceDelegate);return new Uj(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new cS(t,mo._e),c).next()})})}}function jj(n){n.createObjectStore("targetDocuments",{keyPath:Gne}).createIndex("documentTargetsIndex",Wne,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qne,{unique:!0}),n.createObjectStore("targetGlobal")}const LS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class VS{constructor(e,t,i,r,o,s,a,c,d,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=d,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!VS.D())throw new ie(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ire(this,r),this.Ii=t+"main",this.serializer=new hj(c),this.Ti=new _s(this.Ii,this.ai,new mre(this.serializer)),this.qr=new ere(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Fj(this.serializer),this.Kr=new Gie,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&ti("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(U.FAILED_PRECONDITION,LS);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new mo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,K.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,K.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,K.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>v0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Gc(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return d_(e).get("owner").next(t=>N.resolve(this.wi(t)))}Si(e){return v0(e).delete(this.clientId)}bi(){var e=this;return(0,K.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Li(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return N.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?N.resolve(!0):d_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ie(U.FAILED_PRECONDITION,LS);return!1}}return!(!this.networkEnabled||!this.inForeground)||v0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,K.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new cS(t,mo._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>v0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return m0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jie(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return d0.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?iie:14===c?eU:13===c?JB:12===c?nie:11===c?XB:void Ee();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new cS(a,this.Lr?this.Lr.next():mo._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw ti(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ie(U.FAILED_PRECONDITION,qB);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return d_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(U.FAILED_PRECONDITION,LS)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return d_(e).put("owner",t)}static D(){return _s.D()}pi(e){const t=d_(e);return t.get("owner").next(i=>this.wi(i)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):N.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(ti(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,cn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return se("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ti("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ti("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function d_(n){return Li(n,"owner")}function v0(n){return Li(n,"clientMetadata")}function BS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class US{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=st(),r=st();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new US(e,t.fromCache,i,r)}}class pre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zj{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new pre;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(yf()<=Gs.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Sf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),N.resolve()):(yf()<=Gs.in.DEBUG&&se("QueryEngine","Query:",Sf(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(yf()<=Gs.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Sf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):N.resolve())}zi(e,t){if(CU(t))return N.resolve(null);let i=Mr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=n0(t,null,"F"),i=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=st(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.Yi(t,a);return this.Zi(t,d,s,c.readTime)?this.zi(e,n0(t,null,"F")):this.Xi(e,d,t,c)}))})))}ji(e,t,i,r){return CU(t)||r.isEqual(Oe.min())?N.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?N.resolve(null):(yf()<=Gs.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sf(t)),this.Xi(e,s,t,HB(r,-1)).next(a=>a))})}Yi(e,t){let i=new rn(SU(e));return t.forEach((r,o)=>{Zg(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return yf()<=Gs.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Sf(t)),this.Gi.getDocumentsMatchingQuery(e,t,fo.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class gre{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new fn(Ye),this.ns=new ja(o=>Bd(o),Gg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function Hj(n,e,t,i){return new gre(n,e,t,i)}function $j(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,K.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=st();for(const d of r){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(d=>({_s:d,removedBatchIds:s,addedBatchIds:a}))})})}),jS.apply(this,arguments)}function qj(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Gj(n,e,t){let i=st(),r=st();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Yr();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{us:s,cs:r}})}function yre(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Bf(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,N.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Ha(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Uf(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,K.Z)(function*(n,e,t){const i=me(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Gc(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),zS.apply(this,arguments)}function y0(n,e,t){const i=me(n);let r=Oe.min(),o=st();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){const p=me(c),g=p.ns.get(h);return void 0!==g?N.resolve(p.ts.get(g)):p.qr.getTargetData(d,h)}(i,s,Mr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Oe.min(),t?o:st())).next(a=>(Kj(i,DU(e),a),{documents:a,ls:o})))}function Wj(n,e){const t=me(n),i=me(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function Zj(n,e){const t=me(n),i=t.rs.get(e)||Oe.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,HB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Kj(t,e,r),r))}function Kj(n,e,t){let i=n.rs.get(e)||Oe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function HS(){return HS=(0,K.Z)(function*(n,e,t,i){const r=me(n);let o=st(),s=Yr();for(const d of t){const h=e.hs(d.metadata.name);d.document&&(o=o.add(h));const p=e.Ps(d);p.setReadTime(e.Is(d.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield Bf(r,(h=i,Mr(Tf(Mt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>Gj(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.qr.removeMatchingKeysForTargetId(d,c.targetId).next(()=>r.qr.addMatchingKeys(d,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.us,h.cs)).next(()=>h.us)))}),HS.apply(this,arguments)}function wre(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,K.Z)(function*(n,e,t=st()){const i=yield Bf(n,Mr(SS(e.bundledQuery))),r=me(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ni(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(wi.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),$S.apply(this,arguments)}function Qj(n,e){return`firestore_clients_${n}_${e}`}function Yj(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function qS(n,e){return`firestore_targets_${n}_${e}`}class b0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ie(r.error.code,r.error.message))),s?new b0(e,t,r.state,o):(ti("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class u_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ie(i.error.code,i.error.message))),o?new u_(e,i.state,r):(ti("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class w0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=_S();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=ZB(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new w0(e,o):(ti("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class GS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new GS(t.clientId,t.onlineState):(ti("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WS{constructor(){this.activeTargetIds=_S()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZS{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new fn(Ye),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=Qj(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new WS),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,K.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(Qj(e.persistenceKey,r));if(o){const s=w0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(qS(this.persistenceKey,e));if(i){const r=u_.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qS(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(se("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void ti("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,K.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=mo._e;if(null!=s)try{const c=JSON.parse(s);Re("number"==typeof c),a=c}catch(c){ti("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==mo._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new b0(this.currentUser,e,t,i),o=Yj(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=Yj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=qS(this.persistenceKey,e),o=new u_(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return w0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return b0.Ts(new Fi(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return u_.Ts(r,t)}Ms(e){return GS.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,K.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=_S();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Xj{constructor(){this.eo=new WS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new WS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ere{ro(e){}shutdown(){}}class Jj{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let E0=null;function KS(){return null===E0?E0=268435456+Math.round(2147483648*Math.random()):E0++,"0x"+E0.toString(16)}const Ire={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cre{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const fr="WebChannelConnection";class xre extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=KS(),c=this.So(t,i);se("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,o,s),this.Do(t,c,d,r).then(h=>(se("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Kr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+vf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${Ire[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=KS();return new Promise((s,a)=>{const c=new Ene;c.setWithCredentials(!0),c.listenOnce(yne.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nS.NO_ERROR:const h=c.getResponseJson();se(fr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case nS.TIMEOUT:se(fr,`RPC '${e}' ${o} timed out`),a(new ie(U.DEADLINE_EXCEEDED,"Request time out"));break;case nS.HTTP_ERROR:const p=c.getStatus();if(se(fr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(E){const k=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(k)>=0?k:U.UNKNOWN}(v.status);a(new ie(b,v.message))}else a(new ie(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ie(U.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{se(fr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);se(fr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",d,i,15)})}vo(e,t,i){const r=KS(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_ne(),a=vne(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new wne({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");se(fr,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new Cre({co:E=>{v?se(fr,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(g||(se(fr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),se(fr,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},lo:()=>p.close()}),w=(E,k,S)=>{E.listen(k,R=>{try{S(R)}catch(Q){setTimeout(()=>{throw Q},0)}})};return w(p,qw.EventType.OPEN,()=>{v||se(fr,`RPC '${e}' stream ${r} transport opened.`)}),w(p,qw.EventType.CLOSE,()=>{v||(v=!0,se(fr,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,qw.EventType.ERROR,E=>{v||(v=!0,Kr(fr,`RPC '${e}' stream ${r} transport errored:`,E),b.Ro(new ie(U.UNAVAILABLE,"The operation could not be completed")))}),w(p,qw.EventType.MESSAGE,E=>{var k;if(!v){const S=E.data[0];Re(!!S);const Q=S.error||(null===(k=S[0])||void 0===k?void 0:k.error);if(Q){se(fr,`RPC '${e}' stream ${r} received error:`,Q);const he=Q.status;let ye=function(_o){const Jr=hi[_o];if(void 0!==Jr)return GU(Jr)}(he),Ke=Q.message;void 0===ye&&(ye=U.INTERNAL,Ke="Unknown error status: "+he+" with message "+Q.message),v=!0,b.Ro(new ie(ye,Ke)),p.close()}else se(fr,`RPC '${e}' stream ${r} received:`,S),b.Vo(S)}}),w(a,bne.STAT_EVENT,E=>{E.stat===LB.PROXY?se(fr,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===LB.NOPROXY&&se(fr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function e4(){return typeof window<"u"?window:null}function I0(){return typeof document<"u"?document:null}function h_(n){return new Nie(n,!0)}class QS{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class t4{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new QS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,K.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,K.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,K.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===U.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ie(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,K.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tre extends t4{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Vie(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ee(),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(Re(void 0===h||"string"==typeof h),wi.fromBase64String(h||"")):(Re(void 0===h||h instanceof Uint8Array),wi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const h=void 0===d.code?U.UNKNOWN:GU(d.code);return new ie(h,d.message||"")}(s);t=new YU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Js(n,i.document.name),o=ni(i.document.updateTime),s=i.document.createTime?ni(i.document.createTime):Oe.min(),a=new Xi({mapValue:{fields:i.document.fields}}),c=bn.newFoundDocument(r,o,s,a);t=new c0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Js(n,i.document),o=i.readTime?ni(i.readTime):Oe.min(),s=bn.newNoDocument(r,o);t=new c0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Js(n,i.document);t=new c0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ee();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new Aie(r,o);t=new QU(i.targetId,s)}}var d;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Oe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Oe.min():s.readTime?ni(s.readTime):Oe.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=i_(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=e0(c)?{documents:aj(o,c)}:{query:DS(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tj(o,s.resumeToken);const d=IS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Oe.min())>0){a.readTime=Pf(o,s.snapshotVersion.toTimestamp());const d=IS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function Uie(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=i_(this.serializer),t.removeTarget=e,this.e_(t)}}class Dre extends t4{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Bie(n,e){return n&&n.length>0?(Re(void 0!==e),n.map(t=>function(r,o){let s=ni(r.updateTime?r.updateTime:o);return s.isEqual(Oe.min())&&(s=ni(o)),new xie(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.I_(i,t)}return Re(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=i_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>r_(this.serializer,i))};this.e_(t)}}class Sre extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ie(U.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(U.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class kre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ti(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Mre{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,K.Z)(function*(){var c;rl(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,K.Z)(function*(h){const p=me(h);p.C_.add(4),yield jf(p),p.M_.set("Unknown"),p.C_.delete(4),yield f_(p)}),function d(h){return c.apply(this,arguments)})(s))}))}),this.M_=new kre(i,r)}}function f_(n){return XS.apply(this,arguments)}function XS(){return XS=(0,K.Z)(function*(n){if(rl(n))for(const e of n.v_)yield e(!0)}),XS.apply(this,arguments)}function jf(n){return JS.apply(this,arguments)}function JS(){return JS=(0,K.Z)(function*(n){for(const e of n.v_)yield e(!1)}),JS.apply(this,arguments)}function C0(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),nA(t)?tA(t):Hf(t).Ho()&&eA(t,e))}function m_(n,e){const t=me(n),i=Hf(t);t.D_.delete(e),i.Ho()&&n4(t,e),0===t.D_.size&&(i.Ho()?i.Zo():rl(t)&&t.M_.set("Unknown"))}function eA(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hf(n).u_(e)}function n4(n,e){n.x_.Oe(e),Hf(n).c_(e)}function tA(n){n.x_=new Mie({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Hf(n).start(),n.M_.g_()}function nA(n){return rl(n)&&!Hf(n).jo()&&n.D_.size>0}function rl(n){return 0===me(n).C_.size}function i4(n){n.x_=void 0}function Rre(n){return iA.apply(this,arguments)}function iA(){return iA=(0,K.Z)(function*(n){n.D_.forEach((e,t)=>{eA(n,e)})}),iA.apply(this,arguments)}function Pre(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,K.Z)(function*(n,e){i4(n),nA(n)?(n.M_.w_(e),tA(n)):n.M_.set("Unknown")}),rA.apply(this,arguments)}function Ore(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,K.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof YU&&2===e.state&&e.cause)try{yield(i=(0,K.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield x0(n,i)}else if(e instanceof c0?n.x_.$e(e):e instanceof QU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Oe.min()))try{const i=yield qj(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(d);h&&o.D_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(wi.EMPTY_BYTE_STRING,h.snapshotVersion)),n4(o,c);const p=new Ha(h.target,c,d,h.sequenceNumber);eA(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){se("RemoteStore","Failed to raise snapshot:",i),yield x0(n,i)}var i}),oA.apply(this,arguments)}function x0(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,K.Z)(function*(n,e,t){if(!Gc(e))throw e;n.C_.add(1),yield jf(n),n.M_.set("Offline"),t||(t=()=>qj(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield f_(n)}))}),sA.apply(this,arguments)}function r4(n,e){return e().catch(t=>x0(n,t,e))}function zf(n){return aA.apply(this,arguments)}function aA(){return aA=(0,K.Z)(function*(n){const e=me(n),t=ol(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Nre(e);)try{const r=yield yre(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Fre(e,r)}catch(r){yield x0(e,r)}o4(e)&&s4(e)}),aA.apply(this,arguments)}function Nre(n){return rl(n)&&n.b_.length<10}function Fre(n,e){n.b_.push(e);const t=ol(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function o4(n){return rl(n)&&!ol(n).jo()&&n.b_.length>0}function s4(n){ol(n).start()}function Lre(n){return cA.apply(this,arguments)}function cA(){return cA=(0,K.Z)(function*(n){ol(n).E_()}),cA.apply(this,arguments)}function Vre(n){return lA.apply(this,arguments)}function lA(){return lA=(0,K.Z)(function*(n){const e=ol(n);for(const t of n.b_)e.P_(t.mutations)}),lA.apply(this,arguments)}function Bre(n,e,t){return dA.apply(this,arguments)}function dA(){return dA=(0,K.Z)(function*(n,e,t){const i=n.b_.shift(),r=bS.from(i,e,t);yield r4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zf(n)}),dA.apply(this,arguments)}function Ure(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,K.Z)(function*(n,e){var t;e&&ol(n).h_&&(yield(t=(0,K.Z)(function*(r,o){if(qU(a=o.code)&&a!==U.ABORTED){const s=r.b_.shift();ol(r).Yo(),yield r4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield zf(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),o4(n)&&s4(n)}),uA.apply(this,arguments)}function a4(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,K.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=rl(t);t.C_.add(3),yield jf(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield f_(t)}),hA.apply(this,arguments)}function fA(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,K.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield f_(t)):e||(t.C_.add(2),yield jf(t),t.M_.set("Unknown"))}),mA.apply(this,arguments)}function Hf(n){return n.O_||(n.O_=function(t,i,r){const o=me(t);return o.A_(),new Tre(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Rre.bind(null,n),Io:Pre.bind(null,n),a_:Ore.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.O_.Yo(),nA(n)?tA(n):n.M_.set("Unknown")):(yield n.O_.stop(),i4(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function ol(n){return n.N_||(n.N_=function(t,i,r){const o=me(t);return o.A_(),new Dre(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Lre.bind(null,n),Io:Ure.bind(null,n),T_:Vre.bind(null,n),I_:Bre.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.N_.Yo(),yield zf(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class pA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new pA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $f(n,e){if(ti("AsyncQueue",`${e}: ${n}`),Gc(n))return new ie(U.UNAVAILABLE,`${e}: ${n}`);throw n}class qf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Kg(),this.sortedSet=new fn(this.comparator)}static emptySet(e){return new qf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new qf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class c4{constructor(){this.B_=new fn(ge.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ee():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Gf{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Gf(e,t,qf.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class jre{constructor(){this.k_=void 0,this.listeners=[]}}class zre{constructor(){this.queries=new ja(e=>TU(e),Wg),this.onlineState="Unknown",this.q_=new Set}}function gA(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,K.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new jre),r)try{o.k_=yield t.onListen(i)}catch(s){const a=$f(s,`Initialization of query '${Sf(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&bA(t)}),_A.apply(this,arguments)}function vA(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,K.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),yA.apply(this,arguments)}function Hre(n,e){const t=me(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&bA(t)}function $re(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function bA(n){n.q_.forEach(e=>{e.next()})}class wA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Gf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class qre{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class l4{constructor(e){this.serializer=e}hs(e){return Js(this.serializer,e)}Ps(e){return e.metadata.exists?sj(this.serializer,e.document,!1):bn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ni(e)}}class Gre{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=d4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Mt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new l4(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||st()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,K.Z)(function*(){const t=yield function bre(n,e,t,i){return HS.apply(this,arguments)}(e.localStore,new l4(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield wre(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function d4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class u4{constructor(e){this.key=e}}class h4{constructor(e){this.key=e}}class f4{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=st(),this.mutatedKeys=st(),this._a=SU(e),this.aa=new qf(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new c4,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=Zg(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),E=!0):this.ha(g,v)||(i.track({type:2,doc:v}),E=!0,(c&&this._a(v,c)>0||d&&this._a(v,d)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),E=!0):g&&!v&&(i.track({type:1,doc:g}),E=!0,(c||d)&&(a=!0)),E&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(g)-b(v)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Gf(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new c4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=st(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new h4(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new u4(i))}),t}da(e){this.ia=e.ls,this.oa=st();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Gf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Wre{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Zre{constructor(e){this.key=e,this.Ra=!1}}class Kre{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ja(a=>TU(a),Wg),this.fa=new Map,this.ga=new Set,this.pa=new fn(ge.comparator),this.ya=new Map,this.wa=new NS,this.Sa={},this.ba=new Map,this.Da=Wd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Qre(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,K.Z)(function*(n,e){const t=qA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Bf(t.localStore,Mr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield IA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&C0(t.remoteStore,s)}return r}),EA.apply(this,arguments)}function IA(n,e,t,i,r){return CA.apply(this,arguments)}function CA(){return CA=(0,K.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,K.Z)(function*(E,k,S,R){let Q=k.view.ca(S);Q.Zi&&(Q=yield y0(E.localStore,k.query,!1).then(({documents:Ke})=>k.view.ca(Ke,Q)));const he=R&&R.targetChanges.get(k.targetId),ye=k.view.applyChanges(Q,E.isPrimaryClient,he);return OA(E,k.targetId,ye.Ta),ye.snapshot}),function w(E,k,S,R){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield y0(n.localStore,e,!0),s=new f4(e,o.ls),a=s.ca(o.documents),c=t_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=s.applyChanges(a,n.isPrimaryClient,c);OA(n,t,d.Ta);const h=new Wre(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),CA.apply(this,arguments)}function Yre(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,K.Z)(function*(n,e){const t=me(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Wg(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Uf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),m_(t.remoteStore,i.targetId),Wf(t,i.targetId)}).catch(qc))):(Wf(t,i.targetId),yield Uf(t.localStore,i.targetId,!0))}),xA.apply(this,arguments)}function TA(){return TA=(0,K.Z)(function*(n,e,t){const i=GA(n);try{const r=yield function(s,a){const c=me(s),d=Rn.now(),h=a.reduce((v,b)=>v.add(b.key),st());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Yr(),w=st();return c.ss.getEntries(v,h).next(E=>{b=E,b.forEach((k,S)=>{S.isValidDocument()||(w=w.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(E=>{p=E;const k=[];for(const S of a){const R=Die(S,p.get(S.key).overlayedDocument);null!=R&&k.push(new za(S.key,R,uU(R.value.mapValue),Pn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,k,a)}).next(E=>{g=E;const k=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,E.batchId,k)})}).then(()=>({batchId:g.batchId,changes:kU(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Sa[s.currentUser.toKey()];d||(d=new fn(Ye)),d=d.insert(a,c),s.Sa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield $a(i,r.changes),yield zf(i.remoteStore)}catch(r){const o=$f(r,"Failed to persist write");t.reject(o)}}),TA.apply(this,arguments)}function m4(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,K.Z)(function*(n,e){const t=me(n);try{const i=yield function vre(n,e){const t=me(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,E,k;null!==e.targetMismatches.get(p)?v=v.withResumeToken(wi.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),E=v,k=h,(0===(w=g).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Yr(),d=st();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Gj(o,s,e.documentUpdates).next(h=>{c=h.us,d=h.cs})),!i.isEqual(Oe.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Re(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Re(s.Ra):r.removedDocuments.size>0&&(Re(s.Ra),s.Ra=!1))}),yield $a(t,i,e)}catch(i){yield qc(i)}}),DA.apply(this,arguments)}function p4(n,e,t){const i=me(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=me(s);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(d=!0)}),d&&bA(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Jre(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,K.Z)(function*(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new fn(ge.comparator);s=s.insert(o,bn.newNoDocument(o,Oe.min()));const a=st().add(o),c=new e_(Oe.min(),new Map,new fn(Ye),s,a);yield m4(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),NA(i)}else yield Uf(i.localStore,e,!1).then(()=>Wf(i,e,t)).catch(qc)}),SA.apply(this,arguments)}function eoe(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,K.Z)(function*(n,e){const t=me(n),i=e.batch.batchId;try{const r=yield function _re(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,g=p.keys();let v=N.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const E=d.docVersions.get(b);Re(null!==E),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=st();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);PA(t,i,null),RA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield $a(t,r)}catch(r){yield qc(r)}}),AA.apply(this,arguments)}function toe(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,K.Z)(function*(n,e,t){const i=me(n);try{const r=yield function(s,a){const c=me(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Re(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);PA(i,e,t),RA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield $a(i,r)}catch(r){yield qc(r)}}),kA.apply(this,arguments)}function MA(){return MA=(0,K.Z)(function*(n,e){const t=me(n);rl(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=me(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=$f(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),MA.apply(this,arguments)}function RA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function PA(n,e,t){const i=me(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Wf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||g4(n,i)})}function g4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(m_(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),NA(n))}function OA(n,e,t){for(const i of t)i instanceof u4?(n.wa.addReference(i.key,e),ioe(n,i)):i instanceof h4?(se("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||g4(n,i.key)):Ee()}function ioe(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(i),NA(n))}function NA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ge(Mt.fromString(e)),i=n.Da.next();n.ya.set(i,new Zre(t)),n.pa=n.pa.insert(t,i),C0(n.remoteStore,new Ha(Mr(Tf(t.path)),i,"TargetPurposeLimboResolution",mo._e))}}function $a(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,K.Z)(function*(n,e,t){const i=me(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(d=>{if((d||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);const h=US.Qi(c.targetId,d);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,K.Z)(function*(d,h){const p=me(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(h,v=>N.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>N.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!Gc(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,E)}}}),function c(d,h){return a.apply(this,arguments)})(i.localStore,o))}),FA.apply(this,arguments)}function roe(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,K.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=yield $j(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new ie(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield $a(t,i._s)}var o}),LA.apply(this,arguments)}function ooe(n,e){const t=me(n),i=t.ya.get(e);if(i&&i.Ra)return st().add(i.key);{let r=st();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function soe(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,K.Z)(function*(n,e){const t=me(n),i=yield y0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&OA(t,e.targetId,r.Ta),r}),VA.apply(this,arguments)}function aoe(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,K.Z)(function*(n,e){const t=me(n);return Zj(t.localStore,e).then(i=>$a(t,i))}),BA.apply(this,arguments)}function coe(n,e,t,i){return UA.apply(this,arguments)}function UA(){return UA=(0,K.Z)(function*(n,e,t,i){const r=me(n),o=yield function(a,c){const d=me(a),h=me(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?d.localDocuments.getDocuments(p,g):N.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield zf(r.remoteStore):"acknowledged"===t||"rejected"===t?(PA(r,e,i||null),RA(r,e),c=e,me(me(r.localStore).mutationQueue).Fn(c)):Ee(),yield $a(r,o)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),UA.apply(this,arguments)}function jA(){return jA=(0,K.Z)(function*(n,e){const t=me(n);if(qA(t),GA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield _4(t,i.toArray());t.Ca=!0,yield fA(t.remoteStore,!0);for(const o of r)C0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Wf(t,s),Uf(t.localStore,s,!0))),m_(t.remoteStore,s)}),yield r,yield _4(t,i),function(s){const a=me(s);a.ya.forEach((c,d)=>{m_(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new fn(ge.comparator)}(t),t.Ca=!1,yield fA(t.remoteStore,!1)}}),jA.apply(this,arguments)}function _4(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,K.Z)(function*(n,e,t){const i=me(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield Bf(i.localStore,Mr(c[0]));for(const d of c){const h=i.ma.get(d),p=yield soe(i,h);p.snapshot&&o.push(p.snapshot)}}else{const d=yield Wj(i.localStore,s);a=yield Bf(i.localStore,d),yield IA(i,v4(d),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),zA.apply(this,arguments)}function v4(n){return IU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function doe(n){return t=me(n).localStore,me(me(t).persistence).Bi();var t}function uoe(n,e,t,i){return HA.apply(this,arguments)}function HA(){return HA=(0,K.Z)(function*(n,e,t,i){const r=me(n);if(r.Ca)return void se("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield Zj(r.localStore,DU(o[0])),a=e_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,wi.EMPTY_BYTE_STRING);yield $a(r,s,a);break}case"rejected":yield Uf(r.localStore,e,!0),Wf(r,e,i);break;default:Ee()}}),HA.apply(this,arguments)}function hoe(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,K.Z)(function*(n,e,t){const i=qA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){se("SyncEngine","Adding an already active target "+r);continue}const o=yield Wj(i.localStore,r),s=yield Bf(i.localStore,o);yield IA(i,v4(o),s.targetId,!1,s.resumeToken),C0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield Uf(i.localStore,r,!1).then(()=>{m_(i.remoteStore,r),Wf(i,r)}).catch(qc))}}),$A.apply(this,arguments)}function qA(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ooe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jre.bind(null,e),e.Va.a_=Hre.bind(null,e.eventManager),e.Va.Fa=$re.bind(null,e.eventManager),e}function GA(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=toe.bind(null,e),e}class p_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.serializer=h_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hj(this.persistence,new zj,e.initialUser,this.serializer)}createPersistence(e){return new FS(g0.jr,this.serializer)}createSharedClientState(e){return new Xj}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WA extends p_{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield GA(i.xa.syncEngine),yield zf(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Hj(this.persistence,new zj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Pj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Bne(t,this.persistence);return new Vne(e.asyncQueue,i)}createPersistence(e){const t=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new VS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,e4(),I0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Xj}}class y4 extends WA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof ZS&&(i.sharedClientState.syncEngine={Ys:coe.bind(null,r),Zs:uoe.bind(null,r),Xs:hoe.bind(null,r),Bi:doe.bind(null,r),Js:aoe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,K.Z)(function*(s){yield function loe(n,e){return jA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=e4();if(!ZS.D(t))throw new ie(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Zf{initialize(e,t){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>p4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=roe.bind(null,i.syncEngine),yield fA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zre}createDatastore(e){const t=h_(e.databaseInfo.databaseId),i=new xre(e.databaseInfo);return new Sre(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>p4(this.syncEngine,t,0),a=Jj.D()?new Jj:new Ere,new Mre(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,d,h){const p=new Kre(r,o,s,a,c,d);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(i){const r=me(i);se("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield jf(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function b4(n,e=10240){let t=0;return{read:()=>(0,K.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class T0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class poe{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new bi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,K.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,K.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,K.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new qre(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,K.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,K.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,K.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class goe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ie(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,a){const c=me(s),d=i_(c.serializer)+"/documents",h={documents:a.map(b=>n_(c.serializer,b))},p=yield c.Co("BatchGetDocuments",d,h,a.length),g=new Map;p.forEach(b=>{const w=function Lie(n,e){return"found"in e?function(i,r){Re(!!r.found);const o=Js(i,r.found.name),s=ni(r.found.updateTime),a=r.found.createTime?ni(r.found.createTime):Oe.min(),c=new Xi({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){Re(!!r.missing),Re(!!r.readTime);const o=Js(i,r.missing),s=ni(r.readTime);return bn.newNoDocument(o,s)}(n,e):Ee()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());Re(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ge.fromPath(r);e.mutations.push(new vS(o,e.precondition(o)))}),yield(i=(0,K.Z)(function*(o,s){const a=me(o),c=i_(a.serializer)+"/documents",d={writes:s.map(h=>r_(a.serializer,h))};yield a.wo("Commit",c,d)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Oe.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Oe.min())?Pn.exists(!1):Pn.updateTime(t):Pn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Oe.min()))throw new ie(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(t)}return Pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _oe{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new QS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,K.Z)(function*(){const t=new goe(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Bg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qU(t)}return!1}}class voe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Fi.UNAUTHENTICATED,this.clientId=jB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,K.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=$f(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function D0(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(o){i.isEqual(o)||(yield $j(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ZA.apply(this,arguments)}function KA(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield YA(n);se("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>a4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>a4(e.remoteStore,o)),n._onlineComponents=e}),QA.apply(this,arguments)}function w4(n){return"FirebaseError"===n.name?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function YA(n){return XA.apply(this,arguments)}function XA(){return XA=(0,K.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield D0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!w4(t))throw t;Kr("Error using user provided cache. Falling back to memory cache: "+t),yield D0(n,new p_)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield D0(n,new p_);return n._offlineComponents}),XA.apply(this,arguments)}function S0(n){return JA.apply(this,arguments)}function JA(){return JA=(0,K.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield KA(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield KA(n,new Zf))),n._onlineComponents}),JA.apply(this,arguments)}function E4(n){return YA(n).then(e=>e.persistence)}function Kf(n){return YA(n).then(e=>e.localStore)}function I4(n){return S0(n).then(e=>e.remoteStore)}function ek(n){return S0(n).then(e=>e.syncEngine)}function Qf(n){return tk.apply(this,arguments)}function tk(){return tk=(0,K.Z)(function*(n){const e=yield S0(n),t=e.eventManager;return t.onListen=Qre.bind(null,e.syncEngine),t.onUnlisten=Yre.bind(null,e.syncEngine),t}),tk.apply(this,arguments)}function x4(n,e,t={}){const i=new bi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new T0({next:g=>{s.enqueueAndForget(()=>vA(o,p));const v=g.docs.has(a);!v&&g.fromCache?d.reject(new ie(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?d.reject(new ie(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new wA(Tf(a.path),h,{includeMetadataChanges:!0,J_:!0});return gA(o,p)}(yield Qf(n),n.asyncQueue,e,t,i)})),i.promise}function T4(n,e,t={}){const i=new bi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new T0({next:g=>{s.enqueueAndForget(()=>vA(o,p)),g.fromCache&&"server"===c.source?d.reject(new ie(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new wA(a,h,{includeMetadataChanges:!0,J_:!0});return gA(o,p)}(yield Qf(n),n.asyncQueue,e,t,i)})),i.promise}function D4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const S4=new Map;function nk(n,e,t){if(!t)throw new ie(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function A4(n,e,t,i){if(!0===e&&!0===i)throw new ie(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function k4(n){if(!ge.isDocumentKey(n))throw new ie(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M4(n){if(ge.isDocumentKey(n))throw new ie(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function A0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ee()}function wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=A0(n);throw new ie(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function R4(n,e){if(e<=0)throw new ie(U.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class P4{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=D4(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g_{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P4(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Tne;switch(i.type){case"firstParty":return new kne(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=S4.get(t);i&&(se("ComponentProvider","Removing Datastore"),S4.delete(t),i.terminate())}(this),Promise.resolve()}}class Ji{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ea extends Ji{constructor(e,t,i){super(e,t,Tf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ge(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function N4(n,e,...t){if(n=(0,cn.m9)(n),nk("collection","path",e),n instanceof g_){const i=Mt.fromString(e,...t);return M4(i),new ea(n,null,i)}{if(!(n instanceof wn||n instanceof ea))throw new ie(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return M4(i),new ea(n.firestore,null,i)}}function k0(n,e,...t){if(n=(0,cn.m9)(n),1===arguments.length&&(e=jB.newId()),nk("doc","path",e),n instanceof g_){const i=Mt.fromString(e,...t);return k4(i),new wn(n,null,new ge(i))}{if(!(n instanceof wn||n instanceof ea))throw new ie(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return k4(i),new wn(n.firestore,n instanceof ea?n.converter:null,new ge(i))}}function F4(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),(n instanceof wn||n instanceof ea)&&(e instanceof wn||e instanceof ea)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ik(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),n instanceof Ji&&e instanceof Ji&&n.firestore===e.firestore&&Wg(n._query,e._query)&&n.converter===e.converter}class koe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new QS(this,"async_queue_retry"),this.iu=()=>{const t=I0();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=I0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=I0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new bi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,K.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Gc(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,ti("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=pA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Ee()}verifyOperationInProgress(){}uu(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function rk(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Moe{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mn extends g_{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new koe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||L4(this),this._firestoreClient.terminate()}}function Gn(n){return n._firestoreClient||L4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function L4(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sie(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,D4(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new voe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function V4(n,e,t){const i=new bi;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield D0(n,t),yield KA(n,e),i.resolve()}catch(r){const o=r;if(!w4(o))throw o;Kr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function B4(n){if(n._initialized||n._terminated)throw new ie(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(wi.fromBase64String(e))}catch(t){throw new ie(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ie(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kd{constructor(e){this._methodName=e}}class M0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}const zoe=/^__.*__$/;class Hoe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mf(e,this.data,t,this.fieldTransforms)}}class U4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function j4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class R0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new R0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return N0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(j4(this.Iu)&&zoe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class $oe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||h_(e)}pu(e,t,i,r=!1){return new R0({Iu:e,methodName:t,gu:i,path:yn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(n){const e=n._freezeSettings(),t=h_(n._databaseId);return new $oe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function P0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);ck("Data must be an object, but it was:",s,i);const a=$4(i,s);let c,d;if(o.merge)c=new Qr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=y_(e,p,t);if(!s.contains(g))throw new ie(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);G4(h,g)||h.push(g)}c=new Qr(h),d=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=s.fieldTransforms;return new Hoe(new Xi(a),c,d)}class v_ extends Kd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v_}}function z4(n,e,t){return new R0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ok extends Kd{_toFieldTransform(e){return new Yg(e.path,new Af)}isEqual(e){return e instanceof ok}}class qoe extends Kd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=z4(this,e,!0),i=this.yu.map(o=>Yd(o,t)),r=new Ud(i);return new Yg(e.path,r)}isEqual(e){return this===e}}class Goe extends Kd{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=z4(this,e,!0),i=this.yu.map(o=>Yd(o,t)),r=new jd(i);return new Yg(e.path,r)}isEqual(e){return this===e}}class Woe extends Kd{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new kf(e.serializer,OU(e.serializer,this.wu));return new Yg(e.path,t)}isEqual(e){return this===e}}function sk(n,e,t,i){const r=n.pu(1,e,t);ck("Data must be an object, but it was:",r,i);const o=[],s=Xi.empty();Wc(i,(c,d)=>{const h=O0(e,c,t);d=(0,cn.m9)(d);const p=r.Ru(h);if(d instanceof v_)o.push(h);else{const g=Yd(d,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Qr(o);return new U4(s,a,r.fieldTransforms)}function ak(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[y_(e,i,t)],c=[r];if(o.length%2!=0)throw new ie(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(y_(e,o[g])),c.push(o[g+1]);const d=[],h=Xi.empty();for(let g=a.length-1;g>=0;--g)if(!G4(d,a[g])){const v=a[g];let b=c[g];b=(0,cn.m9)(b);const w=s.Ru(v);if(b instanceof v_)d.push(v);else{const E=Yd(b,w);null!=E&&(d.push(v),h.set(v,E))}}const p=new Qr(d);return new U4(h,p,s.fieldTransforms)}function H4(n,e,t,i=!1){return Yd(t,n.pu(i?4:3,e))}function Yd(n,e){if(q4(n=(0,cn.m9)(n)))return ck("Unsupported field value:",e,n),$4(n,e);if(n instanceof Kd)return function(i,r){if(!j4(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Yd(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,cn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return OU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Rn.fromDate(i);return{timestampValue:Pf(r.serializer,o)}}if(i instanceof Rn){const o=new Rn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pf(r.serializer,o)}}if(i instanceof M0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ta)return{bytesValue:tj(r.serializer,i._byteString)};if(i instanceof wn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:CS(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${A0(i)}`)}(n,e)}function $4(n,e){const t={};return nU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wc(n,(i,r)=>{const o=Yd(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function q4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rn||n instanceof M0||n instanceof ta||n instanceof wn||n instanceof Kd)}function ck(n,e,t){if(!q4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=A0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function y_(n,e,t){if((e=(0,cn.m9)(e))instanceof qa)return e._internalPath;if("string"==typeof e)return O0(n,e);throw N0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zoe=new RegExp("[~\\*/\\[\\]]");function O0(n,e,t){if(e.search(Zoe)>=0)throw N0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qa(...e.split("."))._internalPath}catch{throw N0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function N0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new ie(U.INVALID_ARGUMENT,a+n+c)}function G4(n,e){return n.some(t=>t.isEqual(e))}class b_{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Koe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(F0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Koe extends b_{data(){return super.data()}}function F0(n,e){return"string"==typeof e?O0(n,e):e instanceof qa?e._internalPath:e._delegate._internalPath}function W4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ie(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lk{}class w_ extends lk{}function sl(n,e,...t){let i=[];e instanceof lk&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof Yf).length,a=o.filter(c=>c instanceof E_).length;if(s>1||s>0&&a>0)throw new ie(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class E_ extends w_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new E_(e,t,i)}_apply(e){const t=this._parse(e);return Y4(e._query,t),new Ji(e.firestore,e.converter,gS(e._query,t))}_parse(e){const t=Qd(e.firestore);return function(o,s,a,c,d,h,p){let g;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ie(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){Q4(p,h);const v=[];for(const b of p)v.push(K4(c,o,b));g={arrayValue:{values:v}}}else g=K4(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||Q4(p,h),g=H4(a,"where",p,"in"===h||"not-in"===h);return xt.create(d,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yf extends lk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:en.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)Y4(s,c),s=gS(s,c)}(e._query,t),new Ji(e.firestore,e.converter,gS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dk extends w_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dk(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ie(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ie(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qg(o,s)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Ua(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class L0 extends w_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new L0(e,t,i)}_apply(e){return new Ji(e.firestore,e.converter,n0(e._query,this._limit,this._limitType))}}class V0 extends w_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new V0(e,t,i)}_apply(e){const t=Z4(e,this.type,this._docOrFields,this._inclusive);return new Ji(e.firestore,e.converter,(o=t,new Ua((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class B0 extends w_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new B0(e,t,i)}_apply(e){const t=Z4(e,this.type,this._docOrFields,this._inclusive);return new Ji(e.firestore,e.converter,(o=t,new Ua((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Z4(n,e,t,i){if(t[0]=(0,cn.m9)(t[0]),t[0]instanceof b_)return function(o,s,a,c,d){if(!c)throw new ie(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of Df(o))if(p.field.isKeyField())h.push(Vd(s,c.key));else{const g=c.data.field(p.field);if(Kw(g))throw new ie(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new ie(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new Jc(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Qd(n.firestore);return function(s,a,c,d,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new ie(U.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new ie(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!pS(s)&&-1!==w.indexOf("/"))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const E=s.path.child(Mt.fromString(w));if(!ge.isDocumentKey(E))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const k=new ge(E);v.push(Vd(a,k))}else{const E=H4(c,d,w);v.push(E)}}return new Jc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function K4(n,e,t){if("string"==typeof(t=(0,cn.m9)(t))){if(""===t)throw new ie(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pS(e)&&-1!==t.indexOf("/"))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mt.fromString(t));if(!ge.isDocumentKey(i))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vd(n,new ge(i))}if(t instanceof wn)return Vd(n,t._key);throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${A0(t)}.`)}function Q4(n,e){if(!Array.isArray(n)||0===n.length)throw new ie(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y4(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ie(U.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uk{convertValue(e,t="none"){switch(Yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new M0(qn(e.latitude),qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Qw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jg(e));default:return null}}convertTimestamp(e){const t=Zc(e);return new Rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);Re(uj(i));const r=new Kc(i.get(1),i.get(3)),o=new ge(i.popFirst(5));return r.isEqual(t)||ti(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function U0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class rse extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}class Xd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends b_{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new I_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(F0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class I_ extends Ga{data(e={}){return super.data(e)}}class al{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Xd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new I_(this._firestore,this._userDataWriter,i.key,i,new Xd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new I_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new I_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:sse(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function J4(n,e){return n instanceof Ga&&e instanceof Ga?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof al&&e instanceof al&&n._firestore===e._firestore&&ik(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class cl extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function e3(n,e,t){n=wt(n,wn);const i=wt(n.firestore,mn),r=U0(n.converter,e,t);return Xf(i,[P0(Qd(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Pn.none())])}function t3(n,e,t,...i){n=wt(n,wn);const r=wt(n.firestore,mn),o=Qd(r);let s;return s="string"==typeof(e=(0,cn.m9)(e))||e instanceof qa?ak(o,"updateDoc",n._key,e,t,i):sk(o,"updateDoc",n._key,e),Xf(r,[s.toMutation(n._key,Pn.exists(!0))])}function n3(n,...e){var t,i,r;n=(0,cn.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||rk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(rk(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,d,h;if(n instanceof wn)d=wt(n.firestore,mn),h=Tf(n._key.path),c={next:p=>{e[s]&&e[s](hk(d,n,p))},error:e[s+1],complete:e[s+2]};else{const p=wt(n,Ji);d=wt(p.firestore,mn),h=p._query;const g=new cl(d);c={next:v=>{e[s]&&e[s](new al(d,g,p,v))},error:e[s+1],complete:e[s+2]},W4(n._query)}return function(g,v,b,w){const E=new T0(w),k=new wA(v,E,b);return g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return gA(yield Qf(g),k)})),()=>{E.Na(),g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return vA(yield Qf(g),k)}))}}(Gn(d),h,a,c)}function Xf(n,e){return function(i,r){const o=new bi;return i.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function Xre(n,e,t){return TA.apply(this,arguments)}(yield ek(i),r,o)})),o.promise}(Gn(n),e)}function hk(n,e,t){const i=t.docs.get(e._key),r=new cl(n);return new Ga(n,r,e._key,i,new Xd(t.hasPendingWrites,t.fromCache),e.converter)}const Cse={maxAttempts:5};class r3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qd(e)}set(e,t,i){this._verifyNotCommitted();const r=ll(e,this._firestore),o=U0(r.converter,t,i),s=P0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Pn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=ll(e,this._firestore);let s;return s="string"==typeof(t=(0,cn.m9)(t))||t instanceof qa?ak(this._dataReader,"WriteBatch.update",o._key,t,i,r):sk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ll(e,this._firestore);return this._mutations=this._mutations.concat(new Rf(t._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ll(n,e){if((n=(0,cn.m9)(n)).firestore!==e)throw new ie(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xse extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Qd(t)}get(t){const i=ll(t,this._firestore),r=new rse(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Ee();const s=o[0];if(s.isFoundDocument())return new b_(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new b_(this._firestore,r,i._key,null,i.converter);throw Ee()})}set(t,i,r){const o=ll(t,this._firestore),s=U0(o.converter,i,r),a=P0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=ll(t,this._firestore);let a;return a="string"==typeof(i=(0,cn.m9)(i))||i instanceof qa?ak(this._dataReader,"Transaction.update",s._key,i,r,o):sk(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=ll(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ll(e,this._firestore),i=new cl(this._firestore);return super.get(e).then(r=>new Ga(this._firestore,i,t._key,r._document,new Xd(!1,!1),t.converter))}}function mk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function c3(){if(typeof Uint8Array>"u")throw new ie("unimplemented","Uint8Arrays are not available in this environment.")}function l3(){if(!function rie(){return typeof atob<"u"}())throw new ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){vf=af.SDK_VERSION,(0,af._registerComponent)(new wV.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new mn(new Sne(i.getProvider("auth-internal")),new Mne(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,af.registerVersion)(VB,"4.3.2",e),(0,af.registerVersion)(VB,"4.3.2","esm2017")}();class C_{constructor(e){this._delegate=e}static fromBase64String(e){return l3(),new C_(ta.fromBase64String(e))}static fromUint8Array(e){return c3(),new C_(ta.fromUint8Array(e))}toBase64(){return l3(),this._delegate.toBase64()}toUint8Array(){return c3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pk(n){return function Nse(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Fse{enableIndexedDbPersistence(e,t){return function Poe(n,e){B4(n=wt(n,mn));const t=Gn(n);if(t._uninitializedComponentsProvider)throw new ie(U.FAILED_PRECONDITION,"SDK cache is already specified.");Kr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Zf;return V4(t,r,new WA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ooe(n){B4(n=wt(n,mn));const e=Gn(n);if(e._uninitializedComponentsProvider)throw new ie(U.FAILED_PRECONDITION,"SDK cache is already specified.");Kr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Zf;return V4(e,i,new y4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Noe(n){if(n._initialized&&!n._terminated)throw new ie(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(t=(0,K.Z)(function*(r){if(!_s.D())return Promise.resolve();const o=r+"main";yield _s.delete(o)}),function i(r){return t.apply(this,arguments)})(BS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class d3{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Kc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Kr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function O4(n,e,t,i={}){var r;const o=(n=wt(n,g_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Fi.MOCK_USER;else{a=(0,cn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ie(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fi(d)}n._authCredentials=new Dne(new BB(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function Loe(n){return function yoe(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield E4(n),t=yield I4(n);return e.setNetworkEnabled(!0),function(r){const o=me(r);return o.C_.delete(0),f_(o)}(t)}))}(Gn(n=wt(n,mn)))}(this._delegate)}disableNetwork(){return function Voe(n){return function boe(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield E4(n),t=yield I4(n);return e.setNetworkEnabled(!1),(i=(0,K.Z)(function*(o){const s=me(o);s.C_.add(0),yield jf(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Gn(n=wt(n,mn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,A4("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Foe(n){return function(t){const i=new bi;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function noe(n,e){return MA.apply(this,arguments)}(yield ek(t),i)})),i.promise}(Gn(n=wt(n,mn)))}(this._delegate)}onSnapshotsInSync(e){return function pse(n,e){return function Ioe(n,e){const t=new T0(e);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Qf(n),o=t,me(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield Qf(n),o=t,void me(r).q_.delete(o);var r,o}))}}(Gn(n=wt(n,mn)),rk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jf(this,N4(this._delegate,e))}catch(t){throw Rr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Uo(this,k0(this._delegate,e))}catch(t){throw Rr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Pr(this,function Aoe(n,e){if(n=wt(n,g_),nk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ji(n,null,(i=e,new Ua(Mt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Rr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Tse(n,e,t){n=wt(n,mn);const i=Object.assign(Object.assign({},Cse),t);return function(o){if(o.maxAttempts<1)throw new ie(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new bi;return o.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const d=yield function C4(n){return S0(n).then(e=>e.datastore)}(o);new _oe(o.asyncQueue,d,a,s,c).run()})),c.promise}(Gn(n),r=>e(new xse(n,r)),i)}(this._delegate,t=>e(new u3(this,t)))}batch(){return Gn(this._delegate),new h3(new r3(this._delegate,e=>Xf(this._delegate,e)))}loadBundle(e){return function Boe(n,e){const t=Gn(n=wt(n,mn)),i=new Moe;return function Coe(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?WU().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return b4(h,p);if(h instanceof ArrayBuffer)return b4(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new poe(h,a);var h}(t,h_(e));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function foe(n,e,t){const i=me(n);var r;(r=(0,K.Z)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(b,w){const E=me(b),k=ni(w.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",S=>E.Kr.getBundleMetadata(S,w.id)).then(S=>!!S&&S.createTime.compareTo(k)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=d).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(d4(d));const h=new Gre(d,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield $a(s,g.ra,void 0),yield function(b,w){const E=me(b);return E.persistence.runTransaction("Save bundle","readwrite",k=>E.Kr.saveBundleMetadata(k,w))}(s.localStore,d),c._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return Kr("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ek(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Uoe(n,e){return function xoe(n,e){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(i,r){const o=me(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Kf(n),e)}))}(Gn(n=wt(n,mn)),e).then(t=>t?new Ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Pr(this,t):null)}}class z0 extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new C_(new ta(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Uo.forKey(t,this.firestore,null)}}class u3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new z0(e)}get(e){const t=eu(e);return this._delegate.get(t).then(i=>new x_(this._firestore,new Ga(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=eu(e);return i?(mk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=eu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}}class h3{constructor(e){this._delegate=e}set(e,t,i){const r=eu(e);return i?(mk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=eu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jd{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new I_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new T_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Jd.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Jd(e,new z0(e),t),r.set(t,o)),o}}Jd.INSTANCES=new WeakMap;class Uo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new z0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Uo(t,new wn(t._delegate,i,new ge(e)))}static forKey(e,t,i){return new Uo(t,new wn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Jf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jf(this.firestore,N4(this._delegate,e))}catch(t){throw Rr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cn.m9)(e))instanceof wn&&F4(this._delegate,e)}set(e,t){t=mk("DocumentReference.set",t);try{return t?e3(this._delegate,e,t):e3(this._delegate,e)}catch(i){throw Rr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?t3(this._delegate,e):t3(this._delegate,e,t,...i)}catch(r){throw Rr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function fse(n){return Xf(wt(n.firestore,mn),[new Rf(n._key,Pn.none())])}(this._delegate)}onSnapshot(...e){const t=f3(e),i=m3(e,r=>new x_(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return n3(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function cse(n){n=wt(n,wn);const e=wt(n.firestore,mn),t=Gn(e),i=new cl(e);return function woe(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=me(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ie(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=$f(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Kf(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ga(e,i,n._key,r,new Xd(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function lse(n){n=wt(n,wn);const e=wt(n.firestore,mn);return x4(Gn(e),n._key,{source:"server"}).then(t=>hk(e,n,t))}(this._delegate):function ase(n){n=wt(n,wn);const e=wt(n.firestore,mn);return x4(Gn(e),n._key).then(t=>hk(e,n,t))}(this._delegate),t.then(i=>new x_(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Uo(this.firestore,this._delegate.withConverter(e?Jd.getInstance(this.firestore,e):null))}}function Rr(n,e,t){return n.message=n.message.replace(e,t),n}function f3(n){for(const e of n)if("object"==typeof e&&!pk(e))return e;return{}}function m3(n,e){var t,i;let r;return r=pk(n[0])?n[0]:pk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class x_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return J4(this._delegate,e._delegate)}}class T_ extends x_{data(e){const t=this._delegate.data(e);return this._delegate._converter||function xne(n,e){n||Ee()}(void 0!==t),t}}class Pr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new z0(e)}where(e,t,i){try{return new Pr(this.firestore,sl(this._delegate,function Qoe(n,e,t){const i=e,r=F0("where",n);return E_._create(r,i,t)}(e,t,i)))}catch(r){throw Rr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Pr(this.firestore,sl(this._delegate,function Yoe(n,e="asc"){const t=e,i=F0("orderBy",n);return dk._create(i,t)}(e,t)))}catch(i){throw Rr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Pr(this.firestore,sl(this._delegate,function Xoe(n){return R4("limit",n),L0._create("limit",n,"F")}(e)))}catch(t){throw Rr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Pr(this.firestore,sl(this._delegate,function Joe(n){return R4("limitToLast",n),L0._create("limitToLast",n,"L")}(e)))}catch(t){throw Rr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Pr(this.firestore,sl(this._delegate,function ese(...n){return V0._create("startAt",n,!0)}(...e)))}catch(t){throw Rr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Pr(this.firestore,sl(this._delegate,function tse(...n){return V0._create("startAfter",n,!1)}(...e)))}catch(t){throw Rr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Pr(this.firestore,sl(this._delegate,function nse(...n){return B0._create("endBefore",n,!1)}(...e)))}catch(t){throw Rr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Pr(this.firestore,sl(this._delegate,function ise(...n){return B0._create("endAt",n,!0)}(...e)))}catch(t){throw Rr(t,"endAt()","Query.endAt()")}}isEqual(e){return ik(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function use(n){n=wt(n,Ji);const e=wt(n.firestore,mn),t=Gn(e),i=new cl(e);return function Eoe(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield y0(o,s,!0),d=new f4(s,c.ls),h=d.ca(c.documents),p=d.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const d=$f(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Kf(n),e,t);var i})),t.promise}(t,n._query).then(r=>new al(e,i,n,r))}(this._delegate):"server"===e?.source?function hse(n){n=wt(n,Ji);const e=wt(n.firestore,mn),t=Gn(e),i=new cl(e);return T4(t,n._query,{source:"server"}).then(r=>new al(e,i,n,r))}(this._delegate):function dse(n){n=wt(n,Ji);const e=wt(n.firestore,mn),t=Gn(e),i=new cl(e);return W4(n._query),T4(t,n._query).then(r=>new al(e,i,n,r))}(this._delegate),t.then(i=>new gk(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=f3(e),i=m3(e,r=>new gk(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return n3(this._delegate,t,i)}withConverter(e){return new Pr(this.firestore,this._delegate.withConverter(e?Jd.getInstance(this.firestore,e):null))}}class Vse{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new T_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Pr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new T_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Vse(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new T_(this._firestore,i))})}isEqual(e){return J4(this._delegate,e._delegate)}}class Jf extends Pr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Uo(this.firestore,e):null}doc(e){try{return new Uo(this.firestore,void 0===e?k0(this._delegate):k0(this._delegate,e))}catch(t){throw Rr(t,"doc()","CollectionReference.doc()")}}add(e){return function mse(n,e){const t=wt(n.firestore,mn),i=k0(n),r=U0(n.converter,e);return Xf(t,[P0(Qd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Pn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Uo(this.firestore,t))}isEqual(e){return F4(this._delegate,e._delegate)}withConverter(e){return new Jf(this.firestore,this._delegate.withConverter(e?Jd.getInstance(this.firestore,e):null))}}function eu(n){return wt(n,wn)}class _k{constructor(...e){this._delegate=new qa(...e)}static documentId(){return new _k(yn.keyField().canonicalString())}isEqual(e){return(e=(0,cn.m9)(e))instanceof qa&&this._delegate._internalPath.isEqual(e._internalPath)}}class tu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Sse(){return new ok("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tu(e)}static delete(){const e=function Dse(){return new v_("deleteField")}();return e._methodName="FieldValue.delete",new tu(e)}static arrayUnion(...e){const t=function Ase(...n){return new qoe("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new tu(t)}static arrayRemove(...e){const t=function kse(...n){return new Goe("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new tu(t)}static increment(e){const t=function Mse(n){return new Woe("increment",n)}(e);return t._methodName="FieldValue.increment",new tu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bse={Firestore:d3,GeoPoint:M0,Timestamp:Rn,Blob:C_,Transaction:u3,WriteBatch:h3,DocumentReference:Uo,DocumentSnapshot:x_,Query:Pr,QueryDocumentSnapshot:T_,QuerySnapshot:gk,CollectionReference:Jf,FieldPath:_k,FieldValue:tu,setLogLevel:function Lse(n){!function Cne(n){$c.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function p3(n,e){return function zse(n,e=Dd){return new Et(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function vk(n,e){return p3(n,e).pipe(_e(t=>({payload:t,type:"query"})))}!function jse(n){(function Use(n,e){n.INTERNAL.registerComponent(new wV.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Bse)))})(n,(e,t)=>new d3(e,t,new Fse)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Fa.Z);class g3{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=E3(i,t);return new y3(r,o,this.afs)}snapshotChanges(){return function Hse(n,e){return p3(n,e).pipe(Ed(void 0),mD(),_e(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(uo)}valueChanges(e={}){return this.snapshotChanges().pipe(_e(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return Kt(this.ref.get(e)).pipe(uo)}}function H0(n,e){return vk(n,e).pipe(Ed(void 0),mD(),_e(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const d=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function _3(n,e,t){return H0(n,t).pipe(zb((i,r)=>function $se(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function qse(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Dl(),_e(i=>i.map(r=>({type:r.type,payload:r}))))}function yk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function v3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class y3{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=H0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(_e(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ed(void 0),mD(),Hn(([i,r])=>r.length>0||!i),_e(([,i])=>i),uo)}auditTrail(e){return this.stateChanges(e).pipe(zb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=v3(e);return _3(this.query,t,this.afs.schedulers.outsideAngular).pipe(uo)}valueChanges(e={}){return vk(this.query,this.afs.schedulers.outsideAngular).pipe(_e(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),uo)}get(e){return Kt(this.query.get(e)).pipe(uo)}add(e){return this.ref.add(e)}doc(e){return new g3(this.ref.doc(e),this.afs)}}class Gse{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?H0(this.query,this.afs.schedulers.outsideAngular).pipe(_e(t=>t.filter(i=>e.indexOf(i.type)>-1)),Hn(t=>t.length>0),uo):H0(this.query,this.afs.schedulers.outsideAngular).pipe(uo)}auditTrail(e){return this.stateChanges(e).pipe(zb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=v3(e);return _3(this.query,t,this.afs.schedulers.outsideAngular).pipe(uo)}valueChanges(e={}){return vk(this.query,this.afs.schedulers.outsideAngular).pipe(_e(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),uo)}get(e){return Kt(this.query.get(e)).pipe(uo)}}const b3=new X("angularfire2.enableFirestorePersistence"),w3=new X("angularfire2.firestore.persistenceSettings"),Wse=new X("angularfire2.firestore.settings"),Zse=new X("angularfire2.firestore.use-emulator");function E3(n,e=(t=>t)){return{query:e(n),ref:n}}let $0=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,d,h,p,g,v,b,w,E,k,S){this.schedulers=c;const R=fD(t,a,i),Q=h;p&&bV(R,a,g,b,w,E,v,k),[this.firestore,this.persistenceEnabled$]=dV(`${R.name}.firestore`,"AngularFirestore",R.name,()=>{const he=a.runOutsideAngular(()=>R.firestore());if(o&&he.settings(o),Q&&he.useEmulator(...Q),r&&!Ob(s)){const ye=()=>{try{return Kt(he.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(Ke){return typeof console<"u"&&console.warn(Ke),Ie(!1)}};return[he,a.runOutsideAngular(ye)]}return[he,Ie(!1)]},[o,Q,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=E3(r,i),a=this.schedulers.ngZone.run(()=>o);return new y3(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new Gse(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new g3(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(O(_w),O(vw,8),O(b3,8),O(Wse,8),O(as),O(Be),O(cV),O(w3,8),O(Zse,8),O(df,8),O(mV,8),O(pV,8),O(gV,8),O(_V,8),O(vV,8),O(yV,8),O(sV,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Kse=(()=>{class n{constructor(){Fa.Z.registerVersion("angularfire",gw.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:b3,useValue:!0},{provide:w3,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ht({type:n});static \u0275inj=Ot({providers:[$0]})}return n})(),D_=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new T,this.loginFailed$=this.loginFailedSubject.asObservable(),this.user$=this.afAuth.authState}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i,r){this.afAuth.signInWithEmailAndPassword(t,i).then(o=>{o.user?o.user.emailVerified?(console.log(r),r||this.afAuth.setPersistence("none").then(()=>{console.log("Remembering account is turned off")}),this.router.navigate(["/home"])):alert("Please verify your email before logging in."):(console.error("User is null"),alert("An error occurred during login. Please try again."))}).catch(o=>{console.error("Login error:",o),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{console.log("Logged out"),this.router.navigate(["/login"])}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){this.afAuth.authState.subscribe(t=>{t&&this.router.navigate(["/home"])})}isLoggedIn(){return this.user$.pipe(_e(t=>!!t))}static#e=this.\u0275fac=function(i){return new(i||n)(O(df),O(Ar),O($0))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q0(n,e=Dd){return de((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function c(){const d=s+n,h=e.now();if(h<d)return r=this.schedule(void 0,d-h),void i.add(r);a()}t.subscribe(be(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function C3(n){return Hn((e,t)=>n<=t)}const x3=new Set;let nu,gae=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vae}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function _ae(n,e){if(!x3.has(n))try{nu||(nu=document.createElement("style"),e&&(nu.nonce=e),nu.setAttribute("type","text/css"),document.head.appendChild(nu)),nu.sheet&&(nu.sheet.insertRule(`@media ${n} {body{ }}`,0),x3.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Zr),O(zI,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vae(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let yae=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new T}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return T3(rw(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Vb(T3(rw(t)).map(s=>this._registerQuery(s).observable));return o=Ub(o.pipe(lo(1)),o.pipe(C3(1),q0(0))),o.pipe(_e(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Et(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ed(i),_e(({matches:s})=>({query:t,matches:s})),cr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(O(gae),O(Be))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let A3=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function xae(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Cae(n){try{return n.frameElement}catch{return null}}(function Pae(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===M3(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=M3(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Mae(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Rae(n){return!function Dae(n){return function Aae(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Tae(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Sae(n){return function kae(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||k3(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Zr))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function M3(n){if(!k3(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Oae{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(lo(1)).subscribe(e)}}let Nae=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Oae(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(A3),O(Be),O(bt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R3(n){return 0===n.buttons||0===n.detail}function P3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Fae=new X("cdk-input-modality-detector-options"),Lae={ignoreKeys:[18,17,224,91,16]},em=uw({passive:!0,capture:!0});let Vae=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new nr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=jc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(R3(s)?"keyboard":"mouse"),this._mostRecentTarget=jc(s))},this._onTouchstart=s=>{P3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jc(s))},this._options={...Lae,...o},this.modalityDetected=this._modality.pipe(C3(1)),this.modalityChanged=this.modalityDetected.pipe(Dl()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,em),r.addEventListener("mousedown",this._onMousedown,em),r.addEventListener("touchstart",this._onTouchstart,em)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,em),document.removeEventListener("mousedown",this._onMousedown,em),document.removeEventListener("touchstart",this._onTouchstart,em))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Zr),O(Be),O(bt),O(Fae,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Uae=new X("cdk-focus-monitor-default-options"),G0=uw({passive:!0,capture:!0});let jae=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new T,this._rootNodeFocusAndBlurListener=a=>{for(let d=jc(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Td(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ie();const o=function cee(n){if(function aee(){if(null==sD){const n=typeof document<"u"?document.head:null;sD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sD}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new T,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Td(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Td(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=jc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,G0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,G0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(cr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,G0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,G0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(O(Be),O(Zr),O(Vae),O(bt,8),O(Uae,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const N3="cdk-high-contrast-black-on-white",F3="cdk-high-contrast-white-on-black",wk="cdk-high-contrast-active";let zae=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ce(yae).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(wk,N3,F3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(wk,N3):2===i&&t.add(wk,F3)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Zr),O(bt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $ae=new X("mat-sanity-checks",{providedIn:"root",factory:function Hae(){return!0}});let Xr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!aD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(O(zae),O($ae,8),O(bt))};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[fg,fg]})}return n})();function qae(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}const B3=uw({passive:!0,capture:!0});class Zae{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=jc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,B3)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,B3)))}}class W0{static#e=this._eventManager=new Zae;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Td(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...U3,...i.animation},s=i.radius||function Qae(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new Wae(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(w),S=()=>this._destroyRipple(w);h.addEventListener("transitionend",k),h.addEventListener("transitioncancel",S)}),this._activeRipples.set(w,null),(b||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...U3,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Td(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,z3.forEach(i=>{W0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{H3.forEach(t=>{this._triggerElement.addEventListener(t,this,j3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=R3(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!P3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(z3.forEach(t=>W0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&H3.forEach(t=>e.removeEventListener(t,this,j3)))}}let q3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Xr,Xr]})}return n})(),Yae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Xr]})}return n})();const Wa="*";function Xae(n,e){return{type:7,name:n,definitions:e,options:{}}}function G3(n,e=null){return{type:4,styles:e,timings:n}}function Z0(n){return{type:6,styles:n,offset:null}}function W3(n,e,t){return{type:0,name:n,styles:e,options:t}}function Z3(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class A_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class K3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const K0=["*"],ice=["content"];function rce(n,e){if(1&n){const t=ar();A(0,"div",1),Me("click",function(){return nt(t),ot(Pe()._onBackdropClicked())}),V()}2&n&&Qn("mat-drawer-shown",Pe()._isShowingBackdrop())}function oce(n,e){1&n&&(A(0,"mat-drawer-content"),li(1,2),V())}const sce=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ace=["mat-drawer","mat-drawer-content","*"];function cce(n,e){if(1&n){const t=ar();A(0,"div",1),Me("click",function(){return nt(t),ot(Pe()._onBackdropClicked())}),V()}2&n&&Qn("mat-drawer-shown",Pe()._isShowingBackdrop())}function lce(n,e){1&n&&(A(0,"mat-sidenav-content"),li(1,2),V())}const dce=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],uce=["mat-sidenav","mat-sidenav-content","*"],Q3={transformDrawer:Xae("transform",[W3("open, open-instant",Z0({transform:"none",visibility:"visible"})),W3("void",Z0({"box-shadow":"none",visibility:"hidden"})),Z3("void => open-instant",G3("0ms")),Z3("void <=> open, open-instant => void",G3("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},fce=new X("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function mce(){return!1}}),Ik=new X("MAT_DRAWER_CONTAINER");let Q0=(()=>{class n extends mg{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Fs),P(jt(()=>X3)),P(Yt),P(fw),P(Be))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&Ep("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Wt([{provide:mg,useExisting:n}]),_t],ngContentSelectors:K0,decls:1,vars:0,template:function(i,r){1&i&&(us(),li(0))},encapsulation:2,changeDetection:0})}return n})(),Y3=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Wr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Wr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Wr(t))}constructor(t,i,r,o,s,a,c,d){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=d,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new T,this._animationEnd=new T,this._animationState="void",this.openedChange=new Xt(!0),this._openedStream=this.openedChange.pipe(Hn(h=>h),_e(()=>{})),this.openedStart=this._animationStarted.pipe(Hn(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),ST(void 0)),this._closedStream=this.openedChange.pipe(Hn(h=>!h),_e(()=>{})),this.closedStart=this._animationStarted.pipe(Hn(h=>h.fromState!==h.toState&&"void"===h.toState),ST(void 0)),this._destroyed=new T,this.onPositionChanged=new Xt,this._modeChanged=new T,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{cg(this._elementRef.nativeElement,"keydown").pipe(Hn(h=>27===h.keyCode&&!this.disableClose&&!function bk(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),cr(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(Dl((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(lo(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Yt),P(Nae),P(jae),P(Zr),P(Be),P(A3),P(bt,8),P(Ik,8))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&_d(ice,5),2&i){let o;Ri(o=Pi())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&fx("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(sr("align",null),dx("@transform",r._animationState),Qn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:K0,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(us(),A(0,"div",0,1),li(2),V())},dependencies:[mg],encapsulation:2,data:{animation:[Q3.transformDrawer]},changeDetection:0})}return n})(),X3=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Wr(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Wr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new Fh,this.backdropClick=new Xt,this._destroyed=new T,this._doCheckSubject=new T,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T,t&&t.change.pipe(cr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(cr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(Ed(this._allDrawers),cr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ed(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(q0(10),cr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Hn(i=>i.fromState!==i.toState),cr(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(cr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(cr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(lo(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(cr(nc(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(P(cD,8),P(Yt),P(Be),P(Fs),P(lD),P(fce),P(oh,8))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(Fo(o,Q0,5),Fo(o,Y3,5)),2&i){let s;Ri(s=Pi())&&(r._content=s.first),Ri(s=Pi())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&_d(Q0,5),2&i){let o;Ri(o=Pi())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Qn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Wt([{provide:Ik,useExisting:n}])],ngContentSelectors:ace,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(us(sce),Ct(0,rce,1,2,"div",0),li(1),li(2,1),Ct(3,oce,2,0,"mat-drawer-content")),2&i&&(ka(0,r.hasBackdrop?0:-1),pe(3),ka(3,r._content?-1:3))},dependencies:[Q0],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),Ck=(()=>{class n extends Q0{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Fs),P(jt(()=>ez)),P(Yt),P(fw),P(Be))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&Ep("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Wt([{provide:mg,useExisting:n}]),_t],ngContentSelectors:K0,decls:1,vars:0,template:function(i,r){1&i&&(us(),li(0))},encapsulation:2,changeDetection:0})}return n})(),J3=(()=>{class n extends Y3{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Wr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=iw(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=iw(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(sr("align",null),Ep("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Qn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[_t],ngContentSelectors:K0,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(us(),A(0,"div",0,1),li(2),V())},dependencies:[mg],encapsulation:2,data:{animation:[Q3.transformDrawer]},changeDetection:0})}return n})(),ez=(()=>{class n extends X3{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(Fo(o,Ck,5),Fo(o,J3,5)),2&i){let s;Ri(s=Pi())&&(r._content=s.first),Ri(s=Pi())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&Qn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Wt([{provide:Ik,useExisting:n}]),_t],ngContentSelectors:uce,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(us(dce),Ct(0,cce,1,2,"div",0),li(1),li(2,1),Ct(3,lce,2,0,"mat-sidenav-content")),2&i&&(ka(0,r.hasBackdrop?0:-1),pe(3),ka(3,r._content?-1:3))},dependencies:[Ck],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),pce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Xr,mw,mw,Xr]})}return n})();const gce=["*",[["mat-toolbar-row"]]],_ce=["*","mat-toolbar-row"],vce=qae(class{constructor(n){this._elementRef=n}});let yce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ae({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),bce=(()=>{class n extends vce{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(P(Yt),P(Zr),P(bt))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Fo(o,yce,5),2&i){let s;Ri(s=Pi())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Qn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[_t],ngContentSelectors:_ce,decls:2,vars:0,template:function(i,r){1&i&&(us(gce),li(0),li(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),wce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Xr,Xr]})}return n})();function Ece(n,e){if(1&n){const t=ar();A(0,"mat-toolbar")(1,"span")(2,"a",24),je(3,"img",25),V()(),je(4,"span",26),A(5,"span",27),re(6,' "Post with Purpose, Earn with Pride | Join Earn2Post" '),V(),je(7,"span",26),A(8,"div",28),je(9,"button",29)(10,"input",30),V(),A(11,"div",31)(12,"button",32),Me("click",function(){return nt(t),ot(Pe().toggleSearch())}),V(),je(13,"input",30),V(),A(14,"button",33),Me("click",function(){return nt(t),Pe(),ot(Gr(3).toggle())}),V()()}}const Ice=["*"];let xk=(()=>{class n{constructor(t,i){this.authService=t,this.overlayService=i,this.opened=!1,this.visible=!0}toggleSearch(){const t=document.getElementById("search-bar"),i=document.getElementById("header-moto"),r=document.getElementById("header-logo"),o=document.getElementById("header-menu");t&&i&&r&&o&&(t.classList.toggle("active"),i.classList.toggle("inactive"),r.classList.toggle("inactive"),o.classList.toggle("inactive"))}logOut(){this.authService.logout()}openSettings(){this.overlayService.openOverlay(Oee)}openBugReport(){this.overlayService.openOverlay(Gee)}static#e=this.\u0275fac=function(i){return new(i||n)(P(D_),P(uD))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:Ice,decls:42,vars:5,consts:[[4,"ngIf"],["autosize","","hasBackdrop","false"],["position","end",3,"click"],["sidenav",""],[1,"container"],[1,"top-nav"],["routerLink","/profile",1,"box"],["src","assets\\img\\menu_profile.svg","alt",""],[1,"box"],["src","assets\\img\\menu_message.svg","alt",""],["routerLink","/clicker",1,"box"],["src","assets\\img\\menu_clicker.svg","alt",""],["src","assets\\img\\menu_debux.svg","alt",""],[1,"bottom-nav"],[1,"box-no-border",3,"click"],["src","assets\\img\\menu_settings.svg","alt",""],[1,"box",3,"click"],["src","assets\\img\\menu_bug.svg","alt",""],[1,"seperator"],[1,"box-no-border"],["src","assets\\img\\menu_switch.svg","alt",""],["routerLink","/",1,"box",3,"click"],["src","assets\\img\\menu_logout.svg","alt",""],[3,"click"],["routerLink","/home"],["id","header-logo","src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],["id","header-moto",1,"moto"],[1,"search"],[1,"search_button"],["type","search","placeholder","Search...",1,"search_input"],["id","search-bar",1,"search_compact"],[1,"search_button",3,"click"],["id","header-menu",1,"menu_button",3,"click"]],template:function(i,r){if(1&i){const o=ar();us(),Ct(0,Ece,15,0,"mat-toolbar",0),A(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),Me("click",function(){return nt(o),ot(Gr(3).close())}),A(4,"div",4)(5,"div",5)(6,"div",6),je(7,"img",7),A(8,"h4"),re(9,"Profile"),V()(),A(10,"div",8),je(11,"img",9),A(12,"h4"),re(13,"Messages"),V()(),A(14,"div",10),je(15,"img",11),A(16,"h4"),re(17,"Clicker"),V()(),A(18,"div",8),je(19,"img",12),A(20,"h4"),re(21," Buy DeBux"),V()()(),A(22,"div",13)(23,"div",14),Me("click",function(){return r.openSettings()}),je(24,"img",15),A(25,"h4"),re(26,"Settings"),V()(),A(27,"div",16),Me("click",function(){return r.openBugReport()}),je(28,"img",17),A(29,"h4"),re(30,"Bug Report"),V()(),je(31,"div",18),A(32,"div",19),je(33,"img",20),A(34,"h4"),re(35,"Switch Acc"),V()(),A(36,"div",21),Me("click",function(){return r.logOut()}),je(37,"img",22),A(38,"h4"),re(39,"Log Out"),V()()()()(),A(40,"mat-sidenav-content",23),Me("click",function(){return nt(o),ot(Gr(3).close())}),li(41),V()()}2&i&&(et("ngIf",r.visible),pe(1),Qn("login-page",!r.visible)("other-page",r.visible))},dependencies:[zh,rf,J3,ez,Ck,bce],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px;overflow:hidden}.logo[_ngcontent-%COMP%]{height:auto;width:90%;margin-bottom:4%;margin-left:8%}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:1.7vw}.search[_ngcontent-%COMP%]{display:flex;align-items:center;width:16%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background-color:#212121}.search_button[_ngcontent-%COMP%]{height:61px;width:61px;border:none;border-radius:40px;background:transparent url(/assets/img/search.svg) no-repeat;background-size:78%;background-position:6px 11px}.search_input[_ngcontent-%COMP%]{margin-left:2%;width:80%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background:transparent;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 0}.search_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.search_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.search_compact[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{background-color:#212121;border-radius:40px;width:100%}.active[_ngcontent-%COMP%]   .search_button[_ngcontent-%COMP%]{height:61px;width:61px;background-position:6px 11px}.active[_ngcontent-%COMP%]   .search_input[_ngcontent-%COMP%]{display:flex}.inactive[_ngcontent-%COMP%]{display:none}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:110%;background-position:-5px 2px;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.menu_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}@media (min-width: 1921px){.moto[_ngcontent-%COMP%]{font-size:200%}}@media (max-width: 1560px){.search[_ngcontent-%COMP%]{display:none}.search_compact[_ngcontent-%COMP%]{display:flex}.search_input[_ngcontent-%COMP%]{display:none}}@media (max-width: 1100px){.moto[_ngcontent-%COMP%]{display:none}}@media (max-width: 510px){.search_button[_ngcontent-%COMP%]{width:40px;height:40px;background-position:4px 6px}.menu_button[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:15px;background-position:-3px 3px}}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#212121;width:100%}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.box[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;color:#e0e1e1;background-color:transparent}.box[_ngcontent-%COMP%]:hover, .box-no-border[_ngcontent-%COMP%]:hover{background-color:#505050;cursor:pointer}.box[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:15px}.box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:lighter;padding:0;margin:10px 0 10px 22px}.seperator[_ngcontent-%COMP%]{padding-top:2.5%;padding-bottom:2.5%;background-color:#464646}"]})}return n})();function Cce(n,e){if(1&n){const t=ar();A(0,"div",4),je(1,"img",5),A(2,"p",1),re(3),V(),A(4,"p",2),re(5),V(),je(6,"hr"),A(7,"p",1),re(8),V(),je(9,"img",6),A(10,"p",7),re(11),V(),A(12,"p",8),re(13),V(),je(14,"br")(15,"br")(16,"hr"),A(17,"img",9),Me("click",function(){const o=nt(t).index;return ot(Pe().toggleLike(o))}),V(),je(18,"img",10)(19,"textarea",11,12),A(21,"img",13),Me("click",function(){const o=nt(t).index,s=Gr(20);return Pe().postComment(o),ot(s.value=" ")}),V()()}if(2&n){const t=e.$implicit;pe(1),Nh("src",t[6],dp),pe(2),Xn(t[0]),pe(2),Xn(t[1]),pe(3),Xn(t[4]),pe(1),Nh("src",t[5],dp),Nh("alt",t[5]),pe(2),rb("",t[2]," ",1==t[2]?"like":"likes",""),pe(2),rb("",t[3]," ",1==t[3]?"comment":"comments",""),pe(4),Nh("src",1==t[7]?"assets/img/like_active.svg":"assets/img/like_inactive.svg",dp)}}let xce=(()=>{class n{constructor(){this.username="Silver",this.totalPosts=2,this.allPosts=[["Silver","11. Oktoober kell 19:46",128,95,"pange saun sooja, Silver tuleb rekordeid purustama","https://media.discordapp.net/attachments/1146094400666091524/1161706521235832994/IMG_2645.jpg","https://media.discordapp.net/attachments/1149290454819553420/1164864763105390592/b61f156cac360ab208b71ce5102ee9c5_400x400.png",!1],["Rasmus","11. Oktoober kell 21:25",84,52,"Uued keycapsid!","https://ptpimg.me/y8v9a5.png","https://ptpimg.me/8n699g.jpg",!0]]}toggleLike(t){!0===this.allPosts[t][7]?(this.allPosts[t][7]=!1,this.allPosts[t][2]-=1):(this.allPosts[t][7]=!0,this.allPosts[t][2]+=1)}postComment(t){this.allPosts[t][3]+=1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-post"]],decls:7,vars:3,consts:[["src",""],[1,"mainText"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],[1,"icons",2,"float","left",3,"src","click"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&(je(0,"img",0),A(1,"h1",1),re(2),V(),A(3,"h3",2),re(4),V(),A(5,"ul"),Ct(6,Cce,22,11,"div",3),V()),2&i&&(pe(2),Us("Currently logged in as: ",r.username,""),pe(2),Us("Total posts on the backend: ",r.totalPosts,""),pe(2),et("ngForOf",r.allPosts))},dependencies:[Rb],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),Tce=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(P(xk),P(D_))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"center-container"],[1,"center-element"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),je(2,"app-post"),V()())},dependencies:[xce],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();let nz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Sa),P(Yt))};static#t=this.\u0275dir=Ae({type:n})}return n})(),iu=(()=>{class n extends nz{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,features:[_t]})}return n})();const vs=new X("NgValueAccessor"),Dce={provide:vs,useExisting:jt(()=>Tk),multi:!0};let Tk=(()=>{class n extends iu{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=kn(n)))(r||n)}})();static#t=this.\u0275dir=Ae({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Me("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Wt([Dce]),_t]})}return n})();const Sce={provide:vs,useExisting:jt(()=>Y0),multi:!0},kce=new X("CompositionEventMode");let Y0=(()=>{class n extends nz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ace(){const n=Lc()?Lc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Sa),P(Yt),P(kce,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Me("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Wt([Sce]),_t]})}return n})();const mr=new X("NgValidators"),ul=new X("NgAsyncValidators");function hz(n){return null!=n}function fz(n){return Lp(n)?Kt(n):n}function mz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function pz(n,e){return e.map(t=>t(n))}function gz(n){return n.map(e=>function Rce(n){return!n.validate}(e)?e:t=>e.validate(t))}function Dk(n){return null!=n?function _z(n){if(!n)return null;const e=n.filter(hz);return 0==e.length?null:function(t){return mz(pz(t,e))}}(gz(n)):null}function vz(n){if(!n)return null;const e=n.filter(hz);return 0==e.length?null:function(t){return function tz(...n){const e=sm(n),{args:t,keys:i}=LL(n),r=new Et(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,d=s;for(let h=0;h<s;h++){let p=!1;De(t[h]).subscribe(be(o,g=>{p||(p=!0,d--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(d||o.next(i?VL(i,a):a),o.complete())}))}});return e?r.pipe(xT(e)):r}(pz(t,e).map(fz)).pipe(_e(mz))}}function Sk(n){return null!=n?vz(gz(n)):null}function yz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ak(n){return n?Array.isArray(n)?n:[n]:[]}function J0(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ez(n,e){const t=Ak(e);return Ak(n).forEach(r=>{J0(t,r)||t.push(r)}),t}function Iz(n,e){return Ak(e).filter(t=>!J0(n,t))}class Cz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Or extends Cz{get formDirective(){return null}get path(){return null}}class hl extends Cz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tz=(()=>{class n extends xz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(P(hl,2))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Qn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[_t]})}return n})();const k_="VALID",tE="INVALID",tm="PENDING",M_="DISABLED";function nE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kz{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===k_}get invalid(){return this.status===tE}get pending(){return this.status==tm}get disabled(){return this.status===M_}get enabled(){return this.status!==M_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ez(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ez(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Iz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Iz(e,this._rawAsyncValidators))}hasValidator(e){return J0(this._rawValidators,e)}hasAsyncValidator(e){return J0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=M_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=k_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k_||this.status===tm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?M_:k_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tm,this._hasOwnPendingAsyncValidator=!0;const t=fz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xt,this.statusChanges=new Xt}_calculateStatus(){return this._allControlsDisabled()?M_:this.errors?tE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tm)?tm:this._anyControlsHaveStatus(tE)?tE:k_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Lce(n){return Array.isArray(n)?Dk(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Vce(n){return Array.isArray(n)?Sk(n):n||null}(this._rawAsyncValidators)}}const nm=new X("CallSetDisabledState",{providedIn:"root",factory:()=>iE}),iE="always";function R_(n,e,t=iE){(function Nk(n,e){const t=function bz(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(yz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function wz(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(yz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sE(e._rawValidators,r),sE(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function jce(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Mz(n,e)})}(n,e),function Hce(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zce(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Mz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Uce(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function sE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Oz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Nz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Fz=class extends kz{constructor(e=null,t,i){super(function Rk(n){return(nE(n)?n.validators:n)||null}(t),function Pk(n,e){return(nE(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Nz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Oz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Oz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Nz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Yce={provide:hl,useExisting:jt(()=>Uk)},Bz=(()=>Promise.resolve())();let Uk=(()=>{class n extends hl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Fz,this._registered=!1,this.name="",this.update=new Xt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Vk(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Y0?t=o:function Gce(n){return Object.getPrototypeOf(n.constructor)===iu}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Lk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){R_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Bz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&bd(i);Bz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function rE(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(P(Or,9),P(mr,10),P(ul,10),P(vs,10),P(Fs,8),P(nm,8))};static#t=this.\u0275dir=Ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([Yce]),_t,$i]})}return n})(),jz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({})}return n})(),Ele=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[jz]})}return n})(),Cle=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nm,useValue:t.callSetDisabledState??iE}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Ele]})}return n})();function xle(n,e){1&n&&(A(0,"p",21),re(1,"Check your email"),V())}function Tle(n,e){1&n&&(A(0,"p",21),re(1,"Check your password"),V())}function Dle(n,e){if(1&n){const t=ar();A(0,"div",8)(1,"div",9)(2,"h1"),re(3,"Log in"),V(),A(4,"input",10),Me("ngModelChange",function(r){return nt(t),ot(Pe().email=r)})("keyup.enter",function(){return nt(t),ot(Gr(9).focus())}),V(),Ct(5,xle,2,0,"p",11),A(6,"h1"),re(7,"Enter password"),V(),A(8,"input",12,13),Me("ngModelChange",function(r){return nt(t),ot(Pe().password=r)})("keyup.enter",function(){return nt(t),ot(Pe().login())}),V(),Ct(10,Tle,2,0,"p",11),A(11,"div",14)(12,"div")(13,"div",15)(14,"input",16),Me("ngModelChange",function(r){return nt(t),ot(Pe().rememberMe=r)}),V(),A(15,"label",17),je(16,"span"),V(),A(17,"p"),re(18,"Remember me"),V()(),A(19,"a",18),Me("click",function(){return nt(t),ot(Pe().isPage="forgot")}),re(20,"Forgot password?"),V()(),A(21,"span",19),re(22,"Don't have an account? "),A(23,"a",18),Me("click",function(){return nt(t),ot(Pe().isPage="register")}),re(24,"Sign up here"),V()()(),A(25,"button",20),Me("click",function(){return nt(t),ot(Pe().login())}),A(26,"span"),re(27,"Sign in"),V(),je(28,"i"),V()()()}if(2&n){const t=Pe();pe(4),et("ngModel",t.email),pe(1),et("ngIf",t.loginFailed),pe(3),et("ngModel",t.password),pe(2),et("ngIf",t.loginFailed),pe(4),et("ngModel",t.rememberMe)}}function Sle(n,e){if(1&n){const t=ar();A(0,"div",8)(1,"div",9)(2,"h1"),re(3,"Register"),V(),A(4,"input",22),Me("ngModelChange",function(r){return nt(t),ot(Pe().displayName=r)})("keyup.enter",function(){return nt(t),ot(Gr(8).focus())}),V(),A(5,"h1"),re(6,"Email"),V(),A(7,"input",23,24),Me("ngModelChange",function(r){return nt(t),ot(Pe().email=r)})("keyup.enter",function(){return nt(t),ot(Gr(12).focus())}),V(),A(9,"h1"),re(10,"Enter password"),V(),A(11,"input",25,13),Me("ngModelChange",function(r){return nt(t),ot(Pe().password=r)})("keyup.enter",function(){return nt(t),ot(Pe().register())}),V(),A(13,"div",14)(14,"div")(15,"a",18),Me("click",function(){return nt(t),ot(Pe().isPage="forgot")}),re(16,"Forgot password?"),V()(),A(17,"span",26),re(18,"Have an account? "),A(19,"a",18),Me("click",function(){return nt(t),ot(Pe().isPage="login")}),re(20,"Sign in here"),V()()(),A(21,"button",27),Me("click",function(){return nt(t),ot(Pe().register())}),A(22,"span"),re(23,"Sign up"),V(),je(24,"i"),V()()()}if(2&n){const t=Pe();pe(4),et("ngModel",t.displayName),pe(3),et("ngModel",t.email),pe(4),et("ngModel",t.password)}}function Ale(n,e){if(1&n){const t=ar();A(0,"div",8)(1,"div",9)(2,"h1"),re(3,"Enter email"),V(),A(4,"input",28,13),Me("ngModelChange",function(r){return nt(t),ot(Pe().email=r)})("keyup.enter",function(){return nt(t),ot(Pe().register())}),V(),A(6,"div",14)(7,"span",26),re(8,"Oops still remember? "),A(9,"a",18),Me("click",function(){return nt(t),ot(Pe().isPage="login")}),re(10,"Sign in here"),V()()(),A(11,"button",29),Me("click",function(){return nt(t),ot(Pe().forgot())}),A(12,"span"),re(13,"Send verification"),V(),je(14,"i"),V()()()}if(2&n){const t=Pe();pe(4),et("ngModel",t.email)}}let kle=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.rememberMe=!0,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password,this.rememberMe),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(P(D_),P(Ar),P(xk))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"containerfull"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[1,"checkbox-wrapper-3"],["type","checkbox","id","cbx-3",3,"ngModel","ngModelChange"],["for","cbx-3",1,"toggle"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace","cursor","default"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(A(0,"html")(1,"head"),je(2,"meta",0),V(),A(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),re(8,"Earn2Post"),V()(),A(9,"div",5),je(10,"img",6),V()(),Ct(11,Dle,29,5,"div",7)(12,Sle,25,3,"div",7)(13,Ale,15,1,"div",7),V()()()),2&i&&(pe(11),et("ngIf","login"===r.isPage),pe(1),et("ngIf","register"===r.isPage),pe(1),et("ngIf","forgot"===r.isPage))},dependencies:[zh,Y0,Tk,Tz,Uk],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.containerfull[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%], a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400;cursor:default}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text;cursor:pointer}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.926dafe5cf3fb7c6.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}.checkbox-wrapper-3[_ngcontent-%COMP%]{display:flex;margin:10px 10px 15px}.checkbox-wrapper-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 10px;font-size:inherit;color:#707070}.checkbox-wrapper-3[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{visibility:hidden;display:none}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:relative;display:block;width:40px;height:20px;cursor:pointer;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:before{content:"";position:relative;top:3px;left:3px;width:34px;height:14px;display:block;background:#9A9999;border-radius:8px;transition:background .2s ease}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:20px;height:20px;display:block;background:#707070;border-radius:10px;box-shadow:0 3px 8px #9a999980;transition:all .2s ease}.checkbox-wrapper-3[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;margin:-18px;width:56px;height:56px;background:rgba(79,46,220,.5);border-radius:50%;transform:scale(0);opacity:1;pointer-events:none}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]:before{background:#947ADA}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#6A5988;transform:translate(20px);transition:all .2s cubic-bezier(.8,.4,.3,1.25),background .15s ease;box-shadow:0 3px 8px #4f2edc33}.checkbox-wrapper-3[_ngcontent-%COMP%]   #cbx-3[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{transform:scale(1);opacity:0;transition:all .4s ease}']})}return n})(),Mle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(A(0,"h1"),re(1,"You're logged in as an admin"),V(),A(2,"button",0),re(3," Sign out"),V()),2&i&&(pe(2),et("routerLink",""))},dependencies:[rf]})}return n})();let Wk=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.autosaveDate=new Date,this.upgradesDefault=[{name:"Multithreading",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase processing power by utilizing multiple threads."},{name:"Optimization Algorithms",cost:100,debuxPerSec:10,affordable:!1,purchased:0,description:"Enhance efficiency through advanced code optimization techniques."},{name:"Parallel Processing",cost:1e3,debuxPerSec:100,affordable:!1,purchased:0,description:"Enable simultaneous execution for faster processing."},{name:"Overclocking",cost:1e4,debuxPerSec:1e3,affordable:!1,purchased:0,description:"Push the CPU to run faster, boosting processing power."},{name:"Hardware Upgrades",cost:1e5,debuxPerSec:1e4,affordable:!1,purchased:0,description:"Install better processors or RAM to increase overall performance."},{name:"Cooling Systems",cost:1e6,debuxPerSec:1e5,affordable:!1,purchased:0,description:"Optimize cooling mechanisms to sustain higher processing speeds."},{name:"Syntax Highlighting",cost:1,debuxPerClick:1,affordable:!1,purchased:0,description:"Boost click effectiveness with highlighted code segments."},{name:"Code Formatting",cost:10,debuxPerClick:10,affordable:!1,purchased:0,description:"Improve the appearance of code to enhance click impact."},{name:"Auto-Completion",cost:100,debuxPerClick:100,affordable:!1,purchased:0,description:"Increase code suggestion accuracy to amplify your clicks."},{name:"GUI Enhancements",cost:1e3,debuxPerClick:1e3,affordable:!1,purchased:0,description:"Upgrade the interface for a more responsive and impactful clicking experience."},{name:"Mouse Acceleration",cost:1e4,debuxPerClick:1e4,affordable:!1,purchased:0,description:"Improve click effectiveness by enhancing mouse sensitivity."},{name:"ChatGPT Evolution",cost:1e3,affordable:!1,purchased:0,description:"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."},{name:"Automated Testing",cost:1e4,affordable:!1,purchased:0,description:"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."},{name:"Code Refactoring AI",cost:1e5,affordable:!1,purchased:0,description:"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."},{name:"Codebase Analysis",cost:1e6,affordable:!1,purchased:0,description:"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."},{name:"Tabnine",cost:1e7,affordable:!1,purchased:0,description:"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."}],this.debuxValue=0,this.saveInterval=60,this.purchasedUpgradesPerSec=[],this.purchasedUpgradesPerClick=[],this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}buyUpgrade(t,i,r){typeof i<"u"&&0!==i?(console.log("DebuxPerSec purchased"),this.purchasedUpgradesPerSec.push({name:t,debuxPerSec:i})):typeof r<"u"&&0!==r&&(console.log("DebuxPerClick purchased"),this.purchasedUpgradesPerClick.push({name:t,debuxPerClick:r}))}calculateTotalDebuxPerClick(){return this.purchasedUpgradesPerClick.reduce((t,i)=>t+i.debuxPerClick,1)}calculateTotalDebuxPerSec(){return this.purchasedUpgradesPerSec.reduce((t,i)=>t+i.debuxPerSec,0)}firstCalc(t){let i=0,r=0;for(const o in t){const s=t[o];null!=s.debuxPerSec&&(r=s.debuxPerSec*s.purchased),null!=s.debuxPerClick&&(i=s.debuxPerClick*s.purchased),this.buyUpgrade(s.name,r,i)}}addDebux(t){this.debuxValue=t}addUpgrades(t){this.upgradesUpdated=t}startAutosave(){dw(0,1e3*this.saveInterval).pipe(Gt(()=>this.autosave()),function Ole(n,e=Dd,t){const i=dw(n,e);return function Ple(n,e){return de((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,d=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),d&&i.complete())},p=()=>{c=null,d&&i.complete()},g=b=>c=De(n(b)).subscribe(be(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!d&&g(b)}};t.subscribe(be(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{d=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){if(this.user&&0!=this.debuxValue){const t={Debux:this.debuxValue};return this.upgradesUpdated&&(t.upgrades=this.upgradesUpdated),this.autosaveDate=new Date,Kt(this.db.doc(`User/${this.user?.uid}`).update(t)).pipe(_e(()=>{this.debuxValue=0,console.log("cleared")}))}return Ie(void 0)}getDebux(){return this.authState$.pipe(Gt(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(_e(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),Ie(void 0))))}sendUpgrades(t){this.db.collection("User").doc(this.user?.uid).set({upgrades:t},{merge:!0})}getUpgrades(){return this.authState$.pipe(Gt(t=>t?this.db.collection("User").doc(t.uid).valueChanges().pipe(_e(r=>r?r.upgrades||this.upgradesDefault:[])):(console.warn("User not authenticated."),Ie([]))))}static#e=this.\u0275fac=function(i){return new(i||n)(O($0),O(df))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nle(n,e){if(1&n&&(A(0,"p",22),re(1),V()),2&n){const t=Pe();pe(1),Us("DeBux: ",t.debux,"")}}function Fle(n,e){1&n&&(A(0,"p",23),re(1,"Loading Debuxes"),V())}function Lle(n,e){if(1&n&&(A(0,"div",24)(1,"p"),re(2," Logged in as: "),A(3,"span",25),re(4),V()()()),2&n){const t=Pe();pe(4),Xn(t.service.user.displayName)}}function Vle(n,e){1&n&&(A(0,"div",24)(1,"p",26),re(2,"Loading"),V()())}function Ble(n,e){if(1&n){const t=ar();A(0,"div",28),Me("click",function(){nt(t);const r=Pe().$implicit;return ot(Pe().buyUpgrade(r))}),A(1,"div",29)(2,"p"),re(3),V(),A(4,"h4"),re(5),V(),A(6,"div",30)(7,"h4"),re(8),V()()(),A(9,"div",31)(10,"h4"),re(11),V()()()}if(2&n){const t=Pe().$implicit;Qn("box-disabled",!t.affordable),pe(3),Xn(t.name),pe(2),Xn(t.description),pe(3),Us("Cost: ",t.cost,"DB"),pe(3),Xn(t.purchased)}}function Ule(n,e){if(1&n&&(Mh(0),Ct(1,Ble,12,6,"div",27),Rh()),2&n){const t=e.index;pe(1),et("ngIf",t<6)}}function jle(n,e){if(1&n){const t=ar();A(0,"div",28),Me("click",function(){nt(t);const r=Pe().$implicit;return ot(Pe().buyUpgrade(r))}),A(1,"div",29)(2,"p"),re(3),V(),A(4,"h4"),re(5),V(),A(6,"div",30)(7,"h4"),re(8),V()()(),A(9,"div",31)(10,"h4"),re(11),V()()()}if(2&n){const t=Pe().$implicit;Qn("box-disabled",!t.affordable),pe(3),Xn(t.name),pe(2),Xn(t.description),pe(3),Us("Cost: ",t.cost,"DB"),pe(3),Xn(t.purchased)}}function zle(n,e){if(1&n&&(Mh(0),Ct(1,jle,12,6,"div",27),Rh()),2&n){const t=e.index;pe(1),et("ngIf",6<=t&&t<11)}}function Hle(n,e){if(1&n){const t=ar();A(0,"div",28),Me("click",function(){nt(t);const r=Pe().$implicit;return ot(Pe().buyUpgrade(r))}),A(1,"div",29)(2,"p"),re(3),V(),A(4,"h4"),re(5),V(),A(6,"div",30)(7,"h4"),re(8),V()()(),A(9,"div",31)(10,"h4"),re(11),V()()()}if(2&n){const t=Pe().$implicit;Qn("box-disabled",!t.affordable),pe(3),Xn(t.name),pe(2),Xn(t.description),pe(3),Us("Cost: ",t.cost,"DB"),pe(3),Xn(t.purchased)}}function $le(n,e){if(1&n&&(Mh(0),Ct(1,Hle,12,6,"div",27),Rh()),2&n){const t=e.index;pe(1),et("ngIf",11<=t)}}let qle=(()=>{class n{constructor(t,i,r){this.service=t,this.zone=i,this.cdr=r,this.timeDifferenceInSeconds=0,this.maxClicks=2,this.clickCount=0,this.debux=0,this.loading=!1,this.upgrades=this.service.upgradesDefault,this.upgradesObs$=this.service.getUpgrades()}ngOnInit(){this.upgradesObs$.pipe(lo(1)).subscribe(t=>{this.upgrades=t,this.service.firstCalc(this.upgrades)}),this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().pipe(lo(1)).subscribe(i=>{this.debux=i||0,this.loading=!1,function Rle(n=0,e=Dd){return n<0&&(n=0),dw(n,n,e)}(1e3).subscribe(()=>{this.zone.run(()=>{this.debux+=this.service.calculateTotalDebuxPerSec(),this.updateAffordability(),this.service.addDebux(this.debux),this.cdr.detectChanges();const o=(new Date).getTime()-this.service.autosaveDate.getTime();this.timeDifferenceInSeconds=Math.floor(o/1e3),30==this.timeDifferenceInSeconds&&(this.clickCount=0)})})}))})}addDebux(){this.debux+=this.service.calculateTotalDebuxPerClick(),this.updateAffordability(),this.service.addDebux(this.debux)}updateAffordability(){this.upgrades.forEach(t=>{t.affordable=t.cost<=this.debux})}buyUpgrade(t){t.affordable&&this.debux-t.cost<t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick),t.affordable=!1):t.affordable&&this.debux-t.cost>=t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick)):console.log("Not enough DeBux for this upgrade."),this.service.addDebux(this.debux),this.service.addUpgrades(this.upgrades),this.updateAffordability()}manualAutosave(){this.clickCount<this.maxClicks&&(this.service.autosave(),this.clickCount++)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Wk),P(Be),P(Fs))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-clicker"]],decls:48,vars:10,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],[3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[4,"ngFor","ngForOf"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"],[1,"loading-text"],["class","box",3,"box-disabled","click",4,"ngIf"],[1,"box",3,"click"],[1,"box-text"],[1,"cost"],[1,"bought"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),Ct(2,Nle,2,1,"p",2)(3,Fle,2,0,"p",3),V(),A(4,"div",4)(5,"button",5),Me("click",function(){return r.addDebux()}),V(),A(6,"div")(7,"p"),re(8),V(),A(9,"a",6),Me("click",function(){return r.manualAutosave()}),re(10,"Save now"),V()()(),Ct(11,Lle,5,1,"div",7)(12,Vle,3,0,"div",7),V(),A(13,"div",8)(14,"div",9)(15,"H1"),re(16,"Upgrades"),V()(),A(17,"div",10)(18,"div",11)(19,"div",12),je(20,"img",13),A(21,"div")(22,"p"),re(23,"Processing Power"),V(),A(24,"h4"),re(25,"Per/Sec"),V()()(),A(26,"div",14),Ct(27,Ule,2,1,"ng-container",15),V()(),A(28,"div",16)(29,"div",17),je(30,"img",18),A(31,"div")(32,"p"),re(33,"Click Impact"),V(),A(34,"h4"),re(35,"Per/Click"),V()()(),A(36,"div",19),Ct(37,zle,2,1,"ng-container",15),V()(),A(38,"div",20)(39,"div",12),je(40,"img",21),A(41,"div")(42,"p"),re(43,"Advanced Algorithms"),V(),A(44,"h4"),re(45,"Specials"),V()()(),A(46,"div",14),Ct(47,$le,2,1,"ng-container",15),V()()()()),2&i&&(pe(2),et("ngIf",!r.loading),pe(1),et("ngIf",r.loading),pe(5),Us("Last autosave: ",r.timeDifferenceInSeconds," seconds ago"),pe(1),Qn("disabled",r.clickCount>=r.maxClicks),pe(2),et("ngIf",r.service.user),pe(1),et("ngIf",!r.service.user),pe(15),et("ngForOf",r.upgrades),pe(10),et("ngForOf",r.upgrades),pe(10),et("ngForOf",r.upgrades))},dependencies:[Rb,zh],styles:[".top[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:20%;background:#313131;border-radius:40px}.loading-text[_ngcontent-%COMP%]{color:#b7514c}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:30%;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}#debug[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6a5988;cursor:pointer;transition:transfrom .3s ease}.clicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{font-size:90%}.clicker[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.clicker[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3% 0 0;font-size:100%}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:20%;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:20px;margin-top:30px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-disabled[_ngcontent-%COMP%]{filter:blur(4px)}.box-disabled[_ngcontent-%COMP%]:hover{cursor:auto;box-shadow:none}.box-disabled[_ngcontent-%COMP%]:active{transform:none}.box-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-top-left-radius:20px;border-bottom-left-radius:20px;width:480px;padding-left:20px}.box-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.cost[_ngcontent-%COMP%]{text-align:center}.cost[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:lighter}.bought[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background:#6A5988;border-top-right-radius:20px;border-bottom-right-radius:20px;width:70px}.bought[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;margin:0;font-size:25px}"]})}return n})();function Gle(n,e){1&n&&(A(0,"h3"),re(1,"<"),A(2,"span",9),re(3,"Loading"),V(),re(4,"> DB"),V())}function Wle(n,e){if(1&n&&(A(0,"h3"),re(1,"<"),A(2,"span",10),re(3),V(),re(4,"> DB"),V()),2&n){const t=Pe();pe(3),Xn(t.debux)}}let Zle=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Wk))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),je(2,"img",2),A(3,"h2"),re(4,"Your credit"),V()(),A(5,"div",3)(6,"p"),re(7,"Current"),V(),A(8,"div",4),Ct(9,Gle,5,0,"h3",5)(10,Wle,5,1,"h3",5),V()(),A(11,"div",3)(12,"p"),re(13,"Per second:"),V(),A(14,"div",6)(15,"h3"),re(16,"+40 DB/s"),V()()(),A(17,"div",7),je(18,"img",8),V()()),2&i&&(pe(9),et("ngIf",r.loading),pe(1),et("ngIf",!r.loading))},dependencies:[zh],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})(),Kle=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(P($0),P(df))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(A(0,"html")(1,"head"),je(2,"meta",0),V(),A(3,"body")(4,"div",1)(5,"div",2),je(6,"app-credit-box"),A(7,"a",3),je(8,"img",4),V()(),A(9,"div",5)(10,"div",6)(11,"div",7),je(12,"img",8),V(),A(13,"div",9)(14,"h2"),re(15),V(),A(16,"p",10),re(17,"50 Followers"),V(),A(18,"div",11)(19,"p"),re(20,"30 Following"),V(),A(21,"p"),re(22,"13 Friends"),V()()(),A(23,"div",12),je(24,"img",13),V()(),A(25,"div",14),je(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),V()(),A(34,"div",23)(35,"h2"),re(36,"Here is friends list"),V(),A(37,"div",24),je(38,"img",25),A(39,"h2"),re(40,"Add friends"),V()()()()()()),2&i&&(pe(15),Xn(null==r.user?null:r.user.displayName))},dependencies:[rf,Zle],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})(),Zk=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn().pipe(_e(r=>(r||this.router.navigate([""]),r)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(D_),O(Ar))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qle=[{path:"",component:kle},{path:"home",component:Tce,canActivate:[Zk]},{path:"admin",component:Mle},{path:"clicker",component:qle,canActivate:[Zk]},{path:"profile",component:Kle,canActivate:[Zk]}];let Yle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[z2.forRoot(Qle,{useHash:!0}),z2]})}return n})(),Xle=(()=>{class n{constructor(t){this.router=t,this.visible=!0,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ar))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(A(0,"app-header"),je(1,"router-outlet"),V())},dependencies:[$T,xk],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"],changeDetection:0})}return n})();function oH(n){return new j(3e3,!1)}function fl(n){switch(n.length){case 0:return new A_;case 1:return n[0];default:return new K3(n)}}function sH(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const d=c.get("offset"),h=d==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case Wa:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=d}),r.length)throw function wde(n){return new j(3502,!1)}();return o}function Kk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Qk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Qk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Qk(t,"destroy",n)))}}function Qk(n,e,t){const o=Yk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Yk(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function po(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function aH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Pde=(()=>typeof document>"u"?null:document.documentElement)();function Xk(n){const e=n.parentNode||n.host||null;return e===Pde?null:e}let ou=null,cH=!1;function lH(n,e){for(;e;){if(e===n)return!0;e=Xk(e)}return!1}function dH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Jk=(()=>{class n{validateStyleProperty(t){return function Nde(n){ou||(ou=function Fde(){return typeof document<"u"?document.body:null}()||{},cH=!!ou.style&&"WebkitAppearance"in ou.style);let e=!0;return ou.style&&!function Ode(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ou.style,!e&&cH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ou.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return lH(t,i)}getParentElement(t){return Xk(t)}query(t,i,r){return dH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new A_(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),eM=(()=>{class n{static#e=this.NOOP=new Jk}return n})();class tM{}const Vde=1e3,nM="ng-enter",cE="ng-leave",lE="ng-trigger",dE=".ng-trigger",hH="ng-animating",iM=".ng-animating";function Za(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:rM(parseFloat(e[1]),e[2])}function rM(n,e){return"s"===e?n*Vde:n}function uE(n,e,t){return n.hasOwnProperty("duration")?n:function Ude(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(oH()),{duration:0,delay:0,easing:""};r=rM(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=rM(parseFloat(c),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Jle(){return new j(3100,!1)}()),a=!0),o<0&&(e.push(function ede(){return new j(3101,!1)}()),a=!0),a&&e.splice(c,0,oH())}return{duration:r,delay:o,easing:s}}(n,e,t)}function O_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function fH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ml(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function na(n,e,t){e.forEach((i,r)=>{const o=sM(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function su(n,e){e.forEach((t,i)=>{const r=sM(i);n.style[r]=""})}function N_(n){return Array.isArray(n)?1==n.length?n[0]:function Jae(n,e=null){return{type:2,steps:n,options:e}}(n):n}const oM=new RegExp("{{\\s*(.+?)\\s*}}","g");function pH(n){let e=[];if("string"==typeof n){let t;for(;t=oM.exec(n);)e.push(t[1]);oM.lastIndex=0}return e}function F_(n,e,t){const i=n.toString(),r=i.replace(oM,(o,s)=>{let a=e[s];return null==a&&(t.push(function nde(n){return new j(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function hE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Hde=/-+([a-z0-9])/g;function sM(n){return n.replace(Hde,(...e)=>e[1].toUpperCase())}function go(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ide(n){return new j(3004,!1)}()}}function gH(n,e){return window.getComputedStyle(n)[e]}const Gde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _H extends tM{normalizePropertyName(e,t){return sM(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Gde.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function rde(n,e){return new j(3005,!1)}())}return s+o}}const fE="*";function Wde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Zde(n,e,t){if(":"==n[0]){const c=function Kde(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function _de(n){return new j(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function gde(n){return new j(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(vH(r,s));"<"==o[0]&&!(r==fE&&s==fE)&&e.push(vH(s,r))}(i,t,e)):t.push(n),t}const mE=new Set(["true","1"]),pE=new Set(["false","0"]);function vH(n,e){const t=mE.has(n)||pE.has(n),i=mE.has(e)||pE.has(e);return(r,o)=>{let s=n==fE||n==r,a=e==fE||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?mE.has(n):pE.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?mE.has(e):pE.has(e)),s&&a}}const Qde=new RegExp("s*:selfs*,?","g");function aM(n,e,t,i){return new Yde(n).build(e,t,i)}class Yde{constructor(e){this._driver=e}build(e,t,i){const r=new eue(t);return this._resetContextStyleTimingState(r),go(this,N_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function ode(){return new j(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function sde(){return new j(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{pH(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(hE(o.values()),t.errors.push(function ade(n,e){return new j(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=go(this,N_(e.animation),t);return{type:1,matchers:Wde(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:au(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>go(this,i,t)),options:au(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=go(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:au(e.options)}}visitAnimate(e,t){const i=function nue(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return cM(uE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=cM(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=uE(t,e);return cM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Z0({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=Z0(d)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Wa?i.push(a):t.errors.push(new j(3002,!1)):i.push(fH(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function lde(n,e,t,i,r){return new j(3010,!1)}()),p=!1),o=h.startTime),p&&d.set(c,{startTime:o,endTime:r}),t.options&&function zde(n,e,t){const i=e.params||{},r=pH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function tde(n){return new j(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function dde(){return new j(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,d=0;const h=e.steps.map(k=>{const S=this._makeStyleAst(k,t);let R=null!=S.offset?S.offset:function tue(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(S.styles),Q=0;return null!=R&&(o++,Q=S.offset=R),c=c||Q<0||Q>1,a=a||Q<d,d=Q,s.push(Q),S});c&&t.errors.push(function ude(){return new j(3012,!1)}()),a&&t.errors.push(function hde(){return new j(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function fde(){return new j(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,E=w.duration;return h.forEach((k,S)=>{const R=g>0?S==v?1:g*S:s[S],Q=R*E;t.currentTime=b+w.delay+Q,w.duration=Q,this._validateStyleAst(k,t),k.offset=R,i.styles.push(k)}),i}visitReference(e,t){return{type:8,animation:go(this,N_(e.animation),t),options:au(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:au(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:au(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Xde(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Qde,"")),n=n.replace(/@\*/g,dE).replace(/@\w+/g,t=>dE+"-"+t.slice(1)).replace(/:animating/g,iM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,po(t.collectedStyles,t.currentQuerySelector,new Map);const a=go(this,N_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:au(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mde(){return new j(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:uE(e.timings,t.errors,!0);return{type:12,animation:go(this,N_(e.animation),t),timings:i,options:null}}}class eue{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function au(n){return n?(n=O_(n)).params&&(n.params=function Jde(n){return n?O_(n):null}(n.params)):n={},n}function cM(n,e,t){return{duration:n,delay:e,easing:t}}function lM(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class gE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oue=new RegExp(":enter","g"),aue=new RegExp(":leave","g");function dM(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return(new cue).buildKeyframes(n,e,t,i,r,o,s,a,c,d)}class cue{buildKeyframes(e,t,i,r,o,s,a,c,d,h=[]){d=d||new gE;const p=new uM(e,t,d,r,o,h,[]);p.options=c;const g=c.delay?Za(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),go(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const E=v[w];if(E.element===t){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[lM(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Za(F_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Za(i.duration):null,a=null!=i.delay?Za(i.delay):null;return 0!==s&&e.forEach(c=>{const d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),go(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_E);const s=Za(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>go(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Za(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),go(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return uE(t.params?F_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Za(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_E);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,d);o&&p.delayNextStep(o),d===t.element&&(c=p.currentTimeline),go(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;go(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const _E={};class uM{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_E,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new vE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Za(i.duration)),null!=i.delay&&(r.delay=Za(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=F_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new uM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=_E,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new lue(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(oue,"."+this._enterClassName)).replace(aue,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function pde(n){return new j(3014,!1)}()),a}}class vE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Wa),this._currentKeyframe.set(t,Wa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function due(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Wa)}else ml(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const d=F_(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Wa),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=ml(a,new Map,this._backFill);d.forEach((h,p)=>{"!"===h?e.add(p):h===Wa&&t.add(p)}),i||d.set("offset",c/this.duration),r.push(d)});const o=e.size?hE(e.values()):[],s=t.size?hE(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return lM(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class lue extends vE{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=ml(e[0]);c.set("offset",0),o.push(c);const d=ml(e[0]);d.set("offset",wH(a)),o.push(d);const h=e.length-1;for(let p=1;p<=h;p++){let g=ml(e[p]);const v=g.get("offset");g.set("offset",wH((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return lM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function wH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function EH(n,e,t,i,r,o,s,a,c,d,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:h,totalTime:p,errors:g}}const hM={};class IH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function uue(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,h){const p=[],g=this.ast.options&&this.ast.options.params||hM,b=this.buildStyles(i,a&&a.params||hM,p),w=c&&c.params||hM,E=this.buildStyles(r,w,p),k=new Set,S=new Map,R=new Map,Q="void"===r,he={params:hue(w,g),delay:this.ast.options?.delay},ye=h?[]:dM(e,t,this.ast.animation,o,s,b,E,he,d,p);let Ke=0;if(ye.forEach(_o=>{Ke=Math.max(_o.duration+_o.delay,Ke)}),p.length)return EH(t,this._triggerName,i,r,Q,b,E,[],[],S,R,Ke,p);ye.forEach(_o=>{const Jr=_o.element,p$=po(S,Jr,new Set);_o.preStyleProps.forEach(uu=>p$.add(uu));const z_=po(R,Jr,new Set);_o.postStyleProps.forEach(uu=>z_.add(uu)),Jr!==t&&k.add(Jr)});const ln=hE(k.values());return EH(t,this._triggerName,i,r,Q,b,E,ye,ln,S,R,Ke)}}function hue(n,e){const t=O_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class fue{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=O_(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=F_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class pue{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new fue(r.style,r.options&&r.options.params||{},i))}),CH(this.states,"true","1"),CH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new IH(e,r,this.states))}),this.fallbackTransition=function gue(n,e,t){return new IH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function CH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _ue=new gE;class vue{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=aM(this._driver,t,i,[]);if(i.length)throw function Ede(n){return new j(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=sH(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=dM(this._driver,t,o,nM,cE,new Map,new Map,i,_ue,r),s.forEach(h=>{const p=po(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function Ide(){return new j(3300,!1)}()),s=[]),r.length)throw function Cde(n){return new j(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,Wa))})});const d=fl(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function xde(n){return new j(3301,!1)}();return t}listen(e,t,i,r){const o=Yk(t,"","","");return Kk(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const xH="ng-animate-queued",fM="ng-animate-disabled",Iue=[],TH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ys="__ng_removed";class mM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Sue(n){return n??null}(i?e.value:e),i){const o=O_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const L_="void",pM=new mM(L_);class xue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Tde(n,e){return new j(3302,!1)}();if(null==i||0==i.length)throw function Dde(n){return new j(3303,!1)}();if(!function Aue(n){return"start"==n||"done"==n}(i))throw function Sde(n,e){return new j(3400,!1)}();const o=po(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=po(this._engine.statesByElement,e,new Map);return a.has(t)||(jo(e,lE),jo(e,lE+"-"+t),a.set(t,pM)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ade(n){return new j(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new gM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(jo(e,lE),jo(e,lE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const d=new mM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=pM),d.value!==L_&&c.value===d.value){if(!function Rue(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,d.params)){const w=[],E=o.matchStyles(c.value,c.params,w),k=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{su(e,E),na(e,k)})}return}const g=po(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,d.value,e,d.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:d,player:s,isFallbackTransition:b}),b||(jo(e,xH),s.onStart(()=>{im(e,xH)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const E=this._engine.playersByElement.get(e);if(E){let k=E.indexOf(s);k>=0&&E.splice(k,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,dE,!0);i.forEach(r=>{if(r[ys])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){const h=this.trigger(e,d,L_,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&fl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,d=i.get(s)||pM,h=new mM(L_),p=new gM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ys];(!o||o===TH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){jo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=Yk(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Kk(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Tue{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new xue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(yE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!yE(t))return;const o=t[ys];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jo(e,fM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),im(e,fM))}removeNode(e,t,i){if(yE(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ys]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return yE(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,dE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,iM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return fl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ys];if(t&&t.setForRemoval){if(e[ys]=TH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(fM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?fl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function kde(n){return new j(3402,!1)}()}_flushAnimations(e,t){const i=new gE,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(Se=>{h.add(Se);const He=this.driver.query(Se,".ng-animate-queued",!0);for(let Ze=0;Ze<He.length;Ze++)h.add(He[Ze])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=AH(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((Se,He)=>{const Ze=nM+w++;b.set(He,Ze),Se.forEach(Nt=>jo(Nt,Ze))});const E=[],k=new Set,S=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){const He=this.collectedLeaveElements[Se],Ze=He[ys];Ze&&Ze.setForRemoval&&(E.push(He),k.add(He),Ze.hasAnimation?this.driver.query(He,".ng-star-inserted",!0).forEach(Nt=>k.add(Nt)):S.add(He))}const R=new Map,Q=AH(g,Array.from(k));Q.forEach((Se,He)=>{const Ze=cE+w++;R.set(He,Ze),Se.forEach(Nt=>jo(Nt,Ze))}),e.push(()=>{v.forEach((Se,He)=>{const Ze=b.get(He);Se.forEach(Nt=>im(Nt,Ze))}),Q.forEach((Se,He)=>{const Ze=R.get(He);Se.forEach(Nt=>im(Nt,Ze))}),E.forEach(Se=>{this.processLeaveNode(Se)})});const he=[],ye=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(t).forEach(Ze=>{const Nt=Ze.player,Bi=Ze.element;if(he.push(Nt),this.collectedEnterElements.length){const pr=Bi[ys];if(pr&&pr.setForMove){if(pr.previousTriggersValues&&pr.previousTriggersValues.has(Ze.triggerName)){const hu=pr.previousTriggersValues.get(Ze.triggerName),Ho=this.statesByElement.get(Ze.element);if(Ho&&Ho.has(Ze.triggerName)){const SE=Ho.get(Ze.triggerName);SE.value=hu,Ho.set(Ze.triggerName,SE)}}return void Nt.destroy()}}const ia=!p||!this.driver.containsElement(p,Bi),vo=R.get(Bi),vl=b.get(Bi),Ln=this._buildInstruction(Ze,i,vl,vo,ia);if(Ln.errors&&Ln.errors.length)return void ye.push(Ln);if(ia)return Nt.onStart(()=>su(Bi,Ln.fromStyles)),Nt.onDestroy(()=>na(Bi,Ln.toStyles)),void r.push(Nt);if(Ze.isFallbackTransition)return Nt.onStart(()=>su(Bi,Ln.fromStyles)),Nt.onDestroy(()=>na(Bi,Ln.toStyles)),void r.push(Nt);const v$=[];Ln.timelines.forEach(pr=>{pr.stretchStartingKeyframe=!0,this.disabledNodes.has(pr.element)||v$.push(pr)}),Ln.timelines=v$,i.append(Bi,Ln.timelines),s.push({instruction:Ln,player:Nt,element:Bi}),Ln.queriedElements.forEach(pr=>po(a,pr,[]).push(Nt)),Ln.preStyleProps.forEach((pr,hu)=>{if(pr.size){let Ho=c.get(hu);Ho||c.set(hu,Ho=new Set),pr.forEach((SE,DM)=>Ho.add(DM))}}),Ln.postStyleProps.forEach((pr,hu)=>{let Ho=d.get(hu);Ho||d.set(hu,Ho=new Set),pr.forEach((SE,DM)=>Ho.add(DM))})});if(ye.length){const Se=[];ye.forEach(He=>{Se.push(function Mde(n,e){return new j(3505,!1)}())}),he.forEach(He=>He.destroy()),this.reportError(Se)}const Ke=new Map,ln=new Map;s.forEach(Se=>{const He=Se.element;i.has(He)&&(ln.set(He,He),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,Ke))}),r.forEach(Se=>{const He=Se.element;this._getPreviousPlayers(He,!1,Se.namespaceId,Se.triggerName,null).forEach(Nt=>{po(Ke,He,[]).push(Nt),Nt.destroy()})});const _o=E.filter(Se=>MH(Se,c,d)),Jr=new Map;SH(Jr,this.driver,S,d,Wa).forEach(Se=>{MH(Se,c,d)&&_o.push(Se)});const z_=new Map;v.forEach((Se,He)=>{SH(z_,this.driver,new Set(Se),c,"!")}),_o.forEach(Se=>{const He=Jr.get(Se),Ze=z_.get(Se);Jr.set(Se,new Map([...He?.entries()??[],...Ze?.entries()??[]]))});const uu=[],g$=[],_$={};s.forEach(Se=>{const{element:He,player:Ze,instruction:Nt}=Se;if(i.has(He)){if(h.has(He))return Ze.onDestroy(()=>na(He,Nt.toStyles)),Ze.disabled=!0,Ze.overrideTotalTime(Nt.totalTime),void r.push(Ze);let Bi=_$;if(ln.size>1){let vo=He;const vl=[];for(;vo=vo.parentNode;){const Ln=ln.get(vo);if(Ln){Bi=Ln;break}vl.push(vo)}vl.forEach(Ln=>ln.set(Ln,Bi))}const ia=this._buildAnimation(Ze.namespaceId,Nt,Ke,o,z_,Jr);if(Ze.setRealPlayer(ia),Bi===_$)uu.push(Ze);else{const vo=this.playersByElement.get(Bi);vo&&vo.length&&(Ze.parentPlayer=fl(vo)),r.push(Ze)}}else su(He,Nt.fromStyles),Ze.onDestroy(()=>na(He,Nt.toStyles)),g$.push(Ze),h.has(He)&&r.push(Ze)}),g$.forEach(Se=>{const He=o.get(Se.element);if(He&&He.length){const Ze=fl(He);Se.setRealPlayer(Ze)}}),r.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<E.length;Se++){const He=E[Se],Ze=He[ys];if(im(He,cE),Ze&&Ze.hasAnimation)continue;let Nt=[];if(a.size){let ia=a.get(He);ia&&ia.length&&Nt.push(...ia);let vo=this.driver.query(He,iM,!0);for(let vl=0;vl<vo.length;vl++){let Ln=a.get(vo[vl]);Ln&&Ln.length&&Nt.push(...Ln)}}const Bi=Nt.filter(ia=>!ia.destroyed);Bi.length?kue(this,He,Bi):this.processLeaveNode(He)}return E.length=0,uu.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();const He=this.players.indexOf(Se);this.players.splice(He,1)}),Se.play()}),uu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==L_;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const d=c.element,h=d!==o,p=po(i,d,[]);this._getPreviousPlayers(d,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}su(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,d=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const E=w[ys];if(E&&E.removedBeforeQueried)return new A_(b.duration,b.delay);const k=w!==c,S=function Mue(n){const e=[];return kH(n,e),e}((i.get(w)||Iue).map(Ke=>Ke.getRealPlayer())).filter(Ke=>!!Ke.element&&Ke.element===w),R=o.get(w),Q=s.get(w),he=sH(this._normalizer,b.keyframes,R,Q),ye=this._buildPlayer(b,he,S);if(b.subTimeline&&r&&p.add(w),k){const Ke=new gM(e,a,w);Ke.setRealPlayer(ye),d.push(Ke)}return ye});d.forEach(b=>{po(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Due(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>jo(b,hH));const v=fl(g);return v.onDestroy(()=>{h.forEach(b=>im(b,hH)),na(c,t.toStyles)}),p.forEach(b=>{po(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new A_(e.duration,e.delay)}}class gM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new A_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Kk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){po(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function yE(n){return n&&1===n.nodeType}function DH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function SH(n,e,t,i,r){const o=[];t.forEach(c=>o.push(DH(c)));const s=[];i.forEach((c,d)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(d,p,r);h.set(p,g),(!g||0==g.length)&&(d[ys]=Cue,s.push(d))}),n.set(d,h)});let a=0;return t.forEach(c=>DH(c,o[a++])),s}function AH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const d=a.parentNode;return c=t.has(d)?d:r.has(d)?1:s(d),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function jo(n,e){n.classList?.add(e)}function im(n,e){n.classList?.remove(e)}function kue(n,e,t){fl(t).onDone(()=>n.processLeaveNode(e))}function kH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof K3?kH(i.players,e):e.push(i)}}function MH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class V_{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Tue(e.body,t,i),this._timelineEngine=new vue(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=aM(this._driver,o,c,[]);if(c.length)throw function bde(n,e){return new j(3404,!1)}();a=function mue(n,e,t){return new pue(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=aH(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=aH(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Oue=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&na(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(na(this._element,this._initialStyles),this._endStyles&&(na(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(su(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),na(this._element,this._initialStyles),this._state=3)}}return n})();function _M(n){let e=null;return n.forEach((t,i)=>{(function Nue(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class RH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:gH(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class PH{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return lH(e,t)}getParentElement(e){return Xk(e)}query(e,t,i){return dH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d=new Map,h=s.filter(v=>v instanceof RH);(function $de(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=function jde(n){return n.length?n[0]instanceof Map?n:n.map(e=>fH(e)):[]}(t).map(v=>ml(v));p=function qde(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,gH(n,a)))}}return e}(e,p,d);const g=function Pue(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=_M(e[0]),e.length>1&&(i=_M(e[e.length-1]))):e instanceof Map&&(t=_M(e)),t||i?new Oue(n,t,i):null}(e,p);return new RH(e,p,c,g)}}const OH="@.disabled";class NH{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==OH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Fue extends NH{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==OH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Lue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Vue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Bue{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const d=this._rendererCache;let h=d.get(r);return h||(h=new NH("",r,this.engine,()=>d.delete(r)),d.set(r,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new Fue(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Uue=(()=>{class n extends V_{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt),O(eM),O(tM),O(Fc))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const FH=[{provide:tM,useFactory:function jue(){return new _H}},{provide:V_,useClass:Uue},{provide:yC,useFactory:function zue(n,e,t){return new Bue(n,e,t)},deps:[bT,V_,Be]}],vM=[{provide:eM,useFactory:()=>new PH},{provide:oh,useValue:"BrowserAnimations"},...FH],LH=[{provide:eM,useClass:Jk},{provide:oh,useValue:"NoopAnimations"},...FH];let Hue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?LH:vM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({providers:vM,imports:[ML]})}return n})(),VH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({providers:[VH]})}return n})(),Wue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Xr,Xr]})}return n})(),Ihe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Gue,Pb,Xr,q3,Yae,Wue]})}return n})(),xhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Xr,q3,Xr]})}return n})();class wE{}class EE{}class zo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class The{encodeKey(e){return $H(e)}encodeValue(e){return $H(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const She=/%(\d[a-f0-9])/gi,Ahe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $H(n){return encodeURIComponent(n).replace(She,(e,t)=>Ahe[t]??e)}function IE(n){return`${n}`}class pl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new The,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dhe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(IE):[IE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new pl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(IE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(IE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class khe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function GH(n){return typeof Blob<"u"&&n instanceof Blob}function WH(n){return typeof FormData<"u"&&n instanceof FormData}class B_{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Mhe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new zo),this.context||(this.context=new khe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new pl,this.urlWithParams=t}serializeBody(){return null===this.body?null:qH(this.body)||GH(this.body)||WH(this.body)||function Rhe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WH(this.body)?null:GH(this.body)?this.body.type||null:qH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new B_(t,i,o,{params:d,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var gl=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(gl||{});class bM{constructor(e,t=200,i="OK"){this.headers=e.headers||new zo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class CE extends bM{constructor(e={}){super(e),this.type=gl.ResponseHeader}clone(e={}){return new CE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cu extends bM{constructor(e={}){super(e),this.type=gl.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rm extends bM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function wM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let EM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof B_)o=t;else{let c,d;c=r.headers instanceof zo?r.headers:new zo(r.headers),r.params&&(d=r.params instanceof pl?r.params:new pl({fromObject:r.params})),o=new B_(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Ie(o).pipe(Hh(c=>this.handler.handle(c)));if(t instanceof B_||"events"===r.observe)return s;const a=s.pipe(Hn(c=>c instanceof cu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_e(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(_e(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(_e(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(_e(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new pl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,wM(r,i))}post(t,i,r={}){return this.request("POST",t,wM(r,i))}put(t,i,r={}){return this.request("PUT",t,wM(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(wE))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function KH(n,e){return e(n)}function Lhe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Bhe=new X(""),U_=new X(""),QH=new X(""),YH=new X("");function Uhe(){let n=null;return(e,t)=>{null===n&&(n=(ce(Bhe,{optional:!0})??[]).reduceRight(Lhe,KH));const i=ce(ub),r=i.add();return n(e,t).pipe($h(()=>i.remove(r)))}}let XH=(()=>{class n extends wE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ce(ub);const r=ce(YH,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(U_),...this.injector.get(QH,[])]));this.chain=r.reduceRight((o,s)=>function Vhe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),KH)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe($h(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(EE),O(ro))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const qhe=/^\)\]\}',?\n/;let e$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new j(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Kt(i.\u0275loadImpl()):Ie(null)).pipe(Gt(()=>new Et(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,E)=>s.setRequestHeader(w,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const w=s.statusText||"OK",E=new zo(s.getAllResponseHeaders()),k=function Ghe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new CE({headers:E,status:s.status,statusText:w,url:k}),c},h=()=>{let{headers:w,status:E,statusText:k,url:S}=d(),R=null;204!==E&&(R=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=R?200:0);let Q=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof R){const he=R;R=R.replace(qhe,"");try{R=""!==R?JSON.parse(R):null}catch(ye){R=he,Q&&(Q=!1,R={error:ye,text:R})}}Q?(o.next(new cu({body:R,headers:w,status:E,statusText:k,url:S||void 0})),o.complete()):o.error(new rm({error:R,headers:w,status:E,statusText:k,url:S||void 0}))},p=w=>{const{url:E}=d(),k=new rm({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(k)};let g=!1;const v=w=>{g||(o.next(d()),g=!0);let E={type:gl.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=w=>{let E={type:gl.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:gl.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(O(pL))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const xM=new X("XSRF_ENABLED"),t$=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),n$=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class i${}let Khe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=oL(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(O(bt),O(as),O(t$))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function Qhe(n,e){const t=n.url.toLowerCase();if(!ce(xM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ce(i$).getToken(),r=ce(n$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var _l=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(_l||{});function Yhe(...n){const e=[EM,e$,XH,{provide:wE,useExisting:XH},{provide:EE,useExisting:e$},{provide:U_,useValue:Qhe,multi:!0},{provide:xM,useValue:!0},{provide:i$,useClass:Khe}];for(const t of n)e.push(...t.\u0275providers);return function th(n){return{\u0275providers:n}}(e)}const r$=new X("LEGACY_INTERCEPTOR_FN");function Xhe(){return function lu(n,e){return{\u0275kind:n,\u0275providers:e}}(_l.LegacyInterceptors,[{provide:r$,useFactory:Uhe},{provide:U_,useExisting:r$,multi:!0}])}let Jhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({providers:[Yhe(Xhe())]})}return n})(),dfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n});static#n=this.\u0275inj=Ot({imports:[Xr,Xr]})}return n})(),ufe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ht({type:n,bootstrap:[Xle]});static#n=this.\u0275inj=Ot({providers:[D_,Wk],imports:[ML,Yle,Cle,Hue,pce,Ihe,xhe,dfe,wce,Jhe,ute.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),gte,Kse,Pee]})}return n})();ZQ().bootstrapModule(ufe).catch(n=>console.error(n))},106:($o,fi,Xe)=>{Xe.d(fi,{Z:()=>Wn});var I=Xe(58),xe=Xe(537),H=Xe(534),qe=Xe(879);class En{constructor(rt,ut){this._delegate=rt,this.firebase=ut,(0,H._addComponent)(rt,new xe.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(rt,ut=H._DEFAULT_ENTRY_NAME){var Zn;this._delegate.checkDestroyed();const Ii=this._delegate.container.getProvider(rt);return!Ii.isInitialized()&&"EXPLICIT"===(null===(Zn=Ii.getComponent())||void 0===Zn?void 0:Zn.instantiationMode)&&Ii.initialize(),Ii.getImmediate({identifier:ut})}_removeServiceInstance(rt,ut=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(ut)}_addComponent(rt){(0,H._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,H._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Vn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Ft(){const Lt=function Ei(Lt){const rt={},ut={__esModule:!0,initializeApp:function on(ht,mi={}){const ee=H.initializeApp(ht,mi);if((0,I.r3)(rt,ee.name))return rt[ee.name];const In=new Lt(ee,ut);return rt[ee.name]=In,In},app:Ii,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Vt(ht){const mi=ht.name,ee=mi.replace("-compat","");if(H._registerComponent(ht)&&"PUBLIC"===ht.type){const In=(Cn=Ii())=>{if("function"!=typeof Cn[ee])throw Vn.create("invalid-app-argument",{appName:mi});return Cn[ee]()};void 0!==ht.serviceProps&&(0,I.ZB)(In,ht.serviceProps),ut[ee]=In,Lt.prototype[ee]=function(...Cn){return this._getService.bind(this,mi).apply(this,ht.multipleInstances?Cn:[])}}return"PUBLIC"===ht.type?ut[ee]:null},removeApp:function Zn(ht){delete rt[ht]},useAsService:function Ui(ht,mi){return"serverAuth"===mi?null:mi},modularAPIs:H}};function Ii(ht){if(!(0,I.r3)(rt,ht=ht||H._DEFAULT_ENTRY_NAME))throw Vn.create("no-app",{appName:ht});return rt[ht]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function Dt(){return Object.keys(rt).map(ht=>rt[ht])}}),Ii.App=Lt,ut}(En);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:Ft,extendNamespace:function rt(ut){(0,I.ZB)(Lt,ut)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Lt}(),ae=new qe.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Wn=te;!function Tt(Lt){(0,H.registerVersion)("@firebase/app-compat","0.2.23",Lt)}()},534:($o,fi,Xe)=>{Xe.r(fi),Xe.d(fi,{FirebaseError:()=>qe.ZR,SDK_VERSION:()=>Yo,_DEFAULT_ENTRY_NAME:()=>vr,_addComponent:()=>bo,_addOrOverwriteComponent:()=>tr,_apps:()=>yr,_clearComponents:()=>Ko,_components:()=>Zo,_getProvider:()=>bs,_registerComponent:()=>wo,_removeServiceInstance:()=>ws,deleteApp:()=>eo,getApp:()=>Ya,getApps:()=>Xa,initializeApp:()=>wl,onLog:()=>ra,registerVersion:()=>Es,setLogLevel:()=>Et});var I=Xe(861),xe=Xe(537),H=Xe(879),qe=Xe(58);const En=($,L)=>L.some(oe=>$ instanceof oe);let Je,Vn;const te=new WeakMap,ae=new WeakMap,Te=new WeakMap,at=new WeakMap,Tt=new WeakMap;let rt={get($,L,oe){if($ instanceof IDBTransaction){if("done"===L)return ae.get($);if("objectStoreNames"===L)return $.objectStoreNames||Te.get($);if("store"===L)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return on($[L])},set:($,L,oe)=>($[L]=oe,!0),has:($,L)=>$ instanceof IDBTransaction&&("done"===L||"store"===L)||L in $};function Ii($){return"function"==typeof $?function Zn($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ft(){return Vn||(Vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...L){return $.apply(Dt(this),L),on(te.get(this))}:function(...L){return on($.apply(Dt(this),L))}:function(L,...oe){const ke=$.call(Dt(this),L,...oe);return Te.set(ke,L.sort?L.sort():[L]),on(ke)}}($):($ instanceof IDBTransaction&&function Lt($){if(ae.has($))return;const L=new Promise((oe,ke)=>{const De=()=>{$.removeEventListener("complete",mt),$.removeEventListener("error",At),$.removeEventListener("abort",At)},mt=()=>{oe(),De()},At=()=>{ke($.error||new DOMException("AbortError","AbortError")),De()};$.addEventListener("complete",mt),$.addEventListener("error",At),$.addEventListener("abort",At)});ae.set($,L)}($),En($,function Ei(){return Je||(Je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,rt):$)}function on($){if($ instanceof IDBRequest)return function Wn($){const L=new Promise((oe,ke)=>{const De=()=>{$.removeEventListener("success",mt),$.removeEventListener("error",At)},mt=()=>{oe(on($.result)),De()},At=()=>{ke($.error),De()};$.addEventListener("success",mt),$.addEventListener("error",At)});return L.then(oe=>{oe instanceof IDBCursor&&te.set(oe,$)}).catch(()=>{}),Tt.set(L,$),L}($);if(at.has($))return at.get($);const L=Ii($);return L!==$&&(at.set($,L),Tt.set(L,$)),L}const Dt=$=>Tt.get($),ht=["get","getKey","getAll","getAllKeys","count"],mi=["put","add","delete","clear"],ee=new Map;function In($,L){if(!($ instanceof IDBDatabase)||L in $||"string"!=typeof L)return;if(ee.get(L))return ee.get(L);const oe=L.replace(/FromIndex$/,""),ke=L!==oe,De=mi.includes(oe);if(!(oe in(ke?IDBIndex:IDBObjectStore).prototype)||!De&&!ht.includes(oe))return;const mt=function(){var At=(0,I.Z)(function*(gi,...Nn){const Jo=this.transaction(gi,De?"readwrite":"readonly");let ec=Jo.store;return ke&&(ec=ec.index(Nn.shift())),(yield Promise.all([ec[oe](...Nn),De&&Jo.done]))[0]});return function(Nn){return At.apply(this,arguments)}}();return ee.set(L,mt),mt}!function ut($){rt=$(rt)}($=>({...$,get:(L,oe,ke)=>In(L,oe)||$.get(L,oe,ke),has:(L,oe)=>!!In(L,oe)||$.has(L,oe)}));class Cn{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Nr($){const L=$.getComponent();return"VERSION"===L?.type}(oe)){const ke=oe.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(oe=>oe).join(" ")}}const qo="@firebase/app",er=new H.Yd("@firebase/app"),vr="[DEFAULT]",bl={[qo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yr=new Map,Zo=new Map;function bo($,L){try{$.container.addComponent(L)}catch(oe){er.debug(`Component ${L.name} failed to register with FirebaseApp ${$.name}`,oe)}}function tr($,L){$.container.addOrOverwriteComponent(L)}function wo($){const L=$.name;if(Zo.has(L))return er.debug(`There were multiple attempts to register component ${L}.`),!1;Zo.set(L,$);for(const oe of yr.values())bo(oe,$);return!0}function bs($,L){const oe=$.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),$.container.getProvider(L)}function ws($,L,oe=vr){bs($,L).clearInstance(oe)}function Ko(){Zo.clear()}const Lr=new qe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(L,oe,ke){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new xe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const Yo="10.6.0";function wl($,L={}){let oe=$;"object"!=typeof L&&(L={name:L});const ke=Object.assign({name:vr,automaticDataCollectionEnabled:!1},L),De=ke.name;if("string"!=typeof De||!De)throw Lr.create("bad-app-name",{appName:String(De)});if(oe||(oe=(0,qe.aH)()),!oe)throw Lr.create("no-options");const mt=yr.get(De);if(mt){if((0,qe.vZ)(oe,mt.options)&&(0,qe.vZ)(ke,mt.config))return mt;throw Lr.create("duplicate-app",{appName:De})}const At=new xe.H0(De);for(const Nn of Zo.values())At.addComponent(Nn);const gi=new Ci(oe,ke,At);return yr.set(De,gi),gi}function Ya($=vr){const L=yr.get($);if(!L&&$===vr&&(0,qe.aH)())return wl();if(!L)throw Lr.create("no-app",{appName:$});return L}function Xa(){return Array.from(yr.values())}function eo($){return xi.apply(this,arguments)}function xi(){return(xi=(0,I.Z)(function*($){const L=$.name;yr.has(L)&&(yr.delete(L),yield Promise.all($.container.getProviders().map(oe=>oe.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Es($,L,oe){var ke;let De=null!==(ke=bl[$])&&void 0!==ke?ke:$;oe&&(De+=`-${oe}`);const mt=De.match(/\s|\//),At=L.match(/\s|\//);if(mt||At){const gi=[`Unable to register library "${De}" with version "${L}":`];return mt&&gi.push(`library name "${De}" contains illegal characters (whitespace or "/")`),mt&&At&&gi.push("and"),At&&gi.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void er.warn(gi.join(" "))}wo(new xe.wA(`${De}-version`,()=>({library:De,version:L}),"VERSION"))}function ra($,L){if(null!==$&&"function"!=typeof $)throw Lr.create("invalid-log-argument");(0,H.Am)($,L)}function Et($){(0,H.Ub)($)}const Ja="firebase-heartbeat-database",El=1,D="firebase-heartbeat-store";let C=null;function T(){return C||(C=function Vt($,L,{blocked:oe,upgrade:ke,blocking:De,terminated:mt}={}){const At=indexedDB.open($,L),gi=on(At);return ke&&At.addEventListener("upgradeneeded",Nn=>{ke(on(At.result),Nn.oldVersion,Nn.newVersion,on(At.transaction),Nn)}),oe&&At.addEventListener("blocked",Nn=>oe(Nn.oldVersion,Nn.newVersion,Nn)),gi.then(Nn=>{mt&&Nn.addEventListener("close",()=>mt()),De&&Nn.addEventListener("versionchange",Jo=>De(Jo.oldVersion,Jo.newVersion,Jo))}).catch(()=>{}),gi}(Ja,El,{upgrade:($,L)=>{0===L&&$.createObjectStore(D)}}).catch($=>{throw Lr.create("idb-open",{originalErrorMessage:$.message})})),C}function F(){return(F=(0,I.Z)(function*($){try{return yield(yield T()).transaction(D).objectStore(D).get(ft($))}catch(L){if(L instanceof qe.ZR)er.warn(L.message);else{const oe=Lr.create("idb-get",{originalErrorMessage:L?.message});er.warn(oe.message)}}})).apply(this,arguments)}function de($,L){return be.apply(this,arguments)}function be(){return(be=(0,I.Z)(function*($,L){try{const ke=(yield T()).transaction(D,"readwrite");yield ke.objectStore(D).put(L,ft($)),yield ke.done}catch(oe){if(oe instanceof qe.ZR)er.warn(oe.message);else{const ke=Lr.create("idb-set",{originalErrorMessage:oe?.message});er.warn(ke.message)}}})).apply(this,arguments)}function ft($){return`${$.name}!${$.options.appId}`}class Un{constructor(L){this.container=L,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Eo(oe),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var L=this;return(0,I.Z)(function*(){var oe;const De=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=ct();if(null==(null===(oe=L._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)&&(L._heartbeatsCache=yield L._heartbeatsCachePromise),L._heartbeatsCache.lastSentHeartbeatDate!==mt&&!L._heartbeatsCache.heartbeats.some(At=>At.date===mt))return L._heartbeatsCache.heartbeats.push({date:mt,agent:De}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(At=>{const gi=new Date(At.date).valueOf();return Date.now()-gi<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,I.Z)(function*(){var oe;if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null==(null===(oe=L._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||0===L._heartbeatsCache.heartbeats.length)return"";const ke=ct(),{heartbeatsToSend:De,unsentEntries:mt}=function ji($,L=1024){const oe=[];let ke=$.slice();for(const De of $){const mt=oe.find(At=>At.agent===De.agent);if(mt){if(mt.dates.push(De.date),Xo(oe)>L){mt.dates.pop();break}}else if(oe.push({agent:De.agent,dates:[De.date]}),Xo(oe)>L){oe.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:oe,unsentEntries:ke}}(L._heartbeatsCache.heartbeats),At=(0,qe.L)(JSON.stringify({version:2,heartbeats:De}));return L._heartbeatsCache.lastSentHeartbeatDate=ke,mt.length>0?(L._heartbeatsCache.heartbeats=mt,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),At})()}}function ct(){return(new Date).toISOString().substring(0,10)}class Eo{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,qe.hl)()&&(0,qe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,I.Z)(function*(){return(yield L._canUseIndexedDBPromise)&&(yield function Z($){return F.apply(this,arguments)}(L.app))||{heartbeats:[]}})()}overwrite(L){var oe=this;return(0,I.Z)(function*(){var ke;if(yield oe._canUseIndexedDBPromise){const mt=yield oe.read();return de(oe.app,{lastSentHeartbeatDate:null!==(ke=L.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var oe=this;return(0,I.Z)(function*(){var ke;if(yield oe._canUseIndexedDBPromise){const mt=yield oe.read();return de(oe.app,{lastSentHeartbeatDate:null!==(ke=L.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...L.heartbeats]})}})()}}function Xo($){return(0,qe.L)(JSON.stringify({version:2,heartbeats:$})).length}!function fu($){wo(new xe.wA("platform-logger",L=>new Cn(L),"PRIVATE")),wo(new xe.wA("heartbeat",L=>new Un(L),"PRIVATE")),Es(qo,"0.9.23",$),Es(qo,"0.9.23","esm2017"),Es("fire-js","")}("")},537:($o,fi,Xe)=>{Xe.d(fi,{H0:()=>Ei,wA:()=>H});var I=Xe(861),xe=Xe(58);class H{constructor(te,ae,Te){this.name=te,this.instanceFactory=ae,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const qe="[DEFAULT]";class En{constructor(te,ae){this.name=te,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ae=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ae)){const Te=new xe.BH;if(this.instancesDeferred.set(ae,Te),this.isInitialized(ae)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ae});at&&Te.resolve(at)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(te){var ae;const Te=this.normalizeInstanceIdentifier(te?.identifier),at=null!==(ae=te?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Tt){if(at)return null;throw Tt}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Vn(Ft){return"EAGER"===Ft.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:qe})}catch{}for(const[ae,Te]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ae);try{const Tt=this.getOrInitializeService({instanceIdentifier:at});Te.resolve(Tt)}catch{}}}}clearInstance(te=qe){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,I.Z)(function*(){const ae=Array.from(te.instances.values());yield Promise.all([...ae.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ae.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=qe){return this.instances.has(te)}getOptions(te=qe){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ae={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:Te,options:ae});for(const[Tt,Wn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Tt)&&Wn.resolve(at);return at}onInit(te,ae){var Te;const at=this.normalizeInstanceIdentifier(ae),Tt=null!==(Te=this.onInitCallbacks.get(at))&&void 0!==Te?Te:new Set;Tt.add(te),this.onInitCallbacks.set(at,Tt);const Wn=this.instances.get(at);return Wn&&te(Wn,at),()=>{Tt.delete(te)}}invokeOnInitCallbacks(te,ae){const Te=this.onInitCallbacks.get(ae);if(Te)for(const at of Te)try{at(te,ae)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ae={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ft=te,Ft===qe?void 0:Ft),options:ae}),this.instances.set(te,Te),this.instancesOptions.set(te,ae),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch{}var Ft;return Te||null}normalizeInstanceIdentifier(te=qe){return this.component?this.component.multipleInstances?te:qe:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ei{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ae=this.getProvider(te.name);if(ae.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ae.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ae=new En(te,this);return this.providers.set(te,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:($o,fi,Xe)=>{Xe.d(fi,{Am:()=>Ft,Ub:()=>Ei,Yd:()=>Vn,in:()=>xe});const I=[];var xe=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(xe||{});const H={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},qe=xe.INFO,En={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Je=(te,ae,...Te)=>{if(ae<te.logLevel)return;const at=(new Date).toISOString(),Tt=En[ae];if(!Tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Tt](`[${at}]  ${te.name}:`,...Te)};class Vn{constructor(ae){this.name=ae,this._logLevel=qe,this._logHandler=Je,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in xe))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?H[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...ae),this._logHandler(this,xe.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...ae),this._logHandler(this,xe.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...ae),this._logHandler(this,xe.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...ae),this._logHandler(this,xe.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...ae),this._logHandler(this,xe.ERROR,...ae)}}function Ei(te){I.forEach(ae=>{ae.setLogLevel(te)})}function Ft(te,ae){for(const Te of I){let at=null;ae&&ae.level&&(at=H[ae.level]),Te.userLogHandler=null===te?null:(Tt,Wn,...Lt)=>{const rt=Lt.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");Wn>=(at??Tt.logLevel)&&te({level:xe[Wn].toLowerCase(),message:rt,args:Lt,type:Tt.name})}}}},956:($o,fi,Xe)=>{Xe.r(fi);var I=Xe(861),xe=Xe(106),H=Xe(58),qe=Xe(534),En=Xe(879),Je=Xe(582),Vn=Xe(537);const Ft={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Wn=function at(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Lt=function Tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zn=new En.Yd("@firebase/auth");function on(f,...l){Zn.logLevel<=En.in.ERROR&&Zn.error(`Auth (${qe.SDK_VERSION}): ${f}`,...l)}function Dt(f,...l){throw mi(f,...l)}function Vt(f,...l){return mi(f,...l)}function Ui(f,l,u){const m=Object.assign(Object.assign({},Lt()),{[l]:u});return new H.LL("auth","Firebase",m).create(l,{appName:f.name})}function ht(f,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&Dt(f,"argument-error"),Ui(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mi(f,...l){if("string"!=typeof f){const u=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(u,...m)}return rt.create(f,...l)}function ee(f,l,...u){if(!f)throw mi(l,...u)}function In(f){const l="INTERNAL ASSERTION FAILED: "+f;throw on(l),new Error(l)}function Cn(f,l){f||In(l)}function Nr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function qo(){return"http:"===yo()||"https:"===yo()}function yo(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Fr{constructor(l,u){this.shortDelay=l,this.longDelay=u,Cn(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function er(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qo()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function B(f,l){Cn(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class z{static initialize(l,u,m){this.fetchImpl=l,u&&(this.headersImpl=u),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},W=new Fr(3e4,6e4);function ne(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function J(f,l,u,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,I.Z)(function*(f,l,u,m,_={}){return gt(f,_,(0,I.Z)(function*(){let y={},x={};m&&("GET"===l?x=m:y={body:JSON.stringify(m)});const M=(0,H.xO)(Object.assign({key:f.config.apiKey},x)).slice(1),G=yield f._getAdditionalHeaders();return G["Content-Type"]="application/json",f.languageCode&&(G["X-Firebase-Locale"]=f.languageCode),z.fetch()(On(f,f.config.apiHost,u,M),Object.assign({method:l,headers:G,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function gt(f,l,u){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,I.Z)(function*(f,l,u){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},Y),l);try{const _=new pi(f),y=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const x=yield y.json();if("needConfirmation"in x)throw Kn(f,"account-exists-with-different-credential",x);if(y.ok&&!("errorMessage"in x))return x;{const M=y.ok?x.errorMessage:x.error.message,[G,fe]=M.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===G)throw Kn(f,"credential-already-in-use",x);if("EMAIL_EXISTS"===G)throw Kn(f,"email-already-in-use",x);if("USER_DISABLED"===G)throw Kn(f,"user-disabled",x);const we=m[G]||G.toLowerCase().replace(/[_\s]+/g,"-");if(fe)throw Ui(f,we,fe);Dt(f,we)}}catch(_){if(_ instanceof H.ZR)throw _;Dt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ne(f,l,u,m){return St.apply(this,arguments)}function St(){return(St=(0,I.Z)(function*(f,l,u,m,_={}){const y=yield J(f,l,u,m,_);return"mfaPendingCredential"in y&&Dt(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function On(f,l,u,m){const _=`${l}${u}?${m}`;return f.config.emulator?B(f.config,_):`${f.config.apiScheme}://${_}`}function Fe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,m)=>{this.timer=setTimeout(()=>m(Vt(this.auth,"network-request-failed")),W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(f,l,u){const m={appName:f.name};u.email&&(m.email=u.email),u.phoneNumber&&(m.phoneNumber=u.phoneNumber);const _=Vt(f,l,m);return _.customData._tokenResponse=u,_}function ii(f){return void 0!==f&&void 0!==f.getResponse}function Pt(f){return void 0!==f&&void 0!==f.enterprise}class gr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Fe(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Go(){return(Go=(0,I.Z)(function*(f){return(yield J(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _r(f,l){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,I.Z)(function*(f,l){return J(f,"GET","/v2/recaptchaConfig",ne(f,l))})).apply(this,arguments)}function vr(){return(vr=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function yr(){return(yr=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function bo(){return(bo=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function tr(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function ws(){return(ws=(0,I.Z)(function*(f,l=!1){const u=(0,H.m9)(f),m=yield u.getIdToken(l),_=Qo(m);ee(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,x=y?.sign_in_provider;return{claims:_,token:m,authTime:tr(Ko(_.auth_time)),issuedAtTime:tr(Ko(_.iat)),expirationTime:tr(Ko(_.exp)),signInProvider:x||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Ko(f){return 1e3*Number(f)}function Qo(f){const[l,u,m]=f.split(".");if(void 0===l||void 0===u||void 0===m)return on("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,H.tV)(u);return _?JSON.parse(_):(on("Failed to decode base64 JWT payload"),null)}catch(_){return on("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ci(f,l){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,I.Z)(function*(f,l,u=!1){if(u)return l;try{return yield l}catch(m){throw m instanceof H.ZR&&function wl({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class Ya{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,I.Z)(function*(){yield u.iteration()}),m)}iteration(){var l=this;return(0,I.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Xa{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function eo(f){return xi.apply(this,arguments)}function xi(){return xi=(0,I.Z)(function*(f){var l;const u=f.auth,m=yield f.getIdToken(),_=yield Ci(f,function Zo(f,l){return bo.apply(this,arguments)}(u,{idToken:m}));ee(_?.users.length,u,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const x=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Ja(f){return f.map(l=>{var{providerId:u}=l,m=(0,Je._T)(l,["providerId"]);return{providerId:u,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],M=function Et(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,x),we=!!f.isAnonymous&&!(f.email&&y.passwordHash||M?.length),Ce={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:M,metadata:new Xa(y.createdAt,y.lastLoginAt),isAnonymous:we};Object.assign(f,Ce)}),xi.apply(this,arguments)}function ra(){return(ra=(0,I.Z)(function*(f){const l=(0,H.m9)(f);yield eo(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,I.Z)(function*(f,l){const u=yield gt(f,{},(0,I.Z)(function*(){const m=(0,H.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,x=On(f,_,"/v1/token",`key=${y}`),M=yield f._getAdditionalHeaders();return M["Content-Type"]="application/x-www-form-urlencoded",z.fetch()(x,{method:"POST",headers:M,body:m})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function T(){return(T=(0,I.Z)(function*(f,l){return J(f,"POST","/v2/accounts:revokeToken",ne(f,l))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ee(l.idToken,"internal-error"),ee(typeof l.idToken<"u","internal-error"),ee(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Lr(f){const l=Qo(f);return ee(l,"internal-error"),ee(typeof l.exp<"u","internal-error"),ee(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var m=this;return(0,I.Z)(function*(){return ee(!m.accessToken||m.refreshToken,l,"user-token-expired"),u||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var m=this;return(0,I.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:x}=yield function El(f,l){return D.apply(this,arguments)}(l,u);m.updateTokensAndExpiration(_,y,Number(x))})()}updateTokensAndExpiration(l,u,m){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,u){const{refreshToken:m,accessToken:_,expirationTime:y}=u,x=new Z;return m&&(ee("string"==typeof m,"internal-error",{appName:l}),x.refreshToken=m),_&&(ee("string"==typeof _,"internal-error",{appName:l}),x.accessToken=_),y&&(ee("number"==typeof y,"internal-error",{appName:l}),x.expirationTime=y),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return In("not implemented")}}function F(f,l){ee("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class de{constructor(l){var{uid:u,auth:m,stsTokenManager:_}=l,y=(0,Je._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ya(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Xa(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,I.Z)(function*(){const m=yield Ci(u,u.stsTokenManager.getToken(u.auth,l));return ee(m,u.auth,"internal-error"),u.accessToken!==m&&(u.accessToken=m,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),m})()}getIdTokenResult(l){return function bs(f){return ws.apply(this,arguments)}(this,l)}reload(){return function Es(f){return ra.apply(this,arguments)}(this)}_assign(l){this!==l&&(ee(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new de(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var m=this;return(0,I.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),u&&(yield eo(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,I.Z)(function*(){const u=yield l.getIdToken();return yield Ci(l,function Qa(f,l){return vr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var m,_,y,x,M,G,fe,we;const Ce=null!==(m=u.displayName)&&void 0!==m?m:void 0,Mn=null!==(_=u.email)&&void 0!==_?_:void 0,Hr=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,Ju=null!==(x=u.photoURL)&&void 0!==x?x:void 0,MI=null!==(M=u.tenantId)&&void 0!==M?M:void 0,Jm=null!==(G=u._redirectEventId)&&void 0!==G?G:void 0,ry=null!==(fe=u.createdAt)&&void 0!==fe?fe:void 0,oy=null!==(we=u.lastLoginAt)&&void 0!==we?we:void 0,{uid:Ps,emailVerified:ep,isAnonymous:eh,providerData:Tc,stsTokenManager:th}=u;ee(Ps&&th,l,"internal-error");const RI=Z.fromJSON(this.name,th);ee("string"==typeof Ps,l,"internal-error"),F(Ce,l.name),F(Mn,l.name),ee("boolean"==typeof ep,l,"internal-error"),ee("boolean"==typeof eh,l,"internal-error"),F(Hr,l.name),F(Ju,l.name),F(MI,l.name),F(Jm,l.name),F(ry,l.name),F(oy,l.name);const nh=new de({uid:Ps,auth:l,email:Mn,emailVerified:ep,displayName:Ce,isAnonymous:eh,photoURL:Ju,phoneNumber:Hr,tenantId:MI,stsTokenManager:RI,createdAt:ry,lastLoginAt:oy});return Tc&&Array.isArray(Tc)&&(nh.providerData=Tc.map(sy=>Object.assign({},sy))),Jm&&(nh._redirectEventId=Jm),nh}static _fromIdTokenResponse(l,u,m=!1){return(0,I.Z)(function*(){const _=new Z;_.updateFromServerResponse(u);const y=new de({uid:u.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield eo(y),y})()}}const be=new Map;function ft(f){Cn(f instanceof Function,"Expected a class definition");let l=be.get(f);return l?(Cn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,be.set(f,l),l)}const Zt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(u,m){var _=this;return(0,I.Z)(function*(){_.storage[u]=m})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=m.storage[u];return void 0===_?null:_})()}_remove(u){var m=this;return(0,I.Z)(function*(){delete m.storage[u]})()}_addListener(u,m){}_removeListener(u,m){}}return f.type="NONE",f})();function Un(f,l,u){return`firebase:${f}:${l}:${u}`}class ct{constructor(l,u,m){this.persistence=l,this.auth=u,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=Un(this.userKey,_.apiKey,y),this.fullPersistenceKey=Un("persistence",_.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,I.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?de._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,I.Z)(function*(){if(u.persistence===l)return;const m=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,m?u.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,m="authUser"){return(0,I.Z)(function*(){if(!u.length)return new ct(ft(Zt),l,m);const _=(yield Promise.all(u.map(function(){var fe=(0,I.Z)(function*(we){if(yield we._isAvailable())return we});return function(we){return fe.apply(this,arguments)}}()))).filter(fe=>fe);let y=_[0]||ft(Zt);const x=Un(m,l.config.apiKey,l.name);let M=null;for(const fe of u)try{const we=yield fe._get(x);if(we){const Ce=de._fromJSON(l,we);fe!==y&&(M=Ce),y=fe;break}}catch{}const G=_.filter(fe=>fe._shouldAllowMigration);return y._shouldAllowMigration&&G.length?(y=G[0],M&&(yield y._set(x,M.toJSON())),yield Promise.all(u.map(function(){var fe=(0,I.Z)(function*(we){if(we!==y)try{yield we._remove(x)}catch{}});return function(we){return fe.apply(this,arguments)}}())),new ct(y,l,m)):new ct(y,l,m)})()}}function ji(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if($(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Eo(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(oe(l))return"Blackberry";if(ke(l))return"Webos";if(Xo(l))return"Safari";if((l.includes("chrome/")||fu(l))&&!l.includes("edge/"))return"Chrome";if(L(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Eo(f=(0,H.z$)()){return/firefox\//i.test(f)}function Xo(f=(0,H.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function fu(f=(0,H.z$)()){return/crios\//i.test(f)}function $(f=(0,H.z$)()){return/iemobile/i.test(f)}function L(f=(0,H.z$)()){return/android/i.test(f)}function oe(f=(0,H.z$)()){return/blackberry/i.test(f)}function ke(f=(0,H.z$)()){return/webos/i.test(f)}function De(f=(0,H.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Nn(f=(0,H.z$)()){return De(f)||L(f)||ke(f)||oe(f)||/windows phone/i.test(f)||$(f)}function ec(f,l=[]){let u;switch(f){case"Browser":u=ji((0,H.z$)());break;case"Worker":u=`${ji((0,H.z$)())}-${f}`;break;default:u=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${qe.SDK_VERSION}/${m}`}class AE{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const m=y=>new Promise((x,M)=>{try{x(l(y))}catch(G){M(G)}});m.onAbort=u,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,I.Z)(function*(){if(u.auth.currentUser===l)return;const m=[];try{for(const _ of u.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function om(){return(om=(0,I.Z)(function*(f,l={}){return J(f,"GET","/v2/passwordPolicy",ne(f,l))})).apply(this,arguments)}class tc{constructor(l){var u,m,_,y;const x=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=x.minPasswordLength)&&void 0!==u?u:6,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),void 0!==x.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),void 0!==x.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),void 0!==x.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),void 0!==x.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,m,_,y,x,M;const G={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,G),this.validatePasswordCharacterOptions(l,G),G.isValid&&(G.isValid=null===(u=G.meetsMinPasswordLength)||void 0===u||u),G.isValid&&(G.isValid=null===(m=G.meetsMaxPasswordLength)||void 0===m||m),G.isValid&&(G.isValid=null===(_=G.containsLowercaseLetter)||void 0===_||_),G.isValid&&(G.isValid=null===(y=G.containsUppercaseLetter)||void 0===y||y),G.isValid&&(G.isValid=null===(x=G.containsNumericCharacter)||void 0===x||x),G.isValid&&(G.isValid=null===(M=G.containsNonAlphanumericCharacter)||void 0===M||M),G}validatePasswordLengthOptions(l,u){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(u.meetsMinPasswordLength=l.length>=m),_&&(u.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,u){let m;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,u,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class Io{constructor(l,u,m,_){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new AE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,u){var m=this;return u&&(this._popupRedirectResolver=ft(u)),this._initializationPromise=this.queue((0,I.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield ct.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(u),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,I.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,I.Z)(function*(){var m;const _=yield u.assertedPersistence.getCurrentUser();let y=_,x=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const M=null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId,G=y?._redirectEventId,fe=yield u.tryRedirectSignIn(l);(!M||M===G)&&fe?.user&&(y=fe.user,x=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(x)try{yield u.beforeStateQueue.runMiddleware(y)}catch(M){y=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(M))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return ee(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var u=this;return(0,I.Z)(function*(){let m=null;try{m=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,I.Z)(function*(){try{yield eo(l)}catch(m){if("auth/network-request-failed"!==m?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Ka(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,I.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,I.Z)(function*(){const m=l?(0,H.m9)(l):null;return m&&ee(m.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(m&&m._clone(u))})()}_updateCurrentUser(l,u=!1){var m=this;return(0,I.Z)(function*(){if(!m._deleted)return l&&ee(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),u||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,I.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,I.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,I.Z)(function*(){yield u.assertedPersistence.setPersistence(ft(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,I.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const m=u._getPasswordPolicyInternal();return m.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,I.Z)(function*(){const u=yield function es(f){return om.apply(this,arguments)}(l),m=new tc(u);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new H.LL("auth","Firebase",l())}onAuthStateChanged(l,u,m){return this.registerStateListener(this.authStateSubscription,l,u,m)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,m){return this.registerStateListener(this.idTokenSubscription,l,u,m)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,I.Z)(function*(){if(u.currentUser){const m=yield u.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:m};null!=u.tenantId&&(_.tenantId=u.tenantId),yield function C(f,l){return T.apply(this,arguments)}(u,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var m=this;return(0,I.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(u);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,I.Z)(function*(){if(!u.redirectPersistenceManager){const m=l&&ft(l)||u._popupRedirectResolver;ee(m,u,"argument-error"),u.redirectPersistenceManager=yield ct.create(u,[ft(m._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,I.Z)(function*(){var m,_;return u._isInitialized&&(yield u.queue((0,I.Z)(function*(){}))),(null===(m=u._currentUser)||void 0===m?void 0:m._redirectEventId)===l?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,I.Z)(function*(){if(l===u.currentUser)return u.queue((0,I.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,m,_){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let x=!1;const M=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(M,this,"internal-error"),M.then(()=>{x||y(this.currentUser)}),"function"==typeof u){const G=l.addObserver(u,m,_);return()=>{x=!0,G()}}{const G=l.addObserver(u);return()=>{x=!0,G()}}}directlySetCurrentUser(l){var u=this;return(0,I.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=ec(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,I.Z)(function*(){var u;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,I.Z)(function*(){var u;const m=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return m?.error&&function Ii(f,...l){Zn.logLevel<=En.in.WARN&&Zn.warn(`Auth (${qe.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function dn(f){return(0,H.m9)(f)}class H_{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,H.ne)(u=>this.observer=u)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Il(f){return new Promise((l,u)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=Vt("internal-error");y.customData=_,u(y)},m.type="text/javascript",m.charset="UTF-8",function $_(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function sm(f){return`__${f}${Math.floor(1e6*Math.random())}`}class sa{constructor(l){this.type="recaptcha-enterprise",this.auth=dn(l)}verify(l="verify",u=!1){var m=this;return(0,I.Z)(function*(){function y(){return y=(0,I.Z)(function*(M){if(!u){if(null==M.tenantId&&null!=M._agentRecaptchaConfig)return M._agentRecaptchaConfig.siteKey;if(null!=M.tenantId&&void 0!==M._tenantRecaptchaConfigs[M.tenantId])return M._tenantRecaptchaConfigs[M.tenantId].siteKey}return new Promise(function(){var G=(0,I.Z)(function*(fe,we){_r(M,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ce=>{if(void 0!==Ce.recaptchaKey){const Mn=new gr(Ce);return null==M.tenantId?M._agentRecaptchaConfig=Mn:M._tenantRecaptchaConfigs[M.tenantId]=Mn,fe(Mn.siteKey)}we(new Error("recaptcha Enterprise site key undefined"))}).catch(Ce=>{we(Ce)})});return function(fe,we){return G.apply(this,arguments)}}())}),y.apply(this,arguments)}function x(M,G,fe){const we=window.grecaptcha;Pt(we)?we.enterprise.ready(()=>{we.enterprise.execute(M,{action:l}).then(Ce=>{G(Ce)}).catch(()=>{G("NO_RECAPTCHA")})}):fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((M,G)=>{(function _(M){return y.apply(this,arguments)})(m.auth).then(fe=>{if(!u&&Pt(window.grecaptcha))x(fe,M,G);else{if(typeof window>"u")return void G(new Error("RecaptchaVerifier is only supported in browser"));Il("https://www.google.com/recaptcha/enterprise.js?render="+fe).then(()=>{x(fe,M,G)}).catch(we=>{G(we)})}}).catch(fe=>{G(fe)})})})()}}function q_(f,l,u){return am.apply(this,arguments)}function am(){return(am=(0,I.Z)(function*(f,l,u,m=!1){const _=new sa(f);let y;try{y=yield _.verify(u)}catch{y=yield _.verify(u,!0)}const x=Object.assign({},l);return Object.assign(x,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}function xl(f,l,u,m){return cm.apply(this,arguments)}function cm(){return cm=(0,I.Z)(function*(f,l,u,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield q_(f,l,u,"getOobCode"===u);return m(f,y)}return m(f,l).catch(function(){var y=(0,I.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const M=yield q_(f,l,u,"getOobCode"===u);return m(f,M)}return Promise.reject(x)});return function(x){return y.apply(this,arguments)}}())}),cm.apply(this,arguments)}function nr(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function Tl(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Gt{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return In("not implemented")}_getIdTokenResponse(l){return In("not implemented")}_linkToIdToken(l,u){return In("not implemented")}_getReauthenticationResolver(l){return In("not implemented")}}function Dl(f,l){return um.apply(this,arguments)}function um(){return(um=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:resetPassword",ne(f,l))})).apply(this,arguments)}function ic(){return(ic=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function jn(f,l){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function hm(){return(hm=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",ne(f,l))})).apply(this,arguments)}function jt(f,l){return ze.apply(this,arguments)}function ze(){return(ze=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithPassword",ne(f,l))})).apply(this,arguments)}function aa(f,l){return Al.apply(this,arguments)}function Al(){return(Al=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendOobCode",ne(f,l))})).apply(this,arguments)}function mu(){return(mu=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function j(f,l){return Is.apply(this,arguments)}function Is(){return(Is=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function kl(f,l){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function pu(){return(pu=(0,I.Z)(function*(f,l){return aa(f,l)})).apply(this,arguments)}function ca(){return(ca=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}function Ge(){return(Ge=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,l))})).apply(this,arguments)}class vt extends Gt{constructor(l,u,m,_=null){super("password",m),this._email=l,this._password=u,this._tenantId=_}static _fromEmailAndPassword(l,u){return new vt(l,u,"password")}static _fromEmailAndCode(l,u,m=null){return new vt(l,u,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,I.Z)(function*(){switch(u.signInMethod){case"password":return xl(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",jt);case"emailLink":return function ts(f,l){return ca.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:Dt(l,"internal-error")}})()}_linkToIdToken(l,u){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return xl(l,{idToken:u,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jn);case"emailLink":return function W_(f,l){return Ge.apply(this,arguments)}(l,{idToken:u,email:m._email,oobCode:m._password});default:Dt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Cs(f,l){return mm.apply(this,arguments)}function mm(){return(mm=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithIdp",ne(f,l))})).apply(this,arguments)}class ns extends Gt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new ns(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):Dt("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=u,y=(0,Je._T)(u,["providerId","signInMethod"]);if(!m||!_)return null;const x=new ns(m,_);return x.idToken=y.idToken||void 0,x.accessToken=y.accessToken||void 0,x.secret=y.secret,x.nonce=y.nonce,x.pendingToken=y.pendingToken||null,x}_getIdTokenResponse(l){return Cs(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,Cs(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,Cs(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,H.xO)(u)}return l}}function Rl(){return(Rl=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:sendVerificationCode",ne(f,l))})).apply(this,arguments)}function Z_(){return(Z_=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l))})).apply(this,arguments)}function K_(){return(K_=(0,I.Z)(function*(f,l){const u=yield Ne(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,l));if(u.temporaryProof)throw Kn(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const xs={USER_NOT_FOUND:"user-not-found"};function Q_(){return(Q_=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),xs)})).apply(this,arguments)}class rc extends Gt{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new rc({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new rc({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function br(f,l){return Z_.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function OE(f,l){return K_.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function kM(f,l){return Q_.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:m,verificationCode:_}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||u||_||y?new rc({verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class gu{constructor(l){var u,m,_,y,x,M;const G=(0,H.zd)((0,H.pd)(l)),fe=null!==(u=G.apiKey)&&void 0!==u?u:null,we=null!==(m=G.oobCode)&&void 0!==m?m:null,Ce=function MM(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=G.mode)&&void 0!==_?_:null);ee(fe&&we&&Ce,"argument-error"),this.apiKey=fe,this.operation=Ce,this.code=we,this.continueUrl=null!==(y=G.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(x=G.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(M=G.tenantId)&&void 0!==M?M:null}static parseLink(l){const u=function NE(f){const l=(0,H.zd)((0,H.pd)(f)).link,u=l?(0,H.zd)((0,H.pd)(l)).deep_link_id:null,m=(0,H.zd)((0,H.pd)(f)).deep_link_id;return(m?(0,H.zd)((0,H.pd)(m)).link:null)||m||u||l||f}(l);try{return new gu(u)}catch{return null}}}let Y_=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,m){return vt._fromEmailAndPassword(u,m)}static credentialWithLink(u,m){const _=gu.parseLink(m);return ee(_,"argument-error"),vt._fromEmailAndCode(u,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class xn{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Le extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Pl extends Le{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return ee("providerId"in u&&"signInMethod"in u,"argument-error"),ns._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ee(l.idToken||l.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Pl.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Pl.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:x,providerId:M}=l;if(!m&&!_&&!u&&!y||!M)return null;try{return new Pl(M)._credential({idToken:u,accessToken:m,nonce:x,pendingToken:y})}catch{return null}}}let FE=(()=>{class f extends Le{constructor(){super("facebook.com")}static credential(u){return ns._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),LE=(()=>{class f extends Le{constructor(){super("google.com"),this.addScope("profile")}static credential(u,m){return ns._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_}=u;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),VE=(()=>{class f extends Le{constructor(){super("github.com")}static credential(u){return ns._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Ol extends Gt{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return Cs(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,Cs(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,Cs(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=u;return m&&_&&y&&m===_?new Ol(m,y):null}static _create(l,u){return new Ol(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class la extends xn{constructor(l){ee(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return la.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return la.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Ol.fromJSON(l);return ee(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:m}=l;if(!u||!m)return null;try{return Ol._create(m,u)}catch{return null}}}let X_=(()=>{class f extends Le{constructor(){super("twitter.com")}static credential(u,m){return ns._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=u;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function pm(f,l){return gm.apply(this,arguments)}function gm(){return(gm=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signUp",ne(f,l))})).apply(this,arguments)}class zi{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,m,_=!1){return(0,I.Z)(function*(){const y=yield de._fromIdTokenResponse(l,m,_),x=Nl(m);return new zi({user:y,providerId:x,_tokenResponse:m,operationType:u})})()}static _forOperation(l,u,m){return(0,I.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=Nl(m);return new zi({user:l,providerId:_,_tokenResponse:m,operationType:u})})()}}function Nl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function _u(){return(_u=(0,I.Z)(function*(f){var l;const u=dn(f);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new zi({user:u.currentUser,providerId:null,operationType:"signIn"});const m=yield pm(u,{returnSecureToken:!0}),_=yield zi._fromIdTokenResponse(u,"signIn",m,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class vu extends H.ZR{constructor(l,u,m,_){var y;super(u.code,u.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,u,m,_){return new vu(l,u,m,_)}}function pt(f,l,u,m){return("reauthenticate"===l?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?vu._fromErrorAndOperation(f,y,l,m):y})}function yu(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Ti(){return Ti=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f);yield zt(!0,u,l);const{providerUserInfo:m}=yield function bl(f,l){return yr.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),_=yu(m||[]);return u.providerData=u.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Ti.apply(this,arguments)}function bu(f,l){return ev.apply(this,arguments)}function ev(){return(ev=(0,I.Z)(function*(f,l,u=!1){const m=yield Ci(f,l._linkToIdToken(f.auth,yield f.getIdToken()),u);return zi._forOperation(f,"link",m)})).apply(this,arguments)}function zt(f,l,u){return tv.apply(this,arguments)}function tv(){return(tv=(0,I.Z)(function*(f,l,u){yield eo(l);const _=!1===f?"provider-already-linked":"no-such-provider";ee(yu(l.providerData).has(u)===f,l.auth,_)})).apply(this,arguments)}function BE(f,l){return X.apply(this,arguments)}function X(){return(X=(0,I.Z)(function*(f,l,u=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield Ci(f,pt(m,_,l,f),u);ee(y.idToken,m,"internal-error");const x=Qo(y.idToken);ee(x,m,"internal-error");const{sub:M}=x;return ee(f.uid===M,m,"user-mismatch"),zi._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&Dt(m,"user-mismatch"),y}})).apply(this,arguments)}function wu(f,l){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,I.Z)(function*(f,l,u=!1){const m="signIn",_=yield pt(f,m,l),y=yield zi._fromIdTokenResponse(f,m,_);return u||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function Ll(f,l){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,I.Z)(function*(f,l){return wu(dn(f),l)})).apply(this,arguments)}function nv(f,l){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f);return yield zt(!1,u,l.providerId),bu(u,l)})).apply(this,arguments)}function UE(f,l){return iv.apply(this,arguments)}function iv(){return(iv=(0,I.Z)(function*(f,l){return BE((0,H.m9)(f),l)})).apply(this,arguments)}function rv(){return(rv=(0,I.Z)(function*(f,l){return Ne(f,"POST","/v1/accounts:signInWithCustomToken",ne(f,l))})).apply(this,arguments)}function da(){return da=(0,I.Z)(function*(f,l){const u=dn(f),m=yield function PM(f,l){return rv.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),_=yield zi._fromIdTokenResponse(u,"signIn",m);return yield u._updateCurrentUser(_.user),_}),da.apply(this,arguments)}class ua{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?oc._fromServerResponse(l,u):"totpInfo"in u?vm._fromServerResponse(l,u):Dt(l,"internal-error")}}class oc extends ua{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new oc(u)}}class vm extends ua{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new vm(u)}}function Eu(f,l,u){var m;ee((null===(m=u.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),ee(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ee(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(ee(u.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function ym(f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,I.Z)(function*(f){const l=dn(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function bm(){return(bm=(0,I.Z)(function*(f,l,u){const m=dn(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&Eu(m,_,u),yield xl(m,_,"getOobCode",j)})).apply(this,arguments)}function wm(){return wm=(0,I.Z)(function*(f,l,u){yield Dl((0,H.m9)(f),{oobCode:l,newPassword:u}).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ym(f),_});return function(_){return m.apply(this,arguments)}}())}),wm.apply(this,arguments)}function Cu(){return Cu=(0,I.Z)(function*(f,l){yield function SM(f,l){return hm.apply(this,arguments)}((0,H.m9)(f),{oobCode:l})}),Cu.apply(this,arguments)}function ce(f,l){return ac.apply(this,arguments)}function ac(){return(ac=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f),m=yield Dl(u,{oobCode:l}),_=m.requestType;switch(ee(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(m.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(m.mfaInfo,u,"internal-error");default:ee(m.email,u,"internal-error")}let y=null;return m.mfaInfo&&(y=ua._fromServerResponse(dn(u),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function ha(){return(ha=(0,I.Z)(function*(f,l){const{data:u}=yield ce((0,H.m9)(f),l);return u.email})).apply(this,arguments)}function Im(){return(Im=(0,I.Z)(function*(f,l,u){const m=dn(f),x=yield xl(m,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pm).catch(G=>{throw"auth/password-does-not-meet-requirements"===G.code&&ym(f),G}),M=yield zi._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}function cc(){return(cc=(0,I.Z)(function*(f,l,u){const m=dn(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(x,M){ee(M.handleCodeInApp,m,"argument-error"),M&&Eu(m,x,M)})(_,u),yield xl(m,_,"getOobCode",kl)})).apply(this,arguments)}function It(){return(It=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),_=Y_.credentialWithLink(l,u||Nr());return ee(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Ll(m,_)})).apply(this,arguments)}function Ul(){return(Ul=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:createAuthUri",ne(f,l))})).apply(this,arguments)}function xu(){return xu=(0,I.Z)(function*(f,l){const m={identifier:l,continueUri:qo()?Nr():"http://localhost"},{signinMethods:_}=yield function ov(f,l){return Ul.apply(this,arguments)}((0,H.m9)(f),m);return _||[]}),xu.apply(this,arguments)}function Tu(){return Tu=(0,I.Z)(function*(f,l){const u=(0,H.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&Eu(u.auth,_,l);const{email:y}=yield function AM(f,l){return mu.apply(this,arguments)}(u.auth,_);y!==f.email&&(yield f.reload())}),Tu.apply(this,arguments)}function Cm(){return Cm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};u&&Eu(m.auth,y,u);const{email:x}=yield function fm(f,l){return pu.apply(this,arguments)}(m.auth,y);x!==f.email&&(yield f.reload())}),Cm.apply(this,arguments)}function xm(){return(xm=(0,I.Z)(function*(f,l){return J(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function wr(){return wr=(0,I.Z)(function*(f,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const m=(0,H.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},x=yield Ci(m,function cv(f,l){return xm.apply(this,arguments)}(m.auth,y));m.displayName=x.displayName||null,m.photoURL=x.photoUrl||null;const M=m.providerData.find(({providerId:G})=>"password"===G);M&&(M.displayName=m.displayName,M.photoURL=m.photoURL),yield m._updateTokensIfNecessary(x)}),wr.apply(this,arguments)}function dv(f,l,u){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,I.Z)(function*(f,l,u){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),u&&(y.password=u);const x=yield Ci(f,function Ut(f,l){return ic.apply(this,arguments)}(m,y));yield f._updateTokensIfNecessary(x,!0)}),Tm.apply(this,arguments)}class lc{constructor(l,u,m={}){this.isNewUser=l,this.providerId=u,this.profile=m}}class Dm extends lc{constructor(l,u,m,_){super(l,u,m),this.username=_}}class GE extends lc{constructor(l,u){super(l,"facebook.com",u)}}class WE extends Dm{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class ZE extends lc{constructor(l,u){super(l,"google.com",u)}}class Tn extends Dm{constructor(l,u,m){super(l,"twitter.com",u,m)}}function KE(f){const{user:l,_tokenResponse:u}=f;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function qE(f){var l,u;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const x=null===(u=null===(l=Qo(f.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(x)return new lc(y,"anonymous"!==x&&"custom"!==x?x:null)}if(!m)return null;switch(m){case"facebook.com":return new GE(y,_);case"github.com":return new WE(y,_);case"google.com":return new ZE(y,_);case"twitter.com":return new Tn(y,_,f.screenName||null);case"custom":case"anonymous":return new lc(y,null);default:return new lc(y,m,_)}}(u)}class ma{constructor(l,u,m){this.type=l,this.credential=u,this.user=m}static _fromIdtoken(l,u){return new ma("enroll",l,u)}static _fromMfaPendingCredential(l){return new ma("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,m;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return ma._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return ma._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Sm{constructor(l,u,m){this.session=l,this.hints=u,this.signInResolver=m}static _fromError(l,u){const m=dn(l),_=u.customData._serverResponse,y=(_.mfaInfo||[]).map(M=>ua._fromServerResponse(m,M));ee(_.mfaPendingCredential,m,"internal-error");const x=ma._fromMfaPendingCredential(_.mfaPendingCredential);return new Sm(x,y,function(){var M=(0,I.Z)(function*(G){const fe=yield G._process(m,x);delete _.mfaInfo,delete _.mfaPendingCredential;const we=Object.assign(Object.assign({},_),{idToken:fe.idToken,refreshToken:fe.refreshToken});switch(u.operationType){case"signIn":const Ce=yield zi._fromIdTokenResponse(m,u.operationType,we);return yield m._updateCurrentUser(Ce.user),Ce;case"reauthenticate":return ee(u.user,m,"internal-error"),zi._forOperation(u.user,u.operationType,we);default:Dt(m,"internal-error")}});return function(G){return M.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,I.Z)(function*(){return u.signInResolver(l)})()}}class Vr{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(m=>ua._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new Vr(l)}getSession(){var l=this;return(0,I.Z)(function*(){return ma._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var m=this;return(0,I.Z)(function*(){const _=l,y=yield m.getSession(),x=yield Ci(m.user,_._process(m.user.auth,y,u));return yield m.user._updateTokensIfNecessary(x),m.user.reload()})()}unenroll(l){var u=this;return(0,I.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield u.user.getIdToken();try{const y=yield Ci(u.user,function Si(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(f,l))}(u.user.auth,{idToken:_,mfaEnrollmentId:m}));u.enrolledFactors=u.enrolledFactors.filter(({uid:x})=>x!==m),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Ds=new WeakMap,oi="__sak";class pa{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(oi,"1"),this.storage.removeItem(oi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const tn=(()=>{class f extends pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,m)=>this.onStorageEvent(u,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qe(){const f=(0,H.z$)();return Xo(f)||De(f)}()&&function Jo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&u(m,y,_)}}onStorageEvent(u,m=!1){if(!u.key)return void this.forAllChangedKeys((M,G,fe)=>{this.notifyListeners(M,fe)});const _=u.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const M=this.storage.getItem(_);if(u.newValue!==M)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!m)return}const y=()=>{const M=this.storage.getItem(_);!m&&this.localCache[_]===M||this.notifyListeners(_,M)},x=this.storage.getItem(_);!function gi(){return(0,H.w1)()&&10===document.documentMode}()||x===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,m){var _=()=>super._set,y=this;return(0,I.Z)(function*(){yield _().call(y,u,m),y.localCache[u]=JSON.stringify(m)})()}_get(u){var m=()=>super._get,_=this;return(0,I.Z)(function*(){const y=yield m().call(_,u);return _.localCache[u]=JSON.stringify(y),y})()}_remove(u){var m=()=>super._remove,_=this;return(0,I.Z)(function*(){yield m().call(_,u),delete _.localCache[u]})()}}return f.type="LOCAL",f})(),Er=(()=>{class f extends pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,m){}_removeListener(u,m){}}return f.type="SESSION",f})();let $l=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const m=this.receivers.find(y=>y.isListeningto(u));if(m)return m;const _=new f(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var m=this;return(0,I.Z)(function*(){const _=u,{eventId:y,eventType:x,data:M}=_.data,G=m.handlersMap[x];if(!G?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:x});const fe=Array.from(G).map(function(){var Ce=(0,I.Z)(function*(Mn){return Mn(_.origin,M)});return function(Mn){return Ce.apply(this,arguments)}}()),we=yield function xo(f){return Promise.all(f.map(function(){var l=(0,I.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(m){return{fulfilled:!1,reason:m}}});return function(u){return l.apply(this,arguments)}}()))}(fe);_.ports[0].postMessage({status:"done",eventId:y,eventType:x,response:we})})()}_subscribe(u,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(m)}_unsubscribe(u,m){this.handlersMap[u]&&m&&this.handlersMap[u].delete(m),(!m||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function uc(f="",l=10){let u="";for(let m=0;m<l;m++)u+=Math.floor(10*Math.random());return f+u}class Ss{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,m=50){var _=this;return(0,I.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let x,M;return new Promise((G,fe)=>{const we=uc("",20);y.port1.start();const Ce=setTimeout(()=>{fe(new Error("unsupported_event"))},m);M={messageChannel:y,onMessage(Mn){const Hr=Mn;if(Hr.data.eventId===we)switch(Hr.data.status){case"ack":clearTimeout(Ce),x=setTimeout(()=>{fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),G(Hr.data.response);break;default:clearTimeout(Ce),clearTimeout(x),fe(new Error("invalid_response"))}}},_.handlers.add(M),y.port1.addEventListener("message",M.onMessage),_.target.postMessage({eventType:l,eventId:we,data:u},[y.port2])}).finally(()=>{M&&_.removeMessageHandler(M)})})()}}function gn(){return window}function We(){return typeof gn().WorkerGlobalScope<"u"&&"function"==typeof gn().importScripts}function _a(){return(_a=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const va="firebaseLocalStorageDb",rs="firebaseLocalStorage",si="fbase_key";class Sn{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function hc(f,l){return f.transaction([rs],l?"readwrite":"readonly").objectStore(rs)}function fc(){const f=indexedDB.open(va,1);return new Promise((l,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(rs,{keyPath:si})}catch(_){u(_)}}),f.addEventListener("success",(0,I.Z)(function*(){const m=f.result;m.objectStoreNames.contains(rs)?l(m):(m.close(),yield function ya(){const f=indexedDB.deleteDatabase(va);return new Sn(f).toPromise()}(),l(yield fc()))}))})}function Br(f,l,u){return ql.apply(this,arguments)}function ql(){return(ql=(0,I.Z)(function*(f,l,u){const m=hc(f,!0).put({[si]:l,value:u});return new Sn(m).toPromise()})).apply(this,arguments)}function km(){return(km=(0,I.Z)(function*(f,l){const u=hc(f,!1).get(l),m=yield new Sn(u).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Au(f,l){const u=hc(f,!0).delete(l);return new Sn(u).toPromise()}const Gl=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,I.Z)(function*(){return u.db||(u.db=yield fc()),u.db})()}_withRetries(u){var m=this;return(0,I.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield u(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,I.Z)(function*(){return We()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,I.Z)(function*(){u.receiver=$l._getInstance(function Su(){return We()?self:null}()),u.receiver._subscribe("keyChanged",function(){var m=(0,I.Z)(function*(_,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var m=(0,I.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,I.Z)(function*(){var m,_;if(u.activeServiceWorker=yield function Am(){return _a.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Ss(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var m=this;return(0,I.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function To(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:u},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const u=yield fc();return yield Br(u,oi,"1"),yield Au(u,oi),!0}catch{}return!1})()}_withPendingWrite(u){var m=this;return(0,I.Z)(function*(){m.pendingWrites++;try{yield u()}finally{m.pendingWrites--}})()}_set(u,m){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(y=>Br(y,u,m)),_.localCache[u]=m,_.notifyServiceWorker(u)}))})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=yield m._withRetries(y=>function JE(f,l){return km.apply(this,arguments)}(y,u));return m.localCache[u]=_,_})()}_remove(u){var m=this;return(0,I.Z)(function*(){return m._withPendingWrite((0,I.Z)(function*(){return yield m._withRetries(_=>Au(_,u)),delete m.localCache[u],m.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,I.Z)(function*(){const m=yield u._withRetries(x=>{const M=hc(x,!1).getAll();return new Sn(M).toPromise()});if(!m)return[];if(0!==u.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:x,value:M}of m)y.add(x),JSON.stringify(u.localCache[x])!==JSON.stringify(M)&&(u.notifyListeners(x,M),_.push(x));for(const x of Object.keys(u.localCache))u.localCache[x]&&!y.has(x)&&(u.notifyListeners(x,null),_.push(x));return _})()}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Mm=1e12;class jM{constructor(l){this.auth=l,this.counter=Mm,this._widgets=new Map}render(l,u){const m=this.counter;return this._widgets.set(m,new zM(l,this.auth.name,u||{})),this.counter++,m}reset(l){var u;const m=l||Mm;null===(u=this._widgets.get(m))||void 0===u||u.delete(),this._widgets.delete(m)}getResponse(l){var u;return(null===(u=this._widgets.get(l||Mm))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,I.Z)(function*(){var m;return null===(m=u._widgets.get(l||Mm))||void 0===m||m.execute(),""})()}}class zM{constructor(l,u,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;ee(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function HM(f){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mv=sm("rcb"),$M=new Fr(3e4,6e4);class gv{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=gn().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return ee(function qM(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&ii(gn().grecaptcha)?Promise.resolve(gn().grecaptcha):new Promise((m,_)=>{const y=gn().setTimeout(()=>{_(Vt(l,"network-request-failed"))},$M.get());gn()[mv]=()=>{gn().clearTimeout(y),delete gn()[mv];const M=gn().grecaptcha;if(!M||!ii(M))return void _(Vt(l,"internal-error"));const G=M.render;M.render=(fe,we)=>{const Ce=G(fe,we);return this.counter++,Ce},this.hostLanguage=u,m(M)},Il(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:mv,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),_(Vt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=gn().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class GM{load(l){return(0,I.Z)(function*(){return new jM(l)})()}clearedOneInstance(){}}const tI="recaptcha",WM={theme:"light",type:"image"};class ba{constructor(l,u,m=Object.assign({},WM)){this.parameters=m,this.type=tI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dn(l),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;ee(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GM:new gv,this.validateStartingState()}verify(){var l=this;return(0,I.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(u)||new Promise(y=>{const x=M=>{M&&(l.tokenChangeListeners.delete(x),y(M))};l.tokenChangeListeners.add(x),l.isInvisible&&m.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(m=>m(u)),"function"==typeof l)l(u);else if("string"==typeof l){const m=gn()[l];"function"==typeof m&&m(u)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,I.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const m=document.createElement("div");u.appendChild(m),u=m}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,I.Z)(function*(){ee(qo()&&!We(),l.auth,"internal-error"),yield function nI(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function yl(f){return Go.apply(this,arguments)}(l.auth);ee(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $i{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=rc._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function Rm(){return(Rm=(0,I.Z)(function*(f,l,u){const m=dn(f),_=yield mc(m,l,(0,H.m9)(u));return new $i(_,y=>Ll(m,y))})).apply(this,arguments)}function ku(){return(ku=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);yield zt(!1,m,"phone");const _=yield mc(m.auth,l,(0,H.m9)(u));return new $i(_,y=>nv(m,y))})).apply(this,arguments)}function Pm(){return(Pm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f),_=yield mc(m.auth,l,(0,H.m9)(u));return new $i(_,y=>UE(m,y))})).apply(this,arguments)}function mc(f,l,u){return Om.apply(this,arguments)}function Om(){return Om=(0,I.Z)(function*(f,l,u){var m;const _=yield u.verify();try{let y;if(ee("string"==typeof _,f,"argument-error"),ee(u.type===tI,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const x=y.session;if("phoneNumber"in y)return ee("enroll"===x.type,f,"internal-error"),(yield function ue(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:start",ne(f,l))}(f,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ee("signin"===x.type,f,"internal-error");const M=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return ee(M,f,"missing-multi-factor-info"),(yield function FM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:start",ne(f,l))}(f,{mfaPendingCredential:x.credential,mfaEnrollmentId:M,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function PE(f,l){return Rl.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return x}}finally{u._reset()}}),Om.apply(this,arguments)}function Mu(){return(Mu=(0,I.Z)(function*(f,l){yield bu((0,H.m9)(f),l)})).apply(this,arguments)}let pc=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=dn(u)}verifyPhoneNumber(u,m){return mc(this.auth,u,(0,H.m9)(m))}static credential(u,m){return rc._fromVerification(u,m)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:m,temporaryProof:_}=u;return m&&_?rc._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function kt(f,l){return l?ft(l):(ee(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Wl extends Gt{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Cs(l,this._buildIdpRequest())}_linkToIdToken(l,u){return Cs(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return Cs(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Zl(f){return wu(f.auth,new Wl(f),f.bypassAuthState)}function qi(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),BE(u,new Wl(f),f.bypassAuthState)}function rI(f){return wa.apply(this,arguments)}function wa(){return(wa=(0,I.Z)(function*(f){const{auth:l,user:u}=f;return ee(u,l,"internal-error"),bu(u,new Wl(f),f.bypassAuthState)})).apply(this,arguments)}class Ea{constructor(l,u,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,I.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,I.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:x,error:M,type:G}=l;if(M)return void u.reject(M);const fe={auth:u.auth,requestUri:m,sessionId:_,tenantId:x||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(G)(fe))}catch(we){u.reject(we)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Zl;case"linkViaPopup":case"linkViaRedirect":return rI;case"reauthViaPopup":case"reauthViaRedirect":return qi;default:Dt(this.auth,"internal-error")}}resolve(l){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ir=new Fr(2e3,1e4);function Kl(){return(Kl=(0,I.Z)(function*(f,l,u){const m=dn(f);ht(f,l,xn);const _=kt(m,u);return new Ru(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Ur(){return(Ur=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,xn);const _=kt(m.auth,u);return new Ru(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function Nm(){return(Nm=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,xn);const _=kt(m.auth,u);return new Ru(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let Ru=(()=>{class f extends Ea{constructor(u,m,_,y,x){super(u,m,y,x),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,I.Z)(function*(){const m=yield u.execute();return ee(m,u.auth,"internal-error"),m})()}onExecution(){var u=this;return(0,I.Z)(function*(){Cn(1===u.filter.length,"Popup operations only handle one event");const m=uc();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],m),u.authWindow.associatedEvent=m,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(Vt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,Ir.get())};u()}}return f.currentPopupAction=null,f})();const bv="pendingRedirect",As=new Map;class Pu extends Ea{constructor(l,u,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,I.Z)(function*(){let m=As.get(u.auth._key());if(!m){try{const y=(yield function Fm(f,l){return $e.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}As.set(u.auth._key(),m)}return u.bypassAuthState||As.set(u.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,m=this;return(0,I.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,u().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function $e(){return($e=(0,I.Z)(function*(f,l){const u=Vm(l),m=Ev(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(u));return yield m._remove(u),_})).apply(this,arguments)}function Ou(f,l){return wv.apply(this,arguments)}function wv(){return(wv=(0,I.Z)(function*(f,l){return Ev(f)._set(Vm(l),"true")})).apply(this,arguments)}function Lm(f,l){As.set(f._key(),l)}function Ev(f){return ft(f._redirectPersistence)}function Vm(f){return Un(bv,f.config.apiKey,f.name)}function gc(f,l,u){return function cI(f,l,u){return Bm.apply(this,arguments)}(f,l,u)}function Bm(){return(Bm=(0,I.Z)(function*(f,l,u){const m=dn(f);ht(f,l,xn),yield m._initializationPromise;const _=kt(m,u);return yield Ou(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function lI(f,l,u){return function dI(f,l,u){return Um.apply(this,arguments)}(f,l,u)}function Um(){return(Um=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,xn),yield m.auth._initializationPromise;const _=kt(m.auth,u);yield Ou(_,m.auth);const y=yield io(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function q(f,l,u){return function yt(f,l,u){return nt.apply(this,arguments)}(f,l,u)}function nt(){return(nt=(0,I.Z)(function*(f,l,u){const m=(0,H.m9)(f);ht(m.auth,l,xn),yield m.auth._initializationPromise;const _=kt(m.auth,u);yield zt(!1,m,l.providerId),yield Ou(_,m.auth);const y=yield io(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function Bt(){return(Bt=(0,I.Z)(function*(f,l){return yield dn(f)._initializationPromise,Ql(f,l,!1)})).apply(this,arguments)}function Ql(f,l){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,I.Z)(function*(f,l,u=!1){const m=dn(f),_=kt(m,l),x=yield new Pu(m,_,u).execute();return x&&!u&&(delete x.user._redirectEventId,yield m._persistUserIfCurrent(x.user),yield m._setRedirectUser(null,l)),x})).apply(this,arguments)}function io(f){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,I.Z)(function*(f){const l=uc(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Iv{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(u=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Gi(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zm(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var m;if(l.error&&!zm(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";u.onError(Vt(this.auth,_))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const m=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uI(l))}saveEventToCache(l){this.cachedEventUids.add(uI(l)),this.lastProcessedEventTime=Date.now()}}function uI(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function zm({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function So(f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,I.Z)(function*(f,l={}){return J(f,"GET","/v1/projects",l)})).apply(this,arguments)}const Ao=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,os=/^https?/;function Fu(){return(Fu=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield So(f);for(const u of l)try{if(fI(u))return}catch{}Dt(f,"unauthorized-domain")})).apply(this,arguments)}function fI(f){const l=Nr(),{protocol:u,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const x=new URL(f);return""===x.hostname&&""===m?"chrome-extension:"===u&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&x.hostname===m}if(!os.test(u))return!1;if(Ao.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const mI=new Fr(3e4,6e4);function Lu(){const f=gn().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let Xl=null;const pI=new Fr(5e3,15e3),Cv="__/auth/iframe",qm="emulator/auth/iframe",xv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dv(f){const l=f.config;ee(l.authDomain,f,"auth-domain-config-required");const u=l.emulator?B(l,qm):`https://${f.config.authDomain}/${Cv}`,m={apiKey:l.apiKey,appName:f.name,v:qe.SDK_VERSION},_=Tv.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${u}?${(0,H.xO)(m).slice(1)}`}function Jl(){return Jl=(0,I.Z)(function*(f){const l=yield function $m(f){return Xl=Xl||function Hm(f){return new Promise((l,u)=>{var m,_,y;function x(){Lu(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Lu(),u(Vt(f,"network-request-failed"))},timeout:mI.get()})}if(null!==(_=null===(m=gn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=gn().gapi)||void 0===y||!y.load){const M=sm("iframefcb");return gn()[M]=()=>{gapi.load?x():u(Vt(f,"network-request-failed"))},Il(`https://apis.google.com/js/api.js?onload=${M}`).catch(G=>u(G))}x()}}).catch(l=>{throw Xl=null,l})}(f),Xl}(f),u=gn().gapi;return ee(u,f,"internal-error"),l.open({where:document.body,url:Dv(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xv,dontclear:!0},m=>new Promise(function(){var _=(0,I.Z)(function*(y,x){yield m.restyle({setHideOnLeave:!1});const M=Vt(f,"network-request-failed"),G=gn().setTimeout(()=>{x(M)},pI.get());function fe(){gn().clearTimeout(G),y(m)}m.ping(fe).then(fe,()=>{x(M)})});return function(y,x){return _.apply(this,arguments)}}()))}),Jl.apply(this,arguments)}const gI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kv{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rv="__/auth/handler",Pv="emulator/auth/handler",Vu=encodeURIComponent("fac");function ko(f,l,u,m,_,y){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,I.Z)(function*(f,l,u,m,_,y){ee(f.config.authDomain,f,"auth-domain-config-required"),ee(f.config.apiKey,f,"invalid-api-key");const x={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:m,v:qe.SDK_VERSION,eventId:_};if(l instanceof xn){l.setDefaultLanguage(f.languageCode),x.providerId=l.providerId||"",(0,H.xb)(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[we,Ce]of Object.entries(y||{}))x[we]=Ce}if(l instanceof Le){const we=l.getScopes().filter(Ce=>""!==Ce);we.length>0&&(x.scopes=we.join(","))}f.tenantId&&(x.tid=f.tenantId);const M=x;for(const we of Object.keys(M))void 0===M[we]&&delete M[we];const G=yield f._getAppCheckToken(),fe=G?`#${Vu}=${encodeURIComponent(G)}`:"";return`${function Bu({config:f}){return f.emulator?B(f,Pv):`https://${f.authDomain}/${Rv}`}(f)}?${(0,H.xO)(M).slice(1)}${fe}`})).apply(this,arguments)}const _c="webStorageSupport",ju=class Uu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Er,this._completeRedirectFn=Ql,this._overrideRedirectResult=Lm}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){var x;Cn(null===(x=y.eventManagers[l._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const M=yield ko(l,u,m,Nr(),_);return function Mv(f,l,u,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),x=Math.max((window.screen.availWidth-m)/2,0).toString();let M="";const G=Object.assign(Object.assign({},gI),{width:m.toString(),height:_.toString(),top:y,left:x}),fe=(0,H.z$)().toLowerCase();u&&(M=fu(fe)?"_blank":u),Eo(fe)&&(l=l||"http://localhost",G.scrollbars="yes");const we=Object.entries(G).reduce((Mn,[Hr,Ju])=>`${Mn}${Hr}=${Ju},`,"");if(function At(f=(0,H.z$)()){var l;return De(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(fe)&&"_self"!==M)return function _I(f,l){const u=document.createElement("a");u.href=f,u.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(m)}(l||"",M),new kv(null);const Ce=window.open(l||"",M,we);ee(Ce,f,"popup-blocked");try{Ce.focus()}catch{}return new kv(Ce)}(l,M,uc())})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y._originValidation(l),function ga(f){gn().location.href=f}(yield ko(l,u,m,Nr(),_)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:_,promise:y}=this.eventManagers[u];return _?Promise.resolve(_):(Cn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[u]={promise:m},m.catch(()=>{delete this.eventManagers[u]}),m}initAndGetManager(l){var u=this;return(0,I.Z)(function*(){const m=yield function Sv(f){return Jl.apply(this,arguments)}(l),_=new Iv(l);return m.register("authEvent",y=>(ee(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:_},u.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(_c,{type:_c},_=>{var y;const x=null===(y=_?.[0])||void 0===y?void 0:y[_c];void 0!==x&&u(!!x),Dt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function hI(f){return Fu.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return Nn()||Xo()||De()}};class Ov{constructor(l){this.factorId=l}_process(l,u,m){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,m);case"signin":return this._finalizeSignIn(l,u.credential);default:return In("unexpected MultiFactorSessionType")}}}class zu extends Ov{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new zu(l)}_finalizeEnroll(l,u,m){return function Ve(f,l){return J(f,"POST","/v2/accounts/mfaEnrollment:finalize",ne(f,l))}(l,{idToken:u,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function LM(f,l){return J(f,"POST","/v2/accounts/mfaSignIn:finalize",ne(f,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vI=(()=>{class f{constructor(){}static assertion(u){return zu._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var Fv="@firebase/auth";class yI{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,I.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mo(){return window}(0,H.Pz)("authIdTokenMaxAge"),function KM(f){(0,qe._registerComponent)(new Vn.wA("auth",(l,{options:u})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:x,authDomain:M}=m.options;ee(x&&!x.includes(":"),"invalid-api-key",{appName:m.name});const G={apiKey:x,authDomain:M,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ec(f)},fe=new Io(m,_,y,G);return function Kt(f,l){const u=l?.persistence||[],m=(Array.isArray(u)?u:[u]).map(ft);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(fe,u),fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,m)=>{l.getProvider("auth-internal").initialize()})),(0,qe._registerComponent)(new Vn.wA("auth-internal",l=>{const u=dn(l.getProvider("auth").getImmediate());return new yI(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,qe.registerVersion)(Fv,"1.4.0",function ZM(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,qe.registerVersion)(Fv,"1.4.0","esm2017")}("Browser");function Hu(){return Hu=(0,I.Z)(function*(f,l,u){var m;const{BuildInfo:_}=Mo();Cn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function qu(f){return rd.apply(this,arguments)}(l.sessionId),x={};return De()?x.ibi=_.packageName:L()?x.apn=_.packageName:Dt(f,"operation-not-supported-in-this-environment"),_.displayName&&(x.appDisplayName=_.displayName),x.sessionId=y,ko(f,u,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,x)}),Hu.apply(this,arguments)}function jr(){return(jr=(0,I.Z)(function*(f){const{BuildInfo:l}=Mo(),u={};De()?u.iosBundleId=l.packageName:L()?u.androidPackageName=l.packageName:Dt(f,"operation-not-supported-in-this-environment"),yield So(f,u)})).apply(this,arguments)}function id(){return(id=(0,I.Z)(function*(f,l,u){const{cordova:m}=Mo();let _=()=>{};try{yield new Promise((y,x)=>{let M=null;function G(){var Ce;y();const Mn=null===(Ce=m.plugins.browsertab)||void 0===Ce?void 0:Ce.close;"function"==typeof Mn&&Mn(),"function"==typeof u?.close&&u.close()}function fe(){M||(M=window.setTimeout(()=>{x(Vt(f,"redirect-cancelled-by-user"))},2e3))}function we(){"visible"===document?.visibilityState&&fe()}l.addPassiveListener(G),document.addEventListener("resume",fe,!1),L()&&document.addEventListener("visibilitychange",we,!1),_=()=>{l.removePassiveListener(G),document.removeEventListener("resume",fe,!1),document.removeEventListener("visibilitychange",we,!1),M&&window.clearTimeout(M)}})}finally{_()}})).apply(this,arguments)}function rd(){return(rd=(0,I.Z)(function*(f){const l=function EI(f){if(Cn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),u=new Uint8Array(l);for(let m=0;m<f.length;m++)u[m]=f.charCodeAt(m);return u}(f),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Hv extends Iv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,I.Z)(function*(){yield l.initPromise})()}}function Gv(f){return yc.apply(this,arguments)}function yc(){return(yc=(0,I.Z)(function*(f){const l=yield Gu()._get(Wu(f));return l&&(yield Gu()._remove(Wu(f))),l})).apply(this,arguments)}function II(){const f=[];for(let u=0;u<20;u++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function Gu(){return ft(tn)}function Wu(f){return Un("authEvent",f.config.apiKey,f.name)}function An(f){if(!f?.includes("?"))return{};const[l,...u]=f.split("?");return(0,H.zd)(u.join("?"))}const Zm=class kn{constructor(){this._redirectPersistence=Er,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ql,this._overrideRedirectResult=Lm}_initialize(l){var u=this;return(0,I.Z)(function*(){const m=l._key();let _=u.eventManagers.get(m);return _||(_=new Hv(l),u.eventManagers.set(m,_),u.attachCallbackListeners(l,_)),_})()}_openPopup(l){Dt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){!function jv(f){var l,u,m,_,y,x,M,G,fe,we;const Ce=Mo();ee("function"==typeof(null===(l=Ce?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(u=Ce?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(y=null===(_=null===(m=Ce?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(G=null===(M=null===(x=Ce?.cordova)||void 0===x?void 0:x.plugins)||void 0===M?void 0:M.browsertab)||void 0===G?void 0:G.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(we=null===(fe=Ce?.cordova)||void 0===fe?void 0:fe.InAppBrowser)||void 0===we?void 0:we.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const x=yield y._initialize(l);yield x.initialized(),x.resetRedirect(),function aI(){As.clear()}(),yield y._originValidation(l);const M=function $v(f,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:II(),postBody:null,tenantId:f.tenantId,error:Vt(f,"no-auth-event")}}(l,m,_);yield function qv(f,l){return Gu()._set(Wu(f),l)}(l,M);const G=yield function Uv(f,l,u){return Hu.apply(this,arguments)}(l,M,u),fe=yield function wI(f){const{cordova:l}=Mo();return new Promise(u=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function mt(f=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),u(_)})})}(G);return function $u(f,l,u){return id.apply(this,arguments)}(l,x,fe)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function bI(f){return jr.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=Mo(),x=setTimeout((0,I.Z)(function*(){yield Gv(l),u.onEvent(Wv())}),500),M=function(){var we=(0,I.Z)(function*(Ce){clearTimeout(x);const Mn=yield Gv(l);let Hr=null;Mn&&Ce?.url&&(Hr=function Ta(f,l){var u,m;const _=function wc(f){const l=An(f),u=l.link?decodeURIComponent(l.link):void 0,m=An(u).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return An(_).link||_||m||u||f}(l);if(_.includes("/__/auth/callback")){const y=An(_),x=y.firebaseError?function bc(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,M=null===(m=null===(u=x?.code)||void 0===u?void 0:u.split("auth/"))||void 0===m?void 0:m[1],G=M?Vt(M):null;return G?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:G,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(Mn,Ce.url)),u.onEvent(Hr||Wv())});return function(Mn){return we.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,M);const G=_,fe=`${y.packageName.toLowerCase()}://`;Mo().handleOpenURL=function(){var we=(0,I.Z)(function*(Ce){if(Ce.toLowerCase().startsWith(fe)&&M({url:Ce}),"function"==typeof G)try{G(Ce)}catch(Mn){console.error(Mn)}});return function(Ce){return we.apply(this,arguments)}}()}};function Wv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}function Ro(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Ku(f=(0,H.z$)()){return!("file:"!==Ro()&&"ionic:"!==Ro()&&"capacitor:"!==Ro()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function TI(){try{const f=self.localStorage,l=uc();if(f)return f.setItem(l,"1"),f.removeItem(l),!function XM(f=(0,H.z$)()){return function YM(){return(0,H.w1)()&&11===document?.documentMode}()||function xI(f=(0,H.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,H.hl)()}catch{return Qv()&&(0,H.hl)()}return!1}function Qv(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yv(){return(function Kv(){return"http:"===Ro()||"https:"===Ro()}()||(0,H.ru)()||Ku())&&!function Cc(){return(0,H.b$)()||(0,H.UG)()}()&&TI()&&!Qv()}function DI(){return Ku()&&typeof document<"u"}function ks(){return(ks=(0,I.Z)(function*(){return!!DI()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},_n=ee,Xv="persistence";function Km(f){return ki.apply(this,arguments)}function ki(){return(ki=(0,I.Z)(function*(f){yield f._initializationPromise;const l=Qm(),u=Un(Xv,f.config.apiKey,f.name);l&&l.setItem(u,f._getPersistence())})).apply(this,arguments)}function Qm(){var f;try{return(null===(f=function SI(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Qu=ee;class zr{constructor(){this.browserResolver=ft(ju),this.cordovaResolver=ft(Zm),this.underlyingResolver=null,this._redirectPersistence=Er,this._completeRedirectFn=Ql,this._overrideRedirectResult=Lm}_initialize(l){var u=this;return(0,I.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,u,m,_)})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,u,m,_)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return DI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,I.Z)(function*(){if(l.underlyingResolver)return;const u=yield function JM(){return ks.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function Yu(f){return f.unwrap()}function Jv(f){return rr(f)}function rr(f){const{_tokenResponse:l}=f instanceof H.ZR?f.customData:f;if(!l)return null;if(!(f instanceof H.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return pc.credentialFromResult(f);const u=l.providerId;if(!u||u===Ft.PASSWORD)return null;let m;switch(u){case Ft.GOOGLE:m=LE;break;case Ft.FACEBOOK:m=FE;break;case Ft.GITHUB:m=VE;break;case Ft.TWITTER:m=X_;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:x,pendingToken:M,nonce:G}=l;return y||x||_||M?M?u.startsWith("saml.")?Ol._create(u,M):ns._fromParams({providerId:u,signInMethod:u,pendingToken:M,idToken:_,accessToken:y}):new Pl(u).credential({idToken:_,accessToken:y,rawNonce:G}):null}return f instanceof H.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function Mi(f,l){return l.catch(u=>{throw u instanceof H.ZR&&function tR(f,l){var u;const m=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new ty(f,function Dn(f,l){var u;const m=(0,H.m9)(f),_=l;return ee(l.customData.operationType,m,"argument-error"),ee(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,m,"argument-error"),Sm._fromError(m,_)}(f,l));else if(m){const _=rr(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:Jv(u),additionalUserInfo:KE(u),user:ss.getOrCreate(_)}})}function Ms(f,l){return ey.apply(this,arguments)}function ey(){return(ey=(0,I.Z)(function*(f,l){const u=yield l;return{verificationId:u.verificationId,confirm:m=>Mi(f,u.confirm(m))}})).apply(this,arguments)}class ty{constructor(l,u){this.resolver=u,this.auth=function eR(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Mi(Yu(this.auth),this.resolver.resolveSignIn(l))}}class ss{constructor(l){this._delegate=l,this.multiFactor=function Qt(f){const l=(0,H.m9)(f);return Ds.has(l)||Ds.set(l,Vr._fromUser(l)),Ds.get(l)}(l)}static getOrCreate(l){return ss.USER_MAP.has(l)||ss.USER_MAP.set(l,new ss(l)),ss.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,I.Z)(function*(){return Mi(u.auth,nv(u._delegate,l))})()}linkWithPhoneNumber(l,u){var m=this;return(0,I.Z)(function*(){return Ms(m.auth,function iI(f,l,u){return ku.apply(this,arguments)}(m._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,I.Z)(function*(){return Mi(u.auth,function yv(f,l,u){return Nm.apply(this,arguments)}(u._delegate,l,zr))})()}linkWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield Km(dn(u.auth)),q(u._delegate,l,zr)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,I.Z)(function*(){return Mi(u.auth,UE(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Ms(this.auth,function vv(f,l,u){return Pm.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return Mi(this.auth,function sI(f,l,u){return Ur.apply(this,arguments)}(this._delegate,l,zr))}reauthenticateWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield Km(dn(u.auth)),lI(u._delegate,l,zr)})()}sendEmailVerification(l){return function jl(f,l){return Tu.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,I.Z)(function*(){return yield function J_(f,l){return Ti.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function $E(f,l){return dv((0,H.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function lv(f,l){return dv((0,H.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Do(f,l){return Mu.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function HE(f,l){return wr.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function av(f,l,u){return Cm.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ss.USER_MAP=new WeakMap;const sd=ee;let ny=(()=>{class f{constructor(u,m){if(this.app=u,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;sd(_,"invalid-api-key",{appName:u.name}),sd(_,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?zr:void 0;this._delegate=m.initialize({options:{persistence:AI(_,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(Wn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ss.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,m){!function nc(f,l,u){const m=dn(f);ee(m._canInitEmulator,m,"emulator-config-failed"),ee(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!u?.disableWarnings,y=nr(l),{host:x,port:M}=function Ie(f){const l=nr(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!u)return{host:"",port:null};const m=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:Tl(m.substr(y.length+1))}}{const[y,x]=m.split(":");return{host:y,port:Tl(x)}}}(l);m.config.emulator={url:`${y}//${x}${null===M?"":`:${M}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:x,port:M,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function dm(){function f(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,u,m)}applyActionCode(u){return function O(f,l){return Cu.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return ce(this._delegate,u)}confirmPasswordReset(u,m){return function Ts(f,l,u){return wm.apply(this,arguments)}(this._delegate,u,m)}createUserWithEmailAndPassword(u,m){var _=this;return(0,I.Z)(function*(){return Mi(_._delegate,function jE(f,l,u){return Im.apply(this,arguments)}(_._delegate,u,m))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function sv(f,l){return xu.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function to(f,l){const u=gu.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,I.Z)(function*(){sd(Yv(),u._delegate,"operation-not-supported-in-this-environment");const m=yield function ot(f,l){return Bt.apply(this,arguments)}(u._delegate,zr);return m?Mi(u._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function Zv(f,l){dn(f)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,m,_){const{next:y,error:x,complete:M}=iy(u,m,_);return this._delegate.onAuthStateChanged(y,x,M)}onIdTokenChanged(u,m,_){const{next:y,error:x,complete:M}=iy(u,m,_);return this._delegate.onIdTokenChanged(y,x,M)}sendSignInLinkToEmail(u,m){return function is(f,l,u){return cc.apply(this,arguments)}(this._delegate,u,m)}sendPasswordResetEmail(u,m){return function sc(f,l,u){return bm.apply(this,arguments)}(this._delegate,u,m||void 0)}setPersistence(u){var m=this;return(0,I.Z)(function*(){let _;switch(function od(f,l){_n(Object.values(Cr).includes(l),f,"invalid-persistence-type"),(0,H.b$)()?_n(l!==Cr.SESSION,f,"unsupported-persistence-type"):(0,H.UG)()?_n(l===Cr.NONE,f,"unsupported-persistence-type"):Qv()?_n(l===Cr.NONE||l===Cr.LOCAL&&(0,H.hl)(),f,"unsupported-persistence-type"):_n(l===Cr.NONE||TI(),f,"unsupported-persistence-type")}(m._delegate,u),u){case Cr.SESSION:_=Er;break;case Cr.LOCAL:_=(yield ft(Gl)._isAvailable())?Gl:tn;break;case Cr.NONE:_=Zt;break;default:return Dt("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return Mi(this._delegate,function _m(f){return _u.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return Mi(this._delegate,Ll(this._delegate,u))}signInWithCustomToken(u){return Mi(this._delegate,function OM(f,l){return da.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,m){return Mi(this._delegate,function zE(f,l,u){return Ll((0,H.m9)(f),Y_.credential(l,u)).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ym(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,u,m))}signInWithEmailLink(u,m){return Mi(this._delegate,function Co(f,l,u){return It.apply(this,arguments)}(this._delegate,u,m))}signInWithPhoneNumber(u,m){return Ms(this._delegate,function _v(f,l,u){return Rm.apply(this,arguments)}(this._delegate,u,m))}signInWithPopup(u){var m=this;return(0,I.Z)(function*(){return sd(Yv(),m._delegate,"operation-not-supported-in-this-environment"),Mi(m._delegate,function oI(f,l,u){return Kl.apply(this,arguments)}(m._delegate,u,zr))})()}signInWithRedirect(u){var m=this;return(0,I.Z)(function*(){return sd(Yv(),m._delegate,"operation-not-supported-in-this-environment"),yield Km(m._delegate),gc(m._delegate,u,zr)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function Em(f,l){return ha.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Cr,f})();function iy(f,l,u){let m=f;"function"!=typeof f&&({next:m,error:l,complete:u}=f);const _=m;return{next:x=>_(x&&ss.getOrCreate(x)),error:l,complete:u}}function AI(f,l){const u=function xc(f,l){const u=Qm();if(!u)return[];const m=Un(Xv,f,l);switch(u.getItem(m)){case Cr.NONE:return[Zt];case Cr.LOCAL:return[Gl,Er];case Cr.SESSION:return[Er];default:return[]}}(f,l);if(typeof self<"u"&&!u.includes(Gl)&&u.push(Gl),typeof window<"u")for(const m of[tn,Er])u.includes(m)||u.push(m);return u.includes(Zt)||u.push(Zt),u}class Ym{constructor(){this.providerId="phone",this._delegate=new pc(Yu(xe.Z.auth()))}static credential(l,u){return pc.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Ym.PHONE_SIGN_IN_METHOD=pc.PHONE_SIGN_IN_METHOD,Ym.PROVIDER_ID=pc.PROVIDER_ID;const Xm=ee;class Xu{constructor(l,u,m=xe.Z.app()){var _;Xm(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new ba(m.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rs(f){f.INTERNAL.registerComponent(new Vn.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new ny(u,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Y_,FacebookAuthProvider:FE,GithubAuthProvider:VE,GoogleAuthProvider:LE,OAuthProvider:Pl,SAMLAuthProvider:la,PhoneAuthProvider:Ym,PhoneMultiFactorGenerator:vI,RecaptchaVerifier:Xu,TwitterAuthProvider:X_,Auth:ny,AuthCredential:Gt,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(xe.Z)},861:($o,fi,Xe)=>{function I(H,qe,En,Je,Vn,Ei,Ft){try{var te=H[Ei](Ft),ae=te.value}catch(Te){return void En(Te)}te.done?qe(ae):Promise.resolve(ae).then(Je,Vn)}function xe(H){return function(){var qe=this,En=arguments;return new Promise(function(Je,Vn){var Ei=H.apply(qe,En);function Ft(ae){I(Ei,Je,Vn,Ft,te,"next",ae)}function te(ae){I(Ei,Je,Vn,Ft,te,"throw",ae)}Ft(void 0)})}}Xe.d(fi,{Z:()=>xe})},582:($o,fi,Xe)=>{function qe(B,z){var Y={};for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&z.indexOf(W)<0&&(Y[W]=B[W]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(W=Object.getOwnPropertySymbols(B);ne<W.length;ne++)z.indexOf(W[ne])<0&&Object.prototype.propertyIsEnumerable.call(B,W[ne])&&(Y[W[ne]]=B[W[ne]])}return Y}function Te(B,z,Y,W){return new(Y||(Y=Promise))(function(J,Ue){function gt(St){try{Ne(W.next(St))}catch(On){Ue(On)}}function Bn(St){try{Ne(W.throw(St))}catch(On){Ue(On)}}function Ne(St){St.done?J(St.value):function ne(J){return J instanceof Y?J:new Y(function(Ue){Ue(J)})}(St.value).then(gt,Bn)}Ne((W=W.apply(B,z||[])).next())})}function on(B){return this instanceof on?(this.v=B,this):new on(B)}function Dt(B,z,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,W=Y.apply(B,z||[]),J=[];return ne={},Ue("next"),Ue("throw"),Ue("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function Ue(Fe){W[Fe]&&(ne[Fe]=function(pi){return new Promise(function(Kn,ii){J.push([Fe,pi,Kn,ii])>1||gt(Fe,pi)})})}function gt(Fe,pi){try{!function Bn(Fe){Fe.value instanceof on?Promise.resolve(Fe.value.v).then(Ne,St):On(J[0][2],Fe)}(W[Fe](pi))}catch(Kn){On(J[0][3],Kn)}}function Ne(Fe){gt("next",Fe)}function St(Fe){gt("throw",Fe)}function On(Fe,pi){Fe(pi),J.shift(),J.length&&gt(J[0][0],J[0][1])}}function Ui(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,z=B[Symbol.asyncIterator];return z?z.call(B):(B=function Lt(B){var z="function"==typeof Symbol&&Symbol.iterator,Y=z&&B[z],W=0;if(Y)return Y.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&W>=B.length&&(B=void 0),{value:B&&B[W++],done:!B}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),Y={},W("next"),W("throw"),W("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function W(J){Y[J]=B[J]&&function(Ue){return new Promise(function(gt,Bn){!function ne(J,Ue,gt,Bn){Promise.resolve(Bn).then(function(Ne){J({value:Ne,done:gt})},Ue)}(gt,Bn,(Ue=B[J](Ue)).done,Ue.value)})}}}Xe.d(fi,{FC:()=>Dt,KL:()=>Ui,_T:()=>qe,mG:()=>Te,qq:()=>on}),"function"==typeof SuppressedError&&SuppressedError}},$o=>{$o($o.s=623)}]);
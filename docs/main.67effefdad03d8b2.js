"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:($o,hi,Je)=>{Je.d(hi,{BH:()=>Nt,G6:()=>Br,L:()=>Pt,LL:()=>ee,Pz:()=>Ct,Sg:()=>Vi,UG:()=>J,ZB:()=>Te,ZR:()=>ie,aH:()=>on,b$:()=>Vr,eu:()=>j,hl:()=>V,jU:()=>In,m9:()=>ml,ne:()=>Zo,pd:()=>hl,r3:()=>ei,ru:()=>xn,tV:()=>te,uI:()=>fi,vZ:()=>Go,w1:()=>wo,xO:()=>qa,xb:()=>gr,z$:()=>dt,zd:()=>vr});const He=function(D){const x=[];let C=0;for(let G=0;G<D.length;G++){let L=D.charCodeAt(G);L<128?x[C++]=L:L<2048?(x[C++]=L>>6|192,x[C++]=63&L|128):55296==(64512&L)&&G+1<D.length&&56320==(64512&D.charCodeAt(G+1))?(L=65536+((1023&L)<<10)+(1023&D.charCodeAt(++G)),x[C++]=L>>18|240,x[C++]=L>>12&63|128,x[C++]=L>>6&63|128,x[C++]=63&L|128):(x[C++]=L>>12|224,x[C++]=L>>6&63|128,x[C++]=63&L|128)}return x},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,x){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let L=0;L<D.length;L+=3){const se=D[L],be=L+1<D.length,Mt=be?D[L+1]:0,pe=L+2<D.length,Wt=pe?D[L+2]:0;let Ai=(15&Mt)<<2|Wt>>6,xo=63&Wt;pe||(xo=64,be||(Ai=64)),G.push(C[se>>2],C[(3&se)<<4|Mt>>4],C[Ai],C[xo])}return G.join("")},encodeString(D,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(D):this.encodeByteArray(He(D),x)},decodeString(D,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(D):function(D){const x=[];let C=0,G=0;for(;C<D.length;){const L=D[C++];if(L<128)x[G++]=String.fromCharCode(L);else if(L>191&&L<224){const se=D[C++];x[G++]=String.fromCharCode((31&L)<<6|63&se)}else if(L>239&&L<365){const pe=((7&L)<<18|(63&D[C++])<<12|(63&D[C++])<<6|63&D[C++])-65536;x[G++]=String.fromCharCode(55296+(pe>>10)),x[G++]=String.fromCharCode(56320+(1023&pe))}else{const se=D[C++],be=D[C++];x[G++]=String.fromCharCode((15&L)<<12|(63&se)<<6|63&be)}}return x.join("")}(this.decodeStringToByteArray(D,x))},decodeStringToByteArray(D,x){this.init_();const C=x?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let L=0;L<D.length;){const se=C[D.charAt(L++)],Mt=L<D.length?C[D.charAt(L)]:0;++L;const Wt=L<D.length?C[D.charAt(L)]:64;++L;const gt=L<D.length?C[D.charAt(L)]:64;if(++L,null==se||null==Mt||null==Wt||null==gt)throw new Rn;G.push(se<<2|Mt>>4),64!==Wt&&(G.push(Mt<<4&240|Wt>>2),64!==gt&&G.push(Wt<<6&192|gt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class Rn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pt=function(D){return function(D){const x=He(D);return et.encodeByteArray(x,!0)}(D).replace(/\./g,"")},te=function(D){try{return et.decodeString(D,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function Te(D,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return x}for(const C in x)!x.hasOwnProperty(C)||!st(C)||(D[C]=Te(D[C],x[C]));return D}function st(D){return"__proto__"!==D}const lt=()=>{try{return function It(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=D&&te(D[1]);return x&&JSON.parse(x)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},on=()=>{var D;return null===(D=lt())||void 0===D?void 0:D.config},Ct=D=>{var x;return null===(x=lt())||void 0===x?void 0:x[`_${D}`]};class Nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,C)=>{this.resolve=x,this.reject=C})}wrapCallback(x){return(C,G)=>{C?this.reject(C):this.resolve(G),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(C):x(C,G))}}}function Vi(D,x){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=x||"demo-project",L=D.iat||0,se=D.sub||D.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const be=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:L,exp:L+3600,auth_time:L,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},D);return[Pt(JSON.stringify({alg:"none",type:"JWT"})),Pt(JSON.stringify(be)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function J(){var D;const x=null===(D=lt())||void 0===D?void 0:D.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function In(){return"object"==typeof self&&self.self===self}function xn(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Vr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wo(){const D=dt();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Br(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){try{return"object"==typeof indexedDB}catch{return!1}}function j(){return new Promise((D,x)=>{try{let C=!0;const G="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(G);L.onsuccess=()=>{L.result.close(),C||self.indexedDB.deleteDatabase(G),D(!0)},L.onupgradeneeded=()=>{C=!1},L.onerror=()=>{var se;x((null===(se=L.error)||void 0===se?void 0:se.message)||"")}}catch(C){x(C)}})}class ie extends Error{constructor(x,C,G){super(C),this.code=x,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(x,C,G){this.service=x,this.serviceName=C,this.errors=G}create(x,...C){const G=C[0]||{},L=`${this.service}/${x}`,se=this.errors[x],be=se?function Fe(D,x){return D.replace(ft,(C,G)=>{const L=x[G];return null!=L?String(L):`<${G}?>`})}(se,G):"Error";return new ie(L,`${this.serviceName}: ${be} (${L}).`,G)}}const ft=/\{\$([^}]+)}/g;function ei(D,x){return Object.prototype.hasOwnProperty.call(D,x)}function gr(D){for(const x in D)if(Object.prototype.hasOwnProperty.call(D,x))return!1;return!0}function Go(D,x){if(D===x)return!0;const C=Object.keys(D),G=Object.keys(x);for(const L of C){if(!G.includes(L))return!1;const se=D[L],be=x[L];if(_r(se)&&_r(be)){if(!Go(se,be))return!1}else if(se!==be)return!1}for(const L of G)if(!C.includes(L))return!1;return!0}function _r(D){return null!==D&&"object"==typeof D}function qa(D){const x=[];for(const[C,G]of Object.entries(D))Array.isArray(G)?G.forEach(L=>{x.push(encodeURIComponent(C)+"="+encodeURIComponent(L))}):x.push(encodeURIComponent(C)+"="+encodeURIComponent(G));return x.length?"&"+x.join("&"):""}function vr(D){const x={};return D.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[L,se]=G.split("=");x[decodeURIComponent(L)]=decodeURIComponent(se)}}),x}function hl(D){const x=D.indexOf("?");if(!x)return"";const C=D.indexOf("#",x);return D.substring(x,C>0?C:void 0)}function Zo(D,x){const C=new Eo(D,x);return C.subscribe.bind(C)}class Eo{constructor(x,C){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=C,this.task.then(()=>{x(this)}).catch(G=>{this.error(G)})}next(x){this.forEachObserver(C=>{C.next(x)})}error(x){this.forEachObserver(C=>{C.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,C,G){let L;if(void 0===x&&void 0===C&&void 0===G)throw new Error("Missing Observer.");L=function Io(D,x){if("object"!=typeof D||null===D)return!1;for(const C of x)if(C in D&&"function"==typeof D[C])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:C,complete:G},void 0===L.next&&(L.next=Es),void 0===L.error&&(L.error=Es),void 0===L.complete&&(L.complete=Es);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),se}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let C=0;C<this.observers.length;C++)this.sendOne(C,x)}sendOne(x,C){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{C(this.observers[x])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Es(){}function ml(D){return D&&D._delegate?D._delegate:D}},923:($o,hi,Je)=>{let Ce=null,He=1;function et(n){const e=Ce;return Ce=n,e}function st(n){if((!Nt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==He)){if(!n.producerMustRecompute(n)&&!$n(n))return n.dirty=!1,void(n.lastCleanEpoch=He);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=He}}function $n(n){Vi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(st(t),i!==t.version))return!0}return!1}function Ct(n,e){if(function dt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Vi(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Ct(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Vi(r),r.producerIndexOfThis[i]=e}}function Nt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Vi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let wo=null;function Pe(n){return"function"==typeof n}function mi(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const qn=mi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ei(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class kt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Pe(i))try{i()}catch(o){e=o instanceof qn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Go(o)}catch(s){e=e??[],s instanceof qn?e=[...e,...s.errors]:e.push(s)}}if(e)throw new qn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Go(e);else{if(e instanceof kt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ei(t,e)}remove(e){const{_finalizers:t}=this;t&&ei(t,e),e instanceof kt&&e._removeParent(this)}}kt.EMPTY=(()=>{const n=new kt;return n.closed=!0,n})();const gr=kt.EMPTY;function ul(n){return n instanceof kt||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function Go(n){Pe(n)?n():n.unsubscribe()}const _r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wo={setTimeout(n,e,...t){const{delegate:i}=Wo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Wo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qa(n){Wo.setTimeout(()=>{const{onUnhandledError:e}=_r;if(!e)throw n;e(n)})}function vr(){}const hl=Eo("C",void 0,void 0);function Eo(n,e,t){return{kind:n,value:e,error:t}}let Ji=null;function Io(n){if(_r.useDeprecatedSynchronousErrorHandling){const e=!Ji;if(e&&(Ji={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ji;if(Ji=null,t)throw i}}else n()}class Is extends kt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ul(e)&&e.add(this)):this.destination=Wa}static create(e,t,i){return new Di(e,t,i)}next(e){this.isStopped?Ga(function Zo(n){return Eo("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ga(function yr(n){return Eo("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ga(hl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ko=Function.prototype.bind;function Qo(n,e){return Ko.call(n,e)}class Ur{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Yo(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Yo(i)}else Yo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Yo(t)}}}class Di extends Is{constructor(e,t,i){let r;if(super(),Pe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&_r.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Qo(e.next,o),error:e.error&&Qo(e.error,o),complete:e.complete&&Qo(e.complete,o)}):r=e}this.destination=new Ur(r)}}function Yo(n){_r.useDeprecatedSynchronousErrorHandling?function Es(n){_r.useDeprecatedSynchronousErrorHandling&&Ji&&(Ji.errorThrown=!0,Ji.error=n)}(n):qa(n)}function Ga(n,e){const{onStoppedNotification:t}=_r;t&&Wo.setTimeout(()=>t(n,e))}const Wa={closed:!0,next:vr,error:function fl(n){throw n},complete:vr},to="function"==typeof Symbol&&Symbol.observable||"@@observable";function Si(n){return n}function sa(n){return 0===n.length?Si:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function D(n){return n&&n instanceof Is||function ml(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&ul(n)}(t)?t:new Di(t,i,r);return Io(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Za(i))((r,o)=>{const s=new Di({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[to](){return this}pipe(...t){return sa(t)(this)}toPromise(t){return new(t=Za(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Za(n){var e;return null!==(e=n??_r.Promise)&&void 0!==e?e:Promise}const x=mi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let C=(()=>{class n extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new G(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new x}next(t){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?gr:(this.currentObservers=null,o.push(t),new kt(()=>{this.currentObservers=null,ei(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new yt;return t.source=this,t}}return n.create=(e,t)=>new G(e,t),n})();class G extends C{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:gr}}function L(n){return Pe(n?.lift)}function se(n){return e=>{if(L(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,i,r){return new Mt(n,e,t,i,r)}class Mt extends Is{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(n,e){return se((t,i)=>{let r=0;t.subscribe(be(i,o=>{i.next(n.call(e,o,r++))}))})}var Wt=Je(582);const Bi=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function gt(n){return Pe(n?.then)}function Ai(n){return Pe(n[to])}function xo(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function Cs(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const H=function aa(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function N(n){return Pe(n?.[H])}function oe(n){return(0,Wt.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Wt.qq)(t.read());if(r)return yield(0,Wt.qq)(void 0);yield yield(0,Wt.qq)(i)}}finally{t.releaseLock()}})}function Ae(n){return Pe(n?.getReader)}function Se(n){if(n instanceof yt)return n;if(null!=n){if(Ai(n))return function ht(n){return new yt(e=>{const t=n[to]();if(Pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Bi(n))return function Lt(n){return new yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(gt(n))return function ki(n){return new yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qa)})}(n);if(xo(n))return Xo(n);if(N(n))return function On(n){return new yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ae(n))return function pl(n){return Xo(oe(n))}(n)}throw Cs(n)}function Xo(n){return new yt(e=>{(function Jf(n,e){var t,i,r,o;return(0,Wt.mG)(this,void 0,void 0,function*(){try{for(t=(0,Wt.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Jo(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function pi(n,e,t=1/0){return Pe(e)?pi((i,r)=>pe((o,s)=>e(i,o,r,s))(Se(n(i,r))),t):("number"==typeof e&&(t=e),se((i,r)=>function gE(n,e,t,i,r,o,s,a){const c=[];let d=0,h=0,p=!1;const g=()=>{p&&!c.length&&!d&&e.complete()},v=w=>d<i?b(w):c.push(w),b=w=>{o&&e.next(w),d++;let E=!1;Se(t(w,h++)).subscribe(be(e,A=>{r?.(A),o?v(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;c.length&&d<i;){const A=c.shift();s?Jo(e,s,()=>b(A)):b(A)}g()}catch(A){e.error(A)}}))};return n.subscribe(be(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Vt(n=1/0){return pi(Si,n)}const no=new yt(n=>n.complete());function tm(n){return n&&Pe(n.schedule)}function nm(n){return n[n.length-1]}function j_(n){return Pe(nm(n))?n.pop():void 0}function gl(n){return tm(nm(n))?n.pop():void 0}function Ts(n,e=0){return se((t,i)=>{t.subscribe(be(i,r=>Jo(i,n,()=>i.next(r),e),()=>Jo(i,n,()=>i.complete(),e),r=>Jo(i,n,()=>i.error(r),e)))})}function Ds(n,e=0){return se((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function H_(n,e){if(!n)throw new Error("Iterable cannot be null");return new yt(t=>{Jo(t,e,()=>{const i=n[Symbol.asyncIterator]();Jo(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function qt(n,e){return e?function $_(n,e){if(null!=n){if(Ai(n))return function iu(n,e){return Se(n).pipe(Ds(e),Ts(e))}(n,e);if(Bi(n))return function _E(n,e){return new yt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(gt(n))return function im(n,e){return Se(n).pipe(Ds(e),Ts(e))}(n,e);if(xo(n))return H_(n,e);if(N(n))return function rm(n,e){return new yt(t=>{let i;return Jo(t,e,()=>{i=n[H](),Jo(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Pe(i?.return)&&i.return()})}(n,e);if(Ae(n))return function vE(n,e){return H_(oe(n),e)}(n,e)}throw Cs(n)}(n,e):Se(n)}function _l(...n){const e=gl(n),t=function z_(n,e){return"number"==typeof nm(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Se(i[0]):Vt(t)(qt(i,e)):no}class er extends C{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function xe(...n){return qt(n,gl(n))}function es(n={}){const{connector:e=(()=>new C),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return se((w,E)=>{d++,!p&&!h&&g();const A=c=c??e();E.add(()=>{d--,0===d&&!p&&!h&&(a=ru(b,r))}),A.subscribe(E),!s&&d>0&&(s=new Di({next:S=>A.next(S),error:S=>{p=!0,g(),a=ru(v,t,S),A.error(S)},complete:()=>{h=!0,g(),a=ru(v,i),A.complete()}}),Se(w).subscribe(s))})(o)}}function ru(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Di({next:()=>{i.unsubscribe(),n()}});return Se(e(...t)).subscribe(i)}function un(n,e){return se((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(be(i,c=>{r?.unsubscribe();let d=0;const h=o++;Se(n(c,h)).subscribe(r=be(i,p=>i.next(e?e(c,p,h,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function vl(n,e=Si){return n=n??om,se((t,i)=>{let r,o=!0;t.subscribe(be(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function om(n,e){return n===e}function Bt(n){for(let e in n)if(n[e]===Bt)return e;throw Error("Could not find renamed property on target object.")}function Ka(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Nn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function yl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const am=Bt({__forward_ref__:Bt});function Ut(n){return n.__forward_ref__=Ut,n.toString=function(){return Nn(this())},n}function Le(n){return ou(n)?n():n}function ou(n){return"function"==typeof n&&n.hasOwnProperty(am)&&n.__forward_ref__===Ut}function bl(n){return n&&!!n.\u0275providers}const su="https://g.co/ng/security#xss";class U extends Error{constructor(e,t){super(function Ss(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const wl=Bt({\u0275cmp:Bt}),El=Bt({\u0275dir:Bt}),cm=Bt({\u0275pipe:Bt}),au=Bt({\u0275mod:Bt}),br=Bt({\u0275fac:Bt}),wr=Bt({__NG_ELEMENT_ID__:Bt}),cu=Bt({__NG_ENV_ID__:Bt});function Ke(n){return"string"==typeof n?n:null==n?"":String(n)}function Il(n,e){throw new U(-201,!1)}function Ui(n,e){null==n&&function Ve(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ji(n){return Z_(n,Tl)||Z_(n,K_)}function Z_(n,e){return n.hasOwnProperty(e)?n[e]:null}function ca(n){return n&&(n.hasOwnProperty(du)||n.hasOwnProperty(fm))?n[du]:null}const Tl=Bt({\u0275prov:Bt}),du=Bt({\u0275inj:Bt}),K_=Bt({ngInjectableDef:Bt}),fm=Bt({ngInjectorDef:Bt});var at=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(at||{});let Dl;function Sl(){return Dl}function Mi(n){const e=Dl;return Dl=n,e}function mm(n,e,t){const i=ji(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&at.Optional?null:void 0!==e?e:void Il(Nn(n))}const Zt=globalThis;class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ks={},Rl="__NG_DI_FLAG__",Xa="ngTempTokenPath",_m=/\n/gm,fu="__source";let Ja;function ns(n){const e=Ja;return Ja=n,e}function ym(n,e=at.Default){if(void 0===Ja)throw new U(-203,!1);return null===Ja?mm(n,void 0,e):Ja.get(n,e&at.Optional?null:void 0,e)}function R(n,e=at.Default){return(Sl()||ym)(Le(n),e)}function le(n,e=at.Default){return R(n,ec(e))}function ec(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bm(n){const e=[];for(let t=0;t<n.length;t++){const i=Le(n[t]);if(Array.isArray(i)){if(0===i.length)throw new U(900,!1);let r,o=at.Default;for(let s=0;s<i.length;s++){const a=i[s],c=wm(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(R(r,o))}else e.push(R(i))}return e}function Pl(n,e){return n[Rl]=e,n.prototype[Rl]=e,n}function wm(n){return n[Rl]}function io(n){return{toString:n}.toString()}var pu=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(pu||{}),Ir=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ir||{});const Co={},bt=[];function tv(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ol(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];gu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function nv(n){return 3===n||4===n||6===n}function gu(n){return 64===n.charCodeAt(0)}function Nl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||_u(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function _u(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const iv="ng-template";function Em(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==tv(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function rv(n){return 4===n.type&&n.value!==iv}function SE(n,e,t){return e===(4!==n.type||t?n.value:iv)}function ov(n,e,t){let i=4;const r=n.attrs||[],o=function kE(n){for(let e=0;e<n.length;e++)if(nv(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!SE(n,c,t)||""===c&&1===e.length){if(xr(i))return!1;s=!0}}else{const d=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!Em(n.attrs,d,t)){if(xr(i))return!1;s=!0}continue}const p=AE(8&i?"class":c,r,rv(n),t);if(-1===p){if(xr(i))return!1;s=!0;continue}if(""!==d){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==tv(v,d,0)||2&i&&d!==g){if(xr(i))return!1;s=!0}}}}else{if(!s&&!xr(i)&&!xr(c))return!1;if(s&&xr(c))continue;s=!1,i=c|1&i}}return xr(i)||s}function xr(n){return 0==(1&n)}function AE(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function ME(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function la(n,e,t=!1){for(let i=0;i<e.length;i++)if(ov(n,e[i],t))return!0;return!1}function RE(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function av(n,e){return n?":not("+e.trim()+")":e}function PE(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!xr(s)&&(e+=av(o,r),r=""),i=s,o=o||!xr(i);t++}return""!==r&&(e+=av(o,r)),e}function Fn(n){return io(()=>{const e=cv(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ir.Emulated,styles:n.styles||bt,_:null,schemas:n.schemas||null,tView:null,id:""};lv(t);const i=n.dependencies;return t.directiveDefs=vu(i,!1),t.pipeDefs=vu(i,!0),t.id=function FE(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Im(n){return ut(n)||ti(n)}function OE(n){return null!==n}function Ft(n){return io(()=>({type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function NE(n,e){if(null==n)return Co;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Oe(n){return io(()=>{const e=cv(n);return lv(e),e})}function ut(n){return n[wl]||null}function ti(n){return n[El]||null}function Gn(n){return n[cm]||null}function ni(n,e){const t=n[au]||null;if(!t&&!0===e)throw new Error(`Type ${Nn(n)} does not have '\u0275mod' property.`);return t}function cv(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Co,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NE(n.inputs,e),outputs:NE(n.outputs),debugInfo:null}}function lv(n){n.features?.forEach(e=>e(n))}function vu(n,e){if(!n)return null;const t=e?Gn:Im;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(OE)}const Cn=0,de=1,Ue=2,hn=3,nr=4,gi=5,To=6,tc=7,en=8,ir=9,is=10,Qe=11,jr=12,dv=13,nc=14,Kt=15,Fl=16,sn=17,Do=18,da=19,uv=20,So=21,yu=22,ua=23,je=25,xm=1,Ll=2,bu=6,rr=7,ic=9,Tn=11;function Wn(n){return Array.isArray(n)&&"object"==typeof n[xm]}function ii(n){return Array.isArray(n)&&!0===n[xm]}function Vl(n){return 0!=(4&n.flags)}function Ms(n){return n.componentOffset>-1}function wu(n){return 1==(1&n.flags)}function ro(n){return!!n.template}function hv(n){return 0!=(512&n[Ue])}function rs(n,e){return n.hasOwnProperty(br)?n[br]:null}class UE{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function zi(){return Bl}function Bl(n){return n.type.prototype.ngOnChanges&&(n.setInput=jE),Sm}function Sm(){const n=oc(this),e=n?.current;if(e){const t=n.previous;if(t===Co)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function jE(n,e,t,i){const r=this.declaredInputs[t],o=oc(n)||function ma(n,e){return n[Eu]=e}(n,{previous:Co,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new UE(c&&c.currentValue,e,a===Co),n[i]=e}zi.ngInherit=!0;const Eu="__ngSimpleChanges__";function oc(n){return n[Eu]||null}const Ao=function(n,e,t){};function Qt(n){for(;Array.isArray(n);)n=n[Cn];return n}function jl(n,e){return Qt(e[n])}function _i(n,e){return Qt(e[n.index])}function pa(n,e){return n.data[e]}function Hi(n,e){const t=e[n];return Wn(t)?t:t[Cn]}function Mm(n){return 128==(128&n[Ue])}function ko(n,e){return null==e?null:n[e]}function bv(n){n[sn]=0}function Rm(n){1024&n[Ue]||(n[Ue]|=1024,Mm(n)&&Tu(n))}function Cu(n){9216&n[Ue]&&Tu(n)}function Tu(n){let e=n[hn];for(;null!==e&&!(ii(e)&&e[bu]||Wn(e)&&8192&e[Ue]);){if(ii(e))e[bu]=!0;else if(e[Ue]|=8192,!Mm(e))break;e=e[hn]}}function ac(n,e){if(256==(256&n[Ue]))throw new U(911,!1);null===n[So]&&(n[So]=[]),n[So].push(e)}const ze={lFrame:Dv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Su(){return ze.bindingsEnabled}function cc(){return null!==ze.skipHydrationRootTNode}function q(){return ze.lFrame.lView}function mt(){return ze.lFrame.tView}function wt(n){return ze.lFrame.contextLView=n,n[en]}function Dt(n){return ze.lFrame.contextLView=null,n}function jt(){let n=Fm();for(;null!==n&&64===n.type;)n=n.parent;return n}function Fm(){return ze.lFrame.currentTNode}function Mo(n,e){const t=ze.lFrame;t.currentTNode=n,t.isParent=e}function ku(){return ze.lFrame.isParent}function Hl(){ze.lFrame.isParent=!1}function oo(){return ze.lFrame.bindingIndex++}function ss(n){const e=ze.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function KE(n,e){const t=ze.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lm(e)}function Lm(n){ze.lFrame.currentDirectiveIndex=n}function Vm(n){const e=ze.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Cv(){return ze.lFrame.currentQueryIndex}function Bm(n){ze.lFrame.currentQueryIndex=n}function YE(n){const e=n[de];return 2===e.type?e.declTNode:1===e.type?n[gi]:null}function Ru(n,e,t){if(t&at.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&at.Host||(r=YE(o),null===r||(o=o[nc],10&r.type))););if(null===r)return!1;e=r,n=o}const i=ze.lFrame=Tv();return i.currentTNode=e,i.lView=n,!0}function Um(n){const e=Tv(),t=n[de];ze.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Tv(){const n=ze.lFrame,e=null===n?null:n.child;return null===e?Dv(n):e}function Dv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Sv(){const n=ze.lFrame;return ze.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Av=Sv;function Pu(){const n=Sv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $i(){return ze.lFrame.selectedIndex}function ga(n){ze.lFrame.selectedIndex=n}function an(){const n=ze.lFrame;return pa(n.tView,n.selectedIndex)}let Mv=!0;function $l(){return Mv}function Rs(n){Mv=n}function Fu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Hm(n,e,t){ql(n,e,3,t)}function dc(n,e,t,i){(3&n[Ue])===t&&ql(n,e,t,i)}function Lu(n,e){let t=n[Ue];(3&t)===e&&(t&=16383,t+=1,n[Ue]=t)}function ql(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[sn]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[sn]+=65536),(a<o||-1==o)&&(Rv(n,t,e,c),n[sn]=(4294901760&n[sn])+c+2),c++}function $m(n,e){Ao(4,n,e);const t=et(null);try{e.call(n)}finally{et(t),Ao(5,n,e)}}function Rv(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ue]>>14<n[sn]>>16&&(3&n[Ue])===e&&(n[Ue]+=16384,$m(a,o)):$m(a,o)}const uc=-1;class Gl{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Gm(n){return n!==uc}function Wl(n){return 32767&n}function Zl(n,e){let t=function Wm(n){return n>>16}(n),i=e;for(;t>0;)i=i[nc],t--;return i}let Kl=!0;function Vu(n){const e=Kl;return Kl=n,e}const Bu=255,Ov=5;let iI=0;const zr={};function Uu(n,e){const t=Nv(n,e);if(-1!==t)return t;const i=e[de];i.firstCreatePass&&(n.injectorIndex=e.length,Zm(i.data,n),Zm(e,null),Zm(i.blueprint,null));const r=ju(n,e),o=n.injectorIndex;if(Gm(r)){const s=Wl(r),a=Zl(r,e),c=a[de].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function Zm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Nv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ju(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Qm(r),null===i)return uc;if(t++,r=r[nc],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return uc}function zu(n,e,t){!function rI(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(wr)&&(i=t[wr]),null==i&&(i=t[wr]=iI++);const r=i&Bu;e.data[n+(r>>Ov)]|=1<<r}(n,e,t)}function Fv(n,e,t){if(t&at.Optional||void 0!==n)return n;Il()}function Lv(n,e,t,i){if(t&at.Optional&&void 0===i&&(i=null),!(t&(at.Self|at.Host))){const r=n[ir],o=Mi(void 0);try{return r?r.get(e,i,t&at.Optional):mm(e,i,t&at.Optional)}finally{Mi(o)}}return Fv(i,0,t)}function Hu(n,e,t,i=at.Default,r){if(null!==n){if(2048&e[Ue]&&!(i&at.Self)){const s=function cI(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ue]&&!(512&s[Ue]);){const a=$u(o,s,t,i|at.Self,zr);if(a!==zr)return a;let c=o.parent;if(!c){const d=s[uv];if(d){const h=d.get(t,zr,i);if(h!==zr)return h}c=Qm(s),s=s[nc]}o=c}return r}(n,e,t,i,zr);if(s!==zr)return s}const o=$u(n,e,t,i,zr);if(o!==zr)return o}return Lv(e,t,i,r)}function $u(n,e,t,i,r){const o=function sI(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(wr)?n[wr]:void 0;return"number"==typeof e?e>=0?e&Bu:aI:e}(t);if("function"==typeof o){if(!Ru(e,n,i))return i&at.Host?Fv(r,0,i):Lv(e,t,i,r);try{let s;if(s=o(i),null!=s||i&at.Optional)return s;Il()}finally{Av()}}else if("number"==typeof o){let s=null,a=Nv(n,e),c=uc,d=i&at.Host?e[Kt][gi]:null;for((-1===a||i&at.SkipSelf)&&(c=-1===a?ju(n,e):e[a+8],c!==uc&&Bv(i,!1)?(s=e[de],a=Wl(c),e=Zl(c,e)):a=-1);-1!==a;){const h=e[de];if(Vv(o,a,h.data)){const p=oI(a,e,t,s,i,d);if(p!==zr)return p}c=e[a+8],c!==uc&&Bv(i,e[de].data[a+8]===d)&&Vv(o,a,e)?(s=h,a=Wl(c),e=Zl(c,e)):a=-1}}return r}function oI(n,e,t,i,r,o){const s=e[de],a=s.data[n+8],h=qu(a,s,t,null==i?Ms(a)&&Kl:i!=s&&0!=(3&a.type),r&at.Host&&o===a);return null!==h?Ro(e,s,h,a):zr}function qu(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&ro(v)&&v.type===t)return c}return null}function Ro(n,e,t,i){let r=n[t];const o=e.data;if(function eI(n){return n instanceof Gl}(r)){const s=r;s.resolving&&function yE(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,`Circular dependency in DI detected for ${n}${t}`)}(function rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ke(n)}(o[t]));const a=Vu(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Mi(s.injectImpl):null;Ru(n,i,at.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function zm(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Bl(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&Mi(d),Vu(a),s.resolving=!1,Av()}}return r}function Vv(n,e,t){return!!(t[e+(n>>Ov)]&1<<n)}function Bv(n,e){return!(n&at.Self||n&at.Host&&e)}class Zn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Hu(this._tNode,this._lView,e,ec(i),t)}}function aI(){return new Zn(jt(),q())}function Dn(n){return io(()=>{const e=n.prototype.constructor,t=e[br]||va(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[br]||va(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function va(n){return ou(n)?()=>{const e=va(Le(n));return e&&e()}:rs(n)}function Qm(n){const e=n[de],t=e.type;return 2===t?e.declTNode:1===t?n[gi]:null}const pc="__parameters__";function Ps(n,e,t){return io(()=>{const i=function Ql(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,d,h){const p=c.hasOwnProperty(pc)?c[pc]:Object.defineProperty(c,pc,{value:[]})[pc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function _c(n,e){n.forEach(t=>Array.isArray(t)?_c(t,e):e(t))}function zv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ri(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function yi(n,e,t){let i=ya(n,e);return i>=0?n[1|i]=t:(i=~i,function $v(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Zu(n,e){const t=ya(n,e);if(t>=0)return n[1|t]}function ya(n,e){return function Ku(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const y=Pl(Ps("Optional"),8),k=Pl(Ps("SkipSelf"),4),Fs=new X("ENVIRONMENT_INITIALIZER"),Zv=new X("INJECTOR",-1),wI=new X("INJECTOR_DEF_TYPES");class Kv{get(e,t=ks){if(t===ks){const i=new Error(`NullInjectorError: No provider for ${Nn(e)}!`);throw i.name="NullInjectorError",i}return t}}function g$(...n){return{\u0275providers:qM(0,n),\u0275fromNgModule:!0}}function qM(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return _c(e,s=>{const a=s;Qv(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&GM(r,o),t}function GM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];II(r,o=>{e(o,i)})}}function Qv(n,e,t,i){if(!(n=Le(n)))return!1;let r=null,o=ca(n);const s=!o&&ut(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=ca(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)Qv(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{_c(o.imports,h=>{Qv(h,e,t,i)&&(d||=[],d.push(h))})}finally{}void 0!==d&&GM(d,e)}if(!a){const d=rs(r)||(()=>new r);e({provide:r,useFactory:d,deps:bt},r),e({provide:wI,useValue:r,multi:!0},r),e({provide:Fs,useValue:()=>R(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const d=n;II(c,h=>{e(h,d)})}}}return r!==n&&void 0!==n.providers}function II(n,e){for(let t of n)bl(t)&&(t=t.\u0275providers),Array.isArray(t)?II(t,e):e(t)}const _$=Bt({provide:String,useValue:Bt});function xI(n){return null!==n&&"object"==typeof n&&_$ in n}function Jl(n){return"function"==typeof n}const CI=new X("Set Injector scope."),Yv={},y$={};let TI;function Xv(){return void 0===TI&&(TI=new Kv),TI}class ao{}class ed extends ao{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,SI(e,s=>this.processProvider(s)),this.records.set(Zv,Xu(void 0,this)),r.has("environment")&&this.records.set(ao,Xu(void 0,this));const o=this.records.get(CI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wI,bt,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ns(this),i=Mi(void 0);try{return e()}finally{ns(t),Mi(i)}}get(e,t=ks,i=at.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cu))return e[cu](this);i=ec(i);const o=ns(this),s=Mi(void 0);try{if(!(i&at.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function x$(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&ji(e);c=d&&this.injectableDefInScope(d)?Xu(DI(e),Yv):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&at.Self?Xv():this.parent).get(e,t=i&at.Optional&&t===ks?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Xa]=a[Xa]||[]).unshift(Nn(e)),o)throw a;return function TE(n,e,t,i){const r=n[Xa];throw e[fu]&&r.unshift(e[fu]),n.message=function DE(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Nn(e);if(Array.isArray(e))r=e.map(Nn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Nn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(_m,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Xa]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Mi(s),ns(o)}}resolveInjectorInitializers(){const e=ns(this),t=Mi(void 0);try{const r=this.get(Fs,bt,at.Self);for(const o of r)o()}finally{ns(e),Mi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Nn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=Jl(e=Le(e))?e:Le(e&&e.provide);const i=function w$(n){return xI(n)?Xu(void 0,n.useValue):Xu(KM(n),Yv)}(e);if(Jl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Xu(void 0,Yv,!0),r.factory=()=>bm(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Yv&&(t.value=y$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function I$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Le(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function DI(n){const e=ji(n),t=null!==e?e.factory:rs(n);if(null!==t)return t;if(n instanceof X)throw new U(204,!1);if(n instanceof Function)return function b$(n){const e=n.length;if(e>0)throw ri(e,"?"),new U(204,!1);const t=function hm(n){return n&&(n[Tl]||n[K_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function KM(n,e,t){let i;if(Jl(n)){const r=Le(n);return rs(r)||DI(r)}if(xI(n))i=()=>Le(n.useValue);else if(function ZM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...bm(n.deps||[]));else if(function WM(n){return!(!n||!n.useExisting)}(n))i=()=>R(Le(n.useExisting));else{const r=Le(n&&(n.useClass||n.provide));if(!function E$(n){return!!n.deps}(n))return rs(r)||DI(r);i=()=>new r(...bm(n.deps))}return i}function Xu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function SI(n,e){for(const t of n)Array.isArray(t)?SI(t,e):t&&bl(t)?SI(t.\u0275providers,e):e(t)}function JM(n,e=null,t=null,i){const r=eR(n,e,t,i);return r.resolveInjectorInitializers(),r}function eR(n,e=null,t=null,i,r=new Set){const o=[t||bt,g$(n)];return i=i||("object"==typeof n?void 0:Nn(n)),new ed(o,e||Xv(),i||null,r)}let MI,qi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=ks;static#t=this.NULL=new Kv;static create(t,i){if(Array.isArray(t))return JM({name:""},i,t,"");{const r=t.name??"";return JM({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ce({token:n,providedIn:"any",factory:()=>R(Zv)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const ey=new X("AppId",{providedIn:"root",factory:()=>O$}),O$="ng",nR=new X("Platform Initializer"),as=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ju=new X("AnimationModuleType"),RI=new X("CSP nonce",{providedIn:"root",factory:()=>function yc(){if(void 0!==MI)return MI;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function co(n){return n instanceof Function?n():n}function ry(n){return 128==(128&n.flags)}var Ec=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ec||{});const $$=/^>|^->|<!--|-->|--!>|<!-$/g,q$=/(<|>)/g,G$="\u200b$1\u200b";const LI=new Map;let W$=0;const BI="__ngContext__";function sr(n,e){Wn(e)?(n[BI]=e[da],function K$(n){LI.set(n[da],n)}(e)):n[BI]=e}let UI;function jI(n,e){return UI(n,e)}function rp(n){const e=n[hn];return ii(e)?e[hn]:e}function bR(n){return ER(n[jr])}function wR(n){return ER(n[nr])}function ER(n){for(;null!==n&&!ii(n);)n=n[nr];return n}function th(n,e,t,i,r){if(null!=i){let o,s=!1;ii(i)?o=i:Wn(i)&&(s=!0,i=i[Cn]);const a=Qt(i);0===n&&null!==t?null==r?TR(e,t,a):td(e,t,a,r||null,!0):1===n&&null!==t?td(e,t,a,r||null,!0):2===n?function uy(n,e,t){const i=ly(n,e);i&&function p5(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function v5(n,e,t,i,r){const o=t[rr];o!==Qt(t)&&th(e,n,i,o,r);for(let a=Tn;a<t.length;a++){const c=t[a];ap(c[de],c,n,e,i,o)}}(e,n,o,t,r)}}function zI(n,e){return n.createComment(function hR(n){return n.replace($$,e=>e.replace(q$,G$))}(e))}function ay(n,e,t){return n.createElement(e,t)}function xR(n,e){const t=n[ic],i=t.indexOf(e);t.splice(i,1)}function op(n,e){if(n.length<=Tn)return;const t=Tn+e,i=n[t];if(i){const r=i[Fl];null!==r&&r!==n&&xR(r,i),e>0&&(n[t-1][nr]=i[nr]);const o=Yl(n,Tn+e);!function a5(n,e){ap(n,e,e[Qe],2,null,null),e[Cn]=null,e[gi]=null}(i[de],i);const s=o[Do];null!==s&&s.detachView(o[de]),i[hn]=null,i[nr]=null,i[Ue]&=-129}return i}function cy(n,e){if(!(256&e[Ue])){const t=e[Qe];e[ua]&&function Ti(n){if(Vi(n),Nt(n))for(let e=0;e<n.producerNode.length;e++)Ct(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[ua]),t.destroyNode&&ap(n,e,t,3,null,null),function d5(n){let e=n[jr];if(!e)return HI(n[de],n);for(;e;){let t=null;if(Wn(e))t=e[jr];else{const i=e[Tn];i&&(t=i)}if(!t){for(;e&&!e[nr]&&e!==n;)Wn(e)&&HI(e[de],e),e=e[hn];null===e&&(e=n),Wn(e)&&HI(e[de],e),t=e&&e[nr]}e=t}}(e)}}function HI(n,e){if(!(256&e[Ue])){e[Ue]&=-129,e[Ue]|=256,function m5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Gl)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Ao(4,a,c);try{c.call(a)}finally{Ao(5,a,c)}}else{Ao(4,r,o);try{o.call(r)}finally{Ao(5,r,o)}}}}}(n,e),function f5(n,e){const t=n.cleanup,i=e[tc];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[tc]=null);const r=e[So];if(null!==r){e[So]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[de].type&&e[Qe].destroy();const t=e[Fl];if(null!==t&&ii(e[hn])){t!==e[hn]&&xR(t,e);const i=e[Do];null!==i&&i.detachView(n)}!function Q$(n){LI.delete(n[da])}(e)}}function $I(n,e,t){return function CR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Cn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Ir.None||o===Ir.Emulated)return null}return _i(i,t)}}(n,e.parent,t)}function td(n,e,t,i,r){n.insertBefore(e,t,i,r)}function TR(n,e,t){n.appendChild(e,t)}function DR(n,e,t,i,r){null!==i?td(n,e,t,i,r):TR(n,e,t)}function ly(n,e){return n.parentNode(e)}function SR(n,e,t){return kR(n,e,t)}let qI,fy,kR=function AR(n,e,t){return 40&n.type?_i(n,t):null};function dy(n,e,t,i){const r=$I(n,i,e),o=e[Qe],a=SR(i.parent||e[gi],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)DR(o,r,t[c],a,!1);else DR(o,r,t,a,!1);void 0!==qI&&qI(o,i,e,t,r)}function sp(n,e){if(null!==e){const t=e.type;if(3&t)return _i(e,n);if(4&t)return GI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return sp(n,i);{const r=n[e.index];return ii(r)?GI(-1,r):Qt(r)}}if(32&t)return jI(e,n)()||Qt(n[e.index]);{const i=RR(n,e);return null!==i?Array.isArray(i)?i[0]:sp(rp(n[Kt]),i):sp(n,e.next)}}return null}function RR(n,e){return null!==e?n[Kt][gi].projection[e.projection]:null}function GI(n,e){const t=Tn+n+1;if(t<e.length){const i=e[t],r=i[de].firstChild;if(null!==r)return sp(i,r)}return e[rr]}function WI(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&sr(Qt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)WI(n,e,t.child,i,r,o,!1),th(e,n,r,a,o);else if(32&c){const d=jI(t,i);let h;for(;h=d();)th(e,n,r,h,o);th(e,n,r,a,o)}else 16&c?OR(n,e,i,t,r,o):th(e,n,r,a,o);t=s?t.projectionNext:t.next}}function ap(n,e,t,i,r,o){WI(t,i,n.firstChild,e,r,o,!1)}function OR(n,e,t,i,r,o){const s=t[Kt],c=s[gi].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)th(e,n,r,c[d],o);else{let d=c;const h=s[hn];ry(i)&&(d.flags|=128),WI(n,e,d,h,r,o,!0)}}function NR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function FR(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Ol(n,e,i),null!==r&&NR(n,e,r),null!==o&&function b5(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function BR(n){return function KI(){if(void 0===fy&&(fy=null,Zt.trustedTypes))try{fy=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fy}()?.createScriptURL(n)||n}class nd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${su})`}}function lo(n){return n instanceof nd?n.changingThisBreaksApplicationSecurity:n}function Ls(n,e){const t=function A5(n){return n instanceof nd&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${su})`)}return t===e}const V5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Gi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gi||{});function lp(n){const e=dp();return e?e.sanitize(Gi.URL,n)||"":Ls(n,"URL")?lo(n):function my(n){return(n=String(n)).match(V5)?n:"unsafe:"+n}(Ke(n))}function WR(n){const e=dp();if(e)return BR(e.sanitize(Gi.RESOURCE_URL,n)||"");if(Ls(n,"ResourceURL"))return BR(lo(n));throw new U(904,!1)}function dp(){const n=q();return n&&n[is].sanitizer}let KR=(n,e,t)=>null;function sx(n,e,t=!1){return KR(n,e,t)}class r6{}class XR{}class s6{resolveComponentFactory(e){throw function o6(n){const e=Error(`No component factory found for ${Nn(n)}.`);return e.ngComponent=n,e}(e)}}let fp=(()=>{class n{static#e=this.NULL=new s6}return n})();function a6(){return oh(jt(),q())}function oh(n,e){return new tn(_i(n,e))}let tn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=a6}return n})();function c6(n){return n instanceof tn?n.nativeElement:n}class lx{}let Ia=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function l6(){const n=q(),t=Hi(jt().index,n);return(Wn(t)?t:n)[Qe]}()}return n})(),d6=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();class Ic{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const eP=new Ic("17.0.2"),dx={};function wy(n){return!!ux(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ux(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class nP{constructor(){}supports(e){return wy(e)}create(e){return new p6(e)}}const m6=(n,e)=>e;class p6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||m6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<rP(i,r,o)?t:i,a=rP(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,h=c-r;if(d!=h){for(let g=0;g<d;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<d&&(o[g]=v+1)}o[s.previousIndex]=h-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wy(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function f6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new g6(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new iP),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class g6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class iP{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new _6,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rP(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class oP{constructor(){}supports(e){return e instanceof Map||ux(e)}create(){return new v6}}class v6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ux(e)))throw new U(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new y6(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class y6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sP(){return new Ey([new nP])}let Ey=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:sP});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||sP()),deps:[[n,new k,new y]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new U(901,!1)}}return n})();function aP(){return new mp([new oP])}let mp=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:aP});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||aP()),deps:[[n,new k,new y]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new U(901,!1)}}return n})();function pp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Qt(o)),ii(o)&&cP(o,i);const s=t.type;if(8&s)pp(n,e,t.child,i);else if(32&s){const a=jI(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=RR(e,t);if(Array.isArray(a))i.push(...a);else{const c=rp(e[Kt]);pp(c[de],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function cP(n,e){for(let t=Tn;t<n.length;t++){const i=n[t],r=i[de].firstChild;null!==r&&pp(i[de],i,r,e)}n[rr]!==n[Cn]&&e.push(n[rr])}let lP=[];const x6={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Tu(n.lView)},consumerOnSignalRead(){this.lView[ua]=this}};function hx(n){return n.ngOriginalError}class cs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hx(e);for(;t&&hx(t);)t=hx(t);return t||null}}const hP=new X("",{providedIn:"root",factory:()=>!1}),nt={};function ye(n){gP(mt(),q(),$i()+n,!1)}function gP(n,e,t,i){if(!i)if(3==(3&e[Ue])){const o=n.preOrderCheckHooks;null!==o&&Hm(e,o,t)}else{const o=n.preOrderHooks;null!==o&&dc(e,o,0,t)}ga(t)}function O(n,e=at.Default){const t=q();return null===t?R(n,e):Hu(jt(),t,Le(n),e)}function xy(n,e,t,i,r,o,s,a,c,d,h){const p=e.blueprint.slice();return p[Cn]=r,p[Ue]=140|i,(null!==d||n&&2048&n[Ue])&&(p[Ue]|=2048),bv(p),p[hn]=p[nc]=n,p[en]=t,p[is]=s||n&&n[is],p[Qe]=a||n&&n[Qe],p[ir]=c||n&&n[ir]||null,p[gi]=o,p[da]=function Z$(){return W$++}(),p[To]=h,p[uv]=d,p[Kt]=2==e.type?n[Kt]:p,p}function sh(n,e,t,i,r){let o=n.data[e];if(null===o)o=function fx(n,e,t,i,r){const o=Fm(),s=ku(),c=n.data[e]=function L6(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return cc()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Mu(){return ze.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function lc(){const n=ze.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mo(o,!0),o}function gp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function vP(n,e,t,i,r){const o=$i(),s=2&i;try{ga(-1),s&&e.length>je&&gP(n,e,je,!1),Ao(s?2:0,r),t(i,r)}finally{ga(o),Ao(s?3:1,r)}}function mx(n,e,t){if(Vl(e)){const i=et(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{et(i)}}}function px(n,e,t){Su()&&(function $6(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ms(t)&&function Y6(n,e,t){const i=_i(e,n),r=yP(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Cy(n,xy(n,r,null,s,i,e,null,n[is].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Uu(t,e),sr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],d=Ro(e,n,a,t);sr(d,e),null!==s&&X6(0,a-r,d,c,0,s),ro(c)&&(Hi(t.index,e)[en]=Ro(e,n,a,t))}}(n,e,t,_i(t,e)),64==(64&t.flags)&&xP(n,e,t))}function gx(n,e,t=_i){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function yP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=_x(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function _x(n,e,t,i,r,o,s,a,c,d,h){const p=je+i,g=p+r,v=function M6(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:nt);return t}(p,g),b="function"==typeof d?d():d;return v[de]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let bP=n=>null;function wP(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?EP(t,e,r,o):i.hasOwnProperty(r)&&EP(t,e,i[r],o)}return t}function EP(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function uo(n,e,t,i,r,o,s,a){const c=_i(e,t);let h,d=e.inputs;!a&&null!=d&&(h=d[i])?(Ex(n,t,h,i,r),Ms(e)&&function U6(n,e){const t=Hi(e,n);16&t[Ue]||(t[Ue]|=64)}(t,e.index)):3&e.type&&(i=function B6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function vx(n,e,t,i){if(Su()){const r=null===i?null:{"":-1},o=function G6(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(la(e,s.selectors,!1))if(i||(i=[]),ro(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),yx(n,e,a.length)}else i.unshift(s),yx(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&IP(n,e,t,s,r,a),r&&function W6(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new U(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Nl(t.mergedAttrs,t.attrs)}function IP(n,e,t,i,r,o){for(let d=0;d<i.length;d++)zu(Uu(t,e),n,i[d].type);!function K6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const h=i[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=gp(n,e,i.length,null);for(let d=0;d<i.length;d++){const h=i[d];t.mergedAttrs=Nl(t.mergedAttrs,h.hostAttrs),Q6(n,t,e,c,h),Z6(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function V6(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=wP(p.inputs,h,c,g?g.inputs:null),d=wP(p.outputs,h,d,b);const w=null===c||null===s||rv(e)?null:J6(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function xP(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function QE(){return ze.lFrame.currentDirectiveIndex}();try{ga(o);for(let a=i;a<r;a++){const c=n.data[a],d=e[a];Lm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&q6(c,d)}}finally{ga(-1),Lm(s)}}function q6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function yx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Z6(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ro(e)&&(t[""]=n)}}function Q6(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=rs(r.type)),s=new Gl(o,ro(r),O);n.blueprint[i]=s,t[i]=s,function z6(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function H6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,gp(n,t,r.hostVars,nt),r)}function Vs(n,e,t,i,r,o){const s=_i(n,e);!function bx(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ke(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Qe],s,o,n.value,t,i,r)}function X6(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)CP(i,t,s[a++],s[a++],s[a++])}function CP(n,e,t,i,r){const o=et(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{et(o)}}function J6(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function TP(n,e,t,i){return[n,!0,!1,e,null,i,!1,t,null,null,null]}function DP(n,e){const t=n.contentQueries;if(null!==t){const i=et(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Bm(t[r]),a.contentQueries(2,e[s],s)}}}finally{et(i)}}}function Cy(n,e){return n[jr]?n[dv][nr]=e:n[jr]=e,n[dv]=e,e}function wx(n,e,t){Bm(0);const i=et(null);try{e(n,t)}finally{et(i)}}function SP(n){return n[tc]||(n[tc]=[])}function AP(n){return n.cleanup||(n.cleanup=[])}function kP(n,e,t){return(null===n||ro(n))&&(t=function Am(n){for(;Array.isArray(n);){if("object"==typeof n[xm])return n;n=n[Cn]}return null}(t[e.index])),t[Qe]}function Ty(n,e){const t=n[ir],i=t?t.get(cs,null):null;i&&i.handleError(e)}function Ex(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];CP(n.data[s],e[s],i,a,r)}}function xa(n,e,t){const i=jl(e,n);!function IR(n,e,t){n.setValue(e,t)}(n[Qe],i,t)}function MP(n,e,t,i){const r=e[Ue];if(256==(256&r))return;e[is].inlineEffectRunner?.flush(),Um(e);let s=null,a=null;(function i8(n){return 2!==n.type})(n)&&(a=function w6(n){return n[ua]??function E6(n){const e=lP.pop()??Object.create(x6);return e.lView=n,e}(n)}(e),s=function it(n){return n&&(n.nextProducerIndex=0),et(n)}(a));try{bv(e),function Iv(n){return ze.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&vP(n,e,t,2,i);const c=3==(3&r);if(c){const p=n.preOrderCheckHooks;null!==p&&Hm(e,p,null)}else{const p=n.preOrderHooks;null!==p&&dc(e,p,0,null),Lu(e,0)}if(function r8(n){for(let e=bR(n);null!==e;e=wR(e)){if(!e[Ll])continue;const t=e[ic];for(let i=0;i<t.length;i++){Rm(t[i])}}}(e),RP(e,0),null!==n.contentQueries&&DP(n,e),c){const p=n.contentCheckHooks;null!==p&&Hm(e,p)}else{const p=n.contentHooks;null!==p&&dc(e,p,1),Lu(e,1)}!function k6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ga(~r);else{const o=r,s=t[++i],a=t[++i];KE(s,o),a(2,e[o])}}}finally{ga(-1)}}(n,e);const d=n.components;null!==d&&NP(e,d,0);const h=n.viewQuery;if(null!==h&&wx(2,h,i),c){const p=n.viewCheckHooks;null!==p&&Hm(e,p)}else{const p=n.viewHooks;null!==p&&dc(e,p,2),Lu(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[yu]){for(const p of e[yu])p();e[yu]=null}e[Ue]&=-73}catch(c){throw Tu(e),c}finally{null!==a&&(function lt(n,e){if(et(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Nt(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ct(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function I6(n){n.lView[ua]!==n&&(n.lView=null,lP.push(n))}(a)),Pu()}}function RP(n,e){for(let t=bR(n);null!==t;t=wR(t)){t[bu]=!1;for(let i=Tn;i<t.length;i++)PP(t[i],e)}}function o8(n,e,t){PP(Hi(e,n),t)}function PP(n,e){Mm(n)&&OP(n,e)}function OP(n,e){const i=n[de],r=n[Ue],o=n[ua];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!$n(o)),o&&(o.dirty=!1),n[Ue]&=-9217,s)MP(i,n,i.template,n[en]);else if(8192&r){RP(n,1);const a=i.components;null!==a&&NP(n,a,1)}}function NP(n,e,t){for(let i=0;i<e.length;i++)o8(n,e[i],t)}function _p(n){for(;n;){n[Ue]|=64;const e=rp(n);if(hv(n)&&!e)return n;n=e}return null}class vp{get rootNodes(){const e=this._lView,t=e[de];return pp(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[en]}set context(e){this._lView[en]=e}get destroyed(){return 256==(256&this._lView[Ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[hn];if(ii(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(op(e,i),Yl(t,i))}this._attachedToViewContainer=!1}cy(this._lView[de],this._lView)}onDestroy(e){ac(this._lView,e)}markForCheck(){_p(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ue]&=-129}reattach(){Cu(this._lView),this._lView[Ue]|=128}detectChanges(){!function Ix(n,e,t,i=!0){const r=e[is],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{MP(n,e,n.template,t),function t8(n){let e=0;for(;9216&n[Ue]||n[ua]?.dirty;){if(100===e)throw new U(103,!1);e++,OP(n,1)}}(e)}catch(c){throw i&&Ty(e,c),c}finally{o.end?.(),r.inlineEffectRunner?.flush(),s?.end()}}(this._lView[de],this._lView,this.context,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l5(n,e){ap(n,e,e[Qe],2,null,null)}(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}let Bs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=s8}return n})();function s8(n){return function a8(n,e,t){if(Ms(n)&&!t){const i=Hi(n.index,e);return new vp(i,i)}return 47&n.type?new vp(e[Kt],e):null}(jt(),q(),16==(16&n))}let Dy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=u8;static#t=this.__NG_ENV_ID__=t=>t}return n})();class d8 extends Dy{constructor(e){super(),this._lView=e}onDestroy(e){return ac(this._lView,e),()=>function Du(n,e){if(null===n[So])return;const t=n[So].indexOf(e);-1!==t&&n[So].splice(t,1)}(this._lView,e)}}function u8(){return new d8(q())}const FP=new Set;function id(n){FP.has(n)||(FP.add(n),performance?.mark?.("mark_use_counter",{detail:{feature:n}}))}function xx(n){return e=>{setTimeout(n,void 0,e)}}const Yt=class v8 extends C{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=xx(o),r&&(r=xx(r)),s&&(s=xx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof kt&&e.add(a),a}};function LP(...n){}class Ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function y8(){const n="function"==typeof Zt.requestAnimationFrame;let e=Zt[n?"requestAnimationFrame":"setTimeout"],t=Zt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function E8(n){const e=()=>{!function w8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Tx(n),n.isCheckStableRunning=!0,Cx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Tx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function x8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return VP(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),BP(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return VP(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),BP(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Tx(n),Cx(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new U(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,b8,LP,LP);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const b8={};function Cx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Tx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function BP(n){n._nesting--,Cx(n)}class I8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const UP=new X("",{providedIn:"root",factory:jP});function jP(){const n=le(Ne);let e=!0;return _l(new yt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new yt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(es()))}var rd=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(rd||{});const zP={destroy(){}};function $P(n,e){!e&&function AI(n){if(!Sl()&&!function vm(){return Ja}())throw new U(-203,!1)}();const t=e?.injector??le(qi);if(!function bc(n){return"browser"===(n??le(qi)).get(as)}(t))return zP;id("NgAfterNextRender");const i=t.get(Sy),r=i.handler??=new GP,o=e?.phase??rd.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Dy).onDestroy(s),c=new qP(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class qP{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Ne),this.errorHandler=e.get(cs,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class GP{constructor(){this.executingCallbacks=!1,this.buckets={[rd.EarlyRead]:new Set,[rd.Write]:new Set,[rd.MixedReadWrite]:new Set,[rd.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new U(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Sy=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function T8(n,e){const t=Hi(e,n),i=t[de];!function D8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Cn];null!==r&&null===t[To]&&(t[To]=sx(r,t[ir])),Dx(i,t,t[en])}function Dx(n,e,t){Um(e);try{const i=n.viewQuery;null!==i&&wx(1,i,t);const r=n.template;null!==r&&vP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&DP(n,e),n.staticViewQueries&&wx(2,n.viewQuery,t);const o=n.components;null!==o&&function S8(n,e){for(let t=0;t<e.length;t++)T8(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ue]&=-5,Pu()}}function Ay(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=yl(r,a):2==o&&(i=yl(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class WP extends fp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ut(e);return new yp(t,this.ngModule)}}function ZP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class k8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ec(i);const r=this.injector.get(e,dx,i);return r!==dx||t===dx?r:this.parentInjector.get(e,t,i)}}class yp extends XR{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=ZP(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return ZP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function CM(n){return n.map(PE).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof ao?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new k8(e,o):e,a=s.get(lx,null);if(null===a)throw new U(407,!1);const h={rendererFactory:a,sanitizer:s.get(d6,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Sy,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function R6(n,e,t,i){const o=i.get(hP,!1)||t===Ir.ShadowDom,s=n.selectRootElement(e,o);return function P6(n){bP(n)}(s),s}(p,i,this.componentDef.encapsulation,s):ay(p,g,function A8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==v&&(A=sx(v,s,!0));const S=_x(0,null,null,1,0,null,null,null,null,null,null),M=xy(null,S,null,E,null,null,h,p,s,null,A);let Y,ue;Um(M);try{const Ie=this.componentDef;let Ze,dn=null;Ie.findHostDirectiveDefs?(Ze=[],dn=new Map,Ie.findHostDirectiveDefs(Ie,Ze,dn),Ze.push(Ie)):Ze=[Ie];const yo=function R8(n,e){const t=n[de],i=je;return n[i]=e,sh(t,i,2,"#host",null)}(M,v),eo=function P8(n,e,t,i,r,o,s){const a=r[de];!function O8(n,e,t,i){for(const r of n)e.mergedAttrs=Nl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ay(e,e.mergedAttrs,!0),null!==t&&FR(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=sx(e,r[ir]));const d=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=xy(r,yP(t),null,h,r[n.index],n,o,d,null,null,c);return a.firstCreatePass&&yx(a,n,i.length-1),Cy(r,p),r[n.index]=p}(yo,v,Ie,Ze,M,h,p);ue=pa(S,je),v&&function F8(n,e,t,i){if(i)Ol(n,t,["ng-version",eP.full]);else{const{attrs:r,classes:o}=function TM(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!xr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ol(n,t,r),o&&o.length>0&&NR(n,t,o.join(" "))}}(p,Ie,v,i),void 0!==t&&function L8(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(ue,this.ngContentSelectors,t),Y=function N8(n,e,t,i,r,o){const s=jt(),a=r[de],c=_i(s,r);IP(a,r,s,t,null,i);for(let h=0;h<t.length;h++)sr(Ro(r,a,s.directiveStart+h,s),r);xP(a,r,s),c&&sr(c,r);const d=Ro(r,a,s.directiveStart+s.componentOffset,s);if(n[en]=r[en]=d,null!==o)for(const h of o)h(d,e);return mx(a,s,n),d}(eo,Ie,Ze,dn,M,[V8]),Dx(S,M,null)}finally{Pu()}return new M8(this.componentType,Y,oh(ue,M),M,ue)}}class M8 extends r6{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new vp(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Ex(o[de],o,r,e,t),this.previousInputValues.set(e,t),_p(Hi(this._tNode.index,o))}}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function V8(){const n=jt();Fu(q()[de],n)}function pt(n){let e=function KP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(ro(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=ky(n.inputs),s.inputTransforms=ky(n.inputTransforms),s.declaredInputs=ky(n.declaredInputs),s.outputs=ky(n.outputs);const a=r.hostBindings;a&&z8(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&U8(n,c),d&&j8(n,d),Ka(n.inputs,r.inputs),Ka(n.declaredInputs,r.declaredInputs),Ka(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ka(s.inputTransforms,r.inputTransforms)),ro(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===pt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function B8(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Nl(r.hostAttrs,t=Nl(t,r.hostAttrs))}}(i)}function ky(n){return n===Co?{}:n===bt?[]:n}function U8(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function j8(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function z8(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function JP(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function oi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ar(n,e,t,i){const r=q();return oi(r,oo(),e)&&(mt(),Vs(an(),r,n,e,t,i)),ar}function ch(n,e,t,i){return oi(n,oo(),t)?e+Ke(t)+i:nt}function lh(n,e,t,i,r,o){const a=function od(n,e,t,i){const r=oi(n,e,t);return oi(n,e+1,i)||r}(n,function os(){return ze.lFrame.bindingIndex}(),t,r);return ss(2),a?e+Ke(t)+i+Ke(r)+o:nt}function Ry(n,e){return n<<17|e<<2}function xc(n){return n>>17&32767}function Sx(n){return 2|n}function sd(n){return(131068&n)>>2}function Ax(n,e){return-131069&n|e<<2}function kx(n){return 1|n}function d1(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?xc(o):sd(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];J8(n[a],e)&&(c=!0,n[a+1]=i?kx(h):Sx(h)),a=i?xc(h):sd(h)}c&&(n[t+1]=i?Sx(o):kx(o))}function J8(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ya(n,e)>=0}function We(n,e,t){const i=q();return oi(i,oo(),e)&&uo(mt(),an(),i,n,e,i[Qe],t,!1),We}function Mx(n,e,t,i,r){const s=r?"class":"style";Ex(n,t,e.inputs[s],s,i)}function wp(n,e,t){return ls(n,e,t,!1),wp}function si(n,e){return ls(n,e,null,!0),si}function ls(n,e,t,i){const r=q(),o=mt(),s=ss(2);o.firstUpdatePass&&function v1(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[$i()],s=function _1(n,e){return e>=n.expandoStartIndex}(n,t);(function E1(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function cq(n,e,t,i){const r=Vm(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Ep(t=Rx(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Rx(r,n,e,t,i),null===o){let c=function lq(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==sd(i))return n[xc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Rx(null,n,e,c[1],i),c=Ep(c,e.attrs,i),function dq(n,e,t,i){n[xc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function uq(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Ep(i,n[o].hostAttrs,t);return Ep(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Y8(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=xc(s),c=sd(s);n[i]=t;let h,d=!1;if(Array.isArray(t)?(h=t[1],(null===h||ya(t,h)>0)&&(d=!0)):h=t,r)if(0!==c){const g=xc(n[a+1]);n[i+1]=Ry(g,a),0!==g&&(n[g+1]=Ax(n[g+1],i)),n[a+1]=function K8(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Ry(a,0),0!==a&&(n[a+1]=Ax(n[a+1],i)),a=i;else n[i+1]=Ry(c,0),0===a?a=i:n[c+1]=Ax(n[c+1],i),c=i;d&&(n[i+1]=Sx(n[i+1])),d1(n,h,i,!0),d1(n,h,i,!1),function X8(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ya(o,e)>=0&&(t[i+1]=kx(t[i+1]))}(e,h,n,i,o),s=Ry(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==nt&&oi(r,s,e)&&function b1(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],h=function Q8(n){return 1==(1&n)}(d)?w1(c,e,t,r,sd(d),s):void 0;Py(h)||(Py(o)||function Z8(n){return 2==(2&n)}(d)&&(o=w1(c,null,t,r,a,s)),function y5(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ec.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ec.Important),n.setStyle(t,i,r,o))}}(i,s,jl($i(),t),r,o))}(o,o.data[$i()],r,r[Qe],n,r[s+1]=function pq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Nn(lo(n)))),n}(e,t),i,s)}function Rx(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Ep(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Ep(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,s,!!t||e[++o]))}return void 0===n?null:n}function w1(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),h=d?c[1]:c,p=null===h;let g=t[r+1];g===nt&&(g=p?bt:void 0);let v=p?Zu(g,i):h===i?g:void 0;if(d&&!Py(v)&&(v=Zu(c,i)),Py(v)&&(a=v,s))return a;const b=n[r+1];r=s?xc(b):sd(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Zu(c,i))}return a}function Py(n){return void 0!==n}function vh(n,e){return!e||ry(n)}function Dp(n,e,t,i=!0){const r=e[de];if(function u5(n,e,t,i){const r=Tn+i,o=t.length;i>0&&(t[r-1][nr]=e),i<o-Tn?(e[nr]=t[r],zv(t,Tn+i,e)):(t.push(e),e[nr]=null),e[hn]=t;const s=e[Fl];null!==s&&t!==s&&function h5(n,e){const t=n[ic];e[Kt]!==e[hn][hn][Kt]&&(n[Ll]=!0),null===t?n[ic]=[e]:t.push(e)}(s,e);const a=e[Do];null!==a&&a.insertView(n),Cu(e),e[Ue]|=128}(r,e,n,t),i){const o=GI(t,n),s=e[Qe],a=ly(s,n[rr]);null!==a&&function c5(n,e,t,i,r,o){i[Cn]=r,i[gi]=e,ap(n,i,t,1,r,o)}(r,n[gi],s,e,a,o)}}let us=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Kq}return n})();function Kq(){return N1(jt(),q())}const Qq=us,P1=class extends Qq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return oh(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){const e=ju(this._hostTNode,this._hostLView);if(Gm(e)){const t=Zl(e,this._hostLView),i=Wl(e);return new Zn(t[de].data[i+8],t)}return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=O1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,vh(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function $r(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new yp(ut(e)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?d:this.parentInjector).get(ao,null);w&&(o=w)}ut(c.componentType??{});const v=c.create(d,r,null,o);return this.insertImpl(v.hostView,a,vh(this._hostTNode,null)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function zl(n){return ii(n[hn])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[hn],d=new P1(c,c[gi],c[hn]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Dp(s,r,o,i),e.attachToViewContainerRef(),zv(jx(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=O1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=op(this._lContainer,t);i&&(Yl(jx(this._lContainer),t),cy(i[de],i))}detach(e){const t=this._adjustIndex(e,-1),i=op(this._lContainer,t);return i&&null!=Yl(jx(this._lContainer),t)?new vp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function O1(n){return n[8]}function jx(n){return n[8]||(n[8]=[])}function N1(n,e){let t;const i=e[n.index];return ii(i)?t=i:(t=TP(i,e,null,n),e[n.index]=t,Cy(e,t)),F1(t,e,n,i),new P1(t,n,e)}let F1=function V1(n,e,t,i){if(n[rr])return;let r;r=8&t.type?Qt(i):function Yq(n,e){const t=n[Qe],i=t.createComment(""),r=_i(e,n);return td(t,ly(t,r),i,function g5(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[rr]=r},zx=(n,e,t)=>!1;function zt(n,e,t,i,r,o,s,a){const c=q(),d=mt(),h=n+je,p=d.firstCreatePass?function t9(n,e,t,i,r,o,s,a,c){const d=e.consts,h=sh(e,n,4,s||null,ko(d,a));vx(e,t,h,ko(d,c)),Fu(e,h);const p=h.tView=_x(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,d,c,e,t,i,r,o,s):d.data[h];Mo(p,!1);const g=B1(d,c,p,n);$l()&&dy(d,c,g,p),sr(g,c);const v=TP(g,c,g,p);return c[h]=v,Cy(c,v),function L1(n,e,t){return zx(n,e,t)}(v,p,c),wu(p)&&px(d,c,p),null!=s&&gx(c,p,a),zt}let B1=function U1(n,e,t,i){return Rs(!0),e[Qe].createComment("")};function F(n,e,t,i){const r=q(),o=mt(),s=je+n,a=r[Qe],c=o.firstCreatePass?function $9(n,e,t,i,r,o){const s=e.consts,c=sh(e,n,2,i,ko(s,r));return vx(e,t,c,ko(s,o)),null!==c.attrs&&Ay(c,c.attrs,!1),null!==c.mergedAttrs&&Ay(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],d=lO(o,r,c,a,e,n);r[s]=d;const h=wu(c);return Mo(c,!0),FR(a,d,c),32!=(32&c.flags)&&$l()&&dy(o,r,d,c),0===function Pm(){return ze.lFrame.elementDepthCount}()&&sr(d,r),function $E(){ze.lFrame.elementDepthCount++}(),h&&(px(o,r,c),mx(o,c,r)),null!==i&&gx(r,c),F}function $(){let n=jt();ku()?Hl():(n=n.parent,Mo(n,!1));const e=n;(function GE(n){return ze.skipHydrationRootTNode===n})(e)&&function Au(){ze.skipHydrationRootTNode=null}(),function qE(){ze.lFrame.elementDepthCount--}();const t=mt();return t.firstCreatePass&&(Fu(t,n),Vl(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Pv(n){return 0!=(8&n.flags)}(e)&&Mx(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function nI(n){return 0!=(16&n.flags)}(e)&&Mx(t,e,q(),e.stylesWithoutHost,!1),$}function $e(n,e,t,i){return F(n,e,t,i),$(),$e}let lO=(n,e,t,i,r,o)=>(Rs(!0),ay(i,r,function Nu(){return ze.lFrame.currentNamespace}()));function Ch(n,e,t){const i=q(),r=mt(),o=n+je,s=r.firstCreatePass?function W9(n,e,t,i,r){const o=e.consts,s=ko(o,i),a=sh(e,n,8,"ng-container",s);return null!==s&&Ay(a,s,!0),vx(e,t,a,ko(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Mo(s,!0);const a=uO(r,i,s,n);return i[o]=a,$l()&&dy(r,i,a,s),sr(a,i),wu(s)&&(px(r,i,s),mx(r,s,i)),null!=t&&gx(i,s),Ch}function Th(){let n=jt();const e=mt();return ku()?Hl():(n=n.parent,Mo(n,!1)),e.firstCreatePass&&(Fu(e,n),Vl(n)&&e.queries.elementEnd(n)),Th}let uO=(n,e,t,i)=>(Rs(!0),zI(e[Qe],""));function No(){return q()}function Jx(n,e,t){const i=q();if(oi(i,oo(),e)){const o=mt(),s=an();uo(o,s,i,n,e,kP(Vm(o.data),s,i),t,!0)}return Jx}const Sh="en-US";let pO=Sh;function Fp(n){return!!n&&"function"==typeof n.then}function UO(n){return!!n&&"function"==typeof n.subscribe}function Ye(n,e,t,i){const r=q(),o=mt(),s=jt();return jO(o,r,r[Qe],s,n,e,i),Ye}function nC(n,e){const t=jt(),i=q(),r=mt();return jO(r,i,kP(Vm(r.data),t,i),t,n,e),nC}function jO(n,e,t,i,r,o,s){const a=wu(i),d=n.firstCreatePass&&AP(n),h=e[en],p=SP(e);let g=!0;if(3&i.type||s){const w=_i(i,e),E=s?s(w):w,A=p.length,S=s?Y=>s(Qt(Y[i.index])):i.index;let M=null;if(!s&&a&&(M=function GG(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[tc],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,g=!1;else{o=HO(i,e,h,o,!1);const Y=t.listen(E,r,o);p.push(o,Y),d&&d.push(r,S,A,A+1)}}else o=HO(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const ue=e[b[E]][b[E+1]].subscribe(o),Ie=p.length;p.push(o,ue),d&&d.push(r,i.index,Ie,-(Ie+1))}}}function zO(n,e,t,i){try{return Ao(6,e,t),!1!==t(i)}catch(r){return Ty(n,r),!1}finally{Ao(7,e,t)}}function HO(n,e,t,i,r){return function o(s){if(s===Function)return i;_p(n.componentOffset>-1?Hi(n.index,e):e);let c=zO(e,t,i,s),d=o.__ngNextListenerFn__;for(;d;)c=zO(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function qe(n=1){return function XE(n){return(ze.lFrame.contextLView=function xu(n,e){for(;n>0;)e=e[nc],n--;return e}(n,ze.lFrame.contextLView))[en]}(n)}function WG(n,e){let t=null;const i=function sv(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?la(n,o,!0):RE(i,o))return r}else t=r}return t}function hs(n){const e=q()[Kt][gi];if(!e.projection){const i=e.projection=ri(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?WG(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function ci(n,e=0,t){const i=q(),r=mt(),o=sh(r,je+n,16,null,t||null);null===o.projection&&(o.projection=e),Hl(),(!i[To]||cc())&&32!=(32&o.flags)&&function _5(n,e,t){OR(e[Qe],0,e,t,$I(n,t,e),SR(t.parent||e[gi],t,e))}(r,i,o)}function Ah(n,e,t){return iC(n,"",e,"",t),Ah}function iC(n,e,t,i,r){const o=q(),s=ch(o,e,t,i);return s!==nt&&uo(mt(),an(),o,n,s,o[Qe],r,!1),iC}function Wr(n){return function sc(n,e){return n[e]}(function ZE(){return ze.lFrame.contextLView}(),je+n)}function he(n,e=""){const t=q(),i=mt(),r=n+je,o=i.firstCreatePass?sh(i,r,1,e,null):i.data[r],s=aN(i,t,o,e,n);t[r]=s,$l()&&dy(i,t,s,o),Mo(o,!1)}let aN=(n,e,t,i,r)=>(Rs(!0),function sy(n,e){return n.createText(e)}(e[Qe],i));function wi(n){return Ca("",n,""),wi}function Ca(n,e,t){const i=q(),r=ch(i,n,e,t);return r!==nt&&xa(i,$i(),r),Ca}function Wy(n,e,t,i,r){const o=q(),s=lh(o,n,e,t,i,r);return s!==nt&&xa(o,$i(),s),Wy}function rC(n,e,t,i,r){if(n=Le(n),Array.isArray(n))for(let o=0;o<n.length;o++)rC(n[o],e,t,i,r);else{const o=mt(),s=q(),a=jt();let c=Jl(n)?n:Le(n.provide);const d=KM(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(Jl(n)||!n.multi){const v=new Gl(d,r,O),b=sC(c,e,r?h:h+g,p);-1===b?(zu(Uu(a,s),o,c),oC(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=sC(c,e,h+g,p),b=sC(c,e,h,h+g),E=b>=0&&t[b];if(r&&!E||!r&&!(v>=0&&t[v])){zu(Uu(a,s),o,c);const A=function lW(n,e,t,i,r){const o=new Gl(n,t,O);return o.multi=[],o.index=e,o.componentProviders=0,pN(o,r,i&&!t),o}(r?cW:aW,t.length,r,i,d);!r&&E&&(t[b].providerFactory=A),oC(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(A),s.push(A)}else oC(o,n,v>-1?v:b,pN(t[r?b:v],d,!r&&i));!r&&i&&E&&t[b].componentProviders++}}}function oC(n,e,t,i){const r=Jl(e),o=function v$(n){return!!n.useClass}(e);if(r||o){const c=(o?Le(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=d.indexOf(t);-1===h?d.push(t,[i,c]):d[h+1].push(i,c)}else d.push(t,c)}}}function pN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function sC(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function aW(n,e,t,i){return aC(this.multi,[])}function cW(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ro(t,t[de],this.providerFactory.index,i);o=a.slice(0,s),aC(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],aC(r,o);return o}function aC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Gt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function sW(n,e,t){const i=mt();if(i.firstCreatePass){const r=ro(n);rC(t,i.data,i.blueprint,r,!0),rC(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class ld{}class gN{}class cC extends ld{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WP(this);const r=ni(e);this._bootstrapComponents=co(r.bootstrap),this._r3Injector=eR(e,t,[{provide:ld,useValue:this},{provide:fp,useValue:this.componentFactoryResolver},...i],Nn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class lC extends gN{constructor(e){super(),this.moduleType=e}create(e){return new cC(this.moduleType,e,[])}}class _N extends ld{constructor(e){super(),this.componentFactoryResolver=new WP(this),this.instance=null;const t=new ed([...e.providers,{provide:ld,useValue:this},{provide:fp,useValue:this.componentFactoryResolver}],e.parent||Xv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dC(n,e,t=null){return new _N({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let hW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=qM(0,t.type),r=i.length>0?dC([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(R(ao))})}return n})();function uC(n){id("NgStandalone"),n.getStandaloneInjector=e=>e.get(hW).getOrCreateStandaloneInjector(n)}function Qy(n,e,t,i){return function CN(n,e,t,i,r,o){const s=e+t;return oi(n,s,r)?function Us(n,e,t){return n[e]=t}(n,s+1,o?i.call(o,r):i(r)):function Lp(n,e){const t=n[e];return t===nt?void 0:t}(n,s+1)}(q(),function vi(){const n=ze.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function BW(){return this._results[Symbol.iterator]()}class kh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Yt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=kh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=BW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function or(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function jv(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ta=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=zW}return n})();const UW=Ta,jW=class extends UW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Tp(n,e,t,i){const r=e.tView,a=xy(n,r,t,4096&n[Ue]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Fl]=n[e.index];const d=n[Do];return null!==d&&(a[Do]=d.createEmbeddedView(r)),Dx(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new vp(r)}};function zW(){return Yy(jt(),q())}function Yy(n,e){return 4&n.type?new jW(e,n,oh(n,e)):null}class fC{constructor(e){this.queryList=e,this.matches=null}clone(){return new fC(this.queryList)}setDirty(){this.queryList.setDirty()}}class mC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new mC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==ON(e,t).matches&&this.queries[t].setDirty()}}class kN{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class pC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new pC(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new gC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,HW(t,o)),this.matchTNodeWithReadOption(e,t,qu(t,e,o,!1,!1))}else i===Ta?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,qu(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===tn||r===us||r===Ta&&4&t.type)this.addMatch(t.index,-2);else{const o=qu(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function HW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function qW(n,e,t,i){return-1===t?function $W(n,e){return 11&n.type?oh(n,e):4&n.type?Yy(n,e):null}(e,n):-2===t?function GW(n,e,t){return t===tn?oh(e,n):t===Ta?Yy(e,n):t===us?N1(e,n):void 0}(n,e,i):Ro(n,n[de],t,e)}function MN(n,e,t,i){const r=e[Do].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:qW(e,o[d],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function _C(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=MN(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const d=o[a+1],h=e[-c];for(let p=Tn;p<h.length;p++){const g=h[p];g[Fl]===g[hn]&&_C(g[de],g,d,i)}if(null!==h[ic]){const p=h[ic];for(let g=0;g<p.length;g++){const v=p[g];_C(v[de],v,d,i)}}}}}return i}function Dr(n){const e=q(),t=mt(),i=Cv();Bm(i+1);const r=ON(t,i);if(n.dirty&&function km(n){return 4==(4&n[Ue])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?_C(t,e,i,[]):MN(t,e,r,i);n.reset(o,c6),n.notifyOnChanges()}return!0}return!1}function Xy(n,e,t){const i=mt();i.firstCreatePass&&(PN(i,new kN(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),RN(i,q(),e)}function Fo(n,e,t,i){const r=mt();if(r.firstCreatePass){const o=jt();PN(r,new kN(e,t,i),o.index),function ZW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}RN(r,q(),t)}function Sr(){return function WW(n,e){return n[Do].queries[e].queryList}(q(),Cv())}function RN(n,e,t){const i=new kh(4==(4&t));(function F6(n,e,t,i){const r=SP(e);r.push(t),n.firstCreatePass&&AP(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Do]&&(e[Do]=new mC),e[Do].queries.push(new fC(i))}function PN(n,e,t){null===n.queries&&(n.queries=new pC),n.queries.track(new gC(e,t))}function ON(n,e){return n.queries.getByIndex(e)}const EC=new X("Application Initializer");let IC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=le(EC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Fp(o))t.push(o);else if(UO(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Hs=new X("LocaleId",{providedIn:"root",factory:()=>le(Hs,at.Optional|at.SkipSelf)||function g7(){return typeof $localize<"u"&&$localize.locale||Sh}()});let tb=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new er(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class E7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let XN=(()=>{class n{compileModuleSync(t){return new lC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=co(ni(t).declarations).reduce((s,a)=>{const c=ut(a);return c&&s.push(new yp(c)),s},[]);return new E7(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const iF=new X(""),ib=new X("");let DC,CC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,DC||(function W7(n){DC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ne),R(TC),R(ib))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),TC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return DC?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Tc=null;const rF=new X("AllowMultipleToken"),SC=new X("PlatformDestroyListeners"),AC=new X("appBootstrapListener");function aF(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=kC();if(!s||s.injector.get(rF,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Q7(n){if(Tc&&!Tc.get(rF,!1))throw new U(400,!1);(function oF(){!function $a(n){wo=n}(()=>{throw new U(600,!1)})})(),Tc=n;const e=n.get(lF);(function sF(n){n.get(nR,null)?.forEach(t=>t())})(n)}(function cF(n=[],e){return qi.create({name:e,providers:[{provide:CI,useValue:"platform"},{provide:SC,useValue:new Set([()=>Tc=null])},...n]})}(a,i))}return function X7(n){const e=kC();if(!e)throw new U(401,!1);return e}()}}function kC(){return Tc?.get(lF)??null}let lF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function J7(n="zone.js",e){return"noop"===n?new I8:"zone.js"===n?new Ne(e):n}(i?.ngZone,function dF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function uW(n,e,t){return new cC(n,e,t)}(t.moduleType,this.injector,function pF(n){return[{provide:Ne,useFactory:n},{provide:Fs,multi:!0,useFactory:()=>{const e=le(tZ,{optional:!0});return()=>e.initialize()}},{provide:mF,useFactory:eZ},{provide:UP,useFactory:jP}]}(()=>r)),s=o.injector.get(cs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{rb(this._modules,o),a.unsubscribe()})}),function uF(n,e,t){try{const i=t();return Fp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(IC);return a.runInitializers(),a.donePromise.then(()=>(function gO(n){Ui(n,"Expected localeId to be defined"),"string"==typeof n&&(pO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Hs,Sh)||Sh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=hF({},i);return function Z7(n,e,t){const i=new lC(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Dc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(SC,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(R(qi))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function hF(n,e){return Array.isArray(e)?e.reduce(hF,n):{...n,...e}}let Dc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=le(mF),this.zoneIsStable=le(UP),this.componentTypes=[],this.components=[],this.isStable=le(tb).hasPendingTasks.pipe(un(t=>t?xe(!1):this.zoneIsStable),vl(),es()),this._injector=le(ao)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof XR;if(!this._injector.get(IC).done)throw!r&&function tr(n){const e=ut(n)||ti(n)||Gn(n);return null!==e&&e.standalone}(t),new U(405,!1);let s;s=r?t:this._injector.get(fp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function K7(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ld),d=s.create(qi.NULL,[],i||s.selector,a),h=d.location.nativeElement,p=d.injector.get(iF,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),rb(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;rb(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(AC,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>rb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const mF=new X("",{providedIn:"root",factory:()=>le(cs).handleError.bind(void 0)});function eZ(){const n=le(Ne),e=le(cs);return t=>n.runOutsideAngular(()=>e.handleError(t))}let tZ=(()=>{class n{constructor(){this.zone=le(Ne),this.applicationRef=le(Dc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cZ=aF(null,"core",[]);let lZ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(R(Dc))};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({})}return n})();function Oh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let UC=null;function Sc(){return UC}class PZ{}const _t=new X("DocumentToken");let jC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(NZ),providedIn:"platform"})}return n})();const OZ=new X("Location Initialized");let NZ=(()=>{class n extends jC{constructor(){super(),this._doc=le(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sc().getBaseHref(this._doc)}onPopState(t){const i=Sc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Sc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function zC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function BF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Da(n){return n&&"?"!==n[0]?"?"+n:n}let ud=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(jF),providedIn:"root"})}return n})();const UF=new X("appBaseHref");let jF=(()=>{class n extends ud{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??le(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zC(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Da(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Da(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Da(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(jC),R(UF,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FZ=(()=>{class n extends ud{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=zC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Da(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Da(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(jC),R(UF,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Nh=(()=>{class n{constructor(t){this._subject=new Yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function BZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(BF(zF(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Da(i))}normalize(t){return n.stripTrailingSlash(function VZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,zF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Da(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Da(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Da;static#t=this.joinWithSlash=zC;static#n=this.stripTrailingSlash=BF;static#i=this.\u0275fac=function(i){return new(i||n)(R(ud))};static#r=this.\u0275prov=ce({token:n,factory:()=>function LZ(){return new Nh(R(ud))}(),providedIn:"root"})}return n})();function zF(n){return n.replace(/\/index.html$/,"")}function YF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const XC=/\s+/,XF=[];let JF=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=XF,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(XC):XF}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(XC):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(XC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ey),O(mp),O(tn),O(Ia))};static#t=this.\u0275dir=Oe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class xK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let JC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new xK(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),tL(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{tL(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(O(us),O(Ta),O(Ey))};static#t=this.\u0275dir=Oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function tL(n,e){n.context.$implicit=e.item}let Ac=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new CK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(O(us),O(Ta))};static#t=this.\u0275dir=Oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class CK{constructor(){this.$implicit=null,this.ngIf=null}}function nL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Nn(e)}'.`)}let Eb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({})}return n})();const sL="browser";function Ib(n){return"server"===n}let iQ=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new rQ(R(_t),window)})}return n})();class rQ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function oQ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class aL{}class SQ extends PZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sT extends SQ{static makeCurrent(){!function RZ(n){UC||(UC=n)}(new sT)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function AQ(){return Gp=Gp||document.querySelector("base"),Gp?Gp.getAttribute("href"):null}();return null==t?null:function kQ(n){Tb=Tb||document.createElement("a"),Tb.setAttribute("href",n);const e=Tb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return YF(document.cookie,e)}}let Tb,Gp=null,RQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const aT=new X("EventManagerPlugins");let uL=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(R(aT),R(Ne))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class hL{constructor(e){this._doc=e}}const cT="ng-app-id";let fL=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ib(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${cT}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(cT),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(cT,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t),R(ey),R(RI,8),R(as))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const lT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dT=/%COMP%/g,FQ=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function pL(n,e){return e.map(t=>t.replace(dT,n))}let uT=(()=>{class n{constructor(t,i,r,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ib(a),this.defaultRenderer=new hT(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ir.ShadowDom&&(i={...i,encapsulation:Ir.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof _L?r.applyToHost(t):r instanceof fT&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Ir.Emulated:o=new _L(c,d,i,this.appId,h,s,a,p);break;case Ir.ShadowDom:return new UQ(c,d,t,i,s,a,this.nonce,p);default:o=new fT(c,d,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(R(uL),R(fL),R(ey),R(FQ),R(_t),R(as),R(Ne),R(RI))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class hT{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(lT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(gL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new U(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=lT[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=lT[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ec.DashCase|Ec.Important)?e.style.setProperty(t,i,r&Ec.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ec.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Sc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function gL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class UQ extends hT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=pL(r.id,r.styles);for(const h of d){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fT extends hT{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?pL(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class _L extends fT{constructor(e,t,i,r,o,s,a,c){const d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=function LQ(n){return"_ngcontent-%COMP%".replace(dT,n)}(d),this.hostAttr=function VQ(n){return"_nghost-%COMP%".replace(dT,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let jQ=(()=>{class n extends hL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const vL=["alt","control","meta","shift"],zQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $Q=(()=>{class n extends hL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vL.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=zQ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vL.forEach(s=>{s!==r&&(0,HQ[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const bL=[{provide:as,useValue:sL},{provide:nR,useValue:function qQ(){sT.makeCurrent()},multi:!0},{provide:_t,useFactory:function WQ(){return function P$(n){MI=n}(document),document},deps:[]}],ZQ=aF(cZ,"browser",bL),KQ=new X(""),wL=[{provide:ib,useClass:class MQ{addToWindow(e){Zt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new U(5103,!1);return o},Zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zt.getAllAngularRootElements=()=>e.getAllRootElements(),Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(i=>{const r=Zt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Sc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:iF,useClass:CC,deps:[Ne,TC,ib]},{provide:CC,useClass:CC,deps:[Ne,TC,ib]}],EL=[{provide:CI,useValue:"root"},{provide:cs,useFactory:function GQ(){return new cs},deps:[]},{provide:aT,useClass:jQ,multi:!0,deps:[_t,Ne,as]},{provide:aT,useClass:$Q,multi:!0,deps:[_t]},uT,fL,uL,{provide:lx,useExisting:uT},{provide:aL,useClass:RQ,deps:[]},[]];let IL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ey,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(R(KQ,12))};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({providers:[...EL,...wL],imports:[Eb,lZ]})}return n})(),xL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function YQ(){return new xL(R(_t))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:iY}=Array,{getPrototypeOf:rY,prototype:oY,keys:sY}=Object;function AL(n){if(1===n.length){const e=n[0];if(iY(e))return{args:e,keys:null};if(function aY(n){return n&&"object"==typeof n&&rY(n)===oY}(e)){const t=sY(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:cY}=Array;function gT(n){return pe(e=>function lY(n,e){return cY(e)?n(...e):n(e)}(n,e))}function kL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Db(...n){const e=gl(n),t=j_(n),{args:i,keys:r}=AL(n);if(0===i.length)return qt([],e);const o=new yt(function dY(n,e,t=Si){return i=>{ML(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)ML(e,()=>{const d=qt(n[c],e);let h=!1;d.subscribe(be(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>kL(r,s):Si));return t?o.pipe(gT(t)):o}function ML(n,e,t){n?Jo(t,n,e):e()}const Sb=mi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ab(...n){return function uY(){return Vt(1)}()(qt(n,gl(n)))}function RL(n){return new yt(e=>{Se(n()).subscribe(e)})}function Wp(n,e){const t=Pe(n)?n:()=>n,i=r=>r.error(t());return new yt(e?r=>e.schedule(i,0,r):i)}function _T(){return se((n,e)=>{let t=null;n._refCount++;const i=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class PL extends yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,L(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kt;const t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kt.EMPTY)}return e}refCount(){return _T()(this)}}function ps(n){return n<=0?()=>no:se((e,t)=>{let i=0;e.subscribe(be(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function hd(...n){const e=gl(n);return se((t,i)=>{(e?Ab(n,t,e):Ab(n,t)).subscribe(i)})}function Bn(n,e){return se((t,i)=>{let r=0;t.subscribe(be(i,o=>n.call(e,o,r++)&&i.next(o)))})}function kb(n){return se((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function OL(n=hY){return se((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function hY(){return new Sb}function Mc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):Si,ps(1),t?kb(e):OL(()=>new Sb))}function Lh(n,e){return Pe(e)?pi(n,e,1):pi(n,1)}function Yn(n,e,t){const i=Pe(n)||e||t?{next:n,error:e,complete:t}:n;return i?se((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(be(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Si}function fd(n){return se((e,t)=>{let o,i=null,r=!1;i=e.subscribe(be(t,void 0,void 0,s=>{o=Se(n(s,fd(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Mb(n,e){return se(function fY(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(be(s,h=>{const p=d++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function vT(n){return n<=0?()=>no:se((e,t)=>{let i=[];e.subscribe(be(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function yT(n){return pe(()=>n)}function Vh(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cr(n){return se((e,t)=>{Se(n).subscribe(be(t,()=>t.complete(),vr)),!t.closed&&e.subscribe(t)})}const ct="primary",Zp=Symbol("RouteTitle");class pY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bh(n){return new pY(n)}function gY(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $s(n,e){const t=n?bT(n):void 0,i=e?bT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!NL(n[r],e[r]))return!1;return!0}function bT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function FL(n){return n.length>0?n[n.length-1]:null}function Rc(n){return function nY(n){return!!n&&(n instanceof yt||Pe(n.lift)&&Pe(n.subscribe))}(n)?n:Fp(n)?qt(Promise.resolve(n)):xe(n)}const vY={exact:function BL(n,e,t){if(!md(n.segments,e.segments)||!Rb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!BL(n.children[i],e.children[i],t))return!1;return!0},subset:UL},LL={exact:function yY(n,e){return $s(n,e)},subset:function bY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NL(n[t],e[t]))},ignored:()=>!0};function VL(n,e,t){return vY[t.paths](n.root,e.root,t.matrixParams)&&LL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function UL(n,e,t){return jL(n,e,e.segments,t)}function jL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!md(r,t)||e.hasChildren()||!Rb(r,t,i))}if(n.segments.length===t.length){if(!md(n.segments,t)||!Rb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!UL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(md(n.segments,r)&&Rb(n.segments,r,i)&&n.children[ct])&&jL(n.children[ct],e,o,i)}}function Rb(n,e,t){return e.every((i,r)=>LL[t](n[r].parameters,i.parameters))}class Uh{constructor(e=new nn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bh(this.queryParams)),this._queryParamMap}toString(){return IY.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pb(this)}}class Kp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bh(this.parameters)),this._parameterMap}toString(){return $L(this)}}function md(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let jh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>new wT,providedIn:"root"})}return n})();class wT{parse(e){const t=new OY(e);return new Uh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qp(e.root,!0)}`,i=function TY(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ob(t)}=${Ob(r)}`).join("&"):`${Ob(t)}=${Ob(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function xY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const IY=new wT;function Pb(n){return n.segments.map(e=>$L(e)).join("/")}function Qp(n,e){if(!n.hasChildren())return Pb(n);if(e){const t=n.children[ct]?Qp(n.children[ct],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ct&&i.push(`${r}:${Qp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function EY(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ct&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ct&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===ct?[Qp(n.children[ct],!1)]:[`${r}:${Qp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ct]?`${Pb(n)}/${t[0]}`:`${Pb(n)}/(${t.join("//")})`}}function zL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ob(n){return zL(n).replace(/%3B/gi,";")}function ET(n){return zL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nb(n){return decodeURIComponent(n)}function HL(n){return Nb(n.replace(/\+/g,"%20"))}function $L(n){return`${ET(n.path)}${function CY(n){return Object.keys(n).map(e=>`;${ET(e)}=${ET(n[e])}`).join("")}(n.parameters)}`}const DY=/^[^\/()?;#]+/;function IT(n){const e=n.match(DY);return e?e[0]:""}const SY=/^[^\/()?;=#]+/,kY=/^[^=?&#]+/,RY=/^[^&#]+/;class OY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ct]=new nn(e,t)),i}parseSegment(){const e=IT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Kp(Nb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function AY(n){const e=n.match(SY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=IT(this.remaining);r&&(i=r,this.capture(i))}e[Nb(t)]=Nb(i)}parseQueryParam(e){const t=function MY(n){const e=n.match(kY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function PY(n){const e=n.match(RY);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=HL(t),o=HL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=IT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new U(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ct);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ct]:new nn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function qL(n){return n.segments.length>0?new nn([],{[ct]:n}):n}function GL(n){const e={};for(const i of Object.keys(n.children)){const o=GL(n.children[i]);if(i===ct&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function NY(n){if(1===n.numberOfChildren&&n.children[ct]){const e=n.children[ct];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function pd(n){return n instanceof Uh}function WL(n){let e;const r=qL(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new nn(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function ZL(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return xT(r,r,r,t,i);const o=function LY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new QL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new QL(t,e,i)}(e);if(o.toRoot())return xT(r,r,new nn([],{}),t,i);const s=function VY(n,e,t){if(n.isAbsolute)return new Lb(e,!0,0);if(!t)return new Lb(e,!1,NaN);if(null===t.parent)return new Lb(t,!0,0);const i=Fb(n.commands[0])?0:1;return function BY(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new U(4005,!1);r=i.segments.length}return new Lb(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Xp(s.segmentGroup,s.index,o.commands):YL(s.segmentGroup,s.index,o.commands);return xT(r,s.segmentGroup,a,t,i)}function Fb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yp(n){return"object"==typeof n&&null!=n&&n.outlets}function xT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`}),s=n===e?t:KL(n,e,t);const a=qL(GL(s));return new Uh(a,o,r)}function KL(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:KL(o,e,t)}),new nn(n.segments,i)}class QL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Fb(i[0]))throw new U(4003,!1);const r=i.find(Yp);if(r&&r!==FL(i))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function YL(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return Xp(n,e,t);const i=function jY(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Yp(a))break;const c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!JL(c,d,s))return o;i+=2}else{if(!JL(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new nn(n.segments.slice(0,i.pathIndex),{});return o.children[ct]=new nn(n.segments.slice(i.pathIndex),n.children),Xp(o,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?CT(n,e,t):i.match?Xp(n,0,r):CT(n,e,t)}function Xp(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function UY(n){return Yp(n[0])?n[0].outlets:{[ct]:n}}(t),r={};if(Object.keys(i).some(o=>o!==ct)&&n.children[ct]&&1===n.numberOfChildren&&0===n.children[ct].segments.length){const o=Xp(n.children[ct],e,t);return new nn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=YL(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new nn(n.segments,r)}}function CT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Yp(o)){const c=zY(o.outlets);return new nn(i,c)}if(0===r&&Fb(t[0])){i.push(new Kp(n.segments[e].path,XL(t[0]))),r++;continue}const s=Yp(o)?o.outlets[ct]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Fb(a)?(i.push(new Kp(s,XL(a))),r+=2):(i.push(new Kp(s,{})),r++)}return new nn(i,{})}function zY(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=CT(new nn([],{}),0,i))}),e}function XL(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function JL(n,e,t){return n==t.path&&$s(e,t.parameters)}const Jp="imperative";class qs{constructor(e,t){this.id=e,this.url=t}}class Vb extends qs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ka extends qs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zh extends qs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hh extends qs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Bb extends qs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class e2 extends qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HY extends qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends qs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qY extends qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GY extends qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t2{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class TT{}class DT{constructor(e){this.url=e}}class JY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new eg,this.attachRef=null}}let eg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new JY,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class n2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ST(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ST(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=AT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return AT(e,this._root).map(t=>t.value)}}function ST(n,e){if(n===e.value)return e;for(const t of e.children){const i=ST(n,t);if(i)return i}return null}function AT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=AT(n,t);if(i.length)return i.unshift(e),i}return[]}class gs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $h(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class r2 extends n2{constructor(e,t){super(e),this.snapshot=t,RT(this,e)}toString(){return this.snapshot.toString()}}function o2(n,e){const t=function eX(n,e){const s=new MT([],{},{},"",{},ct,e,null,{});return new s2("",new gs(s,[]))}(0,e),i=new er([new Kp("",{})]),r=new er({}),o=new er({}),s=new er({}),a=new er(""),c=new qh(i,r,s,a,o,ct,e,t.root);return c.snapshot=t.root,new r2(new gs(c,[]),t)}class qh{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(pe(d=>d[Zp]))??xe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>Bh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>Bh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:n.params,data:n.data,resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&c2(r)&&(i.resolve[Zp]=r.title),i}class MT{get title(){return this.data?.[Zp]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class s2 extends n2{constructor(e,t){super(t),this.url=e,RT(this,t)}toString(){return a2(this._root)}}function RT(n,e){e.value._routerState=n,e.children.forEach(t=>RT(n,t))}function a2(n){const e=n.children.length>0?` { ${n.children.map(a2).join(", ")} } `:"";return`${n.value}${e}`}function PT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$s(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$s(e.params,t.params)||n.paramsSubject.next(t.params),function _Y(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$s(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$s(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function OT(n,e){const t=$s(n.params,e.params)&&function wY(n,e){return md(n,e)&&n.every((t,i)=>$s(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||OT(n.parent,e.parent))}function c2(n){return"string"==typeof n.title||null===n.title}let NT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ct,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.parentContexts=le(eg),this.location=le(us),this.changeDetector=le(Bs),this.environmentInjector=le(ao),this.inputBinder=le(Ub,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tX(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zi]})}return n})();class tX{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===qh?this.route:e===eg?this.childContexts:this.parent.get(e,t)}}const Ub=new X("");let l2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Db([i.queryParams,i.params,i.data]).pipe(un(([o,s,a],c)=>(a={...o,...s,...a},0===c?xe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function MZ(n){const e=ut(n);if(!e)return null;const t=new yp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function tg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function iX(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return tg(n,i,r);return tg(n,i)})}(n,e,t);return new gs(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tg(n,a)),s}}const i=function rX(n){return new qh(new er(n.url),new er(n.params),new er(n.queryParams),new er(n.fragment),new er(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>tg(n,o));return new gs(i,r)}}const FT="ngNavigationCancelingError";function d2(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=pd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=u2(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function u2(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[FT]=!0,i.cancellationCode=e,t&&(i.url=t),i}function h2(n){return n&&n[FT]}let f2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Fn({type:n,selectors:[["ng-component"]],standalone:!0,features:[uC],decls:1,vars:0,template:function(i,r){1&i&&$e(0,"router-outlet")},dependencies:[NT],encapsulation:2})}return n})();function LT(n){const e=n.children&&n.children.map(LT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ct&&(t.component=f2),t}function Gs(n){return n.outlet||ct}function ng(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hX{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),PT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=$h(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=$h(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=$h(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=$h(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new XY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new QY(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(PT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),PT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ng(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class m2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jb{constructor(e,t){this.component=e,this.route=t}}function fX(n,e,t){const i=n._root;return ig(i,e?e._root:null,t,[i.value])}function Gh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function W_(n){return null!==ji(n)}(n)?e.get(n):n:i}function ig(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=$h(e);return n.children.forEach(s=>{(function pX(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function gX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!md(n.url,e.url);case"pathParamsOrQueryParamsChange":return!md(n.url,e.url)||!$s(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!OT(n,e)||!$s(n.queryParams,e.queryParams);default:return!OT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new m2(i)):(o.data=s.data,o._resolvedData=s._resolvedData),ig(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new jb(a.outlet.component,s))}else s&&rg(e,a,r),r.canActivateChecks.push(new m2(i)),ig(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rg(a,t.getContext(s),r)),r}function rg(n,e,t){const i=$h(n),r=n.value;Object.entries(i).forEach(([o,s])=>{rg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new jb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function og(n){return"function"==typeof n}function p2(n){return n instanceof Sb||"EmptyError"===n?.name}const zb=Symbol("INITIAL_VALUE");function Wh(){return un(n=>Db(n.map(e=>e.pipe(ps(1),hd(zb)))).pipe(pe(e=>{for(const t of e)if(!0!==t){if(t===zb)return zb;if(!1===t||t instanceof Uh)return t}return!0}),Bn(e=>e!==zb),ps(1)))}function g2(n){return function xs(...n){return sa(n)}(Yn(e=>{if(pd(e))throw d2(0,e)}),pe(e=>!0===e))}class VT{constructor(e){this.segmentGroup=e||null}}class BT extends Error{constructor(e){super(),this.urlTree=e}}function Zh(n){return Wp(new VT(n))}class FX{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return xe(i);if(r.numberOfChildren>1||!r.children[ct])return Wp(new U(4e3,!1));r=r.children[ct]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new BT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Uh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new nn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const UT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LX(n,e,t,i,r){const o=jT(n,e,t);return o.matched?(i=function sX(n,e){return n.providers&&!n._injector&&(n._injector=dC(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function PX(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?xe(r.map(s=>{const a=Gh(s,n);return Rc(function EX(n){return n&&og(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wh(),g2()):xe(!0)}(i,e,t).pipe(pe(s=>!0===s?o:{...UT}))):xe(o)}function jT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...UT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||gY)(t,n,e);if(!r)return{...UT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function _2(n,e,t,i){return t.length>0&&function UX(n,e,t){return t.some(i=>Hb(n,e,i)&&Gs(i)!==ct)}(n,t,i)?{segmentGroup:new nn(e,BX(i,new nn(t,n.children))),slicedSegments:[]}:0===t.length&&function jX(n,e,t){return t.some(i=>Hb(n,e,i))}(n,t,i)?{segmentGroup:new nn(n.segments,VX(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new nn(n.segments,n.children),slicedSegments:t}}function VX(n,e,t,i,r){const o={};for(const s of i)if(Hb(n,t,s)&&!r[Gs(s)]){const a=new nn([],{});o[Gs(s)]=a}return{...r,...o}}function BX(n,e){const t={};t[ct]=e;for(const i of n)if(""===i.path&&Gs(i)!==ct){const r=new nn([],{});t[Gs(i)]=r}return t}function Hb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class $X{}class WX{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new FX(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,!1)}recognize(){const e=_2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(t=>{const i=new MT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,{}),r=new gs(i,t),o=new s2("",r),s=function FY(n,e,t=null,i=null){return ZL(WL(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ct).pipe(fd(i=>{if(i instanceof BT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof VT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=kT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(pe(o=>o instanceof gs?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return qt(r).pipe(Lh(o=>{const s=i.children[o],a=function dX(n,e){const t=n.filter(i=>Gs(i)===e);return t.push(...n.filter(i=>Gs(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),Mb((o,s)=>(o.push(...s),o)),kb(null),function mY(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):Si,vT(1),t?kb(e):OL(()=>new Sb))}(),pi(o=>{if(null===o)return Zh(i);const s=v2(o);return function ZX(n){n.sort((e,t)=>e.value.outlet===ct?-1:t.value.outlet===ct?1:e.value.outlet.localeCompare(t.value.outlet))}(s),xe(s)}))}processSegment(e,t,i,r,o,s){return qt(t).pipe(Lh(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(fd(c=>{if(c instanceof VT)return xe(null);throw c}))),Mc(a=>!!a),fd(a=>{if(p2(a))return function HX(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?xe(new $X):Zh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function zX(n,e,t,i){return!!(Gs(n)===i||i!==ct&&Hb(e,t,n))&&("**"===n.path||jT(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Zh(r):Zh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:d,remainingSegments:h}="**"===r.path?y2(o):jT(t,r,o);if(!a)return Zh(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(pi(g=>this.processSegment(e,i,t,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s;return"**"===i.path?(s=xe(y2(r)),t.children={}):s=LX(t,i,r,e),s.pipe(un(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(un(({routes:c})=>{const d=i._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,v=new MT(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function QX(n){return n.data||{}}(i),Gs(i),i.component??i._loadedComponent??null,i,function YX(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:w}=_2(t,h,p,c);if(0===w.length&&b.hasChildren())return this.processChildren(d,c,b).pipe(pe(A=>null===A?null:new gs(v,A)));if(0===c.length&&0===w.length)return xe(new gs(v,[]));const E=Gs(i)===o;return this.processSegment(d,c,b,w,E?ct:o,!0).pipe(pe(A=>new gs(v,A instanceof gs?[A]:[])))})):Zh(t)))}getChildConfig(e,t,i){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function RX(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?xe(!0):xe(r.map(s=>{const a=Gh(s,n);return Rc(function vX(n){return n&&og(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wh(),g2())}(e,t,i).pipe(pi(r=>r?this.configLoader.loadChildren(e,t).pipe(Yn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function NX(n){return Wp(u2(!1,3))}())):xe({routes:[],injector:e})}}function KX(n){const e=n.value.routeConfig;return e&&""===e.path}function v2(n){const e=[],t=new Set;for(const i of n){if(!KX(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=v2(i.children);e.push(new gs(i.value,r))}return e.filter(i=>!t.has(i))}function y2(n){return{matched:!0,parameters:n.length>0?FL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function JX(n,e){return pi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return xe(t);const o=r.map(d=>d.route),s=new Set(o),a=b2(o[0].parent).slice(1);let c=0;return qt(a).pipe(Lh(d=>s.has(d)?function eJ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!c2(r)&&(o[Zp]=r.title),function tJ(n,e,t,i){const r=bT(n);if(0===r.length)return xe({});const o={};return qt(r).pipe(pi(s=>function nJ(n,e,t,i){const r=ng(e)??i,o=Gh(n,r);return Rc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Mc(),Yn(a=>{o[s]=a}))),vT(1),yT(o),fd(s=>p2(s)?no:Wp(s)))}(o,n,e,i).pipe(pe(s=>(n._resolvedData=s,n.data=kT(n,n.parent,t).resolve,null)))}(d,i,n,e):(d.data=kT(d,d.parent,n).resolve,xe(void 0))),Yn(()=>c++),vT(1),pi(d=>c===a.length?xe(t):no))})}function b2(n){const e=n.children.map(t=>b2(t)).flat();return[n,...e]}function zT(n){return un(e=>{const t=n(e);return t?qt(t).pipe(pe(()=>e)):xe(e)})}let w2=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ct);return i}getResolvedTitleForRoute(t){return t.data[Zp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(iJ),providedIn:"root"})}return n})(),iJ=(()=>{class n extends w2{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(R(xL))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Kh=new X("",{providedIn:"root",factory:()=>({})}),Qh=new X("ROUTES");let HT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(XN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Rc(t.loadComponent()).pipe(pe(E2),Yn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Vh(()=>{this.componentLoaders.delete(t)})),r=new PL(i,()=>new C).pipe(_T());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function rJ(n,e,t,i){return Rc(n.loadChildren()).pipe(pe(E2),pi(r=>r instanceof gN||Array.isArray(r)?xe(r):qt(e.compileModuleAsync(r))),pe(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Qh,[],{optional:!0,self:!0}).flat()),{routes:s.map(LT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Vh(()=>{this.childrenLoaders.delete(i)})),s=new PL(o,()=>new C).pipe(_T());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E2(n){return function oJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let $T=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(sJ),providedIn:"root"})}return n})(),sJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const I2=new X(""),x2=new X("");function aJ(n,e,t){const i=n.get(x2),r=n.get(_t);return n.get(Ne).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),function cJ(n){return new Promise(e=>{$P(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&function C$(n,e){n instanceof ed&&n.assertNotDestroyed();const i=ns(n),r=Mi(void 0);try{return e()}finally{ns(i),Mi(r)}}(n,()=>c({transition:a,from:e,to:t})),s})}let $b=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new C,this.transitionAbortSubject=new C,this.configLoader=le(HT),this.environmentInjector=le(ao),this.urlSerializer=le(jh),this.rootContexts=le(eg),this.location=le(Nh),this.inputBindingEnabled=null!==le(Ub,{optional:!0}),this.titleStrategy=le(w2),this.options=le(Kh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=le($T),this.createViewTransition=le(I2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ZY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new WY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new er({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bn(o=>0!==o.id),pe(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),un(o=>{this.currentTransition=o;let s=!1,a=!1;return xe(o).pipe(Yn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),un(c=>{const d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Hh(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),no}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return xe(c).pipe(un(p=>{const g=this.transitions?.getValue();return this.events.next(new Vb(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?no:Promise.resolve(p)}),function XX(n,e,t,i,r,o){return pi(s=>function qX(n,e,t,i,r,o,s="emptyOnly"){return new WX(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(pe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Yn(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new e2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:v,restoredState:b,extras:w}=c,E=new Vb(p,this.urlSerializer.serialize(g),v,b);this.events.next(E);const A=o2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:A,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,xe(o)}{const p="";return this.events.next(new Hh(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),no}}),Yn(c=>{const d=new HY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),pe(c=>(this.currentTransition=o={...c,guards:fX(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function xX(n,e){return pi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?xe({...t,guardsResult:!0}):function CX(n,e,t,i){return qt(n).pipe(pi(r=>function MX(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xe(o.map(a=>{const c=ng(e)??r,d=Gh(a,c);return Rc(function wX(n){return n&&og(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):c.runInContext(()=>d(n,e,t,i))).pipe(Mc())})).pipe(Wh()):xe(!0)}(r.component,r.route,t,e,i)),Mc(r=>!0!==r,!0))}(s,i,r,n).pipe(pi(a=>a&&function _X(n){return"boolean"==typeof n}(a)?function TX(n,e,t,i){return qt(e).pipe(Lh(r=>Ab(function SX(n,e){return null!==n&&e&&e(new KY(n)),xe(!0)}(r.route.parent,i),function DX(n,e){return null!==n&&e&&e(new YY(n)),xe(!0)}(r.route,i),function kX(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function mX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>RL(()=>xe(s.guards.map(c=>{const d=ng(s.node)??t,h=Gh(c,d);return Rc(function bX(n){return n&&og(n.canActivateChild)}(h)?h.canActivateChild(i,n):d.runInContext(()=>h(i,n))).pipe(Mc())})).pipe(Wh())));return xe(o).pipe(Wh())}(n,r.path,t),function AX(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return xe(!0);const r=i.map(o=>RL(()=>{const s=ng(e)??t,a=Gh(o,s);return Rc(function yX(n){return n&&og(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Mc())}));return xe(r).pipe(Wh())}(n,r.route,t))),Mc(r=>!0!==r,!0))}(i,o,n,e):xe(a)),pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Yn(c=>{if(o.guardsResult=c.guardsResult,pd(c.guardsResult))throw d2(0,c.guardsResult);const d=new $Y(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Bn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),zT(c=>{if(c.guards.canActivateChecks.length)return xe(c).pipe(Yn(d=>{const h=new qY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),un(d=>{let h=!1;return xe(d).pipe(JX(this.paramsInheritanceStrategy,this.environmentInjector),Yn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),Yn(d=>{const h=new GY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),zT(c=>{const d=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Yn(g=>{h.component=g}),pe(()=>{})));for(const g of h.children)p.push(...d(g));return p};return Db(d(c.targetSnapshot.root)).pipe(kb(),ps(1))}),zT(()=>this.afterPreactivation()),un(()=>{const{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?qt(h).pipe(pe(()=>o)):xe(o)}),pe(c=>{const d=function nX(n,e,t){const i=tg(n,e._root,t?t._root:void 0);return new r2(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),Yn(()=>{this.events.next(new TT)}),((n,e,t,i)=>pe(r=>(new hX(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ps(1),Yn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ka(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),cr(this.transitionAbortSubject.pipe(Yn(c=>{throw c}))),Vh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),fd(c=>{if(a=!0,h2(c))this.events.next(new zh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function oX(n){return h2(n)&&pd(n.url)}(c)?this.events.next(new DT(c.url)):o.resolve(!1);else{this.events.next(new Bb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return no}))}))}cancelNavigationTransition(t,i,r){const o=new zh(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lJ(n){return n!==Jp}let dJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(hJ),providedIn:"root"})}return n})();class uJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let hJ=(()=>{class n extends uJ{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:()=>le(fJ),providedIn:"root"})}return n})(),fJ=(()=>{class n extends C2{constructor(){super(...arguments),this.location=le(Nh),this.urlSerializer=le(jh),this.options=le(Kh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=le($T),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Uh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=o2(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Vb)this.stateMemento=this.createStateMemento();else if(t instanceof Hh)this.rawUrlTree=i.initialUrl;else if(t instanceof e2){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof TT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof zh&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof Bb?this.restoreHistory(i,!0):t instanceof ka&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(sg||{});function T2(n,e){n.events.pipe(Bn(t=>t instanceof ka||t instanceof zh||t instanceof Bb||t instanceof Hh),pe(t=>t instanceof ka||t instanceof Hh?sg.COMPLETE:t instanceof zh&&(0===t.code||1===t.code)?sg.REDIRECTING:sg.FAILED),Bn(t=>t!==sg.REDIRECTING),ps(1)).subscribe(()=>{e()})}function mJ(n){throw n}const pJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=le(QN),this.stateManager=le(C2),this.options=le(Kh,{optional:!0})||{},this.pendingTasks=le(tb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=le($b),this.urlSerializer=le(jh),this.location=le(Nh),this.urlHandlingStrategy=le($T),this._events=new C,this.errorHandler=this.options.errorHandler||mJ,this.navigated=!1,this.routeReuseStrategy=le(dJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=le(Qh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!le(Ub,{optional:!0}),this.eventsSubscription=new kt,this.isNgZoneEnabled=le(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof zh&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof ka)this.navigated=!0;else if(i instanceof DT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lJ(r.source)};this.scheduleNavigation(s,Jp,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function vJ(n){return!(n instanceof TT||n instanceof DT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(LT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=WL(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return ZL(p,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=pd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Jp,null,i)}navigate(t,i={skipLocationChange:!1}){return function _J(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new U(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...pJ}:!1===i?{...gJ}:i,pd(t))return VL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return VL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return T2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yh=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new C,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof ka&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function ZR(n,e,t){return function K5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?WR:lp}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Zr),O(qh),function Gu(n){return function Km(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(nv(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(jt(),n)}("tabindex"),O(Ia),O(tn),O(ud))};static#t=this.\u0275dir=Oe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ye("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&ar("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Oh],skipLocationChange:["skipLocationChange","skipLocationChange",Oh],replaceUrl:["replaceUrl","replaceUrl",Oh],routerLink:"routerLink"},standalone:!0,features:[JP,zi]})}return n})();class D2{}let wJ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(t=>t instanceof ka),Lh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=dC(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return qt(r).pipe(Vt())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):xe(null);const o=r.pipe(pi(s=>null===s?xe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?qt([o,this.loader.loadComponent(i)]).pipe(Vt()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Zr),R(XN),R(ao),R(D2),R(HT))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qT=new X("");let S2=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ka?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Hh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof t2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new t2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function _P(){throw new Error("invalid")}()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Ws(n,e){return{\u0275kind:n,\u0275providers:e}}function k2(){const n=le(qi);return e=>{const t=n.get(Dc);if(e!==t.components[0])return;const i=n.get(Zr),r=n.get(M2);1===n.get(GT)&&i.initialNavigation(),n.get(R2,null,at.Optional)?.setUpPreloading(),n.get(qT,null,at.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const M2=new X("",{factory:()=>new C}),GT=new X("",{providedIn:"root",factory:()=>1}),R2=new X("");function CJ(n){return Ws(0,[{provide:R2,useExisting:wJ},{provide:D2,useExisting:n}])}function DJ(n){return Ws(9,[{provide:I2,useValue:aJ},{provide:x2,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const P2=new X("ROUTER_FORROOT_GUARD"),SJ=[Nh,{provide:jh,useClass:wT},Zr,eg,{provide:qh,useFactory:function A2(n){return n.routerState.root},deps:[Zr]},HT,[]];let O2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[SJ,[],{provide:Qh,multi:!0,useValue:t},{provide:P2,useFactory:RJ,deps:[[Zr,new y,new k]]},{provide:Kh,useValue:i||{}},i?.useHash?{provide:ud,useClass:FZ}:{provide:ud,useClass:jF},{provide:qT,useFactory:()=>{const n=le(iQ),e=le(Ne),t=le(Kh),i=le($b),r=le(jh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new S2(r,i,n,e,t)}},i?.preloadingStrategy?CJ(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?PJ(i):[],i?.bindToComponentInputs?Ws(8,[l2,{provide:Ub,useExisting:l2}]).\u0275providers:[],i?.enableViewTransitions?DJ().\u0275providers:[],[{provide:N2,useFactory:k2},{provide:AC,multi:!0,useExisting:N2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Qh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(R(P2,8))};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({})}return n})();function RJ(n){return"guarded"}function PJ(n){return["disabled"===n.initialNavigation?Ws(3,[{provide:EC,multi:!0,useFactory:()=>{const e=le(Zr);return()=>{e.setUpLocationChangeListener()}}},{provide:GT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ws(2,[{provide:GT,useValue:0},{provide:EC,multi:!0,deps:[qi],useFactory:e=>{const t=e.get(OZ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Zr),o=e.get(M2);T2(r,()=>{i(!0)}),e.get($b).afterPreactivation=()=>(i(!0),o.closed?xe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const N2=new X("");class WT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class F2 extends WT{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class NJ extends WT{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class FJ extends WT{constructor(e){super(),this.element=e instanceof tn?e.nativeElement:e}}class LJ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof F2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof NJ?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof FJ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class VJ extends LJ{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||qi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let BJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({})}return n})();const ZT=n=>({"selected-box":n});let UJ=(()=>{class n{constructor(t){this.overlayService=t,this.selectedBox="Default",this.content={Default:{title:"Settings page",description:"Customize everything to your liking!"},Appearence:{title:"Appearence Settings",description:"Customize the visual appearence of your application."},Privacy:{title:"Privacy Settings",description:"Manage your privacy preferences and settings."},Status:{title:"Status Settings",description:"Configure your status and online/offline preferences."}}}closeOverlay(){this.overlayService.closeOverlay()}changeContent(t){this.selectedBox=t}isBoxSelected(t){return this.selectedBox===t}static#e=this.\u0275fac=function(i){return new(i||n)(O(X2))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-settings"]],standalone:!0,features:[uC],decls:25,vars:11,consts:[[1,"settings-overlay"],[1,"top-bar"],[1,"title"],["src","assets\\img\\settings.svg","alt",""],[1,"close"],[3,"click"],[1,"container"],[1,"side-bar"],[1,"box1",3,"ngClass","click"],[1,"box",3,"ngClass","click"],[1,"content"]],template:function(i,r){1&i&&(F(0,"div",0)(1,"div",1)(2,"div",2),$e(3,"img",3),F(4,"h1"),he(5,"Settings"),$()(),F(6,"div",4)(7,"button",5),Ye("click",function(){return r.closeOverlay()}),he(8,"X"),$()()(),F(9,"div",6)(10,"div",7)(11,"div",8),Ye("click",function(){return r.changeContent("Appearence")}),F(12,"h1"),he(13,"Appearence"),$()(),F(14,"div",9),Ye("click",function(){return r.changeContent("Privacy")}),F(15,"h1"),he(16,"Privacy"),$()(),F(17,"div",9),Ye("click",function(){return r.changeContent("Status")}),F(18,"h1"),he(19,"Status"),$()()(),F(20,"div",10)(21,"h1"),he(22),$(),F(23,"p"),he(24),$()()()()),2&i&&(ye(11),We("ngClass",Qy(5,ZT,r.isBoxSelected("Appearence"))),ye(3),We("ngClass",Qy(7,ZT,r.isBoxSelected("Privacy"))),ye(3),We("ngClass",Qy(9,ZT,r.isBoxSelected("Status"))),ye(5),wi(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].title),ye(2),wi(null==r.content[r.selectedBox]?null:r.content[r.selectedBox].description))},dependencies:[Eb,JF],styles:[".settings-overlay[_ngcontent-%COMP%]{width:50vw;height:90vh;display:flex;flex-direction:column;align-items:center;color:#e0e1e1;border-radius:40px}.top-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#212121;border-top-right-radius:40px;border-top-left-radius:40px}.title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;margin-right:20px;margin-left:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#e0e1e1;font-weight:bolder;background:transparent;font-size:40px;border:none;margin-right:20px}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e37a70}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{color:#e37a70;transform:scale(.9)}.container[_ngcontent-%COMP%]{width:100%;height:800px;display:flex}.side-bar[_ngcontent-%COMP%]{width:25%;min-width:156px;display:flex;flex-direction:column;align-items:center;background-color:#212121;border-bottom-left-radius:40px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{width:100%;text-align:center;border-bottom:thin solid #E37A70;font-size:13px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box1[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]:hover, .box1[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#2d2d2d}.selected-box[_ngcontent-%COMP%]{background-color:#313131}.content[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#313131;border-bottom-right-radius:40px}@media screen and (max-width: 768px){.settings-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh}.side-bar[_ngcontent-%COMP%]{min-width:110px}.box[_ngcontent-%COMP%], .box1[_ngcontent-%COMP%]{font-size:9px}}"]})}return n})();function Rr(n){return null!=n&&"false"!=`${n}`}function qb(n,e=0){return function jJ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Gb(n){return Array.isArray(n)?n:[n]}function di(n){return null==n?"":"string"==typeof n?n:`${n}px`}function gd(n){return n instanceof tn?n.nativeElement:n}const zJ=["addListener","removeListener"],HJ=["addEventListener","removeEventListener"],$J=["on","off"];function ag(n,e,t,i){if(Pe(t)&&(i=t,t=void 0),i)return ag(n,e,t).pipe(gT(i));const[r,o]=function WJ(n){return Pe(n.addEventListener)&&Pe(n.removeEventListener)}(n)?HJ.map(s=>a=>n[s](e,a,t)):function qJ(n){return Pe(n.addListener)&&Pe(n.removeListener)}(n)?zJ.map(L2(n,e)):function GJ(n){return Pe(n.on)&&Pe(n.off)}(n)?$J.map(L2(n,e)):[];if(!r&&Bi(n))return pi(s=>ag(s,e,t))(Se(n));if(!r)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function L2(n,e){return t=>i=>n[t](e,i)}class ZJ extends kt{constructor(e,t){super()}schedule(e,t=0){return this}}const Wb={setInterval(n,e,...t){const{delegate:i}=Wb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Wb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Zb extends ZJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Wb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Wb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ei(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const cg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=cg;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new kt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=cg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=cg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},KT={now:()=>(KT.delegate||Date).now(),delegate:void 0};class lg{constructor(e,t=lg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}lg.now=KT.now;class Kb extends lg{constructor(e,t=lg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class QJ extends Kb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class KJ extends Zb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=cg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(cg.cancelAnimationFrame(t),e._scheduled=void 0)}});let QT,XJ=1;const Qb={};function V2(n){return n in Qb&&(delete Qb[n],!0)}const JJ={setImmediate(n){const e=XJ++;return Qb[e]=!0,QT||(QT=Promise.resolve()),QT.then(()=>V2(e)&&n()),e},clearImmediate(n){V2(n)}},{setImmediate:eee,clearImmediate:tee}=JJ,Yb={setImmediate(...n){const{delegate:e}=Yb;return(e?.setImmediate||eee)(...n)},clearImmediate(n){const{delegate:e}=Yb;return(e?.clearImmediate||tee)(n)},delegate:void 0},_d=(new class iee extends Kb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class nee extends Zb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Yb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Yb.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new Kb(Zb)),oee=_d;function Xb(n=0,e,t=oee){let i=-1;return null!=e&&(tm(e)?t=e:i=e),new yt(r=>{let o=function aee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function B2(n,e=_d){return function see(n){return se((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,t.next(d)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(be(t,d=>{i=!0,r=d,o||Se(n(d)).subscribe(o=be(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>Xb(n,e))}let YT;try{YT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{YT=!1}let dg,ew,vd,XT,Kr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function nQ(n){return n===sL}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(R(as))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jb(n){return function cee(){if(null==dg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dg=!0}))}finally{dg=dg||!1}return dg}()?n:!!n.capture}function j2(){if(null==vd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vd=!1,vd;if("scrollBehavior"in document.documentElement.style)vd=!0;else{const n=Element.prototype.scrollTo;vd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vd}function ug(){if("object"!=typeof document||!document)return 0;if(null==ew){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),ew=0,0===n.scrollLeft&&(n.scrollLeft=1,ew=0===n.scrollLeft?1:2),n.remove()}return ew}function Pc(n){return n.composedPath?n.composedPath()[0]:n.target}function JT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const hee=new X("cdk-dir-doc",{providedIn:"root",factory:function fee(){return le(_t)}}),mee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let eD=(()=>{class n{constructor(t){this.value="ltr",this.change=new Yt,t&&(this.value=function pee(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?mee.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(R(hee,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({})}return n})(),tw=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new yt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(B2(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Bn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=gd(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ag(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ne),R(Kr),R(_t,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fg=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new C,this._elementScrolled=new yt(s=>this.ngZone.runOutsideAngular(()=>ag(this.elementRef.nativeElement,"scroll").pipe(cr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=ug()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==ug()?t.left=t.right:1==ug()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;j2()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==ug()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==ug()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(O(tn),O(tw),O(Ne),O(eD,8))};static#t=this.\u0275dir=Oe({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),tD=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new C,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(B2(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(R(Kr),R(Ne),R(_t,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({})}return n})(),z2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[hg,nw,hg,nw]})}return n})();const H2=j2();class vee{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=di(-this._previousScrollPosition.left),e.style.top=di(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),H2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),H2&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class yee{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Bn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $2{enable(){}disable(){}attach(){}}function nD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function q2(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class bee{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();nD(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wee=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new $2,this.close=s=>new yee(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new vee(this._viewportRuler,this._document),this.reposition=s=>new bee(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(R(tw),R(tD),R(Ne),R(_t))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Eee{constructor(e){if(this.scrollStrategy=new $2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Iee{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let G2=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xee=(()=>{class n extends G2{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t),R(Ne,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cee=(()=>{class n extends G2{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Pc(o)},this._clickListener=o=>{const s=Pc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){const h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t),R(Kr),R(Ne,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W2=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||JT()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),JT()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t),R(Kr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Tee{constructor(e,t,i,r,o,s,a,c,d,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new C,this._attachments=new C,this._detachments=new C,this._locationChanges=kt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new C,this._outsidePointerEvents=new C,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ps(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=di(this._config.width),e.height=di(this._config.height),e.minWidth=di(this._config.minWidth),e.minHeight=di(this._config.minHeight),e.maxWidth=di(this._config.maxWidth),e.maxHeight=di(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Gb(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(cr(_l(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Z2="cdk-overlay-connected-position-bounding-box",Dee=/([A-Za-z%]+)$/;class See{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C,this._resizeSubscription=kt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Z2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(d,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,d,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const d of o){const h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,a=d)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Z2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=Q2(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(s+=c),d&&(a+=d);let g=0-a,v=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,g,v),E=b*w;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=K2(this._overlayRef.getConfig().minHeight),a=K2(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Q2(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?d||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Iee(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=2*v,s=e.y-v,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const v=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;h=2*v,p=e.x-v,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-b/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=di(i.height),r.top=di(i.top),r.bottom=di(i.bottom),r.width=di(i.width),r.left=di(i.left),r.right=di(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=di(o)),s&&(r.maxWidth=di(s))}this._lastBoundingBoxSize=i,yd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){yd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();yd(i,this._getExactOverlayY(t,e,h)),yd(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=di(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=di(s.maxWidth):o&&(i.maxWidth="")),yd(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=di(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=di(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:q2(e,i),isOriginOutsideView:nD(e,i),isOverlayClipped:q2(t,i),isOverlayOutsideView:nD(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Gb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof tn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function yd(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function K2(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Dee);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Q2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Y2="cdk-global-overlay-wrapper";class Aee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Y2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),d=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let v="",b="",w="";c?w="flex-start":"center"===h?(w="center",g?b=p:v=p):g?"left"===h||"end"===h?(w="flex-end",v=p):("right"===h||"start"===h)&&(w="flex-start",b=p):"left"===h||"start"===h?(w="flex-start",v=p):("right"===h||"end"===h)&&(w="flex-end",b=p),e.position=this._cssPosition,e.marginLeft=c?"0":v,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=w,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Y2),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let kee=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Aee}flexibleConnectedTo(t){return new See(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(R(tD),R(_t),R(Kr),R(W2))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mee=0,iD=(()=>{class n{constructor(t,i,r,o,s,a,c,d,h,p,g,v){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=d,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Eee(t);return s.direction=s.direction||this._directionality.value,new Tee(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Mee++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Dc)),new VJ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wee),R(W2),R(fp),R(kee),R(xee),R(qi),R(Ne),R(_t),R(eD),R(Nh),R(Cee),R(Ju,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Oee={provide:new X("cdk-connected-overlay-scroll-strategy"),deps:[iD],useFactory:function Pee(n){return()=>n.scrollStrategies.reposition()}};let Nee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({providers:[iD,Oee],imports:[hg,BJ,z2,z2]})}return n})(),X2=(()=>{class n{constructor(t){this.overlay=t,this.overlayRef=null}openOverlay(){const t={hasBackdrop:!0,positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()};this.overlayRef=this.overlay.create(t);const i=new F2(UJ);this.overlayRef.attach(i)}closeOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}static#e=this.\u0275fac=function(i){return new(i||n)(R(iD))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iw(n,e=_d){return se((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function c(){const d=s+n,h=e.now();if(h<d)return r=this.schedule(void 0,d-h),void i.add(r);a()}t.subscribe(be(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function eV(n){return Bn((e,t)=>n<=t)}const tV=new Set;let bd,nte=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rte}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function ite(n,e){if(!tV.has(n))try{bd||(bd=document.createElement("style"),e&&(bd.nonce=e),bd.setAttribute("type","text/css"),document.head.appendChild(bd)),bd.sheet&&(bd.sheet.insertRule(`@media ${n} {body{ }}`,0),tV.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Kr),R(RI,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rte(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ote=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new C}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nV(Gb(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Db(nV(Gb(t)).map(s=>this._registerQuery(s).observable));return o=Ab(o.pipe(ps(1)),o.pipe(eV(1),iw(0))),o.pipe(pe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new yt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(hd(i),pe(({matches:s})=>({query:t,matches:s})),cr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(R(nte),R(Ne))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let oV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function ute(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function dte(n){try{return n.frameElement}catch{return null}}(function yte(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===aV(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=aV(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function _te(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function vte(n){return!function fte(n){return function pte(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function hte(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function mte(n){return function gte(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sV(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(R(Kr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function aV(n){if(!sV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class bte{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ps(1)).subscribe(e)}}let wte=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new bte(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(R(oV),R(Ne),R(_t))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function lV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Ete=new X("cdk-input-modality-detector-options"),Ite={ignoreKeys:[18,17,224,91,16]},Jh=Jb({passive:!0,capture:!0});let xte=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new er(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Pc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cV(s)?"keyboard":"mouse"),this._mostRecentTarget=Pc(s))},this._onTouchstart=s=>{lV(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Pc(s))},this._options={...Ite,...o},this.modalityDetected=this._modality.pipe(eV(1)),this.modalityChanged=this.modalityDetected.pipe(vl()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Jh),r.addEventListener("mousedown",this._onMousedown,Jh),r.addEventListener("touchstart",this._onTouchstart,Jh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jh),document.removeEventListener("mousedown",this._onMousedown,Jh),document.removeEventListener("touchstart",this._onTouchstart,Jh))}static#e=this.\u0275fac=function(i){return new(i||n)(R(Kr),R(Ne),R(_t),R(Ete,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tte=new X("cdk-focus-monitor-default-options"),rw=Jb({passive:!0,capture:!0});let Dte=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new C,this._rootNodeFocusAndBlurListener=a=>{for(let d=Pc(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=gd(t);if(!this._platform.isBrowser||1!==r.nodeType)return xe();const o=function dee(n){if(function lee(){if(null==XT){const n=typeof document<"u"?document.head:null;XT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return XT}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new C,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=gd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=gd(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Pc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(cr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ne),R(Kr),R(xte),R(_t,8),R(Tte,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uV="cdk-high-contrast-black-on-white",hV="cdk-high-contrast-white-on-black",oD="cdk-high-contrast-active";let Ste=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=le(ote).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(oD,uV,hV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(oD,uV):2===i&&t.add(oD,hV)}}static#e=this.\u0275fac=function(i){return new(i||n)(R(Kr),R(_t))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kte=new X("mat-sanity-checks",{providedIn:"root",factory:function Ate(){return!0}});let Qr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!JT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(R(Ste),R(kte,8),R(_t))};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[hg,hg]})}return n})();function Mte(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}const pV=Jb({passive:!0,capture:!0});class Ote{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Pc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,pV)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,pV)))}}class ow{static#e=this._eventManager=new Ote;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...gV,...i.animation},s=i.radius||function Fte(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new Pte(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const A=()=>this._finishRippleTransition(w),S=()=>this._destroyRipple(w);h.addEventListener("transitionend",A),h.addEventListener("transitioncancel",S)}),this._activeRipples.set(w,null),(b||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...gV,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=gd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,vV.forEach(i=>{ow._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{yV.forEach(t=>{this._triggerElement.addEventListener(t,this,_V)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=cV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(vV.forEach(t=>ow._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&yV.forEach(t=>e.removeEventListener(t,this,_V)))}}let wV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Qr,Qr]})}return n})(),Lte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Qr]})}return n})();const Ma="*";function Vte(n,e){return{type:7,name:n,definitions:e,options:{}}}function EV(n,e=null){return{type:4,styles:e,timings:n}}function sw(n){return{type:6,styles:n,offset:null}}function IV(n,e,t){return{type:0,name:n,styles:e,options:t}}function xV(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class pg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class CV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const aw=["*"],Hte=["content"];function $te(n,e){if(1&n){const t=No();F(0,"div",2),Ye("click",function(){return wt(t),Dt(qe()._onBackdropClicked())}),$()}2&n&&si("mat-drawer-shown",qe()._isShowingBackdrop())}function qte(n,e){1&n&&(F(0,"mat-drawer-content"),ci(1,2),$())}const Gte=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Wte=["mat-drawer","mat-drawer-content","*"];function Zte(n,e){if(1&n){const t=No();F(0,"div",2),Ye("click",function(){return wt(t),Dt(qe()._onBackdropClicked())}),$()}2&n&&si("mat-drawer-shown",qe()._isShowingBackdrop())}function Kte(n,e){1&n&&(F(0,"mat-sidenav-content"),ci(1,2),$())}const Qte=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Yte=["mat-sidenav","mat-sidenav-content","*"],TV={transformDrawer:Vte("transform",[IV("open, open-instant",sw({transform:"none",visibility:"visible"})),IV("void",sw({"box-shadow":"none",visibility:"hidden"})),xV("void => open-instant",EV("0ms")),xV("void <=> open, open-instant => void",EV("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Jte=new X("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ene(){return!1}}),aD=new X("MAT_DRAWER_CONTAINER");let cw=(()=>{class n extends fg{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Bs),O(Ut(()=>SV)),O(tn),O(tw),O(Ne))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&wp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Gt([{provide:fg,useExisting:n}]),pt],ngContentSelectors:aw,decls:1,vars:0,template:function(i,r){1&i&&(hs(),ci(0))},encapsulation:2,changeDetection:0})}return n})(),DV=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Rr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Rr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Rr(t))}constructor(t,i,r,o,s,a,c,d){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=d,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new C,this._animationEnd=new C,this._animationState="void",this.openedChange=new Yt(!0),this._openedStream=this.openedChange.pipe(Bn(h=>h),pe(()=>{})),this.openedStart=this._animationStarted.pipe(Bn(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),yT(void 0)),this._closedStream=this.openedChange.pipe(Bn(h=>!h),pe(()=>{})),this.closedStart=this._animationStarted.pipe(Bn(h=>h.fromState!==h.toState&&"void"===h.toState),yT(void 0)),this._destroyed=new C,this.onPositionChanged=new Yt,this._modeChanged=new C,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ag(this._elementRef.nativeElement,"keydown").pipe(Bn(h=>27===h.keyCode&&!this.disableClose&&!function rD(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),cr(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(vl((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(ps(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(O(tn),O(wte),O(Dte),O(Kr),O(Ne),O(oV),O(_t,8),O(aD,8))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&Xy(Hte,5),2&i){let o;Dr(o=Sr())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&nC("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(ar("align",null),Jx("@transform",r._animationState),si("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:aw,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(hs(),F(0,"div",0,1),ci(2),$())},dependencies:[fg],encapsulation:2,data:{animation:[TV.transformDrawer]},changeDetection:0})}return n})(),SV=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Rr(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Rr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new kh,this.backdropClick=new Yt,this._destroyed=new C,this._doCheckSubject=new C,this._contentMargins={left:null,right:null},this._contentMarginChanges=new C,t&&t.change.pipe(cr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(cr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(hd(this._allDrawers),cr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(hd(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(iw(10),cr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Bn(i=>i.fromState!==i.toState),cr(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(cr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(cr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ps(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(cr(_l(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(O(eD,8),O(tn),O(Ne),O(Bs),O(tD),O(Jte),O(Ju,8))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(Fo(o,cw,5),Fo(o,DV,5)),2&i){let s;Dr(s=Sr())&&(r._content=s.first),Dr(s=Sr())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&Xy(cw,5),2&i){let o;Dr(o=Sr())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&si("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Gt([{provide:aD,useExisting:n}])],ngContentSelectors:Wte,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(hs(Gte),zt(0,$te,1,2,"div",0),ci(1),ci(2,1),zt(3,qte,2,0,"mat-drawer-content",1)),2&i&&(We("ngIf",r.hasBackdrop),ye(3),We("ngIf",!r._content))},dependencies:[Ac,cw],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),cD=(()=>{class n extends cw{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Bs),O(Ut(()=>kV)),O(tn),O(tw),O(Ne))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&wp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Gt([{provide:fg,useExisting:n}]),pt],ngContentSelectors:aw,decls:1,vars:0,template:function(i,r){1&i&&(hs(),ci(0))},encapsulation:2,changeDetection:0})}return n})(),AV=(()=>{class n extends DV{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Rr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=qb(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=qb(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275cmp=Fn({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(ar("align",null),wp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),si("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[pt],ngContentSelectors:aw,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(hs(),F(0,"div",0,1),ci(2),$())},dependencies:[fg],encapsulation:2,data:{animation:[TV.transformDrawer]},changeDetection:0})}return n})(),kV=(()=>{class n extends SV{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275cmp=Fn({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(Fo(o,cD,5),Fo(o,AV,5)),2&i){let s;Dr(s=Sr())&&(r._content=s.first),Dr(s=Sr())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&si("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Gt([{provide:aD,useExisting:n}]),pt],ngContentSelectors:Yte,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(hs(Qte),zt(0,Zte,1,2,"div",0),ci(1),ci(2,1),zt(3,Kte,2,0,"mat-sidenav-content",1)),2&i&&(We("ngIf",r.hasBackdrop),ye(3),We("ngIf",!r._content))},dependencies:[Ac,cD],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),tne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Eb,Qr,nw,nw,Qr]})}return n})();const nne=["*",[["mat-toolbar-row"]]],ine=["*","mat-toolbar-row"],rne=Mte(class{constructor(n){this._elementRef=n}});let one=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Oe({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),sne=(()=>{class n extends rne{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(O(tn),O(Kr),O(_t))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Fo(o,one,5),2&i){let s;Dr(s=Sr())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&si("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[pt],ngContentSelectors:ine,decls:2,vars:0,template:function(i,r){1&i&&(hs(nne),ci(0),ci(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),ane=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Qr,Qr]})}return n})();function cne(n,e){if(1&n){const t=No();F(0,"mat-toolbar")(1,"span")(2,"a",23),$e(3,"img",24),$()(),$e(4,"span",25),F(5,"span",26),he(6,' "Post with Purpose, Earn with Pride | Join Earn2Post" '),$(),$e(7,"span",25),F(8,"div",27),$e(9,"button",28)(10,"input",29),$(),F(11,"div",30)(12,"button",31),Ye("click",function(){return wt(t),Dt(qe().toggleSearch())}),$(),$e(13,"input",29),$(),F(14,"button",32),Ye("click",function(){return wt(t),qe(),Dt(Wr(3).toggle())}),$()()}}const lne=["*"];let lD=(()=>{class n{constructor(t){this.overlayService=t,this.opened=!1,this.visible=!0}toggleSearch(){const t=document.getElementById("search-bar"),i=document.getElementById("header-moto"),r=document.getElementById("header-logo"),o=document.getElementById("header-menu");t&&i&&r&&o&&(t.classList.toggle("active"),i.classList.toggle("inactive"),r.classList.toggle("inactive"),o.classList.toggle("inactive"))}openOverlay(){this.overlayService.openOverlay()}static#e=this.\u0275fac=function(i){return new(i||n)(O(X2))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:lne,decls:42,vars:5,consts:[[4,"ngIf"],["autosize","","hasBackdrop","false"],["position","end",3,"click"],["sidenav",""],[1,"container"],[1,"top-nav"],["routerLink","/profile",1,"box"],["src","assets\\img\\menu_profile.svg","alt",""],[1,"box"],["src","assets\\img\\menu_message.svg","alt",""],["routerLink","/clicker",1,"box"],["src","assets\\img\\menu_clicker.svg","alt",""],["src","assets\\img\\menu_debux.svg","alt",""],[1,"bottom-nav"],[1,"box-no-border",3,"click"],["src","assets\\img\\menu_settings.svg","alt",""],["src","assets\\img\\menu_bug.svg","alt",""],[1,"seperator"],[1,"box-no-border"],["src","assets\\img\\menu_switch.svg","alt",""],["routerLink","/",1,"box"],["src","assets\\img\\menu_logout.svg","alt",""],[3,"click"],["routerLink","/home"],["id","header-logo","src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],["id","header-moto",1,"moto"],[1,"search"],[1,"search_button"],["type","search","placeholder","Search...",1,"search_input"],["id","search-bar",1,"search_compact"],[1,"search_button",3,"click"],["id","header-menu",1,"menu_button",3,"click"]],template:function(i,r){if(1&i){const o=No();hs(),zt(0,cne,15,0,"mat-toolbar",0),F(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),Ye("click",function(){return wt(o),Dt(Wr(3).close())}),F(4,"div",4)(5,"div",5)(6,"div",6),$e(7,"img",7),F(8,"h4"),he(9,"Profile"),$()(),F(10,"div",8),$e(11,"img",9),F(12,"h4"),he(13,"Messages"),$()(),F(14,"div",10),$e(15,"img",11),F(16,"h4"),he(17,"Clicker"),$()(),F(18,"div",8),$e(19,"img",12),F(20,"h4"),he(21," Buy DeBux"),$()()(),F(22,"div",13)(23,"div",14),Ye("click",function(){return r.openOverlay()}),$e(24,"img",15),F(25,"h4"),he(26,"Settings"),$()(),F(27,"div",8),$e(28,"img",16),F(29,"h4"),he(30,"Bug Report"),$()(),$e(31,"div",17),F(32,"div",18),$e(33,"img",19),F(34,"h4"),he(35,"Switch Acc"),$()(),F(36,"div",20),$e(37,"img",21),F(38,"h4"),he(39,"Log Out"),$()()()()(),F(40,"mat-sidenav-content",22),Ye("click",function(){return wt(o),Dt(Wr(3).close())}),ci(41),$()()}2&i&&(We("ngIf",r.visible),ye(1),si("login-page",!r.visible)("other-page",r.visible))},dependencies:[Ac,Yh,AV,kV,cD,sne],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px;overflow:hidden}.logo[_ngcontent-%COMP%]{height:auto;width:90%;margin-bottom:4%;margin-left:8%}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:1.7vw}.search[_ngcontent-%COMP%]{display:flex;align-items:center;width:16%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background-color:#212121}.search_button[_ngcontent-%COMP%]{height:61px;width:61px;border:none;border-radius:40px;background:transparent url(/assets/img/search.svg) no-repeat;background-size:78%;background-position:6px 11px}.search_input[_ngcontent-%COMP%]{margin-left:2%;width:80%;border:none;border-radius:40px;outline:none;color:#e0e1e1;background:transparent;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 0}.search_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.search_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.search_compact[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{background-color:#212121;border-radius:40px;width:100%}.active[_ngcontent-%COMP%]   .search_button[_ngcontent-%COMP%]{height:61px;width:61px;background-position:6px 11px}.active[_ngcontent-%COMP%]   .search_input[_ngcontent-%COMP%]{display:flex}.inactive[_ngcontent-%COMP%]{display:none}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:110%;background-position:-5px 2px;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d;cursor:pointer}.menu_button[_ngcontent-%COMP%]:active{transform:scale(.9)}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}@media (min-width: 1921px){.moto[_ngcontent-%COMP%]{font-size:200%}}@media (max-width: 1560px){.search[_ngcontent-%COMP%]{display:none}.search_compact[_ngcontent-%COMP%]{display:flex}.search_input[_ngcontent-%COMP%]{display:none}}@media (max-width: 1100px){.moto[_ngcontent-%COMP%]{display:none}}@media (max-width: 510px){.search_button[_ngcontent-%COMP%]{width:40px;height:40px;background-position:4px 6px}.menu_button[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:15px;background-position:-3px 3px}}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#212121;width:100%}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.box[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;color:#e0e1e1;background-color:transparent}.box[_ngcontent-%COMP%]:hover, .box-no-border[_ngcontent-%COMP%]:hover{background-color:#505050;cursor:pointer}.box[_ngcontent-%COMP%]{border-top:thin solid #E37A70}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:15px}.box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .box-no-border[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:lighter;padding:0;margin:10px 0 10px 22px}.seperator[_ngcontent-%COMP%]{padding-top:2.5%;padding-bottom:2.5%;background-color:#464646}"]})}return n})();Je(290);var ef=Je(534);(0,ef.registerVersion)("firebase","10.5.2","app");const mne=new class fne extends Kb{}(class hne extends Zb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),lw=new Ic("ANGULARFIRE2_VERSION");class MV{constructor(){return((n,e)=>{const t=(0,ef.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(gne)}}const gne="app-check";function tf(){}class RV{zone;delegate;constructor(e,t=mne){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class _ne{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tf,{},tf,tf)),t.pipe(Yn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let PV=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new RV(Zone.current)),this.insideAngular=t.run(()=>new RV(Zone.current,_d)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(R(Ne))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fo(n){return function yne(n){return function(t){return(t=t.lift(new _ne(n.ngZone))).pipe(Ds(n.outsideAngular),Ts(n.insideAngular))}}(function nf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Ra=Je(106);Ra.Z.registerVersion("firebase","10.5.2","app-compat");const Ine=["ngOnDestroy"];class OV{constructor(e){return e}}const dw=new X("angularfire2.app.options"),uw=new X("angularfire2.app.name");function dD(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Ra.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Ra.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Tne("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new OV(s)}const Tne=(n,...e)=>{},Dne={provide:OV,useFactory:dD,deps:[dw,Ne,[new y,uw]]};let Sne=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:dw,useValue:t},{provide:uw,useValue:i}]}}constructor(t){Ra.Z.registerVersion("angularfire",lw.full,"core"),Ra.Z.registerVersion("angularfire",lw.full,"app-compat"),Ra.Z.registerVersion("angular",eP.full,t.toString())}static \u0275fac=function(i){return new(i||n)(R(as))};static \u0275mod=Ft({type:n});static \u0275inj=xt({providers:[Dne]})}return n})();function NV(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Ane(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(FV("error",`${e} was already initialized on the ${t} Firebase App with different settings.${kne?" You may need to reload as Firebase is not HMR aware.":""}`),FV("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const kne=typeof module<"u"&&!!module.hot,FV=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class Mne extends C{constructor(e=1/0,t=1/0,i=KT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function LV(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,es({connector:()=>new Mne(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function VV(n,e){return Pe(e)?un(()=>n,e):un(()=>n)}const BV=new X("angularfire2.auth.use-emulator"),UV=new X("angularfire2.auth.settings"),jV=new X("angularfire2.auth.tenant-id"),zV=new X("angularfire2.auth.langugage-code"),HV=new X("angularfire2.auth.use-device-language"),$V=new X("angularfire.auth.persistence"),qV=(n,e,t,i,r,o,s,a)=>NV(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[d,h]of Object.entries(s))c.settings[d]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let rf=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,d,h,p,g,v){const b=new C,w=xe(void 0).pipe(Ts(s.outsideAngular),un(()=>o.runOutsideAngular(()=>Promise.resolve().then(Je.bind(Je,290)))),pe(()=>dD(t,o,i)),pe(E=>qV(E,o,a,d,h,p,c,g)),LV({bufferSize:1,refCount:!1}));if(Ib(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xe(null);else{w.pipe(Mc()).subscribe();const E=w.pipe(un(M=>M.getRedirectResult().then(Y=>Y,()=>null)),fo,LV({bufferSize:1,refCount:!1})),A=w.pipe(un(M=>new yt(Y=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(ue=>Y.next(ue),ue=>Y.error(ue),()=>Y.complete()))})))),S=w.pipe(un(M=>new yt(Y=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(ue=>Y.next(ue),ue=>Y.error(ue),()=>Y.complete()))}))));this.authState=E.pipe(VV(A),Ds(s.outsideAngular),Ts(s.insideAngular)),this.user=E.pipe(VV(S),Ds(s.outsideAngular),Ts(s.insideAngular)),this.idToken=this.user.pipe(un(M=>M?qt(M.getIdToken()):xe(null))),this.idTokenResult=this.user.pipe(un(M=>M?qt(M.getIdTokenResult()):xe(null))),this.credential=_l(E,b,this.authState.pipe(Bn(M=>!M))).pipe(pe(M=>M?.user?M:null),Ds(s.outsideAngular),Ts(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Ine.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(h=>{const p=h?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,p),p})})})}))(this,w,o,{spy:{apply:(E,A,S)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&S.then(M=>b.next(M))}}})}static \u0275fac=function(i){return new(i||n)(R(dw),R(uw,8),R(as),R(Ne),R(PV),R(BV,8),R(UV,8),R(jV,8),R(zV,8),R(HV,8),R($V,8),R(MV,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Pne=(()=>{class n{constructor(){Ra.Z.registerVersion("angularfire",lw.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ft({type:n});static \u0275inj=xt({providers:[rf]})}return n})();function uD(){return se((n,e)=>{let t,i=!1;n.subscribe(be(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var _e,K=Je(861),GV=Je(537),Zs=Je(879),ln=Je(58),One=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_s={},hD=hD||{},tt=One||self;function hw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var fD="closure_uid_"+(1e9*Math.random()>>>0),Fne=0;function Lne(n,e,t){return n.call.apply(n.bind,arguments)}function Vne(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function lr(n,e,t){return(lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lne:Vne).apply(null,arguments)}function fw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ri(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Oc(){this.s=this.s,this.o=this.o}Oc.prototype.s=!1,Oc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Nne(n){Object.prototype.hasOwnProperty.call(n,fD)&&n[fD]||(n[fD]=++Fne)}(this)},Oc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function mD(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ZV(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(hw(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function dr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}dr.prototype.h=function(){this.defaultPrevented=!0};var Une=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tt.addEventListener("test",()=>{},e),tt.removeEventListener("test",()=>{},e)}catch{}return n}();function _g(n){return/^[\s\xa0]*$/.test(n)}function mw(){var n=tt.navigator;return n&&(n=n.userAgent)?n:""}function Ks(n){return-1!=mw().indexOf(n)}function pD(n){return pD[" "](n),n}pD[" "]=function(){};var _D,n,zne=Ks("Opera"),sf=Ks("Trident")||Ks("MSIE"),KV=Ks("Edge"),gD=KV||sf,QV=Ks("Gecko")&&!(-1!=mw().toLowerCase().indexOf("webkit")&&!Ks("Edge"))&&!(Ks("Trident")||Ks("MSIE"))&&!Ks("Edge"),Hne=-1!=mw().toLowerCase().indexOf("webkit")&&!Ks("Edge");function YV(){var n=tt.document;return n?n.documentMode:void 0}e:{var vD="",yD=(n=mw(),QV?/rv:([^\);]+)(\)|;)/.exec(n):KV?/Edge\/([\d\.]+)/.exec(n):sf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hne?/WebKit\/(\S+)/.exec(n):zne?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yD&&(vD=yD?yD[1]:""),sf){var bD=YV();if(null!=bD&&bD>parseFloat(vD)){_D=String(bD);break e}}_D=vD}var $ne=tt.document&&sf&&(YV()||parseInt(_D,10))||void 0;function vg(n,e){if(dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(QV){e:{try{pD(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vg.$.h.call(this)}}Ri(vg,dr);var qne={2:"touch",3:"pen",4:"mouse"};vg.prototype.h=function(){vg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yg="closure_listenable_"+(1e6*Math.random()|0),Gne=0;function Wne(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Gne,this.fa=this.ia=!1}function pw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ED(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function JV(n){const e={};for(const t in n)e[t]=n[t];return e}const eB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tB(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<eB.length;o++)t=eB[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function gw(n){this.src=n,this.g={},this.h=0}function ID(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=WV(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(pw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xD(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}gw.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=xD(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new Wne(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var CD="closure_lm_"+(1e6*Math.random()|0),TD={};function nB(n,e,t,i,r){if(i&&i.once)return rB(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)nB(n,e[o],t,i,r);return null}return t=kD(t),n&&n[yg]?n.O(e,t,gg(i)?!!i.capture:!!i,r):iB(n,e,t,!1,i,r)}function iB(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=gg(r)?!!r.capture:!!r,a=SD(n);if(a||(n[CD]=a=new gw(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function Kne(){const e=Qne;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Une||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(sB(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function rB(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)rB(n,e[o],t,i,r);return null}return t=kD(t),n&&n[yg]?n.P(e,t,gg(i)?!!i.capture:!!i,r):iB(n,e,t,!0,i,r)}function oB(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)oB(n,e[o],t,i,r);else i=gg(i)?!!i.capture:!!i,t=kD(t),n&&n[yg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xD(o=n.g[e],t,i,r))&&(pw(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=SD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xD(e,t,i,r)),(t=-1<n?e[n]:null)&&DD(t))}function DD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[yg])ID(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(sB(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=SD(e))?(ID(t,n),0==t.h&&(t.src=null,e[CD]=null)):pw(n)}}}function sB(n){return n in TD?TD[n]:TD[n]="on"+n}function Qne(n,e){if(n.fa)n=!0;else{e=new vg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&DD(n),n=t.call(i,e)}return n}function SD(n){return(n=n[CD])instanceof gw?n:null}var AD="__closure_events_fn_"+(1e9*Math.random()>>>0);function kD(n){return"function"==typeof n?n:(n[AD]||(n[AD]=function(e){return n.handleEvent(e)}),n[AD])}function Pi(){Oc.call(this),this.i=new gw(this),this.S=this,this.J=null}function Wi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new dr(e,n);else if(e instanceof dr)e.target=e.target||n;else{var r=e;tB(e=new dr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=_w(s,i,!0,e)&&r}if(r=_w(s=e.g=n,i,!0,e)&&r,r=_w(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=_w(s=e.g=t[o],i,!1,e)&&r}function _w(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&ID(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Ri(Pi,Oc),Pi.prototype[yg]=!0,Pi.prototype.removeEventListener=function(n,e,t,i){oB(this,n,e,t,i)},Pi.prototype.N=function(){if(Pi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)pw(t[i]);delete n.g[e],n.h--}}this.J=null},Pi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Pi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var MD=tt.JSON.stringify;function Xne(){var n=RD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var aB=new class Yne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eie,n=>n.reset());class eie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tie(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function nie(n){tt.setTimeout(()=>{throw n},0)}let bg,wg=!1,RD=new class Jne{constructor(){this.h=this.g=null}add(e,t){const i=aB.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},cB=()=>{const n=tt.Promise.resolve(void 0);bg=()=>{n.then(iie)}};var iie=()=>{for(var n;n=Xne();){try{n.h.call(n.g)}catch(t){nie(t)}var e=aB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wg=!1};function vw(n,e){Pi.call(this),this.h=n||1,this.g=e||tt,this.j=lr(this.qb,this),this.l=Date.now()}function PD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function OD(n,e,t){if("function"==typeof n)t&&(n=lr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=lr(n.handleEvent,n)}return 2147483647<Number(e)?-1:tt.setTimeout(n,e||0)}function lB(n){n.g=OD(()=>{n.g=null,n.i&&(n.i=!1,lB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ri(vw,Pi),(_e=vw.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wi(this,"tick"),this.ga&&(PD(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){vw.$.N.call(this),PD(this),delete this.g};class rie extends Oc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lB(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eg(n){Oc.call(this),this.h=n,this.g={}}Ri(Eg,Oc);var dB=[];function uB(n,e,t,i){Array.isArray(t)||(t&&(dB[0]=t.toString()),t=dB);for(var r=0;r<t.length;r++){var o=nB(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function hB(n){ED(n.g,function(e,t){this.g.hasOwnProperty(t)&&DD(e)},n),n.g={}}function yw(){this.g=!0}function af(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cie(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return MD(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Eg.prototype.N=function(){Eg.$.N.call(this),hB(this)},Eg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yw.prototype.Ea=function(){this.g=!1},yw.prototype.info=function(){};var Ed={},fB=null;function bw(){return fB=fB||new Pi}function mB(n){dr.call(this,Ed.Ta,n)}function Ig(n){const e=bw();Wi(e,new mB(e))}function pB(n,e){dr.call(this,Ed.STAT_EVENT,n),this.stat=e}function Pr(n){const e=bw();Wi(e,new pB(e,n))}function gB(n,e){dr.call(this,Ed.Ua,n),this.size=e}function xg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){n()},e)}Ed.Ta="serverreachability",Ri(mB,dr),Ed.STAT_EVENT="statevent",Ri(pB,dr),Ed.Ua="timingevent",Ri(gB,dr);var ww={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_B={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ND(){}function yB(){}ND.prototype.h=null;var VD,Cg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function FD(){dr.call(this,"d")}function LD(){dr.call(this,"c")}function Ew(){}function Tg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Eg(this),this.P=lie,this.V=new vw(n=gD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bB}function bB(){this.i=null,this.g="",this.h=!1}Ri(FD,dr),Ri(LD,dr),Ri(Ew,ND),Ew.prototype.g=function(){return new XMLHttpRequest},Ew.prototype.i=function(){return{}},VD=new Ew;var lie=45e3,BD={},Iw={};function UD(n,e,t){n.L=1,n.v=Dw(Pa(e)),n.s=t,n.S=!0,wB(n,null)}function wB(n,e){n.G=Date.now(),Dg(n),n.A=Pa(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),MB(t.i,"t",i),n.C=0,t=n.l.J,n.h=new bB,n.g=tU(n.l,t?e:null,!n.s),0<n.O&&(n.M=new rie(lr(n.Pa,n,n.g),n.O)),uB(n.U,n.g,"readystatechange",n.nb),e=n.I?JV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ig(),function oie(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");if(1<d.length){var h=d[0];d=d[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+d+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function EB(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function IB(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=die(n,t),r==Iw){4==e&&(n.o=4,Pr(14),i=!1),af(n.j,n.m,null,"[Incomplete Response]");break}if(r==BD){n.o=4,Pr(15),af(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}af(n.j,n.m,r,null),jD(n,r)}EB(n)&&r!=Iw&&r!=BD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ZD(e),e.M=!0,Pr(11))):(af(n.j,n.m,t,"[Invalid Chunked Response]"),Id(n),Sg(n))}function die(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Iw:(t=Number(e.substring(t,i)),isNaN(t)?BD:(i+=1)+t>e.length?Iw:(e=e.slice(i,i+t),n.C=i+t,e))}function Dg(n){n.Y=Date.now()+n.P,xB(n,n.P)}function xB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xg(lr(n.lb,n),e)}function xw(n){n.B&&(tt.clearTimeout(n.B),n.B=null)}function Sg(n){0==n.l.H||n.J||YB(n.l,n)}function Id(n){xw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,PD(n.V),hB(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function jD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||zD(t.i,n)))if(!n.K&&zD(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Pw(t),Mw(t)}WD(t),Pr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=xg(lr(t.ib,t),6e3));if(1>=OB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Cd(t,11)}else if((n.K||t.g==n)&&Pw(t),!_g(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const h=d[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=d[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(HD(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,vn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=eU(i,i.J?i.pa:null,i.Y),s.K){NB(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(xw(a),Dg(a)),i.g=s}else KB(i);0<t.j.length&&Rw(t)}else"stop"!=d[0]&&"close"!=d[0]||Cd(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Cd(t,7):GD(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Ig()}catch{}}function CB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function hie(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(hw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function uie(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(hw(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(_e=Tg.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==Qs(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const h=Qs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||gD||this.g&&(this.h.h||this.g.ja()||HB(this.g)))){this.J||4!=h||7==e||Ig(),xw(this);var t=this.g.da();this.ca=t;t:if(EB(this)){var i=HB(this.g);n="";var r=i.length,o=4==Qs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Id(this),Sg(this);var s="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function sie(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_g(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,Pr(12),Id(this),Sg(this);break e}af(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jD(this,t)}this.S?(IB(this,h,s),gD&&this.i&&3==h&&(uB(this.U,this.V,"tick",this.mb),this.V.start())):(af(this.j,this.m,s,null),jD(this,s)),4==h&&Id(this),this.i&&!this.J&&(4==h?YB(this.l,this):(this.i=!1,Dg(this)))}else(function kie(n){const e={};n=(n.g&&2<=Qs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(_g(n[i]))continue;var t=tie(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Zne(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Id(this),Sg(this)}}}catch{}},_e.mb=function(){if(this.g){var n=Qs(this.g),e=this.g.ja();this.C<e.length&&(xw(this),IB(this,n,e),this.i&&4!=n&&Dg(this))}},_e.cancel=function(){this.J=!0,Id(this)},_e.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function aie(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ig(),Pr(17)),Id(this),this.o=2,Sg(this)):xB(this,this.Y-n)};var TB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof xd){this.h=n.h,Cw(this,n.j),this.s=n.s,this.g=n.g,Tw(this,n.m),this.l=n.l;var e=n.i,t=new Mg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),DB(this,t),this.o=n.o}else n&&(e=String(n).match(TB))?(this.h=!1,Cw(this,e[1]||"",!0),this.s=Ag(e[2]||""),this.g=Ag(e[3]||"",!0),Tw(this,e[4]),this.l=Ag(e[5]||"",!0),DB(this,e[6]||"",!0),this.o=Ag(e[7]||"")):(this.h=!1,this.i=new Mg(null,this.h))}function Pa(n){return new xd(n)}function Cw(n,e,t){n.j=t?Ag(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function DB(n,e,t){e instanceof Mg?(n.i=e,function yie(n,e){e&&!n.j&&(Nc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(AB(this,i),MB(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=kg(e,_ie)),n.i=new Mg(e,n.h))}function vn(n,e,t){n.i.set(e,t)}function Dw(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ag(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mie),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mie(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kg(e,SB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kg(e,SB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(kg(t,"/"==t.charAt(0)?gie:pie,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kg(t,vie)),n.join("")};var SB=/[#\/\?@]/g,pie=/[#\?:]/g,gie=/[#\?]/g,_ie=/[#\?@]/g,vie=/#/g;function Mg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nc(n){n.g||(n.g=new Map,n.h=0,n.i&&function fie(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function AB(n,e){Nc(n),e=cf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kB(n,e){return Nc(n),e=cf(n,e),n.g.has(e)}function MB(n,e,t){AB(n,e),0<t.length&&(n.i=null,n.g.set(cf(n,e),mD(t)),n.h+=t.length)}function cf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(_e=Mg.prototype).add=function(n,e){Nc(this),this.i=null,n=cf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){Nc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},_e.ta=function(){Nc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},_e.Z=function(n){Nc(this);let e=[];if("string"==typeof n)kB(this,n)&&(e=e.concat(this.g.get(cf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return Nc(this),this.i=null,kB(this,n=cf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var bie=class{constructor(n,e){this.g=n,this.map=e}};function RB(n){this.l=n||wie,n=tt.PerformanceNavigationTiming?0<(n=tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wie=10;function PB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OB(n){return n.h?1:n.g?n.g.size:0}function zD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function HD(n,e){n.g?n.g.add(e):n.h=e}function NB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return mD(n.i)}RB.prototype.cancel=function(){if(this.i=FB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Eie=class{stringify(n){return tt.JSON.stringify(n,void 0)}parse(n){return tt.JSON.parse(n,void 0)}};function Iie(){this.g=new Eie}function xie(n,e,t){const i=t||"";try{CB(n,function(r,o){let s=r;gg(r)&&(s=MD(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Sw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Rg(n){this.l=n.ec||null,this.j=n.ob||!1}function Aw(n,e){Pi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=$D,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ri(Rg,ND),Rg.prototype.g=function(){return new Aw(this.l,this.j)},Rg.prototype.i=function(n){return function(){return n}}({}),Ri(Aw,Pi);var $D=0;function LB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Pg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Og(n)}function Og(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=Aw.prototype).open=function(n,e){if(this.readyState!=$D)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Og(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pg(this)),this.readyState=$D},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Og(this)),this.g&&(this.readyState=3,Og(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Pg(this):Og(this),3==this.readyState&&LB(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,Pg(this))},_e.Ya=function(n){this.g&&(this.response=n,Pg(this))},_e.ka=function(){this.g&&Pg(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Aw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Tie=tt.JSON.parse;function Un(n){Pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VB,this.L=this.M=!1}Ri(Un,Pi);var VB="",Die=/^https?$/i,Sie=["POST","PUT"];function BB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UB(n),kw(n)}function UB(n){n.F||(n.F=!0,Wi(n,"complete"),Wi(n,"error"))}function jB(n){if(n.h&&typeof hD<"u"&&(!n.C[1]||4!=Qs(n)||2!=n.da()))if(n.v&&4==Qs(n))OD(n.La,0,n);else if(Wi(n,"readystatechange"),4==Qs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(TB)[1]||null;!r&&tt.self&&tt.self.location&&(r=tt.self.location.protocol.slice(0,-1)),i=!Die.test(r?r.toLowerCase():"")}t=i}if(t)Wi(n,"complete"),Wi(n,"success");else{n.m=6;try{var o=2<Qs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",UB(n)}}finally{kw(n)}}}function kw(n,e){if(n.g){zB(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Wi(n,"ready");try{t.onreadystatechange=i}catch{}}}function zB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tt.clearTimeout(n.A),n.A=null)}function Qs(n){return n.g?n.g.readyState:0}function HB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case VB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function $B(n){let e="";return ED(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function qD(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=$B(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function Ng(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function qB(n){this.Ga=0,this.j=[],this.l=new yw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ng("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ng("baseRetryDelayMs",5e3,n),this.hb=Ng("retryDelaySeedMs",1e4,n),this.eb=Ng("forwardChannelMaxRetries",2,n),this.xa=Ng("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new RB(n&&n.concurrentRequestLimit),this.Ja=new Iie,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function GD(n){if(GB(n),3==n.H){var e=n.W++,t=Pa(n.I);if(vn(t,"SID",n.K),vn(t,"RID",e),vn(t,"TYPE","terminate"),Fg(n,t),(e=new Tg(n,n.l,e)).L=2,e.v=Dw(Pa(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon)try{t=tt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=tU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Dg(e)}JB(n)}function Mw(n){n.g&&(ZD(n),n.g.cancel(),n.g=null)}function GB(n){Mw(n),n.u&&(tt.clearTimeout(n.u),n.u=null),Pw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tt.clearTimeout(n.m),n.m=null)}function Rw(n){if(!PB(n.i)&&!n.m){n.m=!0;var e=n.Na;bg||cB(),wg||(bg(),wg=!0),RD.add(e,n),n.C=0}}function WB(n,e){var t;t=e?e.m:n.W++;const i=Pa(n.I);vn(i,"SID",n.K),vn(i,"RID",t),vn(i,"AID",n.V),Fg(n,i),n.o&&n.s&&qD(i,n.o,n.s),t=new Tg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ZB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),HD(n.i,t),UD(t,i,e)}function Fg(n,e){n.na&&ED(n.na,function(t,i){vn(e,i,t)}),n.h&&CB({},function(t,i){vn(e,i,t)})}function ZB(n,e,t){t=Math.min(n.j.length,t);var i=n.h?lr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let d=r[c].g;const h=r[c].map;if(d-=o,0>d)o=Math.max(0,r[c].g-100),a=!1;else try{xie(h,s,"req"+d+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function KB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;bg||cB(),wg||(bg(),wg=!0),RD.add(e,n),n.A=0}}function WD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=xg(lr(n.Ma,n),XB(n,n.A)),n.A++,0))}function ZD(n){null!=n.B&&(tt.clearTimeout(n.B),n.B=null)}function QB(n){n.g=new Tg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Pa(n.wa);vn(e,"RID","rpc"),vn(e,"SID",n.K),vn(e,"AID",n.V),vn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&vn(e,"TO",n.qa),vn(e,"TYPE","xmlhttp"),Fg(n,e),n.o&&n.s&&qD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Dw(Pa(e)),t.s=null,t.S=!0,wB(t,n)}function Pw(n){null!=n.v&&(tt.clearTimeout(n.v),n.v=null)}function YB(n,e){var t=null;if(n.g==e){Pw(n),ZD(n),n.g=null;var i=2}else{if(!zD(n.i,e))return;t=e.F,NB(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Wi(i=bw(),new gB(i,t)),Rw(n)}else KB(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Mie(n,e){return!(OB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=xg(lr(n.Na,n,e),XB(n,n.C)),n.C++,0)))}(n,e)||2==i&&WD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Cd(n,5);break;case 4:Cd(n,10);break;case 3:Cd(n,6);break;default:Cd(n,2)}}function XB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Cd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=lr(n.pb,n);t||(t=new xd("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||Cw(t,"https"),Dw(t)),function Cie(n,e){const t=new yw;if(tt.Image){const i=new Image;i.onload=fw(Sw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=fw(Sw,t,i,"TestLoadImage: error",!1,e),i.onabort=fw(Sw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=fw(Sw,t,i,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Pr(2);n.H=0,n.h&&n.h.za(e),JB(n),GB(n)}function JB(n){if(n.H=0,n.ma=[],n.h){const e=FB(n.i);(0!=e.length||0!=n.j.length)&&(ZV(n.ma,e),ZV(n.ma,n.j),n.i.i.length=0,mD(n.j),n.j.length=0),n.h.ya()}}function eU(n,e,t){var i=t instanceof xd?Pa(t):new xd(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Tw(i,i.m);else{var r=tt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new xd(null);i&&Cw(o,i),e&&(o.g=e),r&&Tw(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&vn(i,t,e),vn(i,"VER",n.ra),Fg(n,i),i}function tU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(t&&n.Ha&&!n.va?new Rg({ob:!0}):n.va)).Oa(n.J),e}function nU(){}function Ow(){if(sf&&!(10<=Number($ne)))throw Error("Environmental error: no available transport.")}function mo(n,e){Pi.call(this),this.g=new qB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!_g(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_g(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lf(this)}function iU(n){FD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rU(){LD.call(this),this.status=1}function lf(n){this.g=n}function vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function KD(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Xt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(_e=Un.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():VD.g(),this.C=function vB(n){return n.h||(n.h=n.i())}(this.u?this.u:VD),this.g.onreadystatechange=lr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void BB(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=tt.FormData&&n instanceof tt.FormData,!(0<=WV(Sie,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zB(this),0<this.B&&((this.L=function Aie(n){return sf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lr(this.ua,this)):this.A=OD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){BB(this,o)}},_e.ua=function(){typeof hD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wi(this,"complete"),Wi(this,"abort"),kw(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kw(this,!0)),Un.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?jB(this):this.kb())},_e.kb=function(){jB(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Tie(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=qB.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Tg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=JV(o),tB(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZB(this,r,e),vn(t=Pa(this.I),"RID",n),vn(t,"CVER",22),this.F&&vn(t,"X-HTTP-Session-Id",this.F),Fg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String($B(o)))+"&"+e:this.o&&qD(t,this.o,o)),HD(this.i,r),this.bb&&vn(t,"TYPE","init"),this.P?(vn(t,"$req",e),vn(t,"SID","null"),r.aa=!0,UD(r,t,null)):UD(r,t,e),this.H=2}}else 3==this.H&&(n?WB(this,n):0==this.j.length||PB(this.i)||WB(this))},_e.Ma=function(){if(this.u=null,QB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=xg(lr(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pr(10),Mw(this),QB(this))},_e.ib=function(){null!=this.v&&(this.v=null,Mw(this),WD(this),Pr(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Pr(2)):(this.l.info("Failed to ping google.com"),Pr(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=nU.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},Ow.prototype.g=function(n,e){return new mo(n,e)},Ri(mo,Pi),mo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Pr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=eU(n,null,n.Y),Rw(n)},mo.prototype.close=function(){GD(this.g)},mo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=MD(n),n=t);e.j.push(new bie(e.fb++,n)),3==e.H&&Rw(e)},mo.prototype.N=function(){this.g.h=null,delete this.j,GD(this.g),delete this.g,mo.$.N.call(this)},Ri(iU,FD),Ri(rU,LD),Ri(lf,nU),lf.prototype.Ba=function(){Wi(this.g,"a")},lf.prototype.Aa=function(n){Wi(this.g,new iU(n))},lf.prototype.za=function(n){Wi(this.g,new rU)},lf.prototype.ya=function(){Wi(this.g,"b")},Ri(vs,function Rie(){this.blockSize=-1}),vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)KD(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){KD(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){KD(this,i),r=0;break}}this.h=r,this.i+=e},vs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Pie={};function QD(n){return-128<=n&&128>n?function jne(n,e){var t=Pie;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Xt([0|e],0>e?-1:0)}):new Xt([0|n],0>n?-1:0)}function Ys(n){if(isNaN(n)||!isFinite(n))return df;if(0>n)return Zi(Ys(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=YD;return new Xt(e,0)}var YD=4294967296,df=QD(0),XD=QD(1),sU=QD(16777216);function Oa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Bo(n){return-1==n.h}function Zi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Xt(t,~n.h).add(XD)}function Nw(n,e){return n.add(Zi(e))}function Fw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Lg(n,e){this.g=n,this.h=e}function Lw(n,e){if(Oa(e))throw Error("division by zero");if(Oa(n))return new Lg(df,df);if(Bo(n))return e=Lw(Zi(n),e),new Lg(Zi(e.g),Zi(e.h));if(Bo(e))return e=Lw(n,Zi(e)),new Lg(Zi(e.g),e.h);if(30<n.g.length){if(Bo(n)||Bo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=XD,i=e;0>=i.X(n);)t=aU(t),i=aU(i);var r=uf(t,1),o=uf(i,1);for(i=uf(i,2),t=uf(t,2);!Oa(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=uf(i,1),t=uf(t,1)}return e=Nw(n,r.R(e)),new Lg(r,e)}for(r=df;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Ys(t)).R(e);Bo(s)||0<s.X(n);)s=(o=Ys(t-=i)).R(e);Oa(o)&&(o=XD),r=r.add(o),n=Nw(n,s)}return new Lg(r,n)}function aU(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Xt(t,n.h)}function uf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Xt(r,n.h)}(_e=Xt.prototype).ea=function(){if(Bo(this))return-Zi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:YD+i)*e,e*=YD}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Oa(this))return"0";if(Bo(this))return"-"+Zi(this).toString(n);for(var e=Ys(Math.pow(n,6)),t=this,i="";;){var r=Lw(t,e).g,o=((0<(t=Nw(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Oa(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return Bo(n=Nw(this,n))?-1:Oa(n)?0:1},_e.abs=function(){return Bo(this)?Zi(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Xt(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(Oa(this)||Oa(n))return df;if(Bo(this))return Bo(n)?Zi(this).R(Zi(n)):Zi(Zi(this).R(n));if(Bo(n))return Zi(this.R(Zi(n)));if(0>this.X(sU)&&0>n.X(sU))return Ys(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Fw(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Fw(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Fw(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Fw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Xt(t,0)},_e.gb=function(n){return Lw(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Xt(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Xt(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Xt(t,this.h^n.h)},Ow.prototype.createWebChannel=Ow.prototype.g,mo.prototype.send=mo.prototype.u,mo.prototype.open=mo.prototype.m,mo.prototype.close=mo.prototype.close,ww.NO_ERROR=0,ww.TIMEOUT=8,ww.HTTP_ERROR=6,_B.COMPLETE="complete",yB.EventType=Cg,Cg.OPEN="a",Cg.CLOSE="b",Cg.ERROR="c",Cg.MESSAGE="d",Pi.prototype.listen=Pi.prototype.O,Un.prototype.listenOnce=Un.prototype.P,Un.prototype.getLastError=Un.prototype.Sa,Un.prototype.getLastErrorCode=Un.prototype.Ia,Un.prototype.getStatus=Un.prototype.da,Un.prototype.getResponseJson=Un.prototype.Wa,Un.prototype.getResponseText=Un.prototype.ja,Un.prototype.send=Un.prototype.ha,Un.prototype.setWithCredentials=Un.prototype.Oa,vs.prototype.digest=vs.prototype.l,vs.prototype.reset=vs.prototype.reset,vs.prototype.update=vs.prototype.j,Xt.prototype.add=Xt.prototype.add,Xt.prototype.multiply=Xt.prototype.R,Xt.prototype.modulo=Xt.prototype.gb,Xt.prototype.compare=Xt.prototype.X,Xt.prototype.toNumber=Xt.prototype.ea,Xt.prototype.toString=Xt.prototype.toString,Xt.prototype.getBits=Xt.prototype.D,Xt.fromNumber=Ys,Xt.fromString=function oU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zi(oU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ys(Math.pow(e,8)),i=df,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Ys(Math.pow(e,o)),i=i.R(o).add(Ys(s))):i=(i=i.R(t)).add(Ys(s))}return i};var Oie=_s.createWebChannelTransport=function(){return new Ow},Nie=_s.getStatEventTarget=function(){return bw()},JD=_s.ErrorCode=ww,Fie=_s.EventType=_B,Lie=_s.Event=Ed,cU=_s.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vie=_s.FetchXmlHttpFactory=Rg,Vw=_s.WebChannel=yB,Bie=_s.XhrIo=Un,Uie=_s.Md5=vs,hf=_s.Integer=Xt;const lU="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let ff="10.5.2";const Fc=new Zs.Yd("@firebase/firestore");function mf(){return Fc.logLevel}function re(n,...e){if(Fc.logLevel<=Zs.in.DEBUG){const t=e.map(eS);Fc.debug(`Firestore (${ff}): ${n}`,...t)}}function Xn(n,...e){if(Fc.logLevel<=Zs.in.ERROR){const t=e.map(eS);Fc.error(`Firestore (${ff}): ${n}`,...t)}}function Yr(n,...e){if(Fc.logLevel<=Zs.in.WARN){const t=e.map(eS);Fc.warn(`Firestore (${ff}): ${n}`,...t)}}function eS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ee(n="Unexpected state"){const e=`FIRESTORE (${ff}) INTERNAL ASSERTION FAILED: `+n;throw Xn(e),new Error(e)}function ke(n,e){n||Ee()}function me(n,e){return n}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oi.UNAUTHENTICATED))}shutdown(){}}class $ie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qie{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ii,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,K.Z)(function*(){yield d.promise,yield o(i.currentUser)}))},c=d=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ii)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke("string"==typeof i.accessToken),new dU(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new Oi(e)}}class Gie{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wie{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Gie(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke("string"==typeof t.token),this.R=t.token,new uU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kie(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class hU{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Kie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function pf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function fU(n){return n+"\0"}class Sn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Sn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Sn(0,0))}static max(){return new Me(new Sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vg{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ee(),void 0===i?i=e.length-t:i>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Vg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class St extends Vg{construct(e,t,i){return new St(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new St(t)}static emptyPath(){return new St([])}}const Qie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Vg{construct(e,t,i){return new yn(e,t,i)}static isValidIdentifier(e){return Qie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(St.fromString(e))}static fromName(e){return new ge(St.fromString(e).popFirst(5))}static empty(){return new ge(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===St.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new St(e.slice()))}}class gf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function tS(n){return n.fields.find(e=>2===e.kind)}function Td(n){return n.fields.filter(e=>2!==e.kind)}gf.UNKNOWN_ID=-1;class Dd{constructor(e,t){this.fieldPath=e,this.kind=t}}class _f{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _f(0,po.min())}}function mU(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Me.fromTimestamp(1e9===i?new Sn(t+1,0):new Sn(t,i));return new po(r,ge.empty(),e)}function pU(n){return new po(n.readTime,n.key,-1)}class po{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new po(Me.min(),ge.empty(),-1)}static max(){return new po(Me.max(),ge.empty(),-1)}}function nS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ge.comparator(n.documentKey,e.documentKey),0!==t?t:Xe(n.largestBatchId,e.largestBatchId))}const gU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _U{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Lc(n){return iS.apply(this,arguments)}function iS(){return iS=(0,K.Z)(function*(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==gU)throw n;re("LocalStore","Unexpectedly lost primary lease")}),iS.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new P((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof P?t:P.resolve(t)}catch(t){return P.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):P.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):P.reject(t)}static resolve(e){return new P((t,i)=>{t(e)})}static reject(e){return new P((t,i)=>{i(e)})}static waitFor(e){return new P((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=P.resolve(!1);for(const i of e)t=t.next(r=>r?P.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new P((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new P((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Bw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ii,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Bg(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=rS(i.target.error);this.V.reject(new Bg(e,r))}}static open(e,t,i,r){try{return new Bw(t,e.transaction(r,i))}catch(o){throw new Bg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ere(t)}}class ys{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===ys.S((0,ln.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return re("SimpleDb","Removing database:",e),Sd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ln.hl)())return!1;if(ys.C())return!0;const e=(0,ln.z$)(),t=ys.S(e),i=0<t&&t<10,r=ys.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,K.Z)(function*(){return t.db||(re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Bg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ne(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ne(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Bg(e,a))},o.onupgradeneeded=s=>{re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,K.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=Bw.open(o.db,e,s?"readonly":"readwrite",i),d=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),P.reject(h))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,h="FirebaseError"!==d.name&&a<3;if(re("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),o.close(),!h)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jie{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Sd(this.k.delete())}}class Bg extends ne{constructor(e,t){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vc(n){return"IndexedDbTransactionError"===n.name}class ere{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(re("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Sd(i)}add(e){return re("SimpleDb","ADD",this.store.name,e,e),Sd(this.store.add(e))}get(e){return Sd(this.store.get(e)).next(t=>(void 0===t&&(t=null),re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return re("SimpleDb","DELETE",this.store.name,e),Sd(this.store.delete(e))}count(){return re("SimpleDb","COUNT",this.store.name),Sd(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new P((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new P((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){re("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new P((i,r)=>{t.onerror=o=>{const s=rS(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new P((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new Jie(a),d=t(a.primaryKey,a.value,c);if(d instanceof P){const h=d.catch(p=>(c.done(),P.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>P.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sd(n){return new P((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=rS(i.target.error);t(r)}})}let vU=!1;function rS(n){const e=ys.S((0,ln.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vU||(vU=!0,setTimeout(()=>{throw i},0)),i}}return n}class tre{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,K.Z)(function*(){t.task=null;try{re("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){Vc(i)?re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Lc(i)}yield t.ee(6e4)}))}}class nre{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,K.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return P.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return re("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(re("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=pU(o);nS(s,i)>0&&(i=s)}),new po(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let go=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Ug(n){return null==n}function jg(n){return 0===n&&1/n==-1/0}function yU(n){return"number"==typeof n&&Number.isInteger(n)&&!jg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ur(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bU(e)),e=ire(n.get(t),e);return bU(e)}function ire(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function bU(n){return n+"\x01\x01"}function Xs(n){const e=n.length;if(ke(e>=2),2===e)return ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),St.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&Ee(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Ee()}o=s+2}return new St(i)}const wU=["userId","batchId"];function Uw(n,e){return[n,ur(e)]}function EU(n,e,t){return[n,ur(e),t]}const rre={},ore=["prefixPath","collectionGroup","readTime","documentId"],sre=["prefixPath","collectionGroup","documentId"],are=["collectionGroup","readTime","prefixPath","documentId"],cre=["canonicalId","targetId"],lre=["targetId","path"],dre=["path","targetId"],ure=["collectionId","parent"],hre=["indexId","uid"],fre=["uid","sequenceNumber"],mre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pre=["indexId","uid","orderedDocumentKey"],gre=["userId","collectionPath","documentId"],_re=["userId","collectionPath","largestBatchId"],vre=["userId","collectionGroup","largestBatchId"],IU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yre=[...IU,"documentOverlays"],xU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CU=xU,bre=[...CU,"indexConfiguration","indexState","indexEntries"];class oS extends _U{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=me(n);return ys.M(t.ae,e)}function TU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gn{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jw(this.root,e,this.comparator,!1)}getReverseIterator(){return new jw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jw(this.root,e,this.comparator,!0)}}class jw{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ki.RED,this.left=r??Ki.EMPTY,this.right=o??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ki(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ki.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SU(this.data.getIterator())}getIteratorFrom(e){return new SU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rn(this.comparator);return t.data=e,t}}class SU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vf(n){return n.hasNext()?n.getNext():void 0}class Xr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Xr([])}unionWith(e){let t=new rn(yn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class AU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new AU("Invalid base64 string: "+o):o}}(e);return new xi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const Ere=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uc(n){if(ke(!!n),"string"==typeof n){let e=0;const t=Ere.exec(n);if(ke(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jn(n.seconds),nanos:jn(n.nanos)}}function jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Na(n){return"string"==typeof n?xi.fromBase64String(n):xi.fromUint8Array(n)}function zw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hw(n){const e=n.mapValue.fields.__previous_value__;return zw(e)?Hw(e):e}function zg(n){const e=Uc(n.mapValue.fields.__local_write_time__.timestampValue);return new Sn(e.seconds,e.nanos)}class Ire{constructor(e,t,i,r,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class jc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}const zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$w={nullValue:"NULL_VALUE"};function Hc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zw(n)?4:PU(n)?9007199254740991:10:Ee()}function Js(n,e){if(n===e)return!0;const t=Hc(n);if(t!==Hc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zg(n).isEqual(zg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Uc(r.timestampValue),a=Uc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Na(n.bytesValue).isEqual(Na(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return jn(r.geoPointValue.latitude)===jn(o.geoPointValue.latitude)&&jn(r.geoPointValue.longitude)===jn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return jn(r.integerValue)===jn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=jn(r.doubleValue),a=jn(o.doubleValue);return s===a?jg(s)===jg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return pf(n.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(TU(s)!==TU(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Js(s[c],a[c])))return!1;return!0}(n,e);default:return Ee()}var o}function Hg(n,e){return void 0!==(n.values||[]).find(t=>Js(t,e))}function $c(n,e){if(n===e)return 0;const t=Hc(n),i=Hc(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=jn(o.integerValue||o.doubleValue),c=jn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return kU(n.timestampValue,e.timestampValue);case 4:return kU(zg(n),zg(e));case 5:return Xe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Na(o),c=Na(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Xe(a[d],c[d]);if(0!==h)return h}return Xe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Xe(jn(o.latitude),jn(s.latitude));return 0!==a?a:Xe(jn(o.longitude),jn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=$c(a[d],c[d]);if(h)return h}return Xe(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===zc.mapValue&&s===zc.mapValue)return 0;if(o===zc.mapValue)return 1;if(s===zc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Xe(c[p],h[p]);if(0!==g)return g;const v=$c(a[c[p]],d[h[p]]);if(0!==v)return v}return Xe(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function kU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xe(n,e);const t=Uc(n),i=Uc(e),r=Xe(t.seconds,i.seconds);return 0!==r?r:Xe(t.nanos,i.nanos)}function yf(n){return sS(n)}function sS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Uc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Na(n.bytesValue).toBase64():"referenceValue"in n?ge.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=sS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${sS(t.fields[s])}`;return r+"}"}(n.mapValue):Ee()}function Ad(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function aS(n){return!!n&&"integerValue"in n}function $g(n){return!!n&&"arrayValue"in n}function MU(n){return!!n&&"nullValue"in n}function RU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gw(n){return!!n&&"mapValue"in n}function qg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=qg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xre(n){return"nullValue"in n?$w:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ad(jc.empty(),ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ee()}function Cre(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ad(jc.empty(),ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zc:Ee()}function OU(n,e){const t=$c(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function NU(n,e){const t=$c(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Gw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qg(t)}setAll(e){let t=yn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=qg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Gw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Gw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Bc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Qi(qg(this.value))}}function FU(n){const e=[];return Bc(n.fields,(t,i)=>{const r=new yn([t]);if(Gw(i)){const o=FU(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Xr(e)}class bn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,Me.min(),Me.min(),Me.min(),Qi.empty(),0)}static newFoundDocument(e,t,i,r){return new bn(e,1,t,Me.min(),i,r,0)}static newNoDocument(e,t){return new bn(e,2,t,Me.min(),Me.min(),Qi.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,Me.min(),Me.min(),Qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qc{constructor(e,t){this.position=e,this.inclusive=t}}function LU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ge.comparator(ge.fromName(s.referenceValue),t.key):$c(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function VU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Js(n.position[t],e.position[t]))return!1;return!0}class Gg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Tre(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class BU{}class Et extends BU{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Dre(e,t,i):"array-contains"===t?new kre(e,i):"in"===t?new qU(e,i):"not-in"===t?new Mre(e,i):"array-contains-any"===t?new Rre(e,i):new Et(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Sre(e,i):new Are(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($c(t,this.value)):null!==t&&Hc(this.value)===Hc(t)&&this.matchesComparison($c(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends BU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Jt(e,t)}matches(e){return bf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function bf(n){return"and"===n.op}function cS(n){return"or"===n.op}function lS(n){return UU(n)&&bf(n)}function UU(n){for(const e of n.filters)if(e instanceof Jt)return!1;return!0}function dS(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+yf(n.value);if(lS(n))return n.filters.map(e=>dS(e)).join(",");{const e=n.filters.map(t=>dS(t)).join(",");return`${n.op}(${e})`}}function jU(n,e){return n instanceof Et?(i=n,(r=e)instanceof Et&&i.op===r.op&&i.field.isEqual(r.field)&&Js(i.value,r.value)):n instanceof Jt?function(i,r){return r instanceof Jt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&jU(s,r.filters[a]),!0)}(n,e):void Ee();var i,r}function zU(n,e){const t=n.filters.concat(e);return Jt.create(t,n.op)}function HU(n){return n instanceof Et?`${(t=n).field.canonicalString()} ${t.op} ${yf(t.value)}`:n instanceof Jt?function(t){return t.op.toString()+" {"+t.getFilters().map(HU).join(" ,")+"}"}(n):"Filter";var t}class Dre extends Et{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sre extends Et{constructor(e,t){super(e,"in",t),this.keys=$U(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Are extends Et{constructor(e,t){super(e,"not-in",t),this.keys=$U(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $U(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class kre extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $g(t)&&Hg(t.arrayValue,this.value)}}class qU extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hg(this.value.arrayValue,t)}}class Mre extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hg(this.value.arrayValue,t)}}class Rre extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$g(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hg(this.value.arrayValue,i))}}class Pre{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function uS(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Pre(n,e,t,i,r,o,s)}function kd(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dS(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Ug(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>yf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>yf(i)).join(",")),e.ce=t}return e.ce}function Wg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Tre(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VU(n.startAt,e.startAt)&&VU(n.endAt,e.endAt)}function Ww(n){return ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Zw(n,e){return n.filters.filter(t=>t instanceof Et&&t.field.isEqual(e))}function GU(n,e,t){let i=$w,r=!0;for(const o of Zw(n,e)){let s=$w,a=!0;switch(o.op){case"<":case"<=":s=xre(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=$w}OU({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];OU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function WU(n,e,t){let i=zc,r=!0;for(const o of Zw(n,e)){let s=zc,a=!0;switch(o.op){case">=":case">":s=Cre(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=zc}NU({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];NU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Fa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function ZU(n,e,t,i,r,o,s,a){return new Fa(n,e,t,i,r,o,s,a)}function wf(n){return new Fa(n)}function KU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hS(n){return null!==n.collectionGroup}function Ef(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rn(yn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Gg(o,i))}),t.has(yn.keyField().canonicalString())||e.le.push(new Gg(yn.keyField(),i))}return e.le}function Or(n){const e=me(n);return e.he||(e.he=function QU(n,e){if("F"===n.limitType)return uS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new Gg(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new qc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new qc(n.startAt.position,n.startAt.inclusive):null;return uS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Ef(n))),e.he}function fS(n,e){const t=n.filters.concat([e]);return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kw(n,e,t){return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zg(n,e){return Wg(Or(n),Or(e))&&n.limitType===e.limitType}function YU(n){return`${kd(Or(n))}|lt:${n.limitType}`}function If(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>HU(r)).join(", ")}]`),Ug(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>yf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>yf(r)).join(",")),`Target(${i})`}(Or(n))}; limitType=${n.limitType})`}function Kg(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ge.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Ef(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const d=LU(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,Ef(i),r)||i.endAt&&!function(s,a,c){const d=LU(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,Ef(i),r)));var i,r}function XU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JU(n){return(e,t)=>{let i=!1;for(const r of Ef(n)){const o=Ore(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Ore(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?$c(c,d):Ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return DU(this.inner)}size(){return this.innerSize}}const Nre=new gn(ge.comparator);function Jr(){return Nre}const ej=new gn(ge.comparator);function Qg(...n){let e=ej;for(const t of n)e=e.insert(t.key,t);return e}function tj(n){let e=ej;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ea(){return Yg()}function nj(){return Yg()}function Yg(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fre=new gn(ge.comparator),Lre=new rn(ge.comparator);function ot(...n){let e=Lre;for(const t of n)e=e.add(t);return e}const Vre=new rn(Xe);function mS(){return Vre}function ij(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jg(e)?"-0":e}}function rj(n){return{integerValue:""+n}}function oj(n,e){return yU(e)?rj(e):ij(n,e)}class Qw{constructor(){this._=void 0}}function Bre(n,e,t){return n instanceof xf?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&zw(o)&&(o=Hw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Md?aj(n,e):n instanceof Rd?cj(n,e):function(r,o){const s=sj(r,o),a=lj(s)+lj(r.Ie);return aS(s)&&aS(r.Ie)?rj(a):ij(r.serializer,a)}(n,e)}function Ure(n,e,t){return n instanceof Md?aj(n,e):n instanceof Rd?cj(n,e):t}function sj(n,e){return n instanceof Cf?aS(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class xf extends Qw{}class Md extends Qw{constructor(e){super(),this.elements=e}}function aj(n,e){const t=dj(e);for(const i of n.elements)t.some(r=>Js(r,i))||t.push(i);return{arrayValue:{values:t}}}class Rd extends Qw{constructor(e){super(),this.elements=e}}function cj(n,e){let t=dj(e);for(const i of n.elements)t=t.filter(r=>!Js(r,i));return{arrayValue:{values:t}}}class Cf extends Qw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function lj(n){return jn(n.integerValue||n.doubleValue)}function dj(n){return $g(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xg{constructor(e,t){this.field=e,this.transform=t}}class zre{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Xw{}function uj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Df(n.key,An.none()):new Tf(n.key,n.data,An.none());{const t=n.data,i=Qi.empty();let r=new rn(yn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Va(n.key,i,new Xr(r.toArray()),An.none())}}function Hre(n,e,t){n instanceof Tf?function(r,o,s){const a=r.value.clone(),c=mj(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Va?function(r,o,s){if(!Yw(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=mj(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(fj(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jg(n,e,t,i){return n instanceof Tf?function(o,s,a,c){if(!Yw(o.precondition,s))return a;const d=o.value.clone(),h=pj(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Va?function(o,s,a,c){if(!Yw(o.precondition,s))return a;const d=pj(o.fieldTransforms,c,s),h=s.data;return h.setAll(fj(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,Yw(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function $re(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=sj(i.transform,r||null);null!=o&&(null===t&&(t=Qi.empty()),t.set(i.field,o))}return t||null}function hj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&pf(i,r,(o,s)=>function jre(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Md&&r instanceof Md||i instanceof Rd&&r instanceof Rd?pf(i.elements,r.elements,Js):i instanceof Cf&&r instanceof Cf?Js(i.Ie,r.Ie):i instanceof xf&&r instanceof xf);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Tf extends Xw{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Va extends Xw{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mj(n,e,t){const i=new Map;ke(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Ure(s,a,t[r]))}return i}function pj(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Bre(o,s,e))}return i}class Df extends Xw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pS extends Xw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gS{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Hre(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Jg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Jg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=nj();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=uj(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&pf(this.mutations,e.mutations,(t,i)=>hj(t,i))&&pf(this.baseMutations,e.baseMutations,(t,i)=>hj(t,i))}}class _S{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ke(e.mutations.length===i.length);let r=Fre;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new _S(e,t,i,r)}}class vS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gre{constructor(e,t){this.count=e,this.unchangedNames=t}}var ui,At;function gj(n){switch(n){default:return Ee();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function _j(n){if(void 0===n)return Xn("GRPC error has no .code"),B.UNKNOWN;switch(n){case ui.OK:return B.OK;case ui.CANCELLED:return B.CANCELLED;case ui.UNKNOWN:return B.UNKNOWN;case ui.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ui.INTERNAL:return B.INTERNAL;case ui.UNAVAILABLE:return B.UNAVAILABLE;case ui.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ui.NOT_FOUND:return B.NOT_FOUND;case ui.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ui.ABORTED:return B.ABORTED;case ui.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ui.DATA_LOSS:return B.DATA_LOSS;default:return Ee()}}(At=ui||(ui={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function vj(){return new TextEncoder}const Wre=new hf([4294967295,4294967295],0);function yj(n){const e=vj().encode(n),t=new Uie;return t.update(e),new Uint8Array(t.digest())}function bj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hf([t,i],0),new hf([r,o],0)]}class yS{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new e_(`Invalid padding: ${t}`);if(i<0)throw new e_(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new e_(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new e_(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=hf.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(hf.fromNumber(i)));return 1===r.compare(Wre)&&(r=new hf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=yj(e),[i,r]=bj(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new yS(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=yj(e),[i,r]=bj(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class e_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class t_{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,n_.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new t_(Me.min(),r,new gn(Xe),Jr(),ot())}}class n_{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n_(i,t,ot(),ot(),ot())}}class e0{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class wj{constructor(e,t){this.targetId=e,this.fe=t}}class Ej{constructor(e,t,i=xi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Ij{constructor(){this.ge=0,this.pe=Cj(),this.ye=xi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),t=ot(),i=ot();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ee()}}),new n_(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=Cj()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Zre{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jr(),this.Qe=xj(),this.Ke=new gn(Xe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(Ww(o))if(0===i){const s=new ge(o.path);this.We(t,s,bn.newNoDocument(s,Me.min()))}else ke(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Na(i).toUint8Array()}catch(c){if(c instanceof AU)return Yr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new yS(s,r,o)}catch(c){return Yr(c instanceof e_?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Ww(a.target)){const c=new ge(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,bn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ot();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Ye(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new t_(e,t,this.Ke,this.qe,i);return this.qe=Jr(),this.Qe=xj(),this.Ke=new gn(Xe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Ij,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new rn(Xe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ij),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function xj(){return new gn(ge.comparator)}function Cj(){return new gn(ge.comparator)}const Kre={asc:"ASCENDING",desc:"DESCENDING"},Qre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yre={and:"AND",or:"OR"};class Xre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bS(n,e){return n.useProto3Json||Ug(e)?e:{value:e}}function Sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jre(n,e){return Sf(n,e.toTimestamp())}function Jn(n){return ke(!!n),Me.fromTimestamp(function(t){const i=Uc(t);return new Sn(i.seconds,i.nanos)}(n))}function wS(n,e){return(i=n,new St(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Dj(n){const e=St.fromString(n);return ke(Fj(e)),e}function i_(n,e){return wS(n.databaseId,e.path)}function ta(n,e){const t=Dj(e);if(t.get(1)!==n.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(Aj(t))}function ES(n,e){return wS(n.databaseId,e)}function Sj(n){const e=Dj(n);return 4===e.length?St.emptyPath():Aj(e)}function r_(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Aj(n){return ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kj(n,e,t){return{name:i_(n,e),fields:t.value.mapValue.fields}}function Mj(n,e,t){const i=ta(n,e.name),r=Jn(e.updateTime),o=e.createTime?Jn(e.createTime):Me.min(),s=new Qi({mapValue:{fields:e.fields}}),a=bn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function o_(n,e){let t;if(e instanceof Tf)t={update:kj(n,e.key,e.value)};else if(e instanceof Df)t={delete:i_(n,e.key)};else if(e instanceof Va)t={update:kj(n,e.key,e.data),updateMask:aoe(e.fieldMask)};else{if(!(e instanceof pS))return Ee();t={verify:i_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof xf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Md)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ee()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Jre(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ee()),t;var o}function IS(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?An.updateTime(Jn(o.updateTime)):void 0!==o.exists?An.exists(o.exists):An.none():An.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),c=new xf):"appendMissingElements"in a?c=new Md(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Rd(a.removeAllFromArray.values||[]):"increment"in a?c=new Cf(s,a.increment):Ee();const d=yn.fromServerFormat(a.fieldPath);return new Xg(d,c)}(n,r)):[];var o;if(e.update){const r=ta(n,e.update.name),o=new Qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Xr((e.updateMask.fieldPaths||[]).map(h=>yn.fromServerFormat(h)));return new Va(r,o,s,t,i)}return new Tf(r,o,t,i)}if(e.delete){const r=ta(n,e.delete);return new Df(r,t)}if(e.verify){const r=ta(n,e.verify);return new pS(r,t)}return Ee()}function Rj(n,e){return{documents:[ES(n,e.path)]}}function xS(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=ES(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ES(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return Nj(Jt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:Gc((p=d).field),direction:roe(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=bS(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function Pj(n){let e=Sj(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ke(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=Oj(p);return g instanceof Jt&&lS(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new Gg(Af((b=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Ug(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new qc((p=t.startAt).values||[],!!p.before));let d=null;return t.endAt&&(d=function(p){return new qc(p.values||[],!p.before)}(t.endAt)),ZU(e,r,s,o,a,"F",c,d)}function Oj(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Af(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Af(t.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Af(t.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Af(t.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):void 0!==n.fieldFilter?Et.create(Af((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Jt.create(t.compositeFilter.filters.map(i=>Oj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee();var t}function roe(n){return Kre[n]}function ooe(n){return Qre[n]}function soe(n){return Yre[n]}function Gc(n){return{fieldPath:n.canonicalString()}}function Af(n){return yn.fromServerFormat(n.fieldPath)}function Nj(n){return n instanceof Et?function(t){if("=="===t.op){if(RU(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NAN"}};if(MU(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(RU(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NOT_NAN"}};if(MU(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(t.field),op:ooe(t.op),value:t.value}}}(n):n instanceof Jt?function(t){const i=t.getFilters().map(r=>Nj(r));return 1===i.length?i[0]:{compositeFilter:{op:soe(t.op),filters:i}}}(n):Ee()}function aoe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ba{constructor(e,t,i,r,o=Me.min(),s=Me.min(),a=xi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Lj{constructor(e){this.ut=e}}function Vj(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:t0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:i_(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Sf(o,s.version.toTimestamp()),createTime:Sf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Pd(e.version)};else{if(!e.isUnknownDocument())return Ee();i.unknownDocument={path:t.path.toArray(),version:Pd(e.version)}}var o,s;return i}function t0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Od(n){const e=new Sn(n.seconds,n.nanoseconds);return Me.fromTimestamp(e)}function Nd(n,e){const t=(e.baseMutations||[]).map(o=>IS(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>IS(n.ut,o)),r=Sn.fromMillis(e.localWriteTimeMs);return new gS(e.batchId,r,t,i)}function s_(n){const e=Od(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Od(n.lastLimboFreeSnapshotVersion):Me.min();let i;return i=void 0!==n.query.documents?(ke(1===(o=n.query).documents.length),Or(wf(Sj(o.documents[0])))):function(o){return Or(Pj(o))}(n.query),new Ba(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,xi.fromBase64String(n.resumeToken));var o}function Bj(n,e){const t=Pd(e.snapshotVersion),i=Pd(e.lastLimboFreeSnapshotVersion);let r;r=Ww(e.target)?Rj(n.ut,e.target):xS(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kd(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function CS(n){const e=Pj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Kw(e,e.limit,"L"):e}function TS(n,e){return new vS(e.largestBatchId,IS(n.ut,e.overlayMutation))}function Uj(n,e){const t=e.path.lastSegment();return[n,ur(e.path.popLast()),t]}function jj(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Pd(i.readTime),documentKey:ur(i.documentKey.path),largestBatchId:i.largestBatchId}}class loe{getBundleMetadata(e,t){return zj(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Od(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return zj(e).put({bundleId:(r=t).id,createTime:Pd(Jn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Hj(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:CS(o.bundledQuery),readTime:Od(o.readTime)};var o})}saveNamedQuery(e,t){return Hj(e).put({name:(r=t).name,readTime:Pd(Jn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function zj(n){return Ni(n,"bundles")}function Hj(n){return Ni(n,"namedQueries")}class n0{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new n0(e,t.uid||"")}getOverlay(e,t){return a_(e).get(Uj(this.userId,t)).next(i=>i?TS(this.serializer,i):null)}getOverlays(e,t){const i=ea();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new vS(t,s);r.push(this.lt(e,a))}),P.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(ur(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(a_(e).H("collectionPathOverlayIndex",a))}),P.waitFor(o)}getOverlaysForCollection(e,t,i){const r=ea(),o=ur(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return a_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=TS(this.serializer,c);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=ea();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return a_(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,d,h)=>{const p=TS(this.serializer,d);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return a_(e).put(function(r,o,s){const[a,c,d]=Uj(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:o_(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function a_(n){return Ni(n,"documentOverlays")}class Fd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(jn(e.integerValue));else if("doubleValue"in e){const i=jn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),jg(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Na(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?PU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ee()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ge.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function doe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function $j(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=doe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Fd.St=new Fd;class uoe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=$j(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=$j(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class hoe{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class foe{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class c_{constructor(){this.Wt=new uoe,this.Gt=new hoe(this.Wt),this.zt=new foe(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ld{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ld(this.indexId,this.documentKey,this.arrayValue,i)}}function Wc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qj(n.arrayValue,e.arrayValue),0!==t?t:(t=qj(n.directionalValue,e.directionalValue),0!==t?t:ge.comparator(n.documentKey,e.documentKey)))}function qj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Gj{constructor(e){this.Jt=new rn((t,i)=>yn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=tS(e);if(void 0!==t&&!this.tn(t))return!1;const i=Td(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new rn(yn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Dd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Dd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Dd(i.field,"asc"===i.dir?0:1)));return new gf(gf.UNKNOWN_ID,this.collectionId,t,_f.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Wj(n){var e,t;if(ke(n instanceof Et||n instanceof Jt),n instanceof Et){if(n instanceof qU){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Et.create(n.field,"==",o)))||[];return Jt.create(r,"or")}return n}const i=n.filters.map(r=>Wj(r));return Jt.create(i,n.op)}function moe(n){if(0===n.getFilters().length)return[];const e=AS(Wj(n));return ke(Zj(e)),DS(e)||SS(e)?[e]:e.getFilters()}function DS(n){return n instanceof Et}function SS(n){return n instanceof Jt&&lS(n)}function Zj(n){return DS(n)||SS(n)||function(t){if(t instanceof Jt&&cS(t)){for(const i of t.getFilters())if(!DS(i)&&!SS(i))return!1;return!0}return!1}(n)}function AS(n){if(ke(n instanceof Et||n instanceof Jt),n instanceof Et)return n;if(1===n.filters.length)return AS(n.filters[0]);const e=n.filters.map(i=>AS(i));let t=Jt.create(e,n.op);return t=r0(t),Zj(t)?t:(ke(t instanceof Jt),ke(bf(t)),ke(t.filters.length>1),t.filters.reduce((i,r)=>kS(i,r)))}function kS(n,e){let t;return ke(n instanceof Et||n instanceof Jt),ke(e instanceof Et||e instanceof Jt),t=n instanceof Et?e instanceof Et?Jt.create([n,e],"and"):Kj(n,e):e instanceof Et?Kj(e,n):function(r,o){if(ke(r.filters.length>0&&o.filters.length>0),bf(r)&&bf(o))return zU(r,o.getFilters());const s=cS(r)?r:o,a=cS(r)?o:r,c=s.filters.map(d=>kS(d,a));return Jt.create(c,"or")}(n,e),r0(t)}function Kj(n,e){if(bf(e))return zU(e,n.getFilters());{const t=e.filters.map(i=>kS(n,i));return Jt.create(t,"or")}}function r0(n){if(ke(n instanceof Et||n instanceof Jt),n instanceof Et)return n;const e=n.getFilters();if(1===e.length)return r0(e[0]);if(UU(n))return n;const t=e.map(r=>r0(r)),i=[];return t.forEach(r=>{r instanceof Et?i.push(r):r instanceof Jt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Jt.create(i,n.op)}class poe{constructor(){this.on=new MS}addToCollectionParentIndex(e,t){return this.on.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(po.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}}class MS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new rn(St.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rn(St.comparator)).toArray()}}const o0=new Uint8Array(0);class goe{constructor(e,t){this.user=e,this.databaseId=t,this._n=new MS,this.an=new La(i=>kd(i),(i,r)=>Wg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:ur(r)};return Qj(e).put(o)}return P.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[fU(t),""],!1,!0);return Qj(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Xs(s.parent))}return i})}addFieldIndex(e,t){const i=l_(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Mf(e);return o.next(a=>{s.put(jj(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=l_(e),r=Mf(e),o=kf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=l_(e),i=kf(e),r=Mf(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return P.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new Gj(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=kf(e);let r=!0;const o=new Map;return P.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ot();const a=[];return P.forEach(o,(c,d)=>{var M;re("IndexedDbIndexManager",`Using index ${M=c,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${kd(t)}`);const h=function(M,Y){const ue=tS(Y);if(void 0===ue)return null;for(const Ie of Zw(M,ue.fieldPath))switch(Ie.op){case"array-contains-any":return Ie.value.arrayValue.values||[];case"array-contains":return[Ie.value]}return null}(d,c),p=function(M,Y){const ue=new Map;for(const Ie of Td(Y))for(const Ze of Zw(M,Ie.fieldPath))switch(Ze.op){case"==":case"in":ue.set(Ie.fieldPath.canonicalString(),Ze.value);break;case"not-in":case"!=":return ue.set(Ie.fieldPath.canonicalString(),Ze.value),Array.from(ue.values())}return null}(d,c),g=function(M,Y){const ue=[];let Ie=!0;for(const Ze of Td(Y)){const dn=0===Ze.kind?GU(M,Ze.fieldPath,M.startAt):WU(M,Ze.fieldPath,M.startAt);ue.push(dn.value),Ie&&(Ie=dn.inclusive)}return new qc(ue,Ie)}(d,c),v=function(M,Y){const ue=[];let Ie=!0;for(const Ze of Td(Y)){const dn=0===Ze.kind?WU(M,Ze.fieldPath,M.endAt):GU(M,Ze.fieldPath,M.endAt);ue.push(dn.value),Ie&&(Ie=dn.inclusive)}return new qc(ue,Ie)}(d,c),b=this.ln(c,d,g),w=this.ln(c,d,v),E=this.hn(c,d,p),A=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,E);return P.forEach(A,S=>i.j(S,t.limit).next(M=>{M.forEach(Y=>{const ue=ge.fromSegments(Y.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return P.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:moe(Jt.create(e.filters,"and")).map(i=>uS(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),d=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/d]):o0,v=this.Tn(e,g,i[p%d],r),b=this.En(e,g,o[p%d],s),w=a.map(E=>this.Tn(e,g,E,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new Ld(e,ge.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new Ld(e,ge.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new Gj(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return P.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new rn(yn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new c_;for(const r of Td(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Fd.St.ht(o,s)}return i.Ut()}In(e){const t=new c_;return Fd.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new c_;return Fd.St.ht(Ad(this.databaseId,t),i.jt(function(o){const s=Td(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new c_);let o=0;for(const s of Td(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&$g(a))r=this.Vn(r,s,a);else{const d=c.jt(s.kind);Fd.St.ht(a,d)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new c_;c.seed(a.Ut()),Fd.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof Et&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=l_(e),r=Mf(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return P.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new _f(p.sequenceNumber,new po(Od(p.readTime),new ge(Xs(p.documentKey)),p.largestBatchId)):_f.empty(),v=h.fields.map(([b,w])=>new Dd(yn.fromServerFormat(b),w));return new gf(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Xe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=l_(e),o=Mf(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>P.forEach(a,c=>o.put(jj(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return P.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?P.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),P.forEach(a,c=>this.gn(e,r,c).next(d=>{const h=this.pn(o,c);return d.isEqual(h)?P.resolve():this.yn(e,o,c,d,h)}))))})}wn(e,t,i,r){return kf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return kf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=kf(e);let o=new rn(Wc);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new Ld(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new rn(Wc);const r=this.dn(t,e);if(null==r)return i;const o=tS(t);if(null!=o){const s=e.data.field(o.fieldPath);if($g(s))for(const a of s.arrayValue.values||[])i=i.add(new Ld(t.indexId,e.key,this.In(a),r))}else i=i.add(new Ld(t.indexId,e.key,o0,r));return i}yn(e,t,i,r,o){re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,h,p,g){const v=c.getIterator(),b=d.getIterator();let w=vf(v),E=vf(b);for(;w||E;){let A=!1,S=!1;if(w&&E){const M=h(w,E);M<0?S=!0:M>0&&(A=!0)}else null!=w?S=!0:A=!0;A?(p(E),E=vf(b)):S?(g(w),w=vf(v)):(w=vf(v),E=vf(b))}}(r,o,Wc,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),P.waitFor(s)}fn(e){let t=1;return Mf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Wc(s,a)).filter((s,a,c)=>!a||0!==Wc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=Wc(s,e),c=Wc(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,o0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,o0,[]]))}return o}bn(e,t){return Wc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Yj)}getMinOffset(e,t){return P.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||Ee())).next(Yj)}}function Qj(n){return Ni(n,"collectionParents")}function kf(n){return Ni(n,"indexEntries")}function l_(n){return Ni(n,"indexConfiguration")}function Mf(n){return Ni(n,"indexState")}function Yj(n){ke(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;nS(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new po(e.readTime,e.documentKey,t)}const Xj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jj(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{ke(1===a)}));const d=[];for(const h of t.mutations){const p=EU(e,h.key.path,t.batchId);o.push(r.delete(p)),d.push(h.key)}return P.waitFor(o).next(()=>d)}function s0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(41943040,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);class a0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){ke(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new a0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zc(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Rf(e),s=Zc(e);return s.add({}).next(a=>{ke("number"==typeof a);const c=new gS(a,t,i,r),d=function(v,b,w){const E=w.baseMutations.map(S=>o_(v.ut,S)),A=w.mutations.map(S=>o_(v.ut,S));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:E,mutations:A}}(this.serializer,this.userId,c),h=[];let p=new rn((g,v)=>Xe(g.canonicalString(),v.canonicalString()));for(const g of r){const v=EU(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(v,rre))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),P.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return Zc(e).get(t).next(i=>i?(ke(i.userId===this.userId),Nd(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?P.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Zc(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ke(a.batchId>=i),o=Nd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Zc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zc(e).W("userMutationsIndex",t).next(i=>i.map(r=>Nd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Uw(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Rf(e).Y({range:r},(s,a,c)=>{const[d,h,p]=s,g=Xs(h);if(d===this.userId&&t.path.isEqual(g))return Zc(e).get(p).next(v=>{if(!v)throw Ee();ke(v.userId===this.userId),o.push(Nd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rn(Xe);const r=[];return t.forEach(o=>{const s=Uw(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Rf(e).Y({range:a},(d,h,p)=>{const[g,v,b]=d,w=Xs(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),P.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Uw(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new rn(Xe);return Rf(e).Y({range:s},(c,d,h)=>{const[p,g,v]=c,b=Xs(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Zc(e).get(o).next(s=>{if(null===s)throw Ee();ke(s.userId===this.userId),i.push(Nd(this.serializer,s))}))}),P.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Jj(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),P.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return P.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Rf(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Xs(o[1]);r.push(c)}else a.done()}).next(()=>{ke(0===r.length)})})}containsKey(e,t){return e4(e,this.userId,t)}Mn(e){return t4(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function e4(n,e,t){const i=Uw(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Rf(n).Y({range:o,J:!0},(a,c,d)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),d.done()}).next(()=>s)}function Zc(n){return Ni(n,"mutations")}function Rf(n){return Ni(n,"documentMutations")}function t4(n){return Ni(n,"mutationQueues")}class Vd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Vd(0)}static Nn(){return new Vd(-1)}}class _oe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Vd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Me.fromTimestamp(new Sn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pf(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(ke(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Pf(e).Y((s,a)=>{const c=s_(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>P.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Pf(e).Y((i,r)=>{const o=s_(r);t(o)})}Bn(e){return n4(e).get("targetGlobalKey").next(t=>(ke(null!==t),t))}Ln(e,t){return n4(e).put("targetGlobalKey",t)}kn(e,t){return Pf(e).put(Bj(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=kd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Pf(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const d=s_(a);Wg(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Kc(e);return t.forEach(s=>{const a=ur(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),P.waitFor(r)}removeMatchingKeys(e,t,i){const r=Kc(e);return P.forEach(t,o=>{const s=ur(o.path);return P.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Kc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kc(e);let o=ot();return r.Y({range:i,J:!0},(s,a,c)=>{const d=Xs(s[1]),h=new ge(d);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=ur(t.path),r=IDBKeyRange.bound([i],[fU(i)],!1,!0);let o=0;return Kc(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}_t(e,t){return Pf(e).get(t).next(i=>i?s_(i):null)}}function Pf(n){return Ni(n,"targets")}function n4(n){return Ni(n,"targetGlobal")}function Kc(n){return Ni(n,"targetDocuments")}function i4([n,e],[t,i]){const r=Xe(n,t);return 0===r?Xe(e,i):r}class voe{constructor(e){this.Qn=e,this.buffer=new rn(i4),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();i4(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,K.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Vc(i)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Lc(i)}yield t.Gn(3e5)}))}}class yoe{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return P.resolve(go._e);const i=new voe(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Xj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xj):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(d=Date.now(),mf()<=Zs.in.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(d-c)+`ms\nTotal Duration: ${d-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class boe{constructor(e,t){this.db=e,this.garbageCollector=function o4(n,e){return new yoe(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return c0(e,i)}removeReference(e,t,i){return c0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return c0(e,t)}Xn(e,t){return function(r,o){let s=!1;return t4(r).Z(a=>e4(r,a,o).next(c=>(c&&(s=!0),P.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Me.min()),Kc(e).delete([0,ur(s.path)])))});r.push(c)}}).next(()=>P.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return c0(e,t)}Zn(e,t){const i=Kc(e);let r,o=go._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==go._e&&t(new ge(Xs(r)),o),o=d,r=c):o=go._e}).next(()=>{o!==go._e&&t(new ge(Xs(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function c0(n,e){return Kc(n).put((r=n.currentSequenceNumber,{targetId:0,path:ur(e.path),sequenceNumber:r}));var r}class s4{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class woe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Bd(e).put(i)}removeEntry(e,t,i){return Bd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],t0(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=bn.newInvalidDocument(t);return Bd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(d_(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:bn.newInvalidDocument(t)};return Bd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(d_(t))},(r,o)=>{i={document:this.tr(t,o),size:s0(o)}}).next(()=>i)}getEntries(e,t){let i=Jr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Jr(),r=new gn(ge.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,s0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return P.resolve();let r=new rn(d4);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(d_(r.first()),d_(r.last())),s=r.getIterator();let a=s.getNext();return Bd(e).Y({index:"documentKeyIndex",range:o},(c,d,h)=>{const p=ge.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&d4(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?h.U(d_(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),t0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bd(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=Jr();for(const p of d){const g=this.tr(ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(Kg(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Jr();const s=l4(t,i),a=l4(t,po.max());return Bd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,h)=>{const p=this.tr(ge.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Eoe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return c4(e).get("remoteDocumentGlobalKey").next(t=>(ke(!!t),t))}er(e,t){return c4(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function coe(n,e){let t;if(e.document)t=Mj(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ge.fromSegments(e.noDocument.path),r=Od(e.noDocument.readTime);t=bn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const i=ge.fromSegments(e.unknownDocument.path),r=Od(e.unknownDocument.version);t=bn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Sn(r[0],r[1]);return Me.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Me.min()))return i}return bn.newInvalidDocument(e)}}function a4(n){return new woe(n)}class Eoe extends s4{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new La(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new rn((o,s)=>Xe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Vj(this._r.serializer,s);r=r.add(o.path.popLast());const d=s0(c);i+=d-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=Vj(this._r.serializer,s.convertToNoDocument(Me.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),P.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function c4(n){return Ni(n,"remoteDocumentGlobal")}function Bd(n){return Ni(n,"remoteDocumentsV14")}function d_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function l4(n,e){const t=e.documentKey.path.toArray();return[n,t0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function d4(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Xe(t[o],i[o]),r)return r;return r=Xe(t.length,i.length),r||(r=Xe(t[t.length-2],i[i.length-2]),r||Xe(t[t.length-1],i[i.length-1]))}class Ioe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class u4{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Jg(i.mutation,r,Xr.empty(),Sn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ot()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ot()){const r=ea();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Qg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=ea();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ot()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Jr();const s=Yg(),a=Yg();return t.forEach((c,d)=>{const h=i.get(d.key);r.has(d.key)&&(void 0===h||h.mutation instanceof Va)?o=o.insert(d.key,d):void 0!==h?(s.set(d.key,h.mutation.getFieldMask()),Jg(h.mutation,d,h.mutation.getFieldMask(),Sn.now())):s.set(d.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var p;return a.set(d,new Ioe(h,null!==(p=s.get(d))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Yg();let r=new gn((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let h=i.get(c)||Xr.empty();h=a.applyToLocalView(d,h),i.set(c,h);const p=(r.get(a.batchId)||ot()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=nj();h.forEach(g=>{if(!o.has(g)){const v=uj(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return P.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ge.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):P.resolve(ea());let a=-1,c=o;return s.next(d=>P.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,ot())).next(h=>({batchId:a,changes:tj(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let r=Qg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Qg();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{const d=(p=t,g=c.child(o),new Fa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{const h=d.getKey();null===s.get(h)&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Qg();return s.forEach((c,d)=>{const h=o.get(c);void 0!==h&&Jg(h.mutation,d,Xr.empty(),Sn.now()),Kg(t,d)&&(a=a.insert(c,d))}),a})}}class xoe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return P.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Jn(r.createTime)}),P.resolve();var r}getNamedQuery(e,t){return P.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:CS(r.bundledQuery),readTime:Jn(r.readTime)}),P.resolve();var r}}class Coe{constructor(){this.overlays=new gn(ge.comparator),this.lr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ea();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){const r=ea(),o=t.length+1,s=new ge(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new gn((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let h=o.get(d.largestBatchId);null===h&&(h=ea(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=ea(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return P.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new vS(t,i));let o=this.lr.get(t);void 0===o&&(o=ot(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class RS{constructor(){this.hr=new rn(Fi.Pr),this.Ir=new rn(Fi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Fi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Fi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ge(new St([])),i=new Fi(t,e),r=new Fi(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ge(new St([])),i=new Fi(t,e),r=new Fi(t,e+1);let o=ot();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Fi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Fi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ge.comparator(e.key,t.key)||Xe(e.gr,t.gr)}static Tr(e,t){return Xe(e.gr,t.gr)||ge.comparator(e.key,t.key)}}class Toe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new rn(Fi.Pr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new gS(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Fi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fi(t,0),r=new Fi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rn(Xe);return t.forEach(r=>{const o=new Fi(r,0),s=new Fi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),P.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ge.isDocumentKey(o)||(o=o.child(""));const s=new Fi(new ge(o),0);let a=new rn(Xe);return this.yr.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return P.forEach(t.mutations,r=>{const o=new Fi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Fi(t,0),r=this.yr.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return P.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Doe{constructor(e){this.Cr=e,this.docs=new gn(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let i=Jr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bn.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Jr();const s=t.path,a=new ge(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||nS(pU(h),i)<=0||(r.has(h.key)||Kg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Ee()}vr(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Soe(this)}getSize(e){return P.resolve(this.size)}}class Soe extends s4{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Aoe{constructor(e){this.persistence=e,this.Fr=new La(t=>kd(t),Wg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new RS,this.targetCount=0,this.Nr=Vd.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),P.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Vd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.kn(t),P.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),P.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.Or.containsKey(t))}}class PS{constructor(e,t){this.Br={},this.overlays={},this.Lr=new go(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Aoe(this),this.indexManager=new poe,this.remoteDocumentCache=new Doe(i=>this.referenceDelegate.Qr(i)),this.serializer=new Lj(t),this.Kr=new xoe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Coe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new Toe(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){re("MemoryPersistence","Starting transaction:",e);const r=new koe(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return P.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class koe extends _U{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.Gr=new RS,this.zr=null}static jr(e){return new l0(e)}get Hr(){if(this.zr)return this.zr;throw Ee()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,i=>{const r=ge.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Me.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return P.or([()=>P.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Moe{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Bw("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wU,{unique:!0}),c.createObjectStore("documentMutations"),h4(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=P.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),h4(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,d){return d.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wU,{unique:!0});const p=d.store("mutations"),g=h.map(v=>p.put(v));return P.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:gre});d.createIndex("collectionPathOverlayIndex",_re,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",vre,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:ore});d.createIndex("documentKeyIndex",sre),d.createIndex("collectionGroupIndex",are)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:hre}).createIndex("sequenceNumberIndex",fre,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:mre}).createIndex("documentKeyIndex",pre,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=s0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>P.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>P.forEach(a,c=>{ke(c.userId===o.userId);const d=Nd(this.serializer,c);return Jj(e,o.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new St(s),d=[0,ur(c)];o.push(t.get(d).next(h=>h?P.resolve():t.put({targetId:0,path:ur(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>P.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ure});const i=t.store("collectionParents"),r=new MS,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:ur(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new St(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],d)=>{const h=Xs(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=s_(r),s=Bj(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new ge(St.fromString(p.document.name).popFirst(5)):p.noDocument?ge.fromSegments(p.noDocument.path):p.unknownDocument?ge.fromSegments(p.unknownDocument.path):Ee()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(d))}).next(()=>P.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=a4(this.serializer),o=new PS(l0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var d;let h=null!==(d=a.get(c.userId))&&void 0!==d?d:ot();Nd(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),P.forEach(a,(c,d)=>{const h=new Oi(d),p=n0.ct(this.serializer,h),g=o.getIndexManager(h),v=a0.ct(h,this.serializer,g,o.referenceDelegate);return new u4(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new oS(t,go._e),c).next()})})}}function h4(n){n.createObjectStore("targetDocuments",{keyPath:lre}).createIndex("documentTargetsIndex",dre,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cre,{unique:!0}),n.createObjectStore("targetGlobal")}const OS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NS{constructor(e,t,i,r,o,s,a,c,d,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=d,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!NS.D())throw new ne(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new boe(this,r),this.Ii=t+"main",this.serializer=new Lj(c),this.Ti=new ys(this.Ii,this.ai,new Moe(this.serializer)),this.qr=new _oe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=a4(this.serializer),this.Kr=new loe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ne(B.FAILED_PRECONDITION,OS);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new go(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,K.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,K.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,K.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>u0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Vc(e))return re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return u_(e).get("owner").next(t=>P.resolve(this.wi(t)))}Si(e){return u0(e).delete(this.clientId)}bi(){var e=this;return(0,K.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ni(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return P.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?P.resolve(!0):u_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ne(B.FAILED_PRECONDITION,OS);return!1}}return!(!this.networkEnabled||!this.inForeground)||u0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,K.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new oS(t,go._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>u0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return a0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new goe(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return n0.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){re("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?bre:14===c?CU:13===c?xU:12===c?yre:11===c?IU:void Ee();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new oS(a,this.Lr?this.Lr.next():go._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Xn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ne(B.FAILED_PRECONDITION,gU);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return u_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ne(B.FAILED_PRECONDITION,OS)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return u_(e).put("owner",t)}static D(){return ys.D()}pi(e){const t=u_(e);return t.get("owner").next(i=>this.wi(i)?(re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):P.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Xn(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,ln.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return re("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Xn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Xn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function u_(n){return Ni(n,"owner")}function u0(n){return Ni(n,"clientMetadata")}function FS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class LS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ot(),r=ot();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new LS(e,t.fromCache,i,r)}}class Roe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class f4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Roe;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(mf()<=Zs.in.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",If(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(mf()<=Zs.in.DEBUG&&re("QueryEngine","Query:",If(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(mf()<=Zs.in.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",If(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):P.resolve())}zi(e,t){if(KU(t))return P.resolve(null);let i=Or(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Kw(t,null,"F"),i=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.Yi(t,a);return this.Zi(t,d,s,c.readTime)?this.zi(e,Kw(t,null,"F")):this.Xi(e,d,t,c)}))})))}ji(e,t,i,r){return KU(t)||r.isEqual(Me.min())?P.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?P.resolve(null):(mf()<=Zs.in.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),If(t)),this.Xi(e,s,t,mU(r,-1)).next(a=>a))})}Yi(e,t){let i=new rn(JU(e));return t.forEach((r,o)=>{Kg(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return mf()<=Zs.in.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",If(t)),this.Gi.getDocumentsMatchingQuery(e,t,po.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Poe{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new gn(Xe),this.ns=new La(o=>kd(o),Wg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function m4(n,e,t,i){return new Poe(n,e,t,i)}function p4(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,K.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=ot();for(const d of r){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(d=>({_s:d,removedBatchIds:s,addedBatchIds:a}))})})}),VS.apply(this,arguments)}function g4(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function _4(n,e,t){let i=ot(),r=ot();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Jr();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{us:s,cs:r}})}function Foe(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Of(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Ba(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Nf(n,e,t){return BS.apply(this,arguments)}function BS(){return BS=(0,K.Z)(function*(n,e,t){const i=me(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Vc(s))throw s;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),BS.apply(this,arguments)}function h0(n,e,t){const i=me(n);let r=Me.min(),o=ot();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){const p=me(c),g=p.ns.get(h);return void 0!==g?P.resolve(p.ts.get(g)):p.qr.getTargetData(d,h)}(i,s,Or(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Me.min(),t?o:ot())).next(a=>(b4(i,XU(e),a),{documents:a,ls:o})))}function v4(n,e){const t=me(n),i=me(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function y4(n,e){const t=me(n),i=t.rs.get(e)||Me.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,mU(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(b4(t,e,r),r))}function b4(n,e,t){let i=n.rs.get(e)||Me.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function US(){return US=(0,K.Z)(function*(n,e,t,i){const r=me(n);let o=ot(),s=Jr();for(const d of t){const h=e.hs(d.metadata.name);d.document&&(o=o.add(h));const p=e.Ps(d);p.setReadTime(e.Is(d.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield Of(r,(h=i,Or(wf(St.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>_4(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.qr.removeMatchingKeysForTargetId(d,c.targetId).next(()=>r.qr.addMatchingKeys(d,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.us,h.cs)).next(()=>h.us)))}),US.apply(this,arguments)}function Voe(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,K.Z)(function*(n,e,t=ot()){const i=yield Of(n,Or(CS(e.bundledQuery))),r=me(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Jn(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(xi.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),jS.apply(this,arguments)}function w4(n,e){return`firestore_clients_${n}_${e}`}function E4(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function zS(n,e){return`firestore_targets_${n}_${e}`}class f0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ne(r.error.code,r.error.message))),s?new f0(e,t,r.state,o):(Xn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class h_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ne(i.error.code,i.error.message))),o?new h_(e,i.state,r):(Xn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class m0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=mS();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=yU(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new m0(e,o):(Xn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HS(t.clientId,t.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $S{constructor(){this.activeTargetIds=mS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new gn(Xe),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=w4(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new $S),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,K.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(w4(e.persistenceKey,r));if(o){const s=m0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(zS(this.persistenceKey,e));if(i){const r=h_.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zS(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return re("SharedClientState","READ",e,t),t}setItem(e,t){re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,K.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=go._e;if(null!=s)try{const c=JSON.parse(s);ke("number"==typeof c),a=c}catch(c){Xn("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==go._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new f0(this.currentUser,e,t,i),o=E4(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=E4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=zS(this.persistenceKey,e),o=new h_(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return m0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return f0.Ts(new Oi(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return h_.Ts(r,t)}Ms(e){return HS.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,K.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=mS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class I4{constructor(){this.eo=new $S,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new $S,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Boe{ro(e){}shutdown(){}}class x4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let p0=null;function GS(){return null===p0?p0=268435456+Math.round(2147483648*Math.random()):p0++,"0x"+p0.toString(16)}const Uoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class joe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const fr="WebChannelConnection";class zoe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=GS(),c=this.So(t,i);re("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,o,s),this.Do(t,c,d,r).then(h=>(re("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Yr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+ff,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${Uoe[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=GS();return new Promise((s,a)=>{const c=new Bie;c.setWithCredentials(!0),c.listenOnce(Fie.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case JD.NO_ERROR:const h=c.getResponseJson();re(fr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case JD.TIMEOUT:re(fr,`RPC '${e}' ${o} timed out`),a(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case JD.HTTP_ERROR:const p=c.getStatus();if(re(fr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(A)>=0?A:B.UNKNOWN}(v.status);a(new ne(b,v.message))}else a(new ne(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ne(B.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{re(fr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);re(fr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",d,i,15)})}vo(e,t,i){const r=GS(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Oie(),a=Nie(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new Vie({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");re(fr,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new joe({co:E=>{v?re(fr,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(g||(re(fr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),re(fr,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},lo:()=>p.close()}),w=(E,A,S)=>{E.listen(A,M=>{try{S(M)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Vw.EventType.OPEN,()=>{v||re(fr,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Vw.EventType.CLOSE,()=>{v||(v=!0,re(fr,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Vw.EventType.ERROR,E=>{v||(v=!0,Yr(fr,`RPC '${e}' stream ${r} transport errored:`,E),b.Ro(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),w(p,Vw.EventType.MESSAGE,E=>{var A;if(!v){const S=E.data[0];ke(!!S);const Y=S.error||(null===(A=S[0])||void 0===A?void 0:A.error);if(Y){re(fr,`RPC '${e}' stream ${r} received error:`,Y);const ue=Y.status;let Ie=function(yo){const eo=ui[yo];if(void 0!==eo)return _j(eo)}(ue),Ze=Y.message;void 0===Ie&&(Ie=B.INTERNAL,Ze="Unknown error status: "+ue+" with message "+Y.message),v=!0,b.Ro(new ne(Ie,Ze)),p.close()}else re(fr,`RPC '${e}' stream ${r} received:`,S),b.Vo(S)}}),w(a,Lie.STAT_EVENT,E=>{E.stat===cU.PROXY?re(fr,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===cU.NOPROXY&&re(fr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function C4(){return typeof window<"u"?window:null}function g0(){return typeof document<"u"?document:null}function f_(n){return new Xre(n,!0)}class WS{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class T4{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new WS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,K.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,K.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,K.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(Xn(t.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===B.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ne(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,K.Z)(function*(){e.state=0,e.start()}))}o_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hoe extends T4{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function toe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ee(),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(ke(void 0===h||"string"==typeof h),xi.fromBase64String(h||"")):(ke(void 0===h||h instanceof Uint8Array),xi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const h=void 0===d.code?B.UNKNOWN:_j(d.code);return new ne(h,d.message||"")}(s);t=new Ej(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=ta(n,i.document.name),o=Jn(i.document.updateTime),s=i.document.createTime?Jn(i.document.createTime):Me.min(),a=new Qi({mapValue:{fields:i.document.fields}}),c=bn.newFoundDocument(r,o,s,a);t=new e0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=ta(n,i.document),o=i.readTime?Jn(i.readTime):Me.min(),s=bn.newNoDocument(r,o);t=new e0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=ta(n,i.document);t=new e0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ee();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new Gre(r,o);t=new wj(i.targetId,s)}}var d;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Me.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Me.min():s.readTime?Jn(s.readTime):Me.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=r_(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=Ww(c)?{documents:Rj(o,c)}:{query:xS(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Tj(o,s.resumeToken);const d=bS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Me.min())>0){a.readTime=Sf(o,s.snapshotVersion.toTimestamp());const d=bS(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function ioe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=r_(this.serializer),t.removeTarget=e,this.e_(t)}}class $oe extends T4{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function noe(n,e){return n&&n.length>0?(ke(void 0!==e),n.map(t=>function(r,o){let s=Jn(r.updateTime?r.updateTime:o);return s.isEqual(Me.min())&&(s=Jn(o)),new zre(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Jn(e.commitTime);return this.listener.I_(i,t)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=r_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>o_(this.serializer,i))};this.e_(t)}}class qoe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ne(B.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(B.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Woe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xn(t),this.f_=!1):re("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Zoe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,K.Z)(function*(){var c;Qc(s)&&(re("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,K.Z)(function*(h){const p=me(h);p.C_.add(4),yield Ff(p),p.M_.set("Unknown"),p.C_.delete(4),yield m_(p)}),function d(h){return c.apply(this,arguments)})(s))}))}),this.M_=new Woe(i,r)}}function m_(n){return KS.apply(this,arguments)}function KS(){return KS=(0,K.Z)(function*(n){if(Qc(n))for(const e of n.v_)yield e(!0)}),KS.apply(this,arguments)}function Ff(n){return QS.apply(this,arguments)}function QS(){return QS=(0,K.Z)(function*(n){for(const e of n.v_)yield e(!1)}),QS.apply(this,arguments)}function _0(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),JS(t)?XS(t):Vf(t).Ho()&&YS(t,e))}function p_(n,e){const t=me(n),i=Vf(t);t.D_.delete(e),i.Ho()&&D4(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Qc(t)&&t.M_.set("Unknown"))}function YS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vf(n).u_(e)}function D4(n,e){n.x_.Oe(e),Vf(n).c_(e)}function XS(n){n.x_=new Zre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Vf(n).start(),n.M_.g_()}function JS(n){return Qc(n)&&!Vf(n).jo()&&n.D_.size>0}function Qc(n){return 0===me(n).C_.size}function S4(n){n.x_=void 0}function Koe(n){return eA.apply(this,arguments)}function eA(){return eA=(0,K.Z)(function*(n){n.D_.forEach((e,t)=>{YS(n,e)})}),eA.apply(this,arguments)}function Qoe(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,K.Z)(function*(n,e){S4(n),JS(n)?(n.M_.w_(e),XS(n)):n.M_.set("Unknown")}),tA.apply(this,arguments)}function Yoe(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,K.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof Ej&&2===e.state&&e.cause)try{yield(i=(0,K.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield v0(n,i)}else if(e instanceof e0?n.x_.$e(e):e instanceof wj?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Me.min()))try{const i=yield g4(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(d);h&&o.D_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(xi.EMPTY_BYTE_STRING,h.snapshotVersion)),D4(o,c);const p=new Ba(h.target,c,d,h.sequenceNumber);YS(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){re("RemoteStore","Failed to raise snapshot:",i),yield v0(n,i)}var i}),nA.apply(this,arguments)}function v0(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,K.Z)(function*(n,e,t){if(!Vc(e))throw e;n.C_.add(1),yield Ff(n),n.M_.set("Offline"),t||(t=()=>g4(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){re("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield m_(n)}))}),iA.apply(this,arguments)}function A4(n,e){return e().catch(t=>v0(n,t,e))}function Lf(n){return rA.apply(this,arguments)}function rA(){return rA=(0,K.Z)(function*(n){const e=me(n),t=Yc(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Xoe(e);)try{const r=yield Foe(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Joe(e,r)}catch(r){yield v0(e,r)}k4(e)&&M4(e)}),rA.apply(this,arguments)}function Xoe(n){return Qc(n)&&n.b_.length<10}function Joe(n,e){n.b_.push(e);const t=Yc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function k4(n){return Qc(n)&&!Yc(n).jo()&&n.b_.length>0}function M4(n){Yc(n).start()}function ese(n){return oA.apply(this,arguments)}function oA(){return oA=(0,K.Z)(function*(n){Yc(n).E_()}),oA.apply(this,arguments)}function tse(n){return sA.apply(this,arguments)}function sA(){return sA=(0,K.Z)(function*(n){const e=Yc(n);for(const t of n.b_)e.P_(t.mutations)}),sA.apply(this,arguments)}function nse(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,K.Z)(function*(n,e,t){const i=n.b_.shift(),r=_S.from(i,e,t);yield A4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Lf(n)}),aA.apply(this,arguments)}function ise(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,K.Z)(function*(n,e){var t;e&&Yc(n).h_&&(yield(t=(0,K.Z)(function*(r,o){if(gj(a=o.code)&&a!==B.ABORTED){const s=r.b_.shift();Yc(r).Yo(),yield A4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Lf(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),k4(n)&&M4(n)}),cA.apply(this,arguments)}function R4(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,K.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const i=Qc(t);t.C_.add(3),yield Ff(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield m_(t)}),lA.apply(this,arguments)}function dA(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,K.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield m_(t)):e||(t.C_.add(2),yield Ff(t),t.M_.set("Unknown"))}),uA.apply(this,arguments)}function Vf(n){return n.O_||(n.O_=function(t,i,r){const o=me(t);return o.A_(),new Hoe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Koe.bind(null,n),Io:Qoe.bind(null,n),a_:Yoe.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.O_.Yo(),JS(n)?XS(n):n.M_.set("Unknown")):(yield n.O_.stop(),S4(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Yc(n){return n.N_||(n.N_=function(t,i,r){const o=me(t);return o.A_(),new $oe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:ese.bind(null,n),Io:ise.bind(null,n),T_:tse.bind(null,n),I_:nse.bind(null,n)}),n.v_.push(function(){var e=(0,K.Z)(function*(t){t?(n.N_.Yo(),yield Lf(n)):(yield n.N_.stop(),n.b_.length>0&&(re("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class hA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new hA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bf(n,e){if(Xn("AsyncQueue",`${e}: ${n}`),Vc(n))return new ne(B.UNAVAILABLE,`${e}: ${n}`);throw n}class Uf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Qg(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new Uf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Uf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class P4{constructor(){this.B_=new gn(ge.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ee():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class jf{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new jf(e,t,Uf.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class rse{constructor(){this.k_=void 0,this.listeners=[]}}class ose{constructor(){this.queries=new La(e=>YU(e),Zg),this.onlineState="Unknown",this.q_=new Set}}function fA(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,K.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new rse),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Bf(s,`Initialization of query '${If(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&_A(t)}),mA.apply(this,arguments)}function pA(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,K.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),gA.apply(this,arguments)}function sse(n,e){const t=me(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&_A(t)}function ase(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function _A(n){n.q_.forEach(e=>{e.next()})}class vA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new jf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=jf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class cse{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class O4{constructor(e){this.serializer=e}hs(e){return ta(this.serializer,e)}Ps(e){return e.metadata.exists?Mj(this.serializer,e.document,!1):bn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Jn(e)}}class lse{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=N4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=St.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new O4(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||ot()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,K.Z)(function*(){const t=yield function Loe(n,e,t,i){return US.apply(this,arguments)}(e.localStore,new O4(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield Voe(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function N4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class F4{constructor(e){this.key=e}}class L4{constructor(e){this.key=e}}class V4{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=JU(e),this.aa=new Uf(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new P4,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=Kg(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),E=!0):this.ha(g,v)||(i.track({type:2,doc:v}),E=!0,(c&&this._a(v,c)>0||d&&this._a(v,d)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),E=!0):g&&!v&&(i.track({type:1,doc:g}),E=!0,(c||d)&&(a=!0)),E&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(g)-b(v)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new jf(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new P4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new L4(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new F4(i))}),t}da(e){this.ia=e.ls,this.oa=ot();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return jf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class dse{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class use{constructor(e){this.key=e,this.Ra=!1}}class hse{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new La(a=>YU(a),Zg),this.fa=new Map,this.ga=new Set,this.pa=new gn(ge.comparator),this.ya=new Map,this.wa=new RS,this.Sa={},this.ba=new Map,this.Da=Vd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function fse(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,K.Z)(function*(n,e){const t=zA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Of(t.localStore,Or(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield bA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&_0(t.remoteStore,s)}return r}),yA.apply(this,arguments)}function bA(n,e,t,i,r){return wA.apply(this,arguments)}function wA(){return wA=(0,K.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,K.Z)(function*(E,A,S,M){let Y=A.view.ca(S);Y.Zi&&(Y=yield h0(E.localStore,A.query,!1).then(({documents:Ze})=>A.view.ca(Ze,Y)));const ue=M&&M.targetChanges.get(A.targetId),Ie=A.view.applyChanges(Y,E.isPrimaryClient,ue);return MA(E,A.targetId,Ie.Ta),Ie.snapshot}),function w(E,A,S,M){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield h0(n.localStore,e,!0),s=new V4(e,o.ls),a=s.ca(o.documents),c=n_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=s.applyChanges(a,n.isPrimaryClient,c);MA(n,t,d.Ta);const h=new dse(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),wA.apply(this,arguments)}function mse(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,K.Z)(function*(n,e){const t=me(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Zg(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),p_(t.remoteStore,i.targetId),zf(t,i.targetId)}).catch(Lc))):(zf(t,i.targetId),yield Nf(t.localStore,i.targetId,!0))}),EA.apply(this,arguments)}function IA(){return IA=(0,K.Z)(function*(n,e,t){const i=HA(n);try{const r=yield function(s,a){const c=me(s),d=Sn.now(),h=a.reduce((v,b)=>v.add(b.key),ot());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Jr(),w=ot();return c.ss.getEntries(v,h).next(E=>{b=E,b.forEach((A,S)=>{S.isValidDocument()||(w=w.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(E=>{p=E;const A=[];for(const S of a){const M=$re(S,p.get(S.key).overlayedDocument);null!=M&&A.push(new Va(S.key,M,FU(M.value.mapValue),An.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,A,a)}).next(E=>{g=E;const A=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,E.batchId,A)})}).then(()=>({batchId:g.batchId,changes:tj(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Sa[s.currentUser.toKey()];d||(d=new gn(Xe)),d=d.insert(a,c),s.Sa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield Ua(i,r.changes),yield Lf(i.remoteStore)}catch(r){const o=Bf(r,"Failed to persist write");t.reject(o)}}),IA.apply(this,arguments)}function B4(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,K.Z)(function*(n,e){const t=me(n);try{const i=yield function Noe(n,e){const t=me(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,E,A;null!==e.targetMismatches.get(p)?v=v.withResumeToken(xi.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),E=v,A=h,(0===(w=g).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Jr(),d=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_4(o,s,e.documentUpdates).next(h=>{c=h.us,d=h.cs})),!i.isEqual(Me.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?ke(s.Ra):r.removedDocuments.size>0&&(ke(s.Ra),s.Ra=!1))}),yield Ua(t,i,e)}catch(i){yield Lc(i)}}),xA.apply(this,arguments)}function U4(n,e,t){const i=me(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=me(s);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(d=!0)}),d&&_A(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function gse(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,K.Z)(function*(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new gn(ge.comparator);s=s.insert(o,bn.newNoDocument(o,Me.min()));const a=ot().add(o),c=new t_(Me.min(),new Map,new gn(Xe),s,a);yield B4(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),RA(i)}else yield Nf(i.localStore,e,!1).then(()=>zf(i,e,t)).catch(Lc)}),CA.apply(this,arguments)}function _se(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,K.Z)(function*(n,e){const t=me(n),i=e.batch.batchId;try{const r=yield function Ooe(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,g=p.keys();let v=P.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const E=d.docVersions.get(b);ke(null!==E),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ot();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);kA(t,i,null),AA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ua(t,r)}catch(r){yield Lc(r)}}),TA.apply(this,arguments)}function vse(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,K.Z)(function*(n,e,t){const i=me(n);try{const r=yield function(s,a){const c=me(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(ke(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);kA(i,e,t),AA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ua(i,r)}catch(r){yield Lc(r)}}),DA.apply(this,arguments)}function SA(){return SA=(0,K.Z)(function*(n,e){const t=me(n);Qc(t.remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=me(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Bf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),SA.apply(this,arguments)}function AA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function kA(n,e,t){const i=me(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function zf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||j4(n,i)})}function j4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(p_(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),RA(n))}function MA(n,e,t){for(const i of t)i instanceof F4?(n.wa.addReference(i.key,e),bse(n,i)):i instanceof L4?(re("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||j4(n,i.key)):Ee()}function bse(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(re("SyncEngine","New document in limbo: "+t),n.ga.add(i),RA(n))}function RA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ge(St.fromString(e)),i=n.Da.next();n.ya.set(i,new use(t)),n.pa=n.pa.insert(t,i),_0(n.remoteStore,new Ba(Or(wf(t.path)),i,"TargetPurposeLimboResolution",go._e))}}function Ua(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,K.Z)(function*(n,e,t){const i=me(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(d=>{if((d||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);const h=LS.Qi(c.targetId,d);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,K.Z)(function*(d,h){const p=me(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(h,v=>P.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>P.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!Vc(g))throw g;re("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,E)}}}),function c(d,h){return a.apply(this,arguments)})(i.localStore,o))}),PA.apply(this,arguments)}function wse(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,K.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const i=yield p4(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new ne(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ua(t,i._s)}var o}),OA.apply(this,arguments)}function Ese(n,e){const t=me(n),i=t.ya.get(e);if(i&&i.Ra)return ot().add(i.key);{let r=ot();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function Ise(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,K.Z)(function*(n,e){const t=me(n),i=yield h0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&MA(t,e.targetId,r.Ta),r}),NA.apply(this,arguments)}function xse(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,K.Z)(function*(n,e){const t=me(n);return y4(t.localStore,e).then(i=>Ua(t,i))}),FA.apply(this,arguments)}function Cse(n,e,t,i){return LA.apply(this,arguments)}function LA(){return LA=(0,K.Z)(function*(n,e,t,i){const r=me(n),o=yield function(a,c){const d=me(a),h=me(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?d.localDocuments.getDocuments(p,g):P.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Lf(r.remoteStore):"acknowledged"===t||"rejected"===t?(kA(r,e,i||null),AA(r,e),c=e,me(me(r.localStore).mutationQueue).Fn(c)):Ee(),yield Ua(r,o)):re("SyncEngine","Cannot apply mutation batch with id: "+e)}),LA.apply(this,arguments)}function VA(){return VA=(0,K.Z)(function*(n,e){const t=me(n);if(zA(t),HA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield z4(t,i.toArray());t.Ca=!0,yield dA(t.remoteStore,!0);for(const o of r)_0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(zf(t,s),Nf(t.localStore,s,!0))),p_(t.remoteStore,s)}),yield r,yield z4(t,i),function(s){const a=me(s);a.ya.forEach((c,d)=>{p_(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new gn(ge.comparator)}(t),t.Ca=!1,yield dA(t.remoteStore,!1)}}),VA.apply(this,arguments)}function z4(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,K.Z)(function*(n,e,t){const i=me(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield Of(i.localStore,Or(c[0]));for(const d of c){const h=i.ma.get(d),p=yield Ise(i,h);p.snapshot&&o.push(p.snapshot)}}else{const d=yield v4(i.localStore,s);a=yield Of(i.localStore,d),yield bA(i,H4(d),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),BA.apply(this,arguments)}function H4(n){return ZU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Dse(n){return t=me(n).localStore,me(me(t).persistence).Bi();var t}function Sse(n,e,t,i){return UA.apply(this,arguments)}function UA(){return UA=(0,K.Z)(function*(n,e,t,i){const r=me(n);if(r.Ca)return void re("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield y4(r.localStore,XU(o[0])),a=t_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,xi.EMPTY_BYTE_STRING);yield Ua(r,s,a);break}case"rejected":yield Nf(r.localStore,e,!0),zf(r,e,i);break;default:Ee()}}),UA.apply(this,arguments)}function Ase(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,K.Z)(function*(n,e,t){const i=zA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){re("SyncEngine","Adding an already active target "+r);continue}const o=yield v4(i.localStore,r),s=yield Of(i.localStore,o);yield bA(i,H4(o),s.targetId,!1,s.resumeToken),_0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield Nf(i.localStore,r,!1).then(()=>{p_(i.remoteStore,r),zf(i,r)}).catch(Lc))}}),jA.apply(this,arguments)}function zA(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=B4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ese.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gse.bind(null,e),e.Va.a_=sse.bind(null,e.eventManager),e.Va.Fa=ase.bind(null,e.eventManager),e}function HA(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_se.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vse.bind(null,e),e}class g_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.serializer=f_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return m4(this.persistence,new f4,e.initialUser,this.serializer)}createPersistence(e){return new PS(l0.jr,this.serializer)}createSharedClientState(e){return new I4}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $A extends g_{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield HA(i.xa.syncEngine),yield Lf(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return m4(this.persistence,new f4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new r4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new nre(t,this.persistence);return new tre(e.asyncQueue,i)}createPersistence(e){const t=FS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new NS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,C4(),g0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new I4}}class $4 extends $A{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof qS&&(i.sharedClientState.syncEngine={Ys:Cse.bind(null,r),Zs:Sse.bind(null,r),Xs:Ase.bind(null,r),Bi:Dse.bind(null,r),Js:xse.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,K.Z)(function*(s){yield function Tse(n,e){return VA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=C4();if(!qS.D(t))throw new ne(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=FS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Hf{initialize(e,t){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>U4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=wse.bind(null,i.syncEngine),yield dA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ose}createDatastore(e){const t=f_(e.databaseInfo.databaseId),i=new zoe(e.databaseInfo);return new qoe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>U4(this.syncEngine,t,0),a=x4.D()?new x4:new Boe,new Zoe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,d,h){const p=new hse(r,o,s,a,c,d);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(i){const r=me(i);re("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Ff(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function q4(n,e=10240){let t=0;return{read:()=>(0,K.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class y0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Rse{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,K.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,K.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,K.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new cse(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,K.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,K.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,K.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Pse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ne(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,a){const c=me(s),d=r_(c.serializer)+"/documents",h={documents:a.map(b=>i_(c.serializer,b))},p=yield c.Co("BatchGetDocuments",d,h,a.length),g=new Map;p.forEach(b=>{const w=function eoe(n,e){return"found"in e?function(i,r){ke(!!r.found);const o=ta(i,r.found.name),s=Jn(r.found.updateTime),a=r.found.createTime?Jn(r.found.createTime):Me.min(),c=new Qi({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){ke(!!r.missing),ke(!!r.readTime);const o=ta(i,r.missing),s=Jn(r.readTime);return bn.newNoDocument(o,s)}(n,e):Ee()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());ke(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Df(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ge.fromPath(r);e.mutations.push(new pS(o,e.precondition(o)))}),yield(i=(0,K.Z)(function*(o,s){const a=me(o),c=r_(a.serializer)+"/documents",d={writes:s.map(h=>o_(a.serializer,h))};yield a.wo("Commit",c,d)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Me.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ne(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?An.exists(!1):An.updateTime(t):An.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new ne(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(t)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ose{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new WS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,K.Z)(function*(){const t=new Pse(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Ug(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!gj(t)}return!1}}class Nse{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Oi.UNAUTHENTICATED,this.clientId=hU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,K.Z)(function*(a){re("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Bf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function b0(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(o){i.isEqual(o)||(yield p4(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),qA.apply(this,arguments)}function GA(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZA(n);re("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>R4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>R4(e.remoteStore,o)),n._onlineComponents=e}),WA.apply(this,arguments)}function G4(n){return"FirebaseError"===n.name?n.code===B.FAILED_PRECONDITION||n.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ZA(n){return KA.apply(this,arguments)}function KA(){return KA=(0,K.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield b0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!G4(t))throw t;Yr("Error using user provided cache. Falling back to memory cache: "+t),yield b0(n,new g_)}}else re("FirestoreClient","Using default OfflineComponentProvider"),yield b0(n,new g_);return n._offlineComponents}),KA.apply(this,arguments)}function w0(n){return QA.apply(this,arguments)}function QA(){return QA=(0,K.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),yield GA(n,n._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),yield GA(n,new Hf))),n._onlineComponents}),QA.apply(this,arguments)}function W4(n){return ZA(n).then(e=>e.persistence)}function $f(n){return ZA(n).then(e=>e.localStore)}function Z4(n){return w0(n).then(e=>e.remoteStore)}function YA(n){return w0(n).then(e=>e.syncEngine)}function qf(n){return XA.apply(this,arguments)}function XA(){return XA=(0,K.Z)(function*(n){const e=yield w0(n),t=e.eventManager;return t.onListen=fse.bind(null,e.syncEngine),t.onUnlisten=mse.bind(null,e.syncEngine),t}),XA.apply(this,arguments)}function Q4(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new y0({next:g=>{s.enqueueAndForget(()=>pA(o,p));const v=g.docs.has(a);!v&&g.fromCache?d.reject(new ne(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?d.reject(new ne(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new vA(wf(a.path),h,{includeMetadataChanges:!0,J_:!0});return fA(o,p)}(yield qf(n),n.asyncQueue,e,t,i)})),i.promise}function Y4(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(o,s,a,c,d){const h=new y0({next:g=>{s.enqueueAndForget(()=>pA(o,p)),g.fromCache&&"server"===c.source?d.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new vA(a,h,{includeMetadataChanges:!0,J_:!0});return fA(o,p)}(yield qf(n),n.asyncQueue,e,t,i)})),i.promise}function X4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const J4=new Map;function JA(n,e,t){if(!t)throw new ne(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function e3(n,e,t,i){if(!0===e&&!0===i)throw new ne(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t3(n){if(!ge.isDocumentKey(n))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n3(n){if(ge.isDocumentKey(n))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function E0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ee()}function vt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=E0(n);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function r3(n,e){if(e<=0)throw new ne(B.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class o3{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=X4(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class __{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o3(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Hie;switch(i.type){case"firstParty":return new Wie(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=J4.get(t);i&&(re("ComponentProvider","Removing Datastore"),J4.delete(t),i.terminate())}(this),Promise.resolve()}}class Yi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class na extends Yi{constructor(e,t,i){super(e,t,wf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ge(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function a3(n,e,...t){if(n=(0,ln.m9)(n),JA("collection","path",e),n instanceof __){const i=St.fromString(e,...t);return n3(i),new na(n,null,i)}{if(!(n instanceof wn||n instanceof na))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return n3(i),new na(n.firestore,null,i)}}function I0(n,e,...t){if(n=(0,ln.m9)(n),1===arguments.length&&(e=hU.newId()),JA("doc","path",e),n instanceof __){const i=St.fromString(e,...t);return t3(i),new wn(n,null,new ge(i))}{if(!(n instanceof wn||n instanceof na))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return t3(i),new wn(n.firestore,n instanceof na?n.converter:null,new ge(i))}}function c3(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),(n instanceof wn||n instanceof na)&&(e instanceof wn||e instanceof na)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ek(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&Zg(n._query,e._query)&&n.converter===e.converter}class Wse{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new WS(this,"async_queue_retry"),this.iu=()=>{const t=g0();t&&re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=g0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=g0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Ii;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,K.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Vc(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=hA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Ee()}verifyOperationInProgress(){}uu(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function tk(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Zse{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _n extends __{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Wse,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||l3(this),this._firestoreClient.terminate()}}function zn(n){return n._firestoreClient||l3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function l3(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ire(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,X4(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new Nse(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function d3(n,e,t){const i=new Ii;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield b0(n,t),yield GA(n,e),i.resolve()}catch(r){const o=r;if(!G4(o))throw o;Yr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function u3(n){if(n._initialized||n._terminated)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(xi.fromBase64String(e))}catch(t){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ia(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ja{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ud{constructor(e){this._methodName=e}}class x0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}const oae=/^__.*__$/;class sae{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tf(e,this.data,t,this.fieldTransforms)}}class h3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class C0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new C0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return S0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(f3(this.Iu)&&oae.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class aae{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||f_(e)}pu(e,t,i,r=!1){return new C0({Iu:e,methodName:t,gu:i,path:yn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(n){const e=n._freezeSettings(),t=f_(n._databaseId);return new aae(n._databaseId,!!e.ignoreUndefinedProperties,t)}function T0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);ok("Data must be an object, but it was:",s,i);const a=g3(i,s);let c,d;if(o.merge)c=new Xr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=b_(e,p,t);if(!s.contains(g))throw new ne(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);v3(h,g)||h.push(g)}c=new Xr(h),d=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=s.fieldTransforms;return new sae(new Qi(a),c,d)}class y_ extends Ud{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof y_}}function m3(n,e,t){return new C0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nk extends Ud{_toFieldTransform(e){return new Xg(e.path,new xf)}isEqual(e){return e instanceof nk}}class cae extends Ud{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=m3(this,e,!0),i=this.yu.map(o=>zd(o,t)),r=new Md(i);return new Xg(e.path,r)}isEqual(e){return this===e}}class lae extends Ud{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=m3(this,e,!0),i=this.yu.map(o=>zd(o,t)),r=new Rd(i);return new Xg(e.path,r)}isEqual(e){return this===e}}class dae extends Ud{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Cf(e.serializer,oj(e.serializer,this.wu));return new Xg(e.path,t)}isEqual(e){return this===e}}function ik(n,e,t,i){const r=n.pu(1,e,t);ok("Data must be an object, but it was:",r,i);const o=[],s=Qi.empty();Bc(i,(c,d)=>{const h=D0(e,c,t);d=(0,ln.m9)(d);const p=r.Ru(h);if(d instanceof y_)o.push(h);else{const g=zd(d,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Xr(o);return new h3(s,a,r.fieldTransforms)}function rk(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[b_(e,i,t)],c=[r];if(o.length%2!=0)throw new ne(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(b_(e,o[g])),c.push(o[g+1]);const d=[],h=Qi.empty();for(let g=a.length-1;g>=0;--g)if(!v3(d,a[g])){const v=a[g];let b=c[g];b=(0,ln.m9)(b);const w=s.Ru(v);if(b instanceof y_)d.push(v);else{const E=zd(b,w);null!=E&&(d.push(v),h.set(v,E))}}const p=new Xr(d);return new h3(h,p,s.fieldTransforms)}function p3(n,e,t,i=!1){return zd(t,n.pu(i?4:3,e))}function zd(n,e){if(_3(n=(0,ln.m9)(n)))return ok("Unsupported field value:",e,n),g3(n,e);if(n instanceof Ud)return function(i,r){if(!f3(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=zd(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,ln.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return oj(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Sn.fromDate(i);return{timestampValue:Sf(r.serializer,o)}}if(i instanceof Sn){const o=new Sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sf(r.serializer,o)}}if(i instanceof x0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ia)return{bytesValue:Tj(r.serializer,i._byteString)};if(i instanceof wn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wS(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${E0(i)}`)}(n,e)}function g3(n,e){const t={};return DU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(n,(i,r)=>{const o=zd(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function _3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sn||n instanceof x0||n instanceof ia||n instanceof wn||n instanceof Ud)}function ok(n,e,t){if(!_3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=E0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function b_(n,e,t){if((e=(0,ln.m9)(e))instanceof ja)return e._internalPath;if("string"==typeof e)return D0(n,e);throw S0("Field path arguments must be of type string or ",n,!1,void 0,t)}const uae=new RegExp("[~\\*/\\[\\]]");function D0(n,e,t){if(e.search(uae)>=0)throw S0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ja(...e.split("."))._internalPath}catch{throw S0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function S0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new ne(B.INVALID_ARGUMENT,a+n+c)}function v3(n,e){return n.some(t=>t.isEqual(e))}class w_{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hae extends w_{data(){return super.data()}}function A0(n,e){return"string"==typeof e?D0(n,e):e instanceof ja?e._internalPath:e._delegate._internalPath}function y3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sk{}class E_ extends sk{}function Xc(n,e,...t){let i=[];e instanceof sk&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof Gf).length,a=o.filter(c=>c instanceof I_).length;if(s>1||s>0&&a>0)throw new ne(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class I_ extends E_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new I_(e,t,i)}_apply(e){const t=this._parse(e);return I3(e._query,t),new Yi(e.firestore,e.converter,fS(e._query,t))}_parse(e){const t=jd(e.firestore);return function(o,s,a,c,d,h,p){let g;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){E3(p,h);const v=[];for(const b of p)v.push(w3(c,o,b));g={arrayValue:{values:v}}}else g=w3(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||E3(p,h),g=p3(a,"where",p,"in"===h||"not-in"===h);return Et.create(d,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Gf extends sk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Jt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)I3(s,c),s=fS(s,c)}(e._query,t),new Yi(e.firestore,e.converter,fS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ak extends E_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ak(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gg(o,s)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Fa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class k0 extends E_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new k0(e,t,i)}_apply(e){return new Yi(e.firestore,e.converter,Kw(e._query,this._limit,this._limitType))}}class M0 extends E_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new M0(e,t,i)}_apply(e){const t=b3(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(o=t,new Fa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class R0 extends E_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new R0(e,t,i)}_apply(e){const t=b3(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(o=t,new Fa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function b3(n,e,t,i){if(t[0]=(0,ln.m9)(t[0]),t[0]instanceof w_)return function(o,s,a,c,d){if(!c)throw new ne(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of Ef(o))if(p.field.isKeyField())h.push(Ad(s,c.key));else{const g=c.data.field(p.field);if(zw(g))throw new ne(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new ne(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new qc(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=jd(n.firestore);return function(s,a,c,d,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new ne(B.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new ne(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!hS(s)&&-1!==w.indexOf("/"))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const E=s.path.child(St.fromString(w));if(!ge.isDocumentKey(E))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const A=new ge(E);v.push(Ad(a,A))}else{const E=p3(c,d,w);v.push(E)}}return new qc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function w3(n,e,t){if("string"==typeof(t=(0,ln.m9)(t))){if(""===t)throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&-1!==t.indexOf("/"))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(St.fromString(t));if(!ge.isDocumentKey(i))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ad(n,new ge(i))}if(t instanceof wn)return Ad(n,t._key);throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E0(t)}.`)}function E3(n,e){if(!Array.isArray(n)||0===n.length)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I3(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ne(B.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ck{convertValue(e,t="none"){switch(Hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Bc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new x0(jn(e.latitude),jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Hw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zg(e));default:return null}}convertTimestamp(e){const t=Uc(e);return new Sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=St.fromString(e);ke(Fj(i));const r=new jc(i.get(1),i.get(3)),o=new ge(i.popFirst(5));return r.isEqual(t)||Xn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function P0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class wae extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class za extends w_{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new x_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class x_ extends za{data(e={}){return super.data(e)}}class Jc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new x_(this._firestore,this._userDataWriter,i.key,i,new Hd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new x_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Hd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new x_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Hd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Iae(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Iae(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function C3(n,e){return n instanceof za&&e instanceof za?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jc&&e instanceof Jc&&n._firestore===e._firestore&&ek(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class el extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function T3(n,e,t){n=vt(n,wn);const i=vt(n.firestore,_n),r=P0(n.converter,e,t);return Wf(i,[T0(jd(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,An.none())])}function D3(n,e,t,...i){n=vt(n,wn);const r=vt(n.firestore,_n),o=jd(r);let s;return s="string"==typeof(e=(0,ln.m9)(e))||e instanceof ja?rk(o,"updateDoc",n._key,e,t,i):ik(o,"updateDoc",n._key,e),Wf(r,[s.toMutation(n._key,An.exists(!0))])}function S3(n,...e){var t,i,r;n=(0,ln.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||tk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(tk(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,d,h;if(n instanceof wn)d=vt(n.firestore,_n),h=wf(n._key.path),c={next:p=>{e[s]&&e[s](lk(d,n,p))},error:e[s+1],complete:e[s+2]};else{const p=vt(n,Yi);d=vt(p.firestore,_n),h=p._query;const g=new el(d);c={next:v=>{e[s]&&e[s](new Jc(d,g,p,v))},error:e[s+1],complete:e[s+2]},y3(n._query)}return function(g,v,b,w){const E=new y0(w),A=new vA(v,E,b);return g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return fA(yield qf(g),A)})),()=>{E.Na(),g.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return pA(yield qf(g),A)}))}}(zn(d),h,a,c)}function Wf(n,e){return function(i,r){const o=new Ii;return i.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function pse(n,e,t){return IA.apply(this,arguments)}(yield YA(i),r,o)})),o.promise}(zn(n),e)}function lk(n,e,t){const i=t.docs.get(e._key),r=new el(n);return new za(n,r,e._key,i,new Hd(t.hasPendingWrites,t.fromCache),e.converter)}const jae={maxAttempts:5};class A3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jd(e)}set(e,t,i){this._verifyNotCommitted();const r=tl(e,this._firestore),o=P0(r.converter,t,i),s=T0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,An.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=tl(e,this._firestore);let s;return s="string"==typeof(t=(0,ln.m9)(t))||t instanceof ja?rk(this._dataReader,"WriteBatch.update",o._key,t,i,r):ik(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tl(e,this._firestore);return this._mutations=this._mutations.concat(new Df(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ne(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tl(n,e){if((n=(0,ln.m9)(n)).firestore!==e)throw new ne(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zae extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=jd(t)}get(t){const i=tl(t,this._firestore),r=new wae(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Ee();const s=o[0];if(s.isFoundDocument())return new w_(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new w_(this._firestore,r,i._key,null,i.converter);throw Ee()})}set(t,i,r){const o=tl(t,this._firestore),s=P0(o.converter,i,r),a=T0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=tl(t,this._firestore);let a;return a="string"==typeof(i=(0,ln.m9)(i))||i instanceof ja?rk(this._dataReader,"Transaction.update",s._key,i,r,o):ik(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=tl(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tl(e,this._firestore),i=new el(this._firestore);return super.get(e).then(r=>new za(this._firestore,i,t._key,r._document,new Hd(!1,!1),t.converter))}}function uk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function P3(){if(typeof Uint8Array>"u")throw new ne("unimplemented","Uint8Arrays are not available in this environment.")}function O3(){if(!function wre(){return typeof atob<"u"}())throw new ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){ff=ef.SDK_VERSION,(0,ef._registerComponent)(new GV.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new _n(new qie(i.getProvider("auth-internal")),new Zie(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,ef.registerVersion)(lU,"4.3.2",e),(0,ef.registerVersion)(lU,"4.3.2","esm2017")}();class C_{constructor(e){this._delegate=e}static fromBase64String(e){return O3(),new C_(ia.fromBase64String(e))}static fromUint8Array(e){return P3(),new C_(ia.fromUint8Array(e))}toBase64(){return O3(),this._delegate.toBase64()}toUint8Array(){return P3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hk(n){return function Xae(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Jae{enableIndexedDbPersistence(e,t){return function Qse(n,e){u3(n=vt(n,_n));const t=zn(n);if(t._uninitializedComponentsProvider)throw new ne(B.FAILED_PRECONDITION,"SDK cache is already specified.");Yr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Hf;return d3(t,r,new $A(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Yse(n){u3(n=vt(n,_n));const e=zn(n);if(e._uninitializedComponentsProvider)throw new ne(B.FAILED_PRECONDITION,"SDK cache is already specified.");Yr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Hf;return d3(e,i,new $4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Xse(n){if(n._initialized&&!n._terminated)throw new ne(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(t=(0,K.Z)(function*(r){if(!ys.D())return Promise.resolve();const o=r+"main";yield ys.delete(o)}),function i(r){return t.apply(this,arguments)})(FS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class N3{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof jc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function s3(n,e,t,i={}){var r;const o=(n=vt(n,__))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Oi.MOCK_USER;else{a=(0,ln.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Oi(d)}n._authCredentials=new $ie(new dU(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function eae(n){return function Fse(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield W4(n),t=yield Z4(n);return e.setNetworkEnabled(!0),function(r){const o=me(r);return o.C_.delete(0),m_(o)}(t)}))}(zn(n=vt(n,_n)))}(this._delegate)}disableNetwork(){return function tae(n){return function Lse(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const e=yield W4(n),t=yield Z4(n);return e.setNetworkEnabled(!1),(i=(0,K.Z)(function*(o){const s=me(o);s.C_.add(0),yield Ff(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(zn(n=vt(n,_n)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,e3("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Jse(n){return function(t){const i=new Ii;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function yse(n,e){return SA.apply(this,arguments)}(yield YA(t),i)})),i.promise}(zn(n=vt(n,_n)))}(this._delegate)}onSnapshotsInSync(e){return function Rae(n,e){return function Use(n,e){const t=new y0(e);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield qf(n),o=t,me(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return r=yield qf(n),o=t,void me(r).q_.delete(o);var r,o}))}}(zn(n=vt(n,_n)),tk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zf(this,a3(this._delegate,e))}catch(t){throw Nr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Uo(this,I0(this._delegate,e))}catch(t){throw Nr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Fr(this,function Gse(n,e){if(n=vt(n,__),JA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(i=e,new Fa(St.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Nr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Hae(n,e,t){n=vt(n,_n);const i=Object.assign(Object.assign({},jae),t);return function(o){if(o.maxAttempts<1)throw new ne(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new Ii;return o.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const d=yield function K4(n){return w0(n).then(e=>e.datastore)}(o);new Ose(o.asyncQueue,d,a,s,c).run()})),c.promise}(zn(n),r=>e(new zae(n,r)),i)}(this._delegate,t=>e(new F3(this,t)))}batch(){return zn(this._delegate),new L3(new A3(this._delegate,e=>Wf(this._delegate,e)))}loadBundle(e){return function nae(n,e){const t=zn(n=vt(n,_n)),i=new Zse;return function jse(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?vj().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return q4(h,p);if(h instanceof ArrayBuffer)return q4(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Rse(h,a);var h}(t,f_(e));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function kse(n,e,t){const i=me(n);var r;(r=(0,K.Z)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(b,w){const E=me(b),A=Jn(w.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",S=>E.Kr.getBundleMetadata(S,w.id)).then(S=>!!S&&S.createTime.compareTo(A)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=d).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(N4(d));const h=new lse(d,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield Ua(s,g.ra,void 0),yield function(b,w){const E=me(b);return E.persistence.runTransaction("Save bundle","readwrite",A=>E.Kr.saveBundleMetadata(A,w))}(s.localStore,d),c._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return Yr("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield YA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function iae(n,e){return function zse(n,e){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(i,r){const o=me(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield $f(n),e)}))}(zn(n=vt(n,_n)),e).then(t=>t?new Yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Fr(this,t):null)}}class N0 extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new C_(new ia(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Uo.forKey(t,this.firestore,null)}}class F3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new N0(e)}get(e){const t=qd(e);return this._delegate.get(t).then(i=>new T_(this._firestore,new za(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=qd(e);return i?(uk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=qd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=qd(e);return this._delegate.delete(t),this}}class L3{constructor(e){this._delegate=e}set(e,t,i){const r=qd(e);return i?(uk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=qd(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=qd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $d{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new x_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new D_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=$d.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new $d(e,new N0(e),t),r.set(t,o)),o}}$d.INSTANCES=new WeakMap;class Uo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new N0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Uo(t,new wn(t._delegate,i,new ge(e)))}static forKey(e,t,i){return new Uo(t,new wn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Zf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zf(this.firestore,a3(this._delegate,e))}catch(t){throw Nr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ln.m9)(e))instanceof wn&&c3(this._delegate,e)}set(e,t){t=uk("DocumentReference.set",t);try{return t?T3(this._delegate,e,t):T3(this._delegate,e)}catch(i){throw Nr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?D3(this._delegate,e):D3(this._delegate,e,t,...i)}catch(r){throw Nr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function kae(n){return Wf(vt(n.firestore,_n),[new Df(n._key,An.none())])}(this._delegate)}onSnapshot(...e){const t=V3(e),i=B3(e,r=>new T_(this.firestore,new za(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return S3(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Cae(n){n=vt(n,wn);const e=vt(n.firestore,_n),t=zn(e),i=new el(e);return function Vse(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=me(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ne(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=Bf(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield $f(n),e,t);var i})),t.promise}(t,n._key).then(r=>new za(e,i,n._key,r,new Hd(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Tae(n){n=vt(n,wn);const e=vt(n.firestore,_n);return Q4(zn(e),n._key,{source:"server"}).then(t=>lk(e,n,t))}(this._delegate):function xae(n){n=vt(n,wn);const e=vt(n.firestore,_n);return Q4(zn(e),n._key).then(t=>lk(e,n,t))}(this._delegate),t.then(i=>new T_(this.firestore,new za(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Uo(this.firestore,this._delegate.withConverter(e?$d.getInstance(this.firestore,e):null))}}function Nr(n,e,t){return n.message=n.message.replace(e,t),n}function V3(n){for(const e of n)if("object"==typeof e&&!hk(e))return e;return{}}function B3(n,e){var t,i;let r;return r=hk(n[0])?n[0]:hk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class T_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return C3(this._delegate,e._delegate)}}class D_ extends T_{data(e){const t=this._delegate.data(e);return function zie(n,e){n||Ee()}(void 0!==t),t}}class Fr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new N0(e)}where(e,t,i){try{return new Fr(this.firestore,Xc(this._delegate,function fae(n,e,t){const i=e,r=A0("where",n);return I_._create(r,i,t)}(e,t,i)))}catch(r){throw Nr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Fr(this.firestore,Xc(this._delegate,function mae(n,e="asc"){const t=e,i=A0("orderBy",n);return ak._create(i,t)}(e,t)))}catch(i){throw Nr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fr(this.firestore,Xc(this._delegate,function pae(n){return r3("limit",n),k0._create("limit",n,"F")}(e)))}catch(t){throw Nr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Fr(this.firestore,Xc(this._delegate,function gae(n){return r3("limitToLast",n),k0._create("limitToLast",n,"L")}(e)))}catch(t){throw Nr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fr(this.firestore,Xc(this._delegate,function _ae(...n){return M0._create("startAt",n,!0)}(...e)))}catch(t){throw Nr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fr(this.firestore,Xc(this._delegate,function vae(...n){return M0._create("startAfter",n,!1)}(...e)))}catch(t){throw Nr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fr(this.firestore,Xc(this._delegate,function yae(...n){return R0._create("endBefore",n,!1)}(...e)))}catch(t){throw Nr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fr(this.firestore,Xc(this._delegate,function bae(...n){return R0._create("endAt",n,!0)}(...e)))}catch(t){throw Nr(t,"endAt()","Query.endAt()")}}isEqual(e){return ek(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Sae(n){n=vt(n,Yi);const e=vt(n.firestore,_n),t=zn(e),i=new el(e);return function Bse(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(o,s,a){try{const c=yield h0(o,s,!0),d=new V4(s,c.ls),h=d.ca(c.documents),p=d.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const d=Bf(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield $f(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Jc(e,i,n,r))}(this._delegate):"server"===e?.source?function Aae(n){n=vt(n,Yi);const e=vt(n.firestore,_n),t=zn(e),i=new el(e);return Y4(t,n._query,{source:"server"}).then(r=>new Jc(e,i,n,r))}(this._delegate):function Dae(n){n=vt(n,Yi);const e=vt(n.firestore,_n),t=zn(e),i=new el(e);return y3(n._query),Y4(t,n._query).then(r=>new Jc(e,i,n,r))}(this._delegate),t.then(i=>new fk(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=V3(e),i=B3(e,r=>new fk(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return S3(this._delegate,t,i)}withConverter(e){return new Fr(this.firestore,this._delegate.withConverter(e?$d.getInstance(this.firestore,e):null))}}class tce{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new D_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Fr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new D_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new tce(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new D_(this._firestore,i))})}isEqual(e){return C3(this._delegate,e._delegate)}}class Zf extends Fr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Uo(this.firestore,e):null}doc(e){try{return new Uo(this.firestore,void 0===e?I0(this._delegate):I0(this._delegate,e))}catch(t){throw Nr(t,"doc()","CollectionReference.doc()")}}add(e){return function Mae(n,e){const t=vt(n.firestore,_n),i=I0(n),r=P0(n.converter,e);return Wf(t,[T0(jd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,An.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Uo(this.firestore,t))}isEqual(e){return c3(this._delegate,e._delegate)}withConverter(e){return new Zf(this.firestore,this._delegate.withConverter(e?$d.getInstance(this.firestore,e):null))}}function qd(n){return vt(n,wn)}class mk{constructor(...e){this._delegate=new ja(...e)}static documentId(){return new mk(yn.keyField().canonicalString())}isEqual(e){return(e=(0,ln.m9)(e))instanceof ja&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function qae(){return new nk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gd(e)}static delete(){const e=function $ae(){return new y_("deleteField")}();return e._methodName="FieldValue.delete",new Gd(e)}static arrayUnion(...e){const t=function Gae(...n){return new cae("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gd(t)}static arrayRemove(...e){const t=function Wae(...n){return new lae("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gd(t)}static increment(e){const t=function Zae(n){return new dae("increment",n)}(e);return t._methodName="FieldValue.increment",new Gd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nce={Firestore:N3,GeoPoint:x0,Timestamp:Sn,Blob:C_,Transaction:F3,WriteBatch:L3,DocumentReference:Uo,DocumentSnapshot:T_,Query:Fr,QueryDocumentSnapshot:D_,QuerySnapshot:fk,CollectionReference:Zf,FieldPath:mk,FieldValue:Gd,setLogLevel:function ece(n){!function jie(n){Fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function U3(n,e){return function oce(n,e=_d){return new yt(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function pk(n,e){return U3(n,e).pipe(pe(t=>({payload:t,type:"query"})))}!function rce(n){(function ice(n,e){n.INTERNAL.registerComponent(new GV.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},nce)))})(n,(e,t)=>new N3(e,t,new Jae)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(Ra.Z);class j3{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=W3(i,t);return new $3(r,o,this.afs)}snapshotChanges(){return function sce(n,e){return U3(n,e).pipe(hd(void 0),uD(),pe(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fo)}valueChanges(e={}){return this.snapshotChanges().pipe(pe(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return qt(this.ref.get(e)).pipe(fo)}}function F0(n,e){return pk(n,e).pipe(hd(void 0),uD(),pe(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const d=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function z3(n,e,t){return F0(n,t).pipe(Mb((i,r)=>function ace(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function cce(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),vl(),pe(i=>i.map(r=>({type:r.type,payload:r}))))}function gk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function H3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $3{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=F0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(pe(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(hd(void 0),uD(),Bn(([i,r])=>r.length>0||!i),pe(([,i])=>i),fo)}auditTrail(e){return this.stateChanges(e).pipe(Mb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=H3(e);return z3(this.query,t,this.afs.schedulers.outsideAngular).pipe(fo)}valueChanges(e={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe(pe(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),fo)}get(e){return qt(this.query.get(e)).pipe(fo)}add(e){return this.ref.add(e)}doc(e){return new j3(this.ref.doc(e),this.afs)}}class lce{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?F0(this.query,this.afs.schedulers.outsideAngular).pipe(pe(t=>t.filter(i=>e.indexOf(i.type)>-1)),Bn(t=>t.length>0),fo):F0(this.query,this.afs.schedulers.outsideAngular).pipe(fo)}auditTrail(e){return this.stateChanges(e).pipe(Mb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=H3(e);return z3(this.query,t,this.afs.schedulers.outsideAngular).pipe(fo)}valueChanges(e={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe(pe(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),fo)}get(e){return qt(this.query.get(e)).pipe(fo)}}const q3=new X("angularfire2.enableFirestorePersistence"),G3=new X("angularfire2.firestore.persistenceSettings"),dce=new X("angularfire2.firestore.settings"),uce=new X("angularfire2.firestore.use-emulator");function W3(n,e=(t=>t)){return{query:e(n),ref:n}}let L0=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,d,h,p,g,v,b,w,E,A,S){this.schedulers=c;const M=dD(t,a,i),Y=h;p&&qV(M,a,g,b,w,E,v,A),[this.firestore,this.persistenceEnabled$]=NV(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{const ue=a.runOutsideAngular(()=>M.firestore());if(o&&ue.settings(o),Y&&ue.useEmulator(...Y),r&&!Ib(s)){const Ie=()=>{try{return qt(ue.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(Ze){return typeof console<"u"&&console.warn(Ze),xe(!1)}};return[ue,a.runOutsideAngular(Ie)]}return[ue,xe(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=W3(r,i),a=this.schedulers.ngZone.run(()=>o);return new $3(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new lce(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new j3(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(R(dw),R(uw,8),R(q3,8),R(dce,8),R(as),R(Ne),R(PV),R(G3,8),R(uce,8),R(rf,8),R(BV,8),R(UV,8),R(jV,8),R(zV,8),R(HV,8),R($V,8),R(MV,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),hce=(()=>{class n{constructor(){Ra.Z.registerVersion("angularfire",lw.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:q3,useValue:!0},{provide:G3,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ft({type:n});static \u0275inj=xt({providers:[L0]})}return n})(),Z3=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new C,this.loginFailed$=this.loginFailedSubject.asObservable()}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i){this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{if(r.user){r.user.emailVerified?(alert(r.user.displayName),this.router.navigate(["/home"])):alert("Please verify your email before logging in.")}else console.error("User is null"),alert("An error occurred during login. Please try again.")}).catch(r=>{console.error("Login error:",r),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("rememberedToken")}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){localStorage.getItem("rememberedToken")&&this.router.navigate(["/home"])}static#e=this.\u0275fac=function(i){return new(i||n)(R(rf),R(Zr),R(L0))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fce(n,e){if(1&n){const t=No();F(0,"div",4),$e(1,"img",5),F(2,"p",1),he(3),$(),F(4,"p",2),he(5),$(),$e(6,"hr"),F(7,"p",1),he(8),$(),$e(9,"img",6),F(10,"p",7),he(11),$(),F(12,"p",8),he(13),$(),$e(14,"br")(15,"br")(16,"hr"),F(17,"img",9),Ye("click",function(){const o=wt(t).index;return Dt(qe().toggleLike(o))}),$(),$e(18,"img",10)(19,"textarea",11,12),F(21,"img",13),Ye("click",function(){const o=wt(t).index,s=Wr(20);return qe().postComment(o),Dt(s.value=" ")}),$()()}if(2&n){const t=e.$implicit;ye(1),Ah("src",t[6],lp),ye(2),wi(t[0]),ye(2),wi(t[1]),ye(3),wi(t[4]),ye(1),Ah("src",t[5],lp),Ah("alt",t[5]),ye(2),Wy("",t[2]," ",1==t[2]?"like":"likes",""),ye(2),Wy("",t[3]," ",1==t[3]?"comment":"comments",""),ye(4),Ah("src",1==t[7]?"assets/img/like_active.svg":"assets/img/like_inactive.svg",lp)}}let mce=(()=>{class n{constructor(){this.username="Silver",this.totalPosts=2,this.allPosts=[["Silver","11. Oktoober kell 19:46",128,95,"pange saun sooja, Silver tuleb rekordeid purustama","https://media.discordapp.net/attachments/1146094400666091524/1161706521235832994/IMG_2645.jpg","https://media.discordapp.net/attachments/1149290454819553420/1164864763105390592/b61f156cac360ab208b71ce5102ee9c5_400x400.png",!1],["Rasmus","11. Oktoober kell 21:25",84,52,"Uued keycapsid!","https://ptpimg.me/y8v9a5.png","https://ptpimg.me/8n699g.jpg",!0]]}toggleLike(t){!0===this.allPosts[t][7]?(this.allPosts[t][7]=!1,this.allPosts[t][2]-=1):(this.allPosts[t][7]=!0,this.allPosts[t][2]+=1)}postComment(t){this.allPosts[t][3]+=1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-post"]],decls:7,vars:3,consts:[["src",""],[1,"mainText"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],[1,"icons",2,"float","left",3,"src","click"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&($e(0,"img",0),F(1,"h1",1),he(2),$(),F(3,"h3",2),he(4),$(),F(5,"ul"),zt(6,fce,22,11,"div",3),$()),2&i&&(ye(2),Ca("Currently logged in as: ",r.username,""),ye(2),Ca("Total posts on the backend: ",r.totalPosts,""),ye(2),We("ngForOf",r.allPosts))},dependencies:[JC],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),pce=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(O(lD),O(Z3))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"center-container"],[1,"center-element"]],template:function(i,r){1&i&&(F(0,"div",0)(1,"div",1),$e(2,"app-post"),$()())},dependencies:[mce],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();let Q3=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ia),O(tn))};static#t=this.\u0275dir=Oe({type:n})}return n})(),Wd=(()=>{class n extends Q3{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(n)))(r||n)}})();static#t=this.\u0275dir=Oe({type:n,features:[pt]})}return n})();const bs=new X("NgValueAccessor"),_ce={provide:bs,useExisting:Ut(()=>V0),multi:!0},yce=new X("CompositionEventMode");let V0=(()=>{class n extends Q3{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vce(){const n=Sc()?Sc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ia),O(tn),O(yce,8))};static#t=this.\u0275dir=Oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ye("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Gt([_ce]),pt]})}return n})();const mr=new X("NgValidators"),il=new X("NgAsyncValidators");function az(n){return null!=n}function cz(n){return Fp(n)?qt(n):n}function lz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function dz(n,e){return e.map(t=>t(n))}function uz(n){return n.map(e=>function wce(n){return!n.validate}(e)?e:t=>e.validate(t))}function _k(n){return null!=n?function hz(n){if(!n)return null;const e=n.filter(az);return 0==e.length?null:function(t){return lz(dz(t,e))}}(uz(n)):null}function fz(n){if(!n)return null;const e=n.filter(az);return 0==e.length?null:function(t){return function K3(...n){const e=j_(n),{args:t,keys:i}=AL(n),r=new yt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,d=s;for(let h=0;h<s;h++){let p=!1;Se(t[h]).subscribe(be(o,g=>{p||(p=!0,d--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(d||o.next(i?kL(i,a):a),o.complete())}))}});return e?r.pipe(gT(e)):r}(dz(t,e).map(cz)).pipe(pe(lz))}}function vk(n){return null!=n?fz(uz(n)):null}function mz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yk(n){return n?Array.isArray(n)?n:[n]:[]}function U0(n,e){return Array.isArray(n)?n.includes(e):n===e}function _z(n,e){const t=yk(e);return yk(n).forEach(r=>{U0(t,r)||t.push(r)}),t}function vz(n,e){return yk(e).filter(t=>!U0(n,t))}class yz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_k(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Lr extends yz{get formDirective(){return null}get path(){return null}}class rl extends yz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wz=(()=>{class n extends bz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(rl,2))};static#t=this.\u0275dir=Oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&si("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]})}return n})();const S_="VALID",z0="INVALID",Kf="PENDING",A_="DISABLED";function H0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Cz{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===S_}get invalid(){return this.status===z0}get pending(){return this.status==Kf}get disabled(){return this.status===A_}get enabled(){return this.status!==A_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_z(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_z(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vz(e,this._rawAsyncValidators))}hasValidator(e){return U0(this._rawValidators,e)}hasAsyncValidator(e){return U0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Kf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=S_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===S_||this.status===Kf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?A_:S_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Kf,this._hasOwnPendingAsyncValidator=!0;const t=cz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?A_:this.errors?z0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kf)?Kf:this._anyControlsHaveStatus(z0)?z0:S_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){H0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Tce(n){return Array.isArray(n)?_k(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Dce(n){return Array.isArray(n)?vk(n):n||null}(this._rawAsyncValidators)}}const Qf=new X("CallSetDisabledState",{providedIn:"root",factory:()=>$0}),$0="always";function k_(n,e,t=$0){(function Ck(n,e){const t=function pz(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(mz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function gz(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(mz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();W0(e._rawValidators,r),W0(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function kce(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Tz(n,e)})}(n,e),function Rce(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Mce(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Tz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ace(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function W0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Tz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Az(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function kz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mz=class extends Cz{constructor(e=null,t,i){super(function Ek(n){return(H0(n)?n.validators:n)||null}(t),function Ik(n,e){return(H0(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),H0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=kz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Az(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Az(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){kz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Uce={provide:rl,useExisting:Ut(()=>kk)},Oz=(()=>Promise.resolve())();let kk=(()=>{class n extends rl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Mz,this._registered=!1,this.name="",this.update=new Yt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Sk(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===V0?t=o:function Nce(n){return Object.getPrototypeOf(n.constructor)===Wd}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Dk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){k_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Oz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Oh(i);Oz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function q0(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(O(Lr,9),O(mr,10),O(il,10),O(bs,10),O(Bs,8),O(Qf,8))};static#t=this.\u0275dir=Oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gt([Uce]),pt,zi]})}return n})(),Fz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({})}return n})(),ule=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Fz]})}return n})(),fle=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qf,useValue:t.callSetDisabledState??$0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[ule]})}return n})();function mle(n,e){1&n&&(F(0,"p",18),he(1,"Check your email"),$())}function ple(n,e){1&n&&(F(0,"p",18),he(1,"Check your password"),$())}function gle(n,e){if(1&n){const t=No();F(0,"div",8)(1,"div",9)(2,"h1"),he(3,"Log in"),$(),F(4,"input",10),Ye("ngModelChange",function(r){return wt(t),Dt(qe().email=r)})("keyup.enter",function(){return wt(t),Dt(Wr(9).focus())}),$(),zt(5,mle,2,0,"p",11),F(6,"h1"),he(7,"Enter password"),$(),F(8,"input",12,13),Ye("ngModelChange",function(r){return wt(t),Dt(qe().password=r)})("keyup.enter",function(){return wt(t),Dt(qe().login())}),$(),zt(10,ple,2,0,"p",11),F(11,"div",14)(12,"div")(13,"a",15),Ye("click",function(){return wt(t),Dt(qe().isPage="forgot")}),he(14,"Forgot password?"),$()(),F(15,"span",16),he(16,"Don't have an account? "),F(17,"a",15),Ye("click",function(){return wt(t),Dt(qe().isPage="register")}),he(18,"Sign up here"),$()()(),F(19,"button",17),Ye("click",function(){return wt(t),Dt(qe().login())}),F(20,"span"),he(21,"Sign in"),$(),$e(22,"i"),$()()()}if(2&n){const t=qe();ye(4),We("ngModel",t.email),ye(1),We("ngIf",t.loginFailed),ye(3),We("ngModel",t.password),ye(2),We("ngIf",t.loginFailed)}}function _le(n,e){if(1&n){const t=No();F(0,"div",8)(1,"div",9)(2,"h1"),he(3,"Register"),$(),F(4,"input",19),Ye("ngModelChange",function(r){return wt(t),Dt(qe().displayName=r)})("keyup.enter",function(){return wt(t),Dt(Wr(8).focus())}),$(),F(5,"h1"),he(6,"Email"),$(),F(7,"input",20,21),Ye("ngModelChange",function(r){return wt(t),Dt(qe().email=r)})("keyup.enter",function(){return wt(t),Dt(Wr(12).focus())}),$(),F(9,"h1"),he(10,"Enter password"),$(),F(11,"input",22,13),Ye("ngModelChange",function(r){return wt(t),Dt(qe().password=r)})("keyup.enter",function(){return wt(t),Dt(qe().register())}),$(),F(13,"div",14)(14,"div")(15,"a",15),Ye("click",function(){return wt(t),Dt(qe().isPage="forgot")}),he(16,"Forgot password?"),$()(),F(17,"span",16),he(18,"Have an account? "),F(19,"a",15),Ye("click",function(){return wt(t),Dt(qe().isPage="login")}),he(20,"Sign in here"),$()()(),F(21,"button",23),Ye("click",function(){return wt(t),Dt(qe().register())}),F(22,"span"),he(23,"Sign up"),$(),$e(24,"i"),$()()()}if(2&n){const t=qe();ye(4),We("ngModel",t.displayName),ye(3),We("ngModel",t.email),ye(4),We("ngModel",t.password)}}function vle(n,e){if(1&n){const t=No();F(0,"div",8)(1,"div",9)(2,"h1"),he(3,"Enter email"),$(),F(4,"input",24,13),Ye("ngModelChange",function(r){return wt(t),Dt(qe().email=r)})("keyup.enter",function(){return wt(t),Dt(qe().register())}),$(),F(6,"div",14)(7,"span",16),he(8,"Oops still remember? "),F(9,"a",15),Ye("click",function(){return wt(t),Dt(qe().isPage="login")}),he(10,"Sign in here"),$()()(),F(11,"button",25),Ye("click",function(){return wt(t),Dt(qe().forgot())}),F(12,"span"),he(13,"Send verification"),$(),$e(14,"i"),$()()()}if(2&n){const t=qe();ye(4),We("ngModel",t.email)}}let yle=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Z3),O(Zr),O(lD))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"container"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(F(0,"html")(1,"head"),$e(2,"meta",0),$(),F(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),he(8,"Earn2Post"),$()(),F(9,"div",5),$e(10,"img",6),$()(),zt(11,gle,23,4,"div",7)(12,_le,25,3,"div",7)(13,vle,15,1,"div",7),$()()()),2&i&&(ye(11),We("ngIf","login"===r.isPage),ye(1),We("ngIf","register"===r.isPage),ye(1),We("ngIf","forgot"===r.isPage))},dependencies:[Ac,V0,wz,kk],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.926dafe5cf3fb7c6.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}']})}return n})(),ble=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(F(0,"h1"),he(1,"You're logged in as an admin"),$(),F(2,"button",0),he(3," Sign out"),$()),2&i&&(ye(2),We("routerLink",""))},dependencies:[Yh]})}return n})();let Lk=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.debuxValue=0,this.saveInterval=6e4,this.purchasedUpgradesPerSec=[],this.purchasedUpgradesPerClick=[],this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}buyUpgrade(t,i,r){typeof i<"u"?this.purchasedUpgradesPerSec.push({name:t,debuxPerSec:i}):typeof r<"u"&&this.purchasedUpgradesPerClick.push({name:t,debuxPerClick:r})}calculateTotalDebuxPerClick(){return this.purchasedUpgradesPerClick.reduce((t,i)=>t+i.debuxPerClick,1)}calculateTotalDebuxPerSec(){return this.purchasedUpgradesPerSec.reduce((t,i)=>t+i.debuxPerSec,0)}addDebux(t){this.debuxValue=t}startAutosave(){Xb(0,this.saveInterval).pipe(un(()=>this.autosave()),function Ile(n,e=_d,t){const i=Xb(n,e);return function Ele(n,e){return se((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,d=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),d&&i.complete())},p=()=>{c=null,d&&i.complete()},g=b=>c=Se(n(b)).subscribe(be(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!d&&g(b)}};t.subscribe(be(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{d=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){return this.user&&this.debuxValue>0?qt(this.db.doc(`User/${this.user.uid}`).update({Debux:this.debuxValue})).pipe(pe(()=>{this.debuxValue=0})):xe(void 0)}getDebux(){return this.authState$.pipe(un(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(pe(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),xe(void 0))))}static#e=this.\u0275fac=function(i){return new(i||n)(R(L0),R(rf))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xle(n,e){if(1&n&&(F(0,"p",21),he(1),$()),2&n){const t=qe();ye(1),Ca("DeBux: ",t.debux,"")}}function Cle(n,e){1&n&&(F(0,"p",22),he(1,"Loading Debuxes"),$())}function Tle(n,e){if(1&n&&(F(0,"div",23)(1,"p"),he(2," Logged in as: "),F(3,"span",24),he(4),$()()()),2&n){const t=qe();ye(4),wi(t.service.user.displayName)}}function Dle(n,e){if(1&n){const t=No();F(0,"div",26),Ye("click",function(){wt(t);const r=qe().$implicit;return Dt(qe().buyUpgrade(r))}),F(1,"div",27)(2,"p"),he(3),$(),F(4,"h4"),he(5),$(),F(6,"div",28)(7,"h4"),he(8),$()()(),F(9,"div",29)(10,"h4"),he(11),$()()()}if(2&n){const t=qe().$implicit;si("box-disabled",!t.affordable),ye(3),wi(t.name),ye(2),wi(t.description),ye(3),Ca("Cost: ",t.cost,"DB"),ye(3),wi(t.purchased)}}function Sle(n,e){if(1&n&&(Ch(0),zt(1,Dle,12,6,"div",25),Th()),2&n){const t=e.index;ye(1),We("ngIf",t<6)}}function Ale(n,e){if(1&n){const t=No();F(0,"div",26),Ye("click",function(){wt(t);const r=qe().$implicit;return Dt(qe().buyUpgrade(r))}),F(1,"div",27)(2,"p"),he(3),$(),F(4,"h4"),he(5),$(),F(6,"div",28)(7,"h4"),he(8),$()()(),F(9,"div",29)(10,"h4"),he(11),$()()()}if(2&n){const t=qe().$implicit;si("box-disabled",!t.affordable),ye(3),wi(t.name),ye(2),wi(t.description),ye(3),Ca("Cost: ",t.cost,"DB"),ye(3),wi(t.purchased)}}function kle(n,e){if(1&n&&(Ch(0),zt(1,Ale,12,6,"div",25),Th()),2&n){const t=e.index;ye(1),We("ngIf",6<=t&&t<11)}}function Mle(n,e){if(1&n){const t=No();F(0,"div",26),Ye("click",function(){wt(t);const r=qe().$implicit;return Dt(qe().buyUpgrade(r))}),F(1,"div",27)(2,"p"),he(3),$(),F(4,"h4"),he(5),$(),F(6,"div",28)(7,"h4"),he(8),$()()(),F(9,"div",29)(10,"h4"),he(11),$()()()}if(2&n){const t=qe().$implicit;si("box-disabled",!t.affordable),ye(3),wi(t.name),ye(2),wi(t.description),ye(3),Ca("Cost: ",t.cost,"DB"),ye(3),wi(t.purchased)}}function Rle(n,e){if(1&n&&(Ch(0),zt(1,Mle,12,6,"div",25),Th()),2&n){const t=e.index;ye(1),We("ngIf",11<=t)}}let Ple=(()=>{class n{constructor(t,i,r){this.service=t,this.zone=i,this.cdr=r,this.upgrades=[{name:"Multithreading",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase processing power by utilizing multiple threads."},{name:"Optimization Algorithms",cost:100,debuxPerSec:10,affordable:!1,purchased:0,description:"Enhance efficiency through advanced code optimization techniques."},{name:"Parallel Processing",cost:1e3,debuxPerSec:100,affordable:!1,purchased:0,description:"Enable simultaneous execution for faster processing."},{name:"Overclocking",cost:1e4,debuxPerSec:1e3,affordable:!1,purchased:0,description:"Push the CPU to run faster, boosting processing power."},{name:"Hardware Upgrades",cost:1e5,debuxPerSec:1e4,affordable:!1,purchased:0,description:"Install better processors or RAM to increase overall performance."},{name:"Cooling Systems",cost:1e6,debuxPerSec:1e5,affordable:!1,purchased:0,description:"Optimize cooling mechanisms to sustain higher processing speeds."},{name:"Syntax Highlighting",cost:1,debuxPerClick:1,affordable:!1,purchased:0,description:"Boost click effectiveness with highlighted code segments."},{name:"Code Formatting",cost:10,debuxPerClick:10,affordable:!1,purchased:0,description:"Improve the appearance of code to enhance click impact."},{name:"Auto-Completion",cost:100,debuxPerClick:100,affordable:!1,purchased:0,description:"Increase code suggestion accuracy to amplify your clicks."},{name:"GUI Enhancements",cost:1e3,debuxPerClick:1e3,affordable:!1,purchased:0,description:"Upgrade the interface for a more responsive and impactful clicking experience."},{name:"Mouse Acceleration",cost:1e4,debuxPerClick:1e4,affordable:!1,purchased:0,description:"Improve click effectiveness by enhancing mouse sensitivity."},{name:"ChatGPT Evolution",cost:1e3,affordable:!1,purchased:0,description:"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."},{name:"Automated Testing",cost:1e4,affordable:!1,purchased:0,description:"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."},{name:"Code Refactoring AI",cost:1e5,affordable:!1,purchased:0,description:"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."},{name:"Codebase Analysis",cost:1e6,affordable:!1,purchased:0,description:"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."},{name:"Tabnine",cost:1e7,affordable:!1,purchased:0,description:"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."}],this.debux=0,this.loading=!1}ngOnInit(){this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().subscribe(i=>{this.debux=i||0,this.loading=!1,function wle(n=0,e=_d){return n<0&&(n=0),Xb(n,n,e)}(1e3).subscribe(()=>{this.zone.run(()=>{this.debux+=this.service.calculateTotalDebuxPerSec(),this.updateAffordability(),this.service.addDebux(this.debux),this.cdr.detectChanges()})})}))})}addDebux(){this.debux+=this.service.calculateTotalDebuxPerClick(),this.updateAffordability(),this.service.addDebux(this.debux)}updateAffordability(){this.upgrades.forEach(t=>{t.affordable=t.cost<=this.debux})}buyUpgrade(t){t.affordable&&this.debux-t.cost<t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick),t.affordable=!1,this.service.addDebux(this.debux)):t.affordable&&this.debux-t.cost>=t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.buyUpgrade(t.name,t.debuxPerSec,t.debuxPerClick),this.service.addDebux(this.debux)):console.log("Not enough DeBux for this upgrade."),this.updateAffordability()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Lk),O(Ne),O(Bs))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-clicker"]],decls:42,vars:6,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[4,"ngFor","ngForOf"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"],["class","box",3,"box-disabled","click",4,"ngIf"],[1,"box",3,"click"],[1,"box-text"],[1,"cost"],[1,"bought"]],template:function(i,r){1&i&&(F(0,"div",0)(1,"div",1),zt(2,xle,2,1,"p",2)(3,Cle,2,0,"p",3),$(),F(4,"div",4)(5,"button",5),Ye("click",function(){return r.addDebux()}),$()(),zt(6,Tle,5,1,"div",6),$(),F(7,"div",7)(8,"div",8)(9,"H1"),he(10,"Upgrades"),$()(),F(11,"div",9)(12,"div",10)(13,"div",11),$e(14,"img",12),F(15,"div")(16,"p"),he(17,"Processing Power"),$(),F(18,"h4"),he(19,"Per/Sec"),$()()(),F(20,"div",13),zt(21,Sle,2,1,"ng-container",14),$()(),F(22,"div",15)(23,"div",16),$e(24,"img",17),F(25,"div")(26,"p"),he(27,"Click Impact"),$(),F(28,"h4"),he(29,"Per/Click"),$()()(),F(30,"div",18),zt(31,kle,2,1,"ng-container",14),$()(),F(32,"div",19)(33,"div",11),$e(34,"img",20),F(35,"div")(36,"p"),he(37,"Advanced Algorithms"),$(),F(38,"h4"),he(39,"Specials"),$()()(),F(40,"div",13),zt(41,Rle,2,1,"ng-container",14),$()()()()),2&i&&(ye(2),We("ngIf",!r.loading),ye(1),We("ngIf",r.loading),ye(3),We("ngIf",r.service.user),ye(15),We("ngForOf",r.upgrades),ye(10),We("ngForOf",r.upgrades),ye(10),We("ngForOf",r.upgrades))},dependencies:[JC,Ac],styles:[".top[_ngcontent-%COMP%]{margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.loading-text[_ngcontent-%COMP%]{color:#b7514c}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:600px;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:20px;margin-top:30px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-disabled[_ngcontent-%COMP%]{filter:blur(4px)}.box-disabled[_ngcontent-%COMP%]:hover{cursor:auto;box-shadow:none}.box-disabled[_ngcontent-%COMP%]:active{transform:none}.box-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-top-left-radius:20px;border-bottom-left-radius:20px;width:480px;padding-left:20px}.box-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.cost[_ngcontent-%COMP%]{text-align:center}.cost[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:lighter}.bought[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background:#6A5988;border-top-right-radius:20px;border-bottom-right-radius:20px;width:70px}.bought[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;margin:0;font-size:25px}"]})}return n})();function Ole(n,e){1&n&&(F(0,"h3"),he(1,"<"),F(2,"span",9),he(3,"Loading"),$(),he(4,"> DB"),$())}function Nle(n,e){if(1&n&&(F(0,"h3"),he(1,"<"),F(2,"span",10),he(3),$(),he(4,"> DB"),$()),2&n){const t=qe();ye(3),wi(t.debux)}}let Fle=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Lk))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(F(0,"div",0)(1,"div",1),$e(2,"img",2),F(3,"h2"),he(4,"Your credit"),$()(),F(5,"div",3)(6,"p"),he(7,"Current"),$(),F(8,"div",4),zt(9,Ole,5,0,"h3",5)(10,Nle,5,1,"h3",5),$()(),F(11,"div",3)(12,"p"),he(13,"Per second:"),$(),F(14,"div",6)(15,"h3"),he(16,"+40 DB/s"),$()()(),F(17,"div",7),$e(18,"img",8),$()()),2&i&&(ye(9),We("ngIf",r.loading),ye(1),We("ngIf",!r.loading))},dependencies:[Ac],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})();const Lle=[{path:"",component:yle},{path:"home",component:pce},{path:"admin",component:ble},{path:"clicker",component:Ple},{path:"profile",component:(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(O(L0),O(rf))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(F(0,"html")(1,"head"),$e(2,"meta",0),$(),F(3,"body")(4,"div",1)(5,"div",2),$e(6,"app-credit-box"),F(7,"a",3),$e(8,"img",4),$()(),F(9,"div",5)(10,"div",6)(11,"div",7),$e(12,"img",8),$(),F(13,"div",9)(14,"h2"),he(15),$(),F(16,"p",10),he(17,"50 Followers"),$(),F(18,"div",11)(19,"p"),he(20,"30 Following"),$(),F(21,"p"),he(22,"13 Friends"),$()()(),F(23,"div",12),$e(24,"img",13),$()(),F(25,"div",14),$e(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),$()(),F(34,"div",23)(35,"h2"),he(36,"Here is friends list"),$(),F(37,"div",24),$e(38,"img",25),F(39,"h2"),he(40,"Add friends"),$()()()()()()),2&i&&(ye(15),wi(null==r.user?null:r.user.displayName))},dependencies:[Yh,Fle],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})()}];let Vle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[O2.forRoot(Lle,{useHash:!0}),O2]})}return n})(),Ble=(()=>{class n{constructor(t){this.router=t,this.visible=!0,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(O(Zr))};static#t=this.\u0275cmp=Fn({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(F(0,"app-header"),$e(1,"router-outlet"),$())},dependencies:[NT,lD],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"],changeDetection:0})}return n})();function eH(n){return new U(3e3,!1)}function ol(n){switch(n.length){case 0:return new pg;case 1:return n[0];default:return new CV(n)}}function tH(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const d=c.get("offset"),h=d==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case Ma:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=d}),r.length)throw function cde(n){return new U(3502,!1)}();return o}function Vk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Bk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Bk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Bk(t,"destroy",n)))}}function Bk(n,e,t){const o=Uk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Uk(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function _o(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function nH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const bde=(()=>typeof document>"u"?null:document.documentElement)();function jk(n){const e=n.parentNode||n.host||null;return e===bde?null:e}let Kd=null,iH=!1;function rH(n,e){for(;e;){if(e===n)return!0;e=jk(e)}return!1}function oH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let zk=(()=>{class n{validateStyleProperty(t){return function Ede(n){Kd||(Kd=function Ide(){return typeof document<"u"?document.body:null}()||{},iH=!!Kd.style&&"WebkitAppearance"in Kd.style);let e=!0;return Kd.style&&!function wde(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Kd.style,!e&&iH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Kd.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return rH(t,i)}getParentElement(t){return jk(t)}query(t,i,r){return oH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new pg(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Hk=(()=>{class n{static#e=this.NOOP=new zk}return n})();class $k{}const Cde=1e3,qk="ng-enter",K0="ng-leave",Q0="ng-trigger",Y0=".ng-trigger",aH="ng-animating",Gk=".ng-animating";function Ha(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Wk(parseFloat(e[1]),e[2])}function Wk(n,e){return"s"===e?n*Cde:n}function X0(n,e,t){return n.hasOwnProperty("duration")?n:function Dde(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(eH()),{duration:0,delay:0,easing:""};r=Wk(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Wk(parseFloat(c),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Ule(){return new U(3100,!1)}()),a=!0),o<0&&(e.push(function jle(){return new U(3101,!1)}()),a=!0),a&&e.splice(c,0,eH())}return{duration:r,delay:o,easing:s}}(n,e,t)}function R_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function sl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ra(n,e,t){e.forEach((i,r)=>{const o=Kk(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Qd(n,e){e.forEach((t,i)=>{const r=Kk(i);n.style[r]=""})}function P_(n){return Array.isArray(n)?1==n.length?n[0]:function Bte(n,e=null){return{type:2,steps:n,options:e}}(n):n}const Zk=new RegExp("{{\\s*(.+?)\\s*}}","g");function dH(n){let e=[];if("string"==typeof n){let t;for(;t=Zk.exec(n);)e.push(t[1]);Zk.lastIndex=0}return e}function O_(n,e,t){const i=n.toString(),r=i.replace(Zk,(o,s)=>{let a=e[s];return null==a&&(t.push(function Hle(n){return new U(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function J0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const kde=/-+([a-z0-9])/g;function Kk(n){return n.replace(kde,(...e)=>e[1].toUpperCase())}function vo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $le(n){return new U(3004,!1)}()}}function uH(n,e){return window.getComputedStyle(n)[e]}const Pde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hH extends $k{normalizePropertyName(e,t){return Kk(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Pde.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function qle(n,e){return new U(3005,!1)}())}return s+o}}const eE="*";function Ode(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Nde(n,e,t){if(":"==n[0]){const c=function Fde(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function rde(n){return new U(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function ide(n){return new U(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(fH(r,s));"<"==o[0]&&!(r==eE&&s==eE)&&e.push(fH(s,r))}(i,t,e)):t.push(n),t}const tE=new Set(["true","1"]),nE=new Set(["false","0"]);function fH(n,e){const t=tE.has(n)||nE.has(n),i=tE.has(e)||nE.has(e);return(r,o)=>{let s=n==eE||n==r,a=e==eE||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?tE.has(n):nE.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?tE.has(e):nE.has(e)),s&&a}}const Lde=new RegExp("s*:selfs*,?","g");function Qk(n,e,t,i){return new Vde(n).build(e,t,i)}class Vde{constructor(e){this._driver=e}build(e,t,i){const r=new jde(t);return this._resetContextStyleTimingState(r),vo(this,P_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Gle(){return new U(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function Wle(){return new U(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{dH(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(J0(o.values()),t.errors.push(function Zle(n,e){return new U(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=vo(this,P_(e.animation),t);return{type:1,matchers:Ode(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Yd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>vo(this,i,t)),options:Yd(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=vo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Yd(e.options)}}visitAnimate(e,t){const i=function Hde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Yk(X0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Yk(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=X0(t,e);return Yk(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:sw({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=sw(d)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Ma?i.push(a):t.errors.push(new U(3002,!1)):i.push(cH(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function Qle(n,e,t,i,r){return new U(3010,!1)}()),p=!1),o=h.startTime),p&&d.set(c,{startTime:o,endTime:r}),t.options&&function Ade(n,e,t){const i=e.params||{},r=dH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function zle(n){return new U(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Yle(){return new U(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,d=0;const h=e.steps.map(A=>{const S=this._makeStyleAst(A,t);let M=null!=S.offset?S.offset:function zde(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(S.styles),Y=0;return null!=M&&(o++,Y=S.offset=M),c=c||Y<0||Y>1,a=a||Y<d,d=Y,s.push(Y),S});c&&t.errors.push(function Xle(){return new U(3012,!1)}()),a&&t.errors.push(function Jle(){return new U(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function ede(){return new U(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,E=w.duration;return h.forEach((A,S)=>{const M=g>0?S==v?1:g*S:s[S],Y=M*E;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(A,t),A.offset=M,i.styles.push(A)}),i}visitReference(e,t){return{type:8,animation:vo(this,P_(e.animation),t),options:Yd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Yd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yd(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Bde(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Lde,"")),n=n.replace(/@\*/g,Y0).replace(/@\w+/g,t=>Y0+"-"+t.slice(1)).replace(/:animating/g,Gk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,_o(t.collectedStyles,t.currentQuerySelector,new Map);const a=vo(this,P_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Yd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function tde(){return new U(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:X0(e.timings,t.errors,!0);return{type:12,animation:vo(this,P_(e.animation),t),timings:i,options:null}}}class jde{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yd(n){return n?(n=R_(n)).params&&(n.params=function Ude(n){return n?R_(n):null}(n.params)):n={},n}function Yk(n,e,t){return{duration:n,delay:e,easing:t}}function Xk(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class iE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Gde=new RegExp(":enter","g"),Zde=new RegExp(":leave","g");function Jk(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return(new Kde).buildKeyframes(n,e,t,i,r,o,s,a,c,d)}class Kde{buildKeyframes(e,t,i,r,o,s,a,c,d,h=[]){d=d||new iE;const p=new eM(e,t,d,r,o,h,[]);p.options=c;const g=c.delay?Ha(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),vo(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const E=v[w];if(E.element===t){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[Xk(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ha(O_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ha(i.duration):null,a=null!=i.delay?Ha(i.delay):null;return 0!==s&&e.forEach(c=>{const d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),vo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rE);const s=Ha(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>vo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ha(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),vo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return X0(t.params?O_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ha(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rE);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,d);o&&p.delayNextStep(o),d===t.element&&(c=p.currentTimeline),vo(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;vo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const rE={};class eM{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new oE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ha(i.duration)),null!=i.delay&&(r.delay=Ha(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=O_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new eM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=rE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Qde(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Gde,"."+this._enterClassName)).replace(Zde,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function nde(n){return new U(3014,!1)}()),a}}class oE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new oE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ma),this._currentKeyframe.set(t,Ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Yde(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Ma)}else sl(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const d=O_(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ma),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=sl(a,new Map,this._backFill);d.forEach((h,p)=>{"!"===h?e.add(p):h===Ma&&t.add(p)}),i||d.set("offset",c/this.duration),r.push(d)});const o=e.size?J0(e.values()):[],s=t.size?J0(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Xk(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Qde extends oE{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=sl(e[0]);c.set("offset",0),o.push(c);const d=sl(e[0]);d.set("offset",gH(a)),o.push(d);const h=e.length-1;for(let p=1;p<=h;p++){let g=sl(e[p]);const v=g.get("offset");g.set("offset",gH((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return Xk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function gH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function _H(n,e,t,i,r,o,s,a,c,d,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:h,totalTime:p,errors:g}}const tM={};class vH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Xde(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,h){const p=[],g=this.ast.options&&this.ast.options.params||tM,b=this.buildStyles(i,a&&a.params||tM,p),w=c&&c.params||tM,E=this.buildStyles(r,w,p),A=new Set,S=new Map,M=new Map,Y="void"===r,ue={params:Jde(w,g),delay:this.ast.options?.delay},Ie=h?[]:Jk(e,t,this.ast.animation,o,s,b,E,ue,d,p);let Ze=0;if(Ie.forEach(yo=>{Ze=Math.max(yo.duration+yo.delay,Ze)}),p.length)return _H(t,this._triggerName,i,r,Y,b,E,[],[],S,M,Ze,p);Ie.forEach(yo=>{const eo=yo.element,d$=_o(S,eo,new Set);yo.preStyleProps.forEach(tu=>d$.add(tu));const U_=_o(M,eo,new Set);yo.postStyleProps.forEach(tu=>U_.add(tu)),eo!==t&&A.add(eo)});const dn=J0(A.values());return _H(t,this._triggerName,i,r,Y,b,E,Ie,dn,S,M,Ze)}}function Jde(n,e){const t=R_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class eue{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=R_(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=O_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class nue{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new eue(r.style,r.options&&r.options.params||{},i))}),yH(this.states,"true","1"),yH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new vH(e,r,this.states))}),this.fallbackTransition=function iue(n,e,t){return new vH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function yH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rue=new iE;class oue{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Qk(this._driver,t,i,[]);if(i.length)throw function lde(n){return new U(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=tH(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Jk(this._driver,t,o,qk,K0,new Map,new Map,i,rue,r),s.forEach(h=>{const p=_o(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function dde(){return new U(3300,!1)}()),s=[]),r.length)throw function ude(n){return new U(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,Ma))})});const d=ol(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function hde(n){return new U(3301,!1)}();return t}listen(e,t,i,r){const o=Uk(t,"","","");return Vk(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const bH="ng-animate-queued",nM="ng-animate-disabled",due=[],wH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ws="__ng_removed";class iM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function pue(n){return n??null}(i?e.value:e),i){const o=R_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const N_="void",rM=new iM(N_);class hue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function fde(n,e){return new U(3302,!1)}();if(null==i||0==i.length)throw function mde(n){return new U(3303,!1)}();if(!function gue(n){return"start"==n||"done"==n}(i))throw function pde(n,e){return new U(3400,!1)}();const o=_o(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=_o(this._engine.statesByElement,e,new Map);return a.has(t)||(jo(e,Q0),jo(e,Q0+"-"+t),a.set(t,rM)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function gde(n){return new U(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new oM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(jo(e,Q0),jo(e,Q0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const d=new iM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=rM),d.value!==N_&&c.value===d.value){if(!function yue(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,d.params)){const w=[],E=o.matchStyles(c.value,c.params,w),A=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Qd(e,E),ra(e,A)})}return}const g=_o(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,d.value,e,d.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:d,player:s,isFallbackTransition:b}),b||(jo(e,bH),s.onStart(()=>{Yf(e,bH)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const E=this._engine.playersByElement.get(e);if(E){let A=E.indexOf(s);A>=0&&E.splice(A,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Y0,!0);i.forEach(r=>{if(r[ws])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){const h=this.trigger(e,d,N_,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&ol(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,d=i.get(s)||rM,h=new iM(N_),p=new oM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ws];(!o||o===wH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){jo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=Uk(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Vk(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class fue{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new hue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(sE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!sE(t))return;const o=t[ws];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jo(e,nM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Yf(e,nM))}removeNode(e,t,i){if(sE(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ws]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return sE(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Y0,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Gk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ol(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ws];if(t&&t.setForRemoval){if(e[ws]=wH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(nM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ol(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function _de(n){return new U(3402,!1)}()}_flushAnimations(e,t){const i=new iE,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(De=>{h.add(De);const Be=this.driver.query(De,".ng-animate-queued",!0);for(let Ge=0;Ge<Be.length;Ge++)h.add(Be[Ge])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=xH(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((De,Be)=>{const Ge=qk+w++;b.set(Be,Ge),De.forEach(Rt=>jo(Rt,Ge))});const E=[],A=new Set,S=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const Be=this.collectedLeaveElements[De],Ge=Be[ws];Ge&&Ge.setForRemoval&&(E.push(Be),A.add(Be),Ge.hasAnimation?this.driver.query(Be,".ng-star-inserted",!0).forEach(Rt=>A.add(Rt)):S.add(Be))}const M=new Map,Y=xH(g,Array.from(A));Y.forEach((De,Be)=>{const Ge=K0+w++;M.set(Be,Ge),De.forEach(Rt=>jo(Rt,Ge))}),e.push(()=>{v.forEach((De,Be)=>{const Ge=b.get(Be);De.forEach(Rt=>Yf(Rt,Ge))}),Y.forEach((De,Be)=>{const Ge=M.get(Be);De.forEach(Rt=>Yf(Rt,Ge))}),E.forEach(De=>{this.processLeaveNode(De)})});const ue=[],Ie=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(t).forEach(Ge=>{const Rt=Ge.player,Li=Ge.element;if(ue.push(Rt),this.collectedEnterElements.length){const pr=Li[ws];if(pr&&pr.setForMove){if(pr.previousTriggersValues&&pr.previousTriggersValues.has(Ge.triggerName)){const nu=pr.previousTriggersValues.get(Ge.triggerName),Ho=this.statesByElement.get(Ge.element);if(Ho&&Ho.has(Ge.triggerName)){const pE=Ho.get(Ge.triggerName);pE.value=nu,Ho.set(Ge.triggerName,pE)}}return void Rt.destroy()}}const oa=!p||!this.driver.containsElement(p,Li),bo=M.get(Li),dl=b.get(Li),Mn=this._buildInstruction(Ge,i,dl,bo,oa);if(Mn.errors&&Mn.errors.length)return void Ie.push(Mn);if(oa)return Rt.onStart(()=>Qd(Li,Mn.fromStyles)),Rt.onDestroy(()=>ra(Li,Mn.toStyles)),void r.push(Rt);if(Ge.isFallbackTransition)return Rt.onStart(()=>Qd(Li,Mn.fromStyles)),Rt.onDestroy(()=>ra(Li,Mn.toStyles)),void r.push(Rt);const f$=[];Mn.timelines.forEach(pr=>{pr.stretchStartingKeyframe=!0,this.disabledNodes.has(pr.element)||f$.push(pr)}),Mn.timelines=f$,i.append(Li,Mn.timelines),s.push({instruction:Mn,player:Rt,element:Li}),Mn.queriedElements.forEach(pr=>_o(a,pr,[]).push(Rt)),Mn.preStyleProps.forEach((pr,nu)=>{if(pr.size){let Ho=c.get(nu);Ho||c.set(nu,Ho=new Set),pr.forEach((pE,gM)=>Ho.add(gM))}}),Mn.postStyleProps.forEach((pr,nu)=>{let Ho=d.get(nu);Ho||d.set(nu,Ho=new Set),pr.forEach((pE,gM)=>Ho.add(gM))})});if(Ie.length){const De=[];Ie.forEach(Be=>{De.push(function vde(n,e){return new U(3505,!1)}())}),ue.forEach(Be=>Be.destroy()),this.reportError(De)}const Ze=new Map,dn=new Map;s.forEach(De=>{const Be=De.element;i.has(Be)&&(dn.set(Be,Be),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,Ze))}),r.forEach(De=>{const Be=De.element;this._getPreviousPlayers(Be,!1,De.namespaceId,De.triggerName,null).forEach(Rt=>{_o(Ze,Be,[]).push(Rt),Rt.destroy()})});const yo=E.filter(De=>TH(De,c,d)),eo=new Map;IH(eo,this.driver,S,d,Ma).forEach(De=>{TH(De,c,d)&&yo.push(De)});const U_=new Map;v.forEach((De,Be)=>{IH(U_,this.driver,new Set(De),c,"!")}),yo.forEach(De=>{const Be=eo.get(De),Ge=U_.get(De);eo.set(De,new Map([...Be?.entries()??[],...Ge?.entries()??[]]))});const tu=[],u$=[],h$={};s.forEach(De=>{const{element:Be,player:Ge,instruction:Rt}=De;if(i.has(Be)){if(h.has(Be))return Ge.onDestroy(()=>ra(Be,Rt.toStyles)),Ge.disabled=!0,Ge.overrideTotalTime(Rt.totalTime),void r.push(Ge);let Li=h$;if(dn.size>1){let bo=Be;const dl=[];for(;bo=bo.parentNode;){const Mn=dn.get(bo);if(Mn){Li=Mn;break}dl.push(bo)}dl.forEach(Mn=>dn.set(Mn,Li))}const oa=this._buildAnimation(Ge.namespaceId,Rt,Ze,o,U_,eo);if(Ge.setRealPlayer(oa),Li===h$)tu.push(Ge);else{const bo=this.playersByElement.get(Li);bo&&bo.length&&(Ge.parentPlayer=ol(bo)),r.push(Ge)}}else Qd(Be,Rt.fromStyles),Ge.onDestroy(()=>ra(Be,Rt.toStyles)),u$.push(Ge),h.has(Be)&&r.push(Ge)}),u$.forEach(De=>{const Be=o.get(De.element);if(Be&&Be.length){const Ge=ol(Be);De.setRealPlayer(Ge)}}),r.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<E.length;De++){const Be=E[De],Ge=Be[ws];if(Yf(Be,K0),Ge&&Ge.hasAnimation)continue;let Rt=[];if(a.size){let oa=a.get(Be);oa&&oa.length&&Rt.push(...oa);let bo=this.driver.query(Be,Gk,!0);for(let dl=0;dl<bo.length;dl++){let Mn=a.get(bo[dl]);Mn&&Mn.length&&Rt.push(...Mn)}}const Li=Rt.filter(oa=>!oa.destroyed);Li.length?_ue(this,Be,Li):this.processLeaveNode(Be)}return E.length=0,tu.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const Be=this.players.indexOf(De);this.players.splice(Be,1)}),De.play()}),tu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==N_;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const d=c.element,h=d!==o,p=_o(i,d,[]);this._getPreviousPlayers(d,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}Qd(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,d=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const E=w[ws];if(E&&E.removedBeforeQueried)return new pg(b.duration,b.delay);const A=w!==c,S=function vue(n){const e=[];return CH(n,e),e}((i.get(w)||due).map(Ze=>Ze.getRealPlayer())).filter(Ze=>!!Ze.element&&Ze.element===w),M=o.get(w),Y=s.get(w),ue=tH(this._normalizer,b.keyframes,M,Y),Ie=this._buildPlayer(b,ue,S);if(b.subTimeline&&r&&p.add(w),A){const Ze=new oM(e,a,w);Ze.setRealPlayer(Ie),d.push(Ze)}return Ie});d.forEach(b=>{_o(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function mue(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>jo(b,aH));const v=ol(g);return v.onDestroy(()=>{h.forEach(b=>Yf(b,aH)),ra(c,t.toStyles)}),p.forEach(b=>{_o(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new pg(e.duration,e.delay)}}class oM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new pg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Vk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_o(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sE(n){return n&&1===n.nodeType}function EH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function IH(n,e,t,i,r){const o=[];t.forEach(c=>o.push(EH(c)));const s=[];i.forEach((c,d)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(d,p,r);h.set(p,g),(!g||0==g.length)&&(d[ws]=uue,s.push(d))}),n.set(d,h)});let a=0;return t.forEach(c=>EH(c,o[a++])),s}function xH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const d=a.parentNode;return c=t.has(d)?d:r.has(d)?1:s(d),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function jo(n,e){n.classList?.add(e)}function Yf(n,e){n.classList?.remove(e)}function _ue(n,e,t){ol(t).onDone(()=>n.processLeaveNode(e))}function CH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof CV?CH(i.players,e):e.push(i)}}function TH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class F_{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new fue(e.body,t,i),this._timelineEngine=new oue(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=Qk(this._driver,o,c,[]);if(c.length)throw function ade(n,e){return new U(3404,!1)}();a=function tue(n,e,t){return new nue(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=nH(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=nH(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let wue=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ra(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ra(this._element,this._initialStyles),this._endStyles&&(ra(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qd(this._element,this._endStyles),this._endStyles=null),ra(this._element,this._initialStyles),this._state=3)}}return n})();function sM(n){let e=null;return n.forEach((t,i)=>{(function Eue(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class DH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:uH(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class SH{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return rH(e,t)}getParentElement(e){return jk(e)}query(e,t,i){return oH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d=new Map,h=s.filter(v=>v instanceof DH);(function Mde(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=function Sde(n){return n.length?n[0]instanceof Map?n:n.map(e=>cH(e)):[]}(t).map(v=>sl(v));p=function Rde(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,uH(n,a)))}}return e}(e,p,d);const g=function bue(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=sM(e[0]),e.length>1&&(i=sM(e[e.length-1]))):e instanceof Map&&(t=sM(e)),t||i?new wue(n,t,i):null}(e,p);return new DH(e,p,c,g)}}const AH="@.disabled";class kH{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==AH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Iue extends kH{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==AH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function xue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Cue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Tue{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const d=this._rendererCache;let h=d.get(r);return h||(h=new kH("",r,this.engine,()=>d.delete(r)),d.set(r,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new Iue(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Due=(()=>{class n extends F_{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t),R(Hk),R($k),R(Dc))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const MH=[{provide:$k,useFactory:function Sue(){return new hH}},{provide:F_,useClass:Due},{provide:lx,useFactory:function Aue(n,e,t){return new Tue(n,e,t)},deps:[uT,F_,Ne]}],aM=[{provide:Hk,useFactory:()=>new SH},{provide:Ju,useValue:"BrowserAnimations"},...MH],RH=[{provide:Hk,useClass:zk},{provide:Ju,useValue:"NoopAnimations"},...MH];let kue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?RH:aM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({providers:aM,imports:[IL]})}return n})(),PH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({providers:[PH]})}return n})(),Oue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Qr,Qr]})}return n})(),dhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Pue,Eb,Qr,wV,Lte,Oue]})}return n})(),fhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Qr,wV,Qr]})}return n})();class cE{}class lE{}class zo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class mhe{encodeKey(e){return BH(e)}encodeValue(e){return BH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ghe=/%(\d[a-f0-9])/gi,_he={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BH(n){return encodeURIComponent(n).replace(ghe,(e,t)=>_he[t]??e)}function dE(n){return`${n}`}class al{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new mhe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function phe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(dE):[dE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new al({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(dE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vhe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function UH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jH(n){return typeof Blob<"u"&&n instanceof Blob}function zH(n){return typeof FormData<"u"&&n instanceof FormData}class L_{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function yhe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new zo),this.context||(this.context=new vhe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new al,this.urlWithParams=t}serializeBody(){return null===this.body?null:UH(this.body)||jH(this.body)||zH(this.body)||function bhe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof al?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zH(this.body)?null:jH(this.body)?this.body.type||null:UH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof al?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new L_(t,i,o,{params:d,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var cl=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(cl||{});class lM{constructor(e,t=200,i="OK"){this.headers=e.headers||new zo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class uE extends lM{constructor(e={}){super(e),this.type=cl.ResponseHeader}clone(e={}){return new uE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xd extends lM{constructor(e={}){super(e),this.type=cl.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xf extends lM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let uM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof L_)o=t;else{let c,d;c=r.headers instanceof zo?r.headers:new zo(r.headers),r.params&&(d=r.params instanceof al?r.params:new al({fromObject:r.params})),o=new L_(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=xe(o).pipe(Lh(c=>this.handler.handle(c)));if(t instanceof L_||"events"===r.observe)return s;const a=s.pipe(Bn(c=>c instanceof Xd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(pe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(pe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new al).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,dM(r,i))}post(t,i,r={}){return this.request("POST",t,dM(r,i))}put(t,i,r={}){return this.request("PUT",t,dM(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(R(cE))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function $H(n,e){return e(n)}function Che(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Dhe=new X(""),V_=new X(""),qH=new X(""),GH=new X("");function She(){let n=null;return(e,t)=>{null===n&&(n=(le(Dhe,{optional:!0})??[]).reduceRight(Che,$H));const i=le(tb),r=i.add();return n(e,t).pipe(Vh(()=>i.remove(r)))}}let WH=(()=>{class n extends cE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=le(tb);const r=le(GH,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(V_),...this.injector.get(qH,[])]));this.chain=r.reduceRight((o,s)=>function The(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),$H)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Vh(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(R(lE),R(ao))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const Phe=/^\)\]\}',?\n/;let KH=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new U(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?qt(i.\u0275loadImpl()):xe(null)).pipe(un(()=>new yt(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,E)=>s.setRequestHeader(w,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const w=s.statusText||"OK",E=new zo(s.getAllResponseHeaders()),A=function Ohe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new uE({headers:E,status:s.status,statusText:w,url:A}),c},h=()=>{let{headers:w,status:E,statusText:A,url:S}=d(),M=null;204!==E&&(M=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=M?200:0);let Y=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof M){const ue=M;M=M.replace(Phe,"");try{M=""!==M?JSON.parse(M):null}catch(Ie){M=ue,Y&&(Y=!1,M={error:Ie,text:M})}}Y?(o.next(new Xd({body:M,headers:w,status:E,statusText:A,url:S||void 0})),o.complete()):o.error(new Xf({error:M,headers:w,status:E,statusText:A,url:S||void 0}))},p=w=>{const{url:E}=d(),A=new Xf({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(A)};let g=!1;const v=w=>{g||(o.next(d()),g=!0);let E={type:cl.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=w=>{let E={type:cl.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:cl.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(R(aL))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const mM=new X("XSRF_ENABLED"),QH=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),YH=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class XH{}let Lhe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=YF(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(R(_t),R(as),R(QH))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Vhe(n,e){const t=n.url.toLowerCase();if(!le(mM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=le(XH).getToken(),r=le(YH);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ll=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ll||{});function Bhe(...n){const e=[uM,KH,WH,{provide:cE,useExisting:WH},{provide:lE,useExisting:KH},{provide:V_,useValue:Vhe,multi:!0},{provide:mM,useValue:!0},{provide:XH,useClass:Lhe}];for(const t of n)e.push(...t.\u0275providers);return function EI(n){return{\u0275providers:n}}(e)}const JH=new X("LEGACY_INTERCEPTOR_FN");function Uhe(){return function Jd(n,e){return{\u0275kind:n,\u0275providers:e}}(ll.LegacyInterceptors,[{provide:JH,useFactory:She},{provide:V_,useExisting:JH,multi:!0}])}let jhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({providers:[Bhe(Uhe())]})}return n})(),Xhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=xt({imports:[Qr,Qr]})}return n})(),Jhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ft({type:n,bootstrap:[Ble]});static#n=this.\u0275inj=xt({providers:[Lk],imports:[IL,Vle,fle,kue,tne,dhe,fhe,Xhe,ane,jhe,Sne.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),Pne,hce,Nee]})}return n})();ZQ().bootstrapModule(Jhe).catch(n=>console.error(n))},106:($o,hi,Je)=>{Je.d(hi,{Z:()=>Hn});var I=Je(58),Ce=Je(537),z=Je(534),He=Je(879);class En{constructor(it,lt){this._delegate=it,this.firebase=lt,(0,z._addComponent)(it,new Ce.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(it,lt=z._DEFAULT_ENTRY_NAME){var $n;this._delegate.checkDestroyed();const Ti=this._delegate.container.getProvider(it);return!Ti.isInitialized()&&"EXPLICIT"===(null===($n=Ti.getComponent())||void 0===$n?void 0:$n.instantiationMode)&&Ti.initialize(),Ti.getImmediate({identifier:lt})}_removeServiceInstance(it,lt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(lt)}_addComponent(it){(0,z._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,z._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Rn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Pt(){const Ot=function Ci(Ot){const it={},lt={__esModule:!0,initializeApp:function on(dt,fi={}){const J=z.initializeApp(dt,fi);if((0,I.r3)(it,J.name))return it[J.name];const In=new Ot(J,lt);return it[J.name]=In,In},app:Ti,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Nt(dt){const fi=dt.name,J=fi.replace("-compat","");if(z._registerComponent(dt)&&"PUBLIC"===dt.type){const In=(xn=Ti())=>{if("function"!=typeof xn[J])throw Rn.create("invalid-app-argument",{appName:fi});return xn[J]()};void 0!==dt.serviceProps&&(0,I.ZB)(In,dt.serviceProps),lt[J]=In,Ot.prototype[J]=function(...xn){return this._getService.bind(this,fi).apply(this,dt.multipleInstances?xn:[])}}return"PUBLIC"===dt.type?lt[J]:null},removeApp:function $n(dt){delete it[dt]},useAsService:function Vi(dt,fi){return"serverAuth"===fi?null:fi},modularAPIs:z}};function Ti(dt){if(!(0,I.r3)(it,dt=dt||z._DEFAULT_ENTRY_NAME))throw Rn.create("no-app",{appName:dt});return it[dt]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function Ct(){return Object.keys(it).map(dt=>it[dt])}}),Ti.App=Ot,lt}(En);return Ot.INTERNAL=Object.assign(Object.assign({},Ot.INTERNAL),{createFirebaseNamespace:Pt,extendNamespace:function it(lt){(0,I.ZB)(Ot,lt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Ot}(),ae=new He.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Hn=te;!function It(Ot){(0,z.registerVersion)("@firebase/app-compat","0.2.22",Ot)}()},534:($o,hi,Je)=>{Je.r(hi),Je.d(hi,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>Yo,_DEFAULT_ENTRY_NAME:()=>vr,_addComponent:()=>Eo,_addOrOverwriteComponent:()=>Ji,_apps:()=>yr,_clearComponents:()=>Ko,_components:()=>Zo,_getProvider:()=>Es,_registerComponent:()=>Io,_removeServiceInstance:()=>Is,deleteApp:()=>to,getApp:()=>Ga,getApps:()=>Wa,initializeApp:()=>fl,onLog:()=>sa,registerVersion:()=>xs,setLogLevel:()=>yt});var I=Je(861),Ce=Je(537),z=Je(879),He=Je(58);const En=(H,N)=>N.some(oe=>H instanceof oe);let et,Rn;const te=new WeakMap,ae=new WeakMap,Te=new WeakMap,st=new WeakMap,It=new WeakMap;let it={get(H,N,oe){if(H instanceof IDBTransaction){if("done"===N)return ae.get(H);if("objectStoreNames"===N)return H.objectStoreNames||Te.get(H);if("store"===N)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return on(H[N])},set:(H,N,oe)=>(H[N]=oe,!0),has:(H,N)=>H instanceof IDBTransaction&&("done"===N||"store"===N)||N in H};function Ti(H){return"function"==typeof H?function $n(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pt(){return Rn||(Rn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...N){return H.apply(Ct(this),N),on(te.get(this))}:function(...N){return on(H.apply(Ct(this),N))}:function(N,...oe){const Ae=H.call(Ct(this),N,...oe);return Te.set(Ae,N.sort?N.sort():[N]),on(Ae)}}(H):(H instanceof IDBTransaction&&function Ot(H){if(ae.has(H))return;const N=new Promise((oe,Ae)=>{const Se=()=>{H.removeEventListener("complete",ht),H.removeEventListener("error",Lt),H.removeEventListener("abort",Lt)},ht=()=>{oe(),Se()},Lt=()=>{Ae(H.error||new DOMException("AbortError","AbortError")),Se()};H.addEventListener("complete",ht),H.addEventListener("error",Lt),H.addEventListener("abort",Lt)});ae.set(H,N)}(H),En(H,function Ci(){return et||(et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,it):H)}function on(H){if(H instanceof IDBRequest)return function Hn(H){const N=new Promise((oe,Ae)=>{const Se=()=>{H.removeEventListener("success",ht),H.removeEventListener("error",Lt)},ht=()=>{oe(on(H.result)),Se()},Lt=()=>{Ae(H.error),Se()};H.addEventListener("success",ht),H.addEventListener("error",Lt)});return N.then(oe=>{oe instanceof IDBCursor&&te.set(oe,H)}).catch(()=>{}),It.set(N,H),N}(H);if(st.has(H))return st.get(H);const N=Ti(H);return N!==H&&(st.set(H,N),It.set(N,H)),N}const Ct=H=>It.get(H),dt=["get","getKey","getAll","getAllKeys","count"],fi=["put","add","delete","clear"],J=new Map;function In(H,N){if(!(H instanceof IDBDatabase)||N in H||"string"!=typeof N)return;if(J.get(N))return J.get(N);const oe=N.replace(/FromIndex$/,""),Ae=N!==oe,Se=fi.includes(oe);if(!(oe in(Ae?IDBIndex:IDBObjectStore).prototype)||!Se&&!dt.includes(oe))return;const ht=function(){var Lt=(0,I.Z)(function*(ki,...On){const Xo=this.transaction(ki,Se?"readwrite":"readonly");let pl=Xo.store;return Ae&&(pl=pl.index(On.shift())),(yield Promise.all([pl[oe](...On),Se&&Xo.done]))[0]});return function(On){return Lt.apply(this,arguments)}}();return J.set(N,ht),ht}!function lt(H){it=H(it)}(H=>({...H,get:(N,oe,Ae)=>In(N,oe)||H.get(N,oe,Ae),has:(N,oe)=>!!In(N,oe)||H.has(N,oe)}));class xn{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Vr(H){const N=H.getComponent();return"VERSION"===N?.type}(oe)){const Ae=oe.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(oe=>oe).join(" ")}}const qo="@firebase/app",Xi=new z.Yd("@firebase/app"),vr="[DEFAULT]",hl={[qo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yr=new Map,Zo=new Map;function Eo(H,N){try{H.container.addComponent(N)}catch(oe){Xi.debug(`Component ${N.name} failed to register with FirebaseApp ${H.name}`,oe)}}function Ji(H,N){H.container.addOrOverwriteComponent(N)}function Io(H){const N=H.name;if(Zo.has(N))return Xi.debug(`There were multiple attempts to register component ${N}.`),!1;Zo.set(N,H);for(const oe of yr.values())Eo(oe,H);return!0}function Es(H,N){const oe=H.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),H.container.getProvider(N)}function Is(H,N,oe=vr){Es(H,N).clearInstance(oe)}function Ko(){Zo.clear()}const Ur=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Di{constructor(N,oe,Ae){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new Ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}const Yo="10.5.2";function fl(H,N={}){let oe=H;"object"!=typeof N&&(N={name:N});const Ae=Object.assign({name:vr,automaticDataCollectionEnabled:!1},N),Se=Ae.name;if("string"!=typeof Se||!Se)throw Ur.create("bad-app-name",{appName:String(Se)});if(oe||(oe=(0,He.aH)()),!oe)throw Ur.create("no-options");const ht=yr.get(Se);if(ht){if((0,He.vZ)(oe,ht.options)&&(0,He.vZ)(Ae,ht.config))return ht;throw Ur.create("duplicate-app",{appName:Se})}const Lt=new Ce.H0(Se);for(const On of Zo.values())Lt.addComponent(On);const ki=new Di(oe,Ae,Lt);return yr.set(Se,ki),ki}function Ga(H=vr){const N=yr.get(H);if(!N&&H===vr&&(0,He.aH)())return fl();if(!N)throw Ur.create("no-app",{appName:H});return N}function Wa(){return Array.from(yr.values())}function to(H){return Si.apply(this,arguments)}function Si(){return(Si=(0,I.Z)(function*(H){const N=H.name;yr.has(N)&&(yr.delete(N),yield Promise.all(H.container.getProviders().map(oe=>oe.delete())),H.isDeleted=!0)})).apply(this,arguments)}function xs(H,N,oe){var Ae;let Se=null!==(Ae=hl[H])&&void 0!==Ae?Ae:H;oe&&(Se+=`-${oe}`);const ht=Se.match(/\s|\//),Lt=N.match(/\s|\//);if(ht||Lt){const ki=[`Unable to register library "${Se}" with version "${N}":`];return ht&&ki.push(`library name "${Se}" contains illegal characters (whitespace or "/")`),ht&&Lt&&ki.push("and"),Lt&&ki.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void Xi.warn(ki.join(" "))}Io(new Ce.wA(`${Se}-version`,()=>({library:Se,version:N}),"VERSION"))}function sa(H,N){if(null!==H&&"function"!=typeof H)throw Ur.create("invalid-log-argument");(0,z.Am)(H,N)}function yt(H){(0,z.Ub)(H)}const Za="firebase-heartbeat-database",ml=1,D="firebase-heartbeat-store";let x=null;function C(){return x||(x=function Nt(H,N,{blocked:oe,upgrade:Ae,blocking:Se,terminated:ht}={}){const Lt=indexedDB.open(H,N),ki=on(Lt);return Ae&&Lt.addEventListener("upgradeneeded",On=>{Ae(on(Lt.result),On.oldVersion,On.newVersion,on(Lt.transaction),On)}),oe&&Lt.addEventListener("blocked",On=>oe(On.oldVersion,On.newVersion,On)),ki.then(On=>{ht&&On.addEventListener("close",()=>ht()),Se&&On.addEventListener("versionchange",Xo=>Se(Xo.oldVersion,Xo.newVersion,Xo))}).catch(()=>{}),ki}(Za,ml,{upgrade:(H,N)=>{0===N&&H.createObjectStore(D)}}).catch(H=>{throw Ur.create("idb-open",{originalErrorMessage:H.message})})),x}function L(){return(L=(0,I.Z)(function*(H){try{return yield(yield C()).transaction(D).objectStore(D).get(Mt(H))}catch(N){if(N instanceof He.ZR)Xi.warn(N.message);else{const oe=Ur.create("idb-get",{originalErrorMessage:N?.message});Xi.warn(oe.message)}}})).apply(this,arguments)}function se(H,N){return be.apply(this,arguments)}function be(){return(be=(0,I.Z)(function*(H,N){try{const Ae=(yield C()).transaction(D,"readwrite");yield Ae.objectStore(D).put(N,Mt(H)),yield Ae.done}catch(oe){if(oe instanceof He.ZR)Xi.warn(oe.message);else{const Ae=Ur.create("idb-set",{originalErrorMessage:oe?.message});Xi.warn(Ae.message)}}})).apply(this,arguments)}function Mt(H){return`${H.name}!${H.options.appId}`}class Bi{constructor(N){this.container=N,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new xo(oe),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var N=this;return(0,I.Z)(function*(){const Ae=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Se=gt();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==Se&&!N._heartbeatsCache.heartbeats.some(ht=>ht.date===Se))return N._heartbeatsCache.heartbeats.push({date:Se,agent:Ae}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(ht=>{const Lt=new Date(ht.date).valueOf();return Date.now()-Lt<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,I.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const oe=gt(),{heartbeatsToSend:Ae,unsentEntries:Se}=function Ai(H,N=1024){const oe=[];let Ae=H.slice();for(const Se of H){const ht=oe.find(Lt=>Lt.agent===Se.agent);if(ht){if(ht.dates.push(Se.date),Cs(oe)>N){ht.dates.pop();break}}else if(oe.push({agent:Se.agent,dates:[Se.date]}),Cs(oe)>N){oe.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Ae}}(N._heartbeatsCache.heartbeats),ht=(0,He.L)(JSON.stringify({version:2,heartbeats:Ae}));return N._heartbeatsCache.lastSentHeartbeatDate=oe,Se.length>0?(N._heartbeatsCache.heartbeats=Se,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),ht})()}}function gt(){return(new Date).toISOString().substring(0,10)}class xo{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,He.hl)()&&(0,He.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,I.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function G(H){return L.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var oe=this;return(0,I.Z)(function*(){var Ae;if(yield oe._canUseIndexedDBPromise){const ht=yield oe.read();return se(oe.app,{lastSentHeartbeatDate:null!==(Ae=N.lastSentHeartbeatDate)&&void 0!==Ae?Ae:ht.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var oe=this;return(0,I.Z)(function*(){var Ae;if(yield oe._canUseIndexedDBPromise){const ht=yield oe.read();return se(oe.app,{lastSentHeartbeatDate:null!==(Ae=N.lastSentHeartbeatDate)&&void 0!==Ae?Ae:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...N.heartbeats]})}})()}}function Cs(H){return(0,He.L)(JSON.stringify({version:2,heartbeats:H})).length}!function aa(H){Io(new Ce.wA("platform-logger",N=>new xn(N),"PRIVATE")),Io(new Ce.wA("heartbeat",N=>new Bi(N),"PRIVATE")),xs(qo,"0.9.22",H),xs(qo,"0.9.22","esm2017"),xs("fire-js","")}("")},537:($o,hi,Je)=>{Je.d(hi,{H0:()=>Ci,wA:()=>z});var I=Je(861),Ce=Je(58);class z{constructor(te,ae,Te){this.name=te,this.instanceFactory=ae,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const He="[DEFAULT]";class En{constructor(te,ae){this.name=te,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ae=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ae)){const Te=new Ce.BH;if(this.instancesDeferred.set(ae,Te),this.isInitialized(ae)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ae});st&&Te.resolve(st)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(te){var ae;const Te=this.normalizeInstanceIdentifier(te?.identifier),st=null!==(ae=te?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(It){if(st)return null;throw It}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Rn(Pt){return"EAGER"===Pt.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[ae,Te]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ae);try{const It=this.getOrInitializeService({instanceIdentifier:st});Te.resolve(It)}catch{}}}}clearInstance(te=He){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,I.Z)(function*(){const ae=Array.from(te.instances.values());yield Promise.all([...ae.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ae.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=He){return this.instances.has(te)}getOptions(te=He){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ae={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:Te,options:ae});for(const[It,Hn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(It)&&Hn.resolve(st);return st}onInit(te,ae){var Te;const st=this.normalizeInstanceIdentifier(ae),It=null!==(Te=this.onInitCallbacks.get(st))&&void 0!==Te?Te:new Set;It.add(te),this.onInitCallbacks.set(st,It);const Hn=this.instances.get(st);return Hn&&te(Hn,st),()=>{It.delete(te)}}invokeOnInitCallbacks(te,ae){const Te=this.onInitCallbacks.get(ae);if(Te)for(const st of Te)try{st(te,ae)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ae={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Pt=te,Pt===He?void 0:Pt),options:ae}),this.instances.set(te,Te),this.instancesOptions.set(te,ae),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch{}var Pt;return Te||null}normalizeInstanceIdentifier(te=He){return this.component?this.component.multipleInstances?te:He:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ci{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ae=this.getProvider(te.name);if(ae.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ae.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ae=new En(te,this);return this.providers.set(te,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:($o,hi,Je)=>{Je.d(hi,{Am:()=>Pt,Ub:()=>Ci,Yd:()=>Rn,in:()=>Ce});const I=[];var Ce=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(Ce||{});const z={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},He=Ce.INFO,En={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},et=(te,ae,...Te)=>{if(ae<te.logLevel)return;const st=(new Date).toISOString(),It=En[ae];if(!It)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[It](`[${st}]  ${te.name}:`,...Te)};class Rn{constructor(ae){this.name=ae,this._logLevel=He,this._logHandler=et,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in Ce))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?z[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...ae),this._logHandler(this,Ce.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...ae),this._logHandler(this,Ce.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...ae),this._logHandler(this,Ce.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...ae),this._logHandler(this,Ce.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...ae),this._logHandler(this,Ce.ERROR,...ae)}}function Ci(te){I.forEach(ae=>{ae.setLogLevel(te)})}function Pt(te,ae){for(const Te of I){let st=null;ae&&ae.level&&(st=z[ae.level]),Te.userLogHandler=null===te?null:(It,Hn,...Ot)=>{const it=Ot.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");Hn>=(st??It.logLevel)&&te({level:Ce[Hn].toLowerCase(),message:it,args:Ot,type:It.name})}}}},290:($o,hi,Je)=>{Je.r(hi);var I=Je(861),Ce=Je(106),z=Je(58),He=Je(534),En=Je(879),et=Je(582),Rn=Je(537);const Pt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Hn=function st(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ot=function It(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$n=new En.Yd("@firebase/auth");function on(f,...l){$n.logLevel<=En.in.ERROR&&$n.error(`Auth (${He.SDK_VERSION}): ${f}`,...l)}function Ct(f,...l){throw fi(f,...l)}function Nt(f,...l){return fi(f,...l)}function Vi(f,l,u){const m=Object.assign(Object.assign({},Ot()),{[l]:u});return new z.LL("auth","Firebase",m).create(l,{appName:f.name})}function dt(f,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&Ct(f,"argument-error"),Vi(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fi(f,...l){if("string"!=typeof f){const u=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(u,...m)}return it.create(f,...l)}function J(f,l,...u){if(!f)throw fi(l,...u)}function In(f){const l="INTERNAL ASSERTION FAILED: "+f;throw on(l),new Error(l)}function xn(f,l){f||In(l)}function Vr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function qo(){return"http:"===wo()||"https:"===wo()}function wo(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Br{constructor(l,u){this.shortDelay=l,this.longDelay=u,xn(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Xi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qo()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(f,l){xn(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class j{static initialize(l,u,m){this.fetchImpl=l,u&&(this.headersImpl=u),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Z=new Br(3e4,6e4);function ie(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function ee(f,l,u,m){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,I.Z)(function*(f,l,u,m,_={}){return ft(f,_,(0,I.Z)(function*(){let y={},T={};m&&("GET"===l?T=m:y={body:JSON.stringify(m)});const k=(0,z.xO)(Object.assign({key:f.config.apiKey},T)).slice(1),W=yield f._getAdditionalHeaders();return W["Content-Type"]="application/json",f.languageCode&&(W["X-Firebase-Locale"]=f.languageCode),j.fetch()(kn(f,f.config.apiHost,u,k),Object.assign({method:l,headers:W,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function ft(f,l,u){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,I.Z)(function*(f,l,u){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},Q),l);try{const _=new mi(f),y=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const T=yield y.json();if("needConfirmation"in T)throw qn(f,"account-exists-with-different-credential",T);if(y.ok&&!("errorMessage"in T))return T;{const k=y.ok?T.errorMessage:T.error.message,[W,fe]=k.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===W)throw qn(f,"credential-already-in-use",T);if("EMAIL_EXISTS"===W)throw qn(f,"email-already-in-use",T);if("USER_DISABLED"===W)throw qn(f,"user-disabled",T);const we=m[W]||W.toLowerCase().replace(/[_\s]+/g,"-");if(fe)throw Vi(f,we,fe);Ct(f,we)}}catch(_){if(_ instanceof z.ZR)throw _;Ct(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Re(f,l,u,m){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,I.Z)(function*(f,l,u,m,_={}){const y=yield ee(f,l,u,m,_);return"mfaPendingCredential"in y&&Ct(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function kn(f,l,u,m){const _=`${l}${u}?${m}`;return f.config.emulator?V(f.config,_):`${f.config.apiScheme}://${_}`}function Pe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,m)=>{this.timer=setTimeout(()=>m(Nt(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(f,l,u){const m={appName:f.name};u.email&&(m.email=u.email),u.phoneNumber&&(m.phoneNumber=u.phoneNumber);const _=Nt(f,l,m);return _.customData._tokenResponse=u,_}function ei(f){return void 0!==f&&void 0!==f.getResponse}function kt(f){return void 0!==f&&void 0!==f.enterprise}class gr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Pe(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Go(){return(Go=(0,I.Z)(function*(f){return(yield ee(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _r(f,l){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,I.Z)(function*(f,l){return ee(f,"GET","/v2/recaptchaConfig",ie(f,l))})).apply(this,arguments)}function vr(){return(vr=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function yr(){return(yr=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Eo(){return(Eo=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Ji(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Is(){return(Is=(0,I.Z)(function*(f,l=!1){const u=(0,z.m9)(f),m=yield u.getIdToken(l),_=Qo(m);J(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,T=y?.sign_in_provider;return{claims:_,token:m,authTime:Ji(Ko(_.auth_time)),issuedAtTime:Ji(Ko(_.iat)),expirationTime:Ji(Ko(_.exp)),signInProvider:T||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Ko(f){return 1e3*Number(f)}function Qo(f){const[l,u,m]=f.split(".");if(void 0===l||void 0===u||void 0===m)return on("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,z.tV)(u);return _?JSON.parse(_):(on("Failed to decode base64 JWT payload"),null)}catch(_){return on("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Di(f,l){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,I.Z)(function*(f,l,u=!1){if(u)return l;try{return yield l}catch(m){throw m instanceof z.ZR&&function fl({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class Ga{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,I.Z)(function*(){yield u.iteration()}),m)}iteration(){var l=this;return(0,I.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Wa{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function to(f){return Si.apply(this,arguments)}function Si(){return Si=(0,I.Z)(function*(f){var l;const u=f.auth,m=yield f.getIdToken(),_=yield Di(f,function Zo(f,l){return Eo.apply(this,arguments)}(u,{idToken:m}));J(_?.users.length,u,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const T=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Za(f){return f.map(l=>{var{providerId:u}=l,m=(0,et._T)(l,["providerId"]);return{providerId:u,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],k=function yt(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,T),we=!!f.isAnonymous&&!(f.email&&y.passwordHash||k?.length),ve={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:k,metadata:new Wa(y.createdAt,y.lastLoginAt),isAnonymous:we};Object.assign(f,ve)}),Si.apply(this,arguments)}function sa(){return(sa=(0,I.Z)(function*(f){const l=(0,z.m9)(f);yield to(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,I.Z)(function*(f,l){const u=yield ft(f,{},(0,I.Z)(function*(){const m=(0,z.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,T=kn(f,_,"/v1/token",`key=${y}`),k=yield f._getAdditionalHeaders();return k["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(T,{method:"POST",headers:k,body:m})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){J(l.idToken,"internal-error"),J(typeof l.idToken<"u","internal-error"),J(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Ur(f){const l=Qo(f);return J(l,"internal-error"),J(typeof l.exp<"u","internal-error"),J(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var m=this;return(0,I.Z)(function*(){return J(!m.accessToken||m.refreshToken,l,"user-token-expired"),u||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var m=this;return(0,I.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:T}=yield function ml(f,l){return D.apply(this,arguments)}(l,u);m.updateTokensAndExpiration(_,y,Number(T))})()}updateTokensAndExpiration(l,u,m){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,u){const{refreshToken:m,accessToken:_,expirationTime:y}=u,T=new x;return m&&(J("string"==typeof m,"internal-error",{appName:l}),T.refreshToken=m),_&&(J("string"==typeof _,"internal-error",{appName:l}),T.accessToken=_),y&&(J("number"==typeof y,"internal-error",{appName:l}),T.expirationTime=y),T}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return In("not implemented")}}function C(f,l){J("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class G{constructor(l){var{uid:u,auth:m,stsTokenManager:_}=l,y=(0,et._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ga(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Wa(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,I.Z)(function*(){const m=yield Di(u,u.stsTokenManager.getToken(u.auth,l));return J(m,u.auth,"internal-error"),u.accessToken!==m&&(u.accessToken=m,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),m})()}getIdTokenResult(l){return function Es(f){return Is.apply(this,arguments)}(this,l)}reload(){return function xs(f){return sa.apply(this,arguments)}(this)}_assign(l){this!==l&&(J(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new G(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var m=this;return(0,I.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),u&&(yield to(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,I.Z)(function*(){const u=yield l.getIdToken();return yield Di(l,function qa(f,l){return vr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var m,_,y,T,k,W,fe,we;const ve=null!==(m=u.displayName)&&void 0!==m?m:void 0,fn=null!==(_=u.email)&&void 0!==_?_:void 0,so=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,Qu=null!==(T=u.photoURL)&&void 0!==T?T:void 0,ba=null!==(k=u.tenantId)&&void 0!==k?k:void 0,wa=null!==(W=u._redirectEventId)&&void 0!==W?W:void 0,qv=null!==(fe=u.createdAt)&&void 0!==fe?fe:void 0,vI=null!==(we=u.lastLoginAt)&&void 0!==we?we:void 0,{uid:Yu,emailVerified:Gv,isAnonymous:yI,providerData:Jm,stsTokenManager:Wv}=u;J(Yu&&Wv,l,"internal-error");const bI=x.fromJSON(this.name,Wv);J("string"==typeof Yu,l,"internal-error"),C(ve,l.name),C(fn,l.name),J("boolean"==typeof Gv,l,"internal-error"),J("boolean"==typeof yI,l,"internal-error"),C(so,l.name),C(Qu,l.name),C(ba,l.name),C(wa,l.name),C(qv,l.name),C(vI,l.name);const Fs=new G({uid:Yu,auth:l,email:fn,emailVerified:Gv,displayName:ve,isAnonymous:yI,photoURL:Qu,phoneNumber:so,tenantId:ba,stsTokenManager:bI,createdAt:qv,lastLoginAt:vI});return Jm&&Array.isArray(Jm)&&(Fs.providerData=Jm.map(Zv=>Object.assign({},Zv))),wa&&(Fs._redirectEventId=wa),Fs}static _fromIdTokenResponse(l,u,m=!1){return(0,I.Z)(function*(){const _=new x;_.updateFromServerResponse(u);const y=new G({uid:u.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield to(y),y})()}}const L=new Map;function se(f){xn(f instanceof Function,"Expected a class definition");let l=L.get(f);return l?(xn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,L.set(f,l),l)}const Mt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(u,m){var _=this;return(0,I.Z)(function*(){_.storage[u]=m})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=m.storage[u];return void 0===_?null:_})()}_remove(u){var m=this;return(0,I.Z)(function*(){delete m.storage[u]})()}_addListener(u,m){}_removeListener(u,m){}}return f.type="NONE",f})();function pe(f,l,u){return`firebase:${f}:${l}:${u}`}class Wt{constructor(l,u,m){this.persistence=l,this.auth=u,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=pe(this.userKey,_.apiKey,y),this.fullPersistenceKey=pe("persistence",_.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,I.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?G._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,I.Z)(function*(){if(u.persistence===l)return;const m=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,m?u.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,m="authUser"){return(0,I.Z)(function*(){if(!u.length)return new Wt(se(Mt),l,m);const _=(yield Promise.all(u.map(function(){var fe=(0,I.Z)(function*(we){if(yield we._isAvailable())return we});return function(we){return fe.apply(this,arguments)}}()))).filter(fe=>fe);let y=_[0]||se(Mt);const T=pe(m,l.config.apiKey,l.name);let k=null;for(const fe of u)try{const we=yield fe._get(T);if(we){const ve=G._fromJSON(l,we);fe!==y&&(k=ve),y=fe;break}}catch{}const W=_.filter(fe=>fe._shouldAllowMigration);return y._shouldAllowMigration&&W.length?(y=W[0],k&&(yield y._set(T,k.toJSON())),yield Promise.all(u.map(function(){var fe=(0,I.Z)(function*(we){if(we!==y)try{yield we._remove(T)}catch{}});return function(we){return fe.apply(this,arguments)}}())),new Wt(y,l,m)):new Wt(y,l,m)})()}}function Bi(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Cs(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(gt(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(H(l))return"Blackberry";if(N(l))return"Webos";if(Ai(l))return"Safari";if((l.includes("chrome/")||xo(l))&&!l.includes("edge/"))return"Chrome";if(aa(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function gt(f=(0,z.z$)()){return/firefox\//i.test(f)}function Ai(f=(0,z.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function xo(f=(0,z.z$)()){return/crios\//i.test(f)}function Cs(f=(0,z.z$)()){return/iemobile/i.test(f)}function aa(f=(0,z.z$)()){return/android/i.test(f)}function H(f=(0,z.z$)()){return/blackberry/i.test(f)}function N(f=(0,z.z$)()){return/webos/i.test(f)}function oe(f=(0,z.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Lt(f=(0,z.z$)()){return oe(f)||aa(f)||N(f)||H(f)||/windows phone/i.test(f)||Cs(f)}function On(f,l=[]){let u;switch(f){case"Browser":u=Bi((0,z.z$)());break;case"Worker":u=`${Bi((0,z.z$)())}-${f}`;break;default:u=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${He.SDK_VERSION}/${m}`}class Xo{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const m=y=>new Promise((T,k)=>{try{T(l(y))}catch(W){k(W)}});m.onAbort=u,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,I.Z)(function*(){if(u.auth.currentUser===l)return;const m=[];try{for(const _ of u.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Jf(){return(Jf=(0,I.Z)(function*(f,l={}){return ee(f,"GET","/v2/passwordPolicy",ie(f,l))})).apply(this,arguments)}class gE{constructor(l){var u,m,_,y;const T=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=T.minPasswordLength)&&void 0!==u?u:6,T.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=T.maxPasswordLength),void 0!==T.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=T.containsLowercaseCharacter),void 0!==T.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=T.containsUppercaseCharacter),void 0!==T.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=T.containsNumericCharacter),void 0!==T.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=T.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,m,_,y,T,k;const W={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,W),this.validatePasswordCharacterOptions(l,W),W.isValid&&(W.isValid=null===(u=W.meetsMinPasswordLength)||void 0===u||u),W.isValid&&(W.isValid=null===(m=W.meetsMaxPasswordLength)||void 0===m||m),W.isValid&&(W.isValid=null===(_=W.containsLowercaseLetter)||void 0===_||_),W.isValid&&(W.isValid=null===(y=W.containsUppercaseLetter)||void 0===y||y),W.isValid&&(W.isValid=null===(T=W.containsNumericCharacter)||void 0===T||T),W.isValid&&(W.isValid=null===(k=W.containsNonAlphanumericCharacter)||void 0===k||k),W}validatePasswordLengthOptions(l,u){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(u.meetsMinPasswordLength=l.length>=m),_&&(u.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,u){let m;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,u,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class pi{constructor(l,u,m,_){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new no(this),this.idTokenSubscription=new no(this),this.beforeStateQueue=new Xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,u){var m=this;return u&&(this._popupRedirectResolver=se(u)),this._initializationPromise=this.queue((0,I.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield Wt.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(u),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,I.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,I.Z)(function*(){var m;const _=yield u.assertedPersistence.getCurrentUser();let y=_,T=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const k=null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId,W=y?._redirectEventId,fe=yield u.tryRedirectSignIn(l);(!k||k===W)&&fe?.user&&(y=fe.user,T=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(T)try{yield u.beforeStateQueue.runMiddleware(y)}catch(k){y=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(k))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return J(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var u=this;return(0,I.Z)(function*(){let m=null;try{m=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,I.Z)(function*(){try{yield to(l)}catch(m){if("auth/network-request-failed"!==m?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function $a(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,I.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,I.Z)(function*(){const m=l?(0,z.m9)(l):null;return m&&J(m.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(m&&m._clone(u))})()}_updateCurrentUser(l,u=!1){var m=this;return(0,I.Z)(function*(){if(!m._deleted)return l&&J(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),u||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,I.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,I.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,I.Z)(function*(){yield u.assertedPersistence.setPersistence(se(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,I.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const m=u._getPasswordPolicyInternal();return m.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,I.Z)(function*(){const u=yield function pl(f){return Jf.apply(this,arguments)}(l),m=new gE(u);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new z.LL("auth","Firebase",l())}onAuthStateChanged(l,u,m){return this.registerStateListener(this.authStateSubscription,l,u,m)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,m){return this.registerStateListener(this.idTokenSubscription,l,u,m)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},u)}})}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var m=this;return(0,I.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(u);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,I.Z)(function*(){if(!u.redirectPersistenceManager){const m=l&&se(l)||u._popupRedirectResolver;J(m,u,"argument-error"),u.redirectPersistenceManager=yield Wt.create(u,[se(m._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,I.Z)(function*(){var m,_;return u._isInitialized&&(yield u.queue((0,I.Z)(function*(){}))),(null===(m=u._currentUser)||void 0===m?void 0:m._redirectEventId)===l?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,I.Z)(function*(){if(l===u.currentUser)return u.queue((0,I.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,m,_){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let T=!1;const k=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(k,this,"internal-error"),k.then(()=>{T||y(this.currentUser)}),"function"==typeof u){const W=l.addObserver(u,m,_);return()=>{T=!0,W()}}{const W=l.addObserver(u);return()=>{T=!0,W()}}}directlySetCurrentUser(l){var u=this;return(0,I.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=On(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,I.Z)(function*(){var u;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,I.Z)(function*(){var u;const m=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return m?.error&&function Ti(f,...l){$n.logLevel<=En.in.WARN&&$n.warn(`Auth (${He.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function Vt(f){return(0,z.m9)(f)}class no{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,z.ne)(u=>this.observer=u)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function em(f){return new Promise((l,u)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=Nt("internal-error");y.customData=_,u(y)},m.type="text/javascript",m.charset="UTF-8",function _M(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function tm(f){return`__${f}${Math.floor(1e6*Math.random())}`}class z_{constructor(l){this.type="recaptcha-enterprise",this.auth=Vt(l)}verify(l="verify",u=!1){var m=this;return(0,I.Z)(function*(){function y(){return y=(0,I.Z)(function*(k){if(!u){if(null==k.tenantId&&null!=k._agentRecaptchaConfig)return k._agentRecaptchaConfig.siteKey;if(null!=k.tenantId&&void 0!==k._tenantRecaptchaConfigs[k.tenantId])return k._tenantRecaptchaConfigs[k.tenantId].siteKey}return new Promise(function(){var W=(0,I.Z)(function*(fe,we){_r(k,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ve=>{if(void 0!==ve.recaptchaKey){const fn=new gr(ve);return null==k.tenantId?k._agentRecaptchaConfig=fn:k._tenantRecaptchaConfigs[k.tenantId]=fn,fe(fn.siteKey)}we(new Error("recaptcha Enterprise site key undefined"))}).catch(ve=>{we(ve)})});return function(fe,we){return W.apply(this,arguments)}}())}),y.apply(this,arguments)}function T(k,W,fe){const we=window.grecaptcha;kt(we)?we.enterprise.ready(()=>{we.enterprise.execute(k,{action:l}).then(ve=>{W(ve)}).catch(()=>{W("NO_RECAPTCHA")})}):fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((k,W)=>{(function _(k){return y.apply(this,arguments)})(m.auth).then(fe=>{if(!u&&kt(window.grecaptcha))T(fe,k,W);else{if(typeof window>"u")return void W(new Error("RecaptchaVerifier is only supported in browser"));em("https://www.google.com/recaptcha/enterprise.js?render="+fe).then(()=>{T(fe,k,W)}).catch(we=>{W(we)})}}).catch(fe=>{W(fe)})})})()}}function Ts(f,l,u){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,I.Z)(function*(f,l,u,m=!1){const _=new z_(f);let y;try{y=yield _.verify(u)}catch{y=yield _.verify(u,!0)}const T=Object.assign({},l);return Object.assign(T,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(T,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(T,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),T})).apply(this,arguments)}function iu(f,l,u,m){return im.apply(this,arguments)}function im(){return im=(0,I.Z)(function*(f,l,u,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield Ts(f,l,u,"getOobCode"===u);return m(f,y)}return m(f,l).catch(function(){var y=(0,I.Z)(function*(T){if("auth/missing-recaptcha-token"===T.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const k=yield Ts(f,l,u,"getOobCode"===u);return m(f,k)}return Promise.reject(T)});return function(T){return y.apply(this,arguments)}}())}),im.apply(this,arguments)}function qt(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function er(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class es{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return In("not implemented")}_getIdTokenResponse(l){return In("not implemented")}_linkToIdToken(l,u){return In("not implemented")}_getReauthenticationResolver(l){return In("not implemented")}}function ru(f,l){return un.apply(this,arguments)}function un(){return(un=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:resetPassword",ie(f,l))})).apply(this,arguments)}function vl(f,l){return om.apply(this,arguments)}function om(){return(om=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ka(){return(Ka=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",ie(f,l))})).apply(this,arguments)}function Nn(f,l){return yl.apply(this,arguments)}function yl(){return(yl=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithPassword",ie(f,l))})).apply(this,arguments)}function sm(f,l){return am.apply(this,arguments)}function am(){return(am=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:sendOobCode",ie(f,l))})).apply(this,arguments)}function Le(){return(Le=(0,I.Z)(function*(f,l){return sm(f,l)})).apply(this,arguments)}function ou(f,l){return bl.apply(this,arguments)}function bl(){return(bl=(0,I.Z)(function*(f,l){return sm(f,l)})).apply(this,arguments)}function vM(f,l){return su.apply(this,arguments)}function su(){return(su=(0,I.Z)(function*(f,l){return sm(f,l)})).apply(this,arguments)}function Ss(){return(Ss=(0,I.Z)(function*(f,l){return sm(f,l)})).apply(this,arguments)}function El(){return(El=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,l))})).apply(this,arguments)}function au(){return(au=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,l))})).apply(this,arguments)}class br extends es{constructor(l,u,m,_=null){super("password",m),this._email=l,this._password=u,this._tenantId=_}static _fromEmailAndPassword(l,u){return new br(l,u,"password")}static _fromEmailAndCode(l,u,m=null){return new br(l,u,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,I.Z)(function*(){switch(u.signInMethod){case"password":return iu(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Nn);case"emailLink":return function wl(f,l){return El.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:Ct(l,"internal-error")}})()}_linkToIdToken(l,u){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return vl(l,{idToken:u,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function cm(f,l){return au.apply(this,arguments)}(l,{idToken:u,email:m._email,oobCode:m._password});default:Ct(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function wr(f,l){return cu.apply(this,arguments)}function cu(){return(cu=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithIdp",ie(f,l))})).apply(this,arguments)}class rt extends es{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new rt(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):Ct("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=u,y=(0,et._T)(u,["providerId","signInMethod"]);if(!m||!_)return null;const T=new rt(m,_);return T.idToken=y.idToken||void 0,T.accessToken=y.accessToken||void 0,T.secret=y.secret,T.nonce=y.nonce,T.pendingToken=y.pendingToken||null,T}_getIdTokenResponse(l){return wr(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,wr(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,wr(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,z.xO)(u)}return l}}function lm(){return(lm=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:sendVerificationCode",ie(f,l))})).apply(this,arguments)}function q_(){return(q_=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,l))})).apply(this,arguments)}function Il(){return(Il=(0,I.Z)(function*(f,l){const u=yield Re(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,l));if(u.temporaryProof)throw qn(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Er={USER_NOT_FOUND:"user-not-found"};function dm(){return(dm=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Er)})).apply(this,arguments)}class Qa extends es{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new Qa({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new Qa({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function yE(f,l){return q_.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function bE(f,l){return Il.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function bM(f,l){return dm.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:m,verificationCode:_}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||u||_||y?new Qa({verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class lu{constructor(l){var u,m,_,y,T,k;const W=(0,z.zd)((0,z.pd)(l)),fe=null!==(u=W.apiKey)&&void 0!==u?u:null,we=null!==(m=W.oobCode)&&void 0!==m?m:null,ve=function As(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=W.mode)&&void 0!==_?_:null);J(fe&&we&&ve,"argument-error"),this.apiKey=fe,this.operation=ve,this.code=we,this.continueUrl=null!==(y=W.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(T=W.languageCode)&&void 0!==T?T:null,this.tenantId=null!==(k=W.tenantId)&&void 0!==k?k:null}static parseLink(l){const u=function wM(f){const l=(0,z.zd)((0,z.pd)(f)).link,u=l?(0,z.zd)((0,z.pd)(l)).deep_link_id:null,m=(0,z.zd)((0,z.pd)(f)).deep_link_id;return(m?(0,z.zd)((0,z.pd)(m)).link:null)||m||u||l||f}(l);try{return new lu(u)}catch{return null}}}let G_=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,m){return br._fromEmailAndPassword(u,m)}static credentialWithLink(u,m){const _=lu.parseLink(m);return J(_,"argument-error"),br._fromEmailAndCode(u,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class ts{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class xl extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Ya extends xl{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return J("providerId"in u&&"signInMethod"in u,"argument-error"),rt._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return J(l.idToken||l.accessToken,"argument-error"),rt._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Ya.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Ya.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:T,providerId:k}=l;if(!m&&!_&&!u&&!y||!k)return null;try{return new Ya(k)._credential({idToken:u,accessToken:m,nonce:T,pendingToken:y})}catch{return null}}}let wE=(()=>{class f extends xl{constructor(){super("facebook.com")}static credential(u){return rt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Ui=(()=>{class f extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(u,m){return rt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_}=u;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Ve=(()=>{class f extends xl{constructor(){super("github.com")}static credential(u){return rt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Cl extends es{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return wr(l,this.buildRequest())}_linkToIdToken(l,u){const m=this.buildRequest();return m.idToken=u,wr(l,m)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,wr(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=u;return m&&_&&y&&m===_?new Cl(m,y):null}static _create(l,u){return new Cl(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class um extends ts{constructor(l){J(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return um.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return um.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Cl.fromJSON(l);return J(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:m}=l;if(!u||!m)return null;try{return Cl._create(m,u)}catch{return null}}}let ce=(()=>{class f extends xl{constructor(){super("twitter.com")}static credential(u,m){return rt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:m})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=u;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function EE(f,l){return xt.apply(this,arguments)}function xt(){return(xt=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signUp",ie(f,l))})).apply(this,arguments)}class ji{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,m,_=!1){return(0,I.Z)(function*(){const y=yield G._fromIdTokenResponse(l,m,_),T=W_(m);return new ji({user:y,providerId:T,_tokenResponse:m,operationType:u})})()}static _forOperation(l,u,m){return(0,I.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=W_(m);return new ji({user:l,providerId:_,_tokenResponse:m,operationType:u})})()}}function W_(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function hm(){return(hm=(0,I.Z)(function*(f){var l;const u=Vt(f);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new ji({user:u.currentUser,providerId:null,operationType:"signIn"});const m=yield EE(u,{returnSecureToken:!0}),_=yield ji._fromIdTokenResponse(u,"signIn",m,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class ca extends z.ZR{constructor(l,u,m,_){var y;super(u.code,u.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,ca.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,u,m,_){return new ca(l,u,m,_)}}function Tl(f,l,u,m){return("reauthenticate"===l?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?ca._fromErrorAndOperation(f,y,l,m):y})}function du(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function fm(){return fm=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f);yield Sl(!0,u,l);const{providerUserInfo:m}=yield function hl(f,l){return yr.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),_=du(m||[]);return u.providerData=u.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),fm.apply(this,arguments)}function at(f,l){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,I.Z)(function*(f,l,u=!1){const m=yield Di(f,l._linkToIdToken(f.auth,yield f.getIdToken()),u);return ji._forOperation(f,"link",m)})).apply(this,arguments)}function Sl(f,l,u){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,I.Z)(function*(f,l,u){yield to(l);const _=!1===f?"provider-already-linked":"no-such-provider";J(du(l.providerData).has(u)===f,l.auth,_)})).apply(this,arguments)}function mm(f,l){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,I.Z)(function*(f,l,u=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield Di(f,Tl(m,_,l,f),u);J(y.idToken,m,"internal-error");const T=Qo(y.idToken);J(T,m,"internal-error");const{sub:k}=T;return J(f.uid===k,m,"user-mismatch"),ji._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&Ct(m,"user-mismatch"),y}})).apply(this,arguments)}function Zt(f,l){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,I.Z)(function*(f,l,u=!1){const m="signIn",_=yield Tl(f,m,l),y=yield ji._fromIdTokenResponse(f,m,_);return u||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function pm(f,l){return X.apply(this,arguments)}function X(){return(X=(0,I.Z)(function*(f,l){return Zt(Vt(f),l)})).apply(this,arguments)}function uu(f,l){return Al.apply(this,arguments)}function Al(){return(Al=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f);return yield Sl(!1,u,l.providerId),at(u,l)})).apply(this,arguments)}function gm(f,l){return kl.apply(this,arguments)}function kl(){return(kl=(0,I.Z)(function*(f,l){return mm((0,z.m9)(f),l)})).apply(this,arguments)}function Ml(){return(Ml=(0,I.Z)(function*(f,l){return Re(f,"POST","/v1/accounts:signInWithCustomToken",ie(f,l))})).apply(this,arguments)}function X_(){return X_=(0,I.Z)(function*(f,l){const u=Vt(f),m=yield function IE(f,l){return Ml.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),_=yield ji._fromIdTokenResponse(u,"signIn",m);return yield u._updateCurrentUser(_.user),_}),X_.apply(this,arguments)}class hu{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?J_._fromServerResponse(l,u):"totpInfo"in u?ev._fromServerResponse(l,u):Ct(l,"internal-error")}}class J_ extends hu{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new J_(u)}}class ev extends hu{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new ev(u)}}function ks(f,l,u){var m;J((null===(m=u.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),J(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(J(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(J(u.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function Rl(f){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,I.Z)(function*(f){const l=Vt(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function _m(){return(_m=(0,I.Z)(function*(f,l,u){const m=Vt(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&ks(m,_,u),yield iu(m,_,"getOobCode",ou)})).apply(this,arguments)}function fu(){return fu=(0,I.Z)(function*(f,l,u){yield ru((0,z.m9)(f),{oobCode:l,newPassword:u}).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rl(f),_});return function(_){return m.apply(this,arguments)}}())}),fu.apply(this,arguments)}function vm(){return vm=(0,I.Z)(function*(f,l){yield function Bt(f,l){return Ka.apply(this,arguments)}((0,z.m9)(f),{oobCode:l})}),vm.apply(this,arguments)}function ns(f,l){return ym.apply(this,arguments)}function ym(){return(ym=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f),m=yield ru(u,{oobCode:l}),_=m.requestType;switch(J(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(m.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(m.mfaInfo,u,"internal-error");default:J(m.email,u,"internal-error")}let y=null;return m.mfaInfo&&(y=hu._fromServerResponse(Vt(u),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function mu(){return(mu=(0,I.Z)(function*(f,l){const{data:u}=yield ns((0,z.m9)(f),l);return u.email})).apply(this,arguments)}function ec(){return(ec=(0,I.Z)(function*(f,l,u){const m=Vt(f),T=yield iu(m,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EE).catch(W=>{throw"auth/password-does-not-meet-requirements"===W.code&&Rl(f),W}),k=yield ji._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}function wm(){return(wm=(0,I.Z)(function*(f,l,u){const m=Vt(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(T,k){J(k.handleCodeInApp,m,"argument-error"),k&&ks(m,T,k)})(_,u),yield iu(m,_,"getOobCode",vM)})).apply(this,arguments)}function io(){return(io=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f),_=G_.credentialWithLink(l,u||Vr());return J(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),pm(m,_)})).apply(this,arguments)}function Ir(){return(Ir=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:createAuthUri",ie(f,l))})).apply(this,arguments)}function bt(){return bt=(0,I.Z)(function*(f,l){const m={identifier:l,continueUri:qo()?Vr():"http://localhost"},{signinMethods:_}=yield function pu(f,l){return Ir.apply(this,arguments)}((0,z.m9)(f),m);return _||[]}),bt.apply(this,arguments)}function Ol(){return Ol=(0,I.Z)(function*(f,l){const u=(0,z.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&ks(u.auth,_,l);const{email:y}=yield function Ut(f,l){return Le.apply(this,arguments)}(u.auth,_);y!==f.email&&(yield f.reload())}),Ol.apply(this,arguments)}function gu(){return gu=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};u&&ks(m.auth,y,u);const{email:T}=yield function U(f,l){return Ss.apply(this,arguments)}(m.auth,y);T!==f.email&&(yield f.reload())}),gu.apply(this,arguments)}function _u(){return(_u=(0,I.Z)(function*(f,l){return ee(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Em(){return Em=(0,I.Z)(function*(f,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const m=(0,z.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},T=yield Di(m,function Nl(f,l){return _u.apply(this,arguments)}(m.auth,y));m.displayName=T.displayName||null,m.photoURL=T.photoUrl||null;const k=m.providerData.find(({providerId:W})=>"password"===W);k&&(k.displayName=m.displayName,k.photoURL=m.photoURL),yield m._updateTokensIfNecessary(T)}),Em.apply(this,arguments)}function ov(f,l,u){return xr.apply(this,arguments)}function xr(){return(xr=(0,I.Z)(function*(f,l,u){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),u&&(y.password=u);const T=yield Di(f,vl(m,y));yield f._updateTokensIfNecessary(T,!0)})).apply(this,arguments)}class la{constructor(l,u,m={}){this.isNewUser=l,this.providerId=u,this.profile=m}}class sv extends la{constructor(l,u,m,_){super(l,u,m),this.username=_}}class kE extends la{constructor(l,u){super(l,"facebook.com",u)}}class ME extends sv{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class RE extends la{constructor(l,u){super(l,"google.com",u)}}class av extends sv{constructor(l,u,m){super(l,"twitter.com",u,m)}}function PE(f){const{user:l,_tokenResponse:u}=f;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function AE(f){var l,u;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const T=null===(u=null===(l=Qo(f.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(T)return new la(y,"anonymous"!==T&&"custom"!==T?T:null)}if(!m)return null;switch(m){case"facebook.com":return new kE(y,_);case"github.com":return new ME(y,_);case"google.com":return new RE(y,_);case"twitter.com":return new av(y,_,f.screenName||null);case"custom":case"anonymous":return new la(y,null);default:return new la(y,m,_)}}(u)}class tr{constructor(l,u,m){this.type=l,this.credential=u,this.user=m}static _fromIdtoken(l,u){return new tr("enroll",l,u)}static _fromMfaPendingCredential(l){return new tr("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,m;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return tr._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return tr._fromIdtoken(l.multiFactorSession.idToken)}return null}}class ni{constructor(l,u,m){this.session=l,this.hints=u,this.signInResolver=m}static _fromError(l,u){const m=Vt(l),_=u.customData._serverResponse,y=(_.mfaInfo||[]).map(k=>hu._fromServerResponse(m,k));J(_.mfaPendingCredential,m,"internal-error");const T=tr._fromMfaPendingCredential(_.mfaPendingCredential);return new ni(T,y,function(){var k=(0,I.Z)(function*(W){const fe=yield W._process(m,T);delete _.mfaInfo,delete _.mfaPendingCredential;const we=Object.assign(Object.assign({},_),{idToken:fe.idToken,refreshToken:fe.refreshToken});switch(u.operationType){case"signIn":const ve=yield ji._fromIdTokenResponse(m,u.operationType,we);return yield m._updateCurrentUser(ve.user),ve;case"reauthenticate":return J(u.user,m,"internal-error"),ji._forOperation(u.user,u.operationType,we);default:Ct(m,"internal-error")}});return function(W){return k.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,I.Z)(function*(){return u.signInResolver(l)})()}}class de{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(m=>hu._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new de(l)}getSession(){var l=this;return(0,I.Z)(function*(){return tr._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var m=this;return(0,I.Z)(function*(){const _=l,y=yield m.getSession(),T=yield Di(m.user,_._process(m.user.auth,y,u));return yield m.user._updateTokensIfNecessary(T),m.user.reload()})()}unenroll(l){var u=this;return(0,I.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield u.user.getIdToken();try{const y=yield Di(u.user,function Cn(f,l){return ee(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ie(f,l))}(u.user.auth,{idToken:_,mfaEnrollmentId:m}));u.enrolledFactors=u.enrolledFactors.filter(({uid:T})=>T!==m),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Ue=new WeakMap,nr="__sak";class gi{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(nr,"1"),this.storage.removeItem(nr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const is=(()=>{class f extends gi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,m)=>this.onStorageEvent(u,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function To(){const f=(0,z.z$)();return Ai(f)||oe(f)}()&&function ki(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Lt(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&u(m,y,_)}}onStorageEvent(u,m=!1){if(!u.key)return void this.forAllChangedKeys((k,W,fe)=>{this.notifyListeners(k,fe)});const _=u.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const k=this.storage.getItem(_);if(u.newValue!==k)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!m)return}const y=()=>{const k=this.storage.getItem(_);!m&&this.localCache[_]===k||this.notifyListeners(_,k)},T=this.storage.getItem(_);!function ht(){return(0,z.w1)()&&10===document.documentMode}()||T===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,m){var _=()=>super._set,y=this;return(0,I.Z)(function*(){yield _().call(y,u,m),y.localCache[u]=JSON.stringify(m)})()}_get(u){var m=()=>super._get,_=this;return(0,I.Z)(function*(){const y=yield m().call(_,u);return _.localCache[u]=JSON.stringify(y),y})()}_remove(u){var m=()=>super._remove,_=this;return(0,I.Z)(function*(){yield m().call(_,u),delete _.localCache[u]})()}}return f.type="LOCAL",f})(),jr=(()=>{class f extends gi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,m){}_removeListener(u,m){}}return f.type="SESSION",f})();let nc=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const m=this.receivers.find(y=>y.isListeningto(u));if(m)return m;const _=new f(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var m=this;return(0,I.Z)(function*(){const _=u,{eventId:y,eventType:T,data:k}=_.data,W=m.handlersMap[T];if(!W?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:T});const fe=Array.from(W).map(function(){var ve=(0,I.Z)(function*(fn){return fn(_.origin,k)});return function(fn){return ve.apply(this,arguments)}}()),we=yield function dv(f){return Promise.all(f.map(function(){var l=(0,I.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(m){return{fulfilled:!1,reason:m}}});return function(u){return l.apply(this,arguments)}}()))}(fe);_.ports[0].postMessage({status:"done",eventId:y,eventType:T,response:we})})()}_subscribe(u,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(m)}_unsubscribe(u,m){this.handlersMap[u]&&m&&this.handlersMap[u].delete(m),(!m||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Kt(f="",l=10){let u="";for(let m=0;m<l;m++)u+=Math.floor(10*Math.random());return f+u}class Fl{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,m=50){var _=this;return(0,I.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let T,k;return new Promise((W,fe)=>{const we=Kt("",20);y.port1.start();const ve=setTimeout(()=>{fe(new Error("unsupported_event"))},m);k={messageChannel:y,onMessage(fn){const so=fn;if(so.data.eventId===we)switch(so.data.status){case"ack":clearTimeout(ve),T=setTimeout(()=>{fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(T),W(so.data.response);break;default:clearTimeout(ve),clearTimeout(T),fe(new Error("invalid_response"))}}},_.handlers.add(k),y.port1.addEventListener("message",k.onMessage),_.target.postMessage({eventType:l,eventId:we,data:u},[y.port2])}).finally(()=>{k&&_.removeMessageHandler(k)})})()}}function sn(){return window}function da(){return typeof sn().WorkerGlobalScope<"u"&&"function"==typeof sn().importScripts}function So(){return(So=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const je="firebaseLocalStorageDb",Ll="firebaseLocalStorage",bu="fbase_key";class rr{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function ha(f,l){return f.transaction([Ll],l?"readwrite":"readonly").objectStore(Ll)}function fa(){const f=indexedDB.open(je,1);return new Promise((l,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Ll,{keyPath:bu})}catch(_){u(_)}}),f.addEventListener("success",(0,I.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Ll)?l(m):(m.close(),yield function ic(){const f=indexedDB.deleteDatabase(je);return new rr(f).toPromise()}(),l(yield fa()))}))})}function Tn(f,l,u){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,I.Z)(function*(f,l,u){const m=ha(f,!0).put({[bu]:l,value:u});return new rr(m).toPromise()})).apply(this,arguments)}function Vl(){return(Vl=(0,I.Z)(function*(f,l){const u=ha(f,!1).get(l),m=yield new rr(u).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Ms(f,l){const u=ha(f,!0).delete(l);return new rr(u).toPromise()}const rc=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,I.Z)(function*(){return u.db||(u.db=yield fa()),u.db})()}_withRetries(u){var m=this;return(0,I.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield u(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,I.Z)(function*(){return da()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,I.Z)(function*(){u.receiver=nc._getInstance(function ua(){return da()?self:null}()),u.receiver._subscribe("keyChanged",function(){var m=(0,I.Z)(function*(_,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var m=(0,I.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,I.Z)(function*(){var m,_;if(u.activeServiceWorker=yield function uv(){return So.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Fl(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var m=this;return(0,I.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function yu(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:u},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const u=yield fa();return yield Tn(u,nr,"1"),yield Ms(u,nr),!0}catch{}return!1})()}_withPendingWrite(u){var m=this;return(0,I.Z)(function*(){m.pendingWrites++;try{yield u()}finally{m.pendingWrites--}})()}_set(u,m){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(y=>Tn(y,u,m)),_.localCache[u]=m,_.notifyServiceWorker(u)}))})()}_get(u){var m=this;return(0,I.Z)(function*(){const _=yield m._withRetries(y=>function ii(f,l){return Vl.apply(this,arguments)}(y,u));return m.localCache[u]=_,_})()}_remove(u){var m=this;return(0,I.Z)(function*(){return m._withPendingWrite((0,I.Z)(function*(){return yield m._withRetries(_=>Ms(_,u)),delete m.localCache[u],m.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,I.Z)(function*(){const m=yield u._withRetries(T=>{const k=ha(T,!1).getAll();return new rr(k).toPromise()});if(!m)return[];if(0!==u.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:T,value:k}of m)y.add(T),JSON.stringify(u.localCache[T])!==JSON.stringify(k)&&(u.notifyListeners(T,k),_.push(T));for(const T of Object.keys(u.localCache))u.localCache[T]&&!y.has(T)&&(u.notifyListeners(T,null),_.push(T));return _})()}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const y of Array.from(_))y(m)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Dm=1e12;class SM{constructor(l){this.auth=l,this.counter=Dm,this._widgets=new Map}render(l,u){const m=this.counter;return this._widgets.set(m,new AM(l,this.auth.name,u||{})),this.counter++,m}reset(l){var u;const m=l||Dm;null===(u=this._widgets.get(m))||void 0===u||u.delete(),this._widgets.delete(m)}getResponse(l){var u;return(null===(u=this._widgets.get(l||Dm))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,I.Z)(function*(){var m;return null===(m=u._widgets.get(l||Dm))||void 0===m||m.execute(),""})()}}class AM{constructor(l,u,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;J(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kM(f){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mv=tm("rcb"),MM=new Br(3e4,6e4);class PM{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=sn().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return J(function OM(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&ei(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((m,_)=>{const y=sn().setTimeout(()=>{_(Nt(l,"network-request-failed"))},MM.get());sn()[mv]=()=>{sn().clearTimeout(y),delete sn()[mv];const k=sn().grecaptcha;if(!k||!ei(k))return void _(Nt(l,"internal-error"));const W=k.render;k.render=(fe,we)=>{const ve=W(fe,we);return this.counter++,ve},this.hostLanguage=u,m(k)},em(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:mv,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),_(Nt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=sn().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class NM{load(l){return(0,I.Z)(function*(){return new SM(l)})()}clearedOneInstance(){}}const BE="recaptcha",FM={theme:"light",type:"image"};class pv{constructor(l,u,m=Object.assign({},FM)){this.parameters=m,this.type=BE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(l),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;J(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new NM:new PM,this.validateStartingState()}verify(){var l=this;return(0,I.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(u)||new Promise(y=>{const T=k=>{k&&(l.tokenChangeListeners.delete(T),y(k))};l.tokenChangeListeners.add(T),l.isInvisible&&m.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(m=>m(u)),"function"==typeof l)l(u);else if("string"==typeof l){const m=sn()[l];"function"==typeof m&&m(u)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,I.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const m=document.createElement("div");u.appendChild(m),u=m}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,I.Z)(function*(){J(qo()&&!da(),l.auth,"internal-error"),yield function gv(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function ul(f){return Go.apply(this,arguments)}(l.auth);J(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _v{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=Qa._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function vv(){return(vv=(0,I.Z)(function*(f,l,u){const m=Vt(f),_=yield Bl(m,l,(0,z.m9)(u));return new _v(_,y=>pm(m,y))})).apply(this,arguments)}function rs(){return(rs=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);yield Sl(!1,m,"phone");const _=yield Bl(m.auth,l,(0,z.m9)(u));return new _v(_,y=>uu(m,y))})).apply(this,arguments)}function zi(){return(zi=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f),_=yield Bl(m.auth,l,(0,z.m9)(u));return new _v(_,y=>gm(m,y))})).apply(this,arguments)}function Bl(f,l,u){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,I.Z)(function*(f,l,u){var m;const _=yield u.verify();try{let y;if(J("string"==typeof _,f,"argument-error"),J(u.type===BE,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const T=y.session;if("phoneNumber"in y)return J("enroll"===T.type,f,"internal-error"),(yield function lv(f,l){return ee(f,"POST","/v2/accounts/mfaEnrollment:start",ie(f,l))}(f,{idToken:T.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{J("signin"===T.type,f,"internal-error");const k=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return J(k,f,"missing-multi-factor-info"),(yield function LE(f,l){return ee(f,"POST","/v2/accounts/mfaSignIn:start",ie(f,l))}(f,{mfaPendingCredential:T.credential,mfaEnrollmentId:k,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:T}=yield function yM(f,l){return lm.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return T}}finally{u._reset()}}),Sm.apply(this,arguments)}function Eu(){return(Eu=(0,I.Z)(function*(f,l){yield at((0,z.m9)(f),l)})).apply(this,arguments)}let oc=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=Vt(u)}verifyPhoneNumber(u,m){return Bl(this.auth,u,(0,z.m9)(m))}static credential(u,m){return Qa._fromVerification(u,m)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:m,temporaryProof:_}=u;return m&&_?Qa._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function ma(f,l){return l?se(l):(J(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ul extends es{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return wr(l,this._buildIdpRequest())}_linkToIdToken(l,u){return wr(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return wr(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function zE(f){return Zt(f.auth,new Ul(f),f.bypassAuthState)}function Ao(f){const{auth:l,user:u}=f;return J(u,l,"internal-error"),mm(u,new Ul(f),f.bypassAuthState)}function yv(f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,I.Z)(function*(f){const{auth:l,user:u}=f;return J(u,l,"internal-error"),at(u,new Ul(f),f.bypassAuthState)})).apply(this,arguments)}class Qt{constructor(l,u,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,I.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,I.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:T,error:k,type:W}=l;if(k)return void u.reject(k);const fe={auth:u.auth,requestUri:m,sessionId:_,tenantId:T||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(W)(fe))}catch(we){u.reject(we)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return zE;case"linkViaPopup":case"linkViaRedirect":return yv;case"reauthViaPopup":case"reauthViaRedirect":return Ao;default:Ct(this.auth,"internal-error")}}resolve(l){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Am=new Br(2e3,1e4);function _i(){return(_i=(0,I.Z)(function*(f,l,u){const m=Vt(f);dt(f,l,ts);const _=ma(m,u);return new km(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function pa(){return(pa=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,ts);const _=ma(m.auth,u);return new km(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function Hi(){return(Hi=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,ts);const _=ma(m.auth,u);return new km(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let km=(()=>{class f extends Qt{constructor(u,m,_,y,T){super(u,m,y,T),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,I.Z)(function*(){const m=yield u.execute();return J(m,u.auth,"internal-error"),m})()}onExecution(){var u=this;return(0,I.Z)(function*(){xn(1===u.filter.length,"Popup operations only handle one event");const m=Kt();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],m),u.authWindow.associatedEvent=m,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(Nt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,Am.get())};u()}}return f.currentPopupAction=null,f})();const Mm="pendingRedirect",zl=new Map;class ko extends Qt{constructor(l,u,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,I.Z)(function*(){let m=zl.get(u.auth._key());if(!m){try{const y=(yield function bv(f,l){return Rm.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}zl.set(u.auth._key(),m)}return u.bypassAuthState||zl.set(u.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,m=this;return(0,I.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,u().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Rm(){return(Rm=(0,I.Z)(function*(f,l){const u=ze(l),m=Du(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(u));return yield m._remove(u),_})).apply(this,arguments)}function xu(f,l){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,I.Z)(function*(f,l){return Du(f)._set(ze(l),"true")})).apply(this,arguments)}function ac(f,l){zl.set(f._key(),l)}function Du(f){return se(f._redirectPersistence)}function ze(f){return pe(Mm,f.config.apiKey,f.name)}function wv(f,l,u){return function BM(f,l,u){return Pm.apply(this,arguments)}(f,l,u)}function Pm(){return(Pm=(0,I.Z)(function*(f,l,u){const m=Vt(f);dt(f,l,ts),yield m._initializationPromise;const _=ma(m,u);return yield xu(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function $E(f,l,u){return function qE(f,l,u){return Su.apply(this,arguments)}(f,l,u)}function Su(){return(Su=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,ts),yield m.auth._initializationPromise;const _=ma(m.auth,u);yield xu(_,m.auth);const y=yield mt(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function cc(f,l,u){return function GE(f,l,u){return Om.apply(this,arguments)}(f,l,u)}function Om(){return(Om=(0,I.Z)(function*(f,l,u){const m=(0,z.m9)(f);dt(m.auth,l,ts),yield m.auth._initializationPromise;const _=ma(m.auth,u);yield Sl(!1,m,l.providerId),yield xu(_,m.auth);const y=yield mt(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function Nm(){return(Nm=(0,I.Z)(function*(f,l){return yield Vt(f)._initializationPromise,Au(f,l,!1)})).apply(this,arguments)}function Au(f,l){return q.apply(this,arguments)}function q(){return(q=(0,I.Z)(function*(f,l,u=!1){const m=Vt(f),_=ma(m,l),T=yield new ko(m,_,u).execute();return T&&!u&&(delete T.user._redirectEventId,yield m._persistUserIfCurrent(T.user),yield m._setRedirectUser(null,l)),T})).apply(this,arguments)}function mt(f){return wt.apply(this,arguments)}function wt(){return(wt=(0,I.Z)(function*(f){const l=Kt(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class jt{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(u=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Mo(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lc(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var m;if(l.error&&!lc(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";u.onError(Nt(this.auth,_))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const m=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fm(l))}saveEventToCache(l){this.cachedEventUids.add(Fm(l)),this.lastProcessedEventTime=Date.now()}}function Fm(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function lc({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function ku(f){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,I.Z)(function*(f,l={}){return ee(f,"GET","/v1/projects",l)})).apply(this,arguments)}const ZE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UM=/^https?/;function vi(){return(vi=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield ku(f);for(const u of l)try{if(os(u))return}catch{}Ct(f,"unauthorized-domain")})).apply(this,arguments)}function os(f){const l=Vr(),{protocol:u,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const T=new URL(f);return""===T.hostname&&""===m?"chrome-extension:"===u&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&T.hostname===m}if(!UM.test(u))return!1;if(ZE.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const Iv=new Br(3e4,6e4);function oo(){const f=sn().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let Mu=null;const KE=new Br(5e3,15e3),QE="__/auth/iframe",Lm="emulator/auth/iframe",Vm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bm(f){const l=f.config;J(l.authDomain,f,"auth-domain-config-required");const u=l.emulator?V(l,Lm):`https://${f.config.authDomain}/${QE}`,m={apiKey:l.apiKey,appName:f.name,v:He.SDK_VERSION},_=Cv.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${u}?${(0,z.xO)(m).slice(1)}`}function Ru(){return Ru=(0,I.Z)(function*(f){const l=yield function xv(f){return Mu=Mu||function ss(f){return new Promise((l,u)=>{var m,_,y;function T(){oo(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{oo(),u(Nt(f,"network-request-failed"))},timeout:Iv.get()})}if(null!==(_=null===(m=sn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=sn().gapi)||void 0===y||!y.load){const k=tm("iframefcb");return sn()[k]=()=>{gapi.load?T():u(Nt(f,"network-request-failed"))},em(`https://apis.google.com/js/api.js?onload=${k}`).catch(W=>u(W))}T()}}).catch(l=>{throw Mu=null,l})}(f),Mu}(f),u=sn().gapi;return J(u,f,"internal-error"),l.open({where:document.body,url:Bm(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vm,dontclear:!0},m=>new Promise(function(){var _=(0,I.Z)(function*(y,T){yield m.restyle({setHideOnLeave:!1});const k=Nt(f,"network-request-failed"),W=sn().setTimeout(()=>{T(k)},KE.get());function fe(){sn().clearTimeout(W),y(m)}m.ping(fe).then(fe,()=>{T(k)})});return function(y,T){return _.apply(this,arguments)}}()))}),Ru.apply(this,arguments)}const Um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pu{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ga="__/auth/handler",an="emulator/auth/handler",kv=encodeURIComponent("fac");function jm(f,l,u,m,_,y){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,I.Z)(function*(f,l,u,m,_,y){J(f.config.authDomain,f,"auth-domain-config-required"),J(f.config.apiKey,f,"invalid-api-key");const T={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:m,v:He.SDK_VERSION,eventId:_};if(l instanceof ts){l.setDefaultLanguage(f.languageCode),T.providerId=l.providerId||"",(0,z.xb)(l.getCustomParameters())||(T.customParameters=JSON.stringify(l.getCustomParameters()));for(const[we,ve]of Object.entries(y||{}))T[we]=ve}if(l instanceof xl){const we=l.getScopes().filter(ve=>""!==ve);we.length>0&&(T.scopes=we.join(","))}f.tenantId&&(T.tid=f.tenantId);const k=T;for(const we of Object.keys(k))void 0===k[we]&&delete k[we];const W=yield f._getAppCheckToken(),fe=W?`#${kv}=${encodeURIComponent(W)}`:"";return`${function JE({config:f}){return f.emulator?V(f,an):`https://${f.authDomain}/${ga}`}(f)}?${(0,z.xO)(k).slice(1)}${fe}`})).apply(this,arguments)}const Nu="webStorageSupport",$l=class Mv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jr,this._completeRedirectFn=Au,this._overrideRedirectResult=ac}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){var T;xn(null===(T=y.eventManagers[l._key()])||void 0===T?void 0:T.manager,"_initialize() not called before _openPopup()");const k=yield jm(l,u,m,Vr(),_);return function XE(f,l,u,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),T=Math.max((window.screen.availWidth-m)/2,0).toString();let k="";const W=Object.assign(Object.assign({},Um),{width:m.toString(),height:_.toString(),top:y,left:T}),fe=(0,z.z$)().toLowerCase();u&&(k=xo(fe)?"_blank":u),gt(fe)&&(l=l||"http://localhost",W.scrollbars="yes");const we=Object.entries(W).reduce((fn,[so,Qu])=>`${fn}${so}=${Qu},`,"");if(function Se(f=(0,z.z$)()){var l;return oe(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(fe)&&"_self"!==k)return function $i(f,l){const u=document.createElement("a");u.href=f,u.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(m)}(l||"",k),new Pu(null);const ve=window.open(l||"",k,we);J(ve,f,"popup-blocked");try{ve.focus()}catch{}return new Pu(ve)}(l,k,Kt())})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y._originValidation(l),function Do(f){sn().location.href=f}(yield jm(l,u,m,Vr(),_)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:_,promise:y}=this.eventManagers[u];return _?Promise.resolve(_):(xn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[u]={promise:m},m.catch(()=>{delete this.eventManagers[u]}),m}initAndGetManager(l){var u=this;return(0,I.Z)(function*(){const m=yield function YE(f){return Ru.apply(this,arguments)}(l),_=new jt(l);return m.register("authEvent",y=>(J(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:_},u.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(Nu,{type:Nu},_=>{var y;const T=null===(y=_?.[0])||void 0===y?void 0:y[Nu];void 0!==T&&u(!!T),Ct(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Ev(f){return vi.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return Lt()||Ai()||oe()}};class Rs{constructor(l){this.factorId=l}_process(l,u,m){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,m);case"signin":return this._finalizeSignIn(l,u.credential);default:return In("unexpected MultiFactorSessionType")}}}class zm extends Rs{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new zm(l)}_finalizeEnroll(l,u,m){return function vu(f,l){return ee(f,"POST","/v2/accounts/mfaEnrollment:finalize",ie(f,l))}(l,{idToken:u,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function Cm(f,l){return ee(f,"POST","/v2/accounts/mfaSignIn:finalize",ie(f,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fu=(()=>{class f{constructor(){}static assertion(u){return zm._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var $m="@firebase/auth";class uc{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,I.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hc(){return window}(0,z.Pz)("authIdTokenMaxAge"),function eI(f){(0,He._registerComponent)(new Rn.wA("auth",(l,{options:u})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:T,authDomain:k}=m.options;J(T&&!T.includes(":"),"invalid-api-key",{appName:m.name});const W={apiKey:T,authDomain:k,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:On(f)},fe=new pi(m,_,y,W);return function vE(f,l){const u=l?.persistence||[],m=(Array.isArray(u)?u:[u]).map(se);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(fe,u),fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,m)=>{l.getProvider("auth-internal").initialize()})),(0,He._registerComponent)(new Rn.wA("auth-internal",l=>{const u=Vt(l.getProvider("auth").getImmediate());return new uc(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,He.registerVersion)($m,"1.3.2",function Gl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,He.registerVersion)($m,"1.3.2","esm2017")}("Browser");function Wm(){return Wm=(0,I.Z)(function*(f,l,u){var m;const{BuildInfo:_}=hc();xn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function iI(f){return zr.apply(this,arguments)}(l.sessionId),T={};return oe()?T.ibi=_.packageName:aa()?T.apn=_.packageName:Ct(f,"operation-not-supported-in-this-environment"),_.displayName&&(T.appDisplayName=_.displayName),T.sessionId=y,jm(f,u,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,T)}),Wm.apply(this,arguments)}function Kl(){return(Kl=(0,I.Z)(function*(f){const{BuildInfo:l}=hc(),u={};oe()?u.iosBundleId=l.packageName:aa()?u.androidPackageName=l.packageName:Ct(f,"operation-not-supported-in-this-environment"),yield ku(f,u)})).apply(this,arguments)}function Bu(){return(Bu=(0,I.Z)(function*(f,l,u){const{cordova:m}=hc();let _=()=>{};try{yield new Promise((y,T)=>{let k=null;function W(){var ve;y();const fn=null===(ve=m.plugins.browsertab)||void 0===ve?void 0:ve.close;"function"==typeof fn&&fn(),"function"==typeof u?.close&&u.close()}function fe(){k||(k=window.setTimeout(()=>{T(Nt(f,"redirect-cancelled-by-user"))},2e3))}function we(){"visible"===document?.visibilityState&&fe()}l.addPassiveListener(W),document.addEventListener("resume",fe,!1),aa()&&document.addEventListener("visibilitychange",we,!1),_=()=>{l.removePassiveListener(W),document.removeEventListener("resume",fe,!1),document.removeEventListener("visibilitychange",we,!1),k&&window.clearTimeout(k)}})}finally{_()}})).apply(this,arguments)}function zr(){return(zr=(0,I.Z)(function*(f){const l=function rI(f){if(xn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),u=new Uint8Array(l);for(let m=0;m<f.length;m++)u[m]=f.charCodeAt(m);return u}(f),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Zm extends jt{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,I.Z)(function*(){yield l.initPromise})()}}function zu(f){return Km.apply(this,arguments)}function Km(){return(Km=(0,I.Z)(function*(f){const l=yield Hu()._get($u(f));return l&&(yield Hu()._remove($u(f))),l})).apply(this,arguments)}function Lv(){const f=[];for(let u=0;u<20;u++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function Hu(){return se(is)}function $u(f){return pe("authEvent",f.config.apiKey,f.name)}function Ro(f){if(!f?.includes("?"))return{};const[l,...u]=f.split("?");return(0,z.zd)(u.join("?"))}const Bv=class Vv{constructor(){this._redirectPersistence=jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Au,this._overrideRedirectResult=ac}_initialize(l){var u=this;return(0,I.Z)(function*(){const m=l._key();let _=u.eventManagers.get(m);return _||(_=new Zm(l),u.eventManagers.set(m,_),u.attachCallbackListeners(l,_)),_})()}_openPopup(l){Ct(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){!function Ov(f){var l,u,m,_,y,T,k,W,fe,we;const ve=hc();J("function"==typeof(null===(l=ve?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(u=ve?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(y=null===(_=null===(m=ve?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(W=null===(k=null===(T=ve?.cordova)||void 0===T?void 0:T.plugins)||void 0===k?void 0:k.browsertab)||void 0===W?void 0:W.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(we=null===(fe=ve?.cordova)||void 0===fe?void 0:fe.InAppBrowser)||void 0===we?void 0:we.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const T=yield y._initialize(l);yield T.initialized(),T.resetRedirect(),function Tu(){zl.clear()}(),yield y._originValidation(l);const k=function Nv(f,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:Lv(),postBody:null,tenantId:f.tenantId,error:Nt(f,"no-auth-event")}}(l,m,_);yield function ju(f,l){return Hu()._set($u(f),l)}(l,k);const W=yield function Wl(f,l,u){return Wm.apply(this,arguments)}(l,k,u),fe=yield function Vu(f){const{cordova:l}=hc();return new Promise(u=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function Ae(f=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),u(_)})})}(W);return function jM(f,l,u){return Bu.apply(this,arguments)}(l,T,fe)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Zl(f){return Kl.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=hc(),T=setTimeout((0,I.Z)(function*(){yield zu(l),u.onEvent(_a())}),500),k=function(){var we=(0,I.Z)(function*(ve){clearTimeout(T);const fn=yield zu(l);let so=null;fn&&ve?.url&&(so=function Fv(f,l){var u,m;const _=function qu(f){const l=Ro(f),u=l.link?decodeURIComponent(l.link):void 0,m=Ro(u).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Ro(_).link||_||m||u||f}(l);if(_.includes("/__/auth/callback")){const y=Ro(_),T=y.firebaseError?function oI(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,k=null===(m=null===(u=T?.code)||void 0===u?void 0:u.split("auth/"))||void 0===m?void 0:m[1],W=k?Nt(k):null;return W?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:W,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(fn,ve.url)),u.onEvent(so||_a())});return function(fn){return we.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,k);const W=_,fe=`${y.packageName.toLowerCase()}://`;hc().handleOpenURL=function(){var we=(0,I.Z)(function*(ve){if(ve.toLowerCase().startsWith(fe)&&k({url:ve}),"function"==typeof W)try{W(ve)}catch(fn){console.error(fn)}});return function(ve){return we.apply(this,arguments)}}()}};function _a(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Nt("no-auth-event")}}function va(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Qm(f=(0,z.z$)()){return!("file:"!==va()&&"ionic:"!==va()&&"capacitor:"!==va()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ym(){try{const f=self.localStorage,l=Kt();if(f)return f.setItem(l,"1"),f.removeItem(l),!function gc(f=(0,z.z$)()){return function mc(){return(0,z.w1)()&&11===document?.documentMode}()||function pc(f=(0,z.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,z.hl)()}catch{return Ql()&&(0,z.hl)()}return!1}function Ql(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ps(){return(function cI(){return"http:"===va()||"https:"===va()}()||(0,z.ru)()||Qm())&&!function Gu(){return(0,z.b$)()||(0,z.UG)()}()&&Ym()&&!Ql()}function lI(){return Qm()&&typeof document<"u"}function Uv(){return(Uv=(0,I.Z)(function*(){return!!lI()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const Hr={LOCAL:"local",NONE:"none",SESSION:"session"},Wu=J,uI="persistence";function Os(f){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,I.Z)(function*(f){yield f._initializationPromise;const l=Ln(),u=pe(uI,f.config.apiKey,f.name);l&&l.setItem(u,f._getPersistence())})).apply(this,arguments)}function Ln(){var f;try{return(null===(f=function zM(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const fI=J;class $r{constructor(){this.browserResolver=se($l),this.cordovaResolver=se(Bv),this.underlyingResolver=null,this._redirectPersistence=jr,this._completeRedirectFn=Au,this._overrideRedirectResult=ac}_initialize(l){var u=this;return(0,I.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,u,m,_)})()}_openRedirect(l,u,m,_){var y=this;return(0,I.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,u,m,_)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return lI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fI(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,I.Z)(function*(){if(l.underlyingResolver)return;const u=yield function dI(){return Uv.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function jv(f){return f.unwrap()}function _c(f){return Yl(f)}function Yl(f){const{_tokenResponse:l}=f instanceof z.ZR?f.customData:f;if(!l)return null;if(!(f instanceof z.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return oc.credentialFromResult(f);const u=l.providerId;if(!u||u===Pt.PASSWORD)return null;let m;switch(u){case Pt.GOOGLE:m=Ui;break;case Pt.FACEBOOK:m=wE;break;case Pt.GITHUB:m=Ve;break;case Pt.TWITTER:m=ce;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:k,nonce:W}=l;return y||T||_||k?k?u.startsWith("saml.")?Cl._create(u,k):rt._fromParams({providerId:u,signInMethod:u,pendingToken:k,idToken:_,accessToken:y}):new Ya(u).credential({idToken:_,accessToken:y,rawNonce:W}):null}return f instanceof z.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function ri(f,l){return l.catch(u=>{throw u instanceof z.ZR&&function zv(f,l){var u;const m=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new $v(f,function cv(f,l){var u;const m=(0,z.m9)(f),_=l;return J(l.customData.operationType,m,"argument-error"),J(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,m,"argument-error"),ni._fromError(m,_)}(f,l));else if(m){const _=Yl(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:_c(u),additionalUserInfo:PE(u),user:Ns.getOrCreate(_)}})}function Xl(f,l){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,I.Z)(function*(f,l){const u=yield l;return{verificationId:u.verificationId,confirm:m=>ri(f,u.confirm(m))}})).apply(this,arguments)}class $v{constructor(l,u){this.resolver=u,this.auth=function or(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return ri(jv(this.auth),this.resolver.resolveSignIn(l))}}class Ns{constructor(l){this._delegate=l,this.multiFactor=function hn(f){const l=(0,z.m9)(f);return Ue.has(l)||Ue.set(l,de._fromUser(l)),Ue.get(l)}(l)}static getOrCreate(l){return Ns.USER_MAP.has(l)||Ns.USER_MAP.set(l,new Ns(l)),Ns.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,I.Z)(function*(){return ri(u.auth,uu(u._delegate,l))})()}linkWithPhoneNumber(l,u){var m=this;return(0,I.Z)(function*(){return Xl(m.auth,function VM(f,l,u){return rs.apply(this,arguments)}(m._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,I.Z)(function*(){return ri(u.auth,function sc(f,l,u){return Hi.apply(this,arguments)}(u._delegate,l,$r))})()}linkWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield Os(Vt(u.auth)),cc(u._delegate,l,$r)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,I.Z)(function*(){return ri(u.auth,gm(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Xl(this.auth,function UE(f,l,u){return zi.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return ri(this.auth,function HE(f,l,u){return pa.apply(this,arguments)}(this._delegate,l,$r))}reauthenticateWithRedirect(l){var u=this;return(0,I.Z)(function*(){return yield Os(Vt(u.auth)),$E(u._delegate,l,$r)})()}sendEmailVerification(l){return function tv(f,l){return Ol.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,I.Z)(function*(){return yield function K_(f,l){return fm.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function rv(f,l){return ov((0,z.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function SE(f,l){return ov((0,z.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function jE(f,l){return Eu.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function iv(f,l){return Em.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function nv(f,l,u){return gu.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ns.USER_MAP=new WeakMap;const yi=J;let Zu=(()=>{class f{constructor(u,m){if(this.app=u,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;yi(_,"invalid-api-key",{appName:u.name}),yi(_,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?$r:void 0;this._delegate=m.initialize({options:{persistence:$M(_,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(Hn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ns.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,m){!function $_(f,l,u){const m=Vt(f);J(m._canInitEmulator,m,"emulator-config-failed"),J(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!u?.disableWarnings,y=qt(l),{host:T,port:k}=function _l(f){const l=qt(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!u)return{host:"",port:null};const m=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:er(m.substr(y.length+1))}}{const[y,T]=m.split(":");return{host:y,port:er(T)}}}(l);m.config.emulator={url:`${y}//${T}${null===k?"":`:${k}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:T,port:k,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function xe(){function f(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,u,m)}applyActionCode(u){return function Ja(f,l){return vm.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return ns(this._delegate,u)}confirmPasswordReset(u,m){return function CE(f,l,u){return fu.apply(this,arguments)}(this._delegate,u,m)}createUserWithEmailAndPassword(u,m){var _=this;return(0,I.Z)(function*(){return ri(_._delegate,function le(f,l,u){return ec.apply(this,arguments)}(_._delegate,u,m))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function Co(f,l){return bt.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function TE(f,l){const u=lu.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,I.Z)(function*(){yi(Ps(),u._delegate,"operation-not-supported-in-this-environment");const m=yield function WE(f,l){return Nm.apply(this,arguments)}(u._delegate,$r);return m?ri(u._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function fc(f,l){Vt(f)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,m,_){const{next:y,error:T,complete:k}=ya(u,m,_);return this._delegate.onAuthStateChanged(y,T,k)}onIdTokenChanged(u,m,_){const{next:y,error:T,complete:k}=ya(u,m,_);return this._delegate.onIdTokenChanged(y,T,k)}sendSignInLinkToEmail(u,m){return function Pl(f,l,u){return wm.apply(this,arguments)}(this._delegate,u,m)}sendPasswordResetEmail(u,m){return function xE(f,l,u){return _m.apply(this,arguments)}(this._delegate,u,m||void 0)}setPersistence(u){var m=this;return(0,I.Z)(function*(){let _;switch(function HM(f,l){Wu(Object.values(Hr).includes(l),f,"invalid-persistence-type"),(0,z.b$)()?Wu(l!==Hr.SESSION,f,"unsupported-persistence-type"):(0,z.UG)()?Wu(l===Hr.NONE,f,"unsupported-persistence-type"):Ql()?Wu(l===Hr.NONE||l===Hr.LOCAL&&(0,z.hl)(),f,"unsupported-persistence-type"):Wu(l===Hr.NONE||Ym(),f,"unsupported-persistence-type")}(m._delegate,u),u){case Hr.SESSION:_=jr;break;case Hr.LOCAL:_=(yield se(rc)._isAvailable())?rc:is;break;case Hr.NONE:_=Mt;break;default:return Ct("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return ri(this._delegate,function Z_(f){return hm.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return ri(this._delegate,pm(this._delegate,u))}signInWithCustomToken(u){return ri(this._delegate,function xM(f,l){return X_.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,m){return ri(this._delegate,function bm(f,l,u){return pm((0,z.m9)(f),G_.credential(l,u)).catch(function(){var m=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rl(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,u,m))}signInWithEmailLink(u,m){return ri(this._delegate,function DE(f,l,u){return io.apply(this,arguments)}(this._delegate,u,m))}signInWithPhoneNumber(u,m){return Xl(this._delegate,function LM(f,l,u){return vv.apply(this,arguments)}(this._delegate,u,m))}signInWithPopup(u){var m=this;return(0,I.Z)(function*(){return yi(Ps(),m._delegate,"operation-not-supported-in-this-environment"),ri(m._delegate,function jl(f,l,u){return _i.apply(this,arguments)}(m._delegate,u,$r))})()}signInWithRedirect(u){var m=this;return(0,I.Z)(function*(){return yi(Ps(),m._delegate,"operation-not-supported-in-this-environment"),yield Os(m._delegate),wv(m._delegate,u,$r)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function R(f,l){return mu.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Hr,f})();function ya(f,l,u){let m=f;"function"!=typeof f&&({next:m,error:l,complete:u}=f);const _=m;return{next:T=>_(T&&Ns.getOrCreate(T)),error:l,complete:u}}function $M(f,l){const u=function hI(f,l){const u=Ln();if(!u)return[];const m=pe(uI,f,l);switch(u.getItem(m)){case Hr.NONE:return[Mt];case Hr.LOCAL:return[rc,jr];case Hr.SESSION:return[jr];default:return[]}}(f,l);if(typeof self<"u"&&!u.includes(rc)&&u.push(rc),typeof window<"u")for(const m of[is,jr])u.includes(m)||u.push(m);return u.includes(Mt)||u.push(Mt),u}class Ku{constructor(){this.providerId="phone",this._delegate=new oc(jv(Ce.Z.auth()))}static credential(l,u){return oc.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Ku.PHONE_SIGN_IN_METHOD=oc.PHONE_SIGN_IN_METHOD,Ku.PROVIDER_ID=oc.PROVIDER_ID;const mI=J;class pI{constructor(l,u,m=Ce.Z.app()){var _;mI(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new pv(m.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _I(f){f.INTERNAL.registerComponent(new Rn.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new Zu(u,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:G_,FacebookAuthProvider:wE,GithubAuthProvider:Ve,GoogleAuthProvider:Ui,OAuthProvider:Ya,SAMLAuthProvider:um,PhoneAuthProvider:Ku,PhoneMultiFactorGenerator:Fu,RecaptchaVerifier:pI,TwitterAuthProvider:ce,Auth:Zu,AuthCredential:es,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.8")}(Ce.Z)},861:($o,hi,Je)=>{function I(z,He,En,et,Rn,Ci,Pt){try{var te=z[Ci](Pt),ae=te.value}catch(Te){return void En(Te)}te.done?He(ae):Promise.resolve(ae).then(et,Rn)}function Ce(z){return function(){var He=this,En=arguments;return new Promise(function(et,Rn){var Ci=z.apply(He,En);function Pt(ae){I(Ci,et,Rn,Pt,te,"next",ae)}function te(ae){I(Ci,et,Rn,Pt,te,"throw",ae)}Pt(void 0)})}}Je.d(hi,{Z:()=>Ce})},582:($o,hi,Je)=>{function He(V,j){var Q={};for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&j.indexOf(Z)<0&&(Q[Z]=V[Z]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(Z=Object.getOwnPropertySymbols(V);ie<Z.length;ie++)j.indexOf(Z[ie])<0&&Object.prototype.propertyIsEnumerable.call(V,Z[ie])&&(Q[Z[ie]]=V[Z[ie]])}return Q}function Te(V,j,Q,Z){return new(Q||(Q=Promise))(function(ee,Fe){function ft(Tt){try{Re(Z.next(Tt))}catch(kn){Fe(kn)}}function Pn(Tt){try{Re(Z.throw(Tt))}catch(kn){Fe(kn)}}function Re(Tt){Tt.done?ee(Tt.value):function ie(ee){return ee instanceof Q?ee:new Q(function(Fe){Fe(ee)})}(Tt.value).then(ft,Pn)}Re((Z=Z.apply(V,j||[])).next())})}function on(V){return this instanceof on?(this.v=V,this):new on(V)}function Ct(V,j,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,Z=Q.apply(V,j||[]),ee=[];return ie={},Fe("next"),Fe("throw"),Fe("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function Fe(Pe){Z[Pe]&&(ie[Pe]=function(mi){return new Promise(function(qn,ei){ee.push([Pe,mi,qn,ei])>1||ft(Pe,mi)})})}function ft(Pe,mi){try{!function Pn(Pe){Pe.value instanceof on?Promise.resolve(Pe.value.v).then(Re,Tt):kn(ee[0][2],Pe)}(Z[Pe](mi))}catch(qn){kn(ee[0][3],qn)}}function Re(Pe){ft("next",Pe)}function Tt(Pe){ft("throw",Pe)}function kn(Pe,mi){Pe(mi),ee.shift(),ee.length&&ft(ee[0][0],ee[0][1])}}function Vi(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,j=V[Symbol.asyncIterator];return j?j.call(V):(V=function Ot(V){var j="function"==typeof Symbol&&Symbol.iterator,Q=j&&V[j],Z=0;if(Q)return Q.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&Z>=V.length&&(V=void 0),{value:V&&V[Z++],done:!V}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),Q={},Z("next"),Z("throw"),Z("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function Z(ee){Q[ee]=V[ee]&&function(Fe){return new Promise(function(ft,Pn){!function ie(ee,Fe,ft,Pn){Promise.resolve(Pn).then(function(Re){ee({value:Re,done:ft})},Fe)}(ft,Pn,(Fe=V[ee](Fe)).done,Fe.value)})}}}Je.d(hi,{FC:()=>Ct,KL:()=>Vi,_T:()=>He,mG:()=>Te,qq:()=>on}),"function"==typeof SuppressedError&&SuppressedError}},$o=>{$o($o.s=923)}]);